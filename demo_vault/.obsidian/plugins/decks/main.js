/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/sql.js/dist/sql-wasm.js
var require_sql_wasm = __commonJS({
  "node_modules/sql.js/dist/sql-wasm.js"(exports, module2) {
    var initSqlJsPromise = void 0;
    var initSqlJs2 = function(moduleConfig) {
      if (initSqlJsPromise) {
        return initSqlJsPromise;
      }
      initSqlJsPromise = new Promise(function(resolveModule, reject) {
        var Module = typeof moduleConfig !== "undefined" ? moduleConfig : {};
        var originalOnAbortFunction = Module["onAbort"];
        Module["onAbort"] = function(errorThatCausedAbort) {
          reject(new Error(errorThatCausedAbort));
          if (originalOnAbortFunction) {
            originalOnAbortFunction(errorThatCausedAbort);
          }
        };
        Module["postRun"] = Module["postRun"] || [];
        Module["postRun"].push(function() {
          resolveModule(Module);
        });
        module2 = void 0;
        var f;
        f || (f = typeof Module != "undefined" ? Module : {});
        var aa = "object" == typeof window, ba = "undefined" != typeof WorkerGlobalScope, ca = "object" == typeof process && "object" == typeof process.versions && "string" == typeof process.versions.node && "renderer" != process.type;
        "use strict";
        f.onRuntimeInitialized = function() {
          function a(g, l) {
            switch (typeof l) {
              case "boolean":
                dc(g, l ? 1 : 0);
                break;
              case "number":
                ec(g, l);
                break;
              case "string":
                fc(g, l, -1, -1);
                break;
              case "object":
                if (null === l)
                  lb(g);
                else if (null != l.length) {
                  var n = da(l, ea);
                  gc(g, n, l.length, -1);
                  fa(n);
                } else
                  va(g, "Wrong API use : tried to return a value of an unknown type (" + l + ").", -1);
                break;
              default:
                lb(g);
            }
          }
          function b(g, l) {
            for (var n = [], r = 0; r < g; r += 1) {
              var t = m(l + 4 * r, "i32"), y = hc(t);
              if (1 === y || 2 === y)
                t = ic(t);
              else if (3 === y)
                t = jc(t);
              else if (4 === y) {
                y = t;
                t = kc(y);
                y = lc(y);
                for (var L = new Uint8Array(t), J = 0; J < t; J += 1)
                  L[J] = p[y + J];
                t = L;
              } else
                t = null;
              n.push(t);
            }
            return n;
          }
          function c(g, l) {
            this.Qa = g;
            this.db = l;
            this.Oa = 1;
            this.lb = [];
          }
          function d(g, l) {
            this.db = l;
            l = ha(g) + 1;
            this.eb = ia(l);
            if (null === this.eb)
              throw Error("Unable to allocate memory for the SQL string");
            u(g, x, this.eb, l);
            this.kb = this.eb;
            this.Za = this.pb = null;
          }
          function e(g) {
            this.filename = "dbfile_" + (4294967295 * Math.random() >>> 0);
            if (null != g) {
              var l = this.filename, n = "/", r = l;
              n && (n = "string" == typeof n ? n : ja(n), r = l ? ka(n + "/" + l) : n);
              l = la(true, true);
              r = ma(r, l);
              if (g) {
                if ("string" == typeof g) {
                  n = Array(g.length);
                  for (var t = 0, y = g.length; t < y; ++t)
                    n[t] = g.charCodeAt(t);
                  g = n;
                }
                na(r, l | 146);
                n = oa(r, 577);
                pa(n, g, 0, g.length, 0);
                qa(n);
                na(r, l);
              }
            }
            this.handleError(q(this.filename, h));
            this.db = m(h, "i32");
            ob(this.db);
            this.fb = {};
            this.Sa = {};
          }
          var h = z(4), k = f.cwrap, q = k("sqlite3_open", "number", ["string", "number"]), w = k("sqlite3_close_v2", "number", ["number"]), v = k("sqlite3_exec", "number", ["number", "string", "number", "number", "number"]), C = k("sqlite3_changes", "number", ["number"]), G = k("sqlite3_prepare_v2", "number", ["number", "string", "number", "number", "number"]), pb = k("sqlite3_sql", "string", ["number"]), nc = k("sqlite3_normalized_sql", "string", ["number"]), qb = k("sqlite3_prepare_v2", "number", ["number", "number", "number", "number", "number"]), oc = k("sqlite3_bind_text", "number", ["number", "number", "number", "number", "number"]), rb = k("sqlite3_bind_blob", "number", ["number", "number", "number", "number", "number"]), pc = k("sqlite3_bind_double", "number", ["number", "number", "number"]), qc = k(
            "sqlite3_bind_int",
            "number",
            ["number", "number", "number"]
          ), rc = k("sqlite3_bind_parameter_index", "number", ["number", "string"]), sc = k("sqlite3_step", "number", ["number"]), tc = k("sqlite3_errmsg", "string", ["number"]), uc = k("sqlite3_column_count", "number", ["number"]), vc = k("sqlite3_data_count", "number", ["number"]), wc = k("sqlite3_column_double", "number", ["number", "number"]), sb = k("sqlite3_column_text", "string", ["number", "number"]), xc = k("sqlite3_column_blob", "number", ["number", "number"]), yc = k("sqlite3_column_bytes", "number", [
            "number",
            "number"
          ]), zc = k("sqlite3_column_type", "number", ["number", "number"]), Ac = k("sqlite3_column_name", "string", ["number", "number"]), Bc = k("sqlite3_reset", "number", ["number"]), Cc = k("sqlite3_clear_bindings", "number", ["number"]), Dc = k("sqlite3_finalize", "number", ["number"]), tb = k("sqlite3_create_function_v2", "number", "number string number number number number number number number".split(" ")), hc = k("sqlite3_value_type", "number", ["number"]), kc = k("sqlite3_value_bytes", "number", ["number"]), jc = k(
            "sqlite3_value_text",
            "string",
            ["number"]
          ), lc = k("sqlite3_value_blob", "number", ["number"]), ic = k("sqlite3_value_double", "number", ["number"]), ec = k("sqlite3_result_double", "", ["number", "number"]), lb = k("sqlite3_result_null", "", ["number"]), fc = k("sqlite3_result_text", "", ["number", "string", "number", "number"]), gc = k("sqlite3_result_blob", "", ["number", "number", "number", "number"]), dc = k("sqlite3_result_int", "", ["number", "number"]), va = k("sqlite3_result_error", "", ["number", "string", "number"]), ub = k(
            "sqlite3_aggregate_context",
            "number",
            ["number", "number"]
          ), ob = k("RegisterExtensionFunctions", "number", ["number"]), vb = k("sqlite3_update_hook", "number", ["number", "number", "number"]);
          c.prototype.bind = function(g) {
            if (!this.Qa)
              throw "Statement closed";
            this.reset();
            return Array.isArray(g) ? this.Cb(g) : null != g && "object" === typeof g ? this.Db(g) : true;
          };
          c.prototype.step = function() {
            if (!this.Qa)
              throw "Statement closed";
            this.Oa = 1;
            var g = sc(this.Qa);
            switch (g) {
              case 100:
                return true;
              case 101:
                return false;
              default:
                throw this.db.handleError(g);
            }
          };
          c.prototype.wb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return wc(this.Qa, g);
          };
          c.prototype.Gb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            g = sb(this.Qa, g);
            if ("function" !== typeof BigInt)
              throw Error("BigInt is not supported");
            return BigInt(g);
          };
          c.prototype.Hb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return sb(this.Qa, g);
          };
          c.prototype.getBlob = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            var l = yc(this.Qa, g);
            g = xc(this.Qa, g);
            for (var n = new Uint8Array(l), r = 0; r < l; r += 1)
              n[r] = p[g + r];
            return n;
          };
          c.prototype.get = function(g, l) {
            l = l || {};
            null != g && this.bind(g) && this.step();
            g = [];
            for (var n = vc(this.Qa), r = 0; r < n; r += 1)
              switch (zc(this.Qa, r)) {
                case 1:
                  var t = l.useBigInt ? this.Gb(r) : this.wb(r);
                  g.push(t);
                  break;
                case 2:
                  g.push(this.wb(r));
                  break;
                case 3:
                  g.push(this.Hb(r));
                  break;
                case 4:
                  g.push(this.getBlob(r));
                  break;
                default:
                  g.push(null);
              }
            return g;
          };
          c.prototype.getColumnNames = function() {
            for (var g = [], l = uc(this.Qa), n = 0; n < l; n += 1)
              g.push(Ac(this.Qa, n));
            return g;
          };
          c.prototype.getAsObject = function(g, l) {
            g = this.get(g, l);
            l = this.getColumnNames();
            for (var n = {}, r = 0; r < l.length; r += 1)
              n[l[r]] = g[r];
            return n;
          };
          c.prototype.getSQL = function() {
            return pb(this.Qa);
          };
          c.prototype.getNormalizedSQL = function() {
            return nc(this.Qa);
          };
          c.prototype.run = function(g) {
            null != g && this.bind(g);
            this.step();
            return this.reset();
          };
          c.prototype.sb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            g = ra(g);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(oc(this.Qa, l, n, g.length - 1, 0));
          };
          c.prototype.Bb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(rb(
              this.Qa,
              l,
              n,
              g.length,
              0
            ));
          };
          c.prototype.rb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            this.db.handleError((g === (g | 0) ? qc : pc)(this.Qa, l, g));
          };
          c.prototype.Eb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            rb(this.Qa, g, 0, 0, 0);
          };
          c.prototype.tb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            switch (typeof g) {
              case "string":
                this.sb(g, l);
                return;
              case "number":
                this.rb(g, l);
                return;
              case "bigint":
                this.sb(g.toString(), l);
                return;
              case "boolean":
                this.rb(g + 0, l);
                return;
              case "object":
                if (null === g) {
                  this.Eb(l);
                  return;
                }
                if (null != g.length) {
                  this.Bb(
                    g,
                    l
                  );
                  return;
                }
            }
            throw "Wrong API use : tried to bind a value of an unknown type (" + g + ").";
          };
          c.prototype.Db = function(g) {
            var l = this;
            Object.keys(g).forEach(function(n) {
              var r = rc(l.Qa, n);
              0 !== r && l.tb(g[n], r);
            });
            return true;
          };
          c.prototype.Cb = function(g) {
            for (var l = 0; l < g.length; l += 1)
              this.tb(g[l], l + 1);
            return true;
          };
          c.prototype.reset = function() {
            this.freemem();
            return 0 === Cc(this.Qa) && 0 === Bc(this.Qa);
          };
          c.prototype.freemem = function() {
            for (var g; void 0 !== (g = this.lb.pop()); )
              fa(g);
          };
          c.prototype.free = function() {
            this.freemem();
            var g = 0 === Dc(this.Qa);
            delete this.db.fb[this.Qa];
            this.Qa = 0;
            return g;
          };
          d.prototype.next = function() {
            if (null === this.eb)
              return { done: true };
            null !== this.Za && (this.Za.free(), this.Za = null);
            if (!this.db.db)
              throw this.mb(), Error("Database closed");
            var g = sa(), l = z(4);
            ta(h);
            ta(l);
            try {
              this.db.handleError(qb(this.db.db, this.kb, -1, h, l));
              this.kb = m(l, "i32");
              var n = m(h, "i32");
              if (0 === n)
                return this.mb(), { done: true };
              this.Za = new c(n, this.db);
              this.db.fb[n] = this.Za;
              return { value: this.Za, done: false };
            } catch (r) {
              throw this.pb = ua(this.kb), this.mb(), r;
            } finally {
              wa(g);
            }
          };
          d.prototype.mb = function() {
            fa(this.eb);
            this.eb = null;
          };
          d.prototype.getRemainingSQL = function() {
            return null !== this.pb ? this.pb : ua(this.kb);
          };
          "function" === typeof Symbol && "symbol" === typeof Symbol.iterator && (d.prototype[Symbol.iterator] = function() {
            return this;
          });
          e.prototype.run = function(g, l) {
            if (!this.db)
              throw "Database closed";
            if (l) {
              g = this.prepare(g, l);
              try {
                g.step();
              } finally {
                g.free();
              }
            } else
              this.handleError(v(this.db, g, 0, 0, h));
            return this;
          };
          e.prototype.exec = function(g, l, n) {
            if (!this.db)
              throw "Database closed";
            var r = sa(), t = null;
            try {
              var y = xa(g), L = z(4);
              for (g = []; 0 !== m(y, "i8"); ) {
                ta(h);
                ta(L);
                this.handleError(qb(this.db, y, -1, h, L));
                var J = m(h, "i32");
                y = m(L, "i32");
                if (0 !== J) {
                  var I = null;
                  t = new c(J, this);
                  for (null != l && t.bind(l); t.step(); )
                    null === I && (I = { columns: t.getColumnNames(), values: [] }, g.push(I)), I.values.push(t.get(null, n));
                  t.free();
                }
              }
              return g;
            } catch (M) {
              throw t && t.free(), M;
            } finally {
              wa(r);
            }
          };
          e.prototype.each = function(g, l, n, r, t) {
            "function" === typeof l && (r = n, n = l, l = void 0);
            g = this.prepare(g, l);
            try {
              for (; g.step(); )
                n(g.getAsObject(
                  null,
                  t
                ));
            } finally {
              g.free();
            }
            if ("function" === typeof r)
              return r();
          };
          e.prototype.prepare = function(g, l) {
            ta(h);
            this.handleError(G(this.db, g, -1, h, 0));
            g = m(h, "i32");
            if (0 === g)
              throw "Nothing to prepare";
            var n = new c(g, this);
            null != l && n.bind(l);
            return this.fb[g] = n;
          };
          e.prototype.iterateStatements = function(g) {
            return new d(g, this);
          };
          e.prototype["export"] = function() {
            Object.values(this.fb).forEach(function(l) {
              l.free();
            });
            Object.values(this.Sa).forEach(A);
            this.Sa = {};
            this.handleError(w(this.db));
            var g = ya(this.filename);
            this.handleError(q(
              this.filename,
              h
            ));
            this.db = m(h, "i32");
            ob(this.db);
            return g;
          };
          e.prototype.close = function() {
            null !== this.db && (Object.values(this.fb).forEach(function(g) {
              g.free();
            }), Object.values(this.Sa).forEach(A), this.Sa = {}, this.Ya && (A(this.Ya), this.Ya = void 0), this.handleError(w(this.db)), za("/" + this.filename), this.db = null);
          };
          e.prototype.handleError = function(g) {
            if (0 === g)
              return null;
            g = tc(this.db);
            throw Error(g);
          };
          e.prototype.getRowsModified = function() {
            return C(this.db);
          };
          e.prototype.create_function = function(g, l) {
            Object.prototype.hasOwnProperty.call(
              this.Sa,
              g
            ) && (A(this.Sa[g]), delete this.Sa[g]);
            var n = Aa(function(r, t, y) {
              t = b(t, y);
              try {
                var L = l.apply(null, t);
              } catch (J) {
                va(r, J, -1);
                return;
              }
              a(r, L);
            }, "viii");
            this.Sa[g] = n;
            this.handleError(tb(this.db, g, l.length, 1, 0, n, 0, 0, 0));
            return this;
          };
          e.prototype.create_aggregate = function(g, l) {
            var n = l.init || function() {
              return null;
            }, r = l.finalize || function(I) {
              return I;
            }, t = l.step;
            if (!t)
              throw "An aggregate function must have a step function in " + g;
            var y = {};
            Object.hasOwnProperty.call(this.Sa, g) && (A(this.Sa[g]), delete this.Sa[g]);
            l = g + "__finalize";
            Object.hasOwnProperty.call(this.Sa, l) && (A(this.Sa[l]), delete this.Sa[l]);
            var L = Aa(function(I, M, Ra) {
              var X = ub(I, 1);
              Object.hasOwnProperty.call(y, X) || (y[X] = n());
              M = b(M, Ra);
              M = [y[X]].concat(M);
              try {
                y[X] = t.apply(null, M);
              } catch (Fc) {
                delete y[X], va(I, Fc, -1);
              }
            }, "viii"), J = Aa(function(I) {
              var M = ub(I, 1);
              try {
                var Ra = r(y[M]);
              } catch (X) {
                delete y[M];
                va(I, X, -1);
                return;
              }
              a(I, Ra);
              delete y[M];
            }, "vi");
            this.Sa[g] = L;
            this.Sa[l] = J;
            this.handleError(tb(this.db, g, t.length - 1, 1, 0, 0, L, J, 0));
            return this;
          };
          e.prototype.updateHook = function(g) {
            this.Ya && (vb(this.db, 0, 0), A(this.Ya), this.Ya = void 0);
            g && (this.Ya = Aa(function(l, n, r, t, y) {
              switch (n) {
                case 18:
                  l = "insert";
                  break;
                case 23:
                  l = "update";
                  break;
                case 9:
                  l = "delete";
                  break;
                default:
                  throw "unknown operationCode in updateHook callback: " + n;
              }
              r = r ? B(x, r) : "";
              t = t ? B(x, t) : "";
              if (y > Number.MAX_SAFE_INTEGER)
                throw "rowId too big to fit inside a Number";
              g(l, r, t, Number(y));
            }, "viiiij"), vb(this.db, this.Ya, 0));
          };
          f.Database = e;
        };
        var Ba = { ...f }, Ca = "./this.program", Da = (a, b) => {
          throw b;
        }, D = "", Ea, Fa;
        if (ca) {
          var fs = require("fs");
          require("path");
          D = __dirname + "/";
          Fa = (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a);
          };
          Ea = async (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a, void 0);
          };
          !f.thisProgram && 1 < process.argv.length && (Ca = process.argv[1].replace(/\\/g, "/"));
          process.argv.slice(2);
          "undefined" != typeof module2 && (module2.exports = f);
          Da = (a, b) => {
            process.exitCode = a;
            throw b;
          };
        } else if (aa || ba)
          ba ? D = self.location.href : "undefined" != typeof document && document.currentScript && (D = document.currentScript.src), D = D.startsWith("blob:") ? "" : D.slice(0, D.replace(/[?#].*/, "").lastIndexOf("/") + 1), ba && (Fa = (a) => {
            var b = new XMLHttpRequest();
            b.open("GET", a, false);
            b.responseType = "arraybuffer";
            b.send(null);
            return new Uint8Array(b.response);
          }), Ea = async (a) => {
            if (Ga(a))
              return new Promise((c, d) => {
                var e = new XMLHttpRequest();
                e.open("GET", a, true);
                e.responseType = "arraybuffer";
                e.onload = () => {
                  200 == e.status || 0 == e.status && e.response ? c(e.response) : d(e.status);
                };
                e.onerror = d;
                e.send(null);
              });
            var b = await fetch(a, { credentials: "same-origin" });
            if (b.ok)
              return b.arrayBuffer();
            throw Error(b.status + " : " + b.url);
          };
        var Ha = f.print || console.log.bind(console), Ia = f.printErr || console.error.bind(console);
        Object.assign(f, Ba);
        Ba = null;
        f.thisProgram && (Ca = f.thisProgram);
        var Ja = f.wasmBinary, Ka, La = false, Ma, p, x, Na, E, F, Oa, H, Pa, Ga = (a) => a.startsWith("file://");
        function Qa() {
          var a = Ka.buffer;
          f.HEAP8 = p = new Int8Array(a);
          f.HEAP16 = Na = new Int16Array(a);
          f.HEAPU8 = x = new Uint8Array(a);
          f.HEAPU16 = new Uint16Array(a);
          f.HEAP32 = E = new Int32Array(a);
          f.HEAPU32 = F = new Uint32Array(a);
          f.HEAPF32 = Oa = new Float32Array(a);
          f.HEAPF64 = Pa = new Float64Array(a);
          f.HEAP64 = H = new BigInt64Array(a);
          f.HEAPU64 = new BigUint64Array(a);
        }
        var K = 0, Sa = null;
        function Ta(a) {
          var _a;
          (_a = f.onAbort) == null ? void 0 : _a.call(f, a);
          a = "Aborted(" + a + ")";
          Ia(a);
          La = true;
          throw new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");
        }
        var Ua;
        async function Va(a) {
          if (!Ja)
            try {
              var b = await Ea(a);
              return new Uint8Array(b);
            } catch (e) {
            }
          if (a == Ua && Ja)
            a = new Uint8Array(Ja);
          else if (Fa)
            a = Fa(a);
          else
            throw "both async and sync fetching of the wasm failed";
          return a;
        }
        async function Wa(a, b) {
          try {
            var c = await Va(a);
            return await WebAssembly.instantiate(c, b);
          } catch (d) {
            Ia(`failed to asynchronously prepare wasm: ${d}`), Ta(d);
          }
        }
        async function Xa(a) {
          var b = Ua;
          if (!Ja && "function" == typeof WebAssembly.instantiateStreaming && !Ga(b) && !ca)
            try {
              var c = fetch(b, { credentials: "same-origin" });
              return await WebAssembly.instantiateStreaming(c, a);
            } catch (d) {
              Ia(`wasm streaming compile failed: ${d}`), Ia("falling back to ArrayBuffer instantiation");
            }
          return Wa(b, a);
        }
        class Ya {
          constructor(a) {
            __publicField(this, "name", "ExitStatus");
            this.message = `Program terminated with exit(${a})`;
            this.status = a;
          }
        }
        var Za = (a) => {
          for (; 0 < a.length; )
            a.shift()(f);
        }, $a = [], ab = [], bb = () => {
          var a = f.preRun.shift();
          ab.unshift(a);
        };
        function m(a, b = "i8") {
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              return p[a];
            case "i8":
              return p[a];
            case "i16":
              return Na[a >> 1];
            case "i32":
              return E[a >> 2];
            case "i64":
              return H[a >> 3];
            case "float":
              return Oa[a >> 2];
            case "double":
              return Pa[a >> 3];
            case "*":
              return F[a >> 2];
            default:
              Ta(`invalid type for getValue: ${b}`);
          }
        }
        var cb = f.noExitRuntime || true;
        function ta(a) {
          var b = "i32";
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              p[a] = 0;
              break;
            case "i8":
              p[a] = 0;
              break;
            case "i16":
              Na[a >> 1] = 0;
              break;
            case "i32":
              E[a >> 2] = 0;
              break;
            case "i64":
              H[a >> 3] = BigInt(0);
              break;
            case "float":
              Oa[a >> 2] = 0;
              break;
            case "double":
              Pa[a >> 3] = 0;
              break;
            case "*":
              F[a >> 2] = 0;
              break;
            default:
              Ta(`invalid type for setValue: ${b}`);
          }
        }
        var db = "undefined" != typeof TextDecoder ? new TextDecoder() : void 0, B = (a, b = 0, c = NaN) => {
          var d = b + c;
          for (c = b; a[c] && !(c >= d); )
            ++c;
          if (16 < c - b && a.buffer && db)
            return db.decode(a.subarray(b, c));
          for (d = ""; b < c; ) {
            var e = a[b++];
            if (e & 128) {
              var h = a[b++] & 63;
              if (192 == (e & 224))
                d += String.fromCharCode((e & 31) << 6 | h);
              else {
                var k = a[b++] & 63;
                e = 224 == (e & 240) ? (e & 15) << 12 | h << 6 | k : (e & 7) << 18 | h << 12 | k << 6 | a[b++] & 63;
                65536 > e ? d += String.fromCharCode(e) : (e -= 65536, d += String.fromCharCode(55296 | e >> 10, 56320 | e & 1023));
              }
            } else
              d += String.fromCharCode(e);
          }
          return d;
        }, ua = (a, b) => a ? B(x, a, b) : "", eb = (a, b) => {
          for (var c = 0, d = a.length - 1; 0 <= d; d--) {
            var e = a[d];
            "." === e ? a.splice(d, 1) : ".." === e ? (a.splice(d, 1), c++) : c && (a.splice(d, 1), c--);
          }
          if (b)
            for (; c; c--)
              a.unshift("..");
          return a;
        }, ka = (a) => {
          var b = "/" === a.charAt(0), c = "/" === a.slice(-1);
          (a = eb(a.split("/").filter((d) => !!d), !b).join("/")) || b || (a = ".");
          a && c && (a += "/");
          return (b ? "/" : "") + a;
        }, fb = (a) => {
          var b = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);
          a = b[0];
          b = b[1];
          if (!a && !b)
            return ".";
          b && (b = b.slice(0, -1));
          return a + b;
        }, gb = (a) => a && a.match(/([^\/]+|\/)\/*$/)[1], hb = () => {
          if (ca) {
            var a = require("crypto");
            return (b) => a.randomFillSync(b);
          }
          return (b) => crypto.getRandomValues(b);
        }, ib = (a) => {
          (ib = hb())(a);
        }, jb = (...a) => {
          for (var b = "", c = false, d = a.length - 1; -1 <= d && !c; d--) {
            c = 0 <= d ? a[d] : "/";
            if ("string" != typeof c)
              throw new TypeError("Arguments to path.resolve must be strings");
            if (!c)
              return "";
            b = c + "/" + b;
            c = "/" === c.charAt(0);
          }
          b = eb(b.split("/").filter((e) => !!e), !c).join("/");
          return (c ? "/" : "") + b || ".";
        }, kb = [], ha = (a) => {
          for (var b = 0, c = 0; c < a.length; ++c) {
            var d = a.charCodeAt(c);
            127 >= d ? b++ : 2047 >= d ? b += 2 : 55296 <= d && 57343 >= d ? (b += 4, ++c) : b += 3;
          }
          return b;
        }, u = (a, b, c, d) => {
          if (!(0 < d))
            return 0;
          var e = c;
          d = c + d - 1;
          for (var h = 0; h < a.length; ++h) {
            var k = a.charCodeAt(h);
            if (55296 <= k && 57343 >= k) {
              var q = a.charCodeAt(++h);
              k = 65536 + ((k & 1023) << 10) | q & 1023;
            }
            if (127 >= k) {
              if (c >= d)
                break;
              b[c++] = k;
            } else {
              if (2047 >= k) {
                if (c + 1 >= d)
                  break;
                b[c++] = 192 | k >> 6;
              } else {
                if (65535 >= k) {
                  if (c + 2 >= d)
                    break;
                  b[c++] = 224 | k >> 12;
                } else {
                  if (c + 3 >= d)
                    break;
                  b[c++] = 240 | k >> 18;
                  b[c++] = 128 | k >> 12 & 63;
                }
                b[c++] = 128 | k >> 6 & 63;
              }
              b[c++] = 128 | k & 63;
            }
          }
          b[c] = 0;
          return c - e;
        }, ra = (a, b) => {
          var c = Array(ha(a) + 1);
          a = u(a, c, 0, c.length);
          b && (c.length = a);
          return c;
        }, mb = [];
        function nb(a, b) {
          mb[a] = { input: [], output: [], cb: b };
          wb(a, xb);
        }
        var xb = { open(a) {
          var b = mb[a.node.rdev];
          if (!b)
            throw new N(43);
          a.tty = b;
          a.seekable = false;
        }, close(a) {
          a.tty.cb.fsync(a.tty);
        }, fsync(a) {
          a.tty.cb.fsync(a.tty);
        }, read(a, b, c, d) {
          if (!a.tty || !a.tty.cb.xb)
            throw new N(60);
          for (var e = 0, h = 0; h < d; h++) {
            try {
              var k = a.tty.cb.xb(a.tty);
            } catch (q) {
              throw new N(29);
            }
            if (void 0 === k && 0 === e)
              throw new N(6);
            if (null === k || void 0 === k)
              break;
            e++;
            b[c + h] = k;
          }
          e && (a.node.atime = Date.now());
          return e;
        }, write(a, b, c, d) {
          if (!a.tty || !a.tty.cb.qb)
            throw new N(60);
          try {
            for (var e = 0; e < d; e++)
              a.tty.cb.qb(a.tty, b[c + e]);
          } catch (h) {
            throw new N(29);
          }
          d && (a.node.mtime = a.node.ctime = Date.now());
          return e;
        } }, yb = { xb() {
          a: {
            if (!kb.length) {
              var a = null;
              if (ca) {
                var b = Buffer.alloc(256), c = 0, d = process.stdin.fd;
                try {
                  c = fs.readSync(d, b, 0, 256);
                } catch (e) {
                  if (e.toString().includes("EOF"))
                    c = 0;
                  else
                    throw e;
                }
                0 < c && (a = b.slice(0, c).toString("utf-8"));
              } else
                "undefined" != typeof window && "function" == typeof window.prompt && (a = window.prompt("Input: "), null !== a && (a += "\n"));
              if (!a) {
                a = null;
                break a;
              }
              kb = ra(a, true);
            }
            a = kb.shift();
          }
          return a;
        }, qb(a, b) {
          null === b || 10 === b ? (Ha(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ha(B(a.output)), a.output = []);
        }, Tb() {
          return { Ob: 25856, Qb: 5, Nb: 191, Pb: 35387, Mb: [3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] };
        }, Ub() {
          return 0;
        }, Vb() {
          return [24, 80];
        } }, zb = { qb(a, b) {
          null === b || 10 === b ? (Ia(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ia(B(a.output)), a.output = []);
        } }, O = { Wa: null, Xa() {
          return O.createNode(null, "/", 16895, 0);
        }, createNode(a, b, c, d) {
          if (24576 === (c & 61440) || 4096 === (c & 61440))
            throw new N(63);
          O.Wa || (O.Wa = { dir: { node: { Ta: O.La.Ta, Ua: O.La.Ua, lookup: O.La.lookup, hb: O.La.hb, rename: O.La.rename, unlink: O.La.unlink, rmdir: O.La.rmdir, readdir: O.La.readdir, symlink: O.La.symlink }, stream: { Va: O.Ma.Va } }, file: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: { Va: O.Ma.Va, read: O.Ma.read, write: O.Ma.write, ib: O.Ma.ib, jb: O.Ma.jb } }, link: { node: { Ta: O.La.Ta, Ua: O.La.Ua, readlink: O.La.readlink }, stream: {} }, ub: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: Ab } });
          c = Bb(a, b, c, d);
          P(c.mode) ? (c.La = O.Wa.dir.node, c.Ma = O.Wa.dir.stream, c.Na = {}) : 32768 === (c.mode & 61440) ? (c.La = O.Wa.file.node, c.Ma = O.Wa.file.stream, c.Ra = 0, c.Na = null) : 40960 === (c.mode & 61440) ? (c.La = O.Wa.link.node, c.Ma = O.Wa.link.stream) : 8192 === (c.mode & 61440) && (c.La = O.Wa.ub.node, c.Ma = O.Wa.ub.stream);
          c.atime = c.mtime = c.ctime = Date.now();
          a && (a.Na[b] = c, a.atime = a.mtime = a.ctime = c.atime);
          return c;
        }, Sb(a) {
          return a.Na ? a.Na.subarray ? a.Na.subarray(0, a.Ra) : new Uint8Array(a.Na) : new Uint8Array(0);
        }, La: { Ta(a) {
          var b = {};
          b.dev = 8192 === (a.mode & 61440) ? a.id : 1;
          b.ino = a.id;
          b.mode = a.mode;
          b.nlink = 1;
          b.uid = 0;
          b.gid = 0;
          b.rdev = a.rdev;
          P(a.mode) ? b.size = 4096 : 32768 === (a.mode & 61440) ? b.size = a.Ra : 40960 === (a.mode & 61440) ? b.size = a.link.length : b.size = 0;
          b.atime = new Date(a.atime);
          b.mtime = new Date(a.mtime);
          b.ctime = new Date(a.ctime);
          b.blksize = 4096;
          b.blocks = Math.ceil(b.size / b.blksize);
          return b;
        }, Ua(a, b) {
          for (var c of ["mode", "atime", "mtime", "ctime"])
            null != b[c] && (a[c] = b[c]);
          void 0 !== b.size && (b = b.size, a.Ra != b && (0 == b ? (a.Na = null, a.Ra = 0) : (c = a.Na, a.Na = new Uint8Array(b), c && a.Na.set(c.subarray(0, Math.min(b, a.Ra))), a.Ra = b)));
        }, lookup() {
          throw O.vb;
        }, hb(a, b, c, d) {
          return O.createNode(a, b, c, d);
        }, rename(a, b, c) {
          try {
            var d = Q(b, c);
          } catch (h) {
          }
          if (d) {
            if (P(a.mode))
              for (var e in d.Na)
                throw new N(55);
            Cb(d);
          }
          delete a.parent.Na[a.name];
          b.Na[c] = a;
          a.name = c;
          b.ctime = b.mtime = a.parent.ctime = a.parent.mtime = Date.now();
        }, unlink(a, b) {
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, rmdir(a, b) {
          var c = Q(a, b), d;
          for (d in c.Na)
            throw new N(55);
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, readdir(a) {
          return [".", "..", ...Object.keys(a.Na)];
        }, symlink(a, b, c) {
          a = O.createNode(a, b, 41471, 0);
          a.link = c;
          return a;
        }, readlink(a) {
          if (40960 !== (a.mode & 61440))
            throw new N(28);
          return a.link;
        } }, Ma: { read(a, b, c, d, e) {
          var h = a.node.Na;
          if (e >= a.node.Ra)
            return 0;
          a = Math.min(a.node.Ra - e, d);
          if (8 < a && h.subarray)
            b.set(h.subarray(e, e + a), c);
          else
            for (d = 0; d < a; d++)
              b[c + d] = h[e + d];
          return a;
        }, write(a, b, c, d, e, h) {
          b.buffer === p.buffer && (h = false);
          if (!d)
            return 0;
          a = a.node;
          a.mtime = a.ctime = Date.now();
          if (b.subarray && (!a.Na || a.Na.subarray)) {
            if (h)
              return a.Na = b.subarray(c, c + d), a.Ra = d;
            if (0 === a.Ra && 0 === e)
              return a.Na = b.slice(c, c + d), a.Ra = d;
            if (e + d <= a.Ra)
              return a.Na.set(b.subarray(
                c,
                c + d
              ), e), d;
          }
          h = e + d;
          var k = a.Na ? a.Na.length : 0;
          k >= h || (h = Math.max(h, k * (1048576 > k ? 2 : 1.125) >>> 0), 0 != k && (h = Math.max(h, 256)), k = a.Na, a.Na = new Uint8Array(h), 0 < a.Ra && a.Na.set(k.subarray(0, a.Ra), 0));
          if (a.Na.subarray && b.subarray)
            a.Na.set(b.subarray(c, c + d), e);
          else
            for (h = 0; h < d; h++)
              a.Na[e + h] = b[c + h];
          a.Ra = Math.max(a.Ra, e + d);
          return d;
        }, Va(a, b, c) {
          1 === c ? b += a.position : 2 === c && 32768 === (a.node.mode & 61440) && (b += a.node.Ra);
          if (0 > b)
            throw new N(28);
          return b;
        }, ib(a, b, c, d, e) {
          if (32768 !== (a.node.mode & 61440))
            throw new N(43);
          a = a.node.Na;
          if (e & 2 || !a || a.buffer !== p.buffer) {
            e = true;
            d = 65536 * Math.ceil(b / 65536);
            var h = Db(65536, d);
            h && x.fill(0, h, h + d);
            d = h;
            if (!d)
              throw new N(48);
            if (a) {
              if (0 < c || c + b < a.length)
                a.subarray ? a = a.subarray(c, c + b) : a = Array.prototype.slice.call(a, c, c + b);
              p.set(a, d);
            }
          } else
            e = false, d = a.byteOffset;
          return { Kb: d, Ab: e };
        }, jb(a, b, c, d) {
          O.Ma.write(a, b, 0, d, c, false);
          return 0;
        } } }, la = (a, b) => {
          var c = 0;
          a && (c |= 365);
          b && (c |= 146);
          return c;
        }, Eb = null, Fb = {}, Gb = [], Hb = 1, R = null, Ib = false, Jb = true, Kb = {}, N = class {
          constructor(a) {
            __publicField(this, "name", "ErrnoError");
            this.Pa = a;
          }
        }, Lb = class {
          constructor() {
            __publicField(this, "gb", {});
            __publicField(this, "node", null);
          }
          get flags() {
            return this.gb.flags;
          }
          set flags(a) {
            this.gb.flags = a;
          }
          get position() {
            return this.gb.position;
          }
          set position(a) {
            this.gb.position = a;
          }
        }, Mb = class {
          constructor(a, b, c, d) {
            __publicField(this, "La", {});
            __publicField(this, "Ma", {});
            __publicField(this, "ab", null);
            a || (a = this);
            this.parent = a;
            this.Xa = a.Xa;
            this.id = Hb++;
            this.name = b;
            this.mode = c;
            this.rdev = d;
            this.atime = this.mtime = this.ctime = Date.now();
          }
          get read() {
            return 365 === (this.mode & 365);
          }
          set read(a) {
            a ? this.mode |= 365 : this.mode &= -366;
          }
          get write() {
            return 146 === (this.mode & 146);
          }
          set write(a) {
            a ? this.mode |= 146 : this.mode &= -147;
          }
        };
        function S(a, b = {}) {
          var _a;
          if (!a)
            throw new N(44);
          (_a = b.nb) != null ? _a : b.nb = true;
          "/" === a.charAt(0) || (a = "//" + a);
          var c = 0;
          a:
            for (; 40 > c; c++) {
              a = a.split("/").filter((q) => !!q);
              for (var d = Eb, e = "/", h = 0; h < a.length; h++) {
                var k = h === a.length - 1;
                if (k && b.parent)
                  break;
                if ("." !== a[h])
                  if (".." === a[h])
                    e = fb(e), d = d.parent;
                  else {
                    e = ka(e + "/" + a[h]);
                    try {
                      d = Q(d, a[h]);
                    } catch (q) {
                      if (44 === (q == null ? void 0 : q.Pa) && k && b.Jb)
                        return { path: e };
                      throw q;
                    }
                    !d.ab || k && !b.nb || (d = d.ab.root);
                    if (40960 === (d.mode & 61440) && (!k || b.$a)) {
                      if (!d.La.readlink)
                        throw new N(52);
                      d = d.La.readlink(d);
                      "/" === d.charAt(0) || (d = fb(e) + "/" + d);
                      a = d + "/" + a.slice(h + 1).join("/");
                      continue a;
                    }
                  }
              }
              return { path: e, node: d };
            }
          throw new N(32);
        }
        function ja(a) {
          for (var b; ; ) {
            if (a === a.parent)
              return a = a.Xa.zb, b ? "/" !== a[a.length - 1] ? `${a}/${b}` : a + b : a;
            b = b ? `${a.name}/${b}` : a.name;
            a = a.parent;
          }
        }
        function Nb(a, b) {
          for (var c = 0, d = 0; d < b.length; d++)
            c = (c << 5) - c + b.charCodeAt(d) | 0;
          return (a + c >>> 0) % R.length;
        }
        function Cb(a) {
          var b = Nb(a.parent.id, a.name);
          if (R[b] === a)
            R[b] = a.bb;
          else
            for (b = R[b]; b; ) {
              if (b.bb === a) {
                b.bb = a.bb;
                break;
              }
              b = b.bb;
            }
        }
        function Q(a, b) {
          var c = P(a.mode) ? (c = Ob(a, "x")) ? c : a.La.lookup ? 0 : 2 : 54;
          if (c)
            throw new N(c);
          for (c = R[Nb(a.id, b)]; c; c = c.bb) {
            var d = c.name;
            if (c.parent.id === a.id && d === b)
              return c;
          }
          return a.La.lookup(a, b);
        }
        function Bb(a, b, c, d) {
          a = new Mb(a, b, c, d);
          b = Nb(a.parent.id, a.name);
          a.bb = R[b];
          return R[b] = a;
        }
        function P(a) {
          return 16384 === (a & 61440);
        }
        function Pb(a) {
          var b = ["r", "w", "rw"][a & 3];
          a & 512 && (b += "w");
          return b;
        }
        function Ob(a, b) {
          if (Jb)
            return 0;
          if (!b.includes("r") || a.mode & 292) {
            if (b.includes("w") && !(a.mode & 146) || b.includes("x") && !(a.mode & 73))
              return 2;
          } else
            return 2;
          return 0;
        }
        function Qb(a, b) {
          if (!P(a.mode))
            return 54;
          try {
            return Q(a, b), 20;
          } catch (c) {
          }
          return Ob(a, "wx");
        }
        function Rb(a, b, c) {
          try {
            var d = Q(a, b);
          } catch (e) {
            return e.Pa;
          }
          if (a = Ob(a, "wx"))
            return a;
          if (c) {
            if (!P(d.mode))
              return 54;
            if (d === d.parent || "/" === ja(d))
              return 10;
          } else if (P(d.mode))
            return 31;
          return 0;
        }
        function Sb(a) {
          if (!a)
            throw new N(63);
          return a;
        }
        function T(a) {
          a = Gb[a];
          if (!a)
            throw new N(8);
          return a;
        }
        function Tb(a, b = -1) {
          a = Object.assign(new Lb(), a);
          if (-1 == b)
            a: {
              for (b = 0; 4096 >= b; b++)
                if (!Gb[b])
                  break a;
              throw new N(33);
            }
          a.fd = b;
          return Gb[b] = a;
        }
        function Ub(a, b = -1) {
          var _a, _b;
          a = Tb(a, b);
          (_b = (_a = a.Ma) == null ? void 0 : _a.Rb) == null ? void 0 : _b.call(_a, a);
          return a;
        }
        function Vb(a, b, c) {
          var d = a == null ? void 0 : a.Ma.Ua;
          a = d ? a : b;
          d != null ? d : d = b.La.Ua;
          Sb(d);
          d(a, c);
        }
        var Ab = { open(a) {
          var _a, _b;
          a.Ma = Fb[a.node.rdev].Ma;
          (_b = (_a = a.Ma).open) == null ? void 0 : _b.call(_a, a);
        }, Va() {
          throw new N(70);
        } };
        function wb(a, b) {
          Fb[a] = { Ma: b };
        }
        function Wb(a, b) {
          var c = "/" === b;
          if (c && Eb)
            throw new N(10);
          if (!c && b) {
            var d = S(b, { nb: false });
            b = d.path;
            d = d.node;
            if (d.ab)
              throw new N(10);
            if (!P(d.mode))
              throw new N(54);
          }
          b = { type: a, Wb: {}, zb: b, Ib: [] };
          a = a.Xa(b);
          a.Xa = b;
          b.root = a;
          c ? Eb = a : d && (d.ab = b, d.Xa && d.Xa.Ib.push(b));
        }
        function Xb(a, b, c) {
          var d = S(a, { parent: true }).node;
          a = gb(a);
          if (!a)
            throw new N(28);
          if ("." === a || ".." === a)
            throw new N(20);
          var e = Qb(d, a);
          if (e)
            throw new N(e);
          if (!d.La.hb)
            throw new N(63);
          return d.La.hb(d, a, b, c);
        }
        function ma(a, b = 438) {
          return Xb(a, b & 4095 | 32768, 0);
        }
        function U(a, b = 511) {
          return Xb(a, b & 1023 | 16384, 0);
        }
        function Yb(a, b, c) {
          "undefined" == typeof c && (c = b, b = 438);
          Xb(a, b | 8192, c);
        }
        function Zb(a, b) {
          if (!jb(a))
            throw new N(44);
          var c = S(b, { parent: true }).node;
          if (!c)
            throw new N(44);
          b = gb(b);
          var d = Qb(c, b);
          if (d)
            throw new N(d);
          if (!c.La.symlink)
            throw new N(63);
          c.La.symlink(c, b, a);
        }
        function $b(a) {
          var b = S(a, { parent: true }).node;
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, true);
          if (d)
            throw new N(d);
          if (!b.La.rmdir)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.rmdir(b, a);
          Cb(c);
        }
        function za(a) {
          var b = S(a, { parent: true }).node;
          if (!b)
            throw new N(44);
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, false);
          if (d)
            throw new N(d);
          if (!b.La.unlink)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.unlink(b, a);
          Cb(c);
        }
        function ac(a, b) {
          a = S(a, { $a: !b }).node;
          return Sb(a.La.Ta)(a);
        }
        function bc(a, b, c, d) {
          Vb(a, b, { mode: c & 4095 | b.mode & -4096, ctime: Date.now(), Fb: d });
        }
        function na(a, b) {
          a = "string" == typeof a ? S(a, { $a: true }).node : a;
          bc(null, a, b);
        }
        function cc(a, b, c) {
          if (P(b.mode))
            throw new N(31);
          if (32768 !== (b.mode & 61440))
            throw new N(28);
          var d = Ob(b, "w");
          if (d)
            throw new N(d);
          Vb(a, b, { size: c, timestamp: Date.now() });
        }
        function oa(a, b, c = 438) {
          if ("" === a)
            throw new N(44);
          if ("string" == typeof b) {
            var d = { r: 0, "r+": 2, w: 577, "w+": 578, a: 1089, "a+": 1090 }[b];
            if ("undefined" == typeof d)
              throw Error(`Unknown file open mode: ${b}`);
            b = d;
          }
          c = b & 64 ? c & 4095 | 32768 : 0;
          if ("object" == typeof a)
            d = a;
          else {
            var e = a.endsWith("/");
            a = S(a, { $a: !(b & 131072), Jb: true });
            d = a.node;
            a = a.path;
          }
          var h = false;
          if (b & 64)
            if (d) {
              if (b & 128)
                throw new N(20);
            } else {
              if (e)
                throw new N(31);
              d = Xb(a, c | 511, 0);
              h = true;
            }
          if (!d)
            throw new N(44);
          8192 === (d.mode & 61440) && (b &= -513);
          if (b & 65536 && !P(d.mode))
            throw new N(54);
          if (!h && (e = d ? 40960 === (d.mode & 61440) ? 32 : P(d.mode) && ("r" !== Pb(b) || b & 576) ? 31 : Ob(d, Pb(b)) : 44))
            throw new N(e);
          b & 512 && !h && (e = d, e = "string" == typeof e ? S(e, { $a: true }).node : e, cc(null, e, 0));
          b &= -131713;
          e = Tb({ node: d, path: ja(d), flags: b, seekable: true, position: 0, Ma: d.Ma, Lb: [], error: false });
          e.Ma.open && e.Ma.open(e);
          h && na(d, c & 511);
          !f.logReadFiles || b & 1 || a in Kb || (Kb[a] = 1);
          return e;
        }
        function qa(a) {
          if (null === a.fd)
            throw new N(8);
          a.ob && (a.ob = null);
          try {
            a.Ma.close && a.Ma.close(a);
          } catch (b) {
            throw b;
          } finally {
            Gb[a.fd] = null;
          }
          a.fd = null;
        }
        function mc(a, b, c) {
          if (null === a.fd)
            throw new N(8);
          if (!a.seekable || !a.Ma.Va)
            throw new N(70);
          if (0 != c && 1 != c && 2 != c)
            throw new N(28);
          a.position = a.Ma.Va(a, b, c);
          a.Lb = [];
        }
        function Ec(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (1 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.read)
            throw new N(28);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.read(a, b, c, d, e);
          h || (a.position += b);
          return b;
        }
        function pa(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (0 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.write)
            throw new N(28);
          a.seekable && a.flags & 1024 && mc(a, 0, 2);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.write(a, b, c, d, e, void 0);
          h || (a.position += b);
          return b;
        }
        function ya(a) {
          var b = "binary";
          if ("utf8" !== b && "binary" !== b)
            throw Error(`Invalid encoding type "${b}"`);
          var c;
          var d = oa(a, d || 0);
          a = ac(a).size;
          var e = new Uint8Array(a);
          Ec(d, e, 0, a, 0);
          "utf8" === b ? c = B(e) : "binary" === b && (c = e);
          qa(d);
          return c;
        }
        function V(a, b, c) {
          var _a;
          a = ka("/dev/" + a);
          var d = la(!!b, !!c);
          (_a = V.yb) != null ? _a : V.yb = 64;
          var e = V.yb++ << 8 | 0;
          wb(e, { open(h) {
            h.seekable = false;
          }, close() {
            var _a2;
            ((_a2 = c == null ? void 0 : c.buffer) == null ? void 0 : _a2.length) && c(10);
          }, read(h, k, q, w) {
            for (var v = 0, C = 0; C < w; C++) {
              try {
                var G = b();
              } catch (pb) {
                throw new N(29);
              }
              if (void 0 === G && 0 === v)
                throw new N(6);
              if (null === G || void 0 === G)
                break;
              v++;
              k[q + C] = G;
            }
            v && (h.node.atime = Date.now());
            return v;
          }, write(h, k, q, w) {
            for (var v = 0; v < w; v++)
              try {
                c(k[q + v]);
              } catch (C) {
                throw new N(29);
              }
            w && (h.node.mtime = h.node.ctime = Date.now());
            return v;
          } });
          Yb(a, d, e);
        }
        var W = {};
        function Gc(a, b, c) {
          if ("/" === b.charAt(0))
            return b;
          a = -100 === a ? "/" : T(a).path;
          if (0 == b.length) {
            if (!c)
              throw new N(44);
            return a;
          }
          return a + "/" + b;
        }
        function Hc(a, b) {
          E[a >> 2] = b.dev;
          E[a + 4 >> 2] = b.mode;
          F[a + 8 >> 2] = b.nlink;
          E[a + 12 >> 2] = b.uid;
          E[a + 16 >> 2] = b.gid;
          E[a + 20 >> 2] = b.rdev;
          H[a + 24 >> 3] = BigInt(b.size);
          E[a + 32 >> 2] = 4096;
          E[a + 36 >> 2] = b.blocks;
          var c = b.atime.getTime(), d = b.mtime.getTime(), e = b.ctime.getTime();
          H[a + 40 >> 3] = BigInt(Math.floor(c / 1e3));
          F[a + 48 >> 2] = c % 1e3 * 1e6;
          H[a + 56 >> 3] = BigInt(Math.floor(d / 1e3));
          F[a + 64 >> 2] = d % 1e3 * 1e6;
          H[a + 72 >> 3] = BigInt(Math.floor(e / 1e3));
          F[a + 80 >> 2] = e % 1e3 * 1e6;
          H[a + 88 >> 3] = BigInt(b.ino);
          return 0;
        }
        var Ic = void 0, Jc = () => {
          var a = E[+Ic >> 2];
          Ic += 4;
          return a;
        }, Kc = 0, Lc = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335], Mc = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], Nc = {}, Oc = (a) => {
          var _a;
          Ma = a;
          cb || 0 < Kc || ((_a = f.onExit) == null ? void 0 : _a.call(f, a), La = true);
          Da(a, new Ya(a));
        }, Pc = (a) => {
          if (!La)
            try {
              if (a(), !(cb || 0 < Kc))
                try {
                  Ma = a = Ma, Oc(a);
                } catch (b) {
                  b instanceof Ya || "unwind" == b || Da(1, b);
                }
            } catch (b) {
              b instanceof Ya || "unwind" == b || Da(1, b);
            }
        }, Qc = {}, Sc = () => {
          if (!Rc) {
            var a = { USER: "web_user", LOGNAME: "web_user", PATH: "/", PWD: "/", HOME: "/home/web_user", LANG: ("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _: Ca || "./this.program" }, b;
            for (b in Qc)
              void 0 === Qc[b] ? delete a[b] : a[b] = Qc[b];
            var c = [];
            for (b in a)
              c.push(`${b}=${a[b]}`);
            Rc = c;
          }
          return Rc;
        }, Rc, xa = (a) => {
          var b = ha(a) + 1, c = z(b);
          u(a, x, c, b);
          return c;
        }, Tc = (a, b, c, d) => {
          var e = { string: (v) => {
            var C = 0;
            null !== v && void 0 !== v && 0 !== v && (C = xa(v));
            return C;
          }, array: (v) => {
            var C = z(v.length);
            p.set(v, C);
            return C;
          } };
          a = f["_" + a];
          var h = [], k = 0;
          if (d)
            for (var q = 0; q < d.length; q++) {
              var w = e[c[q]];
              w ? (0 === k && (k = sa()), h[q] = w(d[q])) : h[q] = d[q];
            }
          c = a(...h);
          return c = function(v) {
            0 !== k && wa(k);
            return "string" === b ? v ? B(x, v) : "" : "boolean" === b ? !!v : v;
          }(c);
        }, ea = 0, da = (a, b) => {
          b = 1 == b ? z(a.length) : ia(a.length);
          a.subarray || a.slice || (a = new Uint8Array(a));
          x.set(a, b);
          return b;
        }, Uc, Vc = [], Y, A = (a) => {
          Uc.delete(Y.get(a));
          Y.set(a, null);
          Vc.push(a);
        }, Aa = (a, b) => {
          if (!Uc) {
            Uc = /* @__PURE__ */ new WeakMap();
            var c = Y.length;
            if (Uc)
              for (var d = 0; d < 0 + c; d++) {
                var e = Y.get(d);
                e && Uc.set(e, d);
              }
          }
          if (c = Uc.get(a) || 0)
            return c;
          if (Vc.length)
            c = Vc.pop();
          else {
            try {
              Y.grow(1);
            } catch (w) {
              if (!(w instanceof RangeError))
                throw w;
              throw "Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";
            }
            c = Y.length - 1;
          }
          try {
            Y.set(c, a);
          } catch (w) {
            if (!(w instanceof TypeError))
              throw w;
            if ("function" == typeof WebAssembly.Function) {
              var h = WebAssembly.Function;
              d = { i: "i32", j: "i64", f: "f32", d: "f64", e: "externref", p: "i32" };
              e = { parameters: [], results: "v" == b[0] ? [] : [d[b[0]]] };
              for (var k = 1; k < b.length; ++k)
                e.parameters.push(d[b[k]]);
              b = new h(e, a);
            } else {
              d = [1];
              e = b.slice(0, 1);
              b = b.slice(1);
              k = { i: 127, p: 127, j: 126, f: 125, d: 124, e: 111 };
              d.push(96);
              var q = b.length;
              128 > q ? d.push(q) : d.push(q % 128 | 128, q >> 7);
              for (h of b)
                d.push(k[h]);
              "v" == e ? d.push(0) : d.push(1, k[e]);
              b = [0, 97, 115, 109, 1, 0, 0, 0, 1];
              h = d.length;
              128 > h ? b.push(h) : b.push(h % 128 | 128, h >> 7);
              b.push(...d);
              b.push(2, 7, 1, 1, 101, 1, 102, 0, 0, 7, 5, 1, 1, 102, 0, 0);
              b = new WebAssembly.Module(new Uint8Array(b));
              b = new WebAssembly.Instance(b, { e: { f: a } }).exports.f;
            }
            Y.set(c, b);
          }
          Uc.set(a, c);
          return c;
        };
        R = Array(4096);
        Wb(O, "/");
        U("/tmp");
        U("/home");
        U("/home/web_user");
        (function() {
          U("/dev");
          wb(259, { read: () => 0, write: (d, e, h, k) => k, Va: () => 0 });
          Yb("/dev/null", 259);
          nb(1280, yb);
          nb(1536, zb);
          Yb("/dev/tty", 1280);
          Yb("/dev/tty1", 1536);
          var a = new Uint8Array(1024), b = 0, c = () => {
            0 === b && (ib(a), b = a.byteLength);
            return a[--b];
          };
          V("random", c);
          V("urandom", c);
          U("/dev/shm");
          U("/dev/shm/tmp");
        })();
        (function() {
          U("/proc");
          var a = U("/proc/self");
          U("/proc/self/fd");
          Wb({ Xa() {
            var b = Bb(a, "fd", 16895, 73);
            b.Ma = { Va: O.Ma.Va };
            b.La = { lookup(c, d) {
              c = +d;
              var e = T(c);
              c = { parent: null, Xa: { zb: "fake" }, La: { readlink: () => e.path }, id: c + 1 };
              return c.parent = c;
            }, readdir() {
              return Array.from(Gb.entries()).filter(([, c]) => c).map(([c]) => c.toString());
            } };
            return b;
          } }, "/proc/self/fd");
        })();
        O.vb = new N(44);
        O.vb.stack = "<generic error, no stack>";
        var Xc = { a: (a, b, c, d) => Ta(`Assertion failed: ${a ? B(x, a) : ""}, at: ` + [b ? b ? B(x, b) : "" : "unknown filename", c, d ? d ? B(x, d) : "" : "unknown function"]), i: function(a, b) {
          try {
            return a = a ? B(x, a) : "", na(a, b), 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, L: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (c & -8)
              return -28;
            var d = S(b, { $a: true }).node;
            if (!d)
              return -44;
            a = "";
            c & 4 && (a += "r");
            c & 2 && (a += "w");
            c & 1 && (a += "x");
            return a && Ob(d, a) ? -2 : 0;
          } catch (e) {
            if ("undefined" == typeof W || "ErrnoError" !== e.name)
              throw e;
            return -e.Pa;
          }
        }, j: function(a, b) {
          try {
            var c = T(a);
            bc(c, c.node, b, false);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, h: function(a) {
          try {
            var b = T(a);
            Vb(b, b.node, { timestamp: Date.now(), Fb: false });
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, b: function(a, b, c) {
          Ic = c;
          try {
            var d = T(a);
            switch (b) {
              case 0:
                var e = Jc();
                if (0 > e)
                  break;
                for (; Gb[e]; )
                  e++;
                return Ub(d, e).fd;
              case 1:
              case 2:
                return 0;
              case 3:
                return d.flags;
              case 4:
                return e = Jc(), d.flags |= e, 0;
              case 12:
                return e = Jc(), Na[e + 0 >> 1] = 2, 0;
              case 13:
              case 14:
                return 0;
            }
            return -28;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, g: function(a, b) {
          try {
            var c = T(a), d = c.node, e = c.Ma.Ta;
            a = e ? c : d;
            e != null ? e : e = d.La.Ta;
            Sb(e);
            var h = e(a);
            return Hc(b, h);
          } catch (k) {
            if ("undefined" == typeof W || "ErrnoError" !== k.name)
              throw k;
            return -k.Pa;
          }
        }, H: function(a, b) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var c = T(a);
            if (0 > b || 0 === (c.flags & 2097155))
              throw new N(28);
            cc(c, c.node, b);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, G: function(a, b) {
          try {
            if (0 === b)
              return -28;
            var c = ha("/") + 1;
            if (b < c)
              return -68;
            u("/", x, a, b);
            return c;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, K: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a, true));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, C: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), U(b, c), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, J: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            var e = d & 256;
            b = Gc(a, b, d & 4096);
            return Hc(c, e ? ac(b, true) : ac(b));
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, x: function(a, b, c, d) {
          Ic = d;
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            var e = d ? Jc() : 0;
            return oa(b, c, e).fd;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, v: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (0 >= d)
              return -28;
            var e = S(b).node;
            if (!e)
              throw new N(44);
            if (!e.La.readlink)
              throw new N(28);
            var h = e.La.readlink(e);
            var k = Math.min(d, ha(h)), q = p[c + k];
            u(h, x, c, d + 1);
            p[c + k] = q;
            return k;
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, u: function(a) {
          try {
            return a = a ? B(x, a) : "", $b(a), 0;
          } catch (b) {
            if ("undefined" == typeof W || "ErrnoError" !== b.name)
              throw b;
            return -b.Pa;
          }
        }, f: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, r: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), 0 === c ? za(b) : 512 === c ? $b(b) : Ta("Invalid flags passed to unlinkat"), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, q: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b, true);
            var d = Date.now(), e, h;
            if (c) {
              var k = F[c >> 2] + 4294967296 * E[c + 4 >> 2], q = E[c + 8 >> 2];
              1073741823 == q ? e = d : 1073741822 == q ? e = null : e = 1e3 * k + q / 1e6;
              c += 16;
              k = F[c >> 2] + 4294967296 * E[c + 4 >> 2];
              q = E[c + 8 >> 2];
              1073741823 == q ? h = d : 1073741822 == q ? h = null : h = 1e3 * k + q / 1e6;
            } else
              h = e = d;
            if (null !== (h != null ? h : e)) {
              a = e;
              var w = S(b, { $a: true }).node;
              Sb(w.La.Ua)(w, { atime: a, mtime: h });
            }
            return 0;
          } catch (v) {
            if ("undefined" == typeof W || "ErrnoError" !== v.name)
              throw v;
            return -v.Pa;
          }
        }, m: () => Ta(""), l: () => {
          cb = false;
          Kc = 0;
        }, A: function(a, b) {
          a = -9007199254740992 > a || 9007199254740992 < a ? NaN : Number(a);
          a = new Date(1e3 * a);
          E[b >> 2] = a.getSeconds();
          E[b + 4 >> 2] = a.getMinutes();
          E[b + 8 >> 2] = a.getHours();
          E[b + 12 >> 2] = a.getDate();
          E[b + 16 >> 2] = a.getMonth();
          E[b + 20 >> 2] = a.getFullYear() - 1900;
          E[b + 24 >> 2] = a.getDay();
          var c = a.getFullYear();
          E[b + 28 >> 2] = (0 !== c % 4 || 0 === c % 100 && 0 !== c % 400 ? Mc : Lc)[a.getMonth()] + a.getDate() - 1 | 0;
          E[b + 36 >> 2] = -(60 * a.getTimezoneOffset());
          c = new Date(
            a.getFullYear(),
            6,
            1
          ).getTimezoneOffset();
          var d = new Date(a.getFullYear(), 0, 1).getTimezoneOffset();
          E[b + 32 >> 2] = (c != d && a.getTimezoneOffset() == Math.min(d, c)) | 0;
        }, y: function(a, b, c, d, e, h, k) {
          e = -9007199254740992 > e || 9007199254740992 < e ? NaN : Number(e);
          try {
            if (isNaN(e))
              return 61;
            var q = T(d);
            if (0 !== (b & 2) && 0 === (c & 2) && 2 !== (q.flags & 2097155))
              throw new N(2);
            if (1 === (q.flags & 2097155))
              throw new N(2);
            if (!q.Ma.ib)
              throw new N(43);
            if (!a)
              throw new N(28);
            var w = q.Ma.ib(q, a, e, b, c);
            var v = w.Kb;
            E[h >> 2] = w.Ab;
            F[k >> 2] = v;
            return 0;
          } catch (C) {
            if ("undefined" == typeof W || "ErrnoError" !== C.name)
              throw C;
            return -C.Pa;
          }
        }, z: function(a, b, c, d, e, h) {
          h = -9007199254740992 > h || 9007199254740992 < h ? NaN : Number(h);
          try {
            var k = T(e);
            if (c & 2) {
              c = h;
              if (32768 !== (k.node.mode & 61440))
                throw new N(43);
              if (!(d & 2)) {
                var q = x.slice(a, a + b);
                k.Ma.jb && k.Ma.jb(k, q, c, b, d);
              }
            }
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, n: (a, b) => {
          Nc[a] && (clearTimeout(Nc[a].id), delete Nc[a]);
          if (!b)
            return 0;
          var c = setTimeout(() => {
            delete Nc[a];
            Pc(() => Wc(a, performance.now()));
          }, b);
          Nc[a] = {
            id: c,
            Xb: b
          };
          return 0;
        }, B: (a, b, c, d) => {
          var e = (/* @__PURE__ */ new Date()).getFullYear(), h = new Date(e, 0, 1).getTimezoneOffset();
          e = new Date(e, 6, 1).getTimezoneOffset();
          F[a >> 2] = 60 * Math.max(h, e);
          E[b >> 2] = Number(h != e);
          b = (k) => {
            var q = Math.abs(k);
            return `UTC${0 <= k ? "-" : "+"}${String(Math.floor(q / 60)).padStart(2, "0")}${String(q % 60).padStart(2, "0")}`;
          };
          a = b(h);
          b = b(e);
          e < h ? (u(a, x, c, 17), u(b, x, d, 17)) : (u(a, x, d, 17), u(b, x, c, 17));
        }, d: () => Date.now(), s: () => 2147483648, c: () => performance.now(), o: (a) => {
          var b = x.length;
          a >>>= 0;
          if (2147483648 < a)
            return false;
          for (var c = 1; 4 >= c; c *= 2) {
            var d = b * (1 + 0.2 / c);
            d = Math.min(d, a + 100663296);
            a: {
              d = (Math.min(2147483648, 65536 * Math.ceil(Math.max(a, d) / 65536)) - Ka.buffer.byteLength + 65535) / 65536 | 0;
              try {
                Ka.grow(d);
                Qa();
                var e = 1;
                break a;
              } catch (h) {
              }
              e = void 0;
            }
            if (e)
              return true;
          }
          return false;
        }, E: (a, b) => {
          var c = 0;
          Sc().forEach((d, e) => {
            var h = b + c;
            e = F[a + 4 * e >> 2] = h;
            for (h = 0; h < d.length; ++h)
              p[e++] = d.charCodeAt(h);
            p[e] = 0;
            c += d.length + 1;
          });
          return 0;
        }, F: (a, b) => {
          var c = Sc();
          F[a >> 2] = c.length;
          var d = 0;
          c.forEach((e) => d += e.length + 1);
          F[b >> 2] = d;
          return 0;
        }, e: function(a) {
          try {
            var b = T(a);
            qa(b);
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, p: function(a, b) {
          try {
            var c = T(a);
            p[b] = c.tty ? 2 : P(c.mode) ? 3 : 40960 === (c.mode & 61440) ? 7 : 4;
            Na[b + 2 >> 1] = 0;
            H[b + 8 >> 3] = BigInt(0);
            H[b + 16 >> 3] = BigInt(0);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return d.Pa;
          }
        }, w: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = Ec(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, D: function(a, b, c, d) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var e = T(a);
            mc(e, b, c);
            H[d >> 3] = BigInt(e.position);
            e.ob && 0 === b && 0 === c && (e.ob = null);
            return 0;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return h.Pa;
          }
        }, I: function(a) {
          var _a;
          try {
            var b = T(a);
            return ((_a = b.Ma) == null ? void 0 : _a.fsync) ? b.Ma.fsync(b) : 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, t: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = pa(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, k: Oc }, Z;
        (async function() {
          var _a;
          function a(c) {
            var _a2;
            Z = c.exports;
            Ka = Z.M;
            Qa();
            Y = Z.O;
            K--;
            (_a2 = f.monitorRunDependencies) == null ? void 0 : _a2.call(f, K);
            0 == K && Sa && (c = Sa, Sa = null, c());
            return Z;
          }
          K++;
          (_a = f.monitorRunDependencies) == null ? void 0 : _a.call(f, K);
          var b = { a: Xc };
          if (f.instantiateWasm)
            return new Promise((c) => {
              f.instantiateWasm(b, (d, e) => {
                a(d, e);
                c(d.exports);
              });
            });
          Ua != null ? Ua : Ua = f.locateFile ? f.locateFile("sql-wasm.wasm", D) : D + "sql-wasm.wasm";
          return a((await Xa(b)).instance);
        })();
        f._sqlite3_free = (a) => (f._sqlite3_free = Z.P)(a);
        f._sqlite3_value_text = (a) => (f._sqlite3_value_text = Z.Q)(a);
        f._sqlite3_prepare_v2 = (a, b, c, d, e) => (f._sqlite3_prepare_v2 = Z.R)(a, b, c, d, e);
        f._sqlite3_step = (a) => (f._sqlite3_step = Z.S)(a);
        f._sqlite3_reset = (a) => (f._sqlite3_reset = Z.T)(a);
        f._sqlite3_exec = (a, b, c, d, e) => (f._sqlite3_exec = Z.U)(a, b, c, d, e);
        f._sqlite3_finalize = (a) => (f._sqlite3_finalize = Z.V)(a);
        f._sqlite3_column_name = (a, b) => (f._sqlite3_column_name = Z.W)(a, b);
        f._sqlite3_column_text = (a, b) => (f._sqlite3_column_text = Z.X)(a, b);
        f._sqlite3_column_type = (a, b) => (f._sqlite3_column_type = Z.Y)(a, b);
        f._sqlite3_errmsg = (a) => (f._sqlite3_errmsg = Z.Z)(a);
        f._sqlite3_clear_bindings = (a) => (f._sqlite3_clear_bindings = Z._)(a);
        f._sqlite3_value_blob = (a) => (f._sqlite3_value_blob = Z.$)(a);
        f._sqlite3_value_bytes = (a) => (f._sqlite3_value_bytes = Z.aa)(a);
        f._sqlite3_value_double = (a) => (f._sqlite3_value_double = Z.ba)(a);
        f._sqlite3_value_int = (a) => (f._sqlite3_value_int = Z.ca)(a);
        f._sqlite3_value_type = (a) => (f._sqlite3_value_type = Z.da)(a);
        f._sqlite3_result_blob = (a, b, c, d) => (f._sqlite3_result_blob = Z.ea)(a, b, c, d);
        f._sqlite3_result_double = (a, b) => (f._sqlite3_result_double = Z.fa)(a, b);
        f._sqlite3_result_error = (a, b, c) => (f._sqlite3_result_error = Z.ga)(a, b, c);
        f._sqlite3_result_int = (a, b) => (f._sqlite3_result_int = Z.ha)(a, b);
        f._sqlite3_result_int64 = (a, b) => (f._sqlite3_result_int64 = Z.ia)(a, b);
        f._sqlite3_result_null = (a) => (f._sqlite3_result_null = Z.ja)(a);
        f._sqlite3_result_text = (a, b, c, d) => (f._sqlite3_result_text = Z.ka)(a, b, c, d);
        f._sqlite3_aggregate_context = (a, b) => (f._sqlite3_aggregate_context = Z.la)(a, b);
        f._sqlite3_column_count = (a) => (f._sqlite3_column_count = Z.ma)(a);
        f._sqlite3_data_count = (a) => (f._sqlite3_data_count = Z.na)(a);
        f._sqlite3_column_blob = (a, b) => (f._sqlite3_column_blob = Z.oa)(a, b);
        f._sqlite3_column_bytes = (a, b) => (f._sqlite3_column_bytes = Z.pa)(a, b);
        f._sqlite3_column_double = (a, b) => (f._sqlite3_column_double = Z.qa)(a, b);
        f._sqlite3_bind_blob = (a, b, c, d, e) => (f._sqlite3_bind_blob = Z.ra)(a, b, c, d, e);
        f._sqlite3_bind_double = (a, b, c) => (f._sqlite3_bind_double = Z.sa)(a, b, c);
        f._sqlite3_bind_int = (a, b, c) => (f._sqlite3_bind_int = Z.ta)(a, b, c);
        f._sqlite3_bind_text = (a, b, c, d, e) => (f._sqlite3_bind_text = Z.ua)(a, b, c, d, e);
        f._sqlite3_bind_parameter_index = (a, b) => (f._sqlite3_bind_parameter_index = Z.va)(a, b);
        f._sqlite3_sql = (a) => (f._sqlite3_sql = Z.wa)(a);
        f._sqlite3_normalized_sql = (a) => (f._sqlite3_normalized_sql = Z.xa)(a);
        f._sqlite3_changes = (a) => (f._sqlite3_changes = Z.ya)(a);
        f._sqlite3_close_v2 = (a) => (f._sqlite3_close_v2 = Z.za)(a);
        f._sqlite3_create_function_v2 = (a, b, c, d, e, h, k, q, w) => (f._sqlite3_create_function_v2 = Z.Aa)(a, b, c, d, e, h, k, q, w);
        f._sqlite3_update_hook = (a, b, c) => (f._sqlite3_update_hook = Z.Ba)(a, b, c);
        f._sqlite3_open = (a, b) => (f._sqlite3_open = Z.Ca)(a, b);
        var ia = f._malloc = (a) => (ia = f._malloc = Z.Da)(a), fa = f._free = (a) => (fa = f._free = Z.Ea)(a);
        f._RegisterExtensionFunctions = (a) => (f._RegisterExtensionFunctions = Z.Fa)(a);
        var Db = (a, b) => (Db = Z.Ga)(a, b), Wc = (a, b) => (Wc = Z.Ha)(a, b), wa = (a) => (wa = Z.Ia)(a), z = (a) => (z = Z.Ja)(a), sa = () => (sa = Z.Ka)();
        f.stackSave = () => sa();
        f.stackRestore = (a) => wa(a);
        f.stackAlloc = (a) => z(a);
        f.cwrap = (a, b, c, d) => {
          var e = !c || c.every((h) => "number" === h || "boolean" === h);
          return "string" !== b && e && !d ? f["_" + a] : (...h) => Tc(a, b, c, h);
        };
        f.addFunction = Aa;
        f.removeFunction = A;
        f.UTF8ToString = ua;
        f.ALLOC_NORMAL = ea;
        f.allocate = da;
        f.allocateUTF8OnStack = xa;
        function Yc() {
          function a() {
            var _a;
            f.calledRun = true;
            if (!La) {
              if (!f.noFSInit && !Ib) {
                var b, c;
                Ib = true;
                d != null ? d : d = f.stdin;
                b != null ? b : b = f.stdout;
                c != null ? c : c = f.stderr;
                d ? V("stdin", d) : Zb("/dev/tty", "/dev/stdin");
                b ? V("stdout", null, b) : Zb("/dev/tty", "/dev/stdout");
                c ? V("stderr", null, c) : Zb("/dev/tty1", "/dev/stderr");
                oa("/dev/stdin", 0);
                oa("/dev/stdout", 1);
                oa("/dev/stderr", 1);
              }
              Z.N();
              Jb = false;
              (_a = f.onRuntimeInitialized) == null ? void 0 : _a.call(f);
              if (f.postRun)
                for ("function" == typeof f.postRun && (f.postRun = [f.postRun]); f.postRun.length; ) {
                  var d = f.postRun.shift();
                  $a.unshift(d);
                }
              Za($a);
            }
          }
          if (0 < K)
            Sa = Yc;
          else {
            if (f.preRun)
              for ("function" == typeof f.preRun && (f.preRun = [f.preRun]); f.preRun.length; )
                bb();
            Za(ab);
            0 < K ? Sa = Yc : f.setStatus ? (f.setStatus("Running..."), setTimeout(() => {
              setTimeout(() => f.setStatus(""), 1);
              a();
            }, 1)) : a();
          }
        }
        if (f.preInit)
          for ("function" == typeof f.preInit && (f.preInit = [f.preInit]); 0 < f.preInit.length; )
            f.preInit.pop()();
        Yc();
        return Module;
      });
      return initSqlJsPromise;
    };
    if (typeof exports === "object" && typeof module2 === "object") {
      module2.exports = initSqlJs2;
      module2.exports.default = initSqlJs2;
    } else if (typeof define === "function" && define["amd"]) {
      define([], function() {
        return initSqlJs2;
      });
    } else if (typeof exports === "object") {
      exports["Module"] = initSqlJs2;
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DecksPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian10 = require("obsidian");

// src/database/DatabaseService.ts
var import_sql = __toESM(require_sql_wasm());

// src/algorithm/fsrs-weights.ts
var FSRS_WEIGHTS_STANDARD = [
  0.4072,
  1.1829,
  3.1262,
  15.4722,
  7.2102,
  0.5316,
  1.0651,
  0.0234,
  1.616,
  0.1544,
  1.0824,
  1.9813,
  0.0953,
  0.2975,
  2.2042,
  0.2407,
  2.9466
];
var FSRS_WEIGHTS_SUBDAY = [
  1 / 1440,
  // w[0] - Again: 1 minute
  5 / 1440,
  // w[1] - Hard: 5 minutes
  10 / 1440,
  // w[2] - Good: 10 minutes
  40 / 1440,
  // w[3] - Easy: 40 minutes
  // Keep FSRS-4.5 defaults for remaining parameters
  7.2102,
  0.5316,
  1.0651,
  0.0234,
  1.616,
  0.1544,
  1.0824,
  1.9813,
  0.0953,
  0.2975,
  2.2042,
  0.2407,
  2.9466
];
var DEFAULT_FSRS_WEIGHTS = FSRS_WEIGHTS_STANDARD;
var PROFILE_CONFIG = {
  INTENSIVE: {
    weights: FSRS_WEIGHTS_SUBDAY,
    minMinutes: 1,
    maximumIntervalDays: 36500
  },
  STANDARD: {
    weights: FSRS_WEIGHTS_STANDARD,
    minMinutes: 1440,
    // 1 day minimum
    maximumIntervalDays: 36500
  }
};
var DEFAULT_FSRS_PARAMETERS = {
  w: DEFAULT_FSRS_WEIGHTS,
  requestRetention: 0.9,
  maximumInterval: 36500,
  minMinutes: 1440
};
function getWeightsForProfile(profile) {
  return PROFILE_CONFIG[profile].weights;
}
function getMinMinutesForProfile(profile) {
  return PROFILE_CONFIG[profile].minMinutes;
}
function getMaxIntervalDaysForProfile(profile) {
  return PROFILE_CONFIG[profile].maximumIntervalDays;
}
function validateFSRSWeights(weights) {
  if (!Array.isArray(weights) || weights.length !== 17) {
    return false;
  }
  return weights.every((w) => isFinite(w));
}
function createSubDayWeights(againMinutes = 1, hardMinutes = 6, goodMinutes = 10, easyMinutes = 1440) {
  return [
    againMinutes / 1440,
    // w[0] - Again stability
    hardMinutes / 1440,
    // w[1] - Hard stability
    goodMinutes / 1440,
    // w[2] - Good stability
    easyMinutes / 1440,
    // w[3] - Easy stability
    ...DEFAULT_FSRS_WEIGHTS.slice(4)
    // Keep remaining weights
  ];
}
function validateProfile(profile) {
  return profile === "INTENSIVE" || profile === "STANDARD";
}
function validateRequestRetention(retention) {
  return retention > 0.5 && retention < 0.995;
}
var WEIGHT_PRESETS = {
  INTENSIVE: FSRS_WEIGHTS_SUBDAY,
  STANDARD: FSRS_WEIGHTS_STANDARD,
  RELAXED: createSubDayWeights(30, 60, 180, 720),
  ORIGINAL: FSRS_WEIGHTS_STANDARD
};

// src/database/types.ts
var DEFAULT_DECK_CONFIG = {
  newCardsPerDay: 0,
  // 0 = unlimited
  reviewCardsPerDay: 0,
  // 0 = unlimited
  headerLevel: 2,
  // Default to H2 headers
  reviewOrder: "due-date",
  fsrs: {
    requestRetention: DEFAULT_FSRS_PARAMETERS.requestRetention,
    profile: "STANDARD"
  }
};
function hasNewCardsLimit(config) {
  return config.newCardsPerDay > 0;
}
function hasReviewCardsLimit(config) {
  return config.reviewCardsPerDay > 0;
}

// src/database/schemas.ts
var CURRENT_SCHEMA_VERSION = 4;
var CREATE_TABLES_SQL = `
  PRAGMA foreign_keys = OFF;
  BEGIN;

  -- Decks table
  CREATE TABLE IF NOT EXISTS decks (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    filepath TEXT NOT NULL UNIQUE,
    tag TEXT NOT NULL,
    last_reviewed TEXT,
    config TEXT NOT NULL DEFAULT '{"newCardsPerDay":0,"reviewCardsPerDay":0,"headerLevel":2,"reviewOrder":"due-date","fsrs":{"requestRetention":0.9,"profile":"STANDARD"}}',
    created TEXT NOT NULL,
    modified TEXT NOT NULL
  );

  -- Flashcards table
  CREATE TABLE IF NOT EXISTS flashcards (
    id TEXT PRIMARY KEY,
    deck_id TEXT NOT NULL,
    front TEXT NOT NULL,
    back TEXT NOT NULL,
    type TEXT NOT NULL CHECK (type IN ('header-paragraph', 'table')),
    source_file TEXT NOT NULL,
    content_hash TEXT NOT NULL,

    state TEXT NOT NULL CHECK (state IN ('new', 'review')),
    due_date TEXT NOT NULL,
    interval REAL NOT NULL,
    repetitions INTEGER NOT NULL DEFAULT 0,
    difficulty REAL NOT NULL DEFAULT 5.0,
    stability REAL NOT NULL DEFAULT 0,
    lapses INTEGER NOT NULL DEFAULT 0,
    last_reviewed TEXT,
    created TEXT NOT NULL,
    modified TEXT NOT NULL,
    FOREIGN KEY (deck_id) REFERENCES decks(id)
  );

  -- Review sessions table
  CREATE TABLE IF NOT EXISTS review_sessions (
    id TEXT PRIMARY KEY,
    deck_id TEXT NOT NULL,
    started_at TEXT NOT NULL,
    ended_at TEXT,
    goal_total INTEGER NOT NULL,
    done_unique INTEGER NOT NULL DEFAULT 0,
    FOREIGN KEY (deck_id) REFERENCES decks(id)
  );

  -- Review logs table
  CREATE TABLE IF NOT EXISTS review_logs (
    id TEXT PRIMARY KEY,
    flashcard_id TEXT NOT NULL,
    session_id TEXT,
    last_reviewed_at TEXT NOT NULL,
    shown_at TEXT,
    reviewed_at TEXT NOT NULL,
    rating INTEGER NOT NULL CHECK (rating IN (1, 2, 3, 4)),
    rating_label TEXT NOT NULL CHECK (rating_label IN ('again', 'hard', 'good', 'easy')),
    time_elapsed_ms INTEGER,
    old_state TEXT NOT NULL CHECK (old_state IN ('new', 'review')),
    old_repetitions INTEGER NOT NULL DEFAULT 0,
    old_lapses INTEGER NOT NULL DEFAULT 0,
    old_stability REAL NOT NULL DEFAULT 0,
    old_difficulty REAL NOT NULL DEFAULT 5.0,
    new_state TEXT NOT NULL CHECK (new_state IN ('new', 'review')),
    new_repetitions INTEGER NOT NULL DEFAULT 0,
    new_lapses INTEGER NOT NULL DEFAULT 0,
    new_stability REAL NOT NULL DEFAULT 2.5,
    new_difficulty REAL NOT NULL DEFAULT 5.0,
    old_interval_minutes INTEGER NOT NULL,
    new_interval_minutes INTEGER NOT NULL,
    old_due_at TEXT NOT NULL,
    new_due_at TEXT NOT NULL,
    elapsed_days REAL NOT NULL,
    retrievability REAL NOT NULL,
    request_retention REAL NOT NULL,
    profile TEXT NOT NULL DEFAULT 'STANDARD' CHECK (profile IN ('INTENSIVE', 'STANDARD')),
    maximum_interval_days INTEGER NOT NULL,
    min_minutes INTEGER NOT NULL,
    fsrs_weights_version TEXT NOT NULL,
    scheduler_version TEXT NOT NULL,
    note_model_id TEXT,
    card_template_id TEXT,
    content_hash TEXT,
    client TEXT,
    FOREIGN KEY (flashcard_id) REFERENCES flashcards(id),
    FOREIGN KEY (session_id) REFERENCES review_sessions(id)
  );

  -- Create indexes
  CREATE INDEX IF NOT EXISTS idx_flashcards_deck_id ON flashcards(deck_id);
  CREATE INDEX IF NOT EXISTS idx_flashcards_due_date ON flashcards(due_date);
  CREATE INDEX IF NOT EXISTS idx_review_sessions_deck_id ON review_sessions(deck_id);
  CREATE INDEX IF NOT EXISTS idx_review_logs_flashcard_id ON review_logs(flashcard_id);
  CREATE INDEX IF NOT EXISTS idx_review_logs_session_id ON review_logs(session_id);
  CREATE INDEX IF NOT EXISTS idx_review_logs_reviewed_at ON review_logs(reviewed_at);

  -- Set schema version
  PRAGMA user_version = ${CURRENT_SCHEMA_VERSION};

  COMMIT;
  PRAGMA foreign_keys = ON;
`;
function getColumnNames(db, tableName) {
  try {
    const stmt = db.prepare(`PRAGMA table_info(${tableName})`);
    const columns = [];
    while (stmt.step()) {
      const row = stmt.get();
      columns.push(row[1]);
    }
    stmt.free();
    return columns;
  } catch (e) {
    return [];
  }
}
function buildMigrationSQL(db) {
  const decksColumns = getColumnNames(db, "decks");
  const flashcardsColumns = getColumnNames(db, "flashcards");
  const reviewLogsColumns = getColumnNames(db, "review_logs");
  const reviewSessionsColumns = getColumnNames(db, "review_sessions");
  const decksSelect = [
    "id",
    "name",
    decksColumns.includes("filepath") ? "filepath" : `'' as filepath`,
    "tag",
    "last_reviewed",
    decksColumns.includes("config") ? "config" : `'{"newCardsPerDay":0,"reviewCardsPerDay":0,"headerLevel":2,"reviewOrder":"due-date","fsrs":{"requestRetention":0.9,"profile":"STANDARD"}}' as config`,
    decksColumns.includes("created") ? "created" : `datetime('now') as created`,
    decksColumns.includes("modified") ? "modified" : `datetime('now') as modified`
  ].join(", ");
  const flashcardsSelect = [
    "id",
    "deck_id",
    "front",
    "back",
    flashcardsColumns.includes("type") ? "type" : `'header-paragraph' as type`,
    flashcardsColumns.includes("source_file") ? "source_file" : `'' as source_file`,
    flashcardsColumns.includes("content_hash") ? "content_hash" : `'' as content_hash`,
    flashcardsColumns.includes("state") ? "state" : `'new' as state`,
    flashcardsColumns.includes("due_date") ? "due_date" : `datetime('now') as due_date`,
    flashcardsColumns.includes("interval") ? "interval" : `0 as interval`,
    flashcardsColumns.includes("repetitions") ? "repetitions" : `0 as repetitions`,
    flashcardsColumns.includes("difficulty") ? "difficulty" : `5.0 as difficulty`,
    flashcardsColumns.includes("stability") ? "stability" : `0 as stability`,
    flashcardsColumns.includes("lapses") ? "lapses" : `0 as lapses`,
    "last_reviewed",
    "created",
    "modified"
  ].join(", ");
  const reviewLogsSelect = [
    "id",
    "flashcard_id",
    reviewLogsColumns.includes("session_id") ? "session_id" : "NULL as session_id",
    reviewLogsColumns.includes("last_reviewed_at") ? "last_reviewed_at" : `datetime('now') as last_reviewed_at`,
    reviewLogsColumns.includes("shown_at") ? "shown_at" : "NULL as shown_at",
    reviewLogsColumns.includes("reviewed_at") ? "reviewed_at" : `datetime('now') as reviewed_at`,
    reviewLogsColumns.includes("rating") ? "rating" : `3 as rating`,
    reviewLogsColumns.includes("rating_label") ? "rating_label" : `'good' as rating_label`,
    reviewLogsColumns.includes("time_elapsed_ms") ? "time_elapsed_ms" : "NULL as time_elapsed_ms",
    reviewLogsColumns.includes("old_state") ? "old_state" : `'new' as old_state`,
    reviewLogsColumns.includes("old_repetitions") ? "old_repetitions" : `0 as old_repetitions`,
    reviewLogsColumns.includes("old_lapses") ? "old_lapses" : `0 as old_lapses`,
    reviewLogsColumns.includes("old_stability") ? "old_stability" : `0 as old_stability`,
    reviewLogsColumns.includes("old_difficulty") ? "old_difficulty" : `5.0 as old_difficulty`,
    reviewLogsColumns.includes("new_state") ? "new_state" : `'review' as new_state`,
    reviewLogsColumns.includes("new_repetitions") ? "new_repetitions" : `1 as new_repetitions`,
    reviewLogsColumns.includes("new_lapses") ? "new_lapses" : `0 as new_lapses`,
    reviewLogsColumns.includes("new_stability") ? "new_stability" : `2.5 as new_stability`,
    reviewLogsColumns.includes("new_difficulty") ? "new_difficulty" : `5.0 as new_difficulty`,
    reviewLogsColumns.includes("old_interval_minutes") ? "old_interval_minutes" : `0 as old_interval_minutes`,
    reviewLogsColumns.includes("new_interval_minutes") ? "new_interval_minutes" : `1440 as new_interval_minutes`,
    reviewLogsColumns.includes("old_due_at") ? "old_due_at" : `datetime('now') as old_due_at`,
    reviewLogsColumns.includes("new_due_at") ? "new_due_at" : `datetime('now', '+1 day') as new_due_at`,
    reviewLogsColumns.includes("elapsed_days") ? "elapsed_days" : `1.0 as elapsed_days`,
    reviewLogsColumns.includes("retrievability") ? "retrievability" : `0.9 as retrievability`,
    reviewLogsColumns.includes("request_retention") ? "request_retention" : `0.9 as request_retention`,
    reviewLogsColumns.includes("profile") ? "profile" : `'STANDARD' as profile`,
    reviewLogsColumns.includes("maximum_interval_days") ? "maximum_interval_days" : `36500 as maximum_interval_days`,
    reviewLogsColumns.includes("min_minutes") ? "min_minutes" : `1 as min_minutes`,
    reviewLogsColumns.includes("fsrs_weights_version") ? "fsrs_weights_version" : `'1.0' as fsrs_weights_version`,
    reviewLogsColumns.includes("scheduler_version") ? "scheduler_version" : `'1.0' as scheduler_version`,
    reviewLogsColumns.includes("note_model_id") ? "note_model_id" : "NULL as note_model_id",
    reviewLogsColumns.includes("card_template_id") ? "card_template_id" : "NULL as card_template_id",
    reviewLogsColumns.includes("content_hash") ? "content_hash" : "NULL as content_hash",
    reviewLogsColumns.includes("client") ? "client" : "NULL as client"
  ].join(", ");
  const reviewSessionsSelect = [
    "id",
    "deck_id",
    "started_at",
    "ended_at",
    "goal_total",
    "done_unique"
  ].join(", ");
  return `
    PRAGMA foreign_keys = OFF;
    BEGIN;

    -- Create new tables
    CREATE TABLE decks_new (
      id TEXT PRIMARY KEY,
      name TEXT NOT NULL,
      filepath TEXT NOT NULL UNIQUE,
      tag TEXT NOT NULL,
      last_reviewed TEXT,
      config TEXT NOT NULL DEFAULT '{"newCardsPerDay":0,"reviewCardsPerDay":0,"headerLevel":2,"reviewOrder":"due-date","fsrs":{"requestRetention":0.9,"profile":"STANDARD"}}',
      created TEXT NOT NULL,
      modified TEXT NOT NULL
    );

    CREATE TABLE flashcards_new (
      id TEXT PRIMARY KEY,
      deck_id TEXT NOT NULL,
      front TEXT NOT NULL,
      back TEXT NOT NULL,
      type TEXT NOT NULL CHECK (type IN ('header-paragraph', 'table')),
      source_file TEXT NOT NULL,
      content_hash TEXT NOT NULL,

      state TEXT NOT NULL CHECK (state IN ('new', 'review')),
      due_date TEXT NOT NULL,
      interval REAL NOT NULL,
      repetitions INTEGER NOT NULL DEFAULT 0,
      difficulty REAL NOT NULL DEFAULT 5.0,
      stability REAL NOT NULL DEFAULT 0,
      lapses INTEGER NOT NULL DEFAULT 0,
      last_reviewed TEXT,
      created TEXT NOT NULL,
      modified TEXT NOT NULL,
      FOREIGN KEY (deck_id) REFERENCES decks(id)
    );

    CREATE TABLE review_sessions_new (
      id TEXT PRIMARY KEY,
      deck_id TEXT NOT NULL,
      started_at TEXT NOT NULL,
      ended_at TEXT,
      goal_total INTEGER NOT NULL,
      done_unique INTEGER NOT NULL DEFAULT 0,
      FOREIGN KEY (deck_id) REFERENCES decks_new(id)
    );

    CREATE TABLE review_logs_new (
      id TEXT PRIMARY KEY,
      flashcard_id TEXT NOT NULL,
      session_id TEXT,
      last_reviewed_at TEXT NOT NULL,
      shown_at TEXT,
      reviewed_at TEXT NOT NULL,
      rating INTEGER NOT NULL CHECK (rating IN (1, 2, 3, 4)),
      rating_label TEXT NOT NULL CHECK (rating_label IN ('again', 'hard', 'good', 'easy')),
      time_elapsed_ms INTEGER,
      old_state TEXT NOT NULL CHECK (old_state IN ('new', 'review')),
      old_repetitions INTEGER NOT NULL DEFAULT 0,
      old_lapses INTEGER NOT NULL DEFAULT 0,
      old_stability REAL NOT NULL DEFAULT 0,
      old_difficulty REAL NOT NULL DEFAULT 5.0,
      new_state TEXT NOT NULL CHECK (new_state IN ('new', 'review')),
      new_repetitions INTEGER NOT NULL DEFAULT 0,
      new_lapses INTEGER NOT NULL DEFAULT 0,
      new_stability REAL NOT NULL DEFAULT 2.5,
      new_difficulty REAL NOT NULL DEFAULT 5.0,
      old_interval_minutes INTEGER NOT NULL,
      new_interval_minutes INTEGER NOT NULL,
      old_due_at TEXT NOT NULL,
      new_due_at TEXT NOT NULL,
      elapsed_days REAL NOT NULL,
      retrievability REAL NOT NULL,
      request_retention REAL NOT NULL,
      profile TEXT NOT NULL DEFAULT 'STANDARD' CHECK (profile IN ('INTENSIVE', 'STANDARD')),
      maximum_interval_days INTEGER NOT NULL,
      min_minutes INTEGER NOT NULL,
      fsrs_weights_version TEXT NOT NULL,
      scheduler_version TEXT NOT NULL,
      note_model_id TEXT,
      card_template_id TEXT,
      content_hash TEXT,
      client TEXT,
      FOREIGN KEY (flashcard_id) REFERENCES flashcards(id),
      FOREIGN KEY (session_id) REFERENCES review_sessions(id)
    );

    -- Copy data with dynamic column mapping
    INSERT OR IGNORE INTO decks_new (id, name, filepath, tag, last_reviewed, config, created, modified)
    SELECT ${decksSelect} FROM decks WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='decks');

    INSERT OR IGNORE INTO flashcards_new (id, deck_id, front, back, type, source_file, content_hash, state, due_date, interval, repetitions, difficulty, stability, lapses, last_reviewed, created, modified)
    SELECT ${flashcardsSelect} FROM flashcards WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='flashcards');

    INSERT OR IGNORE INTO review_logs_new (id, flashcard_id, session_id, last_reviewed_at, shown_at, reviewed_at, rating, rating_label, time_elapsed_ms, old_state, old_repetitions, old_lapses, old_stability, old_difficulty, new_state, new_repetitions, new_lapses, new_stability, new_difficulty, old_interval_minutes, new_interval_minutes, old_due_at, new_due_at, elapsed_days, retrievability, request_retention, profile, maximum_interval_days, min_minutes, fsrs_weights_version, scheduler_version, note_model_id, card_template_id, content_hash, client)
    SELECT ${reviewLogsSelect} FROM review_logs WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='review_logs');

    INSERT OR IGNORE INTO review_sessions_new (id, deck_id, started_at, ended_at, goal_total, done_unique)
    SELECT ${reviewSessionsSelect} FROM review_sessions WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='review_logs');

    -- Drop old tables
    DROP TABLE IF EXISTS review_logs;
    DROP TABLE IF EXISTS flashcards;
    DROP TABLE IF EXISTS decks;
    DROP TABLE IF EXISTS review_sessions;

    -- Rename new tables
    ALTER TABLE decks_new RENAME TO decks;
    ALTER TABLE flashcards_new RENAME TO flashcards;
    ALTER TABLE review_sessions_new RENAME TO review_sessions;
    ALTER TABLE review_logs_new RENAME TO review_logs;

    -- Create indexes
    CREATE INDEX IF NOT EXISTS idx_flashcards_deck_id ON flashcards(deck_id);
    CREATE INDEX IF NOT EXISTS idx_flashcards_due_date ON flashcards(due_date);
    CREATE INDEX IF NOT EXISTS idx_review_sessions_deck_id ON review_sessions(deck_id);
    CREATE INDEX IF NOT EXISTS idx_review_logs_flashcard_id ON review_logs(flashcard_id);
    CREATE INDEX IF NOT EXISTS idx_review_logs_session_id ON review_logs(session_id);
    CREATE INDEX IF NOT EXISTS idx_review_logs_reviewed_at ON review_logs(reviewed_at);

    -- Set schema version
    PRAGMA user_version = ${CURRENT_SCHEMA_VERSION};

    COMMIT;
    PRAGMA foreign_keys = ON;
  `;
}
var SQL_QUERIES = {
  // Deck operations
  INSERT_DECK: `
    INSERT OR REPLACE INTO decks (
      id, name, filepath, tag, last_reviewed, config, created, modified
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  `,
  GET_DECK_BY_TAG: `SELECT * FROM decks WHERE tag = ?`,
  GET_DECK_BY_FILEPATH: `SELECT * FROM decks WHERE filepath = ?`,
  GET_DECK_BY_ID: `SELECT * FROM decks WHERE id = ?`,
  GET_ALL_DECKS: `SELECT * FROM decks ORDER BY name`,
  UPDATE_DECK_TIMESTAMP: `
    UPDATE decks
    SET modified = ?
    WHERE id = ?
  `,
  UPDATE_DECK_LAST_REVIEWED: `
    UPDATE decks
    SET last_reviewed = ?, modified = ?
    WHERE id = ?
  `,
  RENAME_DECK: `
    UPDATE decks
    SET id = ?, name = ?, filepath = ?, modified = ?
    WHERE id = ?
  `,
  DELETE_DECK_BY_FILEPATH: `DELETE FROM decks WHERE filepath = ?`,
  DELETE_DECK: `DELETE FROM decks WHERE id = ?`,
  // Flashcard operations
  INSERT_FLASHCARD: `
    INSERT OR REPLACE INTO flashcards (
      id, deck_id, front, back, type, source_file, content_hash,
      state, due_date, interval, repetitions,
      difficulty, stability, lapses, last_reviewed, created, modified
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

  `,
  DELETE_FLASHCARD: `DELETE FROM flashcards WHERE id = ?`,
  UPDATE_FLASHCARD_DECK_IDS: `
    UPDATE flashcards SET deck_id = ? WHERE deck_id = ?
  `,
  GET_FLASHCARDS_BY_DECK: `SELECT * FROM flashcards WHERE deck_id = ? ORDER BY created`,
  GET_DUE_FLASHCARDS: `SELECT * FROM flashcards WHERE deck_id = ? AND due_date <= ? ORDER BY due_date`,
  DELETE_FLASHCARDS_BY_FILE: `DELETE FROM flashcards WHERE source_file = ?`,
  GET_NEW_CARDS_FOR_REVIEW: `
    SELECT * FROM flashcards
    WHERE deck_id = ? AND due_date <= ? AND state = 'new'
    ORDER BY due_date
  `,
  GET_REVIEW_CARDS_FOR_REVIEW: `
    SELECT * FROM flashcards
    WHERE deck_id = ? AND due_date <= ? AND state = 'review'
    ORDER BY due_date
  `,
  // Review log operations
  INSERT_REVIEW_LOG: `
    INSERT INTO review_logs (
      id, flashcard_id, session_id, last_reviewed_at, shown_at, reviewed_at,
      rating, rating_label, time_elapsed_ms,
      old_state, old_repetitions, old_lapses, old_stability, old_difficulty,
      new_state, new_repetitions, new_lapses, new_stability, new_difficulty,
      old_interval_minutes, new_interval_minutes, old_due_at, new_due_at,
      elapsed_days, retrievability,
      request_retention, profile, maximum_interval_days, min_minutes,
      fsrs_weights_version, scheduler_version,
      note_model_id, card_template_id, content_hash, client
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,
  GET_LATEST_REVIEW_LOG: `
    SELECT
      rl.id, rl.flashcard_id, rl.last_reviewed_at, rl.shown_at, rl.reviewed_at,
      rl.rating, rl.rating_label, rl.time_elapsed_ms,
      rl.old_state, rl.old_repetitions, rl.old_lapses, rl.old_stability, rl.old_difficulty,
      rl.new_state, rl.new_repetitions, rl.new_lapses, rl.new_stability, rl.new_difficulty,
      rl.old_interval_minutes, rl.new_interval_minutes, rl.old_due_at, rl.new_due_at,
      rl.elapsed_days, rl.retrievability,
      rl.request_retention, rl.profile, rl.maximum_interval_days, rl.min_minutes,
      rl.fsrs_weights_version, rl.scheduler_version,
      rl.note_model_id, rl.card_template_id, rl.content_hash, rl.client
    FROM review_logs rl
    WHERE rl.flashcard_id = ?
    ORDER BY rl.reviewed_at DESC
    LIMIT 1
  `,
  // Daily review counts
  COUNT_NEW_CARDS_TODAY: `
    SELECT COUNT(*) as count FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE f.deck_id = ?
      AND rl.reviewed_at >= ?
      AND rl.reviewed_at <= ?
      AND (rl.old_interval_minutes = 0 OR f.repetitions = 1)
  `,
  COUNT_REVIEW_CARDS_TODAY: `
    SELECT COUNT(*) as count FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE f.deck_id = ?
      AND rl.reviewed_at >= ? AND rl.reviewed_at <= ?
      AND rl.old_interval_minutes > 0
  `,
  // Statistics queries
  COUNT_NEW_CARDS: `
    SELECT COUNT(*) FROM flashcards
    WHERE deck_id = ? AND state = 'new' AND due_date <= ?
  `,
  COUNT_DUE_CARDS: `
    SELECT COUNT(*) FROM flashcards
    WHERE deck_id = ? AND state = 'review' AND due_date <= ?
  `,
  COUNT_TOTAL_CARDS: `
    SELECT COUNT(*) FROM flashcards WHERE deck_id = ?
  `,
  GET_REVIEW_COUNTS_BY_DATE: `
    SELECT DATE(reviewed_at) as review_date, COUNT(*) as count
    FROM review_logs
    WHERE reviewed_at >= ? AND reviewed_at <= ?
    GROUP BY DATE(reviewed_at)
    ORDER BY review_date
  `,
  // Migration helpers
  CHECK_EXISTING_TABLES: `
    SELECT name FROM sqlite_master
    WHERE type='table' AND name IN ('decks', 'flashcards', 'review_logs')
  `,
  // Statistics queries for overall stats
  GET_DAILY_STATS: `
    SELECT
      DATE(reviewed_at) as date,
      COUNT(*) as reviews,
      AVG(time_elapsed_ms / 1000.0) as avg_time_seconds,
      SUM(CASE WHEN old_repetitions = 0 THEN 1 ELSE 0 END) as new_cards,
      SUM(CASE WHEN old_repetitions > 0 AND old_repetitions < 3 THEN 1 ELSE 0 END) as learning_cards,
      SUM(CASE WHEN old_repetitions >= 3 THEN 1 ELSE 0 END) as review_cards,
      AVG(CASE WHEN rating >= 3 THEN 1.0 ELSE 0.0 END) as correct_rate
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
    GROUP BY DATE(reviewed_at)
    ORDER BY date
  `,
  GET_DAILY_STATS_OVERALL: `
    SELECT
      DATE(reviewed_at) as date,
      COUNT(*) as reviews,
      COUNT(CASE WHEN rating_label != 'again' THEN 1 END) as correct,
      COUNT(CASE WHEN f.state = 'new' THEN 1 END) as new_cards,
      COUNT(CASE WHEN f.state = 'review' THEN 1 END) as review_cards
    FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE DATE(reviewed_at) >= DATE(?)
    GROUP BY DATE(reviewed_at)
    ORDER BY date DESC
  `,
  GET_CARD_STATS: `
    SELECT
      CASE
        WHEN f.state = 'new' THEN 'new'
        WHEN f.state = 'review' AND f.interval > 30240 THEN 'mature'
        ELSE 'review'
      END as card_type,
      COUNT(*) as count
    FROM flashcards f
    GROUP BY card_type
  `,
  GET_ANSWER_BUTTON_STATS: `
    SELECT
      rl.rating_label,
      COUNT(*) as count
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
    GROUP BY rl.rating_label
  `,
  GET_INTERVAL_DISTRIBUTION: `
    SELECT
      CASE
        WHEN f.interval < 1440 THEN '<1d'
        WHEN f.interval < 10080 THEN '1-7d'
        WHEN f.interval < 43200 THEN '1-4w'
        WHEN f.interval < 129600 THEN '1-3m'
        WHEN f.interval < 525600 THEN '3-12m'
        ELSE '>1y'
      END as interval_range,
      COUNT(*) as count
    FROM flashcards f
    WHERE f.state = 'review'
    GROUP BY interval_range
    ORDER BY
      CASE interval_range
        WHEN '<1d' THEN 1
        WHEN '1-7d' THEN 2
        WHEN '1-4w' THEN 3
        WHEN '1-3m' THEN 4
        WHEN '3-12m' THEN 5
        WHEN '>1y' THEN 6
      END
  `,
  GET_FORECAST_DUE_COUNT: `
    SELECT COUNT(*) as due_count
    FROM flashcards f
    WHERE DATE(f.due_date) = DATE(?)
  `,
  GET_PACE_STATS: `
    SELECT
      AVG(rl.time_elapsed_ms / 1000.0) as avg_pace,
      SUM(rl.time_elapsed_ms / 1000.0) as total_time
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
      AND rl.time_elapsed_ms IS NOT NULL
      AND rl.time_elapsed_ms > 0
  `,
  // Review Session operations
  INSERT_REVIEW_SESSION: `
    INSERT INTO review_sessions (
      id, deck_id, started_at, ended_at, goal_total, done_unique
    ) VALUES (?, ?, ?, ?, ?, ?)
  `,
  GET_REVIEW_SESSION_BY_ID: `SELECT * FROM review_sessions WHERE id = ?`,
  UPDATE_REVIEW_SESSION_DONE_UNIQUE: `
    UPDATE review_sessions
    SET done_unique = ?
    WHERE id = ?
  `,
  UPDATE_REVIEW_SESSION_END: `
    UPDATE review_sessions
    SET ended_at = ?
    WHERE id = ?
  `,
  GET_ACTIVE_REVIEW_SESSION: `
    SELECT * FROM review_sessions
    WHERE deck_id = ? AND ended_at IS NULL
    ORDER BY started_at DESC
    LIMIT 1
  `,
  CHECK_CARD_REVIEWED_IN_SESSION: `
    SELECT COUNT(*) as count
    FROM review_logs
    WHERE session_id = ? AND flashcard_id = ?
  `
};

// src/database/migrations.ts
function getCurrentSchemaVersion(db) {
  try {
    const stmt = db.prepare(`PRAGMA user_version`);
    let version = 0;
    if (stmt.step()) {
      const row = stmt.get();
      version = Number(row[0]) || 0;
    }
    stmt.free();
    return version;
  } catch (error) {
    return 0;
  }
}
function needsMigration(db) {
  return getCurrentSchemaVersion(db) !== CURRENT_SCHEMA_VERSION;
}
function createTables(db, debugLog) {
  const log = debugLog || (() => {
  });
  try {
    log(`Creating fresh database schema (version ${CURRENT_SCHEMA_VERSION})`);
    db.run(CREATE_TABLES_SQL);
    log(`\u2705 Database schema created successfully`);
  } catch (error) {
    log(`\u274C Schema creation failed: ${error}`);
    throw new Error(`Schema creation failed: ${error}`);
  }
}
function migrate(db, debugLog) {
  const log = debugLog || (() => {
  });
  const currentVersion = getCurrentSchemaVersion(db);
  if (currentVersion === CURRENT_SCHEMA_VERSION) {
    log(`Schema is already up to date (version ${CURRENT_SCHEMA_VERSION})`);
    return;
  }
  log(
    `Migrating schema from version ${currentVersion} to ${CURRENT_SCHEMA_VERSION}`
  );
  try {
    db.run(CREATE_TABLES_SQL);
    const migrationSQL = buildMigrationSQL(db);
    db.run(migrationSQL);
    log(`\u2705 Migration completed successfully`);
  } catch (error) {
    log(`\u274C Migration failed: ${error}`);
  }
}

// src/database/DatabaseService.ts
var DatabaseService = class {
  constructor(dbPath, adapter, debugLog) {
    this.db = null;
    this.SQL = null;
    this.dbPath = dbPath;
    this.adapter = adapter;
    this.debugLog = debugLog;
  }
  async initialize() {
    try {
      this.SQL = await (0, import_sql.default)({
        locateFile: (file7) => `https://sql.js.org/dist/${file7}`
      });
      const buffer = await this.loadDatabaseFile();
      if (buffer) {
        this.db = new this.SQL.Database(new Uint8Array(buffer));
        await this.migrateSchemaIfNeeded();
      } else {
        this.db = new this.SQL.Database();
        await this.createFreshDatabase();
      }
    } catch (error) {
      console.error("Failed to initialize database:", error);
      throw error;
    }
  }
  async loadDatabaseFile() {
    try {
      if (await this.adapter.exists(this.dbPath)) {
        const data = await this.adapter.readBinary(this.dbPath);
        return data;
      }
      return null;
    } catch (error) {
      this.debugLog("Database file doesn't exist yet, will create new one");
      return null;
    }
  }
  async save() {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const data = this.db.export();
      const dir = this.dbPath.substring(0, this.dbPath.lastIndexOf("/"));
      if (!await this.adapter.exists(dir)) {
        await this.adapter.mkdir(dir);
      }
      await this.adapter.writeBinary(this.dbPath, Buffer.from(data));
    } catch (error) {
      console.error("Failed to save database:", error);
      throw error;
    }
  }
  // Generic CRUD helper methods
  executeStatement(sql, params = []) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(sql);
    try {
      stmt.run(params);
    } finally {
      stmt.free();
    }
  }
  executeStatementWithSave(sql, params = []) {
    return this.executeStatementWithCallback(sql, params, () => this.save());
  }
  async executeStatementWithCallback(sql, params, callback) {
    if (!this.db)
      throw new Error("Database not initialized");
    let stmt;
    try {
      stmt = this.db.prepare(sql);
      stmt.run(params);
      stmt.free();
      stmt = null;
      if (callback) {
        await callback();
      }
    } catch (error) {
      if (stmt) {
        try {
          stmt.free();
        } catch (freeError) {
          console.error(`Failed to free statement:`, freeError);
        }
      }
      throw error;
    }
  }
  queryAll(sql, params = [], parser) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(sql);
    const results = [];
    try {
      if (params.length > 0) {
        stmt.bind(params);
      }
      while (stmt.step()) {
        results.push(parser(stmt.get()));
      }
    } finally {
      stmt.free();
    }
    return results;
  }
  queryOne(sql, params = [], parser) {
    const results = this.queryAll(sql, params, parser);
    return results.length > 0 ? results[0] : null;
  }
  // Transaction methods
  beginTransaction() {
    if (!this.db)
      throw new Error("Database not initialized");
    this.db.run("BEGIN TRANSACTION;");
  }
  commitTransaction() {
    if (!this.db)
      throw new Error("Database not initialized");
    this.db.run("COMMIT;");
  }
  rollbackTransaction() {
    if (!this.db)
      throw new Error("Database not initialized");
    this.db.run("ROLLBACK;");
  }
  // Batch operations using single prepared statements
  batchCreateFlashcards(flashcards) {
    if (!this.db)
      throw new Error("Database not initialized");
    if (flashcards.length === 0)
      return;
    const stmt = this.db.prepare(SQL_QUERIES.INSERT_FLASHCARD);
    const now = (/* @__PURE__ */ new Date()).toISOString();
    try {
      for (const flashcard of flashcards) {
        stmt.run([
          flashcard.id,
          flashcard.deckId,
          flashcard.front,
          flashcard.back,
          flashcard.type,
          flashcard.sourceFile,
          flashcard.contentHash,
          flashcard.state,
          flashcard.dueDate,
          flashcard.interval,
          flashcard.repetitions,
          flashcard.difficulty,
          flashcard.stability,
          flashcard.lapses,
          flashcard.lastReviewed,
          now,
          // created
          now
          // modified
        ]);
      }
    } finally {
      stmt.free();
    }
  }
  batchUpdateFlashcards(updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    if (updates.length === 0)
      return;
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const updateGroups = /* @__PURE__ */ new Map();
    for (const { id, updates: updateData } of updates) {
      const fields = [];
      const values = [];
      for (const [key, value] of Object.entries(updateData)) {
        if (value !== void 0) {
          const dbField = key === "dueDate" ? "due_date" : key === "lastReviewed" ? "last_reviewed" : key === "contentHash" ? "content_hash" : key;
          fields.push(`${dbField} = ?`);
          values.push(value);
        }
      }
      if (fields.length === 0)
        continue;
      fields.push("modified = ?");
      values.push(now, id);
      const fieldSignature = fields.slice(0, -1).join(",");
      if (!updateGroups.has(fieldSignature)) {
        updateGroups.set(fieldSignature, []);
      }
      updateGroups.get(fieldSignature).push({ id, values });
    }
    for (const [fieldSignature, groupUpdates] of updateGroups) {
      const fields = fieldSignature.split(",").map((f) => f.trim());
      fields.push("modified = ?");
      const sql = `UPDATE flashcards SET ${fields.join(", ")} WHERE id = ?`;
      const stmt = this.db.prepare(sql);
      try {
        for (const { values } of groupUpdates) {
          stmt.run(values);
        }
      } finally {
        stmt.free();
      }
    }
  }
  batchDeleteFlashcards(flashcardIds) {
    if (!this.db)
      throw new Error("Database not initialized");
    if (flashcardIds.length === 0)
      return;
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_FLASHCARD);
    try {
      for (const id of flashcardIds) {
        stmt.run([id]);
      }
    } finally {
      stmt.free();
    }
  }
  async createFreshDatabase() {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      this.debugLog("Creating fresh database schema...");
      createTables(this.db, this.debugLog.bind(this));
      await this.save();
      this.debugLog("Fresh database created successfully");
    } catch (error) {
      this.debugLog(`Fresh database creation failed: ${error}`);
      throw new Error(`Fresh database creation failed: ${error}`);
    }
  }
  // Helper method to parse deck rows
  parseDeckRow(row) {
    let config = DEFAULT_DECK_CONFIG;
    if (row[5]) {
      try {
        config = JSON.parse(row[5]);
      } catch (error) {
        this.debugLog(
          `Failed to parse deck config JSON: ${row[5]}, using default config. Error: ${error}`
        );
        config = DEFAULT_DECK_CONFIG;
      }
    }
    if (!config.fsrs) {
      config = {
        ...config,
        fsrs: DEFAULT_DECK_CONFIG.fsrs
      };
    }
    if (config.newCardsPerDay === void 0 && config.newCardsLimit !== void 0) {
      config = {
        ...config,
        newCardsPerDay: config.enableNewCardsLimit ? config.newCardsLimit : 0,
        reviewCardsPerDay: config.enableReviewCardsLimit ? config.reviewCardsLimit : 0
      };
    }
    if (config.headerLevel === void 0) {
      config = {
        ...config,
        headerLevel: DEFAULT_DECK_CONFIG.headerLevel
      };
    }
    return {
      id: row[0],
      name: row[1],
      filepath: row[2],
      tag: row[3],
      lastReviewed: row[4],
      config,
      created: row[6],
      modified: row[7]
    };
  }
  // Deck operations
  async createDeck(deck) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullDeck = {
      ...deck,
      created: now,
      modified: now
    };
    try {
      const stmt = this.db.prepare(SQL_QUERIES.INSERT_DECK);
      stmt.run([
        fullDeck.id,
        fullDeck.name,
        fullDeck.filepath,
        fullDeck.tag,
        fullDeck.lastReviewed,
        JSON.stringify(fullDeck.config),
        fullDeck.created,
        fullDeck.modified
      ]);
      stmt.free();
      await this.save();
      return fullDeck;
    } catch (error) {
      throw error;
    }
  }
  async getDeckByTag(tag) {
    return this.queryOne(
      SQL_QUERIES.GET_DECK_BY_TAG,
      [tag],
      this.parseDeckRow.bind(this)
    );
  }
  async getDeckByFilepath(filepath) {
    return this.queryOne(
      SQL_QUERIES.GET_DECK_BY_FILEPATH,
      [filepath],
      this.parseDeckRow.bind(this)
    );
  }
  async getDeckById(id) {
    return this.queryOne(
      SQL_QUERIES.GET_DECK_BY_ID,
      [id],
      this.parseDeckRow.bind(this)
    );
  }
  async updateDeck(deckId, updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    if (Object.keys(updates).length === 0) {
      return;
    }
    const updateFields = Object.keys(updates).map((key) => {
      const dbField = key === "lastReviewed" ? "last_reviewed" : key;
      return `${dbField} = ?`;
    }).join(", ");
    const sql = `UPDATE decks SET ${updateFields}, modified = ? WHERE id = ?`;
    const stmt = this.db.prepare(sql);
    const values = Object.values(updates).map(
      (value, index) => {
        const key = Object.keys(updates)[index];
        return key === "config" ? JSON.stringify(value) : value;
      }
    );
    values.push(now, deckId);
    stmt.run(values);
    stmt.free();
    await this.save();
  }
  updateDeckTimestampCore(deckId, timestamp) {
    this.executeStatement(SQL_QUERIES.UPDATE_DECK_TIMESTAMP, [
      timestamp,
      deckId
    ]);
  }
  async updateDeckTimestamp(deckId, timestamp) {
    this.updateDeckTimestampCore(deckId, timestamp);
    await this.save();
  }
  // Version without save for use in transactions
  async updateDeckTimestampWithoutSave(deckId, timestamp) {
    this.updateDeckTimestampCore(deckId, timestamp);
  }
  async getAllDecks() {
    return this.queryAll(
      SQL_QUERIES.GET_ALL_DECKS,
      [],
      this.parseDeckRow.bind(this)
    );
  }
  async updateDeckLastReviewed(deckId) {
    const now = (/* @__PURE__ */ new Date()).toISOString();
    await this.executeStatementWithSave(SQL_QUERIES.UPDATE_DECK_LAST_REVIEWED, [
      now,
      now,
      deckId
    ]);
  }
  async updateDeckHeaderLevel(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const stmt = this.db.prepare(`
      UPDATE decks
      SET header_level = ?, modified = ?
      WHERE id = ?
    `);
    stmt.run([headerLevel, now, deckId]);
    stmt.free();
    await this.save();
  }
  async renameDeck(oldDeckId, newDeckId, newName, newFilepath) {
    const now = (/* @__PURE__ */ new Date()).toISOString();
    await this.executeStatementWithSave(SQL_QUERIES.RENAME_DECK, [
      newDeckId,
      newName,
      newFilepath,
      now,
      oldDeckId
    ]);
  }
  async deleteDeckByFilepath(filepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckByFilepath(filepath);
    if (!deck)
      return;
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_DECK_BY_FILEPATH);
    stmt.run([filepath]);
    stmt.free();
    await this.save();
  }
  async deleteDeck(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_DECK);
    stmt.run([deckId]);
    stmt.free();
    await this.save();
  }
  // Flashcard operations
  createFlashcardCore(flashcard) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullFlashcard = {
      ...flashcard,
      created: now,
      modified: now
    };
    let stmt;
    try {
      stmt = this.db.prepare(SQL_QUERIES.INSERT_FLASHCARD);
      stmt.run([
        fullFlashcard.id,
        fullFlashcard.deckId,
        fullFlashcard.front,
        fullFlashcard.back,
        fullFlashcard.type,
        fullFlashcard.sourceFile,
        fullFlashcard.contentHash,
        fullFlashcard.state,
        fullFlashcard.dueDate,
        flashcard.interval,
        flashcard.repetitions,
        flashcard.difficulty,
        flashcard.stability,
        flashcard.lapses,
        fullFlashcard.lastReviewed,
        fullFlashcard.created,
        fullFlashcard.modified
      ]);
      stmt.free();
      return fullFlashcard;
    } catch (error) {
      console.error(`Failed to create flashcard ${fullFlashcard.id}:`, error);
      if (stmt) {
        try {
          stmt.free();
        } catch (freeError) {
          console.error(`Failed to free statement:`, freeError);
        }
      }
      throw error;
    }
  }
  async createFlashcard(flashcard) {
    const result = this.createFlashcardCore(flashcard);
    await this.save();
    return result;
  }
  // Version without save for use in transactions
  async createFlashcardWithoutSave(flashcard) {
    return this.createFlashcardCore(flashcard);
  }
  updateFlashcardCore(flashcardId, updates) {
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fields = [];
    const values = [];
    for (const [key, value] of Object.entries(updates)) {
      if (value !== void 0) {
        const dbField = key === "dueDate" ? "due_date" : key === "lastReviewed" ? "last_reviewed" : key === "contentHash" ? "content_hash" : key;
        fields.push(`${dbField} = ?`);
        values.push(value);
      }
    }
    if (fields.length === 0)
      return;
    fields.push("modified = ?");
    values.push(now, flashcardId);
    const sql = `UPDATE flashcards SET ${fields.join(", ")} WHERE id = ?`;
    this.executeStatement(sql, values);
  }
  async updateFlashcard(flashcardId, updates) {
    this.updateFlashcardCore(flashcardId, updates);
    await this.save();
  }
  // Version without save for use in transactions
  async updateFlashcardWithoutSave(flashcardId, updates) {
    this.updateFlashcardCore(flashcardId, updates);
  }
  deleteFlashcardCore(flashcardId) {
    this.executeStatement(SQL_QUERIES.DELETE_FLASHCARD, [flashcardId]);
  }
  async deleteFlashcard(flashcardId) {
    this.deleteFlashcardCore(flashcardId);
    await this.save();
  }
  // Version without save for use in transactions
  async deleteFlashcardWithoutSave(flashcardId) {
    this.deleteFlashcardCore(flashcardId);
  }
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    await this.executeStatementWithSave(SQL_QUERIES.UPDATE_FLASHCARD_DECK_IDS, [
      newDeckId,
      oldDeckId
    ]);
  }
  async getFlashcardsByDeck(deckId) {
    return this.queryAll(
      SQL_QUERIES.GET_FLASHCARDS_BY_DECK,
      [deckId],
      this.rowToFlashcard.bind(this)
    );
  }
  async getDueFlashcards(deckId) {
    const now = (/* @__PURE__ */ new Date()).toISOString();
    return this.queryAll(
      SQL_QUERIES.GET_DUE_FLASHCARDS,
      [deckId, now],
      this.rowToFlashcard.bind(this)
    );
  }
  async getDailyReviewCounts(deckId) {
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayStart = `${today}T00:00:00.000Z`;
    const todayEnd = `${today}T23:59:59.999Z`;
    const newResult = this.queryOne(
      SQL_QUERIES.COUNT_NEW_CARDS_TODAY,
      [deckId, todayStart, todayEnd],
      (row) => Number(row[0])
    );
    const newCount = newResult || 0;
    const reviewResult = this.queryOne(
      SQL_QUERIES.COUNT_REVIEW_CARDS_TODAY,
      [deckId, todayStart, todayEnd],
      (row) => Number(row[0])
    );
    const reviewCount = reviewResult || 0;
    return { newCount, reviewCount };
  }
  async getReviewableFlashcards(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const flashcards = [];
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const newCardsLimit = Number(config.newCardsPerDay) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    const remainingNewCards = hasNewCardsLimit(config) && newCardsLimit > 0 ? Math.max(0, newCardsLimit - newCountToday) : hasNewCardsLimit(config) && newCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingNewCards > 0) {
      const sql = `${SQL_QUERIES.GET_NEW_CARDS_FOR_REVIEW}${hasNewCardsLimit(config) ? ` LIMIT ${remainingNewCards}` : ""}`;
      const newCardsStmt = this.db.prepare(sql);
      newCardsStmt.bind([deckId, now]);
      while (newCardsStmt.step()) {
        const row = newCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      newCardsStmt.free();
    }
    const reviewCardsLimit = Number(config.reviewCardsPerDay) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    const remainingReviewCards = hasReviewCardsLimit(config) && reviewCardsLimit > 0 ? Math.max(0, reviewCardsLimit - reviewCountToday) : hasReviewCardsLimit(config) && reviewCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingReviewCards > 0) {
      const sql = `${SQL_QUERIES.GET_REVIEW_CARDS_FOR_REVIEW}${hasReviewCardsLimit(config) ? ` LIMIT ${remainingReviewCards}` : ""}`;
      const reviewCardsStmt = this.db.prepare(sql);
      reviewCardsStmt.bind([deckId, now]);
      while (reviewCardsStmt.step()) {
        const row = reviewCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      reviewCardsStmt.free();
    }
    flashcards.sort((a, b) => {
      const stateOrder = { review: 1, new: 2 };
      const aOrder = stateOrder[a.state];
      const bOrder = stateOrder[b.state];
      if (aOrder !== bOrder) {
        return aOrder - bOrder;
      }
      if (a.state === "review") {
        if (config.reviewOrder === "random") {
          return Math.random() - 0.5;
        } else {
          return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
        }
      } else if (a.state === "new") {
        return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
      }
      return 0;
    });
    return flashcards;
  }
  async getLatestReviewLogForFlashcard(flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_LATEST_REVIEW_LOG);
    stmt.bind([flashcardId]);
    if (stmt.step()) {
      const row = stmt.get();
      stmt.free();
      return {
        id: row[0],
        flashcardId: row[1],
        lastReviewedAt: row[2],
        shownAt: row[3],
        reviewedAt: row[4],
        rating: row[5],
        ratingLabel: row[6],
        timeElapsedMs: row[7],
        oldState: row[8],
        oldRepetitions: row[9],
        oldLapses: row[10],
        oldStability: row[11],
        oldDifficulty: row[12],
        newState: row[13],
        newRepetitions: row[14],
        newLapses: row[15],
        newStability: row[16],
        newDifficulty: row[17],
        oldIntervalMinutes: row[18],
        newIntervalMinutes: row[19],
        oldDueAt: row[20],
        newDueAt: row[21],
        elapsedDays: row[22],
        retrievability: row[23],
        requestRetention: row[24],
        profile: row[25] || "STANDARD",
        maximumIntervalDays: row[26],
        minMinutes: row[27],
        fsrsWeightsVersion: row[28],
        schedulerVersion: row[29],
        noteModelId: row[30],
        cardTemplateId: row[31],
        contentHash: row[32],
        client: row[33]
      };
    }
    stmt.free();
    return null;
  }
  async deleteFlashcardsByFile(sourceFile) {
    await this.executeStatementWithSave(SQL_QUERIES.DELETE_FLASHCARDS_BY_FILE, [
      sourceFile
    ]);
  }
  // Review log operations
  async createReviewLog(log) {
    if (!this.db)
      throw new Error("Database not initialized");
    const id = `review_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    const stmt = this.db.prepare(SQL_QUERIES.INSERT_REVIEW_LOG);
    stmt.run([
      id,
      log.flashcardId,
      log.sessionId || null,
      log.lastReviewedAt,
      log.shownAt || null,
      log.reviewedAt,
      log.rating,
      log.ratingLabel,
      log.timeElapsedMs || null,
      log.oldState,
      log.oldRepetitions,
      log.oldLapses,
      log.oldStability,
      log.oldDifficulty,
      log.newState,
      log.newRepetitions,
      log.newLapses,
      log.newStability,
      log.newDifficulty,
      log.oldIntervalMinutes,
      log.newIntervalMinutes,
      log.oldDueAt,
      log.newDueAt,
      log.elapsedDays,
      log.retrievability,
      log.requestRetention,
      log.profile,
      log.maximumIntervalDays,
      log.minMinutes,
      log.fsrsWeightsVersion,
      log.schedulerVersion,
      log.noteModelId || null,
      log.cardTemplateId || null,
      log.contentHash || null,
      log.client || null
    ]);
    stmt.free();
    await this.save();
  }
  // Review session operations
  async createReviewSession(session) {
    if (!this.db)
      throw new Error("Database not initialized");
    const id = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    const stmt = this.db.prepare(SQL_QUERIES.INSERT_REVIEW_SESSION);
    stmt.run([
      id,
      session.deckId,
      session.startedAt,
      session.endedAt || null,
      session.goalTotal,
      session.doneUnique
    ]);
    stmt.free();
    await this.save();
    return id;
  }
  async getReviewSessionById(sessionId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_REVIEW_SESSION_BY_ID);
    stmt.bind([sessionId]);
    if (stmt.step()) {
      const row = stmt.get();
      stmt.free();
      return this.rowToReviewSession(row);
    }
    stmt.free();
    return null;
  }
  async getActiveReviewSession(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_ACTIVE_REVIEW_SESSION);
    stmt.bind([deckId]);
    if (stmt.step()) {
      const row = stmt.get();
      stmt.free();
      return this.rowToReviewSession(row);
    }
    stmt.free();
    return null;
  }
  async updateReviewSessionDoneUnique(sessionId, doneUnique) {
    await this.executeStatementWithSave(
      SQL_QUERIES.UPDATE_REVIEW_SESSION_DONE_UNIQUE,
      [doneUnique, sessionId]
    );
  }
  async endReviewSession(sessionId, endedAt) {
    await this.executeStatementWithSave(SQL_QUERIES.UPDATE_REVIEW_SESSION_END, [
      endedAt,
      sessionId
    ]);
  }
  async isCardReviewedInSession(sessionId, flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.CHECK_CARD_REVIEWED_IN_SESSION);
    stmt.bind([sessionId, flashcardId]);
    let count = 0;
    if (stmt.step()) {
      const row = stmt.get();
      count = row[0];
    }
    stmt.free();
    return count > 0;
  }
  // Statistics operations
  async getDeckStats(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const newStmt = this.db.prepare(SQL_QUERIES.COUNT_NEW_CARDS);
    newStmt.bind([deckId, now]);
    newStmt.step();
    const totalNewCards = newStmt.get()[0] || 0;
    newStmt.free();
    let newCount = totalNewCards;
    const newCardsLimit = Number(config.newCardsPerDay) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    if (hasNewCardsLimit(config) && newCardsLimit > 0) {
      const remainingNew = Math.max(0, newCardsLimit - newCountToday);
      newCount = Math.min(totalNewCards, remainingNew);
    } else if (hasNewCardsLimit(config) && newCardsLimit === 0) {
      newCount = 0;
    }
    const learningCount = 0;
    const dueStmt = this.db.prepare(SQL_QUERIES.COUNT_DUE_CARDS);
    dueStmt.bind([deckId, now]);
    dueStmt.step();
    const totalDueCards = dueStmt.get()[0] || 0;
    dueStmt.free();
    let dueCount = totalDueCards;
    const reviewCardsLimit = Number(config.reviewCardsPerDay) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    if (hasReviewCardsLimit(config) && reviewCardsLimit > 0) {
      const remainingReview = Math.max(0, reviewCardsLimit - reviewCountToday);
      dueCount = Math.min(totalDueCards, remainingReview);
    } else if (hasReviewCardsLimit(config) && reviewCardsLimit === 0) {
      dueCount = 0;
    }
    const totalStmt = this.db.prepare(SQL_QUERIES.COUNT_TOTAL_CARDS);
    totalStmt.bind([deckId]);
    totalStmt.step();
    const totalCount = totalStmt.get()[0] || 0;
    totalStmt.free();
    return {
      deckId,
      newCount,
      dueCount,
      totalCount
    };
  }
  async getAllDeckStats() {
    if (!this.db)
      throw new Error("Database not initialized");
    const decks = await this.getAllDecks();
    const stats = [];
    for (const deck of decks) {
      const deckStats = await this.getDeckStats(deck.id);
      stats.push(deckStats);
    }
    return stats;
  }
  async getReviewCountsByDate(days = 365) {
    if (!this.db)
      throw new Error("Database not initialized");
    const endDate = /* @__PURE__ */ new Date();
    const startDate = /* @__PURE__ */ new Date();
    startDate.setDate(endDate.getDate() - days);
    const stmt = this.db.prepare(SQL_QUERIES.GET_REVIEW_COUNTS_BY_DATE);
    stmt.bind([startDate.toISOString(), endDate.toISOString()]);
    const reviewCounts = /* @__PURE__ */ new Map();
    while (stmt.step()) {
      const row = stmt.get();
      const date = row[0];
      const count = row[1];
      reviewCounts.set(date, count);
    }
    stmt.free();
    return reviewCounts;
  }
  async migrateSchemaIfNeeded() {
    if (!this.db)
      return;
    try {
      this.debugLog("Starting database migration check...");
      if (needsMigration(this.db)) {
        this.debugLog("Migration needed, applying...");
        migrate(this.db, this.debugLog.bind(this));
        await this.save();
        this.debugLog("Migration completed successfully");
      } else {
        this.debugLog("Database schema is up to date");
      }
    } catch (error) {
      this.debugLog(`Migration failed: ${error}`);
      throw new Error(`Database migration failed: ${error}`);
    }
  }
  // Helper methods
  rowToFlashcard(row) {
    return {
      id: row[0],
      deckId: row[1],
      front: row[2],
      back: row[3],
      type: row[4],
      sourceFile: row[5],
      contentHash: row[6],
      state: row[7],
      dueDate: row[8],
      interval: row[9],
      repetitions: row[10],
      difficulty: row[11],
      stability: row[12],
      lapses: row[13],
      lastReviewed: row[14],
      created: row[15],
      modified: row[16]
    };
  }
  rowToReviewSession(row) {
    return {
      id: row[0],
      deckId: row[1],
      startedAt: row[2],
      endedAt: row[3],
      goalTotal: row[4],
      doneUnique: row[5]
    };
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const cutoffDate = /* @__PURE__ */ new Date();
      if (timeframe === "12months") {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 1);
      } else {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 10);
      }
      let deckFilterCondition = "";
      let deckFilterParams = [];
      if (deckFilter.startsWith("deck:")) {
        const deckId = deckFilter.substring(5);
        deckFilterCondition = "AND f.deck_id = ?";
        deckFilterParams.push(deckId);
      } else if (deckFilter.startsWith("tag:")) {
        const tag = deckFilter.substring(4);
        deckFilterCondition = "AND d.tag = ?";
        deckFilterParams.push(tag);
      }
      const dailyStatsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_DAILY_STATS_OVERALL.replace(
          "FROM review_logs rl",
          "FROM review_logs rl"
        ).replace(
          "JOIN flashcards f ON rl.flashcard_id = f.id",
          "JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE DATE(reviewed_at) >= DATE(?)",
          `WHERE DATE(reviewed_at) >= DATE(?) ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_DAILY_STATS_OVERALL
      );
      dailyStatsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      const dailyStats = [];
      while (dailyStatsStmt.step()) {
        const row = dailyStatsStmt.get();
        const reviews = row[1];
        const correct = row[2];
        dailyStats.push({
          date: row[0],
          reviews,
          timeSpent: reviews * 30,
          // Estimate 30 seconds per review
          newCards: row[3],
          learningCards: 0,
          // No learning cards in pure FSRS
          reviewCards: row[4],
          correctRate: reviews > 0 ? correct / reviews * 100 : 0
        });
      }
      dailyStatsStmt.free();
      const cardStatsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_CARD_STATS.replace(
          "FROM flashcards f",
          "FROM flashcards f JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "GROUP BY f.state",
          `WHERE ${deckFilterCondition.replace("d.", "d.")} GROUP BY f.state`
        ) : SQL_QUERIES.GET_CARD_STATS
      );
      const cardStats = {
        new: 0,
        review: 0,
        mature: 0
      };
      if (deckFilterCondition) {
        cardStatsStmt.bind(deckFilterParams);
      }
      while (cardStatsStmt.step()) {
        const row = cardStatsStmt.get();
        const cardType = row[0];
        const count = row[1];
        if (cardType === "new")
          cardStats.new = count;
        else if (cardType === "review")
          cardStats.review = count;
        else if (cardType === "mature")
          cardStats.mature = count;
      }
      cardStatsStmt.free();
      const answerButtonsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_ANSWER_BUTTON_STATS.replace(
          "FROM review_logs rl",
          "FROM review_logs rl JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?",
          `WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ? ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_ANSWER_BUTTON_STATS
      );
      const answerButtons = {
        again: 0,
        hard: 0,
        good: 0,
        easy: 0
      };
      answerButtonsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      while (answerButtonsStmt.step()) {
        const row = answerButtonsStmt.get();
        const ratingLabel = row[0];
        const count = row[1];
        answerButtons[ratingLabel] = count;
      }
      answerButtonsStmt.free();
      const totalReviews = Object.values(answerButtons).reduce(
        (sum, count) => sum + count,
        0
      );
      const correctReviews = totalReviews - answerButtons.again;
      const retentionRate = totalReviews > 0 ? correctReviews / totalReviews * 100 : 0;
      const intervalsStmt = this.db.prepare(`
      SELECT
        CASE
          WHEN f.interval < 1440 THEN CAST(f.interval / 60 AS INTEGER) || 'h'
          WHEN f.interval < 43200 THEN CAST(f.interval / 1440 AS INTEGER) || 'd'
          ELSE CAST(f.interval / 43200 AS INTEGER) || 'm'
        END as interval_group,
        COUNT(*) as count
      FROM flashcards f
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE f.state != 'new'
      ${deckFilterCondition}
      GROUP BY interval_group
      ORDER BY f.interval
    `);
      if (deckFilterCondition) {
        intervalsStmt.bind(deckFilterParams);
      }
      const intervals = [];
      while (intervalsStmt.step()) {
        const row = intervalsStmt.get();
        intervals.push({
          interval: row[0],
          count: row[1]
        });
      }
      intervalsStmt.free();
      const forecast = [];
      const today = /* @__PURE__ */ new Date();
      for (let i = 0; i < 90; i++) {
        const forecastDate = new Date(today);
        forecastDate.setDate(today.getDate() + i);
        const dateStr = forecastDate.toISOString().split("T")[0];
        const forecastStmt = this.db.prepare(
          deckFilterCondition ? SQL_QUERIES.GET_FORECAST_DUE_COUNT.replace(
            "FROM flashcards f",
            "FROM flashcards f JOIN decks d ON f.deck_id = d.id"
          ).replace(
            "WHERE DATE(f.due_date) = DATE(?)",
            `WHERE DATE(f.due_date) = DATE(?) ${deckFilterCondition}`
          ) : SQL_QUERIES.GET_FORECAST_DUE_COUNT
        );
        forecastStmt.bind([dateStr, ...deckFilterParams]);
        let dueCount = 0;
        if (forecastStmt.step()) {
          const row = forecastStmt.get();
          dueCount = row[0];
        }
        forecastStmt.free();
        forecast.push({
          date: dateStr,
          dueCount
        });
      }
      const paceStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_PACE_STATS.replace(
          "FROM review_logs rl",
          "FROM review_logs rl JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?",
          `WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ? ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_PACE_STATS
      );
      const endDate = (/* @__PURE__ */ new Date()).toISOString();
      if (deckFilterCondition) {
        paceStmt.bind([cutoffDate.toISOString(), endDate, ...deckFilterParams]);
      } else {
        paceStmt.bind([cutoffDate.toISOString(), endDate]);
      }
      let averagePace = 0;
      let totalReviewTime = 0;
      if (paceStmt.step()) {
        const row = paceStmt.get();
        averagePace = row[0] || 0;
        totalReviewTime = row[1] || 0;
      }
      paceStmt.free();
      return {
        dailyStats,
        cardStats,
        answerButtons,
        retentionRate,
        intervals,
        forecast,
        averagePace,
        totalReviewTime
      };
    } catch (error) {
      console.error("Error in getOverallStatistics:", error);
      return {
        dailyStats: [],
        cardStats: { new: 0, review: 0, mature: 0 },
        answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
        retentionRate: 0,
        intervals: [],
        forecast: [],
        averagePace: 0,
        totalReviewTime: 0
      };
    }
  }
  async purgeDatabase() {
    this.debugLog("Purging database - deleting all data");
    try {
      if (this.db) {
        this.db.exec(`
          DROP TABLE IF EXISTS review_logs;
          DROP TABLE IF EXISTS flashcards;
          DROP TABLE IF EXISTS decks;
        `);
        this.debugLog("All tables dropped, recreating schema");
        await this.createFreshDatabase();
        await this.save();
        this.debugLog("Database purged and recreated successfully");
      }
    } catch (error) {
      console.error("Error purging database:", error);
      throw error;
    }
  }
  async getFlashcardById(cardId) {
    return this.queryOne(
      "SELECT * FROM flashcards WHERE id = ?",
      [cardId],
      this.rowToFlashcard.bind(this)
    );
  }
  /**
   * Execute multiple operations in a database transaction
   * Note: For sql.js compatibility, avoid using this for now
   */
  async runInTransaction(operations) {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      this.db.exec("BEGIN TRANSACTION");
      const result = await operations();
      this.db.exec("COMMIT");
      return result;
    } catch (error) {
      try {
        this.db.exec("ROLLBACK");
      } catch (rollbackError) {
        console.warn("Transaction rollback failed:", rollbackError);
      }
      throw error;
    }
  }
  /**
   * Execute a raw SQL query and return results
   */
  async query(sql, params = []) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(sql);
    stmt.bind(params);
    const results = [];
    while (stmt.step()) {
      results.push(stmt.get());
    }
    stmt.free();
    return results;
  }
  async close() {
    if (this.db) {
      this.db.close();
      this.db = null;
    }
  }
};

// src/services/DeckManager.ts
var import_obsidian = require("obsidian");

// src/utils/ui.ts
async function yieldToUI() {
  await new Promise((resolve) => {
    if (typeof requestAnimationFrame !== "undefined") {
      requestAnimationFrame(() => resolve(null));
    } else {
      setTimeout(() => resolve(null), 0);
    }
  });
}
async function yieldEvery(currentIndex, yieldInterval = 1e3) {
  if (currentIndex > 0 && currentIndex % yieldInterval === 0) {
    await yieldToUI();
  }
}

// src/services/DeckManager.ts
var MAX_FLASHCARDS_PER_DECK = 5e4;
var _DeckManager = class _DeckManager {
  constructor(vault, metadataCache, db, plugin) {
    this.vault = vault;
    this.metadataCache = metadataCache;
    this.db = db;
    this.plugin = plugin;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  debugLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.debugLog) {
      this.plugin.debugLog(message, ...args);
    }
  }
  performanceLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.performanceLog) {
      this.plugin.performanceLog(message, ...args);
    }
  }
  /**
   * Scan vault for all decks (files with #flashcards tags)
   */
  async scanVaultForDecks() {
    const decksMap = /* @__PURE__ */ new Map();
    const files = this.vault.getMarkdownFiles();
    this.debugLog(`Scanning ${files.length} markdown files for flashcard tags`);
    for (const file7 of files) {
      const metadata = this.metadataCache.getFileCache(file7);
      if (!metadata) {
        this.debugLog(`No metadata for file: ${file7.path}`);
        continue;
      }
      this.debugLog(`Checking file: ${file7.path}`);
      const allTags = [];
      if (metadata.tags) {
        const inlineTags = metadata.tags.map((t) => t.tag);
        allTags.push(...inlineTags);
        this.debugLog(`File ${file7.path} has inline tags:`, inlineTags);
      }
      if (metadata.frontmatter && metadata.frontmatter.tags) {
        const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
        const normalizedTags = frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        );
        allTags.push(...normalizedTags);
        this.debugLog(
          `File ${file7.path} has frontmatter tags:`,
          normalizedTags
        );
      }
      if (allTags.length === 0) {
        continue;
      }
      const flashcardTags = allTags.filter(
        (tag) => tag.startsWith("#flashcards")
      );
      this.debugLog(`All tags for ${file7.path}:`, allTags);
      this.debugLog(`Flashcard tags for ${file7.path}:`, flashcardTags);
      for (const tag of flashcardTags) {
        if (!decksMap.has(tag)) {
          decksMap.set(tag, []);
        }
        decksMap.get(tag).push(file7);
      }
    }
    this.debugLog(`Found ${decksMap.size} decks:`, Array.from(decksMap.keys()));
    return decksMap;
  }
  /**
   * Sync decks with database
   */
  async syncDecks() {
    const syncDecksStartTime = performance.now();
    try {
      this.debugLog("Starting deck sync...");
      const decksMap = await this.scanVaultForDecks();
      this.debugLog("Decks found in vault:", decksMap);
      const existingDecks = await this.db.getAllDecks();
      this.debugLog("Existing decks in database:", existingDecks);
      const existingDecksByFile = /* @__PURE__ */ new Map();
      for (const deck of existingDecks) {
        existingDecksByFile.set(deck.filepath, deck);
      }
      let newDecksCreated = 0;
      let totalFiles = 0;
      for (const [tag, files] of decksMap) {
        for (const file7 of files) {
          totalFiles++;
          const filePath = file7.path;
          const deckName = file7.basename;
          const existingDeck = existingDecksByFile.get(filePath);
          this.debugLog(`Checking file: ${filePath}`);
          this.debugLog(
            `Existing deck found:`,
            existingDeck ? `YES (ID: ${existingDeck.id})` : "NO"
          );
          if (existingDeck) {
            if (existingDeck.tag !== tag) {
              this.debugLog(
                `Updating deck "${deckName}" tag from ${existingDeck.tag} to ${tag}`
              );
              await this.db.updateDeck(existingDeck.id, {
                tag
              });
            } else {
              this.debugLog(
                `Deck "${deckName}" already exists with correct tag, no update needed`
              );
            }
          } else {
            const file8 = this.vault.getAbstractFileByPath(filePath);
            let deckModTime = /* @__PURE__ */ new Date();
            if (file8 instanceof import_obsidian.TFile) {
              const fileModTime = new Date(file8.stat.mtime);
              const fileCreateTime = new Date(file8.stat.ctime);
              deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
            }
            const deck = {
              id: this.generateDeckId(filePath),
              name: deckName,
              // Store clean file name
              filepath: filePath,
              // Store full file path separately
              tag,
              lastReviewed: null,
              config: DEFAULT_DECK_CONFIG,
              modified: deckModTime.toISOString()
            };
            this.debugLog(
              `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
            );
            await this.db.createDeck(deck);
            newDecksCreated++;
          }
        }
      }
      const allFiles = /* @__PURE__ */ new Set();
      for (const [tag, files] of decksMap) {
        for (const file7 of files) {
          allFiles.add(file7.path);
        }
      }
      let deletedDecks = 0;
      for (const deck of existingDecks) {
        if (!allFiles.has(deck.filepath)) {
          this.debugLog(
            `Deleting orphaned deck: "${deck.name}" (${deck.filepath})`
          );
          await this.db.deleteDeckByFilepath(deck.filepath);
          deletedDecks++;
        }
      }
      this.debugLog(
        `Deck sync completed. Processed ${totalFiles} files, created ${newDecksCreated} new decks, deleted ${deletedDecks} orphaned decks.`
      );
      const syncDecksTime = performance.now() - syncDecksStartTime;
      this.performanceLog(
        `Deck sync completed successfully in ${this.formatTime(syncDecksTime)} (${newDecksCreated} created, ${deletedDecks} deleted)`
      );
    } catch (error) {
      console.error("Error during deck sync:", error);
      throw error;
    }
  }
  /**
   * Parse flashcards from a file
   */
  async parseFlashcardsFromFile(file7, headerLevel = 2) {
    const parseStartTime = performance.now();
    const content = await this.vault.read(file7);
    const readTime = performance.now() - parseStartTime;
    const parseContentStartTime = performance.now();
    const flashcards = this.parseFlashcardsFromContent(content, headerLevel);
    const parseTime = performance.now() - parseContentStartTime;
    const totalTime = performance.now() - parseStartTime;
    this.performanceLog(
      `Parsed ${flashcards.length} flashcards from ${file7.path} in ${this.formatTime(totalTime)} (read: ${this.formatTime(readTime)}, parse: ${this.formatTime(parseTime)})`
    );
    return flashcards;
  }
  /**
   * Parse flashcards from content string (optimized single-pass parsing)
   */
  parseFlashcardsFromContent(content, headerLevel = 2) {
    const lines = content.split("\n");
    const flashcards = [];
    let inTable = false;
    let headerSeen = false;
    let currentHeader = null;
    let currentContent = [];
    let inFrontmatter = false;
    let skipNextParagraph = false;
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const trimmedLine = line.trim();
      if (i === 0 && trimmedLine === "---") {
        inFrontmatter = true;
        continue;
      }
      if (inFrontmatter) {
        if (trimmedLine === "---") {
          inFrontmatter = false;
        }
        continue;
      }
      if (_DeckManager.TABLE_ROW_REGEX.test(trimmedLine)) {
        if (!inTable) {
          inTable = true;
          headerSeen = false;
        }
        if (!headerSeen) {
          headerSeen = true;
          continue;
        }
        if (_DeckManager.TABLE_SEPARATOR_REGEX.test(trimmedLine)) {
          continue;
        }
        const cells = trimmedLine.slice(1, -1).split("|").map((cell) => cell.trim());
        if (cells.length >= 2 && cells[0] && cells[1]) {
          flashcards.push({
            front: cells[0],
            // TODO strip of unnecessary characters
            back: cells[1],
            type: "table"
          });
        }
      } else {
        if (inTable) {
          inTable = false;
        }
        const headerMatch = _DeckManager.HEADER_REGEX.exec(line);
        if (headerMatch) {
          const currentHeaderLevel = headerMatch[1].length;
          if (line.match(/^#\s+/) && line.toLowerCase().includes("flashcard")) {
            skipNextParagraph = true;
            this.finalizeCurrentHeader(
              currentHeader,
              currentContent,
              flashcards,
              headerLevel
            );
            currentHeader = null;
            currentContent = [];
            continue;
          }
          this.finalizeCurrentHeader(
            currentHeader,
            currentContent,
            flashcards,
            headerLevel
          );
          currentHeader = {
            text: line,
            level: currentHeaderLevel
          };
          currentContent = [];
          skipNextParagraph = false;
        } else if (skipNextParagraph) {
          if (trimmedLine === "") {
            skipNextParagraph = false;
          }
        } else if (currentHeader) {
          if (trimmedLine === "" && currentContent.length === 0) {
            continue;
          }
          currentContent.push(line);
        }
      }
    }
    this.finalizeCurrentHeader(
      currentHeader,
      currentContent,
      flashcards,
      headerLevel
    );
    return flashcards;
  }
  /**
   * Helper to finalize current header flashcard
   */
  finalizeCurrentHeader(currentHeader, currentContent, flashcards, targetHeaderLevel) {
    if (currentHeader && currentContent.length > 0 && currentHeader.level === targetHeaderLevel) {
      flashcards.push({
        front: currentHeader.text.replace(/^#{1,6}\s+/, ""),
        back: currentContent.join("\n").trim(),
        type: "header-paragraph"
      });
    }
  }
  /**
   * Execute batch database operations using transactions with prepared statements for optimal performance
   */
  async executeBatchOperations(operations) {
    const batchStartTime = performance.now();
    let createCount = 0;
    let updateCount = 0;
    let deleteCount = 0;
    this.debugLog(`Starting transaction for ${operations.length} operations`);
    try {
      this.db.beginTransaction();
      this.debugLog(`Transaction started successfully`);
      const deleteOps = operations.filter(
        (op) => op.type === "delete" && op.flashcardId
      );
      const createOps = operations.filter(
        (op) => op.type === "create" && op.flashcard
      );
      const updateOps = operations.filter(
        (op) => op.type === "update" && op.flashcardId && op.updates
      );
      if (deleteOps.length > 0) {
        this.db.batchDeleteFlashcards(deleteOps.map((op) => op.flashcardId));
        deleteCount = deleteOps.length;
        this.debugLog(`Batch deleted ${deleteCount} flashcards`);
      }
      if (createOps.length > 0) {
        this.db.batchCreateFlashcards(createOps.map((op) => op.flashcard));
        createCount = createOps.length;
        this.debugLog(`Batch created ${createCount} flashcards`);
      }
      if (updateOps.length > 0) {
        this.db.batchUpdateFlashcards(
          updateOps.map((op) => ({
            id: op.flashcardId,
            updates: op.updates
          }))
        );
        updateCount = updateOps.length;
        this.debugLog(`Batch updated ${updateCount} flashcards`);
      }
      await yieldToUI();
      this.db.commitTransaction();
      this.debugLog(`Transaction committed successfully`);
      const totalBatchTime = performance.now() - batchStartTime;
      this.performanceLog(
        `Transaction completed in ${this.formatTime(totalBatchTime)} (${createCount} created, ${updateCount} updated, ${deleteCount} deleted)`
      );
    } catch (error) {
      console.error(`Critical error in transaction:`, error);
      try {
        this.db.rollbackTransaction();
        this.debugLog(`Transaction rolled back due to error`);
      } catch (rollbackError) {
        console.error(`Failed to rollback transaction:`, rollbackError);
      }
      throw error;
    }
  }
  /**
   * Sync flashcards for a specific deck (file)
   */
  async syncFlashcardsForDeck(filePath, force = false) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    const deckSyncStartTime = performance.now();
    this.debugLog(`Syncing flashcards for deck: ${filePath}`);
    const deck = await this.db.getDeckByFilepath(filePath);
    if (!deck) {
      this.debugLog(`No deck found for filepath: ${filePath}`);
      return;
    }
    this.debugLog(
      `Found deck ID: ${deck.id}, name: ${deck.name}, filepath: ${deck.filepath}`
    );
    const file7 = this.vault.getAbstractFileByPath(filePath);
    if (!file7 || !(file7 instanceof import_obsidian.TFile))
      return;
    const fileModifiedTime = new Date(file7.stat.mtime);
    if (!force) {
      const deckModifiedTime = new Date(deck.modified);
      if (fileModifiedTime <= deckModifiedTime) {
        this.debugLog(
          `File ${filePath} not modified since last sync, skipping`
        );
        return;
      }
    }
    this.debugLog(
      `File modified: ${fileModifiedTime.toISOString()}, last sync: ${deck.modified}`
    );
    const existingFlashcards = await this.db.getFlashcardsByDeck(deck.id);
    this.debugLog(
      `Found ${existingFlashcards.length} existing flashcards for deck ${deck.name}`
    );
    const existingById = /* @__PURE__ */ new Map();
    existingFlashcards.forEach((card) => {
      existingById.set(card.id, card);
      this.debugLog(`Existing card ID: ${card.id}, Front: "${card.front}"`);
    });
    const processedIds = /* @__PURE__ */ new Set();
    const duplicateWarnings = /* @__PURE__ */ new Set();
    const batchOperations = [];
    const allParsedCards = await this.parseFlashcardsFromFile(
      file7,
      deck.config.headerLevel
    );
    const parsedCards = allParsedCards.slice(0, MAX_FLASHCARDS_PER_DECK);
    this.debugLog(
      `Parsed ${allParsedCards.length} flashcards from ${filePath}, processing first ${parsedCards.length} (limit: ${MAX_FLASHCARDS_PER_DECK})`
    );
    if (allParsedCards.length > MAX_FLASHCARDS_PER_DECK) {
      this.debugLog(
        `\u26A0\uFE0F Deck "${deck.name}" exceeds flashcard limit. ${allParsedCards.length - MAX_FLASHCARDS_PER_DECK} flashcards will be skipped.`
      );
      if ((_c = (_b = (_a = this.plugin) == null ? void 0 : _a.settings) == null ? void 0 : _b.ui) == null ? void 0 : _c.enableNotices) {
        new import_obsidian.Notice(
          `\u26A0\uFE0F Deck "${deck.name}" has ${allParsedCards.length} flashcards. Only processing first ${MAX_FLASHCARDS_PER_DECK} for performance.`,
          8e3
        );
      }
    }
    for (let i = 0; i < parsedCards.length; i++) {
      const parsed = parsedCards[i];
      const flashcardId = this.generateFlashcardId(parsed.front);
      const contentHash = this.generateContentHash(parsed.back);
      const existingCard = existingById.get(flashcardId);
      if (processedIds.has(flashcardId)) {
        const duplicateKey = `${deck.name}:${parsed.front}`;
        if (!duplicateWarnings.has(duplicateKey)) {
          if ((_f = (_e = (_d = this.plugin) == null ? void 0 : _d.settings) == null ? void 0 : _e.ui) == null ? void 0 : _f.enableNotices) {
            new import_obsidian.Notice(
              `\u26A0\uFE0F Duplicate flashcard detected in "${deck.name}": "${parsed.front.substring(0, 50)}${parsed.front.length > 50 ? "..." : ""}". Only the first occurrence will be used.`,
              8e3
            );
          }
          duplicateWarnings.add(duplicateKey);
          this.debugLog(
            `Duplicate flashcard detected: "${parsed.front}" in deck "${deck.name}"`
          );
        }
        continue;
      }
      this.debugLog(
        `Processing flashcard: "${parsed.front.substring(0, 50)}..."`
      );
      this.debugLog(
        `Generated ID: ${flashcardId} (from front: "${parsed.front.substring(0, 30)}..." + deck: ${deck.id})`
      );
      this.debugLog(`Existing card found:`, existingCard ? "YES" : "NO");
      if (existingCard) {
        this.debugLog(
          `Existing card - ID: ${existingCard.id}, Front: "${existingCard.front.substring(0, 30)}...", Hash: ${existingCard.contentHash}`
        );
      }
      processedIds.add(flashcardId);
      await yieldEvery(i);
      if (existingCard) {
        if (existingCard.contentHash !== contentHash) {
          this.debugLog(
            `Content changed, updating flashcard: ${parsed.front.substring(0, 30)}...`
          );
          batchOperations.push({
            type: "update",
            flashcardId: existingCard.id,
            updates: {
              front: parsed.front,
              back: parsed.back,
              type: parsed.type,
              contentHash
            }
          });
        } else {
          this.debugLog(
            `No content change, skipping update: ${parsed.front.substring(0, 30)}...`
          );
        }
      } else {
        const previousProgress = await this.db.getLatestReviewLogForFlashcard(flashcardId);
        const flashcard = {
          id: flashcardId,
          deckId: deck.id,
          front: parsed.front,
          back: parsed.back,
          type: parsed.type,
          sourceFile: file7.path,
          contentHash,
          // Restore progress from review logs or use defaults
          state: (previousProgress == null ? void 0 : previousProgress.newState) || "new",
          dueDate: previousProgress ? new Date(
            new Date(previousProgress.reviewedAt).getTime() + previousProgress.newIntervalMinutes * 60 * 1e3
          ).toISOString() : (/* @__PURE__ */ new Date()).toISOString(),
          interval: (previousProgress == null ? void 0 : previousProgress.newIntervalMinutes) || 0,
          repetitions: (previousProgress == null ? void 0 : previousProgress.newRepetitions) || 0,
          difficulty: (previousProgress == null ? void 0 : previousProgress.newDifficulty) || 5,
          // FSRS initial difficulty
          stability: (previousProgress == null ? void 0 : previousProgress.newStability) || 2.5,
          // FSRS initial stability
          lapses: (previousProgress == null ? void 0 : previousProgress.newLapses) || 0,
          lastReviewed: (previousProgress == null ? void 0 : previousProgress.reviewedAt) || null
        };
        if (previousProgress) {
          this.debugLog(
            `Restoring flashcard progress from review logs: ${flashcard.front} (state: ${previousProgress.newState}, interval: ${previousProgress.newIntervalMinutes})`
          );
          if ((_i = (_h = (_g = this.plugin) == null ? void 0 : _g.settings) == null ? void 0 : _h.ui) == null ? void 0 : _i.enableNotices) {
            new import_obsidian.Notice(
              `\u2705 Progress restored for flashcard: "${parsed.front.substring(0, 40)}${parsed.front.length > 40 ? "..." : ""}" (${previousProgress.newState}, ${previousProgress.newRepetitions} reviews)`,
              5e3
            );
          }
        } else {
          this.debugLog(`Creating new flashcard: ${flashcard.front}`);
        }
        batchOperations.push({
          type: "create",
          flashcard
        });
      }
    }
    for (const [flashcardId, existingCard] of existingById) {
      if (!processedIds.has(flashcardId)) {
        this.debugLog(`Deleting flashcard: ${existingCard.front}`);
        batchOperations.push({
          type: "delete",
          flashcardId: existingCard.id
        });
      }
    }
    if (batchOperations.length > 0) {
      this.debugLog(
        `Executing ${batchOperations.length} batch database operations`
      );
      await this.executeBatchOperations(batchOperations);
      this.debugLog(`Batch operations completed successfully`);
    }
    const timestampStartTime = performance.now();
    try {
      this.debugLog(`Updating deck timestamp for: ${deck.name}`);
      await this.db.updateDeckTimestampWithoutSave(
        deck.id,
        fileModifiedTime.toISOString()
      );
      this.debugLog(`Deck timestamp updated successfully`);
    } catch (error) {
      console.error(`Failed to update deck timestamp for ${deck.name}:`, error);
      throw error;
    }
    try {
      this.debugLog(`Checking for duplicates in deck: ${deck.name}`);
      await this.checkForDuplicatesInDeck(deck.id);
      this.debugLog(`Duplicate check completed for deck: ${deck.name}`);
    } catch (error) {
      console.error(`Failed to check duplicates for ${deck.name}:`, error);
      throw error;
    }
    const timestampTime = performance.now() - timestampStartTime;
    const totalDeckSyncTime = performance.now() - deckSyncStartTime;
    this.performanceLog(
      `Sync completed for deck: ${deck.name} in ${this.formatTime(totalDeckSyncTime)} (${parsedCards.length} flashcards, ${batchOperations.length} operations, cleanup: ${this.formatTime(timestampTime)}) - DB save deferred`
    );
    yieldToUI();
  }
  /**
   * Create deck for a single file without running full sync
   */
  async createDeckForFile(filePath, tag) {
    const file7 = this.vault.getAbstractFileByPath(filePath);
    if (!file7 || !(file7 instanceof import_obsidian.TFile))
      return;
    const deckName = file7.basename;
    const existingDeck = await this.db.getDeckByFilepath(filePath);
    if (!existingDeck) {
      const fileModTime = new Date(file7.stat.mtime);
      const fileCreateTime = new Date(file7.stat.ctime);
      const deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
      const deck = {
        id: this.generateDeckId(filePath),
        name: deckName,
        filepath: filePath,
        tag,
        lastReviewed: null,
        config: DEFAULT_DECK_CONFIG,
        modified: deckModTime.toISOString()
      };
      this.debugLog(
        `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
      );
      await this.db.createDeck(deck);
    }
  }
  /**
   * Generate content hash for flashcard back content (front is used for ID)
   */
  generateContentHash(back) {
    let hash = 0;
    for (let i = 0; i < back.length; i++) {
      const char = back.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return Math.abs(hash).toString(16);
  }
  /**
   * Extract deck name from files (use the first file's name)
   */
  extractDeckNameFromFiles(files) {
    if (files.length === 0) {
      return "General";
    }
    const firstFile = files[0];
    return firstFile.basename;
  }
  /**
   * Extract deck name from tag (legacy method for compatibility)
   */
  extractDeckName(tag) {
    let name = tag.replace("#flashcards", "");
    if (name.startsWith("/")) {
      name = name.substring(1);
    }
    if (!name) {
      return "General";
    }
    const parts = name.split("/");
    return parts.map((part) => part.charAt(0).toUpperCase() + part.slice(1)).join(" - ");
  }
  /**
   * Generate deterministic deck ID based on filepath
   */
  generateDeckId(filepath) {
    if (filepath) {
      let hash = 0;
      for (let i = 0; i < filepath.length; i++) {
        const char = filepath.charCodeAt(i);
        hash = (hash << 5) - hash + char;
        hash = hash & hash;
      }
      return `deck_${Math.abs(hash).toString(36)}`;
    }
    return `deck_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * Generate unique flashcard ID using hash of front text only
   */
  generateFlashcardId(frontText, deckId) {
    let hash = 0;
    for (let i = 0; i < frontText.length; i++) {
      const char = frontText.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return `card_${Math.abs(hash).toString(36)}`;
  }
  /**
   * Check for duplicate flashcards in a deck and warn the user
   */
  async checkForDuplicatesInDeck(deckId) {
    var _a, _b, _c;
    const existingFlashcards = await this.db.getFlashcardsByDeck(deckId);
    const frontTextMap = /* @__PURE__ */ new Map();
    for (const card of existingFlashcards) {
      const normalizedFront = card.front.trim().toLowerCase();
      if (!frontTextMap.has(normalizedFront)) {
        frontTextMap.set(normalizedFront, []);
      }
      frontTextMap.get(normalizedFront).push(card);
    }
    const deck = await this.db.getDeckById(deckId);
    const deckName = (deck == null ? void 0 : deck.name) || "Unknown Deck";
    for (const [frontText, cards] of frontTextMap) {
      if (cards.length > 1) {
        if ((_c = (_b = (_a = this.plugin) == null ? void 0 : _a.settings) == null ? void 0 : _b.ui) == null ? void 0 : _c.enableNotices) {
          new import_obsidian.Notice(
            `\u26A0\uFE0F Found ${cards.length} duplicate flashcards in "${deckName}": "${cards[0].front.substring(0, 50)}${cards[0].front.length > 50 ? "..." : ""}". Consider removing duplicates to avoid confusion.`,
            1e4
          );
        }
        this.debugLog(
          `Duplicate flashcards found in deck "${deckName}": "${cards[0].front}" (${cards.length} copies)`
        );
      }
    }
  }
  /**
   * Update deck IDs for all flashcards when a deck ID changes (e.g., file rename)
   */
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    this.debugLog(
      `Updating flashcard deck IDs from ${oldDeckId} to ${newDeckId}`
    );
    await this.db.updateFlashcardDeckIds(oldDeckId, newDeckId);
  }
};
// Pre-compiled regex patterns for better performance
_DeckManager.HEADER_REGEX = /^(#{1,6})\s+/;
_DeckManager.TABLE_ROW_REGEX = /^\|.*\|$/;
_DeckManager.TABLE_SEPARATOR_REGEX = /^\|[\s-]+\|[\s-]+\|$/;
var DeckManager = _DeckManager;

// src/services/DeckSynchronizer.ts
var DeckSynchronizer = class {
  constructor(db, deckManager, debugLog, performanceLog) {
    this.isSyncing = false;
    this.db = db;
    this.deckManager = deckManager;
    this.debugLog = debugLog;
    this.performanceLog = performanceLog;
  }
  /**
   * Check if a sync operation is currently in progress
   */
  get isInProgress() {
    return this.isSyncing;
  }
  /**
   * Format time duration in human-readable format
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  /**
   * Perform initial sync with graceful error handling
   */
  async performInitialSync() {
    try {
      this.debugLog("Starting initial sync...");
      await new Promise((resolve) => setTimeout(resolve, 5e3));
      await this.performSync({ forceSync: false, showProgress: true });
      this.debugLog("Initial sync completed successfully");
    } catch (error) {
      console.error("Initial sync failed:", error);
    }
  }
  /**
   * Main sync operation - coordinates deck discovery and flashcard synchronization
   */
  async performSync(options = {}) {
    const { forceSync = false, showProgress = false, onProgress } = options;
    if (this.isSyncing) {
      this.debugLog("Sync already in progress, skipping...");
      throw new Error("Sync already in progress");
    }
    this.isSyncing = true;
    const syncStartTime = performance.now();
    try {
      this.debugLog(
        `Performing ${forceSync ? "forced " : ""}sync of decks and flashcards...`
      );
      if (showProgress && onProgress) {
        onProgress({ message: "\u{1F50D} Discovering decks...", percentage: 10 });
      }
      const decksStartTime = performance.now();
      await this.deckManager.syncDecks();
      const decksTime = performance.now() - decksStartTime;
      this.performanceLog(
        `Deck discovery completed in ${this.formatTime(decksTime)}`
      );
      const decks = await this.db.getAllDecks();
      this.debugLog(
        `Found ${decks.length} decks after sync:`,
        decks.map((d) => d.name)
      );
      if (showProgress && onProgress) {
        onProgress({
          message: `\u{1F4DA} Processing ${decks.length} decks...`,
          percentage: 20
        });
      }
      let totalFlashcards = 0;
      const flashcardSyncStartTime = performance.now();
      for (let i = 0; i < decks.length; i++) {
        const deck = decks[i];
        const deckStartTime = performance.now();
        if (showProgress && onProgress) {
          const deckProgress = 20 + i / decks.length * 70;
          onProgress({
            message: `\u{1F4C4} Processing deck: ${deck.name} (${i + 1}/${decks.length})`,
            percentage: deckProgress
          });
        }
        this.debugLog(
          `${forceSync ? "Force s" : "S"}yncing flashcards for deck: ${deck.name} (${deck.filepath})`
        );
        await this.deckManager.syncFlashcardsForDeck(deck.filepath, forceSync);
        await yieldToUI();
        const flashcards = await this.db.getFlashcardsByDeck(deck.id);
        const deckTime = performance.now() - deckStartTime;
        totalFlashcards += flashcards.length;
        this.performanceLog(
          `Deck ${deck.name} processed in ${this.formatTime(deckTime)} - ${flashcards.length} flashcards`
        );
      }
      if (showProgress && onProgress) {
        onProgress({ message: "\u{1F4BE} Saving database...", percentage: 95 });
      }
      this.debugLog("Saving database after processing all decks...");
      const saveStartTime = performance.now();
      await yieldToUI();
      await this.db.save();
      const saveTime = performance.now() - saveStartTime;
      this.debugLog("Database saved successfully");
      this.performanceLog(
        `Database saved in ${this.formatTime(saveTime)} after processing ${decks.length} decks`
      );
      const flashcardSyncTime = performance.now() - flashcardSyncStartTime;
      const totalSyncTime = performance.now() - syncStartTime;
      this.performanceLog(
        `Total sync completed in ${this.formatTime(totalSyncTime)} - ${totalFlashcards} flashcards across ${decks.length} decks`
      );
      if (decks.length > 0) {
        const avgDeckTime = flashcardSyncTime / decks.length;
        const avgFlashcardTime = totalFlashcards > 0 ? flashcardSyncTime / totalFlashcards : 0;
        this.performanceLog(
          `Performance: ${this.formatTime(avgDeckTime)}/deck, ${this.formatTime(avgFlashcardTime)}/flashcard`
        );
      }
      if (showProgress && onProgress) {
        onProgress({
          message: `\u2705 Sync complete! Processed ${totalFlashcards} flashcards across ${decks.length} decks in ${this.formatTime(totalSyncTime)} (DB saved in ${this.formatTime(saveTime)})`,
          percentage: 100
        });
      }
      return {
        totalDecks: decks.length,
        totalFlashcards,
        syncTime: totalSyncTime,
        saveTime,
        success: true
      };
    } catch (error) {
      this.debugLog("Error during sync:", error);
      if (showProgress && onProgress) {
        onProgress({
          message: "\u274C Sync failed - check console for details",
          percentage: 0
        });
      }
      return {
        totalDecks: 0,
        totalFlashcards: 0,
        syncTime: performance.now() - syncStartTime,
        saveTime: 0,
        success: false,
        error
      };
    } finally {
      this.isSyncing = false;
    }
  }
  /**
   * Sync flashcards for a specific deck
   */
  async syncDeck(deckName, forceSync = false) {
    this.debugLog(`Syncing specific deck: ${deckName}`);
    await this.deckManager.syncFlashcardsForDeck(deckName, forceSync);
  }
  /**
   * Create a deck for a specific file
   */
  async createDeckForFile(filePath, tag) {
    this.debugLog(`Creating deck for file: ${filePath} with tag: ${tag}`);
    await this.deckManager.createDeckForFile(filePath, tag);
  }
  /**
   * Update flashcard deck IDs when a deck is renamed
   */
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    this.debugLog(
      `Updating flashcard deck IDs from ${oldDeckId} to ${newDeckId}`
    );
    await this.deckManager.updateFlashcardDeckIds(oldDeckId, newDeckId);
  }
  /**
   * Get sync statistics
   */
  getSyncStats() {
    return {
      isInProgress: this.isSyncing
    };
  }
};

// src/algorithm/fsrs.ts
var MILLISECONDS_PER_DAY = 864e5;
var MINUTES_PER_DAY = 1440;
var MILLISECONDS_PER_MINUTE = 6e4;
function roundForDisplay(value, decimals) {
  return value.toFixed(decimals);
}
var FSRS = class {
  constructor(params) {
    this.params = {
      requestRetention: 0.9,
      profile: "STANDARD",
      ...params
    };
    this.validateParameters();
  }
  /**
   * Update FSRS parameters
   */
  updateParameters(params) {
    this.params = { ...this.params, ...params };
    this.validateParameters();
  }
  /**
   * Get current profile weights (hardcoded, not user-editable)
   */
  getWeights() {
    return getWeightsForProfile(this.params.profile);
  }
  /**
   * Get minimum minutes for current profile (hardcoded)
   */
  getMinMinutes() {
    return getMinMinutesForProfile(this.params.profile);
  }
  /**
   * Get maximum interval days for current profile (hardcoded)
   */
  getMaxIntervalDays() {
    return getMaxIntervalDaysForProfile(this.params.profile);
  }
  /**
   * Validate FSRS parameters
   */
  validateParameters() {
    if (!validateProfile(this.params.profile)) {
      throw new Error(
        `Invalid profile: ${this.params.profile}, must be "INTENSIVE" or "STANDARD"`
      );
    }
    if (!validateRequestRetention(this.params.requestRetention)) {
      throw new Error(
        `requestRetention must be in range (0.5, 0.995), got ${this.params.requestRetention}`
      );
    }
    const weights = this.getWeights();
    if (!validateFSRSWeights(weights)) {
      throw new Error(
        `Invalid hardcoded weights for profile ${this.params.profile}`
      );
    }
  }
  /**
   * Calculate the next scheduling info for a flashcard based on review difficulty
   */
  getSchedulingInfo(card) {
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    return {
      again: this.calculateScheduleForRating(fsrsCard, 1, now),
      hard: this.calculateScheduleForRating(fsrsCard, 2, now),
      good: this.calculateScheduleForRating(fsrsCard, 3, now),
      easy: this.calculateScheduleForRating(fsrsCard, 4, now)
    };
  }
  /**
   * Update a flashcard based on the selected difficulty
   */
  updateCard(card, difficulty) {
    const rating = this.difficultyToRating(difficulty);
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    const updatedFsrsCard = this.calculateUpdatedFsrsCard(
      fsrsCard,
      rating,
      now
    );
    let intervalMinutes;
    if (rating === 1) {
      intervalMinutes = this.getMinMinutes();
    } else {
      intervalMinutes = this.nextIntervalMinutes(updatedFsrsCard.stability);
    }
    const schedule = this.createSchedulingCard(
      intervalMinutes,
      updatedFsrsCard,
      now
    );
    return {
      ...card,
      state: schedule.state,
      dueDate: schedule.dueDate,
      interval: schedule.interval,
      difficulty: schedule.difficulty,
      // Store FSRS difficulty with full precision
      repetitions: schedule.repetitions,
      stability: schedule.stability,
      // Store stability with full precision
      lapses: updatedFsrsCard.lapses,
      lastReviewed: now.toISOString(),
      modified: now.toISOString()
    };
  }
  calculateUpdatedFsrsCard(card, rating, now) {
    if (card.state === "New" || card.stability === 0 || card.difficulty === 0) {
      return {
        ...card,
        stability: this.initStability(rating),
        difficulty: this.initDifficulty(rating),
        reps: 1,
        lapses: rating === 1 ? 1 : 0,
        lastReview: now,
        state: "Review",
        elapsedDays: 0
      };
    } else {
      const newCard = { ...card };
      newCard.elapsedDays = this.getElapsedDays(card.lastReview, now);
      newCard.reps += 1;
      if (rating === 1) {
        newCard.lapses += 1;
      }
      if (!isFinite(newCard.stability) || newCard.stability <= 0) {
        newCard.stability = this.initStability(3);
      }
      const retrievability = this.forgettingCurve(
        newCard.elapsedDays,
        newCard.stability
      );
      newCard.difficulty = this.nextDifficulty(newCard.difficulty, rating);
      newCard.stability = this.nextStability(
        newCard.difficulty,
        newCard.stability,
        retrievability,
        rating
      );
      if (!isFinite(newCard.stability) || newCard.stability <= 0) {
        newCard.stability = this.initStability(rating);
      }
      newCard.lastReview = now;
      newCard.state = "Review";
      return newCard;
    }
  }
  calculateScheduleForRating(card, rating, now) {
    const updatedCard = this.calculateUpdatedFsrsCard(card, rating, now);
    if (!isFinite(updatedCard.stability) || updatedCard.stability <= 0) {
      updatedCard.stability = this.initStability(rating);
    }
    let intervalMinutes;
    if (rating === 1) {
      intervalMinutes = this.getMinMinutes();
    } else {
      intervalMinutes = this.nextIntervalMinutes(updatedCard.stability);
    }
    return this.createSchedulingCard(intervalMinutes, updatedCard, now);
  }
  createSchedulingCard(intervalMinutes, card, now) {
    if (!isFinite(now.getTime())) {
      throw new Error("Invalid date provided to createSchedulingCard");
    }
    const intervalMilliseconds = intervalMinutes * MILLISECONDS_PER_MINUTE;
    const dueDate = new Date(now.getTime() + intervalMilliseconds);
    if (!isFinite(dueDate.getTime())) {
      throw new Error(
        `Invalid due date calculated: intervalMinutes=${intervalMinutes}, now=${now.toISOString()}`
      );
    }
    return {
      dueDate: dueDate.toISOString(),
      interval: intervalMinutes,
      // Store full precision interval
      repetitions: card.reps,
      stability: card.stability,
      // Store full precision stability
      difficulty: card.difficulty,
      // Store full precision difficulty
      state: this.fsrsStateToFlashcardState(card.state)
    };
  }
  initStability(rating) {
    const weights = this.getWeights();
    const stability = weights[rating - 1];
    const result = isFinite(stability) ? stability : 0.01;
    return result;
  }
  initDifficulty(rating) {
    const weights = this.getWeights();
    const w4 = weights[4];
    const w5 = weights[5];
    const ratingDiff = rating - 3;
    const difficulty = w4 - w5 * ratingDiff;
    const validDifficulty = isFinite(difficulty) ? difficulty : 5;
    if (validDifficulty < 1)
      return 1;
    if (validDifficulty > 10)
      return 10;
    return validDifficulty;
  }
  /**
   * Forgetting curve function with maximum precision
   */
  forgettingCurve(elapsedDays, stability) {
    if (!isFinite(elapsedDays) || !isFinite(stability) || stability <= 0) {
      return 0;
    }
    const stabilityFactor = 9 * stability;
    const elapsedToStabilityRatio = elapsedDays / stabilityFactor;
    const baseTerm = 1 + elapsedToStabilityRatio;
    if (!isFinite(baseTerm) || baseTerm <= 0) {
      return 0;
    }
    const powerTerm = Math.pow(baseTerm, -1);
    return isFinite(powerTerm) ? powerTerm : 0;
  }
  /**
   * Calculate retrievability for a flashcard at review time
   * @param card - The flashcard being reviewed
   * @param reviewedAt - When the review is happening
   * @returns Retrievability value (0-1)
   */
  getRetrievability(card, reviewedAt = /* @__PURE__ */ new Date()) {
    if (!card.lastReviewed || card.stability <= 0) {
      return 0.9;
    }
    const reviewedAtTime = reviewedAt.getTime();
    const lastReviewedTime = new Date(card.lastReviewed).getTime();
    const elapsedMilliseconds = reviewedAtTime - lastReviewedTime;
    const elapsedDays = Math.max(0, elapsedMilliseconds / MILLISECONDS_PER_DAY);
    return this.forgettingCurve(elapsedDays, card.stability);
  }
  /**
   * Calculate next difficulty with maximum precision
   */
  nextDifficulty(difficulty, rating) {
    if (!isFinite(difficulty) || !isFinite(rating)) {
      return 5;
    }
    const weights = this.getWeights();
    const w6 = weights[6];
    const ratingDiff = rating - 3;
    const difficultyChange = w6 * ratingDiff;
    const nextD = difficulty - difficultyChange;
    const w4 = weights[4];
    const revertedD = this.meanReversion(w4, nextD);
    if (revertedD < 1)
      return 1;
    if (revertedD > 10)
      return 10;
    return revertedD;
  }
  /**
   * Mean reversion calculation with maximum precision
   */
  meanReversion(init2, current) {
    if (!isFinite(init2) || !isFinite(current)) {
      return init2;
    }
    const weights = this.getWeights();
    const w7 = weights[7];
    const initWeight = w7 * init2;
    const currentWeight = (1 - w7) * current;
    return initWeight + currentWeight;
  }
  /**
   * Calculate next stability with maximum precision
   */
  nextStability(difficulty, stability, retrievability, rating) {
    if (!isFinite(difficulty) || !isFinite(stability) || !isFinite(retrievability)) {
      return Math.max(stability, 0.01);
    }
    const weights = this.getWeights();
    const w8 = isFinite(weights[8]) ? weights[8] : 0;
    const w9 = isFinite(weights[9]) ? weights[9] : 0.1;
    const w10 = isFinite(weights[10]) ? weights[10] : 0;
    const w15 = isFinite(weights[15]) ? weights[15] : 1;
    const w16 = isFinite(weights[16]) ? weights[16] : 1;
    const hardPenalty = rating === 2 ? w15 : 1;
    const easyBonus = rating === 4 ? w16 : 1;
    const expW8 = Math.exp(w8);
    const difficultyTerm = 11 - difficulty;
    const stabilityPowerTerm = stability > 0 ? Math.pow(stability, -w9) : 1;
    const retrievabilityTerm = 1 - retrievability;
    const retrievabilityProduct = retrievabilityTerm * w10;
    const expRetrievabilityTerm = Math.exp(retrievabilityProduct) - 1;
    if (!isFinite(expW8) || !isFinite(difficultyTerm) || !isFinite(stabilityPowerTerm) || !isFinite(expRetrievabilityTerm)) {
      return Math.max(stability, 0.01);
    }
    const growthFactor = expW8 * difficultyTerm * stabilityPowerTerm * expRetrievabilityTerm;
    const totalGrowthFactor = growthFactor * hardPenalty * easyBonus;
    const newStabilityFactor = 1 + totalGrowthFactor;
    const result = stability * newStabilityFactor;
    return isFinite(result) && result > 0 ? result : Math.max(stability, 0.1);
  }
  /**
   * Calculate next interval in minutes with maximum precision
   */
  nextIntervalMinutes(stability) {
    const minInterval = this.getMinMinutes();
    if (!isFinite(stability) || stability <= 0) {
      console.warn(`Invalid stability: ${stability}, using minMinutes`);
      return minInterval;
    }
    if (!isFinite(this.params.requestRetention) || this.params.requestRetention <= 0 || this.params.requestRetention >= 1) {
      console.warn(
        `Invalid requestRetention: ${this.params.requestRetention}, using minMinutes`
      );
      return minInterval;
    }
    const retentionLog = Math.log(this.params.requestRetention);
    const baseLog = Math.log(0.9);
    const k = retentionLog / baseLog;
    const intervalDays = stability * k;
    const intervalMinutes = intervalDays * MINUTES_PER_DAY;
    if (!isFinite(intervalMinutes)) {
      console.warn(
        `Invalid minutes calculation: stability=${stability}, k=${k}, using minMinutes`
      );
      return minInterval;
    }
    const maxInterval = this.getMaxIntervalDays() * MINUTES_PER_DAY;
    let result = intervalMinutes;
    if (result < minInterval)
      result = minInterval;
    if (result > maxInterval)
      result = maxInterval;
    if (!isFinite(result)) {
      console.warn(`Invalid final result: ${result}, using minMinutes`);
      return minInterval;
    }
    return result;
  }
  /**
   * Calculate elapsed days with maximum precision
   */
  getElapsedDays(lastReview, now) {
    const nowTime = now.getTime();
    const lastReviewTime = lastReview.getTime();
    const elapsedMilliseconds = nowTime - lastReviewTime;
    const elapsedDays = elapsedMilliseconds / MILLISECONDS_PER_DAY;
    return Math.max(0, elapsedDays);
  }
  flashcardToFSRS(card) {
    const lastReview = card.lastReviewed ? new Date(card.lastReviewed) : /* @__PURE__ */ new Date();
    const difficulty = card.difficulty || 5;
    return {
      stability: card.stability || 0,
      difficulty: difficulty || 0,
      elapsedDays: 0,
      // Will be calculated in scheduling
      reps: card.repetitions,
      lapses: card.lapses || 0,
      state: this.flashcardStateToFSRSState(card.state),
      lastReview
    };
  }
  flashcardStateToFSRSState(state) {
    return state === "new" ? "New" : "Review";
  }
  fsrsStateToFlashcardState(state) {
    return state === "New" ? "new" : "review";
  }
  difficultyToRating(difficulty) {
    switch (difficulty) {
      case "again":
        return 1;
      case "hard":
        return 2;
      case "good":
        return 3;
      case "easy":
        return 4;
      default:
        return 3;
    }
  }
  /**
   * Get display text for intervals - UI formatting only
   */
  static getIntervalDisplay(minutes) {
    if (minutes < 60) {
      return `${Math.round(minutes)}m`;
    } else if (minutes < MINUTES_PER_DAY) {
      const hours = Math.round(minutes / 60);
      return `${hours}h`;
    } else {
      const days = Math.round(minutes / MINUTES_PER_DAY);
      if (days < 30) {
        return `${days}d`;
      } else if (days < 365) {
        const months = Math.round(days / 30);
        return `${months}mo`;
      } else {
        const years = days / 365;
        return `${roundForDisplay(years, 1)}y`;
      }
    }
  }
};

// src/services/Scheduler.ts
var Scheduler = class {
  constructor(db) {
    this.currentSessionId = null;
    this.db = db;
    this.fsrs = new FSRS();
  }
  /**
   * Start a new review session for a deck
   */
  async startReviewSession(deckId, now = /* @__PURE__ */ new Date()) {
    const deck = await this.db.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const dailyCounts = await this.db.getDailyReviewCounts(deckId);
    const dueCardCount = await this.getDueCardCount(now, deckId);
    const newCardCount = await this.getNewCardCount(deckId);
    let goalTotal = 0;
    if (hasReviewCardsLimit(deck.config)) {
      const remainingReviewQuota = Math.max(
        0,
        deck.config.reviewCardsPerDay - dailyCounts.reviewCount
      );
      goalTotal += Math.min(dueCardCount, remainingReviewQuota);
    } else {
      goalTotal += dueCardCount;
    }
    if (hasNewCardsLimit(deck.config)) {
      const remainingNewQuota = Math.max(
        0,
        deck.config.newCardsPerDay - dailyCounts.newCount
      );
      goalTotal += Math.min(newCardCount, remainingNewQuota);
    } else {
      goalTotal += newCardCount;
    }
    const finalGoalTotal = Math.max(1, goalTotal);
    const sessionId = await this.db.createReviewSession({
      deckId,
      startedAt: now.toISOString(),
      endedAt: null,
      goalTotal: finalGoalTotal,
      doneUnique: 0
    });
    return sessionId;
  }
  /**
   * Get progress for a review session
   */
  async getSessionProgress(sessionId) {
    const session = await this.db.getReviewSessionById(sessionId);
    if (!session)
      return null;
    const progress = session.goalTotal > 0 ? Math.min(100, session.doneUnique / session.goalTotal * 100) : 0;
    return {
      doneUnique: session.doneUnique,
      goalTotal: session.goalTotal,
      progress
    };
  }
  /**
   * End a review session
   */
  async endReviewSession(sessionId, now = /* @__PURE__ */ new Date()) {
    await this.db.endReviewSession(sessionId, now.toISOString());
  }
  /**
   * Start a fresh review session for a deck (ends any existing session)
   */
  async startFreshSession(deckId, now = /* @__PURE__ */ new Date()) {
    const activeSession = await this.db.getActiveReviewSession(deckId);
    if (activeSession) {
      await this.db.endReviewSession(activeSession.id, now.toISOString());
    }
    this.currentSessionId = await this.startReviewSession(deckId, now);
    return this.currentSessionId;
  }
  /**
   * Set the current active session for tracking
   */
  setCurrentSession(sessionId) {
    this.currentSessionId = sessionId;
  }
  /**
   * Get the current active session
   */
  getCurrentSession() {
    return this.currentSessionId;
  }
  /**
   * Get the next due card for review
   */
  async getNext(now, deckId, options = {}) {
    const { allowNew = true } = options;
    const dueCard = await this.getNextDueCard(now, deckId);
    if (dueCard) {
      return dueCard;
    }
    if (allowNew && await this.hasNewCardQuota(deckId)) {
      return await this.getNextNewCard(deckId);
    }
    return null;
  }
  /**
   * Preview scheduling outcomes for all four ratings without mutations
   */
  async preview(cardId, now = /* @__PURE__ */ new Date()) {
    const card = await this.db.getFlashcardById(cardId);
    if (!card)
      return null;
    const deck = await this.db.getDeckById(card.deckId);
    if (!deck)
      return null;
    this.updateFSRSForDeck(deck);
    const ratings = ["again", "hard", "good", "easy"];
    const preview = {};
    for (const rating of ratings) {
      const updatedCard = this.fsrs.updateCard(card, rating);
      preview[rating] = {
        dueDate: updatedCard.dueDate,
        interval: updatedCard.interval,
        repetitions: updatedCard.repetitions,
        stability: updatedCard.stability,
        difficulty: updatedCard.difficulty,
        state: updatedCard.state
      };
    }
    return preview;
  }
  /**
   * Rate a card and update its state atomically with session tracking
   */
  async rate(cardId, rating, now = /* @__PURE__ */ new Date(), timeElapsed) {
    const card = await this.db.getFlashcardById(cardId);
    if (!card) {
      throw new Error(`Card not found: ${cardId}`);
    }
    const deck = await this.db.getDeckById(card.deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${card.deckId}`);
    }
    this.updateFSRSForDeck(deck);
    const oldCard = { ...card };
    const updatedCard = this.fsrs.updateCard(card, rating);
    const elapsedDays = this.getElapsedDays(card, now);
    const retrievability = this.calculateRetrievability(card, elapsedDays);
    let isFirstReviewInSession = false;
    if (this.currentSessionId) {
      isFirstReviewInSession = !await this.db.isCardReviewedInSession(
        this.currentSessionId,
        card.id
      );
      if (isFirstReviewInSession) {
        const session = await this.db.getReviewSessionById(
          this.currentSessionId
        );
        if (session) {
          const newDoneUnique = session.doneUnique + 1;
          await this.db.updateReviewSessionDoneUnique(
            this.currentSessionId,
            newDoneUnique
          );
        }
      }
    }
    const reviewLog = {
      flashcardId: card.id,
      sessionId: this.currentSessionId || void 0,
      lastReviewedAt: oldCard.lastReviewed || oldCard.dueDate,
      reviewedAt: now.toISOString(),
      rating: this.ratingToNumber(rating),
      ratingLabel: rating,
      timeElapsedMs: timeElapsed || 0,
      // Pre-state
      oldState: oldCard.state,
      oldRepetitions: oldCard.repetitions || 0,
      oldLapses: oldCard.lapses || 0,
      oldStability: oldCard.stability || 0,
      oldDifficulty: oldCard.difficulty || 0,
      // Post-state
      newState: updatedCard.state,
      newRepetitions: updatedCard.repetitions,
      newLapses: updatedCard.lapses,
      newStability: updatedCard.stability,
      newDifficulty: updatedCard.difficulty,
      // Intervals & due times
      oldIntervalMinutes: oldCard.interval,
      newIntervalMinutes: updatedCard.interval,
      oldDueAt: oldCard.dueDate,
      newDueAt: updatedCard.dueDate,
      // Derived values
      elapsedDays,
      retrievability,
      // Configuration context
      requestRetention: deck.config.fsrs.requestRetention,
      profile: deck.config.fsrs.profile,
      maximumIntervalDays: getMaxIntervalDaysForProfile(
        deck.config.fsrs.profile
      ),
      minMinutes: getMinMinutesForProfile(deck.config.fsrs.profile),
      fsrsWeightsVersion: this.getWeightsHash(deck.config.fsrs.profile),
      schedulerVersion: "1.0",
      // Content context
      contentHash: card.contentHash
    };
    await this.db.updateFlashcard(updatedCard.id, {
      state: updatedCard.state,
      dueDate: updatedCard.dueDate,
      interval: updatedCard.interval,
      repetitions: updatedCard.repetitions,
      difficulty: updatedCard.difficulty,
      stability: updatedCard.stability,
      lapses: updatedCard.lapses,
      lastReviewed: updatedCard.lastReviewed
    });
    await this.db.createReviewLog(reviewLog);
    return updatedCard;
  }
  /**
   * Peek at the next N due cards without mutations
   */
  async peekDue(now, deckId, limit = 10) {
    const deck = await this.db.getDeckById(deckId);
    if (!deck)
      return [];
    let query = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ? AND state = 'review'
    `;
    const params = [deckId, now.toISOString()];
    if (deck.config.reviewOrder === "random") {
      query += " ORDER BY RANDOM() LIMIT ?";
    } else {
      query += " ORDER BY due_date ASC, last_reviewed ASC LIMIT ?";
    }
    params.push(limit.toString());
    return await this.queryFlashcards(query, params);
  }
  /**
   * Get milliseconds until next card is due
   */
  async timeToNext(now, deckId) {
    const query = `
      SELECT MIN(due_date) as next_due
      FROM flashcards
      WHERE deck_id = ? AND due_date > ?
      ORDER BY due_date ASC
      LIMIT 1
    `;
    const results = await this.queryRaw(query, [deckId, now.toISOString()]);
    const nextDue = results.length > 0 ? results[0][0] : null;
    if (!nextDue) {
      return null;
    }
    const nextDueDate = new Date(nextDue);
    return Math.max(0, nextDueDate.getTime() - now.getTime());
  }
  // Private helper methods
  async getNextDueCard(now, deckId) {
    if (!await this.hasReviewCardQuota(deckId)) {
      return null;
    }
    const deck = await this.db.getDeckById(deckId);
    if (!deck)
      return null;
    let query = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ? AND state = 'review'
    `;
    const params = [deckId, now.toISOString()];
    if (deck.config.reviewOrder === "random") {
      query += " ORDER BY RANDOM() LIMIT 1";
    } else {
      query += " ORDER BY due_date ASC, last_reviewed ASC LIMIT 1";
    }
    const results = await this.queryFlashcards(query, params);
    return results.length > 0 ? results[0] : null;
  }
  async getNextNewCard(deckId) {
    let query = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND state = 'new'
    `;
    const params = [deckId];
    query += " ORDER BY due_date ASC LIMIT 1";
    const results = await this.queryFlashcards(query, params);
    return results.length > 0 ? results[0] : null;
  }
  async hasNewCardQuota(deckId) {
    const deck = await this.db.getDeckById(deckId);
    if (!deck)
      return false;
    if (!hasNewCardsLimit(deck.config))
      return true;
    const dailyCounts = await this.db.getDailyReviewCounts(deckId);
    return dailyCounts.newCount < deck.config.newCardsPerDay;
  }
  async hasReviewCardQuota(deckId) {
    const deck = await this.db.getDeckById(deckId);
    if (!deck)
      return false;
    if (!hasReviewCardsLimit(deck.config))
      return true;
    const dailyCounts = await this.db.getDailyReviewCounts(deckId);
    return dailyCounts.reviewCount < deck.config.reviewCardsPerDay;
  }
  updateFSRSForDeck(deck) {
    this.fsrs.updateParameters({
      requestRetention: deck.config.fsrs.requestRetention,
      profile: deck.config.fsrs.profile
    });
  }
  getElapsedDays(card, now) {
    if (!card.lastReviewed)
      return 0;
    const lastReview = new Date(card.lastReviewed);
    return Math.max(0, (now.getTime() - lastReview.getTime()) / 864e5);
  }
  calculateRetrievability(card, elapsedDays) {
    if (!card.stability || card.state === "new")
      return 1;
    return Math.pow(1 + elapsedDays / (9 * card.stability), -1);
  }
  ratingToNumber(rating) {
    const ratingMap = {
      again: 1,
      hard: 2,
      good: 3,
      easy: 4
    };
    return ratingMap[rating];
  }
  getWeightsHash(profile) {
    return `${profile}-v1.0`;
  }
  async getDueCardCount(now, deckId) {
    const query = `
    SELECT COUNT(*) as count
    FROM flashcards
    WHERE deck_id = ? AND due_date <= ? AND state = 'review'
  `;
    const results = await this.queryRaw(query, [deckId, now.toISOString()]);
    return results.length > 0 ? results[0][0] : 0;
  }
  async getNewCardCount(deckId) {
    const query = `
    SELECT COUNT(*) as count
    FROM flashcards
    WHERE deck_id = ? AND state = 'new'
  `;
    const results = await this.queryRaw(query, [deckId]);
    return results.length > 0 ? results[0][0] : 0;
  }
  /**
   * Helper method to query flashcards and convert rows to Flashcard objects
   */
  async queryFlashcards(query, params) {
    const results = await this.queryRaw(query, params);
    return results.map((row) => this.rowToFlashcard(row));
  }
  /**
   * Execute raw SQL query and return results
   */
  async queryRaw(query, params) {
    return await this.db.query(query, params);
  }
  /**
   * Convert database row to Flashcard object (same logic as DatabaseService)
   */
  rowToFlashcard(row) {
    return {
      id: row[0],
      deckId: row[1],
      front: row[2],
      back: row[3],
      type: row[4],
      sourceFile: row[5],
      contentHash: row[6],
      state: row[7],
      dueDate: row[8],
      interval: row[9],
      repetitions: row[10],
      difficulty: row[11],
      stability: row[12],
      lapses: row[13],
      lastReviewed: row[14],
      created: row[15],
      modified: row[16]
    };
  }
};

// src/settings.ts
var DEFAULT_SETTINGS = {
  review: {
    showProgress: true,
    enableKeyboardShortcuts: true
  },
  parsing: {
    // Default parsing settings
  },
  ui: {
    enableBackgroundRefresh: true,
    backgroundRefreshInterval: 5,
    enableNotices: true
  },
  debug: {
    enableLogging: false,
    performanceLogs: false
  }
};

// src/components/SettingsTab.ts
var import_obsidian2 = require("obsidian");
var DecksSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin, settings, saveSettings, performSync, refreshViewStats, restartBackgroundRefresh, startBackgroundRefresh, stopBackgroundRefresh, purgeDatabase) {
    super(app, plugin);
    this.settings = settings;
    this.saveSettings = saveSettings;
    this.performSync = performSync;
    this.refreshViewStats = refreshViewStats;
    this.restartBackgroundRefresh = restartBackgroundRefresh;
    this.startBackgroundRefresh = startBackgroundRefresh;
    this.stopBackgroundRefresh = stopBackgroundRefresh;
    this.purgeDatabase = purgeDatabase;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Decks Plugin Settings" });
    this.addReviewSettings(containerEl);
    this.addParsingSettings(containerEl);
    this.addUISettings(containerEl);
    this.addDebugSettings(containerEl);
    this.addDatabaseSettings(containerEl);
  }
  addReviewSettings(containerEl) {
    containerEl.createEl("h3", { text: "Review Sessions" });
    new import_obsidian2.Setting(containerEl).setName("Show Progress").setDesc("Display progress bar during review sessions").addToggle(
      (toggle) => toggle.setValue(this.settings.review.showProgress).onChange(async (value) => {
        this.settings.review.showProgress = value;
        await this.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Keyboard Shortcuts").setDesc("Enable keyboard shortcuts in review modal (1-4 for difficulty)").addToggle(
      (toggle) => toggle.setValue(this.settings.review.enableKeyboardShortcuts).onChange(async (value) => {
        this.settings.review.enableKeyboardShortcuts = value;
        await this.saveSettings();
      })
    );
  }
  addParsingSettings(containerEl) {
    containerEl.createEl("h3", { text: "Parsing" });
    const parseSettingsDesc = containerEl.createDiv();
    parseSettingsDesc.innerHTML = `
      <p style="color: var(--text-muted); font-size: 0.9em; margin: 10px 0;">
        Header level settings have been moved to individual deck configurations.
        Configure header levels per deck in the deck settings.
      </p>
    `;
  }
  addUISettings(containerEl) {
    containerEl.createEl("h3", { text: "User Interface" });
    const intervalSetting = new import_obsidian2.Setting(containerEl).setName("Background Refresh Interval").setDesc("How often to refresh deck stats in the side panel (in seconds)").addText(
      (text2) => text2.setPlaceholder("5").setValue(this.settings.ui.backgroundRefreshInterval.toString()).onChange(async (value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 1 && num <= 60) {
          this.settings.ui.backgroundRefreshInterval = num;
          await this.saveSettings();
          this.restartBackgroundRefresh();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Background Refresh").setDesc("Automatically refresh deck stats in the side panel").addToggle(
      (toggle) => toggle.setValue(this.settings.ui.enableBackgroundRefresh).onChange(async (value) => {
        this.settings.ui.enableBackgroundRefresh = value;
        await this.saveSettings();
        intervalSetting.setDisabled(!value);
        if (value) {
          this.startBackgroundRefresh();
        } else {
          this.stopBackgroundRefresh();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Notices").setDesc(
      "Show notification messages for completed review sessions and sync operations"
    ).addToggle(
      (toggle) => toggle.setValue(this.settings.ui.enableNotices).onChange(async (value) => {
        this.settings.ui.enableNotices = value;
        await this.saveSettings();
      })
    );
    intervalSetting.setDisabled(!this.settings.ui.enableBackgroundRefresh);
  }
  addDebugSettings(containerEl) {
    containerEl.createEl("h3", { text: "Debug" });
    containerEl.createEl("p", {
      text: "Debug settings for troubleshooting and development.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Enable Debug Logging").setDesc(
      "Show detailed logging in the console for sync operations and flashcard processing"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.settings.debug) == null ? void 0 : _a.enableLogging) || false).onChange(async (value) => {
          if (!this.settings.debug) {
            this.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.settings.debug.enableLogging = value;
          await this.saveSettings();
        });
      }
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Performance Logs").setDesc(
      "Show performance timing metrics in the console (sync times, parsing performance, etc.)"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.settings.debug) == null ? void 0 : _a.performanceLogs) || false).onChange(async (value) => {
          if (!this.settings.debug) {
            this.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.settings.debug.performanceLogs = value;
          await this.saveSettings();
        });
      }
    );
  }
  addDatabaseSettings(containerEl) {
    containerEl.createEl("h3", { text: "Database Management" });
    containerEl.createEl("p", {
      text: "Manage your flashcard database. Use with caution - these actions cannot be undone.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Purge Database").setDesc(
      "\u26A0\uFE0F Permanently delete all flashcards, review history, and deck data. This will force a clean rebuild from your vault files. All progress will be lost!"
    ).addButton(
      (button) => button.setButtonText("Purge Database").setWarning().onClick(() => {
        new DatabasePurgeModal(
          this.app,
          this.purgeDatabase,
          this.performSync,
          this.refreshViewStats
        ).open();
      })
    );
  }
};
var DatabasePurgeModal = class extends import_obsidian2.Modal {
  constructor(app, purgeDatabase, performSync, refreshViewStats) {
    super(app);
    this.purgeDatabase = purgeDatabase;
    this.performSync = performSync;
    this.refreshViewStats = refreshViewStats;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u26A0\uFE0F Purge Database" });
    const warning = contentEl.createEl("div", {
      cls: "setting-item-description"
    });
    warning.innerHTML = `
      <p><strong>This will permanently delete ALL flashcard data including:</strong></p>
      <ul>
        <li>All flashcards and their content</li>
        <li>Complete review history and progress</li>
        <li>All deck information</li>
        <li>Statistical data</li>
      </ul>
      <p><strong>This action cannot be undone!</strong></p>
      <p>The database will be rebuilt from your current vault files, but all progress will be lost.</p>
    `;
    contentEl.createEl("p", {
      text: 'Type "DELETE ALL DATA" to confirm:',
      cls: "setting-item-description"
    });
    const input = contentEl.createEl("input", {
      type: "text",
      placeholder: "DELETE ALL DATA"
    });
    input.style.width = "100%";
    input.style.marginBottom = "1rem";
    const buttonContainer = contentEl.createEl("div");
    buttonContainer.style.display = "flex";
    buttonContainer.style.gap = "0.5rem";
    buttonContainer.style.justifyContent = "flex-end";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.onclick = () => this.close();
    const confirmButton = buttonContainer.createEl("button", {
      text: "Purge Database",
      cls: "mod-warning"
    });
    confirmButton.onclick = async () => {
      if (input.value === "DELETE ALL DATA") {
        try {
          this.close();
          const notice = new import_obsidian2.Notice("Purging database...", 0);
          await this.purgeDatabase();
          await this.performSync(true);
          notice.setMessage("\u2705 Database purged and rebuilt successfully");
          setTimeout(() => notice.hide(), 3e3);
          await this.refreshViewStats();
        } catch (error) {
          console.error("Failed to purge database:", error);
          new import_obsidian2.Notice(
            "\u274C Failed to purge database. Check console for details.",
            5e3
          );
        }
      } else {
        new import_obsidian2.Notice(
          "Confirmation text doesn't match. Database purge cancelled.",
          3e3
        );
      }
    };
    input.focus();
    input.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        confirmButton.click();
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// node_modules/svelte/internal/index.mjs
function noop() {
}
function add_location(element2, file7, line, column, char) {
  element2.__svelte_meta = {
    loc: { file: file7, line, column, char }
  };
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
var src_url_equal_anchor;
function src_url_equal(element_src, url) {
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement("a");
  }
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
var globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : global;
var ResizeObserverSingleton = class _ResizeObserverSingleton {
  constructor(options) {
    this.options = options;
    this._listeners = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
  }
  observe(element2, listener) {
    this._listeners.set(element2, listener);
    this._getObserver().observe(element2, this.options);
    return () => {
      this._listeners.delete(element2);
      this._observer.unobserve(element2);
    };
  }
  _getObserver() {
    var _a;
    return (_a = this._observer) !== null && _a !== void 0 ? _a : this._observer = new ResizeObserver((entries) => {
      var _a2;
      for (const entry of entries) {
        _ResizeObserverSingleton.entries.set(entry.target, entry);
        (_a2 = this._listeners.get(entry.target)) === null || _a2 === void 0 ? void 0 : _a2(entry);
      }
    });
  }
};
ResizeObserverSingleton.entries = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
var is_hydrating = false;
function start_hydrating() {
  is_hydrating = true;
}
function end_hydrating() {
  is_hydrating = false;
}
function append(target, node) {
  target.appendChild(node);
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function prevent_default(fn) {
  return function(event) {
    event.preventDefault();
    return fn.call(this, event);
  };
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_input_value(input, value) {
  input.value = value == null ? "" : value;
}
function set_style(node, key, value, important) {
  if (value == null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? "important" : "");
  }
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
var current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function onDestroy(fn) {
  get_current_component().$$.on_destroy.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
var dirty_components = [];
var binding_callbacks = [];
var render_callbacks = [];
var flush_callbacks = [];
var resolved_promise = /* @__PURE__ */ Promise.resolve();
var update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function tick() {
  schedule_update();
  return resolved_promise;
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
var seen_callbacks = /* @__PURE__ */ new Set();
var flushidx = 0;
function flush() {
  if (flushidx !== 0) {
    return;
  }
  const saved_component = current_component;
  do {
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        set_current_component(component);
        update(component.$$);
      }
    } catch (e) {
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach((c) => c());
  render_callbacks = filtered;
}
var outroing = /* @__PURE__ */ new Set();
var outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
    // parent group
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}
var _boolean_attributes = [
  "allowfullscreen",
  "allowpaymentrequest",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "defer",
  "disabled",
  "formnovalidate",
  "hidden",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "selected"
];
var boolean_attributes = /* @__PURE__ */ new Set([..._boolean_attributes]);
function create_component(block) {
  block && block.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
      if (component.$$.on_destroy) {
        component.$$.on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    flush_render_callbacks($$.after_update);
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance7, create_fragment7, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance7 ? instance7(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment7 ? create_fragment7($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      start_hydrating();
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    end_hydrating();
    flush();
  }
  set_current_component(parent_component);
}
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
    }
    connectedCallback() {
      const { on_mount } = this.$$;
      this.$$.on_disconnect = on_mount.map(run).filter(is_function);
      for (const key in this.$$.slotted) {
        this.appendChild(this.$$.slotted[key]);
      }
    }
    attributeChangedCallback(attr2, _oldValue, newValue) {
      this[attr2] = newValue;
    }
    disconnectedCallback() {
      run_all(this.$$.on_disconnect);
    }
    $destroy() {
      destroy_component(this, 1);
      this.$destroy = noop;
    }
    $on(type, callback) {
      if (!is_function(callback)) {
        return noop;
      }
      const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
      callbacks.push(callback);
      return () => {
        const index = callbacks.indexOf(callback);
        if (index !== -1)
          callbacks.splice(index, 1);
      };
    }
    $set($$props) {
      if (this.$$set && !is_empty($$props)) {
        this.$$.skip_bound = true;
        this.$$set($$props);
        this.$$.skip_bound = false;
      }
    }
  };
}
var SvelteComponent = class {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
};
function dispatch_dev(type, detail) {
  document.dispatchEvent(custom_event(type, Object.assign({ version: "3.59.2" }, detail), { bubbles: true }));
}
function append_dev(target, node) {
  dispatch_dev("SvelteDOMInsert", { target, node });
  append(target, node);
}
function insert_dev(target, node, anchor) {
  dispatch_dev("SvelteDOMInsert", { target, node, anchor });
  insert(target, node, anchor);
}
function detach_dev(node) {
  dispatch_dev("SvelteDOMRemove", { node });
  detach(node);
}
function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {
  const modifiers = options === true ? ["capture"] : options ? Array.from(Object.keys(options)) : [];
  if (has_prevent_default)
    modifiers.push("preventDefault");
  if (has_stop_propagation)
    modifiers.push("stopPropagation");
  if (has_stop_immediate_propagation)
    modifiers.push("stopImmediatePropagation");
  dispatch_dev("SvelteDOMAddEventListener", { node, event, handler, modifiers });
  const dispose = listen(node, event, handler, options);
  return () => {
    dispatch_dev("SvelteDOMRemoveEventListener", { node, event, handler, modifiers });
    dispose();
  };
}
function attr_dev(node, attribute, value) {
  attr(node, attribute, value);
  if (value == null)
    dispatch_dev("SvelteDOMRemoveAttribute", { node, attribute });
  else
    dispatch_dev("SvelteDOMSetAttribute", { node, attribute, value });
}
function prop_dev(node, property, value) {
  node[property] = value;
  dispatch_dev("SvelteDOMSetProperty", { node, property, value });
}
function set_data_dev(text2, data) {
  data = "" + data;
  if (text2.data === data)
    return;
  dispatch_dev("SvelteDOMSetData", { node: text2, data });
  text2.data = data;
}
function validate_each_argument(arg) {
  if (typeof arg !== "string" && !(arg && typeof arg === "object" && "length" in arg)) {
    let msg = "{#each} only iterates over array-like objects.";
    if (typeof Symbol === "function" && arg && Symbol.iterator in arg) {
      msg += " You can use a spread to convert this iterable into an array.";
    }
    throw new Error(msg);
  }
}
function validate_slots(name, slot, keys) {
  for (const slot_key of Object.keys(slot)) {
    if (!~keys.indexOf(slot_key)) {
      console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
    }
  }
}
var SvelteComponentDev = class extends SvelteComponent {
  constructor(options) {
    if (!options || !options.target && !options.$$inline) {
      throw new Error("'target' is a required option");
    }
    super();
  }
  $destroy() {
    super.$destroy();
    this.$destroy = () => {
      console.warn("Component was already destroyed");
    };
  }
  $capture_state() {
  }
  $inject_state() {
  }
};

// node_modules/tslib/tslib.es6.mjs
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// src/components/ReviewHeatmap.svelte
var { console: console_1 } = globals;
var file = "src/components/ReviewHeatmap.svelte";
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[25] = list[i].month;
  child_ctx[26] = list[i].weeks;
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[29] = list[i];
  return child_ctx;
}
function get_each_context_2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[32] = list[i];
  const constants_0 = new Date(
    /*day*/
    child_ctx[32].date
  ).getFullYear();
  child_ctx[33] = constants_0;
  return child_ctx;
}
function create_if_block_1(ctx) {
  let span;
  let t0_value = Array.from(
    /*reviewCounts*/
    ctx[0].values()
  ).reduce(func, 0) + "";
  let t0;
  let t1;
  const block = {
    c: function create() {
      span = element("span");
      t0 = text(t0_value);
      t1 = text(" reviews");
      attr_dev(span, "class", "total-reviews svelte-10u86w0");
      add_location(span, file, 213, 16, 6558);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
      append_dev(span, t0);
      append_dev(span, t1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*reviewCounts*/
      1 && t0_value !== (t0_value = Array.from(
        /*reviewCounts*/
        ctx2[0].values()
      ).reduce(func, 0) + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_1.name,
    type: "if",
    source: "(213:12) {#if !isLoading}",
    ctx
  });
  return block;
}
function create_else_block(ctx) {
  let div1;
  let div0;
  let t0;
  let div8;
  let span0;
  let t2;
  let div7;
  let div2;
  let t3;
  let div3;
  let t4;
  let div4;
  let t5;
  let div5;
  let t6;
  let div6;
  let t7;
  let span1;
  let each_value = (
    /*getMonthsData*/
    ctx[5]()
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      div8 = element("div");
      span0 = element("span");
      span0.textContent = "Less";
      t2 = space();
      div7 = element("div");
      div2 = element("div");
      t3 = space();
      div3 = element("div");
      t4 = space();
      div4 = element("div");
      t5 = space();
      div5 = element("div");
      t6 = space();
      div6 = element("div");
      t7 = space();
      span1 = element("span");
      span1.textContent = "More";
      attr_dev(div0, "class", "months-container svelte-10u86w0");
      add_location(div0, file, 262, 12, 8228);
      attr_dev(div1, "class", "heatmap svelte-10u86w0");
      add_location(div1, file, 261, 8, 8194);
      attr_dev(span0, "class", "legend-label svelte-10u86w0");
      add_location(span0, file, 294, 12, 9792);
      attr_dev(div2, "class", "legend-square intensity-0 svelte-10u86w0");
      add_location(div2, file, 296, 16, 9887);
      attr_dev(div3, "class", "legend-square intensity-1 svelte-10u86w0");
      add_location(div3, file, 297, 16, 9949);
      attr_dev(div4, "class", "legend-square intensity-2 svelte-10u86w0");
      add_location(div4, file, 298, 16, 10011);
      attr_dev(div5, "class", "legend-square intensity-3 svelte-10u86w0");
      add_location(div5, file, 299, 16, 10073);
      attr_dev(div6, "class", "legend-square intensity-4 svelte-10u86w0");
      add_location(div6, file, 300, 16, 10135);
      attr_dev(div7, "class", "legend-colors svelte-10u86w0");
      add_location(div7, file, 295, 12, 9843);
      attr_dev(span1, "class", "legend-label svelte-10u86w0");
      add_location(span1, file, 302, 12, 10212);
      attr_dev(div8, "class", "legend svelte-10u86w0");
      add_location(div8, file, 293, 8, 9759);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div0, null);
        }
      }
      insert_dev(target, t0, anchor);
      insert_dev(target, div8, anchor);
      append_dev(div8, span0);
      append_dev(div8, t2);
      append_dev(div8, div7);
      append_dev(div7, div2);
      append_dev(div7, t3);
      append_dev(div7, div3);
      append_dev(div7, t4);
      append_dev(div7, div4);
      append_dev(div7, t5);
      append_dev(div7, div5);
      append_dev(div7, t6);
      append_dev(div7, div6);
      append_dev(div8, t7);
      append_dev(div8, span1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, getIntensityClass, currentYear*/
      56) {
        each_value = /*getMonthsData*/
        ctx2[5]();
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div0, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t0);
      if (detaching)
        detach_dev(div8);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block.name,
    type: "else",
    source: "(261:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading...";
      attr_dev(div, "class", "loading svelte-10u86w0");
      add_location(div, file, 259, 8, 8136);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block.name,
    type: "if",
    source: "(259:4) {#if isLoading}",
    ctx
  });
  return block;
}
function create_each_block_2(ctx) {
  let div;
  let div_class_value;
  let div_title_value;
  const block = {
    c: function create() {
      div = element("div");
      attr_dev(div, "class", div_class_value = "day " + /*getIntensityClass*/
      ctx[4](
        /*day*/
        ctx[32].count
      ) + " svelte-10u86w0");
      attr_dev(div, "title", div_title_value = /*day*/
      ctx[32].count + " reviews on " + formatDate(
        /*day*/
        ctx[32].date
      ));
      toggle_class(div, "today", isToday(
        /*day*/
        ctx[32].date
      ));
      toggle_class(
        div,
        "outside-year",
        /*dayYear*/
        ctx[33] !== /*currentYear*/
        ctx[3]
      );
      add_location(div, file, 273, 40, 8874);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, currentYear*/
      40) {
        toggle_class(
          div,
          "outside-year",
          /*dayYear*/
          ctx2[33] !== /*currentYear*/
          ctx2[3]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_2.name,
    type: "each",
    source: "(270:36) {#each week as day}",
    ctx
  });
  return block;
}
function create_each_block_1(ctx) {
  let div;
  let t;
  let each_value_2 = (
    /*week*/
    ctx[29]
  );
  validate_each_argument(each_value_2);
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t = space();
      attr_dev(div, "class", "week svelte-10u86w0");
      add_location(div, file, 268, 32, 8580);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      append_dev(div, t);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getIntensityClass, getMonthsData, currentYear*/
      56) {
        each_value_2 = /*week*/
        ctx2[29];
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_2(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, t);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_2.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_1.name,
    type: "each",
    source: "(268:28) {#each monthWeeks as week}",
    ctx
  });
  return block;
}
function create_each_block(ctx) {
  let div2;
  let div0;
  let t0_value = (
    /*month*/
    ctx[25] + ""
  );
  let t0;
  let t1;
  let div1;
  let t2;
  let each_value_1 = (
    /*monthWeeks*/
    ctx[26]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t2 = space();
      attr_dev(div0, "class", "month-label svelte-10u86w0");
      add_location(div0, file, 265, 24, 8405);
      attr_dev(div1, "class", "month-grid svelte-10u86w0");
      add_location(div1, file, 266, 24, 8468);
      attr_dev(div2, "class", "month-container svelte-10u86w0");
      add_location(div2, file, 264, 20, 8351);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
      append_dev(div2, t2);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, getIntensityClass, currentYear*/
      56) {
        each_value_1 = /*monthWeeks*/
        ctx2[26];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_1(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block.name,
    type: "each",
    source: "(264:16) {#each getMonthsData() as { month, weeks: monthWeeks }}",
    ctx
  });
  return block;
}
function create_fragment(ctx) {
  let div3;
  let div2;
  let div0;
  let h4;
  let t1;
  let t2;
  let div1;
  let button0;
  let svg0;
  let path0;
  let t3;
  let span;
  let t4;
  let t5;
  let button1;
  let svg1;
  let path1;
  let t6;
  let mounted;
  let dispose;
  let if_block0 = !/*isLoading*/
  ctx[1] && create_if_block_1(ctx);
  function select_block_type(ctx2, dirty) {
    if (
      /*isLoading*/
      ctx2[1]
    )
      return create_if_block;
    return create_else_block;
  }
  let current_block_type = select_block_type(ctx, [-1, -1]);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div3 = element("div");
      div2 = element("div");
      div0 = element("div");
      h4 = element("h4");
      h4.textContent = "Review Activity";
      t1 = space();
      if (if_block0)
        if_block0.c();
      t2 = space();
      div1 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      t3 = space();
      span = element("span");
      t4 = text(
        /*currentYear*/
        ctx[3]
      );
      t5 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path1 = svg_element("path");
      t6 = space();
      if_block1.c();
      attr_dev(h4, "class", "svelte-10u86w0");
      add_location(h4, file, 211, 12, 6488);
      attr_dev(div0, "class", "header-left svelte-10u86w0");
      add_location(div0, file, 210, 8, 6450);
      attr_dev(path0, "d", "M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z");
      add_location(path0, file, 235, 20, 7334);
      attr_dev(svg0, "width", "12");
      attr_dev(svg0, "height", "12");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "currentColor");
      attr_dev(svg0, "class", "svelte-10u86w0");
      add_location(svg0, file, 229, 16, 7148);
      attr_dev(button0, "class", "nav-button svelte-10u86w0");
      add_location(button0, file, 222, 12, 6868);
      attr_dev(span, "class", "current-year svelte-10u86w0");
      add_location(span, file, 238, 12, 7450);
      attr_dev(path1, "d", "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z");
      add_location(path1, file, 252, 20, 7976);
      attr_dev(svg1, "width", "12");
      attr_dev(svg1, "height", "12");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "currentColor");
      attr_dev(svg1, "class", "svelte-10u86w0");
      add_location(svg1, file, 246, 16, 7790);
      attr_dev(button1, "class", "nav-button svelte-10u86w0");
      add_location(button1, file, 239, 12, 7510);
      attr_dev(div1, "class", "year-navigation svelte-10u86w0");
      add_location(div1, file, 221, 8, 6826);
      attr_dev(div2, "class", "heatmap-header svelte-10u86w0");
      add_location(div2, file, 209, 4, 6413);
      attr_dev(div3, "class", "heatmap-container svelte-10u86w0");
      add_location(div3, file, 208, 0, 6348);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div2);
      append_dev(div2, div0);
      append_dev(div0, h4);
      append_dev(div0, t1);
      if (if_block0)
        if_block0.m(div0, null);
      append_dev(div2, t2);
      append_dev(div2, div1);
      append_dev(div1, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(div1, t3);
      append_dev(div1, span);
      append_dev(span, t4);
      append_dev(div1, t5);
      append_dev(div1, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path1);
      append_dev(div3, t6);
      if_block1.m(div3, null);
      ctx[16](div3);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[12],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[13],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[15],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (!/*isLoading*/
      ctx2[1]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_1(ctx2);
          if_block0.c();
          if_block0.m(div0, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty[0] & /*currentYear*/
      8)
        set_data_dev(
          t4,
          /*currentYear*/
          ctx2[3]
        );
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div3, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
      if (if_block0)
        if_block0.d();
      if_block1.d();
      ctx[16](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate(dateStr) {
  const date = new Date(dateStr);
  return date.toLocaleDateString("en-US", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric"
  });
}
function isToday(dateStr) {
  const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
  return dateStr === today;
}
function calculateMaxWeeks(width) {
  if (width === 0)
    return 20;
  const availableWidth = width - 50;
  const weekWidth = 12;
  const calculatedWeeks = Math.floor(availableWidth / weekWidth);
  return Math.min(Math.max(calculatedWeeks, 8), 52);
}
var func = (sum, count) => sum + count;
function instance($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("ReviewHeatmap", slots, []);
  let { getReviewCounts } = $$props;
  let reviewCounts = /* @__PURE__ */ new Map();
  let days = [];
  let weeks = [];
  let maxCount = 0;
  let isLoading = true;
  let containerElement;
  let maxWeeks = 52;
  let containerWidth = 0;
  let currentYear = (/* @__PURE__ */ new Date()).getFullYear();
  let lastEventTime = 0;
  let lastEventType = "";
  const months = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
  ];
  function generateDays() {
    const yearStart = new Date(currentYear, 0, 1);
    const yearEnd = new Date(currentYear, 11, 31);
    const startDate = new Date(yearStart);
    const startDayOfWeek = startDate.getDay();
    startDate.setDate(startDate.getDate() - startDayOfWeek);
    const endDate = new Date(yearEnd);
    const endDayOfWeek = endDate.getDay();
    endDate.setDate(endDate.getDate() + (6 - endDayOfWeek));
    const daysArray = [];
    const current = new Date(startDate);
    while (current <= endDate) {
      const dateStr = current.toISOString().split("T")[0];
      const currentDateYear = current.getFullYear();
      if (currentDateYear === currentYear) {
        const count = reviewCounts.get(dateStr) || 0;
        daysArray.push({
          date: dateStr,
          count,
          dayOfWeek: current.getDay()
        });
        if (count > maxCount) {
          maxCount = count;
        }
      } else {
        daysArray.push({
          date: dateStr,
          count: 0,
          dayOfWeek: current.getDay()
        });
      }
      current.setDate(current.getDate() + 1);
    }
    days = daysArray;
    weeks = [];
    for (let i = 0; i < days.length; i += 7) {
      weeks.push(days.slice(i, i + 7));
    }
  }
  function getIntensityClass(count) {
    if (count === 0)
      return "intensity-0";
    const intensity = Math.min(Math.ceil(count / maxCount * 4), 4);
    return `intensity-${intensity}`;
  }
  function getMonthsData() {
    if (weeks.length === 0)
      return [];
    const monthsData = [];
    let currentMonth = -1;
    let currentMonthWeeks = [];
    weeks.forEach((week) => {
      const firstDay = week[0];
      if (firstDay) {
        const date = new Date(firstDay.date);
        const month = date.getMonth();
        const year = date.getFullYear();
        if (year === currentYear) {
          if (month !== currentMonth) {
            if (currentMonth !== -1 && currentMonthWeeks.length > 0) {
              monthsData.push({
                month: months[currentMonth],
                weeks: currentMonthWeeks
              });
            }
            currentMonth = month;
            currentMonthWeeks = [week];
          } else {
            currentMonthWeeks.push(week);
          }
        }
      }
    });
    if (currentMonth !== -1 && currentMonthWeeks.length > 0) {
      monthsData.push({
        month: months[currentMonth],
        weeks: currentMonthWeeks
      });
    }
    return monthsData;
  }
  function updateContainerWidth() {
    if (containerElement) {
      $$invalidate(11, containerWidth = containerElement.clientWidth);
    }
  }
  function navigateYear(direction) {
    if (direction === "prev") {
      $$invalidate(3, currentYear--, currentYear);
    } else {
      $$invalidate(3, currentYear++, currentYear);
    }
    generateDays();
    refresh();
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function refresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(1, isLoading = true);
      try {
        $$invalidate(0, reviewCounts = yield getReviewCounts(366));
        maxCount = 0;
        generateDays();
      } catch (error) {
        console.error("Failed to load review counts:", error);
      } finally {
        $$invalidate(1, isLoading = false);
      }
    });
  }
  onMount(() => {
    setTimeout(
      () => {
        updateContainerWidth();
        refresh();
      },
      100
    );
  });
  $$self.$$.on_mount.push(function() {
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_1.warn("<ReviewHeatmap> was created without expected prop 'getReviewCounts'");
    }
  });
  const writable_props = ["getReviewCounts"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_1.warn(`<ReviewHeatmap> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(() => navigateYear("prev"), e);
  const touchend_handler = (e) => handleTouchClick(() => navigateYear("prev"), e);
  const click_handler_1 = (e) => handleTouchClick(() => navigateYear("next"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => navigateYear("next"), e);
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      containerElement = $$value;
      $$invalidate(2, containerElement);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    getReviewCounts,
    reviewCounts,
    days,
    weeks,
    maxCount,
    isLoading,
    containerElement,
    maxWeeks,
    containerWidth,
    currentYear,
    lastEventTime,
    lastEventType,
    months,
    generateDays,
    getIntensityClass,
    formatDate,
    isToday,
    getMonthsData,
    calculateMaxWeeks,
    updateContainerWidth,
    navigateYear,
    handleTouchClick,
    refresh
  });
  $$self.$inject_state = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
    if ("reviewCounts" in $$props2)
      $$invalidate(0, reviewCounts = $$props2.reviewCounts);
    if ("days" in $$props2)
      days = $$props2.days;
    if ("weeks" in $$props2)
      weeks = $$props2.weeks;
    if ("maxCount" in $$props2)
      maxCount = $$props2.maxCount;
    if ("isLoading" in $$props2)
      $$invalidate(1, isLoading = $$props2.isLoading);
    if ("containerElement" in $$props2)
      $$invalidate(2, containerElement = $$props2.containerElement);
    if ("maxWeeks" in $$props2)
      $$invalidate(10, maxWeeks = $$props2.maxWeeks);
    if ("containerWidth" in $$props2)
      $$invalidate(11, containerWidth = $$props2.containerWidth);
    if ("currentYear" in $$props2)
      $$invalidate(3, currentYear = $$props2.currentYear);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*containerWidth, maxWeeks*/
    3072) {
      $:
        if (containerWidth > 0) {
          const newMaxWeeks = calculateMaxWeeks(containerWidth);
          if (newMaxWeeks !== maxWeeks) {
            $$invalidate(10, maxWeeks = newMaxWeeks);
            refresh();
          }
        }
    }
  };
  return [
    reviewCounts,
    isLoading,
    containerElement,
    currentYear,
    getIntensityClass,
    getMonthsData,
    navigateYear,
    handleTouchClick,
    getReviewCounts,
    refresh,
    maxWeeks,
    containerWidth,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    div3_binding
  ];
}
var ReviewHeatmap = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance, create_fragment, safe_not_equal, { getReviewCounts: 8, refresh: 9 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "ReviewHeatmap",
      options,
      id: create_fragment.name
    });
  }
  get getReviewCounts() {
    throw new Error("<ReviewHeatmap>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refresh() {
    return this.$$.ctx[9];
  }
  set refresh(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var ReviewHeatmap_default = ReviewHeatmap;

// src/components/DeckConfigModal.ts
var import_obsidian4 = require("obsidian");

// src/components/DeckConfigUI.svelte
var import_obsidian3 = require("obsidian");
var file2 = "src/components/DeckConfigUI.svelte";
function create_fragment2(ctx) {
  let div17;
  let div0;
  let h30;
  let t1;
  let ul;
  let li0;
  let strong0;
  let t3;
  let t4_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t4;
  let t5;
  let li1;
  let strong1;
  let t7;
  let t8_value = (
    /*deck*/
    ctx[0].tag + ""
  );
  let t8;
  let t9;
  let li2;
  let strong2;
  let t11;
  let t12_value = (
    /*deck*/
    ctx[0].filepath + ""
  );
  let t12;
  let t13;
  let div7;
  let h31;
  let t15;
  let div1;
  let t17;
  let div2;
  let t18;
  let div3;
  let t19;
  let div4;
  let t20;
  let div5;
  let t21;
  let div6;
  let t22;
  let div10;
  let h32;
  let t24;
  let div8;
  let t26;
  let div9;
  let t27;
  let div15;
  let h33;
  let t29;
  let div11;
  let t31;
  let div12;
  let t32;
  let div13;
  let t33;
  let div14;
  let t34;
  let div16;
  let button0;
  let t35_value = (
    /*saving*/
    ctx[3] ? "Saving..." : "Save"
  );
  let t35;
  let t36;
  let button1;
  let t37;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div17 = element("div");
      div0 = element("div");
      h30 = element("h3");
      h30.textContent = "Deck Information";
      t1 = space();
      ul = element("ul");
      li0 = element("li");
      strong0 = element("strong");
      strong0.textContent = "Name:";
      t3 = space();
      t4 = text(t4_value);
      t5 = space();
      li1 = element("li");
      strong1 = element("strong");
      strong1.textContent = "Tag:";
      t7 = space();
      t8 = text(t8_value);
      t9 = space();
      li2 = element("li");
      strong2 = element("strong");
      strong2.textContent = "File:";
      t11 = space();
      t12 = text(t12_value);
      t13 = space();
      div7 = element("div");
      h31 = element("h3");
      h31.textContent = "Daily Card Limits";
      t15 = space();
      div1 = element("div");
      div1.textContent = "New cards are subject to daily limits when enabled.";
      t17 = space();
      div2 = element("div");
      t18 = space();
      div3 = element("div");
      t19 = space();
      div4 = element("div");
      t20 = space();
      div5 = element("div");
      t21 = space();
      div6 = element("div");
      t22 = space();
      div10 = element("div");
      h32 = element("h3");
      h32.textContent = "Parsing Settings";
      t24 = space();
      div8 = element("div");
      div8.textContent = "Configure how flashcards are parsed from your notes for this deck.";
      t26 = space();
      div9 = element("div");
      t27 = space();
      div15 = element("div");
      h33 = element("h3");
      h33.textContent = "FSRS Algorithm Settings";
      t29 = space();
      div11 = element("div");
      div11.textContent = "These settings control the spaced repetition algorithm for this\n            deck.";
      t31 = space();
      div12 = element("div");
      t32 = space();
      div13 = element("div");
      t33 = space();
      div14 = element("div");
      t34 = space();
      div16 = element("div");
      button0 = element("button");
      t35 = text(t35_value);
      t36 = space();
      button1 = element("button");
      t37 = text("Cancel");
      attr_dev(h30, "class", "svelte-svxaah");
      add_location(h30, file2, 208, 8, 7251);
      attr_dev(strong0, "class", "svelte-svxaah");
      add_location(strong0, file2, 210, 16, 7329);
      attr_dev(li0, "class", "svelte-svxaah");
      add_location(li0, file2, 210, 12, 7325);
      attr_dev(strong1, "class", "svelte-svxaah");
      add_location(strong1, file2, 211, 16, 7385);
      attr_dev(li1, "class", "svelte-svxaah");
      add_location(li1, file2, 211, 12, 7381);
      attr_dev(strong2, "class", "svelte-svxaah");
      add_location(strong2, file2, 212, 16, 7439);
      attr_dev(li2, "class", "svelte-svxaah");
      add_location(li2, file2, 212, 12, 7435);
      attr_dev(ul, "class", "deck-info-list svelte-svxaah");
      add_location(ul, file2, 209, 8, 7285);
      attr_dev(div0, "class", "deck-info-section svelte-svxaah");
      add_location(div0, file2, 207, 4, 7211);
      attr_dev(h31, "class", "svelte-svxaah");
      add_location(h31, file2, 218, 8, 7587);
      attr_dev(div1, "class", "setting-item-description-global svelte-svxaah");
      add_location(div1, file2, 219, 8, 7622);
      add_location(div2, file2, 224, 8, 7800);
      attr_dev(div3, "class", "svelte-svxaah");
      toggle_class(div3, "disabled", !/*enableNewCardsLimit*/
      ctx[1]);
      add_location(div3, file2, 225, 8, 7856);
      add_location(div4, file2, 229, 8, 7982);
      attr_dev(div5, "class", "svelte-svxaah");
      toggle_class(div5, "disabled", !/*enableReviewCardsLimit*/
      ctx[2]);
      add_location(div5, file2, 230, 8, 8041);
      add_location(div6, file2, 234, 8, 8173);
      attr_dev(div7, "class", "deck-settings-section svelte-svxaah");
      add_location(div7, file2, 217, 4, 7543);
      attr_dev(h32, "class", "svelte-svxaah");
      add_location(h32, file2, 239, 8, 8308);
      attr_dev(div8, "class", "setting-item-description-global svelte-svxaah");
      add_location(div8, file2, 240, 8, 8342);
      add_location(div9, file2, 244, 8, 8491);
      attr_dev(div10, "class", "deck-settings-section svelte-svxaah");
      add_location(div10, file2, 238, 4, 8264);
      attr_dev(h33, "class", "svelte-svxaah");
      add_location(h33, file2, 249, 8, 8633);
      attr_dev(div11, "class", "setting-item-description-global svelte-svxaah");
      add_location(div11, file2, 250, 8, 8674);
      add_location(div12, file2, 255, 8, 8838);
      add_location(div13, file2, 256, 8, 8896);
      add_location(div14, file2, 257, 8, 8945);
      attr_dev(div15, "class", "deck-settings-section svelte-svxaah");
      add_location(div15, file2, 248, 4, 8589);
      attr_dev(button0, "class", "mod-cta svelte-svxaah");
      button0.disabled = /*saving*/
      ctx[3];
      add_location(button0, file2, 262, 8, 9067);
      button1.disabled = /*saving*/
      ctx[3];
      attr_dev(button1, "class", "svelte-svxaah");
      add_location(button1, file2, 270, 8, 9340);
      attr_dev(div16, "class", "modal-footer svelte-svxaah");
      add_location(div16, file2, 261, 4, 9032);
      attr_dev(div17, "class", "deck-config-ui svelte-svxaah");
      add_location(div17, file2, 205, 0, 7140);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div17, anchor);
      append_dev(div17, div0);
      append_dev(div0, h30);
      append_dev(div0, t1);
      append_dev(div0, ul);
      append_dev(ul, li0);
      append_dev(li0, strong0);
      append_dev(li0, t3);
      append_dev(li0, t4);
      append_dev(ul, t5);
      append_dev(ul, li1);
      append_dev(li1, strong1);
      append_dev(li1, t7);
      append_dev(li1, t8);
      append_dev(ul, t9);
      append_dev(ul, li2);
      append_dev(li2, strong2);
      append_dev(li2, t11);
      append_dev(li2, t12);
      append_dev(div17, t13);
      append_dev(div17, div7);
      append_dev(div7, h31);
      append_dev(div7, t15);
      append_dev(div7, div1);
      append_dev(div7, t17);
      append_dev(div7, div2);
      ctx[24](div2);
      append_dev(div7, t18);
      append_dev(div7, div3);
      ctx[25](div3);
      append_dev(div7, t19);
      append_dev(div7, div4);
      ctx[26](div4);
      append_dev(div7, t20);
      append_dev(div7, div5);
      ctx[27](div5);
      append_dev(div7, t21);
      append_dev(div7, div6);
      ctx[28](div6);
      append_dev(div17, t22);
      append_dev(div17, div10);
      append_dev(div10, h32);
      append_dev(div10, t24);
      append_dev(div10, div8);
      append_dev(div10, t26);
      append_dev(div10, div9);
      ctx[29](div9);
      append_dev(div17, t27);
      append_dev(div17, div15);
      append_dev(div15, h33);
      append_dev(div15, t29);
      append_dev(div15, div11);
      append_dev(div15, t31);
      append_dev(div15, div12);
      ctx[30](div12);
      append_dev(div15, t32);
      append_dev(div15, div13);
      ctx[31](div13);
      append_dev(div15, t33);
      append_dev(div15, div14);
      ctx[32](div14);
      append_dev(div17, t34);
      append_dev(div17, div16);
      append_dev(div16, button0);
      append_dev(button0, t35);
      append_dev(div16, t36);
      append_dev(div16, button1);
      append_dev(button1, t37);
      if (!mounted) {
        dispose = [
          listen_dev(
            window,
            "keydown",
            /*handleKeydown*/
            ctx[16],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[33],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[34],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[35],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[36],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*deck*/
      1 && t4_value !== (t4_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*deck*/
      1 && t8_value !== (t8_value = /*deck*/
      ctx2[0].tag + ""))
        set_data_dev(t8, t8_value);
      if (dirty[0] & /*deck*/
      1 && t12_value !== (t12_value = /*deck*/
      ctx2[0].filepath + ""))
        set_data_dev(t12, t12_value);
      if (dirty[0] & /*enableNewCardsLimit*/
      2) {
        toggle_class(div3, "disabled", !/*enableNewCardsLimit*/
        ctx2[1]);
      }
      if (dirty[0] & /*enableReviewCardsLimit*/
      4) {
        toggle_class(div5, "disabled", !/*enableReviewCardsLimit*/
        ctx2[2]);
      }
      if (dirty[0] & /*saving*/
      8 && t35_value !== (t35_value = /*saving*/
      ctx2[3] ? "Saving..." : "Save"))
        set_data_dev(t35, t35_value);
      if (dirty[0] & /*saving*/
      8) {
        prop_dev(
          button0,
          "disabled",
          /*saving*/
          ctx2[3]
        );
      }
      if (dirty[0] & /*saving*/
      8) {
        prop_dev(
          button1,
          "disabled",
          /*saving*/
          ctx2[3]
        );
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div17);
      ctx[24](null);
      ctx[25](null);
      ctx[26](null);
      ctx[27](null);
      ctx[28](null);
      ctx[29](null);
      ctx[30](null);
      ctx[31](null);
      ctx[32](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment2.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance2($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckConfigUI", slots, []);
  let { deck } = $$props;
  let { config } = $$props;
  const dispatch = createEventDispatcher();
  let newCardsLimit = config.newCardsPerDay;
  let reviewCardsLimit = config.reviewCardsPerDay;
  let enableNewCardsLimit = config.newCardsPerDay > 0;
  let enableReviewCardsLimit = config.reviewCardsPerDay > 0;
  let reviewOrder = config.reviewOrder;
  let headerLevel = config.headerLevel;
  let requestRetention = config.fsrs.requestRetention;
  let profile = config.fsrs.profile;
  let saving = false;
  let newCardsLimitContainer;
  let enableNewCardsContainer;
  let reviewCardsLimitContainer;
  let enableReviewCardsContainer;
  let enableReviewCardsLimitContainer;
  let reviewOrderContainer;
  let headerLevelContainer;
  let requestRetentionContainer;
  let profileContainer;
  let fsrsResetContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  function handleSave() {
    $$invalidate(3, saving = true);
    const finalConfig = {
      newCardsPerDay: enableNewCardsLimit ? Number(newCardsLimit) || 0 : 0,
      reviewCardsPerDay: enableReviewCardsLimit ? Number(reviewCardsLimit) || 0 : 0,
      reviewOrder,
      headerLevel: Number(headerLevel) || 2,
      fsrs: {
        requestRetention: Number(requestRetention) || 0.9,
        profile
      }
    };
    dispatch("save", finalConfig);
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function handleCancel() {
    dispatch("cancel");
  }
  function handleKeydown(event) {
    if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
      handleSave();
    }
  }
  onMount(() => {
    if (enableNewCardsContainer) {
      new import_obsidian3.Setting(enableNewCardsContainer).setName("Enable New Cards Limit").setDesc("Limit how many new cards (never seen before) can be shown per day").addToggle((toggle) => toggle.setValue(enableNewCardsLimit).onChange((value) => {
        $$invalidate(1, enableNewCardsLimit = value);
      }));
    }
    if (newCardsLimitContainer) {
      new import_obsidian3.Setting(newCardsLimitContainer).setName("New Cards per Day").setDesc("Maximum number of new cards to introduce per day").addText((text2) => text2.setPlaceholder("20").setValue(newCardsLimit.toString()).onChange((value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 0) {
          $$invalidate(18, newCardsLimit = num);
        }
      }));
    }
    if (enableReviewCardsContainer) {
      new import_obsidian3.Setting(enableReviewCardsContainer).setName("Enable Review Cards Limit").setDesc("Limit how many review cards (due for repetition) can be shown per day").addToggle((toggle) => toggle.setValue(enableReviewCardsLimit).onChange((value) => {
        $$invalidate(2, enableReviewCardsLimit = value);
      }));
    }
    if (reviewCardsLimitContainer) {
      new import_obsidian3.Setting(reviewCardsLimitContainer).setName("Review Cards per Day").setDesc("Maximum number of review cards to show per day").addText((text2) => text2.setPlaceholder("100").setValue(reviewCardsLimit.toString()).onChange((value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 0) {
          $$invalidate(19, reviewCardsLimit = num);
        }
      }));
    }
    if (reviewOrderContainer) {
      new import_obsidian3.Setting(reviewOrderContainer).setName("Review Order").setDesc("Order in which review cards are presented during study").addDropdown((dropdown) => dropdown.addOption("due-date", "Oldest due first").addOption("random", "Random order").setValue(reviewOrder).onChange((value) => {
        $$invalidate(20, reviewOrder = value);
      }));
    }
    if (headerLevelContainer) {
      new import_obsidian3.Setting(headerLevelContainer).setName("Header Level for Flashcards").setDesc("Which header level to use for header-paragraph flashcards").addDropdown((dropdown) => dropdown.addOption("1", "H1 (#)").addOption("2", "H2 (##)").addOption("3", "H3 (###)").addOption("4", "H4 (####)").addOption("5", "H5 (#####)").addOption("6", "H6 (######)").setValue(headerLevel.toString()).onChange((value) => {
        $$invalidate(21, headerLevel = parseInt(value));
      }));
    }
    if (requestRetentionContainer) {
      new import_obsidian3.Setting(requestRetentionContainer).setName("Request Retention").setDesc("Target recall rate for reviews (0.5-0.995)").addSlider((slider) => slider.setLimits(0.5, 0.995, 0.01).setValue(requestRetention).setDynamicTooltip().onChange((value) => {
        $$invalidate(22, requestRetention = value);
      }));
    }
    if (profileContainer) {
      new import_obsidian3.Setting(profileContainer).setName("FSRS Profile").setDesc("INTENSIVE: Sub-day intervals (1m/5m/10m/40m). STANDARD: Day-based intervals (\u22651 day minimum)").addDropdown((dropdown) => dropdown.addOption("INTENSIVE", "Intensive (Sub-day)").addOption("STANDARD", "Standard (Day-based)").setValue(profile).onChange((value) => {
        if (value === "INTENSIVE" || value === "STANDARD") {
          $$invalidate(23, profile = value);
        }
      }));
    }
    if (fsrsResetContainer) {
      new import_obsidian3.Setting(fsrsResetContainer).setName("Reset FSRS Settings").setDesc("Reset all FSRS parameters to default values").setName("Reset to Defaults").addButton((button) => button.setButtonText("Reset to Defaults").onClick(() => {
        $$invalidate(22, requestRetention = 0.9);
        $$invalidate(23, profile = "STANDARD");
      }));
    }
  });
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'deck'");
    }
    if (config === void 0 && !("config" in $$props || $$self.$$.bound[$$self.$$.props["config"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'config'");
    }
  });
  const writable_props = ["deck", "config"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console.warn(`<DeckConfigUI> was created with unknown prop '${key}'`);
  });
  function div2_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      enableNewCardsContainer = $$value;
      $$invalidate(5, enableNewCardsContainer);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      newCardsLimitContainer = $$value;
      $$invalidate(4, newCardsLimitContainer);
    });
  }
  function div4_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      enableReviewCardsContainer = $$value;
      $$invalidate(7, enableReviewCardsContainer);
    });
  }
  function div5_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      reviewCardsLimitContainer = $$value;
      $$invalidate(6, reviewCardsLimitContainer);
    });
  }
  function div6_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      reviewOrderContainer = $$value;
      $$invalidate(8, reviewOrderContainer);
    });
  }
  function div9_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      headerLevelContainer = $$value;
      $$invalidate(9, headerLevelContainer);
    });
  }
  function div12_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      requestRetentionContainer = $$value;
      $$invalidate(10, requestRetentionContainer);
    });
  }
  function div13_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      profileContainer = $$value;
      $$invalidate(11, profileContainer);
    });
  }
  function div14_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      fsrsResetContainer = $$value;
      $$invalidate(12, fsrsResetContainer);
    });
  }
  const click_handler = (e) => handleTouchClick(handleSave, e);
  const touchend_handler = (e) => handleTouchClick(handleSave, e);
  const click_handler_1 = (e) => handleTouchClick(handleCancel, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleCancel, e);
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(17, config = $$props2.config);
  };
  $$self.$capture_state = () => ({
    createEventDispatcher,
    onMount,
    Setting: import_obsidian3.Setting,
    deck,
    config,
    dispatch,
    newCardsLimit,
    reviewCardsLimit,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    reviewOrder,
    headerLevel,
    requestRetention,
    profile,
    saving,
    newCardsLimitContainer,
    enableNewCardsContainer,
    reviewCardsLimitContainer,
    enableReviewCardsContainer,
    enableReviewCardsLimitContainer,
    reviewOrderContainer,
    headerLevelContainer,
    requestRetentionContainer,
    profileContainer,
    fsrsResetContainer,
    lastEventTime,
    lastEventType,
    handleSave,
    handleTouchClick,
    handleCancel,
    handleKeydown
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(17, config = $$props2.config);
    if ("newCardsLimit" in $$props2)
      $$invalidate(18, newCardsLimit = $$props2.newCardsLimit);
    if ("reviewCardsLimit" in $$props2)
      $$invalidate(19, reviewCardsLimit = $$props2.reviewCardsLimit);
    if ("enableNewCardsLimit" in $$props2)
      $$invalidate(1, enableNewCardsLimit = $$props2.enableNewCardsLimit);
    if ("enableReviewCardsLimit" in $$props2)
      $$invalidate(2, enableReviewCardsLimit = $$props2.enableReviewCardsLimit);
    if ("reviewOrder" in $$props2)
      $$invalidate(20, reviewOrder = $$props2.reviewOrder);
    if ("headerLevel" in $$props2)
      $$invalidate(21, headerLevel = $$props2.headerLevel);
    if ("requestRetention" in $$props2)
      $$invalidate(22, requestRetention = $$props2.requestRetention);
    if ("profile" in $$props2)
      $$invalidate(23, profile = $$props2.profile);
    if ("saving" in $$props2)
      $$invalidate(3, saving = $$props2.saving);
    if ("newCardsLimitContainer" in $$props2)
      $$invalidate(4, newCardsLimitContainer = $$props2.newCardsLimitContainer);
    if ("enableNewCardsContainer" in $$props2)
      $$invalidate(5, enableNewCardsContainer = $$props2.enableNewCardsContainer);
    if ("reviewCardsLimitContainer" in $$props2)
      $$invalidate(6, reviewCardsLimitContainer = $$props2.reviewCardsLimitContainer);
    if ("enableReviewCardsContainer" in $$props2)
      $$invalidate(7, enableReviewCardsContainer = $$props2.enableReviewCardsContainer);
    if ("enableReviewCardsLimitContainer" in $$props2)
      enableReviewCardsLimitContainer = $$props2.enableReviewCardsLimitContainer;
    if ("reviewOrderContainer" in $$props2)
      $$invalidate(8, reviewOrderContainer = $$props2.reviewOrderContainer);
    if ("headerLevelContainer" in $$props2)
      $$invalidate(9, headerLevelContainer = $$props2.headerLevelContainer);
    if ("requestRetentionContainer" in $$props2)
      $$invalidate(10, requestRetentionContainer = $$props2.requestRetentionContainer);
    if ("profileContainer" in $$props2)
      $$invalidate(11, profileContainer = $$props2.profileContainer);
    if ("fsrsResetContainer" in $$props2)
      $$invalidate(12, fsrsResetContainer = $$props2.fsrsResetContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*enableNewCardsLimit, newCardsLimit, enableReviewCardsLimit, reviewCardsLimit, reviewOrder, headerLevel, requestRetention, profile*/
    16515078) {
      $: {
        const newConfig = {
          newCardsPerDay: enableNewCardsLimit ? Number(newCardsLimit) || 0 : 0,
          reviewCardsPerDay: enableReviewCardsLimit ? Number(reviewCardsLimit) || 0 : 0,
          reviewOrder,
          headerLevel: Number(headerLevel) || 2,
          fsrs: {
            requestRetention: Number(requestRetention) || 0.9,
            profile
          }
        };
        dispatch("configChange", newConfig);
      }
    }
  };
  return [
    deck,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    saving,
    newCardsLimitContainer,
    enableNewCardsContainer,
    reviewCardsLimitContainer,
    enableReviewCardsContainer,
    reviewOrderContainer,
    headerLevelContainer,
    requestRetentionContainer,
    profileContainer,
    fsrsResetContainer,
    handleSave,
    handleTouchClick,
    handleCancel,
    handleKeydown,
    config,
    newCardsLimit,
    reviewCardsLimit,
    reviewOrder,
    headerLevel,
    requestRetention,
    profile,
    div2_binding,
    div3_binding,
    div4_binding,
    div5_binding,
    div6_binding,
    div9_binding,
    div12_binding,
    div13_binding,
    div14_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1
  ];
}
var DeckConfigUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance2, create_fragment2, safe_not_equal, { deck: 0, config: 17 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckConfigUI",
      options,
      id: create_fragment2.name
    });
  }
  get deck() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get config() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set config(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckConfigUI_default = DeckConfigUI;

// src/components/DeckConfigModal.ts
var DeckConfigModal = class extends import_obsidian4.Modal {
  constructor(plugin, deck, onSave) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
    this.deck = deck;
    this.onSave = onSave;
    this.config = { ...deck.config };
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("deck-config-modal-mobile");
    }
    contentEl.createEl("h2", { text: `Configure Deck: ${this.deck.name}` });
    const componentContainer = contentEl.createDiv("deck-config-container");
    componentContainer.addClass("deck-config-container");
    this.component = new DeckConfigUI_default({
      target: componentContainer,
      props: {
        deck: this.deck,
        config: this.config
      }
    });
    this.component.$on("save", (event) => {
      this.handleSave(event.detail);
    });
    this.component.$on("cancel", () => {
      this.close();
    });
    this.component.$on("configChange", (event) => {
      this.config = event.detail;
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (import_obsidian4.Platform.isIosApp || import_obsidian4.Platform.isAndroidApp) {
          modalEl2.addClass("deck-config-modal-mobile");
        } else {
          modalEl2.removeClass("deck-config-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  async handleSave(config) {
    try {
      await this.onSave(config);
      this.close();
    } catch (error) {
      console.error("Error saving deck configuration:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/AnkiExportModal.ts
var import_obsidian6 = require("obsidian");

// src/components/AnkiExportUI.svelte
var import_obsidian5 = require("obsidian");
var file3 = "src/components/AnkiExportUI.svelte";
function create_fragment3(ctx) {
  let div6;
  let div0;
  let h30;
  let t1;
  let ul;
  let li0;
  let strong0;
  let t3;
  let t4_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t4;
  let t5;
  let li1;
  let strong1;
  let t7;
  let t8_value = (
    /*deck*/
    ctx[0].tag + ""
  );
  let t8;
  let t9;
  let li2;
  let strong2;
  let t11;
  let t12_value = (
    /*deck*/
    ctx[0].filepath + ""
  );
  let t12;
  let t13;
  let div1;
  let h31;
  let t15;
  let ol;
  let li3;
  let t17;
  let li4;
  let t18;
  let strong3;
  let t20;
  let li5;
  let t22;
  let li6;
  let t24;
  let li7;
  let t25;
  let strong4;
  let t27;
  let t28;
  let div4;
  let h32;
  let t30;
  let div2;
  let t31;
  let div3;
  let t32;
  let div5;
  let button0;
  let t33_value = (
    /*exporting*/
    ctx[2] ? "Exporting..." : "Export to Anki"
  );
  let t33;
  let button0_disabled_value;
  let t34;
  let button1;
  let t35;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div6 = element("div");
      div0 = element("div");
      h30 = element("h3");
      h30.textContent = "Export Information";
      t1 = space();
      ul = element("ul");
      li0 = element("li");
      strong0 = element("strong");
      strong0.textContent = "Source Deck:";
      t3 = space();
      t4 = text(t4_value);
      t5 = space();
      li1 = element("li");
      strong1 = element("strong");
      strong1.textContent = "Source Tag:";
      t7 = space();
      t8 = text(t8_value);
      t9 = space();
      li2 = element("li");
      strong2 = element("strong");
      strong2.textContent = "Source File:";
      t11 = space();
      t12 = text(t12_value);
      t13 = space();
      div1 = element("div");
      h31 = element("h3");
      h31.textContent = "How to Import";
      t15 = space();
      ol = element("ol");
      li3 = element("li");
      li3.textContent = "This will download a text file compatible with Anki";
      t17 = space();
      li4 = element("li");
      t18 = text("Open Anki and go to ");
      strong3 = element("strong");
      strong3.textContent = "File \u2192 Import";
      t20 = space();
      li5 = element("li");
      li5.textContent = "Select the downloaded file";
      t22 = space();
      li6 = element("li");
      li6.textContent = "Choose your target deck and import settings";
      t24 = space();
      li7 = element("li");
      t25 = text("Click ");
      strong4 = element("strong");
      strong4.textContent = "Import";
      t27 = text(" to add the cards");
      t28 = space();
      div4 = element("div");
      h32 = element("h3");
      h32.textContent = "Export Settings";
      t30 = space();
      div2 = element("div");
      t31 = space();
      div3 = element("div");
      t32 = space();
      div5 = element("div");
      button0 = element("button");
      t33 = text(t33_value);
      t34 = space();
      button1 = element("button");
      t35 = text("Cancel");
      attr_dev(h30, "class", "svelte-u6l6b1");
      add_location(h30, file3, 88, 8, 2693);
      attr_dev(strong0, "class", "svelte-u6l6b1");
      add_location(strong0, file3, 90, 16, 2773);
      attr_dev(li0, "class", "svelte-u6l6b1");
      add_location(li0, file3, 90, 12, 2769);
      attr_dev(strong1, "class", "svelte-u6l6b1");
      add_location(strong1, file3, 91, 16, 2836);
      attr_dev(li1, "class", "svelte-u6l6b1");
      add_location(li1, file3, 91, 12, 2832);
      attr_dev(strong2, "class", "svelte-u6l6b1");
      add_location(strong2, file3, 92, 16, 2897);
      attr_dev(li2, "class", "svelte-u6l6b1");
      add_location(li2, file3, 92, 12, 2893);
      attr_dev(ul, "class", "deck-info-list svelte-u6l6b1");
      add_location(ul, file3, 89, 8, 2729);
      attr_dev(div0, "class", "deck-info-section svelte-u6l6b1");
      add_location(div0, file3, 87, 4, 2653);
      attr_dev(h31, "class", "svelte-u6l6b1");
      add_location(h31, file3, 98, 8, 3054);
      attr_dev(li3, "class", "svelte-u6l6b1");
      add_location(li3, file3, 100, 12, 3128);
      attr_dev(strong3, "class", "svelte-u6l6b1");
      add_location(strong3, file3, 101, 36, 3225);
      attr_dev(li4, "class", "svelte-u6l6b1");
      add_location(li4, file3, 101, 12, 3201);
      attr_dev(li5, "class", "svelte-u6l6b1");
      add_location(li5, file3, 102, 12, 3273);
      attr_dev(li6, "class", "svelte-u6l6b1");
      add_location(li6, file3, 103, 12, 3321);
      attr_dev(strong4, "class", "svelte-u6l6b1");
      add_location(strong4, file3, 104, 22, 3396);
      attr_dev(li7, "class", "svelte-u6l6b1");
      add_location(li7, file3, 104, 12, 3386);
      attr_dev(ol, "class", "instructions-list svelte-u6l6b1");
      add_location(ol, file3, 99, 8, 3085);
      attr_dev(div1, "class", "instructions-section svelte-u6l6b1");
      add_location(div1, file3, 97, 4, 3011);
      attr_dev(h32, "class", "svelte-u6l6b1");
      add_location(h32, file3, 110, 8, 3555);
      add_location(div2, file3, 113, 8, 3633);
      add_location(div3, file3, 114, 8, 3683);
      attr_dev(div4, "class", "export-settings-section svelte-u6l6b1");
      add_location(div4, file3, 109, 4, 3509);
      attr_dev(button0, "class", "mod-cta svelte-u6l6b1");
      button0.disabled = button0_disabled_value = /*exporting*/
      ctx[2] || !/*ankiDeckName*/
      ctx[1].trim();
      add_location(button0, file3, 119, 8, 3805);
      button1.disabled = /*exporting*/
      ctx[2];
      attr_dev(button1, "class", "svelte-u6l6b1");
      add_location(button1, file3, 127, 8, 4125);
      attr_dev(div5, "class", "modal-footer svelte-u6l6b1");
      add_location(div5, file3, 118, 4, 3770);
      attr_dev(div6, "class", "anki-export-ui svelte-u6l6b1");
      add_location(div6, file3, 85, 0, 2582);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div0);
      append_dev(div0, h30);
      append_dev(div0, t1);
      append_dev(div0, ul);
      append_dev(ul, li0);
      append_dev(li0, strong0);
      append_dev(li0, t3);
      append_dev(li0, t4);
      append_dev(ul, t5);
      append_dev(ul, li1);
      append_dev(li1, strong1);
      append_dev(li1, t7);
      append_dev(li1, t8);
      append_dev(ul, t9);
      append_dev(ul, li2);
      append_dev(li2, strong2);
      append_dev(li2, t11);
      append_dev(li2, t12);
      append_dev(div6, t13);
      append_dev(div6, div1);
      append_dev(div1, h31);
      append_dev(div1, t15);
      append_dev(div1, ol);
      append_dev(ol, li3);
      append_dev(ol, t17);
      append_dev(ol, li4);
      append_dev(li4, t18);
      append_dev(li4, strong3);
      append_dev(ol, t20);
      append_dev(ol, li5);
      append_dev(ol, t22);
      append_dev(ol, li6);
      append_dev(ol, t24);
      append_dev(ol, li7);
      append_dev(li7, t25);
      append_dev(li7, strong4);
      append_dev(li7, t27);
      append_dev(div6, t28);
      append_dev(div6, div4);
      append_dev(div4, h32);
      append_dev(div4, t30);
      append_dev(div4, div2);
      ctx[9](div2);
      append_dev(div4, t31);
      append_dev(div4, div3);
      ctx[10](div3);
      append_dev(div6, t32);
      append_dev(div6, div5);
      append_dev(div5, button0);
      append_dev(button0, t33);
      append_dev(div5, t34);
      append_dev(div5, button1);
      append_dev(button1, t35);
      if (!mounted) {
        dispose = [
          listen_dev(
            window,
            "keydown",
            /*handleKeydown*/
            ctx[8],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[11],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[12],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[13],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[14],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, [dirty]) {
      if (dirty & /*deck*/
      1 && t4_value !== (t4_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t4, t4_value);
      if (dirty & /*deck*/
      1 && t8_value !== (t8_value = /*deck*/
      ctx2[0].tag + ""))
        set_data_dev(t8, t8_value);
      if (dirty & /*deck*/
      1 && t12_value !== (t12_value = /*deck*/
      ctx2[0].filepath + ""))
        set_data_dev(t12, t12_value);
      if (dirty & /*exporting*/
      4 && t33_value !== (t33_value = /*exporting*/
      ctx2[2] ? "Exporting..." : "Export to Anki"))
        set_data_dev(t33, t33_value);
      if (dirty & /*exporting, ankiDeckName*/
      6 && button0_disabled_value !== (button0_disabled_value = /*exporting*/
      ctx2[2] || !/*ankiDeckName*/
      ctx2[1].trim())) {
        prop_dev(button0, "disabled", button0_disabled_value);
      }
      if (dirty & /*exporting*/
      4) {
        prop_dev(
          button1,
          "disabled",
          /*exporting*/
          ctx2[2]
        );
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      ctx[9](null);
      ctx[10](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment3.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance3($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("AnkiExportUI", slots, []);
  let { deck } = $$props;
  const dispatch = createEventDispatcher();
  let ankiDeckName = deck.name;
  let separator = "tab";
  let exporting = false;
  let deckNameContainer;
  let separatorContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  function handleExport() {
    $$invalidate(2, exporting = true);
    const separatorMap = {
      tab: "	",
      semicolon: ";",
      colon: ":",
      pipe: "|",
      comma: ",",
      space: " "
    };
    const config = {
      ankiDeckName: ankiDeckName.trim() || deck.name,
      separator: separatorMap[separator] || "	"
    };
    dispatch("export", config);
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function handleCancel() {
    dispatch("cancel");
  }
  function handleKeydown(event) {
    if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
      handleExport();
    }
  }
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    if (deckNameContainer) {
      new import_obsidian5.Setting(deckNameContainer).setName("Anki Deck Name").setDesc("Name of the deck in Anki where cards will be imported").addText((text2) => text2.setPlaceholder("Enter deck name...").setValue(ankiDeckName).onChange((value) => {
        $$invalidate(1, ankiDeckName = value);
      }));
    }
    if (separatorContainer) {
      new import_obsidian5.Setting(separatorContainer).setName("Field Separator").setDesc("Character used to separate fields in the exported file").addDropdown((dropdown) => dropdown.addOption("tab", "Tab").addOption("semicolon", "Semicolon (;)").addOption("colon", "Colon (:)").addOption("pipe", "Pipe (|)").addOption("comma", "Comma (,)").addOption("space", "Space").setValue(separator).onChange((value) => {
        separator = value;
      }));
    }
  }));
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console.warn("<AnkiExportUI> was created without expected prop 'deck'");
    }
  });
  const writable_props = ["deck"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console.warn(`<AnkiExportUI> was created with unknown prop '${key}'`);
  });
  function div2_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      deckNameContainer = $$value;
      $$invalidate(3, deckNameContainer);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      separatorContainer = $$value;
      $$invalidate(4, separatorContainer);
    });
  }
  const click_handler = (e) => handleTouchClick(handleExport, e);
  const touchend_handler = (e) => handleTouchClick(handleExport, e);
  const click_handler_1 = (e) => handleTouchClick(handleCancel, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleCancel, e);
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    createEventDispatcher,
    onMount,
    Setting: import_obsidian5.Setting,
    deck,
    dispatch,
    ankiDeckName,
    separator,
    exporting,
    deckNameContainer,
    separatorContainer,
    lastEventTime,
    lastEventType,
    handleExport,
    handleTouchClick,
    handleCancel,
    handleKeydown
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("ankiDeckName" in $$props2)
      $$invalidate(1, ankiDeckName = $$props2.ankiDeckName);
    if ("separator" in $$props2)
      separator = $$props2.separator;
    if ("exporting" in $$props2)
      $$invalidate(2, exporting = $$props2.exporting);
    if ("deckNameContainer" in $$props2)
      $$invalidate(3, deckNameContainer = $$props2.deckNameContainer);
    if ("separatorContainer" in $$props2)
      $$invalidate(4, separatorContainer = $$props2.separatorContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    deck,
    ankiDeckName,
    exporting,
    deckNameContainer,
    separatorContainer,
    handleExport,
    handleTouchClick,
    handleCancel,
    handleKeydown,
    div2_binding,
    div3_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1
  ];
}
var AnkiExportUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance3, create_fragment3, safe_not_equal, { deck: 0 });
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "AnkiExportUI",
      options,
      id: create_fragment3.name
    });
  }
  get deck() {
    throw new Error("<AnkiExportUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<AnkiExportUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var AnkiExportUI_default = AnkiExportUI;

// src/components/AnkiExportModal.ts
var AnkiExportModal = class extends import_obsidian6.Modal {
  constructor(plugin, deck) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
    this.deck = deck;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("anki-export-modal-mobile");
    }
    contentEl.createEl("h2", { text: `Export to Anki: ${this.deck.name}` });
    const componentContainer = contentEl.createDiv("anki-export-container");
    componentContainer.addClass("anki-export-container");
    this.component = new AnkiExportUI_default({
      target: componentContainer,
      props: {
        deck: this.deck
      }
    });
    this.component.$on("export", (event) => {
      this.handleExport(event.detail);
    });
    this.component.$on("cancel", () => {
      this.close();
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl2.addClass("anki-export-modal-mobile");
        } else {
          modalEl2.removeClass("anki-export-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  async handleExport(config) {
    try {
      const flashcards = await this.plugin.getFlashcardsByDeck(this.deck.id);
      if (flashcards.length === 0) {
        new import_obsidian6.Notice("No flashcards found in this deck to export");
        return;
      }
      const ankiData = this.generateAnkiData(flashcards, config);
      await this.downloadAnkiFile(ankiData, config.ankiDeckName);
      new import_obsidian6.Notice(
        `Successfully exported ${flashcards.length} flashcards to Anki format`
      );
      this.close();
    } catch (error) {
      console.error("Error exporting to Anki:", error);
      new import_obsidian6.Notice("Failed to export deck to Anki format");
    }
  }
  generateAnkiData(flashcards, config) {
    const headers = ["Front", "Back"];
    const rows = [headers.join(config.separator)];
    flashcards.forEach((card) => {
      const front = this.sanitizeForAnki(card.front, config.separator);
      const back = this.sanitizeForAnki(card.back, config.separator);
      rows.push([front, back].join(config.separator));
    });
    return rows.join("\n");
  }
  sanitizeForAnki(text2, separator) {
    let sanitized = text2.replace(/\*\*(.*?)\*\*/g, "<b>$1</b>").replace(/\*(.*?)\*/g, "<i>$1</i>").replace(/`(.*?)`/g, "<code>$1</code>").replace(/\n/g, "<br>").trim();
    if (separator === "	") {
      sanitized = sanitized.replace(/\t/g, " ");
    } else {
      sanitized = sanitized.replace(
        new RegExp(`\\${separator}`, "g"),
        `\\${separator}`
      );
    }
    return sanitized;
  }
  async downloadAnkiFile(data, deckName) {
    const fileName = `${deckName.replace(/[^a-zA-Z0-9-_]/g, "_")}_export.txt`;
    const blob = new Blob([data], { type: "text/plain;charset=utf-8" });
    const url = URL.createObjectURL(blob);
    const link = document.createElement("a");
    link.href = url;
    link.download = fileName;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/DeckListPanel.svelte
var { console: console_12 } = globals;
var file4 = "src/components/DeckListPanel.svelte";
function get_each_context2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[57] = list[i];
  const constants_0 = (
    /*getDeckStats*/
    child_ctx[13](
      /*deck*/
      child_ctx[57].id
    )
  );
  child_ctx[12] = constants_0;
  return child_ctx;
}
function get_each_context_22(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[60] = list[i];
  return child_ctx;
}
function get_each_context_12(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[60] = list[i];
  return child_ctx;
}
function create_if_block_5(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_2 = (
    /*availableTags*/
    ctx[7].slice(0, 5)
  );
  validate_each_argument(each_value_2);
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_22(get_each_context_22(ctx, each_value_2, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags (click to filter):";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-1hyrijk");
      add_location(div0, file4, 367, 20, 12454);
      attr_dev(div1, "class", "suggestions-dropdown svelte-1hyrijk");
      add_location(div1, file4, 366, 16, 12399);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, availableTags, handleTouchClick*/
      2162816) {
        each_value_2 = /*availableTags*/
        ctx2[7].slice(0, 5);
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_22(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_22(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_2.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_5.name,
    type: "if",
    source: "(366:85) ",
    ctx
  });
  return block;
}
function create_if_block_4(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_1 = (
    /*filteredSuggestions*/
    ctx[8]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_12(get_each_context_12(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags:";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-1hyrijk");
      add_location(div0, file4, 344, 20, 11370);
      attr_dev(div1, "class", "suggestions-dropdown svelte-1hyrijk");
      add_location(div1, file4, 343, 16, 11315);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, filteredSuggestions, handleTouchClick*/
      2162944) {
        each_value_1 = /*filteredSuggestions*/
        ctx2[8];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_12(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_12(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_4.name,
    type: "if",
    source: "(343:12) {#if showSuggestions && filteredSuggestions.length > 0}",
    ctx
  });
  return block;
}
function create_each_block_22(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[60] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler_1() {
    return (
      /*mousedown_handler_1*/
      ctx[38](
        /*tag*/
        ctx[60]
      )
    );
  }
  function click_handler_3(...args) {
    return (
      /*click_handler_3*/
      ctx[39](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  function touchend_handler_3(...args) {
    return (
      /*touchend_handler_3*/
      ctx[40](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-1hyrijk");
      add_location(button, file4, 371, 24, 12657);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = [
          listen_dev(button, "mousedown", prevent_default(mousedown_handler_1), false, true, false, false),
          listen_dev(button, "click", click_handler_3, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_3, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*availableTags*/
      128 && t0_value !== (t0_value = /*tag*/
      ctx[60] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_22.name,
    type: "each",
    source: "(371:20) {#each availableTags.slice(0, 5) as tag}",
    ctx
  });
  return block;
}
function create_each_block_12(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[60] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler() {
    return (
      /*mousedown_handler*/
      ctx[35](
        /*tag*/
        ctx[60]
      )
    );
  }
  function click_handler_2(...args) {
    return (
      /*click_handler_2*/
      ctx[36](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  function touchend_handler_2(...args) {
    return (
      /*touchend_handler_2*/
      ctx[37](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-1hyrijk");
      add_location(button, file4, 346, 24, 11503);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = [
          listen_dev(button, "mousedown", prevent_default(mousedown_handler), false, true, false, false),
          listen_dev(button, "click", click_handler_2, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_2, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*filteredSuggestions*/
      256 && t0_value !== (t0_value = /*tag*/
      ctx[60] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_12.name,
    type: "each",
    source: "(346:20) {#each filteredSuggestions as tag}",
    ctx
  });
  return block;
}
function create_else_block2(ctx) {
  let div6;
  let div4;
  let div0;
  let t1;
  let div1;
  let t3;
  let div2;
  let t5;
  let div3;
  let t6;
  let div5;
  let each_value = (
    /*decks*/
    ctx[2]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block2(get_each_context2(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div6 = element("div");
      div4 = element("div");
      div0 = element("div");
      div0.textContent = "Deck";
      t1 = space();
      div1 = element("div");
      div1.textContent = "New";
      t3 = space();
      div2 = element("div");
      div2.textContent = "Due";
      t5 = space();
      div3 = element("div");
      t6 = space();
      div5 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "col-deck svelte-1hyrijk");
      add_location(div0, file4, 409, 16, 14038);
      attr_dev(div1, "class", "col-stat svelte-1hyrijk");
      add_location(div1, file4, 410, 16, 14087);
      attr_dev(div2, "class", "col-stat svelte-1hyrijk");
      add_location(div2, file4, 411, 16, 14135);
      attr_dev(div3, "class", "col-config svelte-1hyrijk");
      add_location(div3, file4, 412, 16, 14183);
      attr_dev(div4, "class", "table-header svelte-1hyrijk");
      add_location(div4, file4, 408, 12, 13995);
      attr_dev(div5, "class", "table-body svelte-1hyrijk");
      add_location(div5, file4, 415, 12, 14246);
      attr_dev(div6, "class", "deck-table svelte-1hyrijk");
      add_location(div6, file4, 407, 8, 13958);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div4);
      append_dev(div4, div0);
      append_dev(div4, t1);
      append_dev(div4, div1);
      append_dev(div4, t3);
      append_dev(div4, div2);
      append_dev(div4, t5);
      append_dev(div4, div3);
      append_dev(div6, t6);
      append_dev(div6, div5);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div5, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*decks, handleTouchClick, handleConfigClick, getDeckStats, isUpdatingStats, handleDeckClick*/
      3680260) {
        each_value = /*decks*/
        ctx2[2];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context2(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div5, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block2.name,
    type: "else",
    source: "(407:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_12(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No decks match your filter.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Try adjusting your search terms.";
      attr_dev(p0, "class", "svelte-1hyrijk");
      add_location(p0, file4, 403, 12, 13818);
      attr_dev(p1, "class", "help-text svelte-1hyrijk");
      add_location(p1, file4, 404, 12, 13865);
      attr_dev(div, "class", "empty-state svelte-1hyrijk");
      add_location(div, file4, 402, 8, 13780);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_12.name,
    type: "if",
    source: "(402:33) ",
    ctx
  });
  return block;
}
function create_if_block2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No flashcard decks found.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Tag your notes with #flashcards to create decks.";
      attr_dev(p0, "class", "svelte-1hyrijk");
      add_location(p0, file4, 396, 12, 13574);
      attr_dev(p1, "class", "help-text svelte-1hyrijk");
      add_location(p1, file4, 397, 12, 13619);
      attr_dev(div, "class", "empty-state svelte-1hyrijk");
      add_location(div, file4, 395, 8, 13536);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block2.name,
    type: "if",
    source: "(395:4) {#if allDecks.length === 0}",
    ctx
  });
  return block;
}
function create_if_block_3(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-1hyrijk");
      add_location(span, file4, 452, 32, 16199);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_3.name,
    type: "if",
    source: "(452:28) {#if deck.config.newCardsPerDay > 0}",
    ctx
  });
  return block;
}
function create_if_block_2(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-1hyrijk");
      add_location(span, file4, 474, 32, 17346);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_2.name,
    type: "if",
    source: "(474:28) {#if deck.config.reviewCardsPerDay > 0}",
    ctx
  });
  return block;
}
function create_each_block2(ctx) {
  let div5;
  let div0;
  let span;
  let t0_value = formatDeckName(
    /*deck*/
    ctx[57]
  ) + "";
  let t0;
  let span_title_value;
  let t1;
  let div1;
  let t2_value = (
    /*stats*/
    ctx[12].newCount + ""
  );
  let t2;
  let t3;
  let div1_title_value;
  let t4;
  let div2;
  let t6;
  let div3;
  let t7_value = (
    /*stats*/
    ctx[12].dueCount + ""
  );
  let t7;
  let t8;
  let div3_title_value;
  let t9;
  let div4;
  let button;
  let svg;
  let circle;
  let path;
  let button_aria_label_value;
  let t10;
  let mounted;
  let dispose;
  function click_handler_4(...args) {
    return (
      /*click_handler_4*/
      ctx[41](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function touchend_handler_4(...args) {
    return (
      /*touchend_handler_4*/
      ctx[42](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function keydown_handler(...args) {
    return (
      /*keydown_handler*/
      ctx[43](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  let if_block0 = (
    /*deck*/
    ctx[57].config.newCardsPerDay > 0 && create_if_block_3(ctx)
  );
  let if_block1 = (
    /*deck*/
    ctx[57].config.reviewCardsPerDay > 0 && create_if_block_2(ctx)
  );
  function click_handler_5(...args) {
    return (
      /*click_handler_5*/
      ctx[44](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function touchend_handler_5(...args) {
    return (
      /*touchend_handler_5*/
      ctx[45](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      div5 = element("div");
      div0 = element("div");
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      if (if_block0)
        if_block0.c();
      t4 = space();
      div2 = element("div");
      div2.textContent = "0";
      t6 = space();
      div3 = element("div");
      t7 = text(t7_value);
      t8 = space();
      if (if_block1)
        if_block1.c();
      t9 = space();
      div4 = element("div");
      button = element("button");
      svg = svg_element("svg");
      circle = svg_element("circle");
      path = svg_element("path");
      t10 = space();
      attr_dev(span, "class", "deck-name-link svelte-1hyrijk");
      attr_dev(span, "role", "button");
      attr_dev(span, "tabindex", "0");
      attr_dev(span, "title", span_title_value = "Click to review " + /*deck*/
      ctx[57].name);
      add_location(span, file4, 420, 28, 14486);
      attr_dev(div0, "class", "col-deck svelte-1hyrijk");
      add_location(div0, file4, 419, 24, 14435);
      attr_dev(div1, "class", "col-stat svelte-1hyrijk");
      attr_dev(div1, "title", div1_title_value = /*deck*/
      ctx[57].config.newCardsPerDay > 0 ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[57].config.newCardsPerDay})` : `${/*stats*/
      ctx[12].newCount} new cards due`);
      toggle_class(
        div1,
        "has-cards",
        /*stats*/
        ctx[12].newCount > 0
      );
      toggle_class(
        div1,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div1,
        "has-limit",
        /*deck*/
        ctx[57].config.newCardsPerDay > 0
      );
      add_location(div1, file4, 441, 24, 15524);
      attr_dev(div2, "class", "col-stat svelte-1hyrijk");
      set_style(div2, "display", "none");
      toggle_class(div2, "has-cards", false);
      toggle_class(
        div2,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      add_location(div2, file4, 455, 24, 16328);
      attr_dev(div3, "class", "col-stat svelte-1hyrijk");
      attr_dev(div3, "title", div3_title_value = /*deck*/
      ctx[57].config.reviewCardsPerDay > 0 ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[57].config.reviewCardsPerDay})` : `${/*stats*/
      ctx[12].dueCount} review cards due`);
      toggle_class(
        div3,
        "has-cards",
        /*stats*/
        ctx[12].dueCount > 0
      );
      toggle_class(
        div3,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div3,
        "has-limit",
        /*deck*/
        ctx[57].config.reviewCardsPerDay > 0
      );
      add_location(div3, file4, 463, 24, 16653);
      attr_dev(circle, "cx", "12");
      attr_dev(circle, "cy", "12");
      attr_dev(circle, "r", "3");
      add_location(circle, file4, 504, 36, 18884);
      attr_dev(path, "d", "M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z");
      add_location(path, file4, 505, 36, 18960);
      attr_dev(svg, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg, "width", "16");
      attr_dev(svg, "height", "16");
      attr_dev(svg, "viewBox", "0 0 24 24");
      attr_dev(svg, "fill", "none");
      attr_dev(svg, "stroke", "currentColor");
      attr_dev(svg, "stroke-width", "2");
      attr_dev(svg, "stroke-linecap", "round");
      attr_dev(svg, "stroke-linejoin", "round");
      add_location(svg, file4, 493, 32, 18309);
      attr_dev(button, "class", "deck-config-button svelte-1hyrijk");
      attr_dev(button, "title", "Configure deck settings");
      attr_dev(button, "aria-label", button_aria_label_value = "Configure " + /*deck*/
      ctx[57].name);
      add_location(button, file4, 478, 28, 17528);
      attr_dev(div4, "class", "col-config svelte-1hyrijk");
      add_location(div4, file4, 477, 24, 17475);
      attr_dev(div5, "class", "deck-row svelte-1hyrijk");
      add_location(div5, file4, 418, 20, 14388);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div0);
      append_dev(div0, span);
      append_dev(span, t0);
      append_dev(div5, t1);
      append_dev(div5, div1);
      append_dev(div1, t2);
      append_dev(div1, t3);
      if (if_block0)
        if_block0.m(div1, null);
      append_dev(div5, t4);
      append_dev(div5, div2);
      append_dev(div5, t6);
      append_dev(div5, div3);
      append_dev(div3, t7);
      append_dev(div3, t8);
      if (if_block1)
        if_block1.m(div3, null);
      append_dev(div5, t9);
      append_dev(div5, div4);
      append_dev(div4, button);
      append_dev(button, svg);
      append_dev(svg, circle);
      append_dev(svg, path);
      append_dev(div5, t10);
      if (!mounted) {
        dispose = [
          listen_dev(span, "click", click_handler_4, false, false, false, false),
          listen_dev(span, "touchend", touchend_handler_4, false, false, false, false),
          listen_dev(span, "keydown", keydown_handler, false, false, false, false),
          listen_dev(button, "click", click_handler_5, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_5, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*decks*/
      4 && t0_value !== (t0_value = formatDeckName(
        /*deck*/
        ctx[57]
      ) + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*decks*/
      4 && span_title_value !== (span_title_value = "Click to review " + /*deck*/
      ctx[57].name)) {
        attr_dev(span, "title", span_title_value);
      }
      if (dirty[0] & /*decks*/
      4 && t2_value !== (t2_value = /*stats*/
      ctx[12].newCount + ""))
        set_data_dev(t2, t2_value);
      if (
        /*deck*/
        ctx[57].config.newCardsPerDay > 0
      ) {
        if (if_block0) {
        } else {
          if_block0 = create_if_block_3(ctx);
          if_block0.c();
          if_block0.m(div1, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div1_title_value !== (div1_title_value = /*deck*/
      ctx[57].config.newCardsPerDay > 0 ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[57].config.newCardsPerDay})` : `${/*stats*/
      ctx[12].newCount} new cards due`)) {
        attr_dev(div1, "title", div1_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div1,
          "has-cards",
          /*stats*/
          ctx[12].newCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div1,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div1,
          "has-limit",
          /*deck*/
          ctx[57].config.newCardsPerDay > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div2,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4 && t7_value !== (t7_value = /*stats*/
      ctx[12].dueCount + ""))
        set_data_dev(t7, t7_value);
      if (
        /*deck*/
        ctx[57].config.reviewCardsPerDay > 0
      ) {
        if (if_block1) {
        } else {
          if_block1 = create_if_block_2(ctx);
          if_block1.c();
          if_block1.m(div3, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div3_title_value !== (div3_title_value = /*deck*/
      ctx[57].config.reviewCardsPerDay > 0 ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[57].config.reviewCardsPerDay})` : `${/*stats*/
      ctx[12].dueCount} review cards due`)) {
        attr_dev(div3, "title", div3_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div3,
          "has-cards",
          /*stats*/
          ctx[12].dueCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div3,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div3,
          "has-limit",
          /*deck*/
          ctx[57].config.reviewCardsPerDay > 0
        );
      }
      if (dirty[0] & /*decks*/
      4 && button_aria_label_value !== (button_aria_label_value = "Configure " + /*deck*/
      ctx[57].name)) {
        attr_dev(button, "aria-label", button_aria_label_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block2.name,
    type: "each",
    source: "(417:16) {#each decks as deck}",
    ctx
  });
  return block;
}
function create_fragment4(ctx) {
  let div4;
  let div1;
  let h3;
  let t1;
  let div0;
  let button0;
  let svg0;
  let path0;
  let path1;
  let path2;
  let path3;
  let t2;
  let button1;
  let svg1;
  let path4;
  let path5;
  let path6;
  let t3;
  let div3;
  let div2;
  let input;
  let t4;
  let show_if;
  let t5;
  let t6;
  let reviewheatmap;
  let current;
  let mounted;
  let dispose;
  function select_block_type(ctx2, dirty) {
    if (dirty[0] & /*filterText, availableTags, inputFocused*/
    656)
      show_if = null;
    if (
      /*showSuggestions*/
      ctx2[6] && /*filteredSuggestions*/
      ctx2[8].length > 0
    )
      return create_if_block_4;
    if (show_if == null)
      show_if = !!(!/*filterText*/
      ctx2[4].trim() && /*availableTags*/
      ctx2[7].length > 0 && /*inputFocused*/
      ctx2[9]);
    if (show_if)
      return create_if_block_5;
  }
  let current_block_type = select_block_type(ctx, [-1, -1, -1]);
  let if_block0 = current_block_type && current_block_type(ctx);
  function select_block_type_1(ctx2, dirty) {
    if (
      /*allDecks*/
      ctx2[3].length === 0
    )
      return create_if_block2;
    if (
      /*decks*/
      ctx2[2].length === 0
    )
      return create_if_block_12;
    return create_else_block2;
  }
  let current_block_type_1 = select_block_type_1(ctx, [-1, -1, -1]);
  let if_block1 = current_block_type_1(ctx);
  let reviewheatmap_props = {
    getReviewCounts: (
      /*getReviewCounts*/
      ctx[0]
    )
  };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[46](reviewheatmap);
  const block = {
    c: function create() {
      div4 = element("div");
      div1 = element("div");
      h3 = element("h3");
      h3.textContent = "Flashcard Decks";
      t1 = space();
      div0 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      path1 = svg_element("path");
      path2 = svg_element("path");
      path3 = svg_element("path");
      t2 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path4 = svg_element("path");
      path5 = svg_element("path");
      path6 = svg_element("path");
      t3 = space();
      div3 = element("div");
      div2 = element("div");
      input = element("input");
      t4 = space();
      if (if_block0)
        if_block0.c();
      t5 = space();
      if_block1.c();
      t6 = space();
      create_component(reviewheatmap.$$.fragment);
      attr_dev(h3, "class", "panel-title svelte-1hyrijk");
      add_location(h3, file4, 278, 8, 8802);
      attr_dev(path0, "d", "M3 3v18h18");
      add_location(path0, file4, 297, 20, 9565);
      attr_dev(path1, "d", "M18 17V9");
      add_location(path1, file4, 298, 20, 9614);
      attr_dev(path2, "d", "M13 17V5");
      add_location(path2, file4, 299, 20, 9661);
      attr_dev(path3, "d", "M8 17v-3");
      add_location(path3, file4, 300, 20, 9708);
      attr_dev(svg0, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg0, "width", "14");
      attr_dev(svg0, "height", "14");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "none");
      attr_dev(svg0, "stroke", "currentColor");
      attr_dev(svg0, "stroke-width", "2");
      attr_dev(svg0, "stroke-linecap", "round");
      attr_dev(svg0, "stroke-linejoin", "round");
      add_location(svg0, file4, 286, 16, 9166);
      attr_dev(button0, "class", "stats-button svelte-1hyrijk");
      attr_dev(button0, "title", "View Overall Statistics");
      add_location(button0, file4, 280, 12, 8896);
      attr_dev(path4, "d", "M23 4v6h-6");
      add_location(path4, file4, 321, 20, 10497);
      attr_dev(path5, "d", "M1 20v-6h6");
      add_location(path5, file4, 322, 20, 10546);
      attr_dev(path6, "d", "M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15");
      add_location(path6, file4, 323, 20, 10595);
      attr_dev(svg1, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg1, "width", "14");
      attr_dev(svg1, "height", "14");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "none");
      attr_dev(svg1, "stroke", "currentColor");
      attr_dev(svg1, "stroke-width", "2");
      attr_dev(svg1, "stroke-linecap", "round");
      attr_dev(svg1, "stroke-linejoin", "round");
      attr_dev(svg1, "class", "svelte-1hyrijk");
      add_location(svg1, file4, 310, 16, 10098);
      attr_dev(button1, "class", "refresh-button svelte-1hyrijk");
      button1.disabled = /*isRefreshing*/
      ctx[10];
      toggle_class(
        button1,
        "refreshing",
        /*isRefreshing*/
        ctx[10]
      );
      add_location(button1, file4, 303, 12, 9792);
      attr_dev(div0, "class", "header-buttons svelte-1hyrijk");
      add_location(div0, file4, 279, 8, 8855);
      attr_dev(div1, "class", "panel-header svelte-1hyrijk");
      add_location(div1, file4, 277, 4, 8767);
      attr_dev(input, "type", "text");
      attr_dev(input, "class", "filter-input svelte-1hyrijk");
      attr_dev(input, "placeholder", "Filter by name or tag... (e.g., 'spanish', '#flashcards')");
      add_location(input, file4, 333, 12, 10883);
      attr_dev(div2, "class", "filter-container svelte-1hyrijk");
      add_location(div2, file4, 332, 8, 10840);
      attr_dev(div3, "class", "filter-section svelte-1hyrijk");
      add_location(div3, file4, 331, 4, 10803);
      attr_dev(div4, "class", "deck-list-panel svelte-1hyrijk");
      add_location(div4, file4, 276, 0, 8733);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div4, anchor);
      append_dev(div4, div1);
      append_dev(div1, h3);
      append_dev(div1, t1);
      append_dev(div1, div0);
      append_dev(div0, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(svg0, path1);
      append_dev(svg0, path2);
      append_dev(svg0, path3);
      append_dev(div0, t2);
      append_dev(div0, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path4);
      append_dev(svg1, path5);
      append_dev(svg1, path6);
      append_dev(div4, t3);
      append_dev(div4, div3);
      append_dev(div3, div2);
      append_dev(div2, input);
      set_input_value(
        input,
        /*filterText*/
        ctx[4]
      );
      append_dev(div2, t4);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div4, t5);
      if_block1.m(div4, null);
      append_dev(div4, t6);
      mount_component(reviewheatmap, div4, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[30],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[31],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[32],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[33],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "input",
            /*input_input_handler*/
            ctx[34]
          ),
          listen_dev(
            input,
            "input",
            /*handleFilterInput*/
            ctx[15],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "focus",
            /*handleFilterFocus*/
            ctx[17],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "blur",
            /*handleFilterBlur*/
            ctx[18],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        prop_dev(
          button1,
          "disabled",
          /*isRefreshing*/
          ctx2[10]
        );
      }
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        toggle_class(
          button1,
          "refreshing",
          /*isRefreshing*/
          ctx2[10]
        );
      }
      if (dirty[0] & /*filterText*/
      16 && input.value !== /*filterText*/
      ctx2[4]) {
        set_input_value(
          input,
          /*filterText*/
          ctx2[4]
        );
      }
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block0) {
        if_block0.p(ctx2, dirty);
      } else {
        if (if_block0)
          if_block0.d(1);
        if_block0 = current_block_type && current_block_type(ctx2);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div2, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_1(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div4, t6);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*getReviewCounts*/
      1)
        reviewheatmap_changes.getReviewCounts = /*getReviewCounts*/
        ctx2[0];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div4);
      if (if_block0) {
        if_block0.d();
      }
      if_block1.d();
      ctx[46](null);
      destroy_component(reviewheatmap);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment4.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDeckName(deck) {
  return deck.name;
}
function instance4($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckListPanel", slots, []);
  let decks = [];
  let allDecks = [];
  let stats = /* @__PURE__ */ new Map();
  let filterText = "";
  let heatmapComponent;
  let showSuggestions = false;
  let availableTags = [];
  let filteredSuggestions = [];
  let inputFocused = false;
  let activeDropdown = null;
  let activeDropdownDeckId = null;
  let dropdownEventListeners = {};
  let { onDeckClick } = $$props;
  let { onRefresh } = $$props;
  let { getReviewCounts } = $$props;
  let { onUpdateDeckConfig } = $$props;
  let { onOpenStatistics } = $$props;
  let { plugin = null } = $$props;
  let isRefreshing = false;
  let isUpdatingStats = false;
  let lastEventTime = 0;
  let lastEventType = "";
  function getDeckStats(deckId) {
    var _a;
    return (_a = stats.get(deckId)) !== null && _a !== void 0 ? _a : {
      deckId,
      newCount: 0,
      dueCount: 0,
      totalCount: 0
    };
  }
  function handleRefresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(10, isRefreshing = true);
      try {
        onRefresh();
        refreshHeatmap();
      } catch (error) {
        console.error("Error during refresh:", error);
      } finally {
        $$invalidate(10, isRefreshing = false);
      }
    });
  }
  function updateStatsById(deckId, newStats) {
    $$invalidate(11, isUpdatingStats = true);
    stats.set(deckId, newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateStats(newStats) {
    $$invalidate(11, isUpdatingStats = true);
    $$invalidate(12, stats = newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateDecks(newDecks) {
    $$invalidate(3, allDecks = newDecks);
    $$invalidate(7, availableTags = [...new Set(newDecks.map((deck) => deck.tag))].filter((tag) => tag));
    applyFilter();
  }
  function applyFilter() {
    if (!filterText.trim()) {
      $$invalidate(2, decks = allDecks);
    } else {
      const filter = filterText.toLowerCase();
      $$invalidate(2, decks = allDecks.filter((deck) => deck.name.toLowerCase().includes(filter) || deck.tag.toLowerCase().includes(filter)));
    }
  }
  function handleFilterInput(event) {
    const target = event.target;
    $$invalidate(4, filterText = target.value);
    updateSuggestions();
    applyFilter();
  }
  function updateSuggestions() {
    if (!filterText.trim()) {
      $$invalidate(6, showSuggestions = false);
      return;
    }
    const filter = filterText.toLowerCase();
    $$invalidate(8, filteredSuggestions = availableTags.filter((tag) => tag.toLowerCase().includes(filter) && tag.toLowerCase() !== filter));
    $$invalidate(6, showSuggestions = filteredSuggestions.length > 0);
  }
  function selectSuggestion(tag) {
    $$invalidate(4, filterText = tag);
    $$invalidate(6, showSuggestions = false);
    applyFilter();
  }
  function handleFilterFocus() {
    $$invalidate(9, inputFocused = true);
    if (filterText.trim()) {
      updateSuggestions();
    } else if (availableTags.length > 0) {
      $$invalidate(6, showSuggestions = true);
    }
  }
  function handleFilterBlur() {
    $$invalidate(9, inputFocused = false);
    setTimeout(
      () => {
        $$invalidate(6, showSuggestions = false);
      },
      200
    );
  }
  function handleDeckClick(deck) {
    onDeckClick(deck);
  }
  function refreshHeatmap() {
    if (heatmapComponent) {
      heatmapComponent.refresh();
    }
  }
  function handleConfigClick(deck, event) {
    event.stopPropagation();
    if (activeDropdown && activeDropdownDeckId === deck.id) {
      closeActiveDropdown();
      return;
    }
    closeActiveDropdown();
    const dropdown = document.createElement("div");
    dropdown.className = "deck-config-dropdown";
    const configOption = document.createElement("div");
    configOption.className = "dropdown-option";
    configOption.textContent = "Configure deck";
    configOption.onclick = () => {
      closeActiveDropdown();
      openDeckConfig(deck);
    };
    const exportOption = document.createElement("div");
    exportOption.className = "dropdown-option";
    exportOption.textContent = "Export to Anki";
    exportOption.onclick = () => {
      closeActiveDropdown();
      openAnkiExport(deck);
    };
    dropdown.appendChild(configOption);
    dropdown.appendChild(exportOption);
    const button = event.target;
    const rect = button.getBoundingClientRect();
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    dropdown.style.position = "fixed";
    dropdown.style.zIndex = "1000";
    dropdown.style.visibility = "hidden";
    document.body.appendChild(dropdown);
    const dropdownRect = dropdown.getBoundingClientRect();
    let top = rect.bottom + 5;
    let left = rect.left;
    if (top + dropdownRect.height > viewportHeight - 10) {
      top = rect.top - dropdownRect.height - 5;
    }
    if (left + dropdownRect.width > viewportWidth - 10) {
      left = viewportWidth - dropdownRect.width - 10;
    }
    top = Math.max(10, top);
    left = Math.max(10, left);
    dropdown.style.top = `${top}px`;
    dropdown.style.left = `${left}px`;
    dropdown.style.visibility = "visible";
    activeDropdown = dropdown;
    activeDropdownDeckId = deck.id;
    dropdownEventListeners.click = (e) => {
      if (!dropdown.contains(e.target)) {
        closeActiveDropdown();
      }
    };
    dropdownEventListeners.scroll = closeActiveDropdown;
    dropdownEventListeners.resize = closeActiveDropdown;
    setTimeout(
      () => {
        if (dropdownEventListeners.click) {
          document.addEventListener("click", dropdownEventListeners.click);
        }
        if (dropdownEventListeners.scroll) {
          window.addEventListener("scroll", dropdownEventListeners.scroll, true);
        }
        if (dropdownEventListeners.resize) {
          window.addEventListener("resize", dropdownEventListeners.resize);
        }
      },
      0
    );
  }
  function closeActiveDropdown() {
    if (activeDropdown) {
      activeDropdown.remove();
      activeDropdown = null;
      activeDropdownDeckId = null;
      if (dropdownEventListeners.click) {
        document.removeEventListener("click", dropdownEventListeners.click);
      }
      if (dropdownEventListeners.scroll) {
        window.removeEventListener("scroll", dropdownEventListeners.scroll, true);
      }
      if (dropdownEventListeners.resize) {
        window.removeEventListener("resize", dropdownEventListeners.resize);
      }
      dropdownEventListeners = {};
    }
  }
  onDestroy(() => {
    closeActiveDropdown();
  });
  function openDeckConfig(deck) {
    if (!plugin) {
      console.warn("Plugin not available for deck config");
      return;
    }
    const modal = new DeckConfigModal(
      plugin,
      deck,
      (config) => __awaiter(this, void 0, void 0, function* () {
        if (onUpdateDeckConfig) {
          yield onUpdateDeckConfig(deck.id, config);
          const deckIndex = allDecks.findIndex((d) => d.id === deck.id);
          if (deckIndex !== -1) {
            $$invalidate(3, allDecks[deckIndex].config = config, allDecks);
            $$invalidate(3, allDecks = [...allDecks]);
          }
        }
      })
    );
    modal.open();
  }
  function openAnkiExport(deck) {
    if (!plugin) {
      console.warn("Plugin not available for Anki export");
      return;
    }
    const modal = new AnkiExportModal(plugin, deck);
    modal.open();
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  onMount(() => {
  });
  $$self.$$.on_mount.push(function() {
    if (onDeckClick === void 0 && !("onDeckClick" in $$props || $$self.$$.bound[$$self.$$.props["onDeckClick"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onDeckClick'");
    }
    if (onRefresh === void 0 && !("onRefresh" in $$props || $$self.$$.bound[$$self.$$.props["onRefresh"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onRefresh'");
    }
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'getReviewCounts'");
    }
    if (onUpdateDeckConfig === void 0 && !("onUpdateDeckConfig" in $$props || $$self.$$.bound[$$self.$$.props["onUpdateDeckConfig"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onUpdateDeckConfig'");
    }
    if (onOpenStatistics === void 0 && !("onOpenStatistics" in $$props || $$self.$$.bound[$$self.$$.props["onOpenStatistics"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onOpenStatistics'");
    }
  });
  const writable_props = [
    "onDeckClick",
    "onRefresh",
    "getReviewCounts",
    "onUpdateDeckConfig",
    "onOpenStatistics",
    "plugin"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_12.warn(`<DeckListPanel> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(onOpenStatistics, e);
  const touchend_handler = (e) => handleTouchClick(onOpenStatistics, e);
  const click_handler_1 = (e) => handleTouchClick(handleRefresh, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleRefresh, e);
  function input_input_handler() {
    filterText = this.value;
    $$invalidate(4, filterText);
  }
  const mousedown_handler = (tag) => selectSuggestion(tag);
  const click_handler_2 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const touchend_handler_2 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const mousedown_handler_1 = (tag) => selectSuggestion(tag);
  const click_handler_3 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const touchend_handler_3 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const click_handler_4 = (deck, e) => handleTouchClick(() => handleDeckClick(deck), e);
  const touchend_handler_4 = (deck, e) => handleTouchClick(() => handleDeckClick(deck), e);
  const keydown_handler = (deck, e) => e.key === "Enter" && handleDeckClick(deck);
  const click_handler_5 = (deck, e) => handleTouchClick(() => handleConfigClick(deck, e), e);
  const touchend_handler_5 = (deck, e) => handleTouchClick(() => handleConfigClick(deck, e), e);
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(5, heatmapComponent);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("onDeckClick" in $$props2)
      $$invalidate(22, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(23, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(24, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(25, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    onDestroy,
    ReviewHeatmap: ReviewHeatmap_default,
    DeckConfigModal,
    AnkiExportModal,
    decks,
    allDecks,
    stats,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    activeDropdown,
    activeDropdownDeckId,
    dropdownEventListeners,
    onDeckClick,
    onRefresh,
    getReviewCounts,
    onUpdateDeckConfig,
    onOpenStatistics,
    plugin,
    isRefreshing,
    isUpdatingStats,
    lastEventTime,
    lastEventType,
    getDeckStats,
    formatDeckName,
    handleRefresh,
    updateStatsById,
    updateStats,
    updateDecks,
    applyFilter,
    handleFilterInput,
    updateSuggestions,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    refreshHeatmap,
    handleConfigClick,
    closeActiveDropdown,
    openDeckConfig,
    openAnkiExport,
    handleTouchClick
  });
  $$self.$inject_state = ($$props2) => {
    if ("decks" in $$props2)
      $$invalidate(2, decks = $$props2.decks);
    if ("allDecks" in $$props2)
      $$invalidate(3, allDecks = $$props2.allDecks);
    if ("stats" in $$props2)
      $$invalidate(12, stats = $$props2.stats);
    if ("filterText" in $$props2)
      $$invalidate(4, filterText = $$props2.filterText);
    if ("heatmapComponent" in $$props2)
      $$invalidate(5, heatmapComponent = $$props2.heatmapComponent);
    if ("showSuggestions" in $$props2)
      $$invalidate(6, showSuggestions = $$props2.showSuggestions);
    if ("availableTags" in $$props2)
      $$invalidate(7, availableTags = $$props2.availableTags);
    if ("filteredSuggestions" in $$props2)
      $$invalidate(8, filteredSuggestions = $$props2.filteredSuggestions);
    if ("inputFocused" in $$props2)
      $$invalidate(9, inputFocused = $$props2.inputFocused);
    if ("activeDropdown" in $$props2)
      activeDropdown = $$props2.activeDropdown;
    if ("activeDropdownDeckId" in $$props2)
      activeDropdownDeckId = $$props2.activeDropdownDeckId;
    if ("dropdownEventListeners" in $$props2)
      dropdownEventListeners = $$props2.dropdownEventListeners;
    if ("onDeckClick" in $$props2)
      $$invalidate(22, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(23, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(24, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(25, plugin = $$props2.plugin);
    if ("isRefreshing" in $$props2)
      $$invalidate(10, isRefreshing = $$props2.isRefreshing);
    if ("isUpdatingStats" in $$props2)
      $$invalidate(11, isUpdatingStats = $$props2.isUpdatingStats);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    getReviewCounts,
    onOpenStatistics,
    decks,
    allDecks,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    isRefreshing,
    isUpdatingStats,
    stats,
    getDeckStats,
    handleRefresh,
    handleFilterInput,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    handleConfigClick,
    handleTouchClick,
    onDeckClick,
    onRefresh,
    onUpdateDeckConfig,
    plugin,
    updateStatsById,
    updateStats,
    updateDecks,
    refreshHeatmap,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    input_input_handler,
    mousedown_handler,
    click_handler_2,
    touchend_handler_2,
    mousedown_handler_1,
    click_handler_3,
    touchend_handler_3,
    click_handler_4,
    touchend_handler_4,
    keydown_handler,
    click_handler_5,
    touchend_handler_5,
    reviewheatmap_binding
  ];
}
var DeckListPanel = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(
      this,
      options,
      instance4,
      create_fragment4,
      safe_not_equal,
      {
        onDeckClick: 22,
        onRefresh: 23,
        getReviewCounts: 0,
        onUpdateDeckConfig: 24,
        onOpenStatistics: 1,
        plugin: 25,
        updateStatsById: 26,
        updateStats: 27,
        updateDecks: 28,
        refreshHeatmap: 29
      },
      null,
      [-1, -1, -1]
    );
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckListPanel",
      options,
      id: create_fragment4.name
    });
  }
  get onDeckClick() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onDeckClick(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onRefresh() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onRefresh(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get getReviewCounts() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onUpdateDeckConfig() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onUpdateDeckConfig(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onOpenStatistics() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onOpenStatistics(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get plugin() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStatsById() {
    return this.$$.ctx[26];
  }
  set updateStatsById(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStats() {
    return this.$$.ctx[27];
  }
  set updateStats(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateDecks() {
    return this.$$.ctx[28];
  }
  set updateDecks(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refreshHeatmap() {
    return this.$$.ctx[29];
  }
  set refreshHeatmap(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckListPanel_default = DeckListPanel;

// src/components/StatisticsModal.ts
var import_obsidian8 = require("obsidian");

// src/components/StatisticsUI.svelte
var import_obsidian7 = require("obsidian");
var { console: console_13 } = globals;
var file5 = "src/components/StatisticsUI.svelte";
function get_each_context3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[39] = list[i];
  child_ctx[42] = i;
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.indexOf(
      /*day*/
      child_ctx[39]
    )
  );
  child_ctx[40] = constants_0;
  return child_ctx;
}
function get_if_ctx(ctx) {
  const child_ctx = ctx.slice();
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.filter((day) => day.dueCount > 0).slice(0, 20)
  );
  child_ctx[37] = constants_0;
  const constants_1 = Math.max(.../*filteredForecast*/
  child_ctx[37].map((day) => day.dueCount));
  child_ctx[38] = constants_1;
  return child_ctx;
}
function create_else_block3(ctx) {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s;
  let div2;
  let div0;
  let t0;
  let div1;
  let t1;
  let div19;
  let h30;
  let t3;
  let div18;
  let div5;
  let div3;
  let t4_value = (
    /*statistics*/
    (((_b = (_a = ctx[2]) == null ? void 0 : _a.cardStats) == null ? void 0 : _b.new) || 0) + ""
  );
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t9;
  let div7;
  let t11;
  let div11;
  let div9;
  let t12_value = (
    /*statistics*/
    (((_d = (_c = ctx[2]) == null ? void 0 : _c.cardStats) == null ? void 0 : _d.review) || 0) + ""
  );
  let t12;
  let t13;
  let div10;
  let t15;
  let div14;
  let div12;
  let t16_value = (
    /*statistics*/
    (((_f = (_e = ctx[2]) == null ? void 0 : _e.cardStats) == null ? void 0 : _f.mature) || 0) + ""
  );
  let t16;
  let t17;
  let div13;
  let t19;
  let div17;
  let div15;
  let t21;
  let div16;
  let t23;
  let div27;
  let h31;
  let t25;
  let div26;
  let div22;
  let div20;
  let t26_value = (
    /*statistics*/
    (((_g = ctx[2]) == null ? void 0 : _g.averagePace) ? formatPace(
      /*statistics*/
      ctx[2].averagePace
    ) : "N/A") + ""
  );
  let t26;
  let t27;
  let div21;
  let t29;
  let div25;
  let div23;
  let t30_value = (
    /*statistics*/
    (((_h = ctx[2]) == null ? void 0 : _h.totalReviewTime) ? formatTime(
      /*statistics*/
      ctx[2].totalReviewTime
    ) : "N/A") + ""
  );
  let t30;
  let t31;
  let div24;
  let t33;
  let div28;
  let h32;
  let t35;
  let t36;
  let div29;
  let h33;
  let t38;
  let t39;
  let h34;
  let t41;
  let t42;
  let h35;
  let t44;
  let t45;
  let div73;
  let h36;
  let t47;
  let div62;
  let div33;
  let div30;
  let t48_value = (
    /*statistics*/
    (((_i = ctx[2]) == null ? void 0 : _i.retentionRate) || 0).toFixed(1) + ""
  );
  let t48;
  let t49;
  let t50;
  let div31;
  let t52;
  let div32;
  let t54;
  let div37;
  let div34;
  let t56;
  let div35;
  let t58;
  let div36;
  let t60;
  let div41;
  let div38;
  let t63;
  let div39;
  let t65;
  let div40;
  let t67;
  let div45;
  let div42;
  let t69;
  let div43;
  let t71;
  let div44;
  let t73;
  let div49;
  let div46;
  let t75;
  let div47;
  let t77;
  let div48;
  let t79;
  let div53;
  let div50;
  let t81;
  let div51;
  let t83;
  let div52;
  let t85;
  let div57;
  let div54;
  let t88;
  let div55;
  let t90;
  let div56;
  let t92;
  let div61;
  let div58;
  let t93_value = (
    /*statistics*/
    (((_k = (_j = ctx[2]) == null ? void 0 : _j.cardStats) == null ? void 0 : _k.new) || 0) + /*statistics*/
    (((_m = (_l = ctx[2]) == null ? void 0 : _l.cardStats) == null ? void 0 : _m.review) || 0) + /*statistics*/
    (((_o = (_n = ctx[2]) == null ? void 0 : _n.cardStats) == null ? void 0 : _o.mature) || 0) + ""
  );
  let t93;
  let t94;
  let div59;
  let t96;
  let div60;
  let t98;
  let h4;
  let t100;
  let div72;
  let div65;
  let div63;
  let t101_value = (
    /*statistics*/
    (((_q = (_p = ctx[2]) == null ? void 0 : _p.cardStats) == null ? void 0 : _q.new) || 0) + ""
  );
  let t101;
  let t102;
  let div64;
  let t104;
  let div68;
  let div66;
  let t106;
  let div67;
  let t108;
  let div71;
  let div69;
  let t109_value = (
    /*statistics*/
    (((_s = (_r = ctx[2]) == null ? void 0 : _r.cardStats) == null ? void 0 : _s.mature) || 0) + ""
  );
  let t109;
  let t110;
  let div70;
  let t112;
  let div74;
  let h37;
  let t114;
  let t115;
  let div75;
  let h38;
  let t117;
  let show_if;
  let t118;
  let div76;
  let h39;
  let t120;
  let p;
  let t122;
  let reviewheatmap;
  let t123;
  let div77;
  let button;
  let current;
  let mounted;
  let dispose;
  function select_block_type_1(ctx2, dirty) {
    if (
      /*todayStats*/
      ctx2[6]
    )
      return create_if_block_8;
    return create_else_block_6;
  }
  let current_block_type = select_block_type_1(ctx, [-1, -1]);
  let if_block0 = current_block_type(ctx);
  function select_block_type_2(ctx2, dirty) {
    if (
      /*weekStats*/
      ctx2[7] && /*weekStats*/
      ctx2[7].reviews > 0
    )
      return create_if_block_7;
    return create_else_block_5;
  }
  let current_block_type_1 = select_block_type_2(ctx, [-1, -1]);
  let if_block1 = current_block_type_1(ctx);
  function select_block_type_3(ctx2, dirty) {
    if (
      /*monthStats*/
      ctx2[8] && /*monthStats*/
      ctx2[8].reviews > 0
    )
      return create_if_block_6;
    return create_else_block_4;
  }
  let current_block_type_2 = select_block_type_3(ctx, [-1, -1]);
  let if_block2 = current_block_type_2(ctx);
  function select_block_type_4(ctx2, dirty) {
    if (
      /*yearStats*/
      ctx2[9] && /*yearStats*/
      ctx2[9].reviews > 0
    )
      return create_if_block_52;
    return create_else_block_3;
  }
  let current_block_type_3 = select_block_type_4(ctx, [-1, -1]);
  let if_block3 = current_block_type_3(ctx);
  function select_block_type_5(ctx2, dirty) {
    var _a2;
    if (
      /*statistics*/
      ((_a2 = ctx2[2]) == null ? void 0 : _a2.answerButtons) && /*statistics*/
      (ctx2[2].answerButtons.again > 0 || /*statistics*/
      ctx2[2].answerButtons.hard > 0 || /*statistics*/
      ctx2[2].answerButtons.good > 0 || /*statistics*/
      ctx2[2].answerButtons.easy > 0)
    )
      return create_if_block_42;
    return create_else_block_2;
  }
  let current_block_type_4 = select_block_type_5(ctx, [-1, -1]);
  let if_block4 = current_block_type_4(ctx);
  function select_block_type_6(ctx2, dirty) {
    var _a2;
    if (dirty[0] & /*statistics*/
    4)
      show_if = null;
    if (show_if == null)
      show_if = !!/*statistics*/
      (((_a2 = ctx2[2]) == null ? void 0 : _a2.forecast) && /*statistics*/
      ctx2[2].forecast.length > 0 && /*statistics*/
      ctx2[2].forecast.some(func2));
    if (show_if)
      return create_if_block_32;
    return create_else_block_1;
  }
  function select_block_ctx(ctx2, type) {
    if (type === create_if_block_32)
      return get_if_ctx(ctx2);
    return ctx2;
  }
  let current_block_type_5 = select_block_type_6(ctx, [-1, -1]);
  let if_block5 = current_block_type_5(select_block_ctx(ctx, current_block_type_5));
  let reviewheatmap_props = { getReviewCounts: (
    /*func_3*/
    ctx[22]
  ) };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[23](reviewheatmap);
  const block = {
    c: function create() {
      div2 = element("div");
      div0 = element("div");
      t0 = space();
      div1 = element("div");
      t1 = space();
      div19 = element("div");
      h30 = element("h3");
      h30.textContent = "Current Status";
      t3 = space();
      div18 = element("div");
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "New Cards";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      div6.textContent = "0";
      t9 = space();
      div7 = element("div");
      div7.textContent = "Learning";
      t11 = space();
      div11 = element("div");
      div9 = element("div");
      t12 = text(t12_value);
      t13 = space();
      div10 = element("div");
      div10.textContent = "Review";
      t15 = space();
      div14 = element("div");
      div12 = element("div");
      t16 = text(t16_value);
      t17 = space();
      div13 = element("div");
      div13.textContent = "Mature";
      t19 = space();
      div17 = element("div");
      div15 = element("div");
      div15.textContent = `${/*getDueToday*/
      ctx[15]()}`;
      t21 = space();
      div16 = element("div");
      div16.textContent = "Due Today";
      t23 = space();
      div27 = element("div");
      h31 = element("h3");
      h31.textContent = "Review Pace";
      t25 = space();
      div26 = element("div");
      div22 = element("div");
      div20 = element("div");
      t26 = text(t26_value);
      t27 = space();
      div21 = element("div");
      div21.textContent = "Average per Card";
      t29 = space();
      div25 = element("div");
      div23 = element("div");
      t30 = text(t30_value);
      t31 = space();
      div24 = element("div");
      div24.textContent = "Total Review Time";
      t33 = space();
      div28 = element("div");
      h32 = element("h3");
      h32.textContent = "Today's Statistics";
      t35 = space();
      if_block0.c();
      t36 = space();
      div29 = element("div");
      h33 = element("h3");
      h33.textContent = "This Week";
      t38 = space();
      if_block1.c();
      t39 = space();
      h34 = element("h3");
      h34.textContent = "This Month";
      t41 = space();
      if_block2.c();
      t42 = space();
      h35 = element("h3");
      h35.textContent = "This Year";
      t44 = space();
      if_block3.c();
      t45 = space();
      div73 = element("div");
      h36 = element("h3");
      h36.textContent = "Deck Statistics & Metrics";
      t47 = space();
      div62 = element("div");
      div33 = element("div");
      div30 = element("div");
      t48 = text(t48_value);
      t49 = text("%");
      t50 = space();
      div31 = element("div");
      div31.textContent = "Retention Rate";
      t52 = space();
      div32 = element("div");
      div32.textContent = '% of reviews answered correctly (excluding "Again")';
      t54 = space();
      div37 = element("div");
      div34 = element("div");
      div34.textContent = `${/*calculateAverageEase*/
      ctx[13]()}`;
      t56 = space();
      div35 = element("div");
      div35.textContent = "Average Ease";
      t58 = space();
      div36 = element("div");
      div36.textContent = "Mean of ease button values";
      t60 = space();
      div41 = element("div");
      div38 = element("div");
      div38.textContent = `${/*calculateAverageInterval*/
      ctx[14]()}d`;
      t63 = space();
      div39 = element("div");
      div39.textContent = "Avg Interval";
      t65 = space();
      div40 = element("div");
      div40.textContent = "Mean interval of all review cards";
      t67 = space();
      div45 = element("div");
      div42 = element("div");
      div42.textContent = `${/*getDueToday*/
      ctx[15]()}`;
      t69 = space();
      div43 = element("div");
      div43.textContent = "Due Today";
      t71 = space();
      div44 = element("div");
      div44.textContent = "Number of cards due today";
      t73 = space();
      div49 = element("div");
      div46 = element("div");
      div46.textContent = `${/*getDueTomorrow*/
      ctx[16]()}`;
      t75 = space();
      div47 = element("div");
      div47.textContent = "Due Tomorrow";
      t77 = space();
      div48 = element("div");
      div48.textContent = "Number of cards due tomorrow";
      t79 = space();
      div53 = element("div");
      div50 = element("div");
      div50.textContent = "0";
      t81 = space();
      div51 = element("div");
      div51.textContent = "Learning Cards";
      t83 = space();
      div52 = element("div");
      div52.textContent = "Number of cards in the learning queue";
      t85 = space();
      div57 = element("div");
      div54 = element("div");
      div54.textContent = `${/*getMaturityRatio*/
      ctx[17]()}%`;
      t88 = space();
      div55 = element("div");
      div55.textContent = "Maturity Ratio";
      t90 = space();
      div56 = element("div");
      div56.textContent = "Mature cards \xF7 total cards";
      t92 = space();
      div61 = element("div");
      div58 = element("div");
      t93 = text(t93_value);
      t94 = space();
      div59 = element("div");
      div59.textContent = "Total Cards";
      t96 = space();
      div60 = element("div");
      div60.textContent = "All cards in collection";
      t98 = space();
      h4 = element("h4");
      h4.textContent = "Card Status Breakdown";
      t100 = space();
      div72 = element("div");
      div65 = element("div");
      div63 = element("div");
      t101 = text(t101_value);
      t102 = space();
      div64 = element("div");
      div64.textContent = "New Cards";
      t104 = space();
      div68 = element("div");
      div66 = element("div");
      div66.textContent = "0";
      t106 = space();
      div67 = element("div");
      div67.textContent = "Learning";
      t108 = space();
      div71 = element("div");
      div69 = element("div");
      t109 = text(t109_value);
      t110 = space();
      div70 = element("div");
      div70.textContent = "Mature";
      t112 = space();
      div74 = element("div");
      h37 = element("h3");
      h37.textContent = "Answer Button Usage";
      t114 = space();
      if_block4.c();
      t115 = space();
      div75 = element("div");
      h38 = element("h3");
      h38.textContent = "Review Load Forecast";
      t117 = space();
      if_block5.c();
      t118 = space();
      div76 = element("div");
      h39 = element("h3");
      h39.textContent = "Review Heatmap";
      t120 = space();
      p = element("p");
      p.textContent = "Daily review activity over time";
      t122 = space();
      create_component(reviewheatmap.$$.fragment);
      t123 = space();
      div77 = element("div");
      button = element("button");
      button.textContent = "Close";
      attr_dev(div0, "class", "svelte-dph41p");
      add_location(div0, file5, 292, 12, 10389);
      attr_dev(div1, "class", "svelte-dph41p");
      add_location(div1, file5, 293, 12, 10445);
      attr_dev(div2, "class", "filters svelte-dph41p");
      add_location(div2, file5, 291, 8, 10355);
      attr_dev(h30, "class", "svelte-dph41p");
      add_location(h30, file5, 298, 12, 10590);
      attr_dev(div3, "class", "stat-value svelte-dph41p");
      add_location(div3, file5, 301, 20, 10711);
      attr_dev(div4, "class", "stat-label svelte-dph41p");
      add_location(div4, file5, 304, 20, 10841);
      attr_dev(div5, "class", "stat-card svelte-dph41p");
      add_location(div5, file5, 300, 16, 10667);
      attr_dev(div6, "class", "stat-value svelte-dph41p");
      set_style(div6, "display", "none");
      add_location(div6, file5, 307, 20, 10964);
      attr_dev(div7, "class", "stat-label svelte-dph41p");
      set_style(div7, "display", "none");
      add_location(div7, file5, 308, 20, 11039);
      attr_dev(div8, "class", "stat-card svelte-dph41p");
      add_location(div8, file5, 306, 16, 10920);
      attr_dev(div9, "class", "stat-value svelte-dph41p");
      add_location(div9, file5, 313, 20, 11230);
      attr_dev(div10, "class", "stat-label svelte-dph41p");
      add_location(div10, file5, 316, 20, 11363);
      attr_dev(div11, "class", "stat-card svelte-dph41p");
      add_location(div11, file5, 312, 16, 11186);
      attr_dev(div12, "class", "stat-value svelte-dph41p");
      add_location(div12, file5, 319, 20, 11483);
      attr_dev(div13, "class", "stat-label svelte-dph41p");
      add_location(div13, file5, 322, 20, 11616);
      attr_dev(div14, "class", "stat-card svelte-dph41p");
      add_location(div14, file5, 318, 16, 11439);
      attr_dev(div15, "class", "stat-value svelte-dph41p");
      add_location(div15, file5, 325, 20, 11736);
      attr_dev(div16, "class", "stat-label svelte-dph41p");
      add_location(div16, file5, 326, 20, 11802);
      attr_dev(div17, "class", "stat-card svelte-dph41p");
      add_location(div17, file5, 324, 16, 11692);
      attr_dev(div18, "class", "stats-grid svelte-dph41p");
      add_location(div18, file5, 299, 12, 10626);
      attr_dev(div19, "class", "stats-section svelte-dph41p");
      add_location(div19, file5, 297, 8, 10550);
      attr_dev(h31, "class", "svelte-dph41p");
      add_location(h31, file5, 333, 12, 11981);
      attr_dev(div20, "class", "stat-value svelte-dph41p");
      add_location(div20, file5, 336, 20, 12099);
      attr_dev(div21, "class", "stat-label svelte-dph41p");
      add_location(div21, file5, 341, 20, 12322);
      attr_dev(div22, "class", "stat-card svelte-dph41p");
      add_location(div22, file5, 335, 16, 12055);
      attr_dev(div23, "class", "stat-value svelte-dph41p");
      add_location(div23, file5, 344, 20, 12452);
      attr_dev(div24, "class", "stat-label svelte-dph41p");
      add_location(div24, file5, 349, 20, 12683);
      attr_dev(div25, "class", "stat-card svelte-dph41p");
      add_location(div25, file5, 343, 16, 12408);
      attr_dev(div26, "class", "stats-grid svelte-dph41p");
      add_location(div26, file5, 334, 12, 12014);
      attr_dev(div27, "class", "stats-section svelte-dph41p");
      add_location(div27, file5, 332, 8, 11941);
      attr_dev(h32, "class", "svelte-dph41p");
      add_location(h32, file5, 356, 12, 12873);
      attr_dev(div28, "class", "stats-section svelte-dph41p");
      add_location(div28, file5, 355, 8, 12833);
      attr_dev(h33, "class", "svelte-dph41p");
      add_location(h33, file5, 399, 12, 14676);
      attr_dev(h34, "class", "svelte-dph41p");
      add_location(h34, file5, 425, 12, 15758);
      attr_dev(h35, "class", "svelte-dph41p");
      add_location(h35, file5, 451, 12, 16847);
      attr_dev(div29, "class", "stats-section svelte-dph41p");
      add_location(div29, file5, 398, 8, 14636);
      attr_dev(h36, "class", "svelte-dph41p");
      add_location(h36, file5, 480, 12, 18023);
      attr_dev(div30, "class", "metric-value svelte-dph41p");
      add_location(div30, file5, 483, 20, 18159);
      attr_dev(div31, "class", "metric-label svelte-dph41p");
      add_location(div31, file5, 486, 20, 18304);
      attr_dev(div32, "class", "metric-description svelte-dph41p");
      add_location(div32, file5, 487, 20, 18371);
      attr_dev(div33, "class", "metric-card svelte-dph41p");
      add_location(div33, file5, 482, 16, 18113);
      attr_dev(div34, "class", "metric-value svelte-dph41p");
      add_location(div34, file5, 492, 20, 18592);
      attr_dev(div35, "class", "metric-label svelte-dph41p");
      add_location(div35, file5, 493, 20, 18669);
      attr_dev(div36, "class", "metric-description svelte-dph41p");
      add_location(div36, file5, 494, 20, 18734);
      attr_dev(div37, "class", "metric-card svelte-dph41p");
      add_location(div37, file5, 491, 16, 18546);
      attr_dev(div38, "class", "metric-value svelte-dph41p");
      add_location(div38, file5, 499, 20, 18930);
      attr_dev(div39, "class", "metric-label svelte-dph41p");
      add_location(div39, file5, 502, 20, 19058);
      attr_dev(div40, "class", "metric-description svelte-dph41p");
      add_location(div40, file5, 503, 20, 19123);
      attr_dev(div41, "class", "metric-card svelte-dph41p");
      add_location(div41, file5, 498, 16, 18884);
      attr_dev(div42, "class", "metric-value svelte-dph41p");
      add_location(div42, file5, 508, 20, 19326);
      attr_dev(div43, "class", "metric-label svelte-dph41p");
      add_location(div43, file5, 509, 20, 19394);
      attr_dev(div44, "class", "metric-description svelte-dph41p");
      add_location(div44, file5, 510, 20, 19456);
      attr_dev(div45, "class", "metric-card svelte-dph41p");
      add_location(div45, file5, 507, 16, 19280);
      attr_dev(div46, "class", "metric-value svelte-dph41p");
      add_location(div46, file5, 515, 20, 19651);
      attr_dev(div47, "class", "metric-label svelte-dph41p");
      add_location(div47, file5, 516, 20, 19722);
      attr_dev(div48, "class", "metric-description svelte-dph41p");
      add_location(div48, file5, 517, 20, 19787);
      attr_dev(div49, "class", "metric-card svelte-dph41p");
      add_location(div49, file5, 514, 16, 19605);
      attr_dev(div50, "class", "metric-value svelte-dph41p");
      set_style(div50, "display", "none");
      add_location(div50, file5, 522, 20, 19985);
      attr_dev(div51, "class", "metric-label svelte-dph41p");
      set_style(div51, "display", "none");
      add_location(div51, file5, 523, 20, 20062);
      attr_dev(div52, "class", "metric-description svelte-dph41p");
      set_style(div52, "display", "none");
      add_location(div52, file5, 526, 20, 20198);
      attr_dev(div53, "class", "metric-card svelte-dph41p");
      add_location(div53, file5, 521, 16, 19939);
      attr_dev(div54, "class", "metric-value svelte-dph41p");
      add_location(div54, file5, 531, 20, 20428);
      attr_dev(div55, "class", "metric-label svelte-dph41p");
      add_location(div55, file5, 532, 20, 20502);
      attr_dev(div56, "class", "metric-description svelte-dph41p");
      add_location(div56, file5, 533, 20, 20569);
      attr_dev(div57, "class", "metric-card svelte-dph41p");
      add_location(div57, file5, 530, 16, 20382);
      attr_dev(div58, "class", "metric-value svelte-dph41p");
      add_location(div58, file5, 538, 20, 20765);
      attr_dev(div59, "class", "metric-label svelte-dph41p");
      add_location(div59, file5, 543, 20, 21033);
      attr_dev(div60, "class", "metric-description svelte-dph41p");
      add_location(div60, file5, 544, 20, 21097);
      attr_dev(div61, "class", "metric-card svelte-dph41p");
      add_location(div61, file5, 537, 16, 20719);
      attr_dev(div62, "class", "metrics-grid svelte-dph41p");
      add_location(div62, file5, 481, 12, 18070);
      attr_dev(h4, "class", "svelte-dph41p");
      add_location(h4, file5, 550, 12, 21260);
      attr_dev(div63, "class", "stat-value svelte-dph41p");
      add_location(div63, file5, 553, 20, 21388);
      attr_dev(div64, "class", "stat-label svelte-dph41p");
      add_location(div64, file5, 556, 20, 21518);
      attr_dev(div65, "class", "stat-card svelte-dph41p");
      add_location(div65, file5, 552, 16, 21344);
      attr_dev(div66, "class", "stat-value svelte-dph41p");
      set_style(div66, "display", "none");
      add_location(div66, file5, 559, 20, 21641);
      attr_dev(div67, "class", "stat-label svelte-dph41p");
      set_style(div67, "display", "none");
      add_location(div67, file5, 560, 20, 21716);
      attr_dev(div68, "class", "stat-card svelte-dph41p");
      add_location(div68, file5, 558, 16, 21597);
      attr_dev(div69, "class", "stat-value svelte-dph41p");
      add_location(div69, file5, 565, 20, 21907);
      attr_dev(div70, "class", "stat-label svelte-dph41p");
      add_location(div70, file5, 568, 20, 22040);
      attr_dev(div71, "class", "stat-card svelte-dph41p");
      add_location(div71, file5, 564, 16, 21863);
      attr_dev(div72, "class", "stats-grid svelte-dph41p");
      add_location(div72, file5, 551, 12, 21303);
      attr_dev(div73, "class", "stats-section svelte-dph41p");
      add_location(div73, file5, 479, 8, 17983);
      attr_dev(h37, "class", "svelte-dph41p");
      add_location(h37, file5, 575, 12, 22220);
      attr_dev(div74, "class", "stats-section svelte-dph41p");
      add_location(div74, file5, 574, 8, 22180);
      attr_dev(h38, "class", "svelte-dph41p");
      add_location(h38, file5, 655, 12, 26241);
      attr_dev(div75, "class", "stats-section svelte-dph41p");
      add_location(div75, file5, 654, 8, 26201);
      attr_dev(h39, "class", "svelte-dph41p");
      add_location(h39, file5, 708, 12, 28628);
      add_location(p, file5, 709, 12, 28664);
      attr_dev(div76, "class", "stats-section svelte-dph41p");
      add_location(div76, file5, 707, 8, 28588);
      attr_dev(button, "class", "close-button svelte-dph41p");
      add_location(button, file5, 719, 12, 28987);
      attr_dev(div77, "class", "modal-actions svelte-dph41p");
      add_location(div77, file5, 718, 8, 28947);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div0);
      ctx[20](div0);
      append_dev(div2, t0);
      append_dev(div2, div1);
      ctx[21](div1);
      insert_dev(target, t1, anchor);
      insert_dev(target, div19, anchor);
      append_dev(div19, h30);
      append_dev(div19, t3);
      append_dev(div19, div18);
      append_dev(div18, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div18, t7);
      append_dev(div18, div8);
      append_dev(div8, div6);
      append_dev(div8, t9);
      append_dev(div8, div7);
      append_dev(div18, t11);
      append_dev(div18, div11);
      append_dev(div11, div9);
      append_dev(div9, t12);
      append_dev(div11, t13);
      append_dev(div11, div10);
      append_dev(div18, t15);
      append_dev(div18, div14);
      append_dev(div14, div12);
      append_dev(div12, t16);
      append_dev(div14, t17);
      append_dev(div14, div13);
      append_dev(div18, t19);
      append_dev(div18, div17);
      append_dev(div17, div15);
      append_dev(div17, t21);
      append_dev(div17, div16);
      insert_dev(target, t23, anchor);
      insert_dev(target, div27, anchor);
      append_dev(div27, h31);
      append_dev(div27, t25);
      append_dev(div27, div26);
      append_dev(div26, div22);
      append_dev(div22, div20);
      append_dev(div20, t26);
      append_dev(div22, t27);
      append_dev(div22, div21);
      append_dev(div26, t29);
      append_dev(div26, div25);
      append_dev(div25, div23);
      append_dev(div23, t30);
      append_dev(div25, t31);
      append_dev(div25, div24);
      insert_dev(target, t33, anchor);
      insert_dev(target, div28, anchor);
      append_dev(div28, h32);
      append_dev(div28, t35);
      if_block0.m(div28, null);
      insert_dev(target, t36, anchor);
      insert_dev(target, div29, anchor);
      append_dev(div29, h33);
      append_dev(div29, t38);
      if_block1.m(div29, null);
      append_dev(div29, t39);
      append_dev(div29, h34);
      append_dev(div29, t41);
      if_block2.m(div29, null);
      append_dev(div29, t42);
      append_dev(div29, h35);
      append_dev(div29, t44);
      if_block3.m(div29, null);
      insert_dev(target, t45, anchor);
      insert_dev(target, div73, anchor);
      append_dev(div73, h36);
      append_dev(div73, t47);
      append_dev(div73, div62);
      append_dev(div62, div33);
      append_dev(div33, div30);
      append_dev(div30, t48);
      append_dev(div30, t49);
      append_dev(div33, t50);
      append_dev(div33, div31);
      append_dev(div33, t52);
      append_dev(div33, div32);
      append_dev(div62, t54);
      append_dev(div62, div37);
      append_dev(div37, div34);
      append_dev(div37, t56);
      append_dev(div37, div35);
      append_dev(div37, t58);
      append_dev(div37, div36);
      append_dev(div62, t60);
      append_dev(div62, div41);
      append_dev(div41, div38);
      append_dev(div41, t63);
      append_dev(div41, div39);
      append_dev(div41, t65);
      append_dev(div41, div40);
      append_dev(div62, t67);
      append_dev(div62, div45);
      append_dev(div45, div42);
      append_dev(div45, t69);
      append_dev(div45, div43);
      append_dev(div45, t71);
      append_dev(div45, div44);
      append_dev(div62, t73);
      append_dev(div62, div49);
      append_dev(div49, div46);
      append_dev(div49, t75);
      append_dev(div49, div47);
      append_dev(div49, t77);
      append_dev(div49, div48);
      append_dev(div62, t79);
      append_dev(div62, div53);
      append_dev(div53, div50);
      append_dev(div53, t81);
      append_dev(div53, div51);
      append_dev(div53, t83);
      append_dev(div53, div52);
      append_dev(div62, t85);
      append_dev(div62, div57);
      append_dev(div57, div54);
      append_dev(div57, t88);
      append_dev(div57, div55);
      append_dev(div57, t90);
      append_dev(div57, div56);
      append_dev(div62, t92);
      append_dev(div62, div61);
      append_dev(div61, div58);
      append_dev(div58, t93);
      append_dev(div61, t94);
      append_dev(div61, div59);
      append_dev(div61, t96);
      append_dev(div61, div60);
      append_dev(div73, t98);
      append_dev(div73, h4);
      append_dev(div73, t100);
      append_dev(div73, div72);
      append_dev(div72, div65);
      append_dev(div65, div63);
      append_dev(div63, t101);
      append_dev(div65, t102);
      append_dev(div65, div64);
      append_dev(div72, t104);
      append_dev(div72, div68);
      append_dev(div68, div66);
      append_dev(div68, t106);
      append_dev(div68, div67);
      append_dev(div72, t108);
      append_dev(div72, div71);
      append_dev(div71, div69);
      append_dev(div69, t109);
      append_dev(div71, t110);
      append_dev(div71, div70);
      insert_dev(target, t112, anchor);
      insert_dev(target, div74, anchor);
      append_dev(div74, h37);
      append_dev(div74, t114);
      if_block4.m(div74, null);
      insert_dev(target, t115, anchor);
      insert_dev(target, div75, anchor);
      append_dev(div75, h38);
      append_dev(div75, t117);
      if_block5.m(div75, null);
      insert_dev(target, t118, anchor);
      insert_dev(target, div76, anchor);
      append_dev(div76, h39);
      append_dev(div76, t120);
      append_dev(div76, p);
      append_dev(div76, t122);
      mount_component(reviewheatmap, div76, null);
      insert_dev(target, t123, anchor);
      insert_dev(target, div77, anchor);
      append_dev(div77, button);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler_1*/
            ctx[24],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler_1*/
            ctx[25],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2, _m2, _n2, _o2, _p2, _q2, _r2, _s2;
      if ((!current || dirty[0] & /*statistics*/
      4) && t4_value !== (t4_value = /*statistics*/
      (((_b2 = (_a2 = ctx2[2]) == null ? void 0 : _a2.cardStats) == null ? void 0 : _b2.new) || 0) + ""))
        set_data_dev(t4, t4_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t12_value !== (t12_value = /*statistics*/
      (((_d2 = (_c2 = ctx2[2]) == null ? void 0 : _c2.cardStats) == null ? void 0 : _d2.review) || 0) + ""))
        set_data_dev(t12, t12_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t16_value !== (t16_value = /*statistics*/
      (((_f2 = (_e2 = ctx2[2]) == null ? void 0 : _e2.cardStats) == null ? void 0 : _f2.mature) || 0) + ""))
        set_data_dev(t16, t16_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t26_value !== (t26_value = /*statistics*/
      (((_g2 = ctx2[2]) == null ? void 0 : _g2.averagePace) ? formatPace(
        /*statistics*/
        ctx2[2].averagePace
      ) : "N/A") + ""))
        set_data_dev(t26, t26_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t30_value !== (t30_value = /*statistics*/
      (((_h2 = ctx2[2]) == null ? void 0 : _h2.totalReviewTime) ? formatTime(
        /*statistics*/
        ctx2[2].totalReviewTime
      ) : "N/A") + ""))
        set_data_dev(t30, t30_value);
      if (current_block_type === (current_block_type = select_block_type_1(ctx2, dirty)) && if_block0) {
        if_block0.p(ctx2, dirty);
      } else {
        if_block0.d(1);
        if_block0 = current_block_type(ctx2);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div28, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_2(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div29, t39);
        }
      }
      if (current_block_type_2 === (current_block_type_2 = select_block_type_3(ctx2, dirty)) && if_block2) {
        if_block2.p(ctx2, dirty);
      } else {
        if_block2.d(1);
        if_block2 = current_block_type_2(ctx2);
        if (if_block2) {
          if_block2.c();
          if_block2.m(div29, t42);
        }
      }
      if (current_block_type_3 === (current_block_type_3 = select_block_type_4(ctx2, dirty)) && if_block3) {
        if_block3.p(ctx2, dirty);
      } else {
        if_block3.d(1);
        if_block3 = current_block_type_3(ctx2);
        if (if_block3) {
          if_block3.c();
          if_block3.m(div29, null);
        }
      }
      if ((!current || dirty[0] & /*statistics*/
      4) && t48_value !== (t48_value = /*statistics*/
      (((_i2 = ctx2[2]) == null ? void 0 : _i2.retentionRate) || 0).toFixed(1) + ""))
        set_data_dev(t48, t48_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t93_value !== (t93_value = /*statistics*/
      (((_k2 = (_j2 = ctx2[2]) == null ? void 0 : _j2.cardStats) == null ? void 0 : _k2.new) || 0) + /*statistics*/
      (((_m2 = (_l2 = ctx2[2]) == null ? void 0 : _l2.cardStats) == null ? void 0 : _m2.review) || 0) + /*statistics*/
      (((_o2 = (_n2 = ctx2[2]) == null ? void 0 : _n2.cardStats) == null ? void 0 : _o2.mature) || 0) + ""))
        set_data_dev(t93, t93_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t101_value !== (t101_value = /*statistics*/
      (((_q2 = (_p2 = ctx2[2]) == null ? void 0 : _p2.cardStats) == null ? void 0 : _q2.new) || 0) + ""))
        set_data_dev(t101, t101_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t109_value !== (t109_value = /*statistics*/
      (((_s2 = (_r2 = ctx2[2]) == null ? void 0 : _r2.cardStats) == null ? void 0 : _s2.mature) || 0) + ""))
        set_data_dev(t109, t109_value);
      if (current_block_type_4 === (current_block_type_4 = select_block_type_5(ctx2, dirty)) && if_block4) {
        if_block4.p(ctx2, dirty);
      } else {
        if_block4.d(1);
        if_block4 = current_block_type_4(ctx2);
        if (if_block4) {
          if_block4.c();
          if_block4.m(div74, null);
        }
      }
      if (current_block_type_5 === (current_block_type_5 = select_block_type_6(ctx2, dirty)) && if_block5) {
        if_block5.p(select_block_ctx(ctx2, current_block_type_5), dirty);
      } else {
        if_block5.d(1);
        if_block5 = current_block_type_5(select_block_ctx(ctx2, current_block_type_5));
        if (if_block5) {
          if_block5.c();
          if_block5.m(div75, null);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*plugin*/
      1)
        reviewheatmap_changes.getReviewCounts = /*func_3*/
        ctx2[22];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      ctx[20](null);
      ctx[21](null);
      if (detaching)
        detach_dev(t1);
      if (detaching)
        detach_dev(div19);
      if (detaching)
        detach_dev(t23);
      if (detaching)
        detach_dev(div27);
      if (detaching)
        detach_dev(t33);
      if (detaching)
        detach_dev(div28);
      if_block0.d();
      if (detaching)
        detach_dev(t36);
      if (detaching)
        detach_dev(div29);
      if_block1.d();
      if_block2.d();
      if_block3.d();
      if (detaching)
        detach_dev(t45);
      if (detaching)
        detach_dev(div73);
      if (detaching)
        detach_dev(t112);
      if (detaching)
        detach_dev(div74);
      if_block4.d();
      if (detaching)
        detach_dev(t115);
      if (detaching)
        detach_dev(div75);
      if_block5.d();
      if (detaching)
        detach_dev(t118);
      if (detaching)
        detach_dev(div76);
      ctx[23](null);
      destroy_component(reviewheatmap);
      if (detaching)
        detach_dev(t123);
      if (detaching)
        detach_dev(div77);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block3.name,
    type: "else",
    source: "(291:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_22(ctx) {
  let div;
  let p;
  let t1;
  let button;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "Failed to load statistics";
      t1 = space();
      button = element("button");
      button.textContent = "Retry";
      add_location(p, file5, 281, 12, 10029);
      attr_dev(button, "class", "retry-button svelte-dph41p");
      add_location(button, file5, 282, 12, 10074);
      attr_dev(div, "class", "error svelte-dph41p");
      add_location(div, file5, 280, 8, 9997);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
      append_dev(div, t1);
      append_dev(div, button);
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler*/
            ctx[18],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler*/
            ctx[19],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_22.name,
    type: "if",
    source: "(280:26) ",
    ctx
  });
  return block;
}
function create_if_block_13(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading statistics...";
      attr_dev(div, "class", "loading svelte-dph41p");
      add_location(div, file5, 278, 8, 9913);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_13.name,
    type: "if",
    source: "(278:4) {#if loading}",
    ctx
  });
  return block;
}
function create_else_block_6(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No reviews today yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Start reviewing flashcards to see your daily statistics\n                        here!";
      attr_dev(p0, "class", "svelte-dph41p");
      add_location(p0, file5, 388, 20, 14321);
      attr_dev(p1, "class", "help-text svelte-dph41p");
      add_location(p1, file5, 389, 20, 14370);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 387, 16, 14271);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_6.name,
    type: "else",
    source: "(387:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_8(ctx) {
  let div6;
  let div2;
  let div0;
  let t0_value = (
    /*todayStats*/
    ctx[6].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*todayStats*/
    ctx[6].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let h4;
  let t9;
  let div16;
  let div9;
  let div7;
  let t10_value = (
    /*todayStats*/
    ctx[6].newCards + ""
  );
  let t10;
  let t11;
  let div8;
  let t13;
  let div12;
  let div10;
  let t15;
  let div11;
  let t17;
  let div15;
  let div13;
  let t18_value = (
    /*todayStats*/
    ctx[6].reviewCards + ""
  );
  let t18;
  let t19;
  let div14;
  const block = {
    c: function create() {
      div6 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      h4 = element("h4");
      h4.textContent = "Breakdown by Card Type";
      t9 = space();
      div16 = element("div");
      div9 = element("div");
      div7 = element("div");
      t10 = text(t10_value);
      t11 = space();
      div8 = element("div");
      div8.textContent = "New Cards";
      t13 = space();
      div12 = element("div");
      div10 = element("div");
      div10.textContent = "0";
      t15 = space();
      div11 = element("div");
      div11.textContent = "Learning";
      t17 = space();
      div15 = element("div");
      div13 = element("div");
      t18 = text(t18_value);
      t19 = space();
      div14 = element("div");
      div14.textContent = "Review";
      attr_dev(div0, "class", "stat-value svelte-dph41p");
      add_location(div0, file5, 360, 24, 13039);
      attr_dev(div1, "class", "stat-label svelte-dph41p");
      add_location(div1, file5, 361, 24, 13114);
      attr_dev(div2, "class", "stat-card svelte-dph41p");
      add_location(div2, file5, 359, 20, 12991);
      attr_dev(div3, "class", "stat-value svelte-dph41p");
      add_location(div3, file5, 364, 24, 13253);
      attr_dev(div4, "class", "stat-label svelte-dph41p");
      add_location(div4, file5, 367, 24, 13396);
      attr_dev(div5, "class", "stat-card svelte-dph41p");
      add_location(div5, file5, 363, 20, 13205);
      attr_dev(div6, "class", "stats-grid svelte-dph41p");
      add_location(div6, file5, 358, 16, 12946);
      attr_dev(h4, "class", "svelte-dph41p");
      add_location(h4, file5, 371, 16, 13504);
      attr_dev(div7, "class", "stat-value svelte-dph41p");
      add_location(div7, file5, 374, 24, 13645);
      attr_dev(div8, "class", "stat-label svelte-dph41p");
      add_location(div8, file5, 375, 24, 13721);
      attr_dev(div9, "class", "stat-card svelte-dph41p");
      add_location(div9, file5, 373, 20, 13597);
      attr_dev(div10, "class", "stat-value svelte-dph41p");
      add_location(div10, file5, 378, 24, 13879);
      attr_dev(div11, "class", "stat-label svelte-dph41p");
      add_location(div11, file5, 379, 24, 13935);
      attr_dev(div12, "class", "stat-card svelte-dph41p");
      set_style(div12, "display", "none");
      add_location(div12, file5, 377, 20, 13808);
      attr_dev(div13, "class", "stat-value svelte-dph41p");
      add_location(div13, file5, 382, 24, 14069);
      attr_dev(div14, "class", "stat-label svelte-dph41p");
      add_location(div14, file5, 383, 24, 14148);
      attr_dev(div15, "class", "stat-card svelte-dph41p");
      add_location(div15, file5, 381, 20, 14021);
      attr_dev(div16, "class", "stats-grid svelte-dph41p");
      add_location(div16, file5, 372, 16, 13552);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div6, t3);
      append_dev(div6, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      insert_dev(target, t7, anchor);
      insert_dev(target, h4, anchor);
      insert_dev(target, t9, anchor);
      insert_dev(target, div16, anchor);
      append_dev(div16, div9);
      append_dev(div9, div7);
      append_dev(div7, t10);
      append_dev(div9, t11);
      append_dev(div9, div8);
      append_dev(div16, t13);
      append_dev(div16, div12);
      append_dev(div12, div10);
      append_dev(div12, t15);
      append_dev(div12, div11);
      append_dev(div16, t17);
      append_dev(div16, div15);
      append_dev(div15, div13);
      append_dev(div13, t18);
      append_dev(div15, t19);
      append_dev(div15, div14);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*todayStats*/
      64 && t0_value !== (t0_value = /*todayStats*/
      ctx2[6].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*todayStats*/
      64 && t4_value !== (t4_value = formatTime(
        /*todayStats*/
        ctx2[6].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*todayStats*/
      64 && t10_value !== (t10_value = /*todayStats*/
      ctx2[6].newCards + ""))
        set_data_dev(t10, t10_value);
      if (dirty[0] & /*todayStats*/
      64 && t18_value !== (t18_value = /*todayStats*/
      ctx2[6].reviewCards + ""))
        set_data_dev(t18, t18_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      if (detaching)
        detach_dev(t7);
      if (detaching)
        detach_dev(h4);
      if (detaching)
        detach_dev(t9);
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_8.name,
    type: "if",
    source: "(358:12) {#if todayStats}",
    ctx
  });
  return block;
}
function create_else_block_5(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this week yet.";
      attr_dev(p, "class", "svelte-dph41p");
      add_location(p, file5, 421, 20, 15671);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 420, 16, 15621);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_5.name,
    type: "else",
    source: "(420:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_7(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*weekStats*/
    ctx[7].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*weekStats*/
    ctx[7].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*weekStats*/
    ctx[7].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-dph41p");
      add_location(div0, file5, 403, 24, 14857);
      attr_dev(div1, "class", "stat-label svelte-dph41p");
      add_location(div1, file5, 404, 24, 14931);
      attr_dev(div2, "class", "stat-card svelte-dph41p");
      add_location(div2, file5, 402, 20, 14809);
      attr_dev(div3, "class", "stat-value svelte-dph41p");
      add_location(div3, file5, 407, 24, 15070);
      attr_dev(div4, "class", "stat-label svelte-dph41p");
      add_location(div4, file5, 410, 24, 15212);
      attr_dev(div5, "class", "stat-card svelte-dph41p");
      add_location(div5, file5, 406, 20, 15022);
      attr_dev(div6, "class", "stat-value svelte-dph41p");
      add_location(div6, file5, 413, 24, 15348);
      attr_dev(div7, "class", "stat-label svelte-dph41p");
      add_location(div7, file5, 416, 24, 15492);
      attr_dev(div8, "class", "stat-card svelte-dph41p");
      add_location(div8, file5, 412, 20, 15300);
      attr_dev(div9, "class", "stats-grid svelte-dph41p");
      add_location(div9, file5, 401, 16, 14764);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*weekStats*/
      128 && t0_value !== (t0_value = /*weekStats*/
      ctx2[7].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*weekStats*/
      128 && t4_value !== (t4_value = formatTime(
        /*weekStats*/
        ctx2[7].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*weekStats*/
      128 && t8_value !== (t8_value = /*weekStats*/
      ctx2[7].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_7.name,
    type: "if",
    source: "(401:12) {#if weekStats && weekStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this month yet.";
      attr_dev(p, "class", "svelte-dph41p");
      add_location(p, file5, 447, 20, 16759);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 446, 16, 16709);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_4.name,
    type: "else",
    source: "(446:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_6(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*monthStats*/
    ctx[8].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*monthStats*/
    ctx[8].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*monthStats*/
    ctx[8].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-dph41p");
      add_location(div0, file5, 429, 24, 15942);
      attr_dev(div1, "class", "stat-label svelte-dph41p");
      add_location(div1, file5, 430, 24, 16017);
      attr_dev(div2, "class", "stat-card svelte-dph41p");
      add_location(div2, file5, 428, 20, 15894);
      attr_dev(div3, "class", "stat-value svelte-dph41p");
      add_location(div3, file5, 433, 24, 16156);
      attr_dev(div4, "class", "stat-label svelte-dph41p");
      add_location(div4, file5, 436, 24, 16299);
      attr_dev(div5, "class", "stat-card svelte-dph41p");
      add_location(div5, file5, 432, 20, 16108);
      attr_dev(div6, "class", "stat-value svelte-dph41p");
      add_location(div6, file5, 439, 24, 16435);
      attr_dev(div7, "class", "stat-label svelte-dph41p");
      add_location(div7, file5, 442, 24, 16580);
      attr_dev(div8, "class", "stat-card svelte-dph41p");
      add_location(div8, file5, 438, 20, 16387);
      attr_dev(div9, "class", "stats-grid svelte-dph41p");
      add_location(div9, file5, 427, 16, 15849);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*monthStats*/
      256 && t0_value !== (t0_value = /*monthStats*/
      ctx2[8].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*monthStats*/
      256 && t4_value !== (t4_value = formatTime(
        /*monthStats*/
        ctx2[8].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*monthStats*/
      256 && t8_value !== (t8_value = /*monthStats*/
      ctx2[8].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_6.name,
    type: "if",
    source: "(427:12) {#if monthStats && monthStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_3(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this year yet.";
      attr_dev(p, "class", "svelte-dph41p");
      add_location(p, file5, 473, 20, 17842);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 472, 16, 17792);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_3.name,
    type: "else",
    source: "(472:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_52(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*yearStats*/
    ctx[9].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*yearStats*/
    ctx[9].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*yearStats*/
    ctx[9].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-dph41p");
      add_location(div0, file5, 455, 24, 17028);
      attr_dev(div1, "class", "stat-label svelte-dph41p");
      add_location(div1, file5, 456, 24, 17102);
      attr_dev(div2, "class", "stat-card svelte-dph41p");
      add_location(div2, file5, 454, 20, 16980);
      attr_dev(div3, "class", "stat-value svelte-dph41p");
      add_location(div3, file5, 459, 24, 17241);
      attr_dev(div4, "class", "stat-label svelte-dph41p");
      add_location(div4, file5, 462, 24, 17383);
      attr_dev(div5, "class", "stat-card svelte-dph41p");
      add_location(div5, file5, 458, 20, 17193);
      attr_dev(div6, "class", "stat-value svelte-dph41p");
      add_location(div6, file5, 465, 24, 17519);
      attr_dev(div7, "class", "stat-label svelte-dph41p");
      add_location(div7, file5, 468, 24, 17663);
      attr_dev(div8, "class", "stat-card svelte-dph41p");
      add_location(div8, file5, 464, 20, 17471);
      attr_dev(div9, "class", "stats-grid svelte-dph41p");
      add_location(div9, file5, 453, 16, 16935);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*yearStats*/
      512 && t0_value !== (t0_value = /*yearStats*/
      ctx2[9].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*yearStats*/
      512 && t4_value !== (t4_value = formatTime(
        /*yearStats*/
        ctx2[9].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*yearStats*/
      512 && t8_value !== (t8_value = /*yearStats*/
      ctx2[9].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_52.name,
    type: "if",
    source: "(453:12) {#if yearStats && yearStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No answer button data available yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Complete some reviews to see answer button statistics.";
      attr_dev(p0, "class", "svelte-dph41p");
      add_location(p0, file5, 645, 20, 25920);
      attr_dev(p1, "class", "help-text svelte-dph41p");
      add_location(p1, file5, 646, 20, 25984);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 644, 16, 25870);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_2.name,
    type: "else",
    source: "(644:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_42(ctx) {
  let div16;
  let div3;
  let div0;
  let t1;
  let div1;
  let t2_value = (
    /*statistics*/
    ctx[2].answerButtons.again + ""
  );
  let t2;
  let t3;
  let div2;
  let t4_value = (
    /*statistics*/
    (ctx[2].answerButtons.again / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t4;
  let t5;
  let t6;
  let div7;
  let div4;
  let t8;
  let div5;
  let t9_value = (
    /*statistics*/
    ctx[2].answerButtons.hard + ""
  );
  let t9;
  let t10;
  let div6;
  let t11_value = (
    /*statistics*/
    (ctx[2].answerButtons.hard / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t11;
  let t12;
  let t13;
  let div11;
  let div8;
  let t15;
  let div9;
  let t16_value = (
    /*statistics*/
    ctx[2].answerButtons.good + ""
  );
  let t16;
  let t17;
  let div10;
  let t18_value = (
    /*statistics*/
    (ctx[2].answerButtons.good / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t18;
  let t19;
  let t20;
  let div15;
  let div12;
  let t22;
  let div13;
  let t23_value = (
    /*statistics*/
    ctx[2].answerButtons.easy + ""
  );
  let t23;
  let t24;
  let div14;
  let t25_value = (
    /*statistics*/
    (ctx[2].answerButtons.easy / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t25;
  let t26;
  const block = {
    c: function create() {
      div16 = element("div");
      div3 = element("div");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      t4 = text(t4_value);
      t5 = text("%");
      t6 = space();
      div7 = element("div");
      div4 = element("div");
      div4.textContent = "Hard";
      t8 = space();
      div5 = element("div");
      t9 = text(t9_value);
      t10 = space();
      div6 = element("div");
      t11 = text(t11_value);
      t12 = text("%");
      t13 = space();
      div11 = element("div");
      div8 = element("div");
      div8.textContent = "Good";
      t15 = space();
      div9 = element("div");
      t16 = text(t16_value);
      t17 = space();
      div10 = element("div");
      t18 = text(t18_value);
      t19 = text("%");
      t20 = space();
      div15 = element("div");
      div12 = element("div");
      div12.textContent = "Easy";
      t22 = space();
      div13 = element("div");
      t23 = text(t23_value);
      t24 = space();
      div14 = element("div");
      t25 = text(t25_value);
      t26 = text("%");
      attr_dev(div0, "class", "button-label svelte-dph41p");
      add_location(div0, file5, 579, 24, 22562);
      attr_dev(div1, "class", "button-count svelte-dph41p");
      add_location(div1, file5, 580, 24, 22624);
      attr_dev(div2, "class", "button-percentage svelte-dph41p");
      add_location(div2, file5, 583, 24, 22767);
      attr_dev(div3, "class", "button-bar again svelte-dph41p");
      add_location(div3, file5, 578, 20, 22507);
      attr_dev(div4, "class", "button-label svelte-dph41p");
      add_location(div4, file5, 595, 24, 23395);
      attr_dev(div5, "class", "button-count svelte-dph41p");
      add_location(div5, file5, 596, 24, 23456);
      attr_dev(div6, "class", "button-percentage svelte-dph41p");
      add_location(div6, file5, 599, 24, 23598);
      attr_dev(div7, "class", "button-bar hard svelte-dph41p");
      add_location(div7, file5, 594, 20, 23341);
      attr_dev(div8, "class", "button-label svelte-dph41p");
      add_location(div8, file5, 611, 24, 24225);
      attr_dev(div9, "class", "button-count svelte-dph41p");
      add_location(div9, file5, 612, 24, 24286);
      attr_dev(div10, "class", "button-percentage svelte-dph41p");
      add_location(div10, file5, 615, 24, 24428);
      attr_dev(div11, "class", "button-bar good svelte-dph41p");
      add_location(div11, file5, 610, 20, 24171);
      attr_dev(div12, "class", "button-label svelte-dph41p");
      add_location(div12, file5, 627, 24, 25055);
      attr_dev(div13, "class", "button-count svelte-dph41p");
      add_location(div13, file5, 628, 24, 25116);
      attr_dev(div14, "class", "button-percentage svelte-dph41p");
      add_location(div14, file5, 631, 24, 25258);
      attr_dev(div15, "class", "button-bar easy svelte-dph41p");
      add_location(div15, file5, 626, 20, 25001);
      attr_dev(div16, "class", "button-stats svelte-dph41p");
      add_location(div16, file5, 577, 16, 22460);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div16, anchor);
      append_dev(div16, div3);
      append_dev(div3, div0);
      append_dev(div3, t1);
      append_dev(div3, div1);
      append_dev(div1, t2);
      append_dev(div3, t3);
      append_dev(div3, div2);
      append_dev(div2, t4);
      append_dev(div2, t5);
      append_dev(div16, t6);
      append_dev(div16, div7);
      append_dev(div7, div4);
      append_dev(div7, t8);
      append_dev(div7, div5);
      append_dev(div5, t9);
      append_dev(div7, t10);
      append_dev(div7, div6);
      append_dev(div6, t11);
      append_dev(div6, t12);
      append_dev(div16, t13);
      append_dev(div16, div11);
      append_dev(div11, div8);
      append_dev(div11, t15);
      append_dev(div11, div9);
      append_dev(div9, t16);
      append_dev(div11, t17);
      append_dev(div11, div10);
      append_dev(div10, t18);
      append_dev(div10, t19);
      append_dev(div16, t20);
      append_dev(div16, div15);
      append_dev(div15, div12);
      append_dev(div15, t22);
      append_dev(div15, div13);
      append_dev(div13, t23);
      append_dev(div15, t24);
      append_dev(div15, div14);
      append_dev(div14, t25);
      append_dev(div14, t26);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4 && t2_value !== (t2_value = /*statistics*/
      ctx2[2].answerButtons.again + ""))
        set_data_dev(t2, t2_value);
      if (dirty[0] & /*statistics*/
      4 && t4_value !== (t4_value = /*statistics*/
      (ctx2[2].answerButtons.again / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*statistics*/
      4 && t9_value !== (t9_value = /*statistics*/
      ctx2[2].answerButtons.hard + ""))
        set_data_dev(t9, t9_value);
      if (dirty[0] & /*statistics*/
      4 && t11_value !== (t11_value = /*statistics*/
      (ctx2[2].answerButtons.hard / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t11, t11_value);
      if (dirty[0] & /*statistics*/
      4 && t16_value !== (t16_value = /*statistics*/
      ctx2[2].answerButtons.good + ""))
        set_data_dev(t16, t16_value);
      if (dirty[0] & /*statistics*/
      4 && t18_value !== (t18_value = /*statistics*/
      (ctx2[2].answerButtons.good / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t18, t18_value);
      if (dirty[0] & /*statistics*/
      4 && t23_value !== (t23_value = /*statistics*/
      ctx2[2].answerButtons.easy + ""))
        set_data_dev(t23, t23_value);
      if (dirty[0] & /*statistics*/
      4 && t25_value !== (t25_value = /*statistics*/
      (ctx2[2].answerButtons.easy / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t25, t25_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_42.name,
    type: "if",
    source: "(577:12) {#if statistics?.answerButtons && (statistics.answerButtons.again > 0 || statistics.answerButtons.hard > 0 || statistics.answerButtons.good > 0 || statistics.answerButtons.easy > 0)}",
    ctx
  });
  return block;
}
function create_else_block_1(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No upcoming reviews scheduled.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Add flashcards to your decks to see future review\n                        forecasts.";
      attr_dev(p0, "class", "svelte-dph41p");
      add_location(p0, file5, 697, 20, 28277);
      attr_dev(p1, "class", "help-text svelte-dph41p");
      add_location(p1, file5, 698, 20, 28335);
      attr_dev(div, "class", "no-data-message svelte-dph41p");
      add_location(div, file5, 696, 16, 28227);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_1.name,
    type: "else",
    source: "(696:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_32(ctx) {
  let div;
  let t0;
  let p;
  let each_value = (
    /*filteredForecast*/
    ctx[37]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block3(get_each_context3(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      p = element("p");
      p.textContent = "Showing days with scheduled reviews based on FSRS intervals.";
      attr_dev(div, "class", "forecast-chart svelte-dph41p");
      add_location(div, file5, 663, 16, 26703);
      attr_dev(p, "class", "forecast-note svelte-dph41p");
      add_location(p, file5, 692, 16, 28063);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      insert_dev(target, t0, anchor);
      insert_dev(target, p, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        each_value = /*filteredForecast*/
        ctx2[37];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context3(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block3(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t0);
      if (detaching)
        detach_dev(p);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_32.name,
    type: "if",
    source: "(657:12) {#if statistics?.forecast && statistics.forecast.length > 0 && statistics.forecast.some((day) => day.dueCount > 0)}",
    ctx
  });
  return block;
}
function create_each_block3(ctx) {
  let div3;
  let div0;
  let t0;
  let div1;
  let t1_value = (
    /*originalIndex*/
    ctx[40] + ""
  );
  let t1;
  let t2;
  let div2;
  let t3_value = (
    /*day*/
    ctx[39].dueCount + ""
  );
  let t3;
  let t4;
  let div3_title_value;
  const block = {
    c: function create() {
      div3 = element("div");
      div0 = element("div");
      t0 = space();
      div1 = element("div");
      t1 = text(t1_value);
      t2 = space();
      div2 = element("div");
      t3 = text(t3_value);
      t4 = space();
      attr_dev(div0, "class", "bar svelte-dph41p");
      set_style(div0, "height", calculateBarHeight(
        /*day*/
        ctx[39].dueCount,
        /*maxDueCount*/
        ctx[38]
      ) + "px");
      add_location(div0, file5, 678, 28, 27468);
      attr_dev(div1, "class", "bar-label svelte-dph41p");
      add_location(div1, file5, 685, 28, 27786);
      attr_dev(div2, "class", "bar-value svelte-dph41p");
      add_location(div2, file5, 688, 28, 27921);
      attr_dev(div3, "class", "forecast-bar svelte-dph41p");
      attr_dev(div3, "title", div3_title_value = /*originalIndex*/
      (ctx[40] === 0 ? "Today" : (
        /*originalIndex*/
        ctx[40] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx[40]} (in ${/*originalIndex*/
        ctx[40]} days)`
      )) + ": " + /*day*/
      ctx[39].dueCount + " card" + /*day*/
      (ctx[39].dueCount !== 1 ? "s" : "") + " due");
      add_location(div3, file5, 667, 24, 26925);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div0);
      append_dev(div3, t0);
      append_dev(div3, div1);
      append_dev(div1, t1);
      append_dev(div3, t2);
      append_dev(div3, div2);
      append_dev(div2, t3);
      append_dev(div3, t4);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        set_style(div0, "height", calculateBarHeight(
          /*day*/
          ctx2[39].dueCount,
          /*maxDueCount*/
          ctx2[38]
        ) + "px");
      }
      if (dirty[0] & /*statistics*/
      4 && t1_value !== (t1_value = /*originalIndex*/
      ctx2[40] + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*statistics*/
      4 && t3_value !== (t3_value = /*day*/
      ctx2[39].dueCount + ""))
        set_data_dev(t3, t3_value);
      if (dirty[0] & /*statistics*/
      4 && div3_title_value !== (div3_title_value = /*originalIndex*/
      (ctx2[40] === 0 ? "Today" : (
        /*originalIndex*/
        ctx2[40] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx2[40]} (in ${/*originalIndex*/
        ctx2[40]} days)`
      )) + ": " + /*day*/
      ctx2[39].dueCount + " card" + /*day*/
      (ctx2[39].dueCount !== 1 ? "s" : "") + " due")) {
        attr_dev(div3, "title", div3_title_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block3.name,
    type: "each",
    source: "(665:20) {#each filteredForecast as day, index}",
    ctx
  });
  return block;
}
function create_fragment5(ctx) {
  let div1;
  let current_block_type_index;
  let if_block0;
  let t0;
  let div0;
  let a;
  let img;
  let img_src_value;
  let t1;
  let if_block1_anchor;
  let current;
  const if_block_creators = [create_if_block_13, create_if_block_22, create_else_block3];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*loading*/
      ctx2[1]
    )
      return 0;
    if (!/*statistics*/
    ctx2[2])
      return 1;
    return 2;
  }
  current_block_type_index = select_block_type(ctx, [-1, -1]);
  if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  let if_block1 = false;
  const block = {
    c: function create() {
      div1 = element("div");
      if_block0.c();
      t0 = space();
      div0 = element("div");
      a = element("a");
      img = element("img");
      t1 = space();
      if (if_block1)
        if_block1.c();
      if_block1_anchor = empty();
      if (!src_url_equal(img.src, img_src_value = "https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png"))
        attr_dev(img, "src", img_src_value);
      attr_dev(img, "alt", "Buy Me A Coffee");
      attr_dev(img, "height", "40");
      add_location(img, file5, 731, 12, 29418);
      attr_dev(a, "href", "https://www.buymeacoffee.com/dscherdil0");
      add_location(a, file5, 730, 8, 29355);
      attr_dev(div0, "class", "stats-section buymeacoffee-badge svelte-dph41p");
      add_location(div0, file5, 729, 4, 29300);
      attr_dev(div1, "class", "statistics-container svelte-dph41p");
      add_location(div1, file5, 276, 0, 9852);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      if_blocks[current_block_type_index].m(div1, null);
      append_dev(div1, t0);
      append_dev(div1, div0);
      append_dev(div0, a);
      append_dev(a, img);
      insert_dev(target, t1, anchor);
      if (if_block1)
        if_block1.m(target, anchor);
      insert_dev(target, if_block1_anchor, anchor);
      current = true;
    },
    p: function update2(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2, dirty);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block0 = if_blocks[current_block_type_index];
        if (!if_block0) {
          if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block0.c();
        } else {
          if_block0.p(ctx2, dirty);
        }
        transition_in(if_block0, 1);
        if_block0.m(div1, t0);
      }
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(if_block0);
      current = true;
    },
    o: function outro(local) {
      transition_out(if_block0);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      if_blocks[current_block_type_index].d();
      if (detaching)
        detach_dev(t1);
      if (if_block1)
        if_block1.d(detaching);
      if (detaching)
        detach_dev(if_block1_anchor);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment5.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate2(dateString) {
  return new Date(dateString).toLocaleDateString();
}
function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const hours = Math.floor(minutes / 60);
  if (hours > 0) {
    return `${hours}h ${minutes % 60}m`;
  }
  return `${minutes}m`;
}
function formatPace(seconds) {
  if (seconds < 60) {
    return `${seconds.toFixed(1)}s`;
  }
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.round(seconds % 60);
  return `${minutes}m ${remainingSeconds}s`;
}
function calculateBarHeight(dueCount, maxDueCount) {
  const barHeight = 400;
  if (maxDueCount === 0)
    return 0;
  const proportion = dueCount / maxDueCount;
  return Math.max(proportion * barHeight - 80, 10);
}
var func2 = (day) => day.dueCount > 0;
function instance5($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("StatisticsUI", slots, []);
  let { plugin } = $$props;
  const dispatch = createEventDispatcher();
  let loading = true;
  let statistics = null;
  let selectedDeckFilter = "all";
  let selectedTimeframe = "12months";
  let availableDecks = [];
  let availableTags = [];
  let heatmapComponent;
  let deckFilterContainer;
  let timeframeFilterContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  let todayStats = null;
  let weekStats = null;
  let monthStats = null;
  let yearStats = null;
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    $$invalidate(1, loading = true);
    yield loadDecksAndTags();
    yield loadStatistics();
    tick().then(() => {
      mountFilterComponents();
    });
  }));
  function mountFilterComponents() {
    if (deckFilterContainer) {
      new import_obsidian7.Setting(deckFilterContainer).setName("Select Deck(s):").setClass("deck-filter-container").addDropdown((dropdown) => {
        dropdown.addOption("all", "All Decks");
        availableTags.forEach((tag) => {
          dropdown.addOption(`tag:${tag}`, `Tag: ${tag}`);
        });
        availableDecks.forEach((deck) => {
          dropdown.addOption(`deck:${deck.id}`, deck.name);
        });
        dropdown.setValue(selectedDeckFilter);
        dropdown.onChange((value) => {
          selectedDeckFilter = value;
          handleFilterChange();
        });
      });
    }
    if (timeframeFilterContainer) {
      new import_obsidian7.Setting(timeframeFilterContainer).setName("Timeframe:").setClass("timeframe-filter-container").addDropdown((dropdown) => dropdown.addOption("12months", "Last 12 Months").addOption("all", "All History").setValue(selectedTimeframe).onChange((value) => {
        selectedTimeframe = value;
        handleFilterChange();
      }));
    }
  }
  function loadDecksAndTags() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        availableDecks = yield plugin.getDecks();
        availableTags = [...new Set(availableDecks.map((deck) => deck.tag))];
      } catch (error) {
        console.error("Error loading decks and tags:", error);
      }
    });
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function loadStatistics() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        $$invalidate(2, statistics = yield plugin.getOverallStatistics(selectedDeckFilter, selectedTimeframe));
        plugin.debugLog("Loaded statistics:", statistics);
        $$invalidate(6, todayStats = getTodayStats());
        $$invalidate(7, weekStats = getTimeframeStats(7));
        $$invalidate(8, monthStats = getTimeframeStats(30));
        $$invalidate(9, yearStats = getTimeframeStats(365));
      } catch (error) {
        console.error("Error loading statistics:", error);
        $$invalidate(2, statistics = {
          dailyStats: [],
          cardStats: { new: 0, review: 0, mature: 0 },
          answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
          retentionRate: 0,
          intervals: [],
          forecast: [],
          averagePace: 0,
          totalReviewTime: 0
        });
        $$invalidate(6, todayStats = null);
        $$invalidate(7, weekStats = null);
        $$invalidate(8, monthStats = null);
        $$invalidate(9, yearStats = null);
      } finally {
        $$invalidate(1, loading = false);
      }
    });
  }
  function handleFilterChange() {
    return __awaiter(this, void 0, void 0, function* () {
      yield loadStatistics();
    });
  }
  function getTodayStats() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats) || statistics.dailyStats.length === 0)
      return null;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    return statistics.dailyStats.find((day) => day.date === today) || statistics.dailyStats[0] || null;
  }
  function getTimeframeStats(days) {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats)) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    const cutoffDate = /* @__PURE__ */ new Date();
    cutoffDate.setDate(cutoffDate.getDate() - days);
    const cutoffStr = cutoffDate.toISOString().split("T")[0];
    const filteredStats = statistics.dailyStats.filter((day) => day.date >= cutoffStr);
    if (filteredStats.length === 0) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    return filteredStats.reduce(
      (acc, day) => ({
        reviews: acc.reviews + day.reviews,
        timeSpent: acc.timeSpent + day.timeSpent,
        newCards: acc.newCards + day.newCards,
        learningCards: 0,
        // No learning cards in pure FSRS
        reviewCards: acc.reviewCards + day.reviewCards,
        correctRate: acc.reviews + day.reviews > 0 ? (acc.correctRate * acc.reviews + day.correctRate * day.reviews) / (acc.reviews + day.reviews) : 0
      }),
      {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      }
    );
  }
  function calculateAverageEase() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.answerButtons))
      return "0.00";
    const { again, hard, good, easy } = statistics.answerButtons;
    const total = again + hard + good + easy;
    if (total === 0)
      return "0.00";
    const weightedSum = again * 1 + hard * 2 + good * 3 + easy * 4;
    return (weightedSum / total).toFixed(2);
  }
  function calculateAverageInterval() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.intervals) || statistics.intervals.length === 0)
      return 0;
    let totalInterval = 0;
    let totalCards = 0;
    statistics.intervals.forEach((interval) => {
      const intervalStr = interval.interval;
      let minutes = 0;
      if (intervalStr.endsWith("h")) {
        minutes = parseInt(intervalStr) * 60;
      } else if (intervalStr.endsWith("d")) {
        minutes = parseInt(intervalStr) * 1440;
      } else if (intervalStr.endsWith("m")) {
        minutes = parseInt(intervalStr) * 43200;
      }
      totalInterval += minutes * interval.count;
      totalCards += interval.count;
    });
    if (totalCards === 0)
      return 0;
    const avgMinutes = totalInterval / totalCards;
    return Math.round(avgMinutes / 1440);
  }
  function getDueToday() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayForecast = statistics.forecast.find((day) => day.date === today);
    return todayForecast ? todayForecast.dueCount : 0;
  }
  function getDueTomorrow() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const tomorrow = /* @__PURE__ */ new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    const tomorrowStr = tomorrow.toISOString().split("T")[0];
    const tomorrowForecast = statistics.forecast.find((day) => day.date === tomorrowStr);
    return tomorrowForecast ? tomorrowForecast.dueCount : 0;
  }
  function getMaturityRatio() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.cardStats))
      return "0.0";
    const { new: newCards, review, mature } = statistics.cardStats;
    const total = newCards + (review || 0) + mature;
    if (total === 0)
      return "0.0";
    return (mature / total * 100).toFixed(1);
  }
  $$self.$$.on_mount.push(function() {
    if (plugin === void 0 && !("plugin" in $$props || $$self.$$.bound[$$self.$$.props["plugin"]])) {
      console_13.warn("<StatisticsUI> was created without expected prop 'plugin'");
    }
  });
  const writable_props = ["plugin"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_13.warn(`<StatisticsUI> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(loadStatistics, e);
  const touchend_handler = (e) => handleTouchClick(loadStatistics, e);
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      deckFilterContainer = $$value;
      $$invalidate(4, deckFilterContainer);
    });
  }
  function div1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      timeframeFilterContainer = $$value;
      $$invalidate(5, timeframeFilterContainer);
    });
  }
  const func_3 = async (days) => {
    return await plugin.getReviewCounts(days);
  };
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(3, heatmapComponent);
    });
  }
  const click_handler_1 = (e) => handleTouchClick(() => dispatch("close"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => dispatch("close"), e);
  $$self.$$set = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    createEventDispatcher,
    tick,
    Setting: import_obsidian7.Setting,
    ReviewHeatmap: ReviewHeatmap_default,
    plugin,
    dispatch,
    loading,
    statistics,
    selectedDeckFilter,
    selectedTimeframe,
    availableDecks,
    availableTags,
    heatmapComponent,
    deckFilterContainer,
    timeframeFilterContainer,
    lastEventTime,
    lastEventType,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    mountFilterComponents,
    loadDecksAndTags,
    handleTouchClick,
    loadStatistics,
    handleFilterChange,
    formatDate: formatDate2,
    formatTime,
    formatPace,
    getTodayStats,
    getTimeframeStats,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    calculateBarHeight,
    getMaturityRatio
  });
  $$self.$inject_state = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
    if ("loading" in $$props2)
      $$invalidate(1, loading = $$props2.loading);
    if ("statistics" in $$props2)
      $$invalidate(2, statistics = $$props2.statistics);
    if ("selectedDeckFilter" in $$props2)
      selectedDeckFilter = $$props2.selectedDeckFilter;
    if ("selectedTimeframe" in $$props2)
      selectedTimeframe = $$props2.selectedTimeframe;
    if ("availableDecks" in $$props2)
      availableDecks = $$props2.availableDecks;
    if ("availableTags" in $$props2)
      availableTags = $$props2.availableTags;
    if ("heatmapComponent" in $$props2)
      $$invalidate(3, heatmapComponent = $$props2.heatmapComponent);
    if ("deckFilterContainer" in $$props2)
      $$invalidate(4, deckFilterContainer = $$props2.deckFilterContainer);
    if ("timeframeFilterContainer" in $$props2)
      $$invalidate(5, timeframeFilterContainer = $$props2.timeframeFilterContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
    if ("todayStats" in $$props2)
      $$invalidate(6, todayStats = $$props2.todayStats);
    if ("weekStats" in $$props2)
      $$invalidate(7, weekStats = $$props2.weekStats);
    if ("monthStats" in $$props2)
      $$invalidate(8, monthStats = $$props2.monthStats);
    if ("yearStats" in $$props2)
      $$invalidate(9, yearStats = $$props2.yearStats);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    plugin,
    loading,
    statistics,
    heatmapComponent,
    deckFilterContainer,
    timeframeFilterContainer,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    dispatch,
    handleTouchClick,
    loadStatistics,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    getMaturityRatio,
    click_handler,
    touchend_handler,
    div0_binding,
    div1_binding,
    func_3,
    reviewheatmap_binding,
    click_handler_1,
    touchend_handler_1
  ];
}
var StatisticsUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance5, create_fragment5, safe_not_equal, { plugin: 0 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "StatisticsUI",
      options,
      id: create_fragment5.name
    });
  }
  get plugin() {
    throw new Error("<StatisticsUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<StatisticsUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var StatisticsUI_default = StatisticsUI;

// src/components/StatisticsModal.ts
var StatisticsModal = class extends import_obsidian8.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement) {
      modalEl.addClass("statistics-modal");
      if (window.innerWidth <= 768) {
        modalEl.addClass("statistics-modal-mobile");
      }
    }
    this.containerEl.addClass("statistics-modal-container");
    contentEl.addClass("statistics-modal-content");
    const titleEl = contentEl.createEl("h2", { text: "Overall Statistics" });
    titleEl.addClass("statistics-modal-title");
    const componentContainer = contentEl.createDiv("statistics-container");
    componentContainer.addClass("statistics-modal-component-container");
    this.component = new StatisticsUI_default({
      target: componentContainer,
      props: {
        plugin: this.plugin
      }
    });
    this.component.$on("close", () => {
      this.close();
    });
    const handleResize = () => {
      if (modalEl instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl.addClass("statistics-modal-mobile");
        } else {
          modalEl.removeClass("statistics-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/FlashcardReviewModalWrapper.ts
var import_obsidian9 = require("obsidian");

// src/components/FlashcardReviewModal.svelte
var { console: console_14 } = globals;
var file6 = "src/components/FlashcardReviewModal.svelte";
function create_if_block_33(ctx) {
  let div1;
  let div0;
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      attr_dev(div0, "class", "progress-fill svelte-1nq85fg");
      set_style(
        div0,
        "width",
        /*progress*/
        ctx[10] + "%"
      );
      add_location(div0, file6, 225, 12, 6938);
      attr_dev(div1, "class", "review-progress-bar svelte-1nq85fg");
      add_location(div1, file6, 224, 8, 6892);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*progress*/
      1024) {
        set_style(
          div0,
          "width",
          /*progress*/
          ctx2[10] + "%"
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_33.name,
    type: "if",
    source: "(224:4) {#if settings?.review?.showProgress !== false}",
    ctx
  });
  return block;
}
function create_else_block4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No cards to review";
      add_location(p, file6, 319, 12, 10867);
      attr_dev(div, "class", "empty-state svelte-1nq85fg");
      add_location(div, file6, 318, 8, 10829);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block4.name,
    type: "else",
    source: "(318:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block3(ctx) {
  let div5;
  let div1;
  let div0;
  let t0;
  let div4;
  let div2;
  let t1;
  let div3;
  let t2;
  let div6;
  let t3;
  let if_block0 = !/*showAnswer*/
  ctx[4] && create_if_block_23(ctx);
  let if_block1 = (
    /*showAnswer*/
    ctx[4] && /*schedulingInfo*/
    ctx[8] && create_if_block_14(ctx)
  );
  const block = {
    c: function create() {
      div5 = element("div");
      div1 = element("div");
      div0 = element("div");
      t0 = space();
      div4 = element("div");
      div2 = element("div");
      t1 = space();
      div3 = element("div");
      t2 = space();
      div6 = element("div");
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      attr_dev(div0, "class", "card-side front svelte-1nq85fg");
      add_location(div0, file6, 232, 16, 7141);
      attr_dev(div1, "class", "question-section svelte-1nq85fg");
      add_location(div1, file6, 231, 12, 7094);
      attr_dev(div2, "class", "separator svelte-1nq85fg");
      add_location(div2, file6, 236, 16, 7301);
      attr_dev(div3, "class", "card-side back svelte-1nq85fg");
      add_location(div3, file6, 237, 16, 7347);
      attr_dev(div4, "class", "answer-section svelte-1nq85fg");
      toggle_class(div4, "hidden", !/*showAnswer*/
      ctx[4]);
      add_location(div4, file6, 235, 12, 7229);
      attr_dev(div5, "class", "card-content svelte-1nq85fg");
      add_location(div5, file6, 230, 8, 7055);
      attr_dev(div6, "class", "action-buttons svelte-1nq85fg");
      add_location(div6, file6, 241, 8, 7444);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div1);
      append_dev(div1, div0);
      ctx[20](div0);
      append_dev(div5, t0);
      append_dev(div5, div4);
      append_dev(div4, div2);
      append_dev(div4, t1);
      append_dev(div4, div3);
      ctx[21](div3);
      insert_dev(target, t2, anchor);
      insert_dev(target, div6, anchor);
      if (if_block0)
        if_block0.m(div6, null);
      append_dev(div6, t3);
      if (if_block1)
        if_block1.m(div6, null);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*showAnswer*/
      16) {
        toggle_class(div4, "hidden", !/*showAnswer*/
        ctx2[4]);
      }
      if (!/*showAnswer*/
      ctx2[4]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_23(ctx2);
          if_block0.c();
          if_block0.m(div6, t3);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (
        /*showAnswer*/
        ctx2[4] && /*schedulingInfo*/
        ctx2[8]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
        } else {
          if_block1 = create_if_block_14(ctx2);
          if_block1.c();
          if_block1.m(div6, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      ctx[20](null);
      ctx[21](null);
      if (detaching)
        detach_dev(t2);
      if (detaching)
        detach_dev(div6);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block3.name,
    type: "if",
    source: "(230:4) {#if currentCard}",
    ctx
  });
  return block;
}
function create_if_block_23(ctx) {
  let button;
  let span0;
  let t1;
  let span1;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      button = element("button");
      span0 = element("span");
      span0.textContent = "Show Answer";
      t1 = space();
      span1 = element("span");
      span1.textContent = "Space";
      add_location(span0, file6, 248, 20, 7759);
      attr_dev(span1, "class", "shortcut svelte-1nq85fg");
      add_location(span1, file6, 249, 20, 7804);
      attr_dev(button, "class", "show-answer-button svelte-1nq85fg");
      add_location(button, file6, 243, 16, 7519);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, span0);
      append_dev(button, t1);
      append_dev(button, span1);
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler*/
            ctx[22],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler*/
            ctx[23],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_23.name,
    type: "if",
    source: "(243:12) {#if !showAnswer}",
    ctx
  });
  return block;
}
function create_if_block_14(ctx) {
  let div12;
  let button0;
  let div0;
  let t1;
  let div1;
  let t2_value = getIntervalDisplay(
    /*schedulingInfo*/
    ctx[8].again.interval
  ) + "";
  let t2;
  let t3;
  let div2;
  let t5;
  let button1;
  let div3;
  let t7;
  let div4;
  let t8_value = getIntervalDisplay(
    /*schedulingInfo*/
    ctx[8].hard.interval
  ) + "";
  let t8;
  let t9;
  let div5;
  let t11;
  let button2;
  let div6;
  let t13;
  let div7;
  let t14_value = getIntervalDisplay(
    /*schedulingInfo*/
    ctx[8].good.interval
  ) + "";
  let t14;
  let t15;
  let div8;
  let t17;
  let button3;
  let div9;
  let t19;
  let div10;
  let t20_value = getIntervalDisplay(
    /*schedulingInfo*/
    ctx[8].easy.interval
  ) + "";
  let t20;
  let t21;
  let div11;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div12 = element("div");
      button0 = element("button");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      div2.textContent = "1";
      t5 = space();
      button1 = element("button");
      div3 = element("div");
      div3.textContent = "Hard";
      t7 = space();
      div4 = element("div");
      t8 = text(t8_value);
      t9 = space();
      div5 = element("div");
      div5.textContent = "2";
      t11 = space();
      button2 = element("button");
      div6 = element("div");
      div6.textContent = "Good";
      t13 = space();
      div7 = element("div");
      t14 = text(t14_value);
      t15 = space();
      div8 = element("div");
      div8.textContent = "3";
      t17 = space();
      button3 = element("button");
      div9 = element("div");
      div9.textContent = "Easy";
      t19 = space();
      div10 = element("div");
      t20 = text(t20_value);
      t21 = space();
      div11 = element("div");
      div11.textContent = "4";
      attr_dev(div0, "class", "button-label svelte-1nq85fg");
      add_location(div0, file6, 263, 24, 8397);
      attr_dev(div1, "class", "interval svelte-1nq85fg");
      add_location(div1, file6, 264, 24, 8459);
      attr_dev(div2, "class", "shortcut svelte-1nq85fg");
      add_location(div2, file6, 267, 24, 8617);
      attr_dev(button0, "class", "difficulty-button again svelte-1nq85fg");
      button0.disabled = /*isLoading*/
      ctx[5];
      add_location(button0, file6, 255, 20, 8001);
      attr_dev(div3, "class", "button-label svelte-1nq85fg");
      add_location(div3, file6, 278, 24, 9091);
      attr_dev(div4, "class", "interval svelte-1nq85fg");
      add_location(div4, file6, 279, 24, 9152);
      attr_dev(div5, "class", "shortcut svelte-1nq85fg");
      add_location(div5, file6, 282, 24, 9309);
      attr_dev(button1, "class", "difficulty-button hard svelte-1nq85fg");
      button1.disabled = /*isLoading*/
      ctx[5];
      add_location(button1, file6, 270, 20, 8698);
      attr_dev(div6, "class", "button-label svelte-1nq85fg");
      add_location(div6, file6, 293, 24, 9783);
      attr_dev(div7, "class", "interval svelte-1nq85fg");
      add_location(div7, file6, 294, 24, 9844);
      attr_dev(div8, "class", "shortcut svelte-1nq85fg");
      add_location(div8, file6, 297, 24, 10001);
      attr_dev(button2, "class", "difficulty-button good svelte-1nq85fg");
      button2.disabled = /*isLoading*/
      ctx[5];
      add_location(button2, file6, 285, 20, 9390);
      attr_dev(div9, "class", "button-label svelte-1nq85fg");
      add_location(div9, file6, 308, 24, 10475);
      attr_dev(div10, "class", "interval svelte-1nq85fg");
      add_location(div10, file6, 309, 24, 10536);
      attr_dev(div11, "class", "shortcut svelte-1nq85fg");
      add_location(div11, file6, 312, 24, 10693);
      attr_dev(button3, "class", "difficulty-button easy svelte-1nq85fg");
      button3.disabled = /*isLoading*/
      ctx[5];
      add_location(button3, file6, 300, 20, 10082);
      attr_dev(div12, "class", "difficulty-buttons svelte-1nq85fg");
      add_location(div12, file6, 254, 16, 7948);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div12, anchor);
      append_dev(div12, button0);
      append_dev(button0, div0);
      append_dev(button0, t1);
      append_dev(button0, div1);
      append_dev(div1, t2);
      append_dev(button0, t3);
      append_dev(button0, div2);
      append_dev(div12, t5);
      append_dev(div12, button1);
      append_dev(button1, div3);
      append_dev(button1, t7);
      append_dev(button1, div4);
      append_dev(div4, t8);
      append_dev(button1, t9);
      append_dev(button1, div5);
      append_dev(div12, t11);
      append_dev(div12, button2);
      append_dev(button2, div6);
      append_dev(button2, t13);
      append_dev(button2, div7);
      append_dev(div7, t14);
      append_dev(button2, t15);
      append_dev(button2, div8);
      append_dev(div12, t17);
      append_dev(div12, button3);
      append_dev(button3, div9);
      append_dev(button3, t19);
      append_dev(button3, div10);
      append_dev(div10, t20);
      append_dev(button3, t21);
      append_dev(button3, div11);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler_1*/
            ctx[24],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler_1*/
            ctx[25],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_2*/
            ctx[26],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_2*/
            ctx[27],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button2,
            "click",
            /*click_handler_3*/
            ctx[28],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button2,
            "touchend",
            /*touchend_handler_3*/
            ctx[29],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button3,
            "click",
            /*click_handler_4*/
            ctx[30],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button3,
            "touchend",
            /*touchend_handler_4*/
            ctx[31],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*schedulingInfo*/
      256 && t2_value !== (t2_value = getIntervalDisplay(
        /*schedulingInfo*/
        ctx2[8].again.interval
      ) + ""))
        set_data_dev(t2, t2_value);
      if (dirty[0] & /*isLoading*/
      32) {
        prop_dev(
          button0,
          "disabled",
          /*isLoading*/
          ctx2[5]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      256 && t8_value !== (t8_value = getIntervalDisplay(
        /*schedulingInfo*/
        ctx2[8].hard.interval
      ) + ""))
        set_data_dev(t8, t8_value);
      if (dirty[0] & /*isLoading*/
      32) {
        prop_dev(
          button1,
          "disabled",
          /*isLoading*/
          ctx2[5]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      256 && t14_value !== (t14_value = getIntervalDisplay(
        /*schedulingInfo*/
        ctx2[8].good.interval
      ) + ""))
        set_data_dev(t14, t14_value);
      if (dirty[0] & /*isLoading*/
      32) {
        prop_dev(
          button2,
          "disabled",
          /*isLoading*/
          ctx2[5]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      256 && t20_value !== (t20_value = getIntervalDisplay(
        /*schedulingInfo*/
        ctx2[8].easy.interval
      ) + ""))
        set_data_dev(t20, t20_value);
      if (dirty[0] & /*isLoading*/
      32) {
        prop_dev(
          button3,
          "disabled",
          /*isLoading*/
          ctx2[5]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div12);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_14.name,
    type: "if",
    source: "(254:12) {#if showAnswer && schedulingInfo}",
    ctx
  });
  return block;
}
function create_fragment6(ctx) {
  var _a, _b;
  let div2;
  let div1;
  let h3;
  let t0;
  let t1_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t1;
  let t2;
  let div0;
  let span0;
  let t3;
  let t4_value = (
    /*sessionProgress*/
    (ctx[3] ? (
      /*sessionProgress*/
      ctx[3].doneUnique
    ) : (
      /*reviewedCount*/
      ctx[9]
    )) + ""
  );
  let t4;
  let t5;
  let span1;
  let t6;
  let t7_value = (
    /*sessionProgress*/
    ctx[3] ? `${/*sessionProgress*/
    ctx[3].goalTotal - /*sessionProgress*/
    ctx[3].doneUnique} remaining` : (
      /*currentCard*/
      ctx[2] ? "More cards available" : "Session complete"
    )
  );
  let t7;
  let t8;
  let t9;
  let t10;
  let if_block0 = (
    /*settings*/
    ((_b = (_a = ctx[1]) == null ? void 0 : _a.review) == null ? void 0 : _b.showProgress) !== false && create_if_block_33(ctx)
  );
  function select_block_type(ctx2, dirty) {
    if (
      /*currentCard*/
      ctx2[2]
    )
      return create_if_block3;
    return create_else_block4;
  }
  let current_block_type = select_block_type(ctx, [-1, -1]);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div2 = element("div");
      div1 = element("div");
      h3 = element("h3");
      t0 = text("Review Session - ");
      t1 = text(t1_value);
      t2 = space();
      div0 = element("div");
      span0 = element("span");
      t3 = text("Reviewed: ");
      t4 = text(t4_value);
      t5 = space();
      span1 = element("span");
      t6 = text("(");
      t7 = text(t7_value);
      t8 = text(")");
      t9 = space();
      if (if_block0)
        if_block0.c();
      t10 = space();
      if_block1.c();
      attr_dev(h3, "class", "svelte-1nq85fg");
      add_location(h3, file6, 206, 8, 6255);
      add_location(span0, file6, 208, 12, 6341);
      attr_dev(span1, "class", "remaining svelte-1nq85fg");
      add_location(span1, file6, 213, 12, 6509);
      attr_dev(div0, "class", "progress-info svelte-1nq85fg");
      add_location(div0, file6, 207, 8, 6301);
      attr_dev(div1, "class", "modal-header svelte-1nq85fg");
      add_location(div1, file6, 205, 4, 6220);
      attr_dev(div2, "class", "review-modal svelte-1nq85fg");
      add_location(div2, file6, 204, 0, 6189);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div1);
      append_dev(div1, h3);
      append_dev(h3, t0);
      append_dev(h3, t1);
      append_dev(div1, t2);
      append_dev(div1, div0);
      append_dev(div0, span0);
      append_dev(span0, t3);
      append_dev(span0, t4);
      append_dev(div0, t5);
      append_dev(div0, span1);
      append_dev(span1, t6);
      append_dev(span1, t7);
      append_dev(span1, t8);
      append_dev(div2, t9);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div2, t10);
      if_block1.m(div2, null);
    },
    p: function update2(ctx2, dirty) {
      var _a2, _b2;
      if (dirty[0] & /*deck*/
      1 && t1_value !== (t1_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*sessionProgress, reviewedCount*/
      520 && t4_value !== (t4_value = /*sessionProgress*/
      (ctx2[3] ? (
        /*sessionProgress*/
        ctx2[3].doneUnique
      ) : (
        /*reviewedCount*/
        ctx2[9]
      )) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*sessionProgress, currentCard*/
      12 && t7_value !== (t7_value = /*sessionProgress*/
      ctx2[3] ? `${/*sessionProgress*/
      ctx2[3].goalTotal - /*sessionProgress*/
      ctx2[3].doneUnique} remaining` : (
        /*currentCard*/
        ctx2[2] ? "More cards available" : "Session complete"
      )))
        set_data_dev(t7, t7_value);
      if (
        /*settings*/
        ((_b2 = (_a2 = ctx2[1]) == null ? void 0 : _a2.review) == null ? void 0 : _b2.showProgress) !== false
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_33(ctx2);
          if_block0.c();
          if_block0.m(div2, t10);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div2, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      if (if_block0)
        if_block0.d();
      if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment6.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function getIntervalDisplay(minutes) {
  if (minutes < 60) {
    return `${Math.round(minutes)}m`;
  } else if (minutes < 1440) {
    const hours = Math.round(minutes / 60);
    return `${hours}h`;
  } else {
    const days = Math.round(minutes / 1440);
    return `${days}d`;
  }
}
function instance6($$self, $$props, $$invalidate) {
  let progress;
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("FlashcardReviewModal", slots, []);
  let { deck } = $$props;
  let { initialCard = null } = $$props;
  let { onClose } = $$props;
  let { onReview } = $$props;
  let { renderMarkdown } = $$props;
  let { settings } = $$props;
  let { scheduler } = $$props;
  let { onCardReviewed = void 0 } = $$props;
  const dispatch = createEventDispatcher();
  let showAnswer = false;
  let isLoading = false;
  let frontEl;
  let backEl;
  let schedulingInfo = null;
  let reviewedCount = 0;
  let cardStartTime = 0;
  let currentCard = initialCard;
  let sessionId = null;
  let sessionProgress = null;
  let lastEventTime = 0;
  let lastEventType = "";
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    sessionId = yield scheduler.startFreshSession(deck.id);
    scheduler.setCurrentSession(sessionId);
    $$invalidate(3, sessionProgress = yield scheduler.getSessionProgress(sessionId));
    if (!currentCard) {
      $$invalidate(2, currentCard = yield scheduler.getNext(/* @__PURE__ */ new Date(), deck.id, { allowNew: true }));
    }
    if (currentCard) {
      yield loadCard();
    } else {
      dispatch("complete", { reason: "no-more-cards", reviewed: 0 });
    }
    window.addEventListener("keydown", handleKeydown);
  }));
  onDestroy(() => {
    window.removeEventListener("keydown", handleKeydown);
  });
  function loadCard() {
    return __awaiter(this, void 0, void 0, function* () {
      if (!currentCard)
        return;
      $$invalidate(4, showAnswer = false);
      try {
        $$invalidate(8, schedulingInfo = yield scheduler.preview(currentCard.id));
      } catch (error) {
        console.error("Error getting scheduling preview:", error);
        $$invalidate(8, schedulingInfo = null);
      }
      cardStartTime = Date.now();
      if (frontEl) {
        frontEl.empty();
        renderMarkdown(currentCard.front, frontEl);
      }
      tick().then(() => {
        if (backEl && currentCard) {
          backEl.empty();
          renderMarkdown(currentCard.back, backEl);
        }
      });
    });
  }
  function revealAnswer() {
    $$invalidate(4, showAnswer = true);
    tick().then(() => {
      if (backEl && currentCard) {
        backEl.empty();
        renderMarkdown(currentCard.back, backEl);
      }
    });
  }
  function handleReview(rating) {
    return __awaiter(this, void 0, void 0, function* () {
      if (!currentCard || isLoading)
        return;
      $$invalidate(5, isLoading = true);
      try {
        const timeElapsed = Date.now() - cardStartTime;
        yield onReview(currentCard, rating, timeElapsed);
        $$invalidate(9, reviewedCount++, reviewedCount);
        if (sessionId) {
          $$invalidate(3, sessionProgress = yield scheduler.getSessionProgress(sessionId));
        }
        if (onCardReviewed) {
          yield onCardReviewed(currentCard);
        }
        $$invalidate(2, currentCard = yield scheduler.getNext(/* @__PURE__ */ new Date(), deck.id, { allowNew: true }));
        if (currentCard) {
          yield loadCard();
        } else {
          if (sessionId) {
            yield scheduler.endReviewSession(sessionId);
            scheduler.setCurrentSession(null);
          }
          dispatch("complete", {
            reason: "no-more-cards",
            reviewed: sessionProgress ? sessionProgress.doneUnique : reviewedCount
          });
          onClose();
        }
      } catch (error) {
        console.error("Error reviewing card:", error);
      } finally {
        $$invalidate(5, isLoading = false);
      }
    });
  }
  function handleKeydown(event) {
    if (isLoading)
      return;
    const now = Date.now();
    const eventType = "keyboard";
    if (now - lastEventTime < 100 && lastEventType === eventType) {
      return;
    }
    if (!showAnswer && event.key === " ") {
      event.preventDefault();
      lastEventTime = now;
      lastEventType = eventType;
      revealAnswer();
    } else if (showAnswer) {
      lastEventTime = now;
      lastEventType = eventType;
      switch (event.key) {
        case "1":
          handleReview("again");
          break;
        case "2":
          handleReview("hard");
          break;
        case "3":
        case " ":
          handleReview("good");
          break;
        case "4":
          handleReview("easy");
          break;
      }
    }
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'deck'");
    }
    if (onClose === void 0 && !("onClose" in $$props || $$self.$$.bound[$$self.$$.props["onClose"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onClose'");
    }
    if (onReview === void 0 && !("onReview" in $$props || $$self.$$.bound[$$self.$$.props["onReview"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onReview'");
    }
    if (renderMarkdown === void 0 && !("renderMarkdown" in $$props || $$self.$$.bound[$$self.$$.props["renderMarkdown"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'renderMarkdown'");
    }
    if (settings === void 0 && !("settings" in $$props || $$self.$$.bound[$$self.$$.props["settings"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'settings'");
    }
    if (scheduler === void 0 && !("scheduler" in $$props || $$self.$$.bound[$$self.$$.props["scheduler"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'scheduler'");
    }
  });
  const writable_props = [
    "deck",
    "initialCard",
    "onClose",
    "onReview",
    "renderMarkdown",
    "settings",
    "scheduler",
    "onCardReviewed"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_14.warn(`<FlashcardReviewModal> was created with unknown prop '${key}'`);
  });
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      frontEl = $$value;
      $$invalidate(6, frontEl);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      backEl = $$value;
      $$invalidate(7, backEl);
    });
  }
  const click_handler = (e) => handleTouchClick(revealAnswer, e);
  const touchend_handler = (e) => handleTouchClick(revealAnswer, e);
  const click_handler_1 = (e) => handleTouchClick(() => handleReview("again"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => handleReview("again"), e);
  const click_handler_2 = (e) => handleTouchClick(() => handleReview("hard"), e);
  const touchend_handler_2 = (e) => handleTouchClick(() => handleReview("hard"), e);
  const click_handler_3 = (e) => handleTouchClick(() => handleReview("good"), e);
  const touchend_handler_3 = (e) => handleTouchClick(() => handleReview("good"), e);
  const click_handler_4 = (e) => handleTouchClick(() => handleReview("easy"), e);
  const touchend_handler_4 = (e) => handleTouchClick(() => handleReview("easy"), e);
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("initialCard" in $$props2)
      $$invalidate(14, initialCard = $$props2.initialCard);
    if ("onClose" in $$props2)
      $$invalidate(15, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(16, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(17, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(1, settings = $$props2.settings);
    if ("scheduler" in $$props2)
      $$invalidate(18, scheduler = $$props2.scheduler);
    if ("onCardReviewed" in $$props2)
      $$invalidate(19, onCardReviewed = $$props2.onCardReviewed);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    createEventDispatcher,
    onMount,
    onDestroy,
    tick,
    deck,
    initialCard,
    onClose,
    onReview,
    renderMarkdown,
    settings,
    scheduler,
    onCardReviewed,
    dispatch,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    reviewedCount,
    cardStartTime,
    currentCard,
    sessionId,
    sessionProgress,
    lastEventTime,
    lastEventType,
    loadCard,
    revealAnswer,
    handleReview,
    getIntervalDisplay,
    handleKeydown,
    handleTouchClick,
    progress
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("initialCard" in $$props2)
      $$invalidate(14, initialCard = $$props2.initialCard);
    if ("onClose" in $$props2)
      $$invalidate(15, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(16, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(17, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(1, settings = $$props2.settings);
    if ("scheduler" in $$props2)
      $$invalidate(18, scheduler = $$props2.scheduler);
    if ("onCardReviewed" in $$props2)
      $$invalidate(19, onCardReviewed = $$props2.onCardReviewed);
    if ("showAnswer" in $$props2)
      $$invalidate(4, showAnswer = $$props2.showAnswer);
    if ("isLoading" in $$props2)
      $$invalidate(5, isLoading = $$props2.isLoading);
    if ("frontEl" in $$props2)
      $$invalidate(6, frontEl = $$props2.frontEl);
    if ("backEl" in $$props2)
      $$invalidate(7, backEl = $$props2.backEl);
    if ("schedulingInfo" in $$props2)
      $$invalidate(8, schedulingInfo = $$props2.schedulingInfo);
    if ("reviewedCount" in $$props2)
      $$invalidate(9, reviewedCount = $$props2.reviewedCount);
    if ("cardStartTime" in $$props2)
      cardStartTime = $$props2.cardStartTime;
    if ("currentCard" in $$props2)
      $$invalidate(2, currentCard = $$props2.currentCard);
    if ("sessionId" in $$props2)
      sessionId = $$props2.sessionId;
    if ("sessionProgress" in $$props2)
      $$invalidate(3, sessionProgress = $$props2.sessionProgress);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
    if ("progress" in $$props2)
      $$invalidate(10, progress = $$props2.progress);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*sessionProgress*/
    8) {
      $:
        $$invalidate(10, progress = sessionProgress ? sessionProgress.progress : 0);
    }
    if ($$self.$$.dirty[0] & /*currentCard*/
    4) {
      $:
        if (currentCard) {
          loadCard();
        }
    }
  };
  return [
    deck,
    settings,
    currentCard,
    sessionProgress,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    reviewedCount,
    progress,
    revealAnswer,
    handleReview,
    handleTouchClick,
    initialCard,
    onClose,
    onReview,
    renderMarkdown,
    scheduler,
    onCardReviewed,
    div0_binding,
    div3_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    click_handler_2,
    touchend_handler_2,
    click_handler_3,
    touchend_handler_3,
    click_handler_4,
    touchend_handler_4
  ];
}
var FlashcardReviewModal = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(
      this,
      options,
      instance6,
      create_fragment6,
      safe_not_equal,
      {
        deck: 0,
        initialCard: 14,
        onClose: 15,
        onReview: 16,
        renderMarkdown: 17,
        settings: 1,
        scheduler: 18,
        onCardReviewed: 19
      },
      null,
      [-1, -1]
    );
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "FlashcardReviewModal",
      options,
      id: create_fragment6.name
    });
  }
  get deck() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get initialCard() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set initialCard(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onClose() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onClose(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onReview() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onReview(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get renderMarkdown() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set renderMarkdown(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get settings() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set settings(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get scheduler() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set scheduler(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onCardReviewed() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onCardReviewed(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var FlashcardReviewModal_default = FlashcardReviewModal;

// src/components/FlashcardReviewModalWrapper.ts
var FlashcardReviewModalWrapper = class extends import_obsidian9.Modal {
  constructor(app, deck, flashcards, scheduler, settings, reviewFlashcard, renderMarkdown, refreshStats, refreshStatsById) {
    super(app);
    this.component = null;
    this.markdownComponents = [];
    this.deck = deck;
    this.initialCard = flashcards.length > 0 ? flashcards[0] : null;
    this.scheduler = scheduler;
    this.settings = settings;
    this.reviewFlashcard = reviewFlashcard;
    this.renderMarkdown = renderMarkdown;
    this.refreshStats = refreshStats;
    this.refreshStatsById = refreshStatsById;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("deck-review-modal");
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("deck-review-modal-mobile");
    }
    const container = contentEl.createDiv();
    this.component = new FlashcardReviewModal_default({
      target: container,
      props: {
        initialCard: this.initialCard,
        deck: this.deck,
        onClose: () => this.close(),
        onReview: async (card, rating, timeElapsed) => {
          await this.reviewFlashcard(this.deck, card, rating, timeElapsed);
        },
        renderMarkdown: (content, el) => {
          const component = this.renderMarkdown(content, el);
          if (component) {
            this.markdownComponents.push(component);
          }
        },
        settings: this.settings,
        scheduler: this.scheduler,
        onCardReviewed: async (reviewedCard) => {
          if (reviewedCard) {
            await this.refreshStatsById(reviewedCard.deckId);
          }
        }
      }
    });
    this.component.$on("complete", async (event) => {
      var _a, _b;
      const { reason, reviewed } = event.detail;
      let message = `Review session complete for ${this.deck.name}!`;
      if (reason === "no-more-cards") {
        message = `All available cards reviewed! Completed ${reviewed} cards from ${this.deck.name}.`;
      }
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian9.Notice(message);
      }
      await this.refreshStatsById(this.deck.id);
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl2.addClass("deck-review-modal-mobile");
        } else {
          modalEl2.removeClass("deck-review-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  onClose() {
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    this.refreshStatsById(this.deck.id);
  }
};

// src/main.ts
var VIEW_TYPE_DECKS = "decks-view";
function deepMergeIgnoreNull(target, source) {
  if (source === null || source === void 0) {
    return target;
  }
  if (typeof source !== "object" || Array.isArray(source)) {
    return source;
  }
  const result = { ...target };
  for (const key in source) {
    if (source.hasOwnProperty(key)) {
      const sourceValue = source[key];
      if (sourceValue === null || sourceValue === void 0) {
        continue;
      }
      if (typeof sourceValue === "object" && !Array.isArray(sourceValue) && target[key]) {
        result[key] = deepMergeIgnoreNull(target[key], sourceValue);
      } else {
        result[key] = sourceValue;
      }
    }
  }
  return result;
}
var DecksPlugin = class extends import_obsidian10.Plugin {
  constructor() {
    super(...arguments);
    this.view = null;
    this.progressNotice = null;
    this.hasShownInitialProgress = false;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  // Debug logging utility
  debugLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.enableLogging) {
      console.log(`[Decks Debug] ${message}`, ...args);
      this.writeToLogFile(message, ...args);
    }
  }
  async writeToLogFile(message, ...args) {
    try {
      const adapter = this.app.vault.adapter;
      const logPath = `${this.app.vault.configDir}/plugins/decks/debug.log`;
      const timestamp = (/* @__PURE__ */ new Date()).toISOString();
      const argsStr = args.length > 0 ? ` ${args.map(
        (arg) => typeof arg === "object" ? JSON.stringify(arg) : String(arg)
      ).join(" ")}` : "";
      const logEntry = `[${timestamp}] ${message}${argsStr}
`;
      let existingContent = "";
      if (await adapter.exists(logPath)) {
        existingContent = await adapter.read(logPath);
      }
      await adapter.write(logPath, existingContent + logEntry);
    } catch (error) {
      console.error("[Decks Debug] Failed to write to log file:", error);
    }
  }
  // Performance logging utility
  performanceLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.performanceLogs) {
      console.log(`[Decks Performance] ${message}`, ...args);
    }
  }
  // Progress tracking utility
  updateProgress(message, progress = 0) {
    if (this.progressNotice) {
      const progressBar = this.createProgressBar(progress);
      this.progressNotice.setMessage(`${message}
${progressBar}`);
    }
  }
  createProgressBar(progress) {
    const width = 25;
    const filled = Math.round(progress / 100 * width);
    const empty2 = width - filled;
    const bar = "\u2588".repeat(filled) + "\u2591".repeat(empty2);
    const percentage = Math.round(progress);
    return `[${bar}] ${percentage}%`;
  }
  showProgressNotice(message) {
    var _a, _b, _c, _d;
    this.debugLog(`showProgressNotice called with: ${message}`);
    this.debugLog(`enableNotices setting: ${(_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices}`);
    if (((_d = (_c = this.settings) == null ? void 0 : _c.ui) == null ? void 0 : _d.enableNotices) !== false) {
      this.debugLog("Creating progress notice");
      this.progressNotice = new import_obsidian10.Notice(message, 0);
    } else {
      this.debugLog("Notices disabled, not showing progress notice");
    }
  }
  hideProgressNotice() {
    if (this.progressNotice) {
      this.progressNotice.hide();
      this.progressNotice = null;
    }
  }
  async onload() {
    var _a, _b;
    this.debugLog("Loading Decks plugin");
    await this.loadSettings();
    try {
      const adapter = this.app.vault.adapter;
      const pluginDir = `${this.app.vault.configDir}/plugins/decks`;
      if (!await adapter.exists(pluginDir)) {
        await adapter.mkdir(pluginDir);
      }
      const databasePath = `${this.app.vault.configDir}/plugins/decks/flashcards.db`;
      this.db = new DatabaseService(
        databasePath,
        adapter,
        this.debugLog.bind(this)
      );
      await this.db.initialize();
      this.deckManager = new DeckManager(
        this.app.vault,
        this.app.metadataCache,
        this.db,
        this
      );
      this.deckSynchronizer = new DeckSynchronizer(
        this.db,
        this.deckManager,
        this.debugLog.bind(this),
        this.performanceLog.bind(this)
      );
      this.scheduler = new Scheduler(this.db);
      this.registerView(
        VIEW_TYPE_DECKS,
        (leaf) => new DecksView(
          this,
          leaf,
          this.scheduler,
          this.settings,
          this.debugLog.bind(this),
          this.performSync.bind(this),
          this.getDecks.bind(this),
          this.getDeckStats.bind(this),
          this.getDeckStatsById.bind(this),
          this.getReviewCounts.bind(this),
          this.updateDeckConfig.bind(this),
          this.openStatisticsModal.bind(this),
          this.deckSynchronizer.syncDeck.bind(this.deckSynchronizer),
          this.db.getDailyReviewCounts.bind(this.db),
          this.reviewFlashcard.bind(this),
          this.renderMarkdown.bind(this),
          (view) => {
            this.view = view;
          }
        )
      );
      this.app.workspace.onLayoutReady(() => {
        setTimeout(() => {
          this.performInitialSync();
        }, 2e3);
      });
      this.addRibbonIcon("brain", "Flashcards", () => {
        this.activateView();
      });
      this.addCommand({
        id: "show-flashcards-panel",
        name: "Show Flashcards Panel",
        callback: () => {
          this.activateView();
        }
      });
      this.registerEvent(
        this.app.vault.on("modify", async (file7) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileChange(file7);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("delete", async (file7) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileDelete(file7);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("rename", async (file7, oldPath) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileRename(file7, oldPath);
          }
        })
      );
      this.addSettingTab(
        new DecksSettingTab(
          this.app,
          this,
          this.settings,
          this.saveSettings.bind(this),
          this.performSync.bind(this),
          async () => {
            if (this.view) {
              await this.view.refreshStats();
            }
          },
          () => {
            if (this.view) {
              this.view.restartBackgroundRefresh();
            }
          },
          () => {
            if (this.view) {
              this.view.startBackgroundRefresh();
            }
          },
          () => {
            if (this.view) {
              this.view.stopBackgroundRefresh();
            }
          },
          this.db.purgeDatabase.bind(this.db)
        )
      );
      this.debugLog("Decks plugin loaded successfully");
    } catch (error) {
      console.error("Error loading Decks plugin:", error);
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian10.Notice("Failed to load Decks plugin. Check console for details.");
      }
    }
  }
  async onunload() {
    this.debugLog("Unloading Decks plugin");
    if (this.db) {
      await this.db.close();
    }
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = deepMergeIgnoreNull(DEFAULT_SETTINGS, loadedData);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_DECKS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (leaf) {
        await leaf.setViewState({
          type: VIEW_TYPE_DECKS,
          active: true
        });
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async handleFileChange(file7) {
    const metadata = this.app.metadataCache.getFileCache(file7);
    this.debugLog(`File changed: ${file7.path}, metadata:`, metadata);
    if (!metadata)
      return;
    const allTags = [];
    if (metadata.tags) {
      allTags.push(...metadata.tags.map((t) => t.tag));
    }
    if (metadata.frontmatter && metadata.frontmatter.tags) {
      const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
      allTags.push(
        ...frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        )
      );
    }
    const hasFlashcardsTag = allTags.some(
      (tag) => tag.startsWith("#flashcards")
    );
    this.debugLog(`File ${file7.path} has flashcards tag:`, hasFlashcardsTag);
    if (hasFlashcardsTag) {
      const existingDeck = await this.db.getDeckByFilepath(file7.path);
      if (existingDeck) {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        if (existingDeck.tag !== newTag) {
          this.debugLog(
            `Updating deck tag from ${existingDeck.tag} to ${newTag}`
          );
          await this.db.updateDeck(existingDeck.id, { tag: newTag });
        }
        await yieldToUI();
        await this.deckSynchronizer.syncDeck(file7.path);
        if (this.view) {
          await this.view.refreshStatsById(existingDeck.id);
        }
      } else {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        await this.deckSynchronizer.createDeckForFile(file7.path, newTag);
        await yieldToUI();
        await this.deckSynchronizer.syncDeck(file7.path);
        if (this.view) {
          await this.view.refreshStats();
        }
      }
    }
  }
  async performInitialSync() {
    try {
      const startTime = performance.now();
      this.debugLog("Performing initial background sync...");
      await new Promise((resolve) => setTimeout(resolve, 100));
      await this.performSync(false);
      if (this.view) {
        const updatedDecks = await this.getDecks();
        const deckStats = await this.getDeckStats();
        this.view.update(updatedDecks, deckStats);
      }
      const totalTime = performance.now() - startTime;
      this.performanceLog(
        `Initial sync completed successfully in ${this.formatTime(totalTime)}`
      );
    } catch (error) {
      console.error("Error during initial sync:", error);
    }
  }
  async performSync(forceSync = false) {
    const result = await this.deckSynchronizer.performSync({
      forceSync,
      showProgress: true,
      onProgress: (progress) => {
        this.debugLog(
          `Progress: ${progress.percentage}% - ${progress.message}`
        );
        if (!this.hasShownInitialProgress) {
          const message = forceSync ? "\u{1F504} Force refreshing flashcards...\n" + this.createProgressBar(progress.percentage) : "\u{1F504} Syncing flashcards...\n" + this.createProgressBar(progress.percentage);
          this.debugLog(`Showing initial progress notice: ${message}`);
          this.showProgressNotice(message);
          this.hasShownInitialProgress = true;
        }
        this.updateProgress(progress.message, progress.percentage);
        if (progress.percentage === 100) {
          this.debugLog("Sync complete, hiding progress notice");
          this.hasShownInitialProgress = false;
          setTimeout(() => this.hideProgressNotice(), 3e3);
        }
      }
    });
    if (!result.success && result.error) {
      this.updateProgress("\u274C Sync failed - check console for details", 0);
      this.hasShownInitialProgress = false;
      setTimeout(() => this.hideProgressNotice(), 5e3);
      throw result.error;
    }
  }
  async handleFileDelete(file7) {
    await this.db.deleteDeckByFilepath(file7.path);
    if (this.view) {
      await this.view.refreshStats();
    }
  }
  async handleFileRename(file7, oldPath) {
    const oldDeck = await this.db.getDeckByFilepath(oldPath);
    if (oldDeck) {
      const oldDeckId = oldDeck.id;
      const newDeckId = this.deckManager.generateDeckId(file7.path);
      this.debugLog(`File renamed from ${oldPath} to ${file7.path}`);
      this.debugLog(`Updating deck ID from ${oldDeckId} to ${newDeckId}`);
      await this.db.renameDeck(oldDeckId, newDeckId, file7.basename, file7.path);
      await this.deckSynchronizer.updateFlashcardDeckIds(oldDeckId, newDeckId);
      if (this.view) {
        await this.view.refreshStats();
      }
    }
  }
  async syncDecks() {
    await this.deckManager.syncDecks();
  }
  async syncFlashcardsForDeck(deckName) {
    await this.deckSynchronizer.syncDeck(deckName);
  }
  async getReviewCounts(days = 365) {
    return await this.db.getReviewCountsByDate(days);
  }
  async getDecks() {
    return this.db.getAllDecks();
  }
  async getDeckStats() {
    const stats = await this.db.getAllDeckStats();
    const statsMap = /* @__PURE__ */ new Map();
    for (const stat of stats) {
      statsMap.set(stat.deckId, stat);
    }
    return statsMap;
  }
  async getDueFlashcards(deckId) {
    return await this.db.getDueFlashcards(deckId);
  }
  async getFlashcardsByDeck(deckId) {
    return await this.db.getFlashcardsByDeck(deckId);
  }
  async getNextCard(deckId) {
    return await this.scheduler.getNext(/* @__PURE__ */ new Date(), deckId, {});
  }
  async getDailyReviewCounts(deckId) {
    return await this.db.getDailyReviewCounts(deckId);
  }
  async getDeckStatsById(deckId) {
    const stats = await this.db.getDeckStats(deckId);
    return stats;
  }
  async updateDeckConfig(deckId, config) {
    var _a, _b;
    if (((_a = config.fsrs) == null ? void 0 : _a.profile) && !["INTENSIVE", "STANDARD"].includes(config.fsrs.profile)) {
      throw new Error(`Invalid profile: ${config.fsrs.profile}`);
    }
    if (((_b = config.fsrs) == null ? void 0 : _b.requestRetention) !== void 0) {
      const rr = config.fsrs.requestRetention;
      if (rr <= 0.5 || rr >= 0.995) {
        throw new Error(
          `requestRetention must be in range (0.5, 0.995), got ${rr}`
        );
      }
    }
    const currentConfig = await this.getDeckConfig(deckId);
    if (!currentConfig) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const headerLevelChanged = config.headerLevel !== void 0 && config.headerLevel !== currentConfig.headerLevel;
    const updatedConfig = {
      ...currentConfig,
      ...config,
      fsrs: {
        ...currentConfig.fsrs,
        ...config.fsrs
      }
    };
    await this.db.updateDeck(deckId, { config: updatedConfig });
    if (headerLevelChanged) {
      const deck = await this.db.getDeckById(deckId);
      if (deck) {
        this.debugLog(
          `Header level changed for deck ${deck.name}, forcing resync`
        );
        await yieldToUI();
        await this.deckSynchronizer.syncDeck(deck.filepath, true);
      }
    }
    if (this.view) {
      await this.view.refreshStatsById(deckId);
    }
  }
  /**
   * Get deck configuration
   */
  async getDeckConfig(deckId) {
    const decks = await this.db.getAllDecks();
    const deck = decks.find((d) => d.id === deckId);
    return deck ? deck.config : null;
  }
  /**
   * Schedule preview for a card showing all four rating outcomes
   */
  async schedulePreview(cardId, now = /* @__PURE__ */ new Date()) {
    return await this.scheduler.preview(cardId, now);
  }
  async reviewFlashcard(deck, flashcard, difficulty, timeElapsed) {
    await this.scheduler.rate(
      flashcard.id,
      difficulty,
      /* @__PURE__ */ new Date(),
      timeElapsed
    );
    await this.db.updateDeckLastReviewed(flashcard.deckId);
    if (this.view) {
      await this.view.refreshStatsById(flashcard.deckId);
      await this.view.refreshHeatmap();
    }
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    return await this.db.getOverallStatistics(deckFilter, timeframe);
  }
  openStatisticsModal() {
    const modal = new StatisticsModal(this);
    modal.open();
  }
  renderMarkdown(content, el) {
    const component = new import_obsidian10.Component();
    component.load();
    import_obsidian10.MarkdownRenderer.renderMarkdown(content, el, "", component);
    return component;
  }
};
var DecksView = class extends import_obsidian10.ItemView {
  constructor(plugin, leaf, scheduler, settings, debugLog, performSync, getDecks, getDeckStats, getDeckStatsById, getReviewCounts, updateDeckConfig, openStatisticsModal, syncFlashcardsForDeck, getDailyReviewCounts, reviewFlashcard, renderMarkdown, setViewReference) {
    super(leaf);
    this.component = null;
    this.markdownComponents = [];
    this.statsRefreshTimeout = null;
    this.backgroundRefreshInterval = null;
    this.plugin = plugin;
    this.scheduler = scheduler;
    this.settings = settings;
    this.debugLog = debugLog;
    this.performSync = performSync;
    this.getDecks = getDecks;
    this.getDeckStats = getDeckStats;
    this.getDeckStatsById = getDeckStatsById;
    this.getReviewCounts = getReviewCounts;
    this.updateDeckConfig = updateDeckConfig;
    this.openStatisticsModal = openStatisticsModal;
    this.syncFlashcardsForDeck = syncFlashcardsForDeck;
    this.getDailyReviewCounts = getDailyReviewCounts;
    this.reviewFlashcard = reviewFlashcard;
    this.renderMarkdown = renderMarkdown;
    this.setViewReference = setViewReference;
    this.setViewReference(this);
  }
  getViewType() {
    return VIEW_TYPE_DECKS;
  }
  getDisplayText() {
    return "Decks";
  }
  getIcon() {
    return "brain";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("decks-view");
    this.component = new DeckListPanel_default({
      target: container,
      props: {
        onDeckClick: (deck) => this.startReview(deck),
        onRefresh: async () => {
          this.debugLog("onRefresh callback invoked");
          await this.refresh(true);
        },
        getReviewCounts: async (days) => {
          return await this.getReviewCounts(days);
        },
        onUpdateDeckConfig: async (deckId, config) => {
          await this.updateDeckConfig(deckId, config);
        },
        onOpenStatistics: () => {
          this.openStatisticsModal();
        },
        plugin: this.plugin
      }
    });
    if (this.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async onClose() {
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    if (this.statsRefreshTimeout) {
      clearTimeout(this.statsRefreshTimeout);
      this.statsRefreshTimeout = null;
    }
    this.stopBackgroundRefresh();
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    this.setViewReference(null);
  }
  async update(updatedDecks, deckStats) {
    var _a, _b;
    (_a = this.component) == null ? void 0 : _a.updateDecks(updatedDecks);
    (_b = this.component) == null ? void 0 : _b.updateStats(deckStats);
  }
  async refresh(force = false) {
    var _a, _b;
    this.debugLog("DecksView.refresh() called");
    try {
      await this.performSync(force);
      const updatedDecks = await this.getDecks();
      const deckStats = await this.getDeckStats();
      this.update(updatedDecks, deckStats);
      this.debugLog("Refresh complete");
    } catch (error) {
      console.error("Error refreshing decks:", error);
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian10.Notice("Error refreshing decks. Check console for details.");
      }
    }
  }
  async refreshStats() {
    this.debugLog("DecksView.refreshStats() executing");
    try {
      const deckStats = await this.getDeckStats();
      this.debugLog("Updated deck stats:", deckStats);
      if (this.component) {
        this.component.updateStats(deckStats);
      }
    } catch (error) {
      console.error("Error refreshing stats:", error);
    }
  }
  async refreshStatsById(deckId) {
    this.debugLog(`DecksView.refreshStatsById() executing for deck: ${deckId}`);
    try {
      const deckStats = await this.getDeckStatsById(deckId);
      this.debugLog("Updated all deck stats");
      if (this.component && deckStats) {
        this.component.updateStatsById(deckId, deckStats);
      }
    } catch (error) {
      console.error("Error refreshing stats by ID:", error);
    }
  }
  startBackgroundRefresh() {
    if (!this.settings.ui.enableBackgroundRefresh) {
      return;
    }
    this.stopBackgroundRefresh();
    this.debugLog(
      `Starting background refresh job (every ${this.settings.ui.backgroundRefreshInterval} seconds)`
    );
    this.backgroundRefreshInterval = setInterval(async () => {
      this.debugLog("Background refresh tick");
      this.refresh();
    }, this.settings.ui.backgroundRefreshInterval * 1e3);
  }
  stopBackgroundRefresh() {
    if (this.backgroundRefreshInterval) {
      this.debugLog("Stopping background refresh job");
      clearInterval(this.backgroundRefreshInterval);
      this.backgroundRefreshInterval = null;
    }
  }
  restartBackgroundRefresh() {
    this.stopBackgroundRefresh();
    if (this.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async refreshHeatmap() {
    if (this.component) {
      this.component.refreshHeatmap();
    }
  }
  // Test method to check if background job is running
  checkBackgroundJobStatus() {
    this.debugLog("Background job status:", {
      isRunning: !!this.backgroundRefreshInterval,
      intervalId: this.backgroundRefreshInterval,
      componentExists: !!this.component,
      refreshInterval: this.settings.ui.backgroundRefreshInterval
    });
  }
  async startReview(deck) {
    var _a, _b, _c, _d, _e, _f;
    try {
      this.debugLog(`Syncing cards for deck before review: ${deck.name}`);
      await this.syncFlashcardsForDeck(deck.name);
      const dailyCounts = await this.getDailyReviewCounts(deck.id);
      const config = deck.config;
      const remainingNew = hasNewCardsLimit(config) ? Math.max(0, config.newCardsPerDay - dailyCounts.newCount) : "unlimited";
      const remainingReview = hasReviewCardsLimit(config) ? Math.max(0, config.reviewCardsPerDay - dailyCounts.reviewCount) : "unlimited";
      const nextCard = await this.scheduler.getNext(/* @__PURE__ */ new Date(), deck.id, {
        allowNew: true
      });
      if (!nextCard) {
        let message = `No cards due for review in ${deck.name}`;
        const newLimitReached = hasNewCardsLimit(config) && remainingNew === 0;
        const reviewLimitReached = hasReviewCardsLimit(config) && remainingReview === 0;
        if (newLimitReached && reviewLimitReached) {
          message += `

Daily limits reached:`;
          message += `
New cards: ${config.newCardsPerDay}/${config.newCardsPerDay}`;
          message += `
Review cards: ${config.reviewCardsPerDay}/${config.reviewCardsPerDay}`;
        } else if (newLimitReached) {
          message += `

Daily new cards limit reached: ${config.newCardsPerDay}/${config.newCardsPerDay}`;
        } else if (reviewLimitReached) {
          message += `

Daily review cards limit reached: ${config.reviewCardsPerDay}/${config.reviewCardsPerDay}`;
        }
        if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
          new import_obsidian10.Notice(message);
        }
        return;
      }
      if (hasNewCardsLimit(config) || hasReviewCardsLimit(config)) {
        let limitInfo = `Daily progress for ${deck.name}:
`;
        if (hasNewCardsLimit(config)) {
          if (dailyCounts.newCount >= config.newCardsPerDay) {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsPerDay} (LIMIT EXCEEDED)
`;
          } else {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsPerDay} (${remainingNew} remaining)
`;
          }
        }
        if (hasReviewCardsLimit(config)) {
          if (dailyCounts.reviewCount >= config.reviewCardsPerDay) {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsPerDay} (LIMIT EXCEEDED)`;
          } else {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsPerDay} (${remainingReview} remaining)`;
          }
        }
        const newLimitExceeded = hasNewCardsLimit(config) && dailyCounts.newCount >= config.newCardsPerDay;
        const reviewLimitExceeded = hasReviewCardsLimit(config) && dailyCounts.reviewCount >= config.reviewCardsPerDay;
        if (newLimitExceeded || reviewLimitExceeded) {
          limitInfo += `

Note: Only learning cards will be shown (limits exceeded)`;
        }
        if (((_d = (_c = this.settings) == null ? void 0 : _c.ui) == null ? void 0 : _d.enableNotices) !== false) {
          new import_obsidian10.Notice(limitInfo, 5e3);
        }
      }
      new FlashcardReviewModalWrapper(
        this.app,
        deck,
        [nextCard],
        this.scheduler,
        this.settings,
        this.reviewFlashcard.bind(this),
        this.renderMarkdown,
        this.refresh.bind(this),
        this.refreshStatsById.bind(this)
      ).open();
    } catch (error) {
      console.error("Error starting review:", error);
      if (((_f = (_e = this.settings) == null ? void 0 : _e.ui) == null ? void 0 : _f.enableNotices) !== false) {
        new import_obsidian10.Notice("Error starting review. Check console for details.");
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NxbC5qcy9kaXN0L3NxbC13YXNtLmpzIiwgIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9EYXRhYmFzZVNlcnZpY2UudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2FsZ29yaXRobS9mc3JzLXdlaWdodHMudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2RhdGFiYXNlL3R5cGVzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9zY2hlbWFzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9taWdyYXRpb25zLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9EZWNrTWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvdXRpbHMvdWkudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL0RlY2tTeW5jaHJvbml6ZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2FsZ29yaXRobS9mc3JzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9TY2hlZHVsZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1NldHRpbmdzVGFiLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1Jldmlld0hlYXRtYXAuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tDb25maWdNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9EZWNrQ29uZmlnVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0Fua2lFeHBvcnRNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BbmtpRXhwb3J0VUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tMaXN0UGFuZWwuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1N0YXRpc3RpY3NNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9TdGF0aXN0aWNzVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0ZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9GbGFzaGNhcmRSZXZpZXdNb2RhbC5zdmVsdGUiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxuLy8gV2UgYXJlIG1vZHVsYXJpemluZyB0aGlzIG1hbnVhbGx5IGJlY2F1c2UgdGhlIGN1cnJlbnQgbW9kdWxhcml6ZSBzZXR0aW5nIGluIEVtc2NyaXB0ZW4gaGFzIHNvbWUgaXNzdWVzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXBrZW4vZW1zY3JpcHRlbi9pc3N1ZXMvNTgyMFxuLy8gSW4gYWRkaXRpb24sIFdoZW4geW91IHVzZSBlbWNjJ3MgbW9kdWxhcml6YXRpb24sIGl0IHN0aWxsIGV4cGVjdHMgdG8gZXhwb3J0IGEgZ2xvYmFsIG9iamVjdCBjYWxsZWQgYE1vZHVsZWAsXG4vLyB3aGljaCBpcyBhYmxlIHRvIGJlIHVzZWQvY2FsbGVkIGJlZm9yZSB0aGUgV0FTTSBpcyBsb2FkZWQuXG4vLyBUaGUgbW9kdWxhcml6YXRpb24gYmVsb3cgZXhwb3J0cyBhIHByb21pc2UgdGhhdCBsb2FkcyBhbmQgcmVzb2x2ZXMgdG8gdGhlIGFjdHVhbCBzcWwuanMgbW9kdWxlLlxuLy8gVGhhdCB3YXksIHRoaXMgbW9kdWxlIGNhbid0IGJlIHVzZWQgYmVmb3JlIHRoZSBXQVNNIGlzIGZpbmlzaGVkIGxvYWRpbmcuXG5cbi8vIFdlIGFyZSBnb2luZyB0byBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IGEgdXNlciB3aWxsIGNhbGwgdG8gc3RhcnQgbG9hZGluZyBpbml0aWFsaXppbmcgb3VyIFNxbC5qcyBsaWJyYXJ5XG4vLyBIb3dldmVyLCB0aGF0IGZ1bmN0aW9uIG1pZ2h0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIG9uIHN1YnNlcXVlbnQgY2FsbHMsIHdlIGRvbid0IGFjdHVhbGx5IHdhbnQgaXQgdG8gaW5zdGFudGlhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIE1vZHVsZVxuLy8gSW5zdGVhZCwgd2Ugd2FudCB0byByZXR1cm4gdGhlIHByZXZpb3VzbHkgbG9hZGVkIG1vZHVsZVxuXG4vLyBUT0RPOiBNYWtlIHRoaXMgbm90IGRlY2xhcmUgYSBnbG9iYWwgaWYgdXNlZCBpbiB0aGUgYnJvd3NlclxudmFyIGluaXRTcWxKc1Byb21pc2UgPSB1bmRlZmluZWQ7XG5cbnZhciBpbml0U3FsSnMgPSBmdW5jdGlvbiAobW9kdWxlQ29uZmlnKSB7XG5cbiAgICBpZiAoaW5pdFNxbEpzUHJvbWlzZSl7XG4gICAgICByZXR1cm4gaW5pdFNxbEpzUHJvbWlzZTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgaGVyZSwgd2UndmUgbmV2ZXIgY2FsbGVkIHRoaXMgZnVuY3Rpb24gYmVmb3JlXG4gICAgaW5pdFNxbEpzUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlTW9kdWxlLCByZWplY3QpIHtcblxuICAgICAgICAvLyBXZSBhcmUgbW9kdWxhcml6aW5nIHRoaXMgbWFudWFsbHkgYmVjYXVzZSB0aGUgY3VycmVudCBtb2R1bGFyaXplIHNldHRpbmcgaW4gRW1zY3JpcHRlbiBoYXMgc29tZSBpc3N1ZXM6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlwa2VuL2Vtc2NyaXB0ZW4vaXNzdWVzLzU4MjBcblxuICAgICAgICAvLyBUaGUgd2F5IHRvIGFmZmVjdCB0aGUgbG9hZGluZyBvZiBlbWNjIGNvbXBpbGVkIG1vZHVsZXMgaXMgdG8gY3JlYXRlIGEgdmFyaWFibGUgY2FsbGVkIGBNb2R1bGVgIGFuZCBhZGRcbiAgICAgICAgLy8gcHJvcGVydGllcyB0byBpdCwgbGlrZSBgcHJlUnVuYCwgYHBvc3RSdW5gLCBldGNcbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIHRoYXQgdG8gZ2V0IG5vdGlmaWVkIHdoZW4gdGhlIFdBU00gaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICAgIC8vIE9ubHkgdGhlbiB3aWxsIHdlIHJldHVybiBvdXIgcHJvbWlzZVxuXG4gICAgICAgIC8vIElmIHRoZXkgcGFzc2VkIGluIGEgbW9kdWxlQ29uZmlnIG9iamVjdCwgdXNlIHRoYXRcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpbml0aWFsaXplIE1vZHVsZSB0byB0aGUgZW1wdHkgb2JqZWN0XG4gICAgICAgIHZhciBNb2R1bGUgPSB0eXBlb2YgbW9kdWxlQ29uZmlnICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZUNvbmZpZyA6IHt9O1xuXG4gICAgICAgIC8vIEVNQ0Mgb25seSBhbGxvd3MgZm9yIGEgc2luZ2xlIG9uQWJvcnQgZnVuY3Rpb24gKG5vdCBhbiBhcnJheSBvZiBmdW5jdGlvbnMpXG4gICAgICAgIC8vIFNvIGlmIHRoZSB1c2VyIGRlZmluZWQgdGhlaXIgb3duIG9uQWJvcnQgZnVuY3Rpb24sIHdlIHJlbWVtYmVyIGl0IGFuZCBjYWxsIGl0XG4gICAgICAgIHZhciBvcmlnaW5hbE9uQWJvcnRGdW5jdGlvbiA9IE1vZHVsZVsnb25BYm9ydCddO1xuICAgICAgICBNb2R1bGVbJ29uQWJvcnQnXSA9IGZ1bmN0aW9uIChlcnJvclRoYXRDYXVzZWRBYm9ydCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvclRoYXRDYXVzZWRBYm9ydCkpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsT25BYm9ydEZ1bmN0aW9uKXtcbiAgICAgICAgICAgICAgb3JpZ2luYWxPbkFib3J0RnVuY3Rpb24oZXJyb3JUaGF0Q2F1c2VkQWJvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gTW9kdWxlWydwb3N0UnVuJ10gfHwgW107XG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gV2hlbiBFbXNjcmlwdGVkIGNhbGxzIHBvc3RSdW4sIHRoaXMgcHJvbWlzZSByZXNvbHZlcyB3aXRoIHRoZSBidWlsdCBNb2R1bGVcbiAgICAgICAgICAgIHJlc29sdmVNb2R1bGUoTW9kdWxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBzZWN0aW9uIG9mIGNvZGUgaW4gdGhlIGVtY2MtZ2VuZXJhdGVkIGNvZGUgYmVsb3cgdGhhdCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIChOb3RlIHRoYXQgdGhpcyBpcyBsb3dlcmNhc2UgYG1vZHVsZWApXG4gICAgICAgIC8vIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBNb2R1bGU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gV2hlbiB0aGF0IHJ1bnMsIGl0J3MgZ29pbmcgdG8gb3ZlcndyaXRlIG91ciBvd24gbW9kdWxhcml6YXRpb24gZXhwb3J0IGVmZm9ydHMgaW4gc2hlbGwtcG9zdC5qcyFcbiAgICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHRlbGwgZW1jYyBub3QgdG8gZW1pdCBpdCBpcyB0byBwYXNzIHRoZSBNT0RVTEFSSVpFPTEgb3IgTU9EVUxBUklaRV9JTlNUQU5DRT0xIGZsYWdzLFxuICAgICAgICAvLyBidXQgdGhhdCBjYXJyaWVzIHdpdGggaXQgYWRkaXRpb25hbCB1bm5lY2Vzc2FyeSBiYWdnYWdlL2J1Z3Mgd2UgZG9uJ3Qgd2FudCBlaXRoZXIuXG4gICAgICAgIC8vIFNvLCB3ZSBoYXZlIHRocmVlIG9wdGlvbnM6XG4gICAgICAgIC8vIDEpIFdlIHVuZGVmaW5lIGBtb2R1bGVgXG4gICAgICAgIC8vIDIpIFdlIHJlbWVtYmVyIHdoYXQgYG1vZHVsZVsnZXhwb3J0cyddYCB3YXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGZ1bmN0aW9uIGFuZCB3ZSByZXN0b3JlIGl0IGxhdGVyXG4gICAgICAgIC8vIDMpIFdlIHdyaXRlIGEgc2NyaXB0IHRvIHJlbW92ZSB0aG9zZSBsaW5lcyBvZiBjb2RlIGFzIHBhcnQgb2YgdGhlIE1ha2UgcHJvY2Vzcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2luY2UgdGhvc2UgYXJlIHRoZSBvbmx5IGxpbmVzIG9mIGNvZGUgdGhhdCBjYXJlIGFib3V0IG1vZHVsZSwgd2Ugd2lsbCB1bmRlZmluZSBpdC4gSXQncyB0aGUgbW9zdCBzdHJhaWdodGZvcndhcmRcbiAgICAgICAgLy8gb2YgdGhlIG9wdGlvbnMsIGFuZCBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIHJlZHVjaW5nIGVtY2MncyBlZmZvcnRzIHRvIG1vZGlmeSB0aGUgbW9kdWxlIGlmIGl0cyBvdXRwdXQgd2VyZSB0byBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgLy8gVGhhdCdzIGEgbmljZSBzaWRlIGVmZmVjdCBzaW5jZSB3ZSdyZSBoYW5kbGluZyB0aGUgbW9kdWxhcml6YXRpb24gZWZmb3J0cyBvdXJzZWx2ZXNcbiAgICAgICAgbW9kdWxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRoZSBlbWNjLWdlbmVyYXRlZCBjb2RlIGFuZCBzaGVsbC1wb3N0LmpzIGNvZGUgZ29lcyBiZWxvdyxcbiAgICAgICAgLy8gbWVhbmluZyB0aGF0IGFsbCBvZiBpdCBydW5zIGluc2lkZSBvZiB0aGlzIHByb21pc2UuIElmIGFueXRoaW5nIHRocm93cyBhbiBleGNlcHRpb24sIG91ciBwcm9taXNlIHdpbGwgYWJvcnRcbnZhciBmO2Z8fD10eXBlb2YgTW9kdWxlICE9ICd1bmRlZmluZWQnID8gTW9kdWxlIDoge307dmFyIGFhPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3csYmE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlLGNhPVwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcIm9iamVjdFwiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmXCJzdHJpbmdcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSYmXCJyZW5kZXJlclwiIT1wcm9jZXNzLnR5cGU7XCJ1c2Ugc3RyaWN0XCI7XG5mLm9uUnVudGltZUluaXRpYWxpemVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnLGwpe3N3aXRjaCh0eXBlb2YgbCl7Y2FzZSBcImJvb2xlYW5cIjpkYyhnLGw/MTowKTticmVhaztjYXNlIFwibnVtYmVyXCI6ZWMoZyxsKTticmVhaztjYXNlIFwic3RyaW5nXCI6ZmMoZyxsLC0xLC0xKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09PWwpbGIoZyk7ZWxzZSBpZihudWxsIT1sLmxlbmd0aCl7dmFyIG49ZGEobCxlYSk7Z2MoZyxuLGwubGVuZ3RoLC0xKTtmYShuKX1lbHNlIHZhKGcsXCJXcm9uZyBBUEkgdXNlIDogdHJpZWQgdG8gcmV0dXJuIGEgdmFsdWUgb2YgYW4gdW5rbm93biB0eXBlIChcIitsK1wiKS5cIiwtMSk7YnJlYWs7ZGVmYXVsdDpsYihnKX19ZnVuY3Rpb24gYihnLGwpe2Zvcih2YXIgbj1bXSxyPTA7cjxnO3IrPTEpe3ZhciB0PW0obCs0KnIsXCJpMzJcIikseT1oYyh0KTtpZigxPT09eXx8Mj09PXkpdD1pYyh0KTtlbHNlIGlmKDM9PT15KXQ9amModCk7ZWxzZSBpZig0PT09eSl7eT10O1xudD1rYyh5KTt5PWxjKHkpO2Zvcih2YXIgTD1uZXcgVWludDhBcnJheSh0KSxKPTA7Sjx0O0orPTEpTFtKXT1wW3krSl07dD1MfWVsc2UgdD1udWxsO24ucHVzaCh0KX1yZXR1cm4gbn1mdW5jdGlvbiBjKGcsbCl7dGhpcy5RYT1nO3RoaXMuZGI9bDt0aGlzLk9hPTE7dGhpcy5sYj1bXX1mdW5jdGlvbiBkKGcsbCl7dGhpcy5kYj1sO2w9aGEoZykrMTt0aGlzLmViPWlhKGwpO2lmKG51bGw9PT10aGlzLmViKXRocm93IEVycm9yKFwiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIFNRTCBzdHJpbmdcIik7dShnLHgsdGhpcy5lYixsKTt0aGlzLmtiPXRoaXMuZWI7dGhpcy5aYT10aGlzLnBiPW51bGx9ZnVuY3Rpb24gZShnKXt0aGlzLmZpbGVuYW1lPVwiZGJmaWxlX1wiKyg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCk+Pj4wKTtpZihudWxsIT1nKXt2YXIgbD10aGlzLmZpbGVuYW1lLG49XCIvXCIscj1sO24mJihuPVwic3RyaW5nXCI9PXR5cGVvZiBuP246amEobikscj1sP2thKG4rXCIvXCIrbCk6XG5uKTtsPWxhKCEwLCEwKTtyPW1hKHIsbCk7aWYoZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGcpe249QXJyYXkoZy5sZW5ndGgpO2Zvcih2YXIgdD0wLHk9Zy5sZW5ndGg7dDx5OysrdCluW3RdPWcuY2hhckNvZGVBdCh0KTtnPW59bmEocixsfDE0Nik7bj1vYShyLDU3Nyk7cGEobixnLDAsZy5sZW5ndGgsMCk7cWEobik7bmEocixsKX19dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsaCkpO3RoaXMuZGI9bShoLFwiaTMyXCIpO29iKHRoaXMuZGIpO3RoaXMuZmI9e307dGhpcy5TYT17fX12YXIgaD16KDQpLGs9Zi5jd3JhcCxxPWsoXCJzcWxpdGUzX29wZW5cIixcIm51bWJlclwiLFtcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx3PWsoXCJzcWxpdGUzX2Nsb3NlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHY9ayhcInNxbGl0ZTNfZXhlY1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLEM9ayhcInNxbGl0ZTNfY2hhbmdlc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxcbkc9ayhcInNxbGl0ZTNfcHJlcGFyZV92MlwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHBiPWsoXCJzcWxpdGUzX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxuYz1rKFwic3FsaXRlM19ub3JtYWxpemVkX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxxYj1rKFwic3FsaXRlM19wcmVwYXJlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSksb2M9ayhcInNxbGl0ZTNfYmluZF90ZXh0XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscmI9ayhcInNxbGl0ZTNfYmluZF9ibG9iXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscGM9ayhcInNxbGl0ZTNfYmluZF9kb3VibGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHFjPWsoXCJzcWxpdGUzX2JpbmRfaW50XCIsXG5cIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHJjPWsoXCJzcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2luZGV4XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiXSksc2M9ayhcInNxbGl0ZTNfc3RlcFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yz1rKFwic3FsaXRlM19lcnJtc2dcIixcInN0cmluZ1wiLFtcIm51bWJlclwiXSksdWM9ayhcInNxbGl0ZTNfY29sdW1uX2NvdW50XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZjPWsoXCJzcWxpdGUzX2RhdGFfY291bnRcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksd2M9ayhcInNxbGl0ZTNfY29sdW1uX2RvdWJsZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIl0pLHNiPWsoXCJzcWxpdGUzX2NvbHVtbl90ZXh0XCIsXCJzdHJpbmdcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSkseGM9ayhcInNxbGl0ZTNfY29sdW1uX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSx5Yz1rKFwic3FsaXRlM19jb2x1bW5fYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFxuXCJudW1iZXJcIl0pLHpjPWsoXCJzcWxpdGUzX2NvbHVtbl90eXBlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksQWM9ayhcInNxbGl0ZTNfY29sdW1uX25hbWVcIixcInN0cmluZ1wiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxCYz1rKFwic3FsaXRlM19yZXNldFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxDYz1rKFwic3FsaXRlM19jbGVhcl9iaW5kaW5nc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxEYz1rKFwic3FsaXRlM19maW5hbGl6ZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yj1rKFwic3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjJcIixcIm51bWJlclwiLFwibnVtYmVyIHN0cmluZyBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXJcIi5zcGxpdChcIiBcIikpLGhjPWsoXCJzcWxpdGUzX3ZhbHVlX3R5cGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksa2M9ayhcInNxbGl0ZTNfdmFsdWVfYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksamM9ayhcInNxbGl0ZTNfdmFsdWVfdGV4dFwiLFxuXCJzdHJpbmdcIixbXCJudW1iZXJcIl0pLGxjPWsoXCJzcWxpdGUzX3ZhbHVlX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksaWM9ayhcInNxbGl0ZTNfdmFsdWVfZG91YmxlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLGVjPWsoXCJzcWxpdGUzX3Jlc3VsdF9kb3VibGVcIixcIlwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxsYj1rKFwic3FsaXRlM19yZXN1bHRfbnVsbFwiLFwiXCIsW1wibnVtYmVyXCJdKSxmYz1rKFwic3FsaXRlM19yZXN1bHRfdGV4dFwiLFwiXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxnYz1rKFwic3FsaXRlM19yZXN1bHRfYmxvYlwiLFwiXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxkYz1rKFwic3FsaXRlM19yZXN1bHRfaW50XCIsXCJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksdmE9ayhcInNxbGl0ZTNfcmVzdWx0X2Vycm9yXCIsXCJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx1Yj1rKFwic3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dFwiLFwibnVtYmVyXCIsXG5bXCJudW1iZXJcIixcIm51bWJlclwiXSksb2I9ayhcIlJlZ2lzdGVyRXh0ZW5zaW9uRnVuY3Rpb25zXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZiPWsoXCJzcWxpdGUzX3VwZGF0ZV9ob29rXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKTtjLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGcpe2lmKCF0aGlzLlFhKXRocm93XCJTdGF0ZW1lbnQgY2xvc2VkXCI7dGhpcy5yZXNldCgpO3JldHVybiBBcnJheS5pc0FycmF5KGcpP3RoaXMuQ2IoZyk6bnVsbCE9ZyYmXCJvYmplY3RcIj09PXR5cGVvZiBnP3RoaXMuRGIoZyk6ITB9O2MucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24oKXtpZighdGhpcy5RYSl0aHJvd1wiU3RhdGVtZW50IGNsb3NlZFwiO3RoaXMuT2E9MTt2YXIgZz1zYyh0aGlzLlFhKTtzd2l0Y2goZyl7Y2FzZSAxMDA6cmV0dXJuITA7Y2FzZSAxMDE6cmV0dXJuITE7ZGVmYXVsdDp0aHJvdyB0aGlzLmRiLmhhbmRsZUVycm9yKGcpO319O2MucHJvdG90eXBlLndiPWZ1bmN0aW9uKGcpe251bGw9PVxuZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtyZXR1cm4gd2ModGhpcy5RYSxnKX07Yy5wcm90b3R5cGUuR2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtnPXNiKHRoaXMuUWEsZyk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIEJpZ0ludCl0aHJvdyBFcnJvcihcIkJpZ0ludCBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBCaWdJbnQoZyl9O2MucHJvdG90eXBlLkhiPWZ1bmN0aW9uKGcpe251bGw9PWcmJihnPXRoaXMuT2EsdGhpcy5PYSs9MSk7cmV0dXJuIHNiKHRoaXMuUWEsZyl9O2MucHJvdG90eXBlLmdldEJsb2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTt2YXIgbD15Yyh0aGlzLlFhLGcpO2c9eGModGhpcy5RYSxnKTtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkobCkscj0wO3I8bDtyKz0xKW5bcl09cFtnK3JdO3JldHVybiBufTtjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZyxsKXtsPWx8fHt9O251bGwhPWcmJlxudGhpcy5iaW5kKGcpJiZ0aGlzLnN0ZXAoKTtnPVtdO2Zvcih2YXIgbj12Yyh0aGlzLlFhKSxyPTA7cjxuO3IrPTEpc3dpdGNoKHpjKHRoaXMuUWEscikpe2Nhc2UgMTp2YXIgdD1sLnVzZUJpZ0ludD90aGlzLkdiKHIpOnRoaXMud2Iocik7Zy5wdXNoKHQpO2JyZWFrO2Nhc2UgMjpnLnB1c2godGhpcy53YihyKSk7YnJlYWs7Y2FzZSAzOmcucHVzaCh0aGlzLkhiKHIpKTticmVhaztjYXNlIDQ6Zy5wdXNoKHRoaXMuZ2V0QmxvYihyKSk7YnJlYWs7ZGVmYXVsdDpnLnB1c2gobnVsbCl9cmV0dXJuIGd9O2MucHJvdG90eXBlLmdldENvbHVtbk5hbWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBnPVtdLGw9dWModGhpcy5RYSksbj0wO248bDtuKz0xKWcucHVzaChBYyh0aGlzLlFhLG4pKTtyZXR1cm4gZ307Yy5wcm90b3R5cGUuZ2V0QXNPYmplY3Q9ZnVuY3Rpb24oZyxsKXtnPXRoaXMuZ2V0KGcsbCk7bD10aGlzLmdldENvbHVtbk5hbWVzKCk7Zm9yKHZhciBuPXt9LHI9MDtyPGwubGVuZ3RoO3IrPVxuMSluW2xbcl1dPWdbcl07cmV0dXJuIG59O2MucHJvdG90eXBlLmdldFNRTD1mdW5jdGlvbigpe3JldHVybiBwYih0aGlzLlFhKX07Yy5wcm90b3R5cGUuZ2V0Tm9ybWFsaXplZFNRTD1mdW5jdGlvbigpe3JldHVybiBuYyh0aGlzLlFhKX07Yy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcpe251bGwhPWcmJnRoaXMuYmluZChnKTt0aGlzLnN0ZXAoKTtyZXR1cm4gdGhpcy5yZXNldCgpfTtjLnByb3RvdHlwZS5zYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7Zz1yYShnKTt2YXIgbj1kYShnLGVhKTt0aGlzLmxiLnB1c2gobik7dGhpcy5kYi5oYW5kbGVFcnJvcihvYyh0aGlzLlFhLGwsbixnLmxlbmd0aC0xLDApKX07Yy5wcm90b3R5cGUuQmI9ZnVuY3Rpb24oZyxsKXtudWxsPT1sJiYobD10aGlzLk9hLHRoaXMuT2ErPTEpO3ZhciBuPWRhKGcsZWEpO3RoaXMubGIucHVzaChuKTt0aGlzLmRiLmhhbmRsZUVycm9yKHJiKHRoaXMuUWEsbCxuLGcubGVuZ3RoLFxuMCkpfTtjLnByb3RvdHlwZS5yYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7dGhpcy5kYi5oYW5kbGVFcnJvcigoZz09PShnfDApP3FjOnBjKSh0aGlzLlFhLGwsZykpfTtjLnByb3RvdHlwZS5FYj1mdW5jdGlvbihnKXtudWxsPT1nJiYoZz10aGlzLk9hLHRoaXMuT2ErPTEpO3JiKHRoaXMuUWEsZywwLDAsMCl9O2MucHJvdG90eXBlLnRiPWZ1bmN0aW9uKGcsbCl7bnVsbD09bCYmKGw9dGhpcy5PYSx0aGlzLk9hKz0xKTtzd2l0Y2godHlwZW9mIGcpe2Nhc2UgXCJzdHJpbmdcIjp0aGlzLnNiKGcsbCk7cmV0dXJuO2Nhc2UgXCJudW1iZXJcIjp0aGlzLnJiKGcsbCk7cmV0dXJuO2Nhc2UgXCJiaWdpbnRcIjp0aGlzLnNiKGcudG9TdHJpbmcoKSxsKTtyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjp0aGlzLnJiKGcrMCxsKTtyZXR1cm47Y2FzZSBcIm9iamVjdFwiOmlmKG51bGw9PT1nKXt0aGlzLkViKGwpO3JldHVybn1pZihudWxsIT1nLmxlbmd0aCl7dGhpcy5CYihnLFxubCk7cmV0dXJufX10aHJvd1wiV3JvbmcgQVBJIHVzZSA6IHRyaWVkIHRvIGJpbmQgYSB2YWx1ZSBvZiBhbiB1bmtub3duIHR5cGUgKFwiK2crXCIpLlwiO307Yy5wcm90b3R5cGUuRGI9ZnVuY3Rpb24oZyl7dmFyIGw9dGhpcztPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXJjKGwuUWEsbik7MCE9PXImJmwudGIoZ1tuXSxyKX0pO3JldHVybiEwfTtjLnByb3RvdHlwZS5DYj1mdW5jdGlvbihnKXtmb3IodmFyIGw9MDtsPGcubGVuZ3RoO2wrPTEpdGhpcy50YihnW2xdLGwrMSk7cmV0dXJuITB9O2MucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mcmVlbWVtKCk7cmV0dXJuIDA9PT1DYyh0aGlzLlFhKSYmMD09PUJjKHRoaXMuUWEpfTtjLnByb3RvdHlwZS5mcmVlbWVtPWZ1bmN0aW9uKCl7Zm9yKHZhciBnO3ZvaWQgMCE9PShnPXRoaXMubGIucG9wKCkpOylmYShnKX07Yy5wcm90b3R5cGUuZnJlZT1mdW5jdGlvbigpe3RoaXMuZnJlZW1lbSgpO3ZhciBnPVxuMD09PURjKHRoaXMuUWEpO2RlbGV0ZSB0aGlzLmRiLmZiW3RoaXMuUWFdO3RoaXMuUWE9MDtyZXR1cm4gZ307ZC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmViKXJldHVybntkb25lOiEwfTtudWxsIT09dGhpcy5aYSYmKHRoaXMuWmEuZnJlZSgpLHRoaXMuWmE9bnVsbCk7aWYoIXRoaXMuZGIuZGIpdGhyb3cgdGhpcy5tYigpLEVycm9yKFwiRGF0YWJhc2UgY2xvc2VkXCIpO3ZhciBnPXNhKCksbD16KDQpO3RhKGgpO3RhKGwpO3RyeXt0aGlzLmRiLmhhbmRsZUVycm9yKHFiKHRoaXMuZGIuZGIsdGhpcy5rYiwtMSxoLGwpKTt0aGlzLmtiPW0obCxcImkzMlwiKTt2YXIgbj1tKGgsXCJpMzJcIik7aWYoMD09PW4pcmV0dXJuIHRoaXMubWIoKSx7ZG9uZTohMH07dGhpcy5aYT1uZXcgYyhuLHRoaXMuZGIpO3RoaXMuZGIuZmJbbl09dGhpcy5aYTtyZXR1cm57dmFsdWU6dGhpcy5aYSxkb25lOiExfX1jYXRjaChyKXt0aHJvdyB0aGlzLnBiPXVhKHRoaXMua2IpLHRoaXMubWIoKSxcbnI7fWZpbmFsbHl7d2EoZyl9fTtkLnByb3RvdHlwZS5tYj1mdW5jdGlvbigpe2ZhKHRoaXMuZWIpO3RoaXMuZWI9bnVsbH07ZC5wcm90b3R5cGUuZ2V0UmVtYWluaW5nU1FMPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnBiP3RoaXMucGI6dWEodGhpcy5rYil9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yJiYoZC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSk7ZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcsbCl7aWYoIXRoaXMuZGIpdGhyb3dcIkRhdGFiYXNlIGNsb3NlZFwiO2lmKGwpe2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2cuc3RlcCgpfWZpbmFsbHl7Zy5mcmVlKCl9fWVsc2UgdGhpcy5oYW5kbGVFcnJvcih2KHRoaXMuZGIsZywwLDAsaCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGcsbCxuKXtpZighdGhpcy5kYil0aHJvd1wiRGF0YWJhc2UgY2xvc2VkXCI7XG52YXIgcj1zYSgpLHQ9bnVsbDt0cnl7dmFyIHk9eGEoZyksTD16KDQpO2ZvcihnPVtdOzAhPT1tKHksXCJpOFwiKTspe3RhKGgpO3RhKEwpO3RoaXMuaGFuZGxlRXJyb3IocWIodGhpcy5kYix5LC0xLGgsTCkpO3ZhciBKPW0oaCxcImkzMlwiKTt5PW0oTCxcImkzMlwiKTtpZigwIT09Sil7dmFyIEk9bnVsbDt0PW5ldyBjKEosdGhpcyk7Zm9yKG51bGwhPWwmJnQuYmluZChsKTt0LnN0ZXAoKTspbnVsbD09PUkmJihJPXtjb2x1bW5zOnQuZ2V0Q29sdW1uTmFtZXMoKSx2YWx1ZXM6W119LGcucHVzaChJKSksSS52YWx1ZXMucHVzaCh0LmdldChudWxsLG4pKTt0LmZyZWUoKX19cmV0dXJuIGd9Y2F0Y2goTSl7dGhyb3cgdCYmdC5mcmVlKCksTTt9ZmluYWxseXt3YShyKX19O2UucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24oZyxsLG4scix0KXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgbCYmKHI9bixuPWwsbD12b2lkIDApO2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2Zvcig7Zy5zdGVwKCk7KW4oZy5nZXRBc09iamVjdChudWxsLFxudCkpfWZpbmFsbHl7Zy5mcmVlKCl9aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHIpcmV0dXJuIHIoKX07ZS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbihnLGwpe3RhKGgpO3RoaXMuaGFuZGxlRXJyb3IoRyh0aGlzLmRiLGcsLTEsaCwwKSk7Zz1tKGgsXCJpMzJcIik7aWYoMD09PWcpdGhyb3dcIk5vdGhpbmcgdG8gcHJlcGFyZVwiO3ZhciBuPW5ldyBjKGcsdGhpcyk7bnVsbCE9bCYmbi5iaW5kKGwpO3JldHVybiB0aGlzLmZiW2ddPW59O2UucHJvdG90eXBlLml0ZXJhdGVTdGF0ZW1lbnRzPWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgZChnLHRoaXMpfTtlLnByb3RvdHlwZVtcImV4cG9ydFwiXT1mdW5jdGlvbigpe09iamVjdC52YWx1ZXModGhpcy5mYikuZm9yRWFjaChmdW5jdGlvbihsKXtsLmZyZWUoKX0pO09iamVjdC52YWx1ZXModGhpcy5TYSkuZm9yRWFjaChBKTt0aGlzLlNhPXt9O3RoaXMuaGFuZGxlRXJyb3Iodyh0aGlzLmRiKSk7dmFyIGc9eWEodGhpcy5maWxlbmFtZSk7dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsXG5oKSk7dGhpcy5kYj1tKGgsXCJpMzJcIik7b2IodGhpcy5kYik7cmV0dXJuIGd9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuZGImJihPYmplY3QudmFsdWVzKHRoaXMuZmIpLmZvckVhY2goZnVuY3Rpb24oZyl7Zy5mcmVlKCl9KSxPYmplY3QudmFsdWVzKHRoaXMuU2EpLmZvckVhY2goQSksdGhpcy5TYT17fSx0aGlzLllhJiYoQSh0aGlzLllhKSx0aGlzLllhPXZvaWQgMCksdGhpcy5oYW5kbGVFcnJvcih3KHRoaXMuZGIpKSx6YShcIi9cIit0aGlzLmZpbGVuYW1lKSx0aGlzLmRiPW51bGwpfTtlLnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbihnKXtpZigwPT09ZylyZXR1cm4gbnVsbDtnPXRjKHRoaXMuZGIpO3Rocm93IEVycm9yKGcpO307ZS5wcm90b3R5cGUuZ2V0Um93c01vZGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuIEModGhpcy5kYil9O2UucHJvdG90eXBlLmNyZWF0ZV9mdW5jdGlvbj1mdW5jdGlvbihnLGwpe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLlNhLFxuZykmJihBKHRoaXMuU2FbZ10pLGRlbGV0ZSB0aGlzLlNhW2ddKTt2YXIgbj1BYShmdW5jdGlvbihyLHQseSl7dD1iKHQseSk7dHJ5e3ZhciBMPWwuYXBwbHkobnVsbCx0KX1jYXRjaChKKXt2YShyLEosLTEpO3JldHVybn1hKHIsTCl9LFwidmlpaVwiKTt0aGlzLlNhW2ddPW47dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsbC5sZW5ndGgsMSwwLG4sMCwwLDApKTtyZXR1cm4gdGhpc307ZS5wcm90b3R5cGUuY3JlYXRlX2FnZ3JlZ2F0ZT1mdW5jdGlvbihnLGwpe3ZhciBuPWwuaW5pdHx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scj1sLmZpbmFsaXplfHxmdW5jdGlvbihJKXtyZXR1cm4gSX0sdD1sLnN0ZXA7aWYoIXQpdGhyb3dcIkFuIGFnZ3JlZ2F0ZSBmdW5jdGlvbiBtdXN0IGhhdmUgYSBzdGVwIGZ1bmN0aW9uIGluIFwiK2c7dmFyIHk9e307T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5TYSxnKSYmKEEodGhpcy5TYVtnXSksZGVsZXRlIHRoaXMuU2FbZ10pO2w9ZytcIl9fZmluYWxpemVcIjtcbk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuU2EsbCkmJihBKHRoaXMuU2FbbF0pLGRlbGV0ZSB0aGlzLlNhW2xdKTt2YXIgTD1BYShmdW5jdGlvbihJLE0sUmEpe3ZhciBYPXViKEksMSk7T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoeSxYKXx8KHlbWF09bigpKTtNPWIoTSxSYSk7TT1beVtYXV0uY29uY2F0KE0pO3RyeXt5W1hdPXQuYXBwbHkobnVsbCxNKX1jYXRjaChGYyl7ZGVsZXRlIHlbWF0sdmEoSSxGYywtMSl9fSxcInZpaWlcIiksSj1BYShmdW5jdGlvbihJKXt2YXIgTT11YihJLDEpO3RyeXt2YXIgUmE9cih5W01dKX1jYXRjaChYKXtkZWxldGUgeVtNXTt2YShJLFgsLTEpO3JldHVybn1hKEksUmEpO2RlbGV0ZSB5W01dfSxcInZpXCIpO3RoaXMuU2FbZ109TDt0aGlzLlNhW2xdPUo7dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsdC5sZW5ndGgtMSwxLDAsMCxMLEosMCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS51cGRhdGVIb29rPWZ1bmN0aW9uKGcpe3RoaXMuWWEmJlxuKHZiKHRoaXMuZGIsMCwwKSxBKHRoaXMuWWEpLHRoaXMuWWE9dm9pZCAwKTtnJiYodGhpcy5ZYT1BYShmdW5jdGlvbihsLG4scix0LHkpe3N3aXRjaChuKXtjYXNlIDE4Omw9XCJpbnNlcnRcIjticmVhaztjYXNlIDIzOmw9XCJ1cGRhdGVcIjticmVhaztjYXNlIDk6bD1cImRlbGV0ZVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3dcInVua25vd24gb3BlcmF0aW9uQ29kZSBpbiB1cGRhdGVIb29rIGNhbGxiYWNrOiBcIituO31yPXI/Qih4LHIpOlwiXCI7dD10P0IoeCx0KTpcIlwiO2lmKHk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpdGhyb3dcInJvd0lkIHRvbyBiaWcgdG8gZml0IGluc2lkZSBhIE51bWJlclwiO2cobCxyLHQsTnVtYmVyKHkpKX0sXCJ2aWlpaWpcIiksdmIodGhpcy5kYix0aGlzLllhLDApKX07Zi5EYXRhYmFzZT1lfTt2YXIgQmE9ey4uLmZ9LENhPVwiLi90aGlzLnByb2dyYW1cIixEYT0oYSxiKT0+e3Rocm93IGI7fSxEPVwiXCIsRWEsRmE7XG5pZihjYSl7dmFyIGZzPXJlcXVpcmUoXCJmc1wiKTtyZXF1aXJlKFwicGF0aFwiKTtEPV9fZGlybmFtZStcIi9cIjtGYT1hPT57YT1HYShhKT9uZXcgVVJMKGEpOmE7cmV0dXJuIGZzLnJlYWRGaWxlU3luYyhhKX07RWE9YXN5bmMgYT0+e2E9R2EoYSk/bmV3IFVSTChhKTphO3JldHVybiBmcy5yZWFkRmlsZVN5bmMoYSx2b2lkIDApfTshZi50aGlzUHJvZ3JhbSYmMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoQ2E9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikpO3Byb2Nlc3MuYXJndi5zbGljZSgyKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9Zik7RGE9KGEsYik9Pntwcm9jZXNzLmV4aXRDb2RlPWE7dGhyb3cgYjt9fWVsc2UgaWYoYWF8fGJhKWJhP0Q9c2VsZi5sb2NhdGlvbi5ocmVmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEQ9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLEQ9RC5zdGFydHNXaXRoKFwiYmxvYjpcIik/XG5cIlwiOkQuc2xpY2UoMCxELnJlcGxhY2UoL1s/I10uKi8sXCJcIikubGFzdEluZGV4T2YoXCIvXCIpKzEpLGJhJiYoRmE9YT0+e3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJHRVRcIixhLCExKTtiLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7Yi5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheShiLnJlc3BvbnNlKX0pLEVhPWFzeW5jIGE9PntpZihHYShhKSlyZXR1cm4gbmV3IFByb21pc2UoKGMsZCk9Pnt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYSwhMCk7ZS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2Uub25sb2FkPSgpPT57MjAwPT1lLnN0YXR1c3x8MD09ZS5zdGF0dXMmJmUucmVzcG9uc2U/YyhlLnJlc3BvbnNlKTpkKGUuc3RhdHVzKX07ZS5vbmVycm9yPWQ7ZS5zZW5kKG51bGwpfSk7dmFyIGI9YXdhaXQgZmV0Y2goYSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSk7aWYoYi5vaylyZXR1cm4gYi5hcnJheUJ1ZmZlcigpO3Rocm93IEVycm9yKGIuc3RhdHVzK1xuXCIgOiBcIitiLnVybCk7fTt2YXIgSGE9Zi5wcmludHx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxJYT1mLnByaW50RXJyfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihmLEJhKTtCYT1udWxsO2YudGhpc1Byb2dyYW0mJihDYT1mLnRoaXNQcm9ncmFtKTt2YXIgSmE9Zi53YXNtQmluYXJ5LEthLExhPSExLE1hLHAseCxOYSxFLEYsT2EsSCxQYSxHYT1hPT5hLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpO1xuZnVuY3Rpb24gUWEoKXt2YXIgYT1LYS5idWZmZXI7Zi5IRUFQOD1wPW5ldyBJbnQ4QXJyYXkoYSk7Zi5IRUFQMTY9TmE9bmV3IEludDE2QXJyYXkoYSk7Zi5IRUFQVTg9eD1uZXcgVWludDhBcnJheShhKTtmLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGEpO2YuSEVBUDMyPUU9bmV3IEludDMyQXJyYXkoYSk7Zi5IRUFQVTMyPUY9bmV3IFVpbnQzMkFycmF5KGEpO2YuSEVBUEYzMj1PYT1uZXcgRmxvYXQzMkFycmF5KGEpO2YuSEVBUEY2ND1QYT1uZXcgRmxvYXQ2NEFycmF5KGEpO2YuSEVBUDY0PUg9bmV3IEJpZ0ludDY0QXJyYXkoYSk7Zi5IRUFQVTY0PW5ldyBCaWdVaW50NjRBcnJheShhKX12YXIgSz0wLFNhPW51bGw7ZnVuY3Rpb24gVGEoYSl7Zi5vbkFib3J0Py4oYSk7YT1cIkFib3J0ZWQoXCIrYStcIilcIjtJYShhKTtMYT0hMDt0aHJvdyBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGErXCIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uXCIpO312YXIgVWE7XG5hc3luYyBmdW5jdGlvbiBWYShhKXtpZighSmEpdHJ5e3ZhciBiPWF3YWl0IEVhKGEpO3JldHVybiBuZXcgVWludDhBcnJheShiKX1jYXRjaHt9aWYoYT09VWEmJkphKWE9bmV3IFVpbnQ4QXJyYXkoSmEpO2Vsc2UgaWYoRmEpYT1GYShhKTtlbHNlIHRocm93XCJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZFwiO3JldHVybiBhfWFzeW5jIGZ1bmN0aW9uIFdhKGEsYil7dHJ5e3ZhciBjPWF3YWl0IFZhKGEpO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShjLGIpfWNhdGNoKGQpe0lhKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke2R9YCksVGEoZCl9fVxuYXN5bmMgZnVuY3Rpb24gWGEoYSl7dmFyIGI9VWE7aWYoIUphJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyYmIUdhKGIpJiYhY2EpdHJ5e3ZhciBjPWZldGNoKGIse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhjLGEpfWNhdGNoKGQpe0lhKGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtkfWApLElhKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIil9cmV0dXJuIFdhKGIsYSl9Y2xhc3MgWWF7bmFtZT1cIkV4aXRTdGF0dXNcIjtjb25zdHJ1Y3RvcihhKXt0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHthfSlgO3RoaXMuc3RhdHVzPWF9fVxudmFyIFphPWE9Pntmb3IoOzA8YS5sZW5ndGg7KWEuc2hpZnQoKShmKX0sJGE9W10sYWI9W10sYmI9KCk9Pnt2YXIgYT1mLnByZVJ1bi5zaGlmdCgpO2FiLnVuc2hpZnQoYSl9O2Z1bmN0aW9uIG0oYSxiPVwiaThcIil7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cmV0dXJuIHBbYV07Y2FzZSBcImk4XCI6cmV0dXJuIHBbYV07Y2FzZSBcImkxNlwiOnJldHVybiBOYVthPj4xXTtjYXNlIFwiaTMyXCI6cmV0dXJuIEVbYT4+Ml07Y2FzZSBcImk2NFwiOnJldHVybiBIW2E+PjNdO2Nhc2UgXCJmbG9hdFwiOnJldHVybiBPYVthPj4yXTtjYXNlIFwiZG91YmxlXCI6cmV0dXJuIFBhW2E+PjNdO2Nhc2UgXCIqXCI6cmV0dXJuIEZbYT4+Ml07ZGVmYXVsdDpUYShgaW52YWxpZCB0eXBlIGZvciBnZXRWYWx1ZTogJHtifWApfX12YXIgY2I9Zi5ub0V4aXRSdW50aW1lfHwhMDtcbmZ1bmN0aW9uIHRhKGEpe3ZhciBiPVwiaTMyXCI7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cFthXT0wO2JyZWFrO2Nhc2UgXCJpOFwiOnBbYV09MDticmVhaztjYXNlIFwiaTE2XCI6TmFbYT4+MV09MDticmVhaztjYXNlIFwiaTMyXCI6RVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJpNjRcIjpIW2E+PjNdPUJpZ0ludCgwKTticmVhaztjYXNlIFwiZmxvYXRcIjpPYVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJkb3VibGVcIjpQYVthPj4zXT0wO2JyZWFrO2Nhc2UgXCIqXCI6RlthPj4yXT0wO2JyZWFrO2RlZmF1bHQ6VGEoYGludmFsaWQgdHlwZSBmb3Igc2V0VmFsdWU6ICR7Yn1gKX19XG52YXIgZGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBUZXh0RGVjb2Rlcjp2b2lkIDAsQj0oYSxiPTAsYz1OYU4pPT57dmFyIGQ9YitjO2ZvcihjPWI7YVtjXSYmIShjPj1kKTspKytjO2lmKDE2PGMtYiYmYS5idWZmZXImJmRiKXJldHVybiBkYi5kZWNvZGUoYS5zdWJhcnJheShiLGMpKTtmb3IoZD1cIlwiO2I8Yzspe3ZhciBlPWFbYisrXTtpZihlJjEyOCl7dmFyIGg9YVtiKytdJjYzO2lmKDE5Mj09KGUmMjI0KSlkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChlJjMxKTw8NnxoKTtlbHNle3ZhciBrPWFbYisrXSY2MztlPTIyND09KGUmMjQwKT8oZSYxNSk8PDEyfGg8PDZ8azooZSY3KTw8MTh8aDw8MTJ8azw8NnxhW2IrK10mNjM7NjU1MzY+ZT9kKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOihlLT02NTUzNixkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGU+PjEwLDU2MzIwfGUmMTAyMykpfX1lbHNlIGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSl9cmV0dXJuIGR9LFxudWE9KGEsYik9PmE/Qih4LGEsYik6XCJcIixlYj0oYSxiKT0+e2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXTtcIi5cIj09PWU/YS5zcGxpY2UoZCwxKTpcIi4uXCI9PT1lPyhhLnNwbGljZShkLDEpLGMrKyk6YyYmKGEuc3BsaWNlKGQsMSksYy0tKX1pZihiKWZvcig7YztjLS0pYS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGF9LGthPWE9Pnt2YXIgYj1cIi9cIj09PWEuY2hhckF0KDApLGM9XCIvXCI9PT1hLnNsaWNlKC0xKTsoYT1lYihhLnNwbGl0KFwiL1wiKS5maWx0ZXIoZD0+ISFkKSwhYikuam9pbihcIi9cIikpfHxifHwoYT1cIi5cIik7YSYmYyYmKGErPVwiL1wiKTtyZXR1cm4oYj9cIi9cIjpcIlwiKSthfSxmYj1hPT57dmFyIGI9L14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8uZXhlYyhhKS5zbGljZSgxKTthPWJbMF07Yj1iWzFdO2lmKCFhJiYhYilyZXR1cm5cIi5cIjtiJiY9Yi5zbGljZSgwLC0xKTtyZXR1cm4gYStifSxcbmdiPWE9PmEmJmEubWF0Y2goLyhbXlxcL10rfFxcLylcXC8qJC8pWzFdLGhiPSgpPT57aWYoY2Epe3ZhciBhPXJlcXVpcmUoXCJjcnlwdG9cIik7cmV0dXJuIGI9PmEucmFuZG9tRmlsbFN5bmMoYil9cmV0dXJuIGI9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYil9LGliPWE9PnsoaWI9aGIoKSkoYSl9LGpiPSguLi5hKT0+e2Zvcih2YXIgYj1cIlwiLGM9ITEsZD1hLmxlbmd0aC0xOy0xPD1kJiYhYztkLS0pe2M9MDw9ZD9hW2RdOlwiL1wiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBjKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtpZighYylyZXR1cm5cIlwiO2I9YytcIi9cIitiO2M9XCIvXCI9PT1jLmNoYXJBdCgwKX1iPWViKGIuc3BsaXQoXCIvXCIpLmZpbHRlcihlPT4hIWUpLCFjKS5qb2luKFwiL1wiKTtyZXR1cm4oYz9cIi9cIjpcIlwiKStifHxcIi5cIn0sa2I9W10saGE9YT0+e2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpO1xuMTI3Pj1kP2IrKzoyMDQ3Pj1kP2IrPTI6NTUyOTY8PWQmJjU3MzQzPj1kPyhiKz00LCsrYyk6Yis9M31yZXR1cm4gYn0sdT0oYSxiLGMsZCk9PntpZighKDA8ZCkpcmV0dXJuIDA7dmFyIGU9YztkPWMrZC0xO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7KytoKXt2YXIgaz1hLmNoYXJDb2RlQXQoaCk7aWYoNTUyOTY8PWsmJjU3MzQzPj1rKXt2YXIgcT1hLmNoYXJDb2RlQXQoKytoKTtrPTY1NTM2KygoayYxMDIzKTw8MTApfHEmMTAyM31pZigxMjc+PWspe2lmKGM+PWQpYnJlYWs7YltjKytdPWt9ZWxzZXtpZigyMDQ3Pj1rKXtpZihjKzE+PWQpYnJlYWs7YltjKytdPTE5MnxrPj42fWVsc2V7aWYoNjU1MzU+PWspe2lmKGMrMj49ZClicmVhaztiW2MrK109MjI0fGs+PjEyfWVsc2V7aWYoYyszPj1kKWJyZWFrO2JbYysrXT0yNDB8az4+MTg7YltjKytdPTEyOHxrPj4xMiY2M31iW2MrK109MTI4fGs+PjYmNjN9YltjKytdPTEyOHxrJjYzfX1iW2NdPTA7cmV0dXJuIGMtZX0scmE9KGEsYik9Plxue3ZhciBjPUFycmF5KGhhKGEpKzEpO2E9dShhLGMsMCxjLmxlbmd0aCk7YiYmKGMubGVuZ3RoPWEpO3JldHVybiBjfSxtYj1bXTtmdW5jdGlvbiBuYihhLGIpe21iW2FdPXtpbnB1dDpbXSxvdXRwdXQ6W10sY2I6Yn07d2IoYSx4Yil9XG52YXIgeGI9e29wZW4oYSl7dmFyIGI9bWJbYS5ub2RlLnJkZXZdO2lmKCFiKXRocm93IG5ldyBOKDQzKTthLnR0eT1iO2Euc2Vla2FibGU9ITF9LGNsb3NlKGEpe2EudHR5LmNiLmZzeW5jKGEudHR5KX0sZnN5bmMoYSl7YS50dHkuY2IuZnN5bmMoYS50dHkpfSxyZWFkKGEsYixjLGQpe2lmKCFhLnR0eXx8IWEudHR5LmNiLnhiKXRocm93IG5ldyBOKDYwKTtmb3IodmFyIGU9MCxoPTA7aDxkO2grKyl7dHJ5e3ZhciBrPWEudHR5LmNiLnhiKGEudHR5KX1jYXRjaChxKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PWsmJjA9PT1lKXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1rfHx2b2lkIDA9PT1rKWJyZWFrO2UrKztiW2MraF09a31lJiYoYS5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiBlfSx3cml0ZShhLGIsYyxkKXtpZighYS50dHl8fCFhLnR0eS5jYi5xYil0aHJvdyBuZXcgTig2MCk7dHJ5e2Zvcih2YXIgZT0wO2U8ZDtlKyspYS50dHkuY2IucWIoYS50dHksYltjK2VdKX1jYXRjaChoKXt0aHJvdyBuZXcgTigyOSk7XG59ZCYmKGEubm9kZS5tdGltZT1hLm5vZGUuY3RpbWU9RGF0ZS5ub3coKSk7cmV0dXJuIGV9fSx5Yj17eGIoKXthOntpZigha2IubGVuZ3RoKXt2YXIgYT1udWxsO2lmKGNhKXt2YXIgYj1CdWZmZXIuYWxsb2MoMjU2KSxjPTAsZD1wcm9jZXNzLnN0ZGluLmZkO3RyeXtjPWZzLnJlYWRTeW5jKGQsYiwwLDI1Nil9Y2F0Y2goZSl7aWYoZS50b1N0cmluZygpLmluY2x1ZGVzKFwiRU9GXCIpKWM9MDtlbHNlIHRocm93IGU7fTA8YyYmKGE9Yi5zbGljZSgwLGMpLnRvU3RyaW5nKFwidXRmLThcIikpfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucHJvbXB0JiYoYT13aW5kb3cucHJvbXB0KFwiSW5wdXQ6IFwiKSxudWxsIT09YSYmKGErPVwiXFxuXCIpKTtpZighYSl7YT1udWxsO2JyZWFrIGF9a2I9cmEoYSwhMCl9YT1rYi5zaGlmdCgpfXJldHVybiBhfSxxYihhLGIpe251bGw9PT1ifHwxMD09PWI/KEhhKEIoYS5vdXRwdXQpKSxhLm91dHB1dD1bXSk6XG4wIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihIYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfSxUYigpe3JldHVybntPYjoyNTg1NixRYjo1LE5iOjE5MSxQYjozNTM4NyxNYjpbMywyOCwxMjcsMjEsNCwwLDEsMCwxNywxOSwyNiwwLDE4LDE1LDIzLDIyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfX0sVWIoKXtyZXR1cm4gMH0sVmIoKXtyZXR1cm5bMjQsODBdfX0semI9e3FiKGEsYil7bnVsbD09PWJ8fDEwPT09Yj8oSWEoQihhLm91dHB1dCkpLGEub3V0cHV0PVtdKTowIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihJYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfX0sTz17V2E6bnVsbCxYYSgpe3JldHVybiBPLmNyZWF0ZU5vZGUobnVsbCxcIi9cIiwxNjg5NSwwKX0sY3JlYXRlTm9kZShhLGIsYyxkKXtpZigyNDU3Nj09PShjJjYxNDQwKXx8NDA5Nj09PShjJjYxNDQwKSl0aHJvdyBuZXcgTig2Myk7XG5PLldhfHwoTy5XYT17ZGlyOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWEsbG9va3VwOk8uTGEubG9va3VwLGhiOk8uTGEuaGIscmVuYW1lOk8uTGEucmVuYW1lLHVubGluazpPLkxhLnVubGluayxybWRpcjpPLkxhLnJtZGlyLHJlYWRkaXI6Ty5MYS5yZWFkZGlyLHN5bWxpbms6Ty5MYS5zeW1saW5rfSxzdHJlYW06e1ZhOk8uTWEuVmF9fSxmaWxlOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTp7VmE6Ty5NYS5WYSxyZWFkOk8uTWEucmVhZCx3cml0ZTpPLk1hLndyaXRlLGliOk8uTWEuaWIsamI6Ty5NYS5qYn19LGxpbms6e25vZGU6e1RhOk8uTGEuVGEsVWE6Ty5MYS5VYSxyZWFkbGluazpPLkxhLnJlYWRsaW5rfSxzdHJlYW06e319LHViOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTpBYn19KTtjPUJiKGEsYixjLGQpO1AoYy5tb2RlKT8oYy5MYT1PLldhLmRpci5ub2RlLGMuTWE9Ty5XYS5kaXIuc3RyZWFtLGMuTmE9e30pOjMyNzY4PT09XG4oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmZpbGUubm9kZSxjLk1hPU8uV2EuZmlsZS5zdHJlYW0sYy5SYT0wLGMuTmE9bnVsbCk6NDA5NjA9PT0oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmxpbmsubm9kZSxjLk1hPU8uV2EubGluay5zdHJlYW0pOjgxOTI9PT0oYy5tb2RlJjYxNDQwKSYmKGMuTGE9Ty5XYS51Yi5ub2RlLGMuTWE9Ty5XYS51Yi5zdHJlYW0pO2MuYXRpbWU9Yy5tdGltZT1jLmN0aW1lPURhdGUubm93KCk7YSYmKGEuTmFbYl09YyxhLmF0aW1lPWEubXRpbWU9YS5jdGltZT1jLmF0aW1lKTtyZXR1cm4gY30sU2IoYSl7cmV0dXJuIGEuTmE/YS5OYS5zdWJhcnJheT9hLk5hLnN1YmFycmF5KDAsYS5SYSk6bmV3IFVpbnQ4QXJyYXkoYS5OYSk6bmV3IFVpbnQ4QXJyYXkoMCl9LExhOntUYShhKXt2YXIgYj17fTtiLmRldj04MTkyPT09KGEubW9kZSY2MTQ0MCk/YS5pZDoxO2IuaW5vPWEuaWQ7Yi5tb2RlPWEubW9kZTtiLm5saW5rPTE7Yi51aWQ9MDtiLmdpZD0wO2IucmRldj1cbmEucmRldjtQKGEubW9kZSk/Yi5zaXplPTQwOTY6MzI3Njg9PT0oYS5tb2RlJjYxNDQwKT9iLnNpemU9YS5SYTo0MDk2MD09PShhLm1vZGUmNjE0NDApP2Iuc2l6ZT1hLmxpbmsubGVuZ3RoOmIuc2l6ZT0wO2IuYXRpbWU9bmV3IERhdGUoYS5hdGltZSk7Yi5tdGltZT1uZXcgRGF0ZShhLm10aW1lKTtiLmN0aW1lPW5ldyBEYXRlKGEuY3RpbWUpO2IuYmxrc2l6ZT00MDk2O2IuYmxvY2tzPU1hdGguY2VpbChiLnNpemUvYi5ibGtzaXplKTtyZXR1cm4gYn0sVWEoYSxiKXtmb3IodmFyIGMgb2ZbXCJtb2RlXCIsXCJhdGltZVwiLFwibXRpbWVcIixcImN0aW1lXCJdKW51bGwhPWJbY10mJihhW2NdPWJbY10pO3ZvaWQgMCE9PWIuc2l6ZSYmKGI9Yi5zaXplLGEuUmEhPWImJigwPT1iPyhhLk5hPW51bGwsYS5SYT0wKTooYz1hLk5hLGEuTmE9bmV3IFVpbnQ4QXJyYXkoYiksYyYmYS5OYS5zZXQoYy5zdWJhcnJheSgwLE1hdGgubWluKGIsYS5SYSkpKSxhLlJhPWIpKSl9LGxvb2t1cCgpe3Rocm93IE8udmI7XG59LGhiKGEsYixjLGQpe3JldHVybiBPLmNyZWF0ZU5vZGUoYSxiLGMsZCl9LHJlbmFtZShhLGIsYyl7dHJ5e3ZhciBkPVEoYixjKX1jYXRjaChoKXt9aWYoZCl7aWYoUChhLm1vZGUpKWZvcih2YXIgZSBpbiBkLk5hKXRocm93IG5ldyBOKDU1KTtDYihkKX1kZWxldGUgYS5wYXJlbnQuTmFbYS5uYW1lXTtiLk5hW2NdPWE7YS5uYW1lPWM7Yi5jdGltZT1iLm10aW1lPWEucGFyZW50LmN0aW1lPWEucGFyZW50Lm10aW1lPURhdGUubm93KCl9LHVubGluayhhLGIpe2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxybWRpcihhLGIpe3ZhciBjPVEoYSxiKSxkO2ZvcihkIGluIGMuTmEpdGhyb3cgbmV3IE4oNTUpO2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxyZWFkZGlyKGEpe3JldHVybltcIi5cIixcIi4uXCIsLi4uT2JqZWN0LmtleXMoYS5OYSldfSxzeW1saW5rKGEsYixjKXthPU8uY3JlYXRlTm9kZShhLGIsNDE0NzEsMCk7YS5saW5rPVxuYztyZXR1cm4gYX0scmVhZGxpbmsoYSl7aWYoNDA5NjAhPT0oYS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7cmV0dXJuIGEubGlua319LE1hOntyZWFkKGEsYixjLGQsZSl7dmFyIGg9YS5ub2RlLk5hO2lmKGU+PWEubm9kZS5SYSlyZXR1cm4gMDthPU1hdGgubWluKGEubm9kZS5SYS1lLGQpO2lmKDg8YSYmaC5zdWJhcnJheSliLnNldChoLnN1YmFycmF5KGUsZSthKSxjKTtlbHNlIGZvcihkPTA7ZDxhO2QrKyliW2MrZF09aFtlK2RdO3JldHVybiBhfSx3cml0ZShhLGIsYyxkLGUsaCl7Yi5idWZmZXI9PT1wLmJ1ZmZlciYmKGg9ITEpO2lmKCFkKXJldHVybiAwO2E9YS5ub2RlO2EubXRpbWU9YS5jdGltZT1EYXRlLm5vdygpO2lmKGIuc3ViYXJyYXkmJighYS5OYXx8YS5OYS5zdWJhcnJheSkpe2lmKGgpcmV0dXJuIGEuTmE9Yi5zdWJhcnJheShjLGMrZCksYS5SYT1kO2lmKDA9PT1hLlJhJiYwPT09ZSlyZXR1cm4gYS5OYT1iLnNsaWNlKGMsYytkKSxhLlJhPWQ7aWYoZStkPD1hLlJhKXJldHVybiBhLk5hLnNldChiLnN1YmFycmF5KGMsXG5jK2QpLGUpLGR9aD1lK2Q7dmFyIGs9YS5OYT9hLk5hLmxlbmd0aDowO2s+PWh8fChoPU1hdGgubWF4KGgsayooMTA0ODU3Nj5rPzI6MS4xMjUpPj4+MCksMCE9ayYmKGg9TWF0aC5tYXgoaCwyNTYpKSxrPWEuTmEsYS5OYT1uZXcgVWludDhBcnJheShoKSwwPGEuUmEmJmEuTmEuc2V0KGsuc3ViYXJyYXkoMCxhLlJhKSwwKSk7aWYoYS5OYS5zdWJhcnJheSYmYi5zdWJhcnJheSlhLk5hLnNldChiLnN1YmFycmF5KGMsYytkKSxlKTtlbHNlIGZvcihoPTA7aDxkO2grKylhLk5hW2UraF09YltjK2hdO2EuUmE9TWF0aC5tYXgoYS5SYSxlK2QpO3JldHVybiBkfSxWYShhLGIsYyl7MT09PWM/Yis9YS5wb3NpdGlvbjoyPT09YyYmMzI3Njg9PT0oYS5ub2RlLm1vZGUmNjE0NDApJiYoYis9YS5ub2RlLlJhKTtpZigwPmIpdGhyb3cgbmV3IE4oMjgpO3JldHVybiBifSxpYihhLGIsYyxkLGUpe2lmKDMyNzY4IT09KGEubm9kZS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTig0Myk7YT1hLm5vZGUuTmE7XG5pZihlJjJ8fCFhfHxhLmJ1ZmZlciE9PXAuYnVmZmVyKXtlPSEwO2Q9NjU1MzYqTWF0aC5jZWlsKGIvNjU1MzYpO3ZhciBoPURiKDY1NTM2LGQpO2gmJnguZmlsbCgwLGgsaCtkKTtkPWg7aWYoIWQpdGhyb3cgbmV3IE4oNDgpO2lmKGEpe2lmKDA8Y3x8YytiPGEubGVuZ3RoKWEuc3ViYXJyYXk/YT1hLnN1YmFycmF5KGMsYytiKTphPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsYyxjK2IpO3Auc2V0KGEsZCl9fWVsc2UgZT0hMSxkPWEuYnl0ZU9mZnNldDtyZXR1cm57S2I6ZCxBYjplfX0samIoYSxiLGMsZCl7Ty5NYS53cml0ZShhLGIsMCxkLGMsITEpO3JldHVybiAwfX19LGxhPShhLGIpPT57dmFyIGM9MDthJiYoY3w9MzY1KTtiJiYoY3w9MTQ2KTtyZXR1cm4gY30sRWI9bnVsbCxGYj17fSxHYj1bXSxIYj0xLFI9bnVsbCxJYj0hMSxKYj0hMCxLYj17fSxOPWNsYXNze25hbWU9XCJFcnJub0Vycm9yXCI7Y29uc3RydWN0b3IoYSl7dGhpcy5QYT1hfX0sTGI9Y2xhc3N7Z2I9e307bm9kZT1udWxsO2dldCBmbGFncygpe3JldHVybiB0aGlzLmdiLmZsYWdzfXNldCBmbGFncyhhKXt0aGlzLmdiLmZsYWdzPVxuYX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5nYi5wb3NpdGlvbn1zZXQgcG9zaXRpb24oYSl7dGhpcy5nYi5wb3NpdGlvbj1hfX0sTWI9Y2xhc3N7TGE9e307TWE9e307YWI9bnVsbDtjb25zdHJ1Y3RvcihhLGIsYyxkKXthfHw9dGhpczt0aGlzLnBhcmVudD1hO3RoaXMuWGE9YS5YYTt0aGlzLmlkPUhiKys7dGhpcy5uYW1lPWI7dGhpcy5tb2RlPWM7dGhpcy5yZGV2PWQ7dGhpcy5hdGltZT10aGlzLm10aW1lPXRoaXMuY3RpbWU9RGF0ZS5ub3coKX1nZXQgcmVhZCgpe3JldHVybiAzNjU9PT0odGhpcy5tb2RlJjM2NSl9c2V0IHJlYWQoYSl7YT90aGlzLm1vZGV8PTM2NTp0aGlzLm1vZGUmPS0zNjZ9Z2V0IHdyaXRlKCl7cmV0dXJuIDE0Nj09PSh0aGlzLm1vZGUmMTQ2KX1zZXQgd3JpdGUoYSl7YT90aGlzLm1vZGV8PTE0Njp0aGlzLm1vZGUmPS0xNDd9fTtcbmZ1bmN0aW9uIFMoYSxiPXt9KXtpZighYSl0aHJvdyBuZXcgTig0NCk7Yi5uYj8/KGIubmI9ITApO1wiL1wiPT09YS5jaGFyQXQoMCl8fChhPVwiLy9cIithKTt2YXIgYz0wO2E6Zm9yKDs0MD5jO2MrKyl7YT1hLnNwbGl0KFwiL1wiKS5maWx0ZXIocT0+ISFxKTtmb3IodmFyIGQ9RWIsZT1cIi9cIixoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBrPWg9PT1hLmxlbmd0aC0xO2lmKGsmJmIucGFyZW50KWJyZWFrO2lmKFwiLlwiIT09YVtoXSlpZihcIi4uXCI9PT1hW2hdKWU9ZmIoZSksZD1kLnBhcmVudDtlbHNle2U9a2EoZStcIi9cIithW2hdKTt0cnl7ZD1RKGQsYVtoXSl9Y2F0Y2gocSl7aWYoNDQ9PT1xPy5QYSYmayYmYi5KYilyZXR1cm57cGF0aDplfTt0aHJvdyBxO30hZC5hYnx8ayYmIWIubmJ8fChkPWQuYWIucm9vdCk7aWYoNDA5NjA9PT0oZC5tb2RlJjYxNDQwKSYmKCFrfHxiLiRhKSl7aWYoIWQuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oNTIpO2Q9ZC5MYS5yZWFkbGluayhkKTtcIi9cIj09PWQuY2hhckF0KDApfHxcbihkPWZiKGUpK1wiL1wiK2QpO2E9ZCtcIi9cIithLnNsaWNlKGgrMSkuam9pbihcIi9cIik7Y29udGludWUgYX19fXJldHVybntwYXRoOmUsbm9kZTpkfX10aHJvdyBuZXcgTigzMik7fWZ1bmN0aW9uIGphKGEpe2Zvcih2YXIgYjs7KXtpZihhPT09YS5wYXJlbnQpcmV0dXJuIGE9YS5YYS56YixiP1wiL1wiIT09YVthLmxlbmd0aC0xXT9gJHthfS8ke2J9YDphK2I6YTtiPWI/YCR7YS5uYW1lfS8ke2J9YDphLm5hbWU7YT1hLnBhcmVudH19ZnVuY3Rpb24gTmIoYSxiKXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0oYzw8NSktYytiLmNoYXJDb2RlQXQoZCl8MDtyZXR1cm4oYStjPj4+MCklUi5sZW5ndGh9ZnVuY3Rpb24gQ2IoYSl7dmFyIGI9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTtpZihSW2JdPT09YSlSW2JdPWEuYmI7ZWxzZSBmb3IoYj1SW2JdO2I7KXtpZihiLmJiPT09YSl7Yi5iYj1hLmJiO2JyZWFrfWI9Yi5iYn19XG5mdW5jdGlvbiBRKGEsYil7dmFyIGM9UChhLm1vZGUpPyhjPU9iKGEsXCJ4XCIpKT9jOmEuTGEubG9va3VwPzA6Mjo1NDtpZihjKXRocm93IG5ldyBOKGMpO2ZvcihjPVJbTmIoYS5pZCxiKV07YztjPWMuYmIpe3ZhciBkPWMubmFtZTtpZihjLnBhcmVudC5pZD09PWEuaWQmJmQ9PT1iKXJldHVybiBjfXJldHVybiBhLkxhLmxvb2t1cChhLGIpfWZ1bmN0aW9uIEJiKGEsYixjLGQpe2E9bmV3IE1iKGEsYixjLGQpO2I9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTthLmJiPVJbYl07cmV0dXJuIFJbYl09YX1mdW5jdGlvbiBQKGEpe3JldHVybiAxNjM4ND09PShhJjYxNDQwKX1mdW5jdGlvbiBQYihhKXt2YXIgYj1bXCJyXCIsXCJ3XCIsXCJyd1wiXVthJjNdO2EmNTEyJiYoYis9XCJ3XCIpO3JldHVybiBifVxuZnVuY3Rpb24gT2IoYSxiKXtpZihKYilyZXR1cm4gMDtpZighYi5pbmNsdWRlcyhcInJcIil8fGEubW9kZSYyOTIpe2lmKGIuaW5jbHVkZXMoXCJ3XCIpJiYhKGEubW9kZSYxNDYpfHxiLmluY2x1ZGVzKFwieFwiKSYmIShhLm1vZGUmNzMpKXJldHVybiAyfWVsc2UgcmV0dXJuIDI7cmV0dXJuIDB9ZnVuY3Rpb24gUWIoYSxiKXtpZighUChhLm1vZGUpKXJldHVybiA1NDt0cnl7cmV0dXJuIFEoYSxiKSwyMH1jYXRjaChjKXt9cmV0dXJuIE9iKGEsXCJ3eFwiKX1mdW5jdGlvbiBSYihhLGIsYyl7dHJ5e3ZhciBkPVEoYSxiKX1jYXRjaChlKXtyZXR1cm4gZS5QYX1pZihhPU9iKGEsXCJ3eFwiKSlyZXR1cm4gYTtpZihjKXtpZighUChkLm1vZGUpKXJldHVybiA1NDtpZihkPT09ZC5wYXJlbnR8fFwiL1wiPT09amEoZCkpcmV0dXJuIDEwfWVsc2UgaWYoUChkLm1vZGUpKXJldHVybiAzMTtyZXR1cm4gMH1mdW5jdGlvbiBTYihhKXtpZighYSl0aHJvdyBuZXcgTig2Myk7cmV0dXJuIGF9XG5mdW5jdGlvbiBUKGEpe2E9R2JbYV07aWYoIWEpdGhyb3cgbmV3IE4oOCk7cmV0dXJuIGF9ZnVuY3Rpb24gVGIoYSxiPS0xKXthPU9iamVjdC5hc3NpZ24obmV3IExiLGEpO2lmKC0xPT1iKWE6e2ZvcihiPTA7NDA5Nj49YjtiKyspaWYoIUdiW2JdKWJyZWFrIGE7dGhyb3cgbmV3IE4oMzMpO31hLmZkPWI7cmV0dXJuIEdiW2JdPWF9ZnVuY3Rpb24gVWIoYSxiPS0xKXthPVRiKGEsYik7YS5NYT8uUmI/LihhKTtyZXR1cm4gYX1mdW5jdGlvbiBWYihhLGIsYyl7dmFyIGQ9YT8uTWEuVWE7YT1kP2E6YjtkPz89Yi5MYS5VYTtTYihkKTtkKGEsYyl9dmFyIEFiPXtvcGVuKGEpe2EuTWE9RmJbYS5ub2RlLnJkZXZdLk1hO2EuTWEub3Blbj8uKGEpfSxWYSgpe3Rocm93IG5ldyBOKDcwKTt9fTtmdW5jdGlvbiB3YihhLGIpe0ZiW2FdPXtNYTpifX1cbmZ1bmN0aW9uIFdiKGEsYil7dmFyIGM9XCIvXCI9PT1iO2lmKGMmJkViKXRocm93IG5ldyBOKDEwKTtpZighYyYmYil7dmFyIGQ9UyhiLHtuYjohMX0pO2I9ZC5wYXRoO2Q9ZC5ub2RlO2lmKGQuYWIpdGhyb3cgbmV3IE4oMTApO2lmKCFQKGQubW9kZSkpdGhyb3cgbmV3IE4oNTQpO31iPXt0eXBlOmEsV2I6e30semI6YixJYjpbXX07YT1hLlhhKGIpO2EuWGE9YjtiLnJvb3Q9YTtjP0ViPWE6ZCYmKGQuYWI9YixkLlhhJiZkLlhhLkliLnB1c2goYikpfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZD1TKGEse3BhcmVudDohMH0pLm5vZGU7YT1nYihhKTtpZighYSl0aHJvdyBuZXcgTigyOCk7aWYoXCIuXCI9PT1hfHxcIi4uXCI9PT1hKXRocm93IG5ldyBOKDIwKTt2YXIgZT1RYihkLGEpO2lmKGUpdGhyb3cgbmV3IE4oZSk7aWYoIWQuTGEuaGIpdGhyb3cgbmV3IE4oNjMpO3JldHVybiBkLkxhLmhiKGQsYSxiLGMpfVxuZnVuY3Rpb24gbWEoYSxiPTQzOCl7cmV0dXJuIFhiKGEsYiY0MDk1fDMyNzY4LDApfWZ1bmN0aW9uIFUoYSxiPTUxMSl7cmV0dXJuIFhiKGEsYiYxMDIzfDE2Mzg0LDApfWZ1bmN0aW9uIFliKGEsYixjKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgYyYmKGM9YixiPTQzOCk7WGIoYSxifDgxOTIsYyl9ZnVuY3Rpb24gWmIoYSxiKXtpZighamIoYSkpdGhyb3cgbmV3IE4oNDQpO3ZhciBjPVMoYix7cGFyZW50OiEwfSkubm9kZTtpZighYyl0aHJvdyBuZXcgTig0NCk7Yj1nYihiKTt2YXIgZD1RYihjLGIpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWMuTGEuc3ltbGluayl0aHJvdyBuZXcgTig2Myk7Yy5MYS5zeW1saW5rKGMsYixhKX1cbmZ1bmN0aW9uICRiKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTthPWdiKGEpO3ZhciBjPVEoYixhKSxkPVJiKGIsYSwhMCk7aWYoZCl0aHJvdyBuZXcgTihkKTtpZighYi5MYS5ybWRpcil0aHJvdyBuZXcgTig2Myk7aWYoYy5hYil0aHJvdyBuZXcgTigxMCk7Yi5MYS5ybWRpcihiLGEpO0NiKGMpfWZ1bmN0aW9uIHphKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTtpZighYil0aHJvdyBuZXcgTig0NCk7YT1nYihhKTt2YXIgYz1RKGIsYSksZD1SYihiLGEsITEpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWIuTGEudW5saW5rKXRocm93IG5ldyBOKDYzKTtpZihjLmFiKXRocm93IG5ldyBOKDEwKTtiLkxhLnVubGluayhiLGEpO0NiKGMpfWZ1bmN0aW9uIGFjKGEsYil7YT1TKGEseyRhOiFifSkubm9kZTtyZXR1cm4gU2IoYS5MYS5UYSkoYSl9XG5mdW5jdGlvbiBiYyhhLGIsYyxkKXtWYihhLGIse21vZGU6YyY0MDk1fGIubW9kZSYtNDA5NixjdGltZTpEYXRlLm5vdygpLEZiOmR9KX1mdW5jdGlvbiBuYShhLGIpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/UyhhLHskYTohMH0pLm5vZGU6YTtiYyhudWxsLGEsYil9ZnVuY3Rpb24gY2MoYSxiLGMpe2lmKFAoYi5tb2RlKSl0aHJvdyBuZXcgTigzMSk7aWYoMzI3NjghPT0oYi5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7dmFyIGQ9T2IoYixcIndcIik7aWYoZCl0aHJvdyBuZXcgTihkKTtWYihhLGIse3NpemU6Yyx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfVxuZnVuY3Rpb24gb2EoYSxiLGM9NDM4KXtpZihcIlwiPT09YSl0aHJvdyBuZXcgTig0NCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe3ZhciBkPXtyOjAsXCJyK1wiOjIsdzo1NzcsXCJ3K1wiOjU3OCxhOjEwODksXCJhK1wiOjEwOTB9W2JdO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKXRocm93IEVycm9yKGBVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAke2J9YCk7Yj1kfWM9YiY2ND9jJjQwOTV8MzI3Njg6MDtpZihcIm9iamVjdFwiPT10eXBlb2YgYSlkPWE7ZWxzZXt2YXIgZT1hLmVuZHNXaXRoKFwiL1wiKTthPVMoYSx7JGE6IShiJjEzMTA3MiksSmI6ITB9KTtkPWEubm9kZTthPWEucGF0aH12YXIgaD0hMTtpZihiJjY0KWlmKGQpe2lmKGImMTI4KXRocm93IG5ldyBOKDIwKTt9ZWxzZXtpZihlKXRocm93IG5ldyBOKDMxKTtkPVhiKGEsY3w1MTEsMCk7aD0hMH1pZighZCl0aHJvdyBuZXcgTig0NCk7ODE5Mj09PShkLm1vZGUmNjE0NDApJiYoYiY9LTUxMyk7aWYoYiY2NTUzNiYmIVAoZC5tb2RlKSl0aHJvdyBuZXcgTig1NCk7XG5pZighaCYmKGU9ZD80MDk2MD09PShkLm1vZGUmNjE0NDApPzMyOlAoZC5tb2RlKSYmKFwiclwiIT09UGIoYil8fGImNTc2KT8zMTpPYihkLFBiKGIpKTo0NCkpdGhyb3cgbmV3IE4oZSk7YiY1MTImJiFoJiYoZT1kLGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/UyhlLHskYTohMH0pLm5vZGU6ZSxjYyhudWxsLGUsMCkpO2ImPS0xMzE3MTM7ZT1UYih7bm9kZTpkLHBhdGg6amEoZCksZmxhZ3M6YixzZWVrYWJsZTohMCxwb3NpdGlvbjowLE1hOmQuTWEsTGI6W10sZXJyb3I6ITF9KTtlLk1hLm9wZW4mJmUuTWEub3BlbihlKTtoJiZuYShkLGMmNTExKTshZi5sb2dSZWFkRmlsZXN8fGImMXx8YSBpbiBLYnx8KEtiW2FdPTEpO3JldHVybiBlfWZ1bmN0aW9uIHFhKGEpe2lmKG51bGw9PT1hLmZkKXRocm93IG5ldyBOKDgpO2Eub2ImJihhLm9iPW51bGwpO3RyeXthLk1hLmNsb3NlJiZhLk1hLmNsb3NlKGEpfWNhdGNoKGIpe3Rocm93IGI7fWZpbmFsbHl7R2JbYS5mZF09bnVsbH1hLmZkPW51bGx9XG5mdW5jdGlvbiBtYyhhLGIsYyl7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoIWEuc2Vla2FibGV8fCFhLk1hLlZhKXRocm93IG5ldyBOKDcwKTtpZigwIT1jJiYxIT1jJiYyIT1jKXRocm93IG5ldyBOKDI4KTthLnBvc2l0aW9uPWEuTWEuVmEoYSxiLGMpO2EuTGI9W119ZnVuY3Rpb24gRWMoYSxiLGMsZCxlKXtpZigwPmR8fDA+ZSl0aHJvdyBuZXcgTigyOCk7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoMT09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDgpO2lmKFAoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOKDMxKTtpZighYS5NYS5yZWFkKXRocm93IG5ldyBOKDI4KTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLnJlYWQoYSxiLGMsZCxlKTtofHwoYS5wb3NpdGlvbis9Yik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBwYShhLGIsYyxkLGUpe2lmKDA+ZHx8MD5lKXRocm93IG5ldyBOKDI4KTtpZihudWxsPT09YS5mZCl0aHJvdyBuZXcgTig4KTtpZigwPT09KGEuZmxhZ3MmMjA5NzE1NSkpdGhyb3cgbmV3IE4oOCk7aWYoUChhLm5vZGUubW9kZSkpdGhyb3cgbmV3IE4oMzEpO2lmKCFhLk1hLndyaXRlKXRocm93IG5ldyBOKDI4KTthLnNlZWthYmxlJiZhLmZsYWdzJjEwMjQmJm1jKGEsMCwyKTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLndyaXRlKGEsYixjLGQsZSx2b2lkIDApO2h8fChhLnBvc2l0aW9uKz1iKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIHlhKGEpe3ZhciBiPVwiYmluYXJ5XCI7aWYoXCJ1dGY4XCIhPT1iJiZcImJpbmFyeVwiIT09Yil0aHJvdyBFcnJvcihgSW52YWxpZCBlbmNvZGluZyB0eXBlIFwiJHtifVwiYCk7dmFyIGM7dmFyIGQ9b2EoYSxkfHwwKTthPWFjKGEpLnNpemU7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoYSk7RWMoZCxlLDAsYSwwKTtcInV0ZjhcIj09PWI/Yz1CKGUpOlwiYmluYXJ5XCI9PT1iJiYoYz1lKTtxYShkKTtyZXR1cm4gY31cbmZ1bmN0aW9uIFYoYSxiLGMpe2E9a2EoXCIvZGV2L1wiK2EpO3ZhciBkPWxhKCEhYiwhIWMpO1YueWI/PyhWLnliPTY0KTt2YXIgZT1WLnliKys8PDh8MDt3YihlLHtvcGVuKGgpe2guc2Vla2FibGU9ITF9LGNsb3NlKCl7Yz8uYnVmZmVyPy5sZW5ndGgmJmMoMTApfSxyZWFkKGgsayxxLHcpe2Zvcih2YXIgdj0wLEM9MDtDPHc7QysrKXt0cnl7dmFyIEc9YigpfWNhdGNoKHBiKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PUcmJjA9PT12KXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1HfHx2b2lkIDA9PT1HKWJyZWFrO3YrKztrW3ErQ109R312JiYoaC5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiB2fSx3cml0ZShoLGsscSx3KXtmb3IodmFyIHY9MDt2PHc7disrKXRyeXtjKGtbcSt2XSl9Y2F0Y2goQyl7dGhyb3cgbmV3IE4oMjkpO313JiYoaC5ub2RlLm10aW1lPWgubm9kZS5jdGltZT1EYXRlLm5vdygpKTtyZXR1cm4gdn19KTtZYihhLGQsZSl9dmFyIFc9e307XG5mdW5jdGlvbiBHYyhhLGIsYyl7aWYoXCIvXCI9PT1iLmNoYXJBdCgwKSlyZXR1cm4gYjthPS0xMDA9PT1hP1wiL1wiOlQoYSkucGF0aDtpZigwPT1iLmxlbmd0aCl7aWYoIWMpdGhyb3cgbmV3IE4oNDQpO3JldHVybiBhfXJldHVybiBhK1wiL1wiK2J9XG5mdW5jdGlvbiBIYyhhLGIpe0VbYT4+Ml09Yi5kZXY7RVthKzQ+PjJdPWIubW9kZTtGW2ErOD4+Ml09Yi5ubGluaztFW2ErMTI+PjJdPWIudWlkO0VbYSsxNj4+Ml09Yi5naWQ7RVthKzIwPj4yXT1iLnJkZXY7SFthKzI0Pj4zXT1CaWdJbnQoYi5zaXplKTtFW2ErMzI+PjJdPTQwOTY7RVthKzM2Pj4yXT1iLmJsb2Nrczt2YXIgYz1iLmF0aW1lLmdldFRpbWUoKSxkPWIubXRpbWUuZ2V0VGltZSgpLGU9Yi5jdGltZS5nZXRUaW1lKCk7SFthKzQwPj4zXT1CaWdJbnQoTWF0aC5mbG9vcihjLzFFMykpO0ZbYSs0OD4+Ml09YyUxRTMqMUU2O0hbYSs1Nj4+M109QmlnSW50KE1hdGguZmxvb3IoZC8xRTMpKTtGW2ErNjQ+PjJdPWQlMUUzKjFFNjtIW2ErNzI+PjNdPUJpZ0ludChNYXRoLmZsb29yKGUvMUUzKSk7RlthKzgwPj4yXT1lJTFFMyoxRTY7SFthKzg4Pj4zXT1CaWdJbnQoYi5pbm8pO3JldHVybiAwfVxudmFyIEljPXZvaWQgMCxKYz0oKT0+e3ZhciBhPUVbK0ljPj4yXTtJYys9NDtyZXR1cm4gYX0sS2M9MCxMYz1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSxNYz1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxOYz17fSxPYz1hPT57TWE9YTtjYnx8MDxLY3x8KGYub25FeGl0Py4oYSksTGE9ITApO0RhKGEsbmV3IFlhKGEpKX0sUGM9YT0+e2lmKCFMYSl0cnl7aWYoYSgpLCEoY2J8fDA8S2MpKXRyeXtNYT1hPU1hLE9jKGEpfWNhdGNoKGIpe2IgaW5zdGFuY2VvZiBZYXx8XCJ1bndpbmRcIj09Ynx8RGEoMSxiKX19Y2F0Y2goYil7YiBpbnN0YW5jZW9mIFlhfHxcInVud2luZFwiPT1ifHxEYSgxLGIpfX0sUWM9e30sU2M9KCk9PntpZighUmMpe3ZhciBhPXtVU0VSOlwid2ViX3VzZXJcIixMT0dOQU1FOlwid2ViX3VzZXJcIixQQVRIOlwiL1wiLFBXRDpcIi9cIixIT01FOlwiL2hvbWUvd2ViX3VzZXJcIixMQU5HOihcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiZcbm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fFwiQ1wiKS5yZXBsYWNlKFwiLVwiLFwiX1wiKStcIi5VVEYtOFwiLF86Q2F8fFwiLi90aGlzLnByb2dyYW1cIn0sYjtmb3IoYiBpbiBRYyl2b2lkIDA9PT1RY1tiXT9kZWxldGUgYVtiXTphW2JdPVFjW2JdO3ZhciBjPVtdO2ZvcihiIGluIGEpYy5wdXNoKGAke2J9PSR7YVtiXX1gKTtSYz1jfXJldHVybiBSY30sUmMseGE9YT0+e3ZhciBiPWhhKGEpKzEsYz16KGIpO3UoYSx4LGMsYik7cmV0dXJuIGN9LFRjPShhLGIsYyxkKT0+e3ZhciBlPXtzdHJpbmc6dj0+e3ZhciBDPTA7bnVsbCE9PXYmJnZvaWQgMCE9PXYmJjAhPT12JiYoQz14YSh2KSk7cmV0dXJuIEN9LGFycmF5OnY9Pnt2YXIgQz16KHYubGVuZ3RoKTtwLnNldCh2LEMpO3JldHVybiBDfX07YT1mW1wiX1wiK2FdO3ZhciBoPVtdLGs9MDtpZihkKWZvcih2YXIgcT0wO3E8ZC5sZW5ndGg7cSsrKXt2YXIgdz1lW2NbcV1dO3c/KDA9PT1rJiYoaz1zYSgpKSxoW3FdPXcoZFtxXSkpOlxuaFtxXT1kW3FdfWM9YSguLi5oKTtyZXR1cm4gYz1mdW5jdGlvbih2KXswIT09ayYmd2Eoayk7cmV0dXJuXCJzdHJpbmdcIj09PWI/dj9CKHgsdik6XCJcIjpcImJvb2xlYW5cIj09PWI/ISF2OnZ9KGMpfSxlYT0wLGRhPShhLGIpPT57Yj0xPT1iP3ooYS5sZW5ndGgpOmlhKGEubGVuZ3RoKTthLnN1YmFycmF5fHxhLnNsaWNlfHwoYT1uZXcgVWludDhBcnJheShhKSk7eC5zZXQoYSxiKTtyZXR1cm4gYn0sVWMsVmM9W10sWSxBPWE9PntVYy5kZWxldGUoWS5nZXQoYSkpO1kuc2V0KGEsbnVsbCk7VmMucHVzaChhKX0sQWE9KGEsYik9PntpZighVWMpe1VjPW5ldyBXZWFrTWFwO3ZhciBjPVkubGVuZ3RoO2lmKFVjKWZvcih2YXIgZD0wO2Q8MCtjO2QrKyl7dmFyIGU9WS5nZXQoZCk7ZSYmVWMuc2V0KGUsZCl9fWlmKGM9VWMuZ2V0KGEpfHwwKXJldHVybiBjO2lmKFZjLmxlbmd0aCljPVZjLnBvcCgpO2Vsc2V7dHJ5e1kuZ3JvdygxKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyB3O1xudGhyb3dcIlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguXCI7fWM9WS5sZW5ndGgtMX10cnl7WS5zZXQoYyxhKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKXRocm93IHc7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgV2ViQXNzZW1ibHkuRnVuY3Rpb24pe3ZhciBoPVdlYkFzc2VtYmx5LkZ1bmN0aW9uO2Q9e2k6XCJpMzJcIixqOlwiaTY0XCIsZjpcImYzMlwiLGQ6XCJmNjRcIixlOlwiZXh0ZXJucmVmXCIscDpcImkzMlwifTtlPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6XCJ2XCI9PWJbMF0/W106W2RbYlswXV1dfTtmb3IodmFyIGs9MTtrPGIubGVuZ3RoOysrayllLnBhcmFtZXRlcnMucHVzaChkW2Jba11dKTtiPW5ldyBoKGUsYSl9ZWxzZXtkPVsxXTtlPWIuc2xpY2UoMCwxKTtiPWIuc2xpY2UoMSk7az17aToxMjcscDoxMjcsajoxMjYsZjoxMjUsZDoxMjQsZToxMTF9O2QucHVzaCg5Nik7dmFyIHE9Yi5sZW5ndGg7MTI4PnE/ZC5wdXNoKHEpOmQucHVzaChxJVxuMTI4fDEyOCxxPj43KTtmb3IoaCBvZiBiKWQucHVzaChrW2hdKTtcInZcIj09ZT9kLnB1c2goMCk6ZC5wdXNoKDEsa1tlXSk7Yj1bMCw5NywxMTUsMTA5LDEsMCwwLDAsMV07aD1kLmxlbmd0aDsxMjg+aD9iLnB1c2goaCk6Yi5wdXNoKGglMTI4fDEyOCxoPj43KTtiLnB1c2goLi4uZCk7Yi5wdXNoKDIsNywxLDEsMTAxLDEsMTAyLDAsMCw3LDUsMSwxLDEwMiwwLDApO2I9bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShiKSk7Yj0obmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGIse2U6e2Y6YX19KSkuZXhwb3J0cy5mfVkuc2V0KGMsYil9VWMuc2V0KGEsYyk7cmV0dXJuIGN9O1I9QXJyYXkoNDA5Nik7V2IoTyxcIi9cIik7VShcIi90bXBcIik7VShcIi9ob21lXCIpO1UoXCIvaG9tZS93ZWJfdXNlclwiKTtcbihmdW5jdGlvbigpe1UoXCIvZGV2XCIpO3diKDI1OSx7cmVhZDooKT0+MCx3cml0ZTooZCxlLGgsayk9PmssVmE6KCk9PjB9KTtZYihcIi9kZXYvbnVsbFwiLDI1OSk7bmIoMTI4MCx5Yik7bmIoMTUzNix6Yik7WWIoXCIvZGV2L3R0eVwiLDEyODApO1liKFwiL2Rldi90dHkxXCIsMTUzNik7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoMTAyNCksYj0wLGM9KCk9PnswPT09YiYmKGliKGEpLGI9YS5ieXRlTGVuZ3RoKTtyZXR1cm4gYVstLWJdfTtWKFwicmFuZG9tXCIsYyk7VihcInVyYW5kb21cIixjKTtVKFwiL2Rldi9zaG1cIik7VShcIi9kZXYvc2htL3RtcFwiKX0pKCk7XG4oZnVuY3Rpb24oKXtVKFwiL3Byb2NcIik7dmFyIGE9VShcIi9wcm9jL3NlbGZcIik7VShcIi9wcm9jL3NlbGYvZmRcIik7V2Ioe1hhKCl7dmFyIGI9QmIoYSxcImZkXCIsMTY4OTUsNzMpO2IuTWE9e1ZhOk8uTWEuVmF9O2IuTGE9e2xvb2t1cChjLGQpe2M9K2Q7dmFyIGU9VChjKTtjPXtwYXJlbnQ6bnVsbCxYYTp7emI6XCJmYWtlXCJ9LExhOntyZWFkbGluazooKT0+ZS5wYXRofSxpZDpjKzF9O3JldHVybiBjLnBhcmVudD1jfSxyZWFkZGlyKCl7cmV0dXJuIEFycmF5LmZyb20oR2IuZW50cmllcygpKS5maWx0ZXIoKFssY10pPT5jKS5tYXAoKFtjXSk9PmMudG9TdHJpbmcoKSl9fTtyZXR1cm4gYn19LFwiL3Byb2Mvc2VsZi9mZFwiKX0pKCk7Ty52Yj1uZXcgTig0NCk7Ty52Yi5zdGFjaz1cIjxnZW5lcmljIGVycm9yLCBubyBzdGFjaz5cIjtcbnZhciBYYz17YTooYSxiLGMsZCk9PlRhKGBBc3NlcnRpb24gZmFpbGVkOiAke2E/Qih4LGEpOlwiXCJ9LCBhdDogYCtbYj9iP0IoeCxiKTpcIlwiOlwidW5rbm93biBmaWxlbmFtZVwiLGMsZD9kP0IoeCxkKTpcIlwiOlwidW5rbm93biBmdW5jdGlvblwiXSksaTpmdW5jdGlvbihhLGIpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLG5hKGEsYiksMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LEw6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKGMmLTgpcmV0dXJuLTI4O3ZhciBkPVMoYix7JGE6ITB9KS5ub2RlO2lmKCFkKXJldHVybi00NDthPVwiXCI7YyY0JiYoYSs9XCJyXCIpO2MmMiYmKGErPVwid1wiKTtjJjEmJihhKz1cInhcIik7cmV0dXJuIGEmJk9iKGQsYSk/LTI6MH1jYXRjaChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1lLm5hbWUpdGhyb3cgZTtcbnJldHVybi1lLlBhfX0sajpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO2JjKGMsYy5ub2RlLGIsITEpO3JldHVybiAwfWNhdGNoKGQpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWQubmFtZSl0aHJvdyBkO3JldHVybi1kLlBhfX0saDpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtWYihiLGIubm9kZSx7dGltZXN0YW1wOkRhdGUubm93KCksRmI6ITF9KTtyZXR1cm4gMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LGI6ZnVuY3Rpb24oYSxiLGMpe0ljPWM7dHJ5e3ZhciBkPVQoYSk7c3dpdGNoKGIpe2Nhc2UgMDp2YXIgZT1KYygpO2lmKDA+ZSlicmVhaztmb3IoO0diW2VdOyllKys7cmV0dXJuIFViKGQsZSkuZmQ7Y2FzZSAxOmNhc2UgMjpyZXR1cm4gMDtjYXNlIDM6cmV0dXJuIGQuZmxhZ3M7Y2FzZSA0OnJldHVybiBlPUpjKCksZC5mbGFnc3w9ZSwwO1xuY2FzZSAxMjpyZXR1cm4gZT1KYygpLE5hW2UrMD4+MV09MiwwO2Nhc2UgMTM6Y2FzZSAxNDpyZXR1cm4gMH1yZXR1cm4tMjh9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSxnOmZ1bmN0aW9uKGEsYil7dHJ5e3ZhciBjPVQoYSksZD1jLm5vZGUsZT1jLk1hLlRhO2E9ZT9jOmQ7ZT8/PWQuTGEuVGE7U2IoZSk7dmFyIGg9ZShhKTtyZXR1cm4gSGMoYixoKX1jYXRjaChrKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1rLm5hbWUpdGhyb3cgaztyZXR1cm4tay5QYX19LEg6ZnVuY3Rpb24oYSxiKXtiPS05MDA3MTk5MjU0NzQwOTkyPmJ8fDkwMDcxOTkyNTQ3NDA5OTI8Yj9OYU46TnVtYmVyKGIpO3RyeXtpZihpc05hTihiKSlyZXR1cm4gNjE7dmFyIGM9VChhKTtpZigwPmJ8fDA9PT0oYy5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyOCk7Y2MoYyxjLm5vZGUsYik7XG5yZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEc6ZnVuY3Rpb24oYSxiKXt0cnl7aWYoMD09PWIpcmV0dXJuLTI4O3ZhciBjPWhhKFwiL1wiKSsxO2lmKGI8YylyZXR1cm4tNjg7dShcIi9cIix4LGEsYik7cmV0dXJuIGN9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09ZC5uYW1lKXRocm93IGQ7cmV0dXJuLWQuUGF9fSxLOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhLCEwKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxDOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksVShiLGMpLDB9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09XG5kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEo6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2I9Yj9CKHgsYik6XCJcIjt2YXIgZT1kJjI1NjtiPUdjKGEsYixkJjQwOTYpO3JldHVybiBIYyhjLGU/YWMoYiwhMCk6YWMoYikpfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybi1oLlBhfX0seDpmdW5jdGlvbihhLGIsYyxkKXtJYz1kO3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO3ZhciBlPWQ/SmMoKTowO3JldHVybiBvYShiLGMsZSkuZmR9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSx2OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKDA+PWQpcmV0dXJuLTI4O3ZhciBlPVMoYikubm9kZTtpZighZSl0aHJvdyBuZXcgTig0NCk7aWYoIWUuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oMjgpO1xudmFyIGg9ZS5MYS5yZWFkbGluayhlKTt2YXIgaz1NYXRoLm1pbihkLGhhKGgpKSxxPXBbYytrXTt1KGgseCxjLGQrMSk7cFtjK2tdPXE7cmV0dXJuIGt9Y2F0Y2godyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09dy5uYW1lKXRocm93IHc7cmV0dXJuLXcuUGF9fSx1OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLCRiKGEpLDB9Y2F0Y2goYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yi5uYW1lKXRocm93IGI7cmV0dXJuLWIuUGF9fSxmOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxyOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksMD09PWM/emEoYik6NTEyPT09Yz8kYihiKTpcblRhKFwiSW52YWxpZCBmbGFncyBwYXNzZWQgdG8gdW5saW5rYXRcIiksMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LHE6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIsITApO3ZhciBkPURhdGUubm93KCksZSxoO2lmKGMpe3ZhciBrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml0scT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9lPWQ6MTA3Mzc0MTgyMj09cT9lPW51bGw6ZT0xRTMqaytxLzFFNjtjKz0xNjtrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml07cT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9oPWQ6MTA3Mzc0MTgyMj09cT9oPW51bGw6aD0xRTMqaytxLzFFNn1lbHNlIGg9ZT1kO2lmKG51bGwhPT0oaD8/ZSkpe2E9ZTt2YXIgdz1TKGIseyRhOiEwfSkubm9kZTtTYih3LkxhLlVhKSh3LHthdGltZTphLG10aW1lOmh9KX1yZXR1cm4gMH1jYXRjaCh2KXtpZihcInVuZGVmaW5lZFwiPT1cbnR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXYubmFtZSl0aHJvdyB2O3JldHVybi12LlBhfX0sbTooKT0+VGEoXCJcIiksbDooKT0+e2NiPSExO0tjPTB9LEE6ZnVuY3Rpb24oYSxiKXthPS05MDA3MTk5MjU0NzQwOTkyPmF8fDkwMDcxOTkyNTQ3NDA5OTI8YT9OYU46TnVtYmVyKGEpO2E9bmV3IERhdGUoMUUzKmEpO0VbYj4+Ml09YS5nZXRTZWNvbmRzKCk7RVtiKzQ+PjJdPWEuZ2V0TWludXRlcygpO0VbYis4Pj4yXT1hLmdldEhvdXJzKCk7RVtiKzEyPj4yXT1hLmdldERhdGUoKTtFW2IrMTY+PjJdPWEuZ2V0TW9udGgoKTtFW2IrMjA+PjJdPWEuZ2V0RnVsbFllYXIoKS0xOTAwO0VbYisyND4+Ml09YS5nZXREYXkoKTt2YXIgYz1hLmdldEZ1bGxZZWFyKCk7RVtiKzI4Pj4yXT0oMCE9PWMlNHx8MD09PWMlMTAwJiYwIT09YyU0MDA/TWM6TGMpW2EuZ2V0TW9udGgoKV0rYS5nZXREYXRlKCktMXwwO0VbYiszNj4+Ml09LSg2MCphLmdldFRpbWV6b25lT2Zmc2V0KCkpO2M9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxcbjYsMSkpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGQ9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO0VbYiszMj4+Ml09KGMhPWQmJmEuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oZCxjKSl8MH0seTpmdW5jdGlvbihhLGIsYyxkLGUsaCxrKXtlPS05MDA3MTk5MjU0NzQwOTkyPmV8fDkwMDcxOTkyNTQ3NDA5OTI8ZT9OYU46TnVtYmVyKGUpO3RyeXtpZihpc05hTihlKSlyZXR1cm4gNjE7dmFyIHE9VChkKTtpZigwIT09KGImMikmJjA9PT0oYyYyKSYmMiE9PShxLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDIpO2lmKDE9PT0ocS5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyKTtpZighcS5NYS5pYil0aHJvdyBuZXcgTig0Myk7aWYoIWEpdGhyb3cgbmV3IE4oMjgpO3ZhciB3PXEuTWEuaWIocSxhLGUsYixjKTt2YXIgdj13LktiO0VbaD4+Ml09dy5BYjtGW2s+PjJdPXY7cmV0dXJuIDB9Y2F0Y2goQyl7aWYoXCJ1bmRlZmluZWRcIj09XG50eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1DLm5hbWUpdGhyb3cgQztyZXR1cm4tQy5QYX19LHo6ZnVuY3Rpb24oYSxiLGMsZCxlLGgpe2g9LTkwMDcxOTkyNTQ3NDA5OTI+aHx8OTAwNzE5OTI1NDc0MDk5MjxoP05hTjpOdW1iZXIoaCk7dHJ5e3ZhciBrPVQoZSk7aWYoYyYyKXtjPWg7aWYoMzI3NjghPT0oay5ub2RlLm1vZGUmNjE0NDApKXRocm93IG5ldyBOKDQzKTtpZighKGQmMikpe3ZhciBxPXguc2xpY2UoYSxhK2IpO2suTWEuamImJmsuTWEuamIoayxxLGMsYixkKX19fWNhdGNoKHcpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXcubmFtZSl0aHJvdyB3O3JldHVybi13LlBhfX0sbjooYSxiKT0+e05jW2FdJiYoY2xlYXJUaW1lb3V0KE5jW2FdLmlkKSxkZWxldGUgTmNbYV0pO2lmKCFiKXJldHVybiAwO3ZhciBjPXNldFRpbWVvdXQoKCk9PntkZWxldGUgTmNbYV07UGMoKCk9PldjKGEscGVyZm9ybWFuY2Uubm93KCkpKX0sYik7TmNbYV09e2lkOmMsXG5YYjpifTtyZXR1cm4gMH0sQjooYSxiLGMsZCk9Pnt2YXIgZT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksaD0obmV3IERhdGUoZSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO2U9KG5ldyBEYXRlKGUsNiwxKSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtGW2E+PjJdPTYwKk1hdGgubWF4KGgsZSk7RVtiPj4yXT1OdW1iZXIoaCE9ZSk7Yj1rPT57dmFyIHE9TWF0aC5hYnMoayk7cmV0dXJuYFVUQyR7MDw9az9cIi1cIjpcIitcIn0ke1N0cmluZyhNYXRoLmZsb29yKHEvNjApKS5wYWRTdGFydCgyLFwiMFwiKX0ke1N0cmluZyhxJTYwKS5wYWRTdGFydCgyLFwiMFwiKX1gfTthPWIoaCk7Yj1iKGUpO2U8aD8odShhLHgsYywxNyksdShiLHgsZCwxNykpOih1KGEseCxkLDE3KSx1KGIseCxjLDE3KSl9LGQ6KCk9PkRhdGUubm93KCksczooKT0+MjE0NzQ4MzY0OCxjOigpPT5wZXJmb3JtYW5jZS5ub3coKSxvOmE9Pnt2YXIgYj14Lmxlbmd0aDthPj4+PTA7aWYoMjE0NzQ4MzY0ODxhKXJldHVybiExO2Zvcih2YXIgYz1cbjE7ND49YztjKj0yKXt2YXIgZD1iKigxKy4yL2MpO2Q9TWF0aC5taW4oZCxhKzEwMDY2MzI5Nik7YTp7ZD0oTWF0aC5taW4oMjE0NzQ4MzY0OCw2NTUzNipNYXRoLmNlaWwoTWF0aC5tYXgoYSxkKS82NTUzNikpLUthLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNnwwO3RyeXtLYS5ncm93KGQpO1FhKCk7dmFyIGU9MTticmVhayBhfWNhdGNoKGgpe31lPXZvaWQgMH1pZihlKXJldHVybiEwfXJldHVybiExfSxFOihhLGIpPT57dmFyIGM9MDtTYygpLmZvckVhY2goKGQsZSk9Pnt2YXIgaD1iK2M7ZT1GW2ErNCplPj4yXT1oO2ZvcihoPTA7aDxkLmxlbmd0aDsrK2gpcFtlKytdPWQuY2hhckNvZGVBdChoKTtwW2VdPTA7Yys9ZC5sZW5ndGgrMX0pO3JldHVybiAwfSxGOihhLGIpPT57dmFyIGM9U2MoKTtGW2E+PjJdPWMubGVuZ3RoO3ZhciBkPTA7Yy5mb3JFYWNoKGU9PmQrPWUubGVuZ3RoKzEpO0ZbYj4+Ml09ZDtyZXR1cm4gMH0sZTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtcbnFhKGIpO3JldHVybiAwfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO3JldHVybiBjLlBhfX0scDpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO3BbYl09Yy50dHk/MjpQKGMubW9kZSk/Mzo0MDk2MD09PShjLm1vZGUmNjE0NDApPzc6NDtOYVtiKzI+PjFdPTA7SFtiKzg+PjNdPUJpZ0ludCgwKTtIW2IrMTY+PjNdPUJpZ0ludCgwKTtyZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4gZC5QYX19LHc6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2E6e3ZhciBlPVQoYSk7YT1iO2Zvcih2YXIgaCxrPWI9MDtrPGM7aysrKXt2YXIgcT1GW2E+PjJdLHc9RlthKzQ+PjJdO2ErPTg7dmFyIHY9RWMoZSxwLHEsdyxoKTtpZigwPnYpe3ZhciBDPS0xO2JyZWFrIGF9Yis9djtpZih2PHcpYnJlYWs7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGgmJlxuKGgrPXYpfUM9Yn1GW2Q+PjJdPUM7cmV0dXJuIDB9Y2F0Y2goRyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Ry5uYW1lKXRocm93IEc7cmV0dXJuIEcuUGF9fSxEOmZ1bmN0aW9uKGEsYixjLGQpe2I9LTkwMDcxOTkyNTQ3NDA5OTI+Ynx8OTAwNzE5OTI1NDc0MDk5MjxiP05hTjpOdW1iZXIoYik7dHJ5e2lmKGlzTmFOKGIpKXJldHVybiA2MTt2YXIgZT1UKGEpO21jKGUsYixjKTtIW2Q+PjNdPUJpZ0ludChlLnBvc2l0aW9uKTtlLm9iJiYwPT09YiYmMD09PWMmJihlLm9iPW51bGwpO3JldHVybiAwfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybiBoLlBhfX0sSTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtyZXR1cm4gYi5NYT8uZnN5bmM/Yi5NYS5mc3luYyhiKTowfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO1xucmV0dXJuIGMuUGF9fSx0OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXthOnt2YXIgZT1UKGEpO2E9Yjtmb3IodmFyIGgsaz1iPTA7azxjO2srKyl7dmFyIHE9RlthPj4yXSx3PUZbYSs0Pj4yXTthKz04O3ZhciB2PXBhKGUscCxxLHcsaCk7aWYoMD52KXt2YXIgQz0tMTticmVhayBhfWIrPXY7aWYodjx3KWJyZWFrO1widW5kZWZpbmVkXCIhPXR5cGVvZiBoJiYoaCs9dil9Qz1ifUZbZD4+Ml09QztyZXR1cm4gMH1jYXRjaChHKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1HLm5hbWUpdGhyb3cgRztyZXR1cm4gRy5QYX19LGs6T2N9LFo7XG4oYXN5bmMgZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe1o9Yy5leHBvcnRzO0thPVouTTtRYSgpO1k9Wi5PO0stLTtmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTswPT1LJiZTYSYmKGM9U2EsU2E9bnVsbCxjKCkpO3JldHVybiBafUsrKztmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTt2YXIgYj17YTpYY307aWYoZi5pbnN0YW50aWF0ZVdhc20pcmV0dXJuIG5ldyBQcm9taXNlKGM9PntmLmluc3RhbnRpYXRlV2FzbShiLChkLGUpPT57YShkLGUpO2MoZC5leHBvcnRzKX0pfSk7VWE/Pz1mLmxvY2F0ZUZpbGU/Zi5sb2NhdGVGaWxlKFwic3FsLXdhc20ud2FzbVwiLEQpOkQrXCJzcWwtd2FzbS53YXNtXCI7cmV0dXJuIGEoKGF3YWl0IFhhKGIpKS5pbnN0YW5jZSl9KSgpO2YuX3NxbGl0ZTNfZnJlZT1hPT4oZi5fc3FsaXRlM19mcmVlPVouUCkoYSk7Zi5fc3FsaXRlM192YWx1ZV90ZXh0PWE9PihmLl9zcWxpdGUzX3ZhbHVlX3RleHQ9Wi5RKShhKTtcbmYuX3NxbGl0ZTNfcHJlcGFyZV92Mj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfcHJlcGFyZV92Mj1aLlIpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19zdGVwPWE9PihmLl9zcWxpdGUzX3N0ZXA9Wi5TKShhKTtmLl9zcWxpdGUzX3Jlc2V0PWE9PihmLl9zcWxpdGUzX3Jlc2V0PVouVCkoYSk7Zi5fc3FsaXRlM19leGVjPShhLGIsYyxkLGUpPT4oZi5fc3FsaXRlM19leGVjPVouVSkoYSxiLGMsZCxlKTtmLl9zcWxpdGUzX2ZpbmFsaXplPWE9PihmLl9zcWxpdGUzX2ZpbmFsaXplPVouVikoYSk7Zi5fc3FsaXRlM19jb2x1bW5fbmFtZT0oYSxiKT0+KGYuX3NxbGl0ZTNfY29sdW1uX25hbWU9Wi5XKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX3RleHQ9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl90ZXh0PVouWCkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl90eXBlPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fdHlwZT1aLlkpKGEsYik7XG5mLl9zcWxpdGUzX2Vycm1zZz1hPT4oZi5fc3FsaXRlM19lcnJtc2c9Wi5aKShhKTtmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPWE9PihmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPVouXykoYSk7Zi5fc3FsaXRlM192YWx1ZV9ibG9iPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2Jsb2I9Wi4kKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPVouYWEpKGEpO2YuX3NxbGl0ZTNfdmFsdWVfZG91YmxlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2RvdWJsZT1aLmJhKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2ludD1hPT4oZi5fc3FsaXRlM192YWx1ZV9pbnQ9Wi5jYSkoYSk7Zi5fc3FsaXRlM192YWx1ZV90eXBlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX3R5cGU9Wi5kYSkoYSk7Zi5fc3FsaXRlM19yZXN1bHRfYmxvYj0oYSxiLGMsZCk9PihmLl9zcWxpdGUzX3Jlc3VsdF9ibG9iPVouZWEpKGEsYixjLGQpO1xuZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPShhLGIpPT4oZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPVouZmEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfZXJyb3I9KGEsYixjKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2Vycm9yPVouZ2EpKGEsYixjKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9KGEsYik9PihmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9Wi5oYSkoYSxiKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ2ND0oYSxiKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2ludDY0PVouaWEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfbnVsbD1hPT4oZi5fc3FsaXRlM19yZXN1bHRfbnVsbD1aLmphKShhKTtmLl9zcWxpdGUzX3Jlc3VsdF90ZXh0PShhLGIsYyxkKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X3RleHQ9Wi5rYSkoYSxiLGMsZCk7Zi5fc3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dD0oYSxiKT0+KGYuX3NxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQ9Wi5sYSkoYSxiKTtcbmYuX3NxbGl0ZTNfY29sdW1uX2NvdW50PWE9PihmLl9zcWxpdGUzX2NvbHVtbl9jb3VudD1aLm1hKShhKTtmLl9zcWxpdGUzX2RhdGFfY291bnQ9YT0+KGYuX3NxbGl0ZTNfZGF0YV9jb3VudD1aLm5hKShhKTtmLl9zcWxpdGUzX2NvbHVtbl9ibG9iPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYmxvYj1aLm9hKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX2J5dGVzPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYnl0ZXM9Wi5wYSkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9Wi5xYSkoYSxiKTtmLl9zcWxpdGUzX2JpbmRfYmxvYj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF9ibG9iPVoucmEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX2RvdWJsZT0oYSxiLGMpPT4oZi5fc3FsaXRlM19iaW5kX2RvdWJsZT1aLnNhKShhLGIsYyk7XG5mLl9zcWxpdGUzX2JpbmRfaW50PShhLGIsYyk9PihmLl9zcWxpdGUzX2JpbmRfaW50PVoudGEpKGEsYixjKTtmLl9zcWxpdGUzX2JpbmRfdGV4dD0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF90ZXh0PVoudWEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleD0oYSxiKT0+KGYuX3NxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXg9Wi52YSkoYSxiKTtmLl9zcWxpdGUzX3NxbD1hPT4oZi5fc3FsaXRlM19zcWw9Wi53YSkoYSk7Zi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1hPT4oZi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1aLnhhKShhKTtmLl9zcWxpdGUzX2NoYW5nZXM9YT0+KGYuX3NxbGl0ZTNfY2hhbmdlcz1aLnlhKShhKTtmLl9zcWxpdGUzX2Nsb3NlX3YyPWE9PihmLl9zcWxpdGUzX2Nsb3NlX3YyPVouemEpKGEpO1xuZi5fc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjI9KGEsYixjLGQsZSxoLGsscSx3KT0+KGYuX3NxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyPVouQWEpKGEsYixjLGQsZSxoLGsscSx3KTtmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPShhLGIsYyk9PihmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPVouQmEpKGEsYixjKTtmLl9zcWxpdGUzX29wZW49KGEsYik9PihmLl9zcWxpdGUzX29wZW49Wi5DYSkoYSxiKTt2YXIgaWE9Zi5fbWFsbG9jPWE9PihpYT1mLl9tYWxsb2M9Wi5EYSkoYSksZmE9Zi5fZnJlZT1hPT4oZmE9Zi5fZnJlZT1aLkVhKShhKTtmLl9SZWdpc3RlckV4dGVuc2lvbkZ1bmN0aW9ucz1hPT4oZi5fUmVnaXN0ZXJFeHRlbnNpb25GdW5jdGlvbnM9Wi5GYSkoYSk7dmFyIERiPShhLGIpPT4oRGI9Wi5HYSkoYSxiKSxXYz0oYSxiKT0+KFdjPVouSGEpKGEsYiksd2E9YT0+KHdhPVouSWEpKGEpLHo9YT0+KHo9Wi5KYSkoYSksc2E9KCk9PihzYT1aLkthKSgpO1xuZi5zdGFja1NhdmU9KCk9PnNhKCk7Zi5zdGFja1Jlc3RvcmU9YT0+d2EoYSk7Zi5zdGFja0FsbG9jPWE9PnooYSk7Zi5jd3JhcD0oYSxiLGMsZCk9Pnt2YXIgZT0hY3x8Yy5ldmVyeShoPT5cIm51bWJlclwiPT09aHx8XCJib29sZWFuXCI9PT1oKTtyZXR1cm5cInN0cmluZ1wiIT09YiYmZSYmIWQ/ZltcIl9cIithXTooLi4uaCk9PlRjKGEsYixjLGgpfTtmLmFkZEZ1bmN0aW9uPUFhO2YucmVtb3ZlRnVuY3Rpb249QTtmLlVURjhUb1N0cmluZz11YTtmLkFMTE9DX05PUk1BTD1lYTtmLmFsbG9jYXRlPWRhO2YuYWxsb2NhdGVVVEY4T25TdGFjaz14YTtcbmZ1bmN0aW9uIFljKCl7ZnVuY3Rpb24gYSgpe2YuY2FsbGVkUnVuPSEwO2lmKCFMYSl7aWYoIWYubm9GU0luaXQmJiFJYil7dmFyIGIsYztJYj0hMDtkPz89Zi5zdGRpbjtiPz89Zi5zdGRvdXQ7Yz8/PWYuc3RkZXJyO2Q/VihcInN0ZGluXCIsZCk6WmIoXCIvZGV2L3R0eVwiLFwiL2Rldi9zdGRpblwiKTtiP1YoXCJzdGRvdXRcIixudWxsLGIpOlpiKFwiL2Rldi90dHlcIixcIi9kZXYvc3Rkb3V0XCIpO2M/VihcInN0ZGVyclwiLG51bGwsYyk6WmIoXCIvZGV2L3R0eTFcIixcIi9kZXYvc3RkZXJyXCIpO29hKFwiL2Rldi9zdGRpblwiLDApO29hKFwiL2Rldi9zdGRvdXRcIiwxKTtvYShcIi9kZXYvc3RkZXJyXCIsMSl9Wi5OKCk7SmI9ITE7Zi5vblJ1bnRpbWVJbml0aWFsaXplZD8uKCk7aWYoZi5wb3N0UnVuKWZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnBvc3RSdW4mJihmLnBvc3RSdW49W2YucG9zdFJ1bl0pO2YucG9zdFJ1bi5sZW5ndGg7KXt2YXIgZD1mLnBvc3RSdW4uc2hpZnQoKTskYS51bnNoaWZ0KGQpfVphKCRhKX19XG5pZigwPEspU2E9WWM7ZWxzZXtpZihmLnByZVJ1bilmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVSdW4mJihmLnByZVJ1bj1bZi5wcmVSdW5dKTtmLnByZVJ1bi5sZW5ndGg7KWJiKCk7WmEoYWIpOzA8Sz9TYT1ZYzpmLnNldFN0YXR1cz8oZi5zZXRTdGF0dXMoXCJSdW5uaW5nLi4uXCIpLHNldFRpbWVvdXQoKCk9PntzZXRUaW1lb3V0KCgpPT5mLnNldFN0YXR1cyhcIlwiKSwxKTthKCl9LDEpKTphKCl9fWlmKGYucHJlSW5pdClmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVJbml0JiYoZi5wcmVJbml0PVtmLnByZUluaXRdKTswPGYucHJlSW5pdC5sZW5ndGg7KWYucHJlSW5pdC5wb3AoKSgpO1ljKCk7XG5cblxuICAgICAgICAvLyBUaGUgc2hlbGwtcHJlLmpzIGFuZCBlbWNjLWdlbmVyYXRlZCBjb2RlIGdvZXMgYWJvdmVcbiAgICAgICAgcmV0dXJuIE1vZHVsZTtcbiAgICB9KTsgLy8gVGhlIGVuZCBvZiB0aGUgcHJvbWlzZSBiZWluZyByZXR1cm5lZFxuXG4gIHJldHVybiBpbml0U3FsSnNQcm9taXNlO1xufSAvLyBUaGUgZW5kIG9mIG91ciBpbml0U3FsSnMgZnVuY3Rpb25cblxuLy8gVGhpcyBiaXQgYmVsb3cgaXMgY29waWVkIGFsbW9zdCBleGFjdGx5IGZyb20gd2hhdCB5b3UgZ2V0IHdoZW4geW91IHVzZSB0aGUgTU9EVUxBUklaRT0xIGZsYWcgd2l0aCBlbWNjXG4vLyBIb3dldmVyLCB3ZSBkb24ndCB3YW50IHRvIHVzZSB0aGUgZW1jYyBtb2R1bGFyaXphdGlvbi4gU2VlIHNoZWxsLXByZS5qc1xuaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jyl7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbml0U3FsSnM7XG4gICAgLy8gVGhpcyB3aWxsIGFsbG93IHRoZSBtb2R1bGUgdG8gYmUgdXNlZCBpbiBFUzYgb3IgQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gaW5pdFNxbEpzO1xufVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGluaXRTcWxKczsgfSk7XG59XG5lbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xuICAgIGV4cG9ydHNbXCJNb2R1bGVcIl0gPSBpbml0U3FsSnM7XG59XG4iLCAiaW1wb3J0IHtcbiAgUGx1Z2luLFxuICBURmlsZSxcbiAgV29ya3NwYWNlTGVhZixcbiAgTm90aWNlLFxuICBNYXJrZG93blJlbmRlcmVyLFxuICBDb21wb25lbnQsXG4gIE1vZGFsLFxuICBJdGVtVmlldyxcbiAgVmlld1N0YXRlLFxuICBNZW51LFxuICBUQWJzdHJhY3RGaWxlLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YWJhc2UvRGF0YWJhc2VTZXJ2aWNlXCI7XG5pbXBvcnQgeyBEZWNrTWFuYWdlciB9IGZyb20gXCIuL3NlcnZpY2VzL0RlY2tNYW5hZ2VyXCI7XG5pbXBvcnQgeyBEZWNrU3luY2hyb25pemVyIH0gZnJvbSBcIi4vc2VydmljZXMvRGVja1N5bmNocm9uaXplclwiO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSBcIi4vc2VydmljZXMvU2NoZWR1bGVyXCI7XG5pbXBvcnQgeyB5aWVsZFRvVUkgfSBmcm9tIFwiLi91dGlscy91aVwiO1xuaW1wb3J0IHsgRlNSUywgdHlwZSBSYXRpbmdMYWJlbCwgdHlwZSBTY2hlZHVsaW5nSW5mbyB9IGZyb20gXCIuL2FsZ29yaXRobS9mc3JzXCI7XG5pbXBvcnQge1xuICBEZWNrLFxuICBGbGFzaGNhcmQsXG4gIERlY2tTdGF0cyxcbiAgRGVja0NvbmZpZyxcbiAgU3RhdGlzdGljcyxcbiAgaGFzTmV3Q2FyZHNMaW1pdCxcbiAgaGFzUmV2aWV3Q2FyZHNMaW1pdCxcbn0gZnJvbSBcIi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB7IEZsYXNoY2FyZHNTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBEZWNrc1NldHRpbmdUYWIgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NldHRpbmdzVGFiXCI7XG5pbXBvcnQgRGVja0xpc3RQYW5lbCBmcm9tIFwiLi9jb21wb25lbnRzL0RlY2tMaXN0UGFuZWwuc3ZlbHRlXCI7XG5pbXBvcnQgeyBEZWNrQ29uZmlnTW9kYWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL0RlY2tDb25maWdNb2RhbFwiO1xuaW1wb3J0IHsgU3RhdGlzdGljc01vZGFsIH0gZnJvbSBcIi4vY29tcG9uZW50cy9TdGF0aXN0aWNzTW9kYWxcIjtcbmltcG9ydCBEZWNrQ29uZmlnVUkgZnJvbSBcIi4vY29tcG9uZW50cy9EZWNrQ29uZmlnVUkuc3ZlbHRlXCI7XG5pbXBvcnQgeyBGbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL0ZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlclwiO1xuaW1wb3J0IHtcbiAgZ2V0TWluTWludXRlc0ZvclByb2ZpbGUsXG4gIGdldE1heEludGVydmFsRGF5c0ZvclByb2ZpbGUsXG59IGZyb20gXCIuL2FsZ29yaXRobS9mc3JzLXdlaWdodHNcIjtcblxuY29uc3QgVklFV19UWVBFX0RFQ0tTID0gXCJkZWNrcy12aWV3XCI7XG5cbi8qKlxuICogRGVlcCBtZXJnZSB1dGlsaXR5IHRoYXQgaWdub3JlcyBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzXG4gKiBUaGlzIHByZXZlbnRzIG51bGwgdmFsdWVzIGluIGxvYWRlZCBkYXRhIGZyb20gb3ZlcnJpZGluZyB2YWxpZCBkZWZhdWx0c1xuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2VJZ25vcmVOdWxsKHRhcmdldDogYW55LCBzb3VyY2U6IGFueSk6IGFueSB7XG4gIGlmIChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzb3VyY2UgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IHsgLi4udGFyZ2V0IH07XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb25zdCBzb3VyY2VWYWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICBpZiAoc291cmNlVmFsdWUgPT09IG51bGwgfHwgc291cmNlVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBLZWVwIHRoZSB0YXJnZXQgdmFsdWUsIGRvbid0IG92ZXJyaWRlIHdpdGggbnVsbC91bmRlZmluZWRcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIHNvdXJjZVZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KHNvdXJjZVZhbHVlKSAmJlxuICAgICAgICB0YXJnZXRba2V5XVxuICAgICAgKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHNcbiAgICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2VJZ25vcmVOdWxsKHRhcmdldFtrZXldLCBzb3VyY2VWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2Ugc291cmNlIHZhbHVlIGZvciBwcmltaXRpdmVzIGFuZCBhcnJheXNcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWNrc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHByaXZhdGUgZGI6IERhdGFiYXNlU2VydmljZTtcbiAgcHVibGljIGRlY2tNYW5hZ2VyOiBEZWNrTWFuYWdlcjtcbiAgcHJpdmF0ZSBkZWNrU3luY2hyb25pemVyOiBEZWNrU3luY2hyb25pemVyO1xuICBwcml2YXRlIHNjaGVkdWxlcjogU2NoZWR1bGVyO1xuICBwdWJsaWMgdmlldzogRGVja3NWaWV3IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzO1xuICBwcml2YXRlIHByb2dyZXNzTm90aWNlOiBOb3RpY2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoYXNTaG93bkluaXRpYWxQcm9ncmVzcyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciB0aW1pbmcgb3BlcmF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRUaW1lKG1zOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChtcyA8IDEwMDApIHtcbiAgICAgIHJldHVybiBgJHttcy50b0ZpeGVkKDIpfW1zYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAkeyhtcyAvIDEwMDApLnRvRml4ZWQoMil9c2A7XG4gICAgfVxuICB9XG5cbiAgLy8gRGVidWcgbG9nZ2luZyB1dGlsaXR5XG4gIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8uZGVidWc/LmVuYWJsZUxvZ2dpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbRGVja3MgRGVidWddICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICAgIHRoaXMud3JpdGVUb0xvZ0ZpbGUobWVzc2FnZSwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB3cml0ZVRvTG9nRmlsZShtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgICAgY29uc3QgbG9nUGF0aCA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9kZWNrcy9kZWJ1Zy5sb2dgO1xuXG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICBjb25zdCBhcmdzU3RyID1cbiAgICAgICAgYXJncy5sZW5ndGggPiAwXG4gICAgICAgICAgPyBgICR7YXJnc1xuICAgICAgICAgICAgICAubWFwKChhcmcpID0+XG4gICAgICAgICAgICAgICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KGFyZykgOiBTdHJpbmcoYXJnKSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuam9pbihcIiBcIil9YFxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gYFske3RpbWVzdGFtcH1dICR7bWVzc2FnZX0ke2FyZ3NTdHJ9XFxuYDtcblxuICAgICAgbGV0IGV4aXN0aW5nQ29udGVudCA9IFwiXCI7XG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMobG9nUGF0aCkpIHtcbiAgICAgICAgZXhpc3RpbmdDb250ZW50ID0gYXdhaXQgYWRhcHRlci5yZWFkKGxvZ1BhdGgpO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBhZGFwdGVyLndyaXRlKGxvZ1BhdGgsIGV4aXN0aW5nQ29udGVudCArIGxvZ0VudHJ5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltEZWNrcyBEZWJ1Z10gRmFpbGVkIHRvIHdyaXRlIHRvIGxvZyBmaWxlOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gUGVyZm9ybWFuY2UgbG9nZ2luZyB1dGlsaXR5XG4gIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8uZGVidWc/LnBlcmZvcm1hbmNlTG9ncykge1xuICAgICAgY29uc29sZS5sb2coYFtEZWNrcyBQZXJmb3JtYW5jZV0gJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2dyZXNzIHRyYWNraW5nIHV0aWxpdHlcbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzcyhtZXNzYWdlOiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NOb3RpY2UpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gdGhpcy5jcmVhdGVQcm9ncmVzc0Jhcihwcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzTm90aWNlLnNldE1lc3NhZ2UoYCR7bWVzc2FnZX1cXG4ke3Byb2dyZXNzQmFyfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3NCYXIocHJvZ3Jlc3M6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgd2lkdGggPSAyNTtcbiAgICBjb25zdCBmaWxsZWQgPSBNYXRoLnJvdW5kKChwcm9ncmVzcyAvIDEwMCkgKiB3aWR0aCk7XG4gICAgY29uc3QgZW1wdHkgPSB3aWR0aCAtIGZpbGxlZDtcbiAgICBjb25zdCBiYXIgPSBcIlx1MjU4OFwiLnJlcGVhdChmaWxsZWQpICsgXCJcdTI1OTFcIi5yZXBlYXQoZW1wdHkpO1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKHByb2dyZXNzKTtcbiAgICByZXR1cm4gYFske2Jhcn1dICR7cGVyY2VudGFnZX0lYDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1Byb2dyZXNzTm90aWNlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZGVidWdMb2coYHNob3dQcm9ncmVzc05vdGljZSBjYWxsZWQgd2l0aDogJHttZXNzYWdlfWApO1xuICAgIHRoaXMuZGVidWdMb2coYGVuYWJsZU5vdGljZXMgc2V0dGluZzogJHt0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlc31gKTtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8udWk/LmVuYWJsZU5vdGljZXMgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiQ3JlYXRpbmcgcHJvZ3Jlc3Mgbm90aWNlXCIpO1xuICAgICAgdGhpcy5wcm9ncmVzc05vdGljZSA9IG5ldyBOb3RpY2UobWVzc2FnZSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJOb3RpY2VzIGRpc2FibGVkLCBub3Qgc2hvd2luZyBwcm9ncmVzcyBub3RpY2VcIik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoaWRlUHJvZ3Jlc3NOb3RpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NOb3RpY2UpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NOb3RpY2UuaGlkZSgpO1xuICAgICAgdGhpcy5wcm9ncmVzc05vdGljZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIHRoaXMuZGVidWdMb2coXCJMb2FkaW5nIERlY2tzIHBsdWdpblwiKTtcblxuICAgIC8vIExvYWQgc2V0dGluZ3NcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBwbHVnaW4gZGlyZWN0b3J5IGV4aXN0c1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICBjb25zdCBwbHVnaW5EaXIgPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvZGVja3NgO1xuICAgICAgaWYgKCEoYXdhaXQgYWRhcHRlci5leGlzdHMocGx1Z2luRGlyKSkpIHtcbiAgICAgICAgYXdhaXQgYWRhcHRlci5ta2RpcihwbHVnaW5EaXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBGU1JTIGluc3RhbmNlcyBhcmUgbm93IGNyZWF0ZWQgcGVyLWRlY2sgYXMgbmVlZGVkXG5cbiAgICAgIC8vIEluaXRpYWxpemUgZGF0YWJhc2VcbiAgICAgIGNvbnN0IGRhdGFiYXNlUGF0aCA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9kZWNrcy9mbGFzaGNhcmRzLmRiYDtcbiAgICAgIHRoaXMuZGIgPSBuZXcgRGF0YWJhc2VTZXJ2aWNlKFxuICAgICAgICBkYXRhYmFzZVBhdGgsXG4gICAgICAgIGFkYXB0ZXIsXG4gICAgICAgIHRoaXMuZGVidWdMb2cuYmluZCh0aGlzKSxcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLmRiLmluaXRpYWxpemUoKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBkZWNrIG1hbmFnZXIgd2l0aCBvcHRpbWl6ZWQgbWFpbi10aHJlYWQgYXBwcm9hY2hcbiAgICAgIHRoaXMuZGVja01hbmFnZXIgPSBuZXcgRGVja01hbmFnZXIoXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0LFxuICAgICAgICB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLFxuICAgICAgICB0aGlzLmRiLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBkZWNrIHN5bmNocm9uaXplclxuICAgICAgdGhpcy5kZWNrU3luY2hyb25pemVyID0gbmV3IERlY2tTeW5jaHJvbml6ZXIoXG4gICAgICAgIHRoaXMuZGIsXG4gICAgICAgIHRoaXMuZGVja01hbmFnZXIsXG4gICAgICAgIHRoaXMuZGVidWdMb2cuYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZy5iaW5kKHRoaXMpLFxuICAgICAgKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBzY2hlZHVsZXJcbiAgICAgIHRoaXMuc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcih0aGlzLmRiKTtcblxuICAgICAgLy8gUmVnaXN0ZXIgdGhlIHNpZGUgcGFuZWwgdmlld1xuICAgICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICAgIFZJRVdfVFlQRV9ERUNLUyxcbiAgICAgICAgKGxlYWYpID0+XG4gICAgICAgICAgbmV3IERlY2tzVmlldyhcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBsZWFmLFxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIsXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtU3luYy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5nZXREZWNrcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5nZXREZWNrU3RhdHMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0RGVja1N0YXRzQnlJZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5nZXRSZXZpZXdDb3VudHMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVja0NvbmZpZy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5vcGVuU3RhdGlzdGljc01vZGFsLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLmRlY2tTeW5jaHJvbml6ZXIuc3luY0RlY2suYmluZCh0aGlzLmRlY2tTeW5jaHJvbml6ZXIpLFxuICAgICAgICAgICAgdGhpcy5kYi5nZXREYWlseVJldmlld0NvdW50cy5iaW5kKHRoaXMuZGIpLFxuICAgICAgICAgICAgdGhpcy5yZXZpZXdGbGFzaGNhcmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTWFya2Rvd24uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICh2aWV3OiBEZWNrc1ZpZXcgfCBudWxsKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICksXG4gICAgICApO1xuXG4gICAgICAvLyBTY2hlZHVsZSBpbml0aWFsIHN5bmMgYWZ0ZXIgd29ya3NwYWNlIGlzIHJlYWR5XG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG4gICAgICAgIC8vIEFkZGl0aW9uYWwgZGVsYXkgdG8gZW5zdXJlIG1ldGFkYXRhIGNhY2hlIGlzIGZ1bGx5IHBvcHVsYXRlZCBhbmQgYXBwIGlzIHJlc3BvbnNpdmVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wZXJmb3JtSW5pdGlhbFN5bmMoKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIHJpYmJvbiBpY29uXG4gICAgICB0aGlzLmFkZFJpYmJvbkljb24oXCJicmFpblwiLCBcIkZsYXNoY2FyZHNcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCBjb21tYW5kIHRvIHNob3cgZmxhc2hjYXJkcyBwYW5lbFxuICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgaWQ6IFwic2hvdy1mbGFzaGNhcmRzLXBhbmVsXCIsXG4gICAgICAgIG5hbWU6IFwiU2hvdyBGbGFzaGNhcmRzIFBhbmVsXCIsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBMaXN0ZW4gZm9yIGZpbGUgY2hhbmdlcyB0byB1cGRhdGUgZGVja3NcbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgdGhpcy5hcHAudmF1bHQub24oXCJtb2RpZnlcIiwgYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUuZXh0ZW5zaW9uID09PSBcIm1kXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZUNoYW5nZShmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICB0aGlzLmFwcC52YXVsdC5vbihcImRlbGV0ZVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwibWRcIikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlRGVsZXRlKGZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKFwicmVuYW1lXCIsIGFzeW5jIChmaWxlLCBvbGRQYXRoKSA9PiB7XG4gICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gXCJtZFwiKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVSZW5hbWUoZmlsZSwgb2xkUGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIC8vIEFkZCBzZXR0aW5ncyB0YWJcbiAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihcbiAgICAgICAgbmV3IERlY2tzU2V0dGluZ1RhYihcbiAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MuYmluZCh0aGlzKSxcbiAgICAgICAgICB0aGlzLnBlcmZvcm1TeW5jLmJpbmQodGhpcyksXG4gICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICAgIHRoaXMudmlldy5yZXN0YXJ0QmFja2dyb3VuZFJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3LnN0YXJ0QmFja2dyb3VuZFJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3LnN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhpcy5kYi5wdXJnZURhdGFiYXNlLmJpbmQodGhpcy5kYiksXG4gICAgICAgICksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3MgcGx1Z2luIGxvYWRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIERlY2tzIHBsdWdpbjpcIiwgZXJyb3IpO1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzICE9PSBmYWxzZSkge1xuICAgICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGxvYWQgRGVja3MgcGx1Z2luLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBvbnVubG9hZCgpIHtcbiAgICB0aGlzLmRlYnVnTG9nKFwiVW5sb2FkaW5nIERlY2tzIHBsdWdpblwiKTtcblxuICAgIC8vIENsb3NlIGRhdGFiYXNlIGNvbm5lY3Rpb25cbiAgICBpZiAodGhpcy5kYikge1xuICAgICAgYXdhaXQgdGhpcy5kYi5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICBjb25zdCBsb2FkZWREYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBkZWVwTWVyZ2VJZ25vcmVOdWxsKERFRkFVTFRfU0VUVElOR1MsIGxvYWRlZERhdGEpO1xuXG4gICAgLy8gRGVlcCBtZXJnZSBlbnN1cmVzIGFsbCBwcm9wZXJ0aWVzIGhhdmUgdmFsaWQgZGVmYXVsdHNcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIC8vIEZTUlMgaW5zdGFuY2VzIGFyZSBub3cgZGVjay1zcGVjaWZpYywgbm8gZ2xvYmFsIGluc3RhbmNlIHRvIHVwZGF0ZVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblxuICAgIGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XG4gICAgY29uc3QgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfREVDS1MpO1xuXG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBWaWV3IGFscmVhZHkgb3BlblxuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3BlbiBpbiByaWdodCBzaWRlYmFyXG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICBpZiAobGVhZikge1xuICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgdHlwZTogVklFV19UWVBFX0RFQ0tTLFxuICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUZpbGVDaGFuZ2UoZmlsZTogVEZpbGUpIHtcbiAgICAvLyBDaGVjayBpZiBmaWxlIGhhcyBmbGFzaGNhcmRzIHRhZ1xuICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgdGhpcy5kZWJ1Z0xvZyhgRmlsZSBjaGFuZ2VkOiAke2ZpbGUucGF0aH0sIG1ldGFkYXRhOmAsIG1ldGFkYXRhKTtcblxuICAgIGlmICghbWV0YWRhdGEpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGJvdGggaW5saW5lIHRhZ3MgYW5kIGZyb250bWF0dGVyIHRhZ3NcbiAgICBjb25zdCBhbGxUYWdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChtZXRhZGF0YS50YWdzKSB7XG4gICAgICBhbGxUYWdzLnB1c2goLi4ubWV0YWRhdGEudGFncy5tYXAoKHQpID0+IHQudGFnKSk7XG4gICAgfVxuICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlciAmJiBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKSB7XG4gICAgICBjb25zdCBmcm9udG1hdHRlclRhZ3MgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3MpXG4gICAgICAgID8gbWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFnc1xuICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcbiAgICAgIGFsbFRhZ3MucHVzaChcbiAgICAgICAgLi4uZnJvbnRtYXR0ZXJUYWdzLm1hcCgodGFnKSA9PlxuICAgICAgICAgIHRhZy5zdGFydHNXaXRoKFwiI1wiKSA/IHRhZyA6IGAjJHt0YWd9YCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzRmxhc2hjYXJkc1RhZyA9IGFsbFRhZ3Muc29tZSgodGFnKSA9PlxuICAgICAgdGFnLnN0YXJ0c1dpdGgoXCIjZmxhc2hjYXJkc1wiKSxcbiAgICApO1xuXG4gICAgdGhpcy5kZWJ1Z0xvZyhgRmlsZSAke2ZpbGUucGF0aH0gaGFzIGZsYXNoY2FyZHMgdGFnOmAsIGhhc0ZsYXNoY2FyZHNUYWcpO1xuXG4gICAgaWYgKGhhc0ZsYXNoY2FyZHNUYWcpIHtcbiAgICAgIC8vIENoZWNrIGlmIGRlY2sgZXhpc3RzIGZvciB0aGlzIGZpbGVcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5RmlsZXBhdGgoZmlsZS5wYXRoKTtcbiAgICAgIGlmIChleGlzdGluZ0RlY2spIHtcbiAgICAgICAgLy8gVXBkYXRlIGRlY2sgdGFnIGlmIGl0IGNoYW5nZWRcbiAgICAgICAgY29uc3QgbmV3VGFnID1cbiAgICAgICAgICBhbGxUYWdzLmZpbmQoKHRhZykgPT4gdGFnLnN0YXJ0c1dpdGgoXCIjZmxhc2hjYXJkc1wiKSkgfHwgXCIjZmxhc2hjYXJkc1wiO1xuICAgICAgICBpZiAoZXhpc3RpbmdEZWNrLnRhZyAhPT0gbmV3VGFnKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBVcGRhdGluZyBkZWNrIHRhZyBmcm9tICR7ZXhpc3RpbmdEZWNrLnRhZ30gdG8gJHtuZXdUYWd9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRGVjayhleGlzdGluZ0RlY2suaWQsIHsgdGFnOiBuZXdUYWcgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW5jIGZsYXNoY2FyZHMgZm9yIHRoaXMgc3BlY2lmaWMgZGVjayBvbmx5XG4gICAgICAgIGF3YWl0IHlpZWxkVG9VSSgpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlY2tTeW5jaHJvbml6ZXIuc3luY0RlY2soZmlsZS5wYXRoKTtcblxuICAgICAgICAvLyBSZWZyZXNoIG9ubHkgdGhpcyBzcGVjaWZpYyBkZWNrJ3Mgc3RhdHMgKGZhc3Rlc3Qgb3B0aW9uKVxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0c0J5SWQoZXhpc3RpbmdEZWNrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTmV3IGZpbGUgd2l0aCBmbGFzaGNhcmRzIHRhZyAtIGNyZWF0ZSBkZWNrIGZvciB0aGlzIGZpbGUgb25seVxuICAgICAgICBjb25zdCBuZXdUYWcgPVxuICAgICAgICAgIGFsbFRhZ3MuZmluZCgodGFnKSA9PiB0YWcuc3RhcnRzV2l0aChcIiNmbGFzaGNhcmRzXCIpKSB8fCBcIiNmbGFzaGNhcmRzXCI7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVja1N5bmNocm9uaXplci5jcmVhdGVEZWNrRm9yRmlsZShmaWxlLnBhdGgsIG5ld1RhZyk7XG4gICAgICAgIGF3YWl0IHlpZWxkVG9VSSgpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlY2tTeW5jaHJvbml6ZXIuc3luY0RlY2soZmlsZS5wYXRoKTtcblxuICAgICAgICAvLyBGb3IgbmV3IGRlY2tzLCByZWZyZXNoIGFsbCBzdGF0cyB0byBzaG93IHRoZSBuZXcgZGVja1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGVyZm9ybUluaXRpYWxTeW5jKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJQZXJmb3JtaW5nIGluaXRpYWwgYmFja2dyb3VuZCBzeW5jLi4uXCIpO1xuXG4gICAgICAvLyBVc2UgcmVxdWVzdElkbGVDYWxsYmFjayBvciBzZXRUaW1lb3V0IHRvIGVuc3VyZSBub24tYmxvY2tpbmcgZXhlY3V0aW9uXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcblxuICAgICAgLy8gVXNlIHRoZSBtYWluIHBlcmZvcm1TeW5jIG1ldGhvZCB3aGljaCBoYXMgcHJvZ3Jlc3Mgbm90aWNlc1xuICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU3luYyhmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2aWV3IHdpdGggcmVmcmVzaGVkIGRhdGFcbiAgICAgICAgY29uc3QgdXBkYXRlZERlY2tzID0gYXdhaXQgdGhpcy5nZXREZWNrcygpO1xuICAgICAgICBjb25zdCBkZWNrU3RhdHMgPSBhd2FpdCB0aGlzLmdldERlY2tTdGF0cygpO1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlKHVwZGF0ZWREZWNrcywgZGVja1N0YXRzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG90YWxUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgSW5pdGlhbCBzeW5jIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX1gLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIHN5bmM6XCIsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IC0gbGV0IHRoZSBhcHAgY29udGludWUgd29ya2luZyBldmVuIGlmIGluaXRpYWwgc3luYyBmYWlsc1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm1TeW5jKGZvcmNlU3luYzogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kZWNrU3luY2hyb25pemVyLnBlcmZvcm1TeW5jKHtcbiAgICAgIGZvcmNlU3luYyxcbiAgICAgIHNob3dQcm9ncmVzczogdHJ1ZSxcbiAgICAgIG9uUHJvZ3Jlc3M6IChwcm9ncmVzcykgPT4ge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgIGBQcm9ncmVzczogJHtwcm9ncmVzcy5wZXJjZW50YWdlfSUgLSAke3Byb2dyZXNzLm1lc3NhZ2V9YCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Nob3duSW5pdGlhbFByb2dyZXNzKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGZvcmNlU3luY1xuICAgICAgICAgICAgPyBcIlx1RDgzRFx1REQwNCBGb3JjZSByZWZyZXNoaW5nIGZsYXNoY2FyZHMuLi5cXG5cIiArXG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvZ3Jlc3NCYXIocHJvZ3Jlc3MucGVyY2VudGFnZSlcbiAgICAgICAgICAgIDogXCJcdUQ4M0RcdUREMDQgU3luY2luZyBmbGFzaGNhcmRzLi4uXFxuXCIgK1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVByb2dyZXNzQmFyKHByb2dyZXNzLnBlcmNlbnRhZ2UpO1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coYFNob3dpbmcgaW5pdGlhbCBwcm9ncmVzcyBub3RpY2U6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICB0aGlzLnNob3dQcm9ncmVzc05vdGljZShtZXNzYWdlKTtcbiAgICAgICAgICB0aGlzLmhhc1Nob3duSW5pdGlhbFByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHByb2dyZXNzLm1lc3NhZ2UsIHByb2dyZXNzLnBlcmNlbnRhZ2UpO1xuICAgICAgICBpZiAocHJvZ3Jlc3MucGVyY2VudGFnZSA9PT0gMTAwKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlN5bmMgY29tcGxldGUsIGhpZGluZyBwcm9ncmVzcyBub3RpY2VcIik7XG4gICAgICAgICAgdGhpcy5oYXNTaG93bkluaXRpYWxQcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5oaWRlUHJvZ3Jlc3NOb3RpY2UoKSwgMzAwMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5lcnJvcikge1xuICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyhcIlx1Mjc0QyBTeW5jIGZhaWxlZCAtIGNoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHNcIiwgMCk7XG4gICAgICB0aGlzLmhhc1Nob3duSW5pdGlhbFByb2dyZXNzID0gZmFsc2U7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGlkZVByb2dyZXNzTm90aWNlKCksIDUwMDApO1xuICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUZpbGVEZWxldGUoZmlsZTogVEZpbGUpIHtcbiAgICAvLyBSZW1vdmUgdGhlIGRlY2sgYW5kIGFsbCBhc3NvY2lhdGVkIGZsYXNoY2FyZHMvcmV2aWV3IGxvZ3NcbiAgICBhd2FpdCB0aGlzLmRiLmRlbGV0ZURlY2tCeUZpbGVwYXRoKGZpbGUucGF0aCk7XG5cbiAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAvLyBKdXN0IHJlZnJlc2ggc3RhdHMgdG8gcmVtb3ZlIGRlbGV0ZWQgZGVjayBmcm9tIFVJIChtdWNoIGZhc3RlciB0aGFuIGZ1bGwgc3luYylcbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHMoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVGaWxlUmVuYW1lKGZpbGU6IFRGaWxlLCBvbGRQYXRoOiBzdHJpbmcpIHtcbiAgICAvLyBIYW5kbGUgZGVjayBJRCByZWdlbmVyYXRpb24gZm9yIHJlbmFtZWQgZmlsZXNcbiAgICBjb25zdCBvbGREZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlGaWxlcGF0aChvbGRQYXRoKTtcbiAgICBpZiAob2xkRGVjaykge1xuICAgICAgY29uc3Qgb2xkRGVja0lkID0gb2xkRGVjay5pZDtcbiAgICAgIGNvbnN0IG5ld0RlY2tJZCA9IHRoaXMuZGVja01hbmFnZXIuZ2VuZXJhdGVEZWNrSWQoZmlsZS5wYXRoKTtcblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhgRmlsZSByZW5hbWVkIGZyb20gJHtvbGRQYXRofSB0byAke2ZpbGUucGF0aH1gKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYFVwZGF0aW5nIGRlY2sgSUQgZnJvbSAke29sZERlY2tJZH0gdG8gJHtuZXdEZWNrSWR9YCk7XG5cbiAgICAgIC8vIFVwZGF0ZSBkZWNrIHdpdGggbmV3IElELCBuYW1lLCBhbmQgZmlsZXBhdGhcbiAgICAgIGF3YWl0IHRoaXMuZGIucmVuYW1lRGVjayhvbGREZWNrSWQsIG5ld0RlY2tJZCwgZmlsZS5iYXNlbmFtZSwgZmlsZS5wYXRoKTtcblxuICAgICAgLy8gVXBkYXRlIGFsbCBmbGFzaGNhcmQgZGVjayBJRHNcbiAgICAgIGF3YWl0IHRoaXMuZGVja1N5bmNocm9uaXplci51cGRhdGVGbGFzaGNhcmREZWNrSWRzKG9sZERlY2tJZCwgbmV3RGVja0lkKTtcblxuICAgICAgLy8gUmVmcmVzaCB2aWV3IGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc3luY0RlY2tzKCkge1xuICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0RlY2tzKCk7XG4gIH1cblxuICBhc3luYyBzeW5jRmxhc2hjYXJkc0ZvckRlY2soZGVja05hbWU6IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMuZGVja1N5bmNocm9uaXplci5zeW5jRGVjayhkZWNrTmFtZSk7XG4gIH1cblxuICBhc3luYyBnZXRSZXZpZXdDb3VudHMoZGF5czogbnVtYmVyID0gMzY1KTogUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0UmV2aWV3Q291bnRzQnlEYXRlKGRheXMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja3MoKTogUHJvbWlzZTxEZWNrW10+IHtcbiAgICByZXR1cm4gdGhpcy5kYi5nZXRBbGxEZWNrcygpO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja1N0YXRzKCk6IFByb21pc2U8TWFwPHN0cmluZywgRGVja1N0YXRzPj4ge1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5kYi5nZXRBbGxEZWNrU3RhdHMoKTtcbiAgICBjb25zdCBzdGF0c01hcCA9IG5ldyBNYXA8c3RyaW5nLCBEZWNrU3RhdHM+KCk7XG5cbiAgICBmb3IgKGNvbnN0IHN0YXQgb2Ygc3RhdHMpIHtcbiAgICAgIHN0YXRzTWFwLnNldChzdGF0LmRlY2tJZCwgc3RhdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzTWFwO1xuICB9XG5cbiAgYXN5bmMgZ2V0RHVlRmxhc2hjYXJkcyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5nZXREdWVGbGFzaGNhcmRzKGRlY2tJZCk7XG4gIH1cblxuICBhc3luYyBnZXRGbGFzaGNhcmRzQnlEZWNrKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVja0lkKTtcbiAgfVxuXG4gIGFzeW5jIGdldE5leHRDYXJkKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmQgfCBudWxsPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2NoZWR1bGVyLmdldE5leHQobmV3IERhdGUoKSwgZGVja0lkLCB7fSk7XG4gIH1cblxuICBhc3luYyBnZXREYWlseVJldmlld0NvdW50cyhcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx7IG5ld0NvdW50OiBudW1iZXI7IHJldmlld0NvdW50OiBudW1iZXIgfT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG4gIH1cblxuICBhc3luYyBnZXREZWNrU3RhdHNCeUlkKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxEZWNrU3RhdHM+IHtcbiAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja1N0YXRzKGRlY2tJZCk7XG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVja0NvbmZpZyhcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICBjb25maWc6IFBhcnRpYWw8RGVja0NvbmZpZz4sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFZhbGlkYXRlIHByb2ZpbGUgYW5kIHJlcXVlc3RSZXRlbnRpb24gaWYgcHJvdmlkZWRcbiAgICBpZiAoXG4gICAgICBjb25maWcuZnNycz8ucHJvZmlsZSAmJlxuICAgICAgIVtcIklOVEVOU0lWRVwiLCBcIlNUQU5EQVJEXCJdLmluY2x1ZGVzKGNvbmZpZy5mc3JzLnByb2ZpbGUpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvZmlsZTogJHtjb25maWcuZnNycy5wcm9maWxlfWApO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuZnNycz8ucmVxdWVzdFJldGVudGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCByciA9IGNvbmZpZy5mc3JzLnJlcXVlc3RSZXRlbnRpb247XG4gICAgICBpZiAocnIgPD0gMC41IHx8IHJyID49IDAuOTk1KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgcmVxdWVzdFJldGVudGlvbiBtdXN0IGJlIGluIHJhbmdlICgwLjUsIDAuOTk1KSwgZ290ICR7cnJ9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgY3VycmVudCBjb25maWcgYW5kIG1lcmdlIHdpdGggdXBkYXRlc1xuICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBhd2FpdCB0aGlzLmdldERlY2tDb25maWcoZGVja0lkKTtcbiAgICBpZiAoIWN1cnJlbnRDb25maWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVjayBub3QgZm91bmQ6ICR7ZGVja0lkfWApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGhlYWRlciBsZXZlbCBpcyBjaGFuZ2luZ1xuICAgIGNvbnN0IGhlYWRlckxldmVsQ2hhbmdlZCA9XG4gICAgICBjb25maWcuaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgY29uZmlnLmhlYWRlckxldmVsICE9PSBjdXJyZW50Q29uZmlnLmhlYWRlckxldmVsO1xuXG4gICAgY29uc3QgdXBkYXRlZENvbmZpZyA9IHtcbiAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAuLi5jb25maWcsXG4gICAgICBmc3JzOiB7XG4gICAgICAgIC4uLmN1cnJlbnRDb25maWcuZnNycyxcbiAgICAgICAgLi4uY29uZmlnLmZzcnMsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZURlY2soZGVja0lkLCB7IGNvbmZpZzogdXBkYXRlZENvbmZpZyB9KTtcblxuICAgIC8vIElmIGhlYWRlciBsZXZlbCBjaGFuZ2VkLCBmb3JjZSByZXN5bmMgdGhlIGRlY2sgdG8gY2xlYW4gdXAgb2xkIGZsYXNoY2FyZHNcbiAgICBpZiAoaGVhZGVyTGV2ZWxDaGFuZ2VkKSB7XG4gICAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgICAgaWYgKGRlY2spIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgSGVhZGVyIGxldmVsIGNoYW5nZWQgZm9yIGRlY2sgJHtkZWNrLm5hbWV9LCBmb3JjaW5nIHJlc3luY2AsXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHlpZWxkVG9VSSgpO1xuICAgICAgICBhd2FpdCB0aGlzLmRlY2tTeW5jaHJvbml6ZXIuc3luY0RlY2soZGVjay5maWxlcGF0aCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVmcmVzaCBzdGF0cyBmb3IgdGhpcyBkZWNrIHNpbmNlIGNvbmZpZyBjaGFuZ2VzIGNhbiBhZmZlY3QgZGlzcGxheWVkIHN0YXRzXG4gICAgaWYgKHRoaXMudmlldykge1xuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0c0J5SWQoZGVja0lkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRlY2sgY29uZmlndXJhdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0RGVja0NvbmZpZyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8RGVja0NvbmZpZyB8IG51bGw+IHtcbiAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja3MoKTtcbiAgICBjb25zdCBkZWNrID0gZGVja3MuZmluZCgoZCkgPT4gZC5pZCA9PT0gZGVja0lkKTtcbiAgICByZXR1cm4gZGVjayA/IGRlY2suY29uZmlnIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBwcmV2aWV3IGZvciBhIGNhcmQgc2hvd2luZyBhbGwgZm91ciByYXRpbmcgb3V0Y29tZXNcbiAgICovXG4gIGFzeW5jIHNjaGVkdWxlUHJldmlldyhcbiAgICBjYXJkSWQ6IHN0cmluZyxcbiAgICBub3c6IERhdGUgPSBuZXcgRGF0ZSgpLFxuICApOiBQcm9taXNlPFNjaGVkdWxpbmdJbmZvIHwgbnVsbD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNjaGVkdWxlci5wcmV2aWV3KGNhcmRJZCwgbm93KTtcbiAgfVxuXG4gIGFzeW5jIHJldmlld0ZsYXNoY2FyZChcbiAgICBkZWNrOiBEZWNrLFxuICAgIGZsYXNoY2FyZDogRmxhc2hjYXJkLFxuICAgIGRpZmZpY3VsdHk6IFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIixcbiAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVXNlIHVuaWZpZWQgc2NoZWR1bGVyIGZvciByYXRpbmdcbiAgICBhd2FpdCB0aGlzLnNjaGVkdWxlci5yYXRlKFxuICAgICAgZmxhc2hjYXJkLmlkLFxuICAgICAgZGlmZmljdWx0eSxcbiAgICAgIG5ldyBEYXRlKCksXG4gICAgICB0aW1lRWxhcHNlZCxcbiAgICApO1xuXG4gICAgLy8gVXBkYXRlIGRlY2sgbGFzdCByZXZpZXdlZFxuICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRGVja0xhc3RSZXZpZXdlZChmbGFzaGNhcmQuZGVja0lkKTtcblxuICAgIC8vIFJlZnJlc2ggc3RhdHMgZm9yIHRoaXMgc3BlY2lmaWMgZGVjayBpZiB2aWV3IGV4aXN0c1xuICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHNCeUlkKGZsYXNoY2FyZC5kZWNrSWQpO1xuICAgICAgLy8gQWxzbyByZWZyZXNoIGhlYXRtYXAgc2luY2UgYSBuZXcgcmV2aWV3IHdhcyBjb21wbGV0ZWRcbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoSGVhdG1hcCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE92ZXJhbGxTdGF0aXN0aWNzKFxuICAgIGRlY2tGaWx0ZXI6IHN0cmluZyA9IFwiYWxsXCIsXG4gICAgdGltZWZyYW1lOiBzdHJpbmcgPSBcIjEybW9udGhzXCIsXG4gICk6IFByb21pc2U8U3RhdGlzdGljcz4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldE92ZXJhbGxTdGF0aXN0aWNzKGRlY2tGaWx0ZXIsIHRpbWVmcmFtZSk7XG4gIH1cblxuICBvcGVuU3RhdGlzdGljc01vZGFsKCkge1xuICAgIGNvbnN0IG1vZGFsID0gbmV3IFN0YXRpc3RpY3NNb2RhbCh0aGlzKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH1cblxuICByZW5kZXJNYXJrZG93bihjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoKTtcbiAgICBjb21wb25lbnQubG9hZCgpO1xuICAgIE1hcmtkb3duUmVuZGVyZXIucmVuZGVyTWFya2Rvd24oY29udGVudCwgZWwsIFwiXCIsIGNvbXBvbmVudCk7XG4gICAgLy8gUmV0dXJuIGNvbXBvbmVudCBmb3IgY2FsbGVyIHRvIG1hbmFnZVxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cbn1cblxuY2xhc3MgRGVja3NWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgc2NoZWR1bGVyOiBTY2hlZHVsZXI7XG4gIHByaXZhdGUgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncztcbiAgcHJpdmF0ZSBkZWJ1Z0xvZzogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gIHByaXZhdGUgcGVyZm9ybVN5bmM6IChmb3JjZT86IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgZ2V0RGVja3M6ICgpID0+IFByb21pc2U8RGVja1tdPjtcbiAgcHJpdmF0ZSBnZXREZWNrU3RhdHM6ICgpID0+IFByb21pc2U8TWFwPHN0cmluZywgRGVja1N0YXRzPj47XG4gIHByaXZhdGUgZ2V0RGVja1N0YXRzQnlJZDogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPERlY2tTdGF0cyB8IG51bGw+O1xuICBwcml2YXRlIGdldFJldmlld0NvdW50czogKGRheXM6IG51bWJlcikgPT4gUHJvbWlzZTxhbnk+O1xuICBwcml2YXRlIHVwZGF0ZURlY2tDb25maWc6IChcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICBjb25maWc6IERlY2tDb25maWcsXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSBvcGVuU3RhdGlzdGljc01vZGFsOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHN5bmNGbGFzaGNhcmRzRm9yRGVjazogKGRlY2tOYW1lOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgZ2V0RGFpbHlSZXZpZXdDb3VudHM6IChcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgKSA9PiBQcm9taXNlPHsgbmV3Q291bnQ6IG51bWJlcjsgcmV2aWV3Q291bnQ6IG51bWJlciB9PjtcbiAgcHJpdmF0ZSByZXZpZXdGbGFzaGNhcmQ6IChcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgZGlmZmljdWx0eTogUmF0aW5nTGFiZWwsXG4gICAgdGltZUVsYXBzZWQ/OiBudW1iZXIsXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bjogKFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBlbDogSFRNTEVsZW1lbnQsXG4gICkgPT4gQ29tcG9uZW50IHwgbnVsbDtcbiAgcHJpdmF0ZSBzZXRWaWV3UmVmZXJlbmNlOiAodmlldzogRGVja3NWaWV3IHwgbnVsbCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IERlY2tMaXN0UGFuZWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZG93bkNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG4gIHByaXZhdGUgc3RhdHNSZWZyZXNoVGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBsdWdpbjogRGVja3NQbHVnaW4sXG4gICAgbGVhZjogV29ya3NwYWNlTGVhZixcbiAgICBzY2hlZHVsZXI6IFNjaGVkdWxlcixcbiAgICBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzLFxuICAgIGRlYnVnTG9nOiAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgICBwZXJmb3JtU3luYzogKGZvcmNlPzogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPixcbiAgICBnZXREZWNrczogKCkgPT4gUHJvbWlzZTxEZWNrW10+LFxuICAgIGdldERlY2tTdGF0czogKCkgPT4gUHJvbWlzZTxNYXA8c3RyaW5nLCBEZWNrU3RhdHM+PixcbiAgICBnZXREZWNrU3RhdHNCeUlkOiAoZGVja0lkOiBzdHJpbmcpID0+IFByb21pc2U8RGVja1N0YXRzIHwgbnVsbD4sXG4gICAgZ2V0UmV2aWV3Q291bnRzOiAoXG4gICAgICBkYXlzOiBudW1iZXIsXG4gICAgKSA9PiBQcm9taXNlPE1hcDxzdHJpbmcsIHsgZGF0ZTogc3RyaW5nOyByZXZpZXdzOiBudW1iZXIgfVtdPj4sXG4gICAgdXBkYXRlRGVja0NvbmZpZzogKFxuICAgICAgZGVja0lkOiBzdHJpbmcsXG4gICAgICBjb25maWc6IFBhcnRpYWw8RGVja0NvbmZpZz4sXG4gICAgKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIG9wZW5TdGF0aXN0aWNzTW9kYWw6IChkZWNrRmlsdGVyPzogc3RyaW5nKSA9PiB2b2lkLFxuICAgIHN5bmNGbGFzaGNhcmRzRm9yRGVjazogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIGdldERhaWx5UmV2aWV3Q291bnRzOiAoXG4gICAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICApID0+IFByb21pc2U8eyBuZXdDb3VudDogbnVtYmVyOyByZXZpZXdDb3VudDogbnVtYmVyIH0+LFxuICAgIHJldmlld0ZsYXNoY2FyZDogKFxuICAgICAgY2FyZDogRmxhc2hjYXJkLFxuICAgICAgcmF0aW5nOiBSYXRpbmdMYWJlbCxcbiAgICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICAgICkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICByZW5kZXJNYXJrZG93bjogKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiBDb21wb25lbnQgfCBudWxsLFxuICAgIHNldFZpZXdSZWZlcmVuY2U6ICh2aWV3OiBEZWNrc1ZpZXcgfCBudWxsKSA9PiB2b2lkLFxuICApIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5kZWJ1Z0xvZyA9IGRlYnVnTG9nO1xuICAgIHRoaXMucGVyZm9ybVN5bmMgPSBwZXJmb3JtU3luYztcbiAgICB0aGlzLmdldERlY2tzID0gZ2V0RGVja3M7XG4gICAgdGhpcy5nZXREZWNrU3RhdHMgPSBnZXREZWNrU3RhdHM7XG4gICAgdGhpcy5nZXREZWNrU3RhdHNCeUlkID0gZ2V0RGVja1N0YXRzQnlJZDtcbiAgICB0aGlzLmdldFJldmlld0NvdW50cyA9IGdldFJldmlld0NvdW50cztcbiAgICB0aGlzLnVwZGF0ZURlY2tDb25maWcgPSB1cGRhdGVEZWNrQ29uZmlnO1xuICAgIHRoaXMub3BlblN0YXRpc3RpY3NNb2RhbCA9IG9wZW5TdGF0aXN0aWNzTW9kYWw7XG4gICAgdGhpcy5zeW5jRmxhc2hjYXJkc0ZvckRlY2sgPSBzeW5jRmxhc2hjYXJkc0ZvckRlY2s7XG4gICAgdGhpcy5nZXREYWlseVJldmlld0NvdW50cyA9IGdldERhaWx5UmV2aWV3Q291bnRzO1xuICAgIHRoaXMucmV2aWV3Rmxhc2hjYXJkID0gcmV2aWV3Rmxhc2hjYXJkO1xuICAgIHRoaXMucmVuZGVyTWFya2Rvd24gPSByZW5kZXJNYXJrZG93bjtcbiAgICB0aGlzLnNldFZpZXdSZWZlcmVuY2UgPSBzZXRWaWV3UmVmZXJlbmNlO1xuICAgIC8vIFNldCByZWZlcmVuY2UgaW4gcGx1Z2luIHNvIHdlIGNhbiBhY2Nlc3MgdGhpcyB2aWV3IGluc3RhbmNlXG4gICAgdGhpcy5zZXRWaWV3UmVmZXJlbmNlKHRoaXMpO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gVklFV19UWVBFX0RFQ0tTO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJEZWNrc1wiO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImJyYWluXCI7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJkZWNrcy12aWV3XCIpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBtb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgRGVja0xpc3RQYW5lbCh7XG4gICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIG9uRGVja0NsaWNrOiAoZGVjazogRGVjaykgPT4gdGhpcy5zdGFydFJldmlldyhkZWNrKSxcbiAgICAgICAgb25SZWZyZXNoOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcIm9uUmVmcmVzaCBjYWxsYmFjayBpbnZva2VkXCIpO1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UmV2aWV3Q291bnRzOiBhc3luYyAoZGF5czogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0UmV2aWV3Q291bnRzKGRheXMpO1xuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZURlY2tDb25maWc6IGFzeW5jIChkZWNrSWQ6IHN0cmluZywgY29uZmlnOiBEZWNrQ29uZmlnKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVEZWNrQ29uZmlnKGRlY2tJZCwgY29uZmlnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25PcGVuU3RhdGlzdGljczogKCkgPT4ge1xuICAgICAgICAgIHRoaXMub3BlblN0YXRpc3RpY3NNb2RhbCgpO1xuICAgICAgICB9LFxuICAgICAgICBwbHVnaW46IHRoaXMucGx1Z2luLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIC8vIEluaXRpYWwgcmVmcmVzaFxuICAgIC8vIGF3YWl0IHRoaXMucmVmcmVzaChmYWxzZSk7XG5cbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIHJlZnJlc2ggam9iIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zZXR0aW5ncy51aS5lbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCkge1xuICAgICAgdGhpcy5zdGFydEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgdGltZW91dHNcbiAgICBpZiAodGhpcy5zdGF0c1JlZnJlc2hUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0c1JlZnJlc2hUaW1lb3V0KTtcbiAgICAgIHRoaXMuc3RhdHNSZWZyZXNoVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgYmFja2dyb3VuZCByZWZyZXNoXG4gICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2goKTtcblxuICAgIC8vIENsZWFuIHVwIG1hcmtkb3duIGNvbXBvbmVudHNcbiAgICB0aGlzLm1hcmtkb3duQ29tcG9uZW50cy5mb3JFYWNoKChjb21wKSA9PiBjb21wLnVubG9hZCgpKTtcbiAgICB0aGlzLm1hcmtkb3duQ29tcG9uZW50cyA9IFtdO1xuXG4gICAgLy8gQ2xlYXIgcmVmZXJlbmNlIGluIHBsdWdpblxuICAgIHRoaXMuc2V0Vmlld1JlZmVyZW5jZShudWxsKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSh1cGRhdGVkRGVja3M6IERlY2tbXSwgZGVja1N0YXRzOiBNYXA8c3RyaW5nLCBEZWNrU3RhdHM+KSB7XG4gICAgdGhpcy5jb21wb25lbnQ/LnVwZGF0ZURlY2tzKHVwZGF0ZWREZWNrcyk7XG4gICAgdGhpcy5jb21wb25lbnQ/LnVwZGF0ZVN0YXRzKGRlY2tTdGF0cyk7XG4gIH1cblxuICBhc3luYyByZWZyZXNoKGZvcmNlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3NWaWV3LnJlZnJlc2goKSBjYWxsZWRcIik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFBlcmZvcm0gc3luYyB3aXRoIGZvcmNlIHBhcmFtZXRlclxuICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU3luYyhmb3JjZSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdmlldyB3aXRoIHJlZnJlc2hlZCBkYXRhXG4gICAgICBjb25zdCB1cGRhdGVkRGVja3MgPSBhd2FpdCB0aGlzLmdldERlY2tzKCk7XG4gICAgICBjb25zdCBkZWNrU3RhdHMgPSBhd2FpdCB0aGlzLmdldERlY2tTdGF0cygpO1xuICAgICAgdGhpcy51cGRhdGUodXBkYXRlZERlY2tzLCBkZWNrU3RhdHMpO1xuXG4gICAgICB0aGlzLmRlYnVnTG9nKFwiUmVmcmVzaCBjb21wbGV0ZVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlZnJlc2hpbmcgZGVja3M6XCIsIGVycm9yKTtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgbmV3IE5vdGljZShcIkVycm9yIHJlZnJlc2hpbmcgZGVja3MuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2hTdGF0cygpIHtcbiAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3NWaWV3LnJlZnJlc2hTdGF0cygpIGV4ZWN1dGluZ1wiKTtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVwZGF0ZWQgc3RhdHMgb25seSAoZmFzdGVyIHRoYW4gZnVsbCByZWZyZXNoKVxuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHMoKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJVcGRhdGVkIGRlY2sgc3RhdHM6XCIsIGRlY2tTdGF0cyk7XG5cbiAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnQgd2l0aCBuZXcgc3RhdHMgLSBzYW1lIHBhdHRlcm4gYXMgcmVmcmVzaCgpXG4gICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQudXBkYXRlU3RhdHMoZGVja1N0YXRzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlZnJlc2hpbmcgc3RhdHM6XCIsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZWZyZXNoU3RhdHNCeUlkKGRlY2tJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhgRGVja3NWaWV3LnJlZnJlc2hTdGF0c0J5SWQoKSBleGVjdXRpbmcgZm9yIGRlY2s6ICR7ZGVja0lkfWApO1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIHN0YXRzIChzYW1lIGFzIHJlZnJlc2goKSBtZXRob2QgZm9yIGNvbnNpc3RlbmN5KVxuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHNCeUlkKGRlY2tJZCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiVXBkYXRlZCBhbGwgZGVjayBzdGF0c1wiKTtcblxuICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudCB1c2luZyBzYW1lIHBhdHRlcm4gYXMgcmVmcmVzaCgpXG4gICAgICBpZiAodGhpcy5jb21wb25lbnQgJiYgZGVja1N0YXRzKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnVwZGF0ZVN0YXRzQnlJZChkZWNrSWQsIGRlY2tTdGF0cyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIHN0YXRzIGJ5IElEOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICAvLyBEb24ndCBzdGFydCBpZiBiYWNrZ3JvdW5kIHJlZnJlc2ggaXMgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICB0aGlzLnN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuXG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBTdGFydGluZyBiYWNrZ3JvdW5kIHJlZnJlc2ggam9iIChldmVyeSAke3RoaXMuc2V0dGluZ3MudWkuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbH0gc2Vjb25kcylgLFxuICAgICk7XG5cbiAgICB0aGlzLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiQmFja2dyb3VuZCByZWZyZXNoIHRpY2tcIik7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9LCB0aGlzLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgKiAxMDAwKTtcbiAgfVxuXG4gIHN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICBpZiAodGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiU3RvcHBpbmcgYmFja2dyb3VuZCByZWZyZXNoIGpvYlwiKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsKTtcbiAgICAgIHRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVzdGFydEJhY2tncm91bmRSZWZyZXNoKCkge1xuICAgIHRoaXMuc3RvcEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpIHtcbiAgICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2hIZWF0bWFwKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnQucmVmcmVzaEhlYXRtYXAoKTtcbiAgICB9XG4gIH1cblxuICAvLyBUZXN0IG1ldGhvZCB0byBjaGVjayBpZiBiYWNrZ3JvdW5kIGpvYiBpcyBydW5uaW5nXG4gIGNoZWNrQmFja2dyb3VuZEpvYlN0YXR1cygpIHtcbiAgICB0aGlzLmRlYnVnTG9nKFwiQmFja2dyb3VuZCBqb2Igc3RhdHVzOlwiLCB7XG4gICAgICBpc1J1bm5pbmc6ICEhdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgICAgaW50ZXJ2YWxJZDogdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgICAgY29tcG9uZW50RXhpc3RzOiAhIXRoaXMuY29tcG9uZW50LFxuICAgICAgcmVmcmVzaEludGVydmFsOiB0aGlzLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzdGFydFJldmlldyhkZWNrOiBEZWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpcnN0IHN5bmMgZmxhc2hjYXJkcyBmb3IgdGhpcyBzcGVjaWZpYyBkZWNrXG4gICAgICB0aGlzLmRlYnVnTG9nKGBTeW5jaW5nIGNhcmRzIGZvciBkZWNrIGJlZm9yZSByZXZpZXc6ICR7ZGVjay5uYW1lfWApO1xuICAgICAgYXdhaXQgdGhpcy5zeW5jRmxhc2hjYXJkc0ZvckRlY2soZGVjay5uYW1lKTtcblxuICAgICAgLy8gR2V0IGRhaWx5IHJldmlldyBjb3VudHMgdG8gc2hvdyByZW1haW5pbmcgYWxsb3dhbmNlXG4gICAgICBjb25zdCBkYWlseUNvdW50cyA9IGF3YWl0IHRoaXMuZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVjay5pZCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgZGFpbHkgYWxsb3dhbmNlXG4gICAgICBjb25zdCBjb25maWcgPSBkZWNrLmNvbmZpZztcbiAgICAgIGNvbnN0IHJlbWFpbmluZ05ldyA9IGhhc05ld0NhcmRzTGltaXQoY29uZmlnKVxuICAgICAgICA/IE1hdGgubWF4KDAsIGNvbmZpZy5uZXdDYXJkc1BlckRheSAtIGRhaWx5Q291bnRzLm5ld0NvdW50KVxuICAgICAgICA6IFwidW5saW1pdGVkXCI7XG4gICAgICBjb25zdCByZW1haW5pbmdSZXZpZXcgPSBoYXNSZXZpZXdDYXJkc0xpbWl0KGNvbmZpZylcbiAgICAgICAgPyBNYXRoLm1heCgwLCBjb25maWcucmV2aWV3Q2FyZHNQZXJEYXkgLSBkYWlseUNvdW50cy5yZXZpZXdDb3VudClcbiAgICAgICAgOiBcInVubGltaXRlZFwiO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgYW55IGNhcmRzIGF2YWlsYWJsZSB1c2luZyB0aGUgc2NoZWR1bGVyXG4gICAgICBjb25zdCBuZXh0Q2FyZCA9IGF3YWl0IHRoaXMuc2NoZWR1bGVyLmdldE5leHQobmV3IERhdGUoKSwgZGVjay5pZCwge1xuICAgICAgICBhbGxvd05ldzogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIW5leHRDYXJkKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYE5vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IGluICR7ZGVjay5uYW1lfWA7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbGltaXRzIGFyZSB0aGUgcmVhc29uIG5vIGNhcmRzIGFyZSBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgbmV3TGltaXRSZWFjaGVkID0gaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpICYmIHJlbWFpbmluZ05ldyA9PT0gMDtcbiAgICAgICAgY29uc3QgcmV2aWV3TGltaXRSZWFjaGVkID1cbiAgICAgICAgICBoYXNSZXZpZXdDYXJkc0xpbWl0KGNvbmZpZykgJiYgcmVtYWluaW5nUmV2aWV3ID09PSAwO1xuXG4gICAgICAgIGlmIChuZXdMaW1pdFJlYWNoZWQgJiYgcmV2aWV3TGltaXRSZWFjaGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuXFxuRGFpbHkgbGltaXRzIHJlYWNoZWQ6YDtcbiAgICAgICAgICBtZXNzYWdlICs9IGBcXG5OZXcgY2FyZHM6ICR7Y29uZmlnLm5ld0NhcmRzUGVyRGF5fS8ke2NvbmZpZy5uZXdDYXJkc1BlckRheX1gO1xuICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcblJldmlldyBjYXJkczogJHtjb25maWcucmV2aWV3Q2FyZHNQZXJEYXl9LyR7Y29uZmlnLnJldmlld0NhcmRzUGVyRGF5fWA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3TGltaXRSZWFjaGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuXFxuRGFpbHkgbmV3IGNhcmRzIGxpbWl0IHJlYWNoZWQ6ICR7Y29uZmlnLm5ld0NhcmRzUGVyRGF5fS8ke2NvbmZpZy5uZXdDYXJkc1BlckRheX1gO1xuICAgICAgICB9IGVsc2UgaWYgKHJldmlld0xpbWl0UmVhY2hlZCkge1xuICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcblxcbkRhaWx5IHJldmlldyBjYXJkcyBsaW1pdCByZWFjaGVkOiAke2NvbmZpZy5yZXZpZXdDYXJkc1BlckRheX0vJHtjb25maWcucmV2aWV3Q2FyZHNQZXJEYXl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBkYWlseSBsaW1pdCBpbmZvIGJlZm9yZSBzdGFydGluZyByZXZpZXcgaWYgbGltaXRzIGFyZSBhY3RpdmVcbiAgICAgIGlmIChoYXNOZXdDYXJkc0xpbWl0KGNvbmZpZykgfHwgaGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpKSB7XG4gICAgICAgIGxldCBsaW1pdEluZm8gPSBgRGFpbHkgcHJvZ3Jlc3MgZm9yICR7ZGVjay5uYW1lfTpcXG5gO1xuICAgICAgICBpZiAoaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpKSB7XG4gICAgICAgICAgaWYgKGRhaWx5Q291bnRzLm5ld0NvdW50ID49IGNvbmZpZy5uZXdDYXJkc1BlckRheSkge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBOZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMubmV3Q291bnR9LyR7Y29uZmlnLm5ld0NhcmRzUGVyRGF5fSAoTElNSVQgRVhDRUVERUQpXFxuYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBOZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMubmV3Q291bnR9LyR7Y29uZmlnLm5ld0NhcmRzUGVyRGF5fSAoJHtyZW1haW5pbmdOZXd9IHJlbWFpbmluZylcXG5gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpKSB7XG4gICAgICAgICAgaWYgKGRhaWx5Q291bnRzLnJldmlld0NvdW50ID49IGNvbmZpZy5yZXZpZXdDYXJkc1BlckRheSkge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBSZXZpZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMucmV2aWV3Q291bnR9LyR7Y29uZmlnLnJldmlld0NhcmRzUGVyRGF5fSAoTElNSVQgRVhDRUVERUQpYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBSZXZpZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMucmV2aWV3Q291bnR9LyR7Y29uZmlnLnJldmlld0NhcmRzUGVyRGF5fSAoJHtyZW1haW5pbmdSZXZpZXd9IHJlbWFpbmluZylgO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBleHBsYW5hdGlvbiB3aGVuIGxpbWl0cyBhcmUgZXhjZWVkZWQgYnV0IGxlYXJuaW5nIGNhcmRzIGFyZSBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgbmV3TGltaXRFeGNlZWRlZCA9XG4gICAgICAgICAgaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpICYmXG4gICAgICAgICAgZGFpbHlDb3VudHMubmV3Q291bnQgPj0gY29uZmlnLm5ld0NhcmRzUGVyRGF5O1xuICAgICAgICBjb25zdCByZXZpZXdMaW1pdEV4Y2VlZGVkID1cbiAgICAgICAgICBoYXNSZXZpZXdDYXJkc0xpbWl0KGNvbmZpZykgJiZcbiAgICAgICAgICBkYWlseUNvdW50cy5yZXZpZXdDb3VudCA+PSBjb25maWcucmV2aWV3Q2FyZHNQZXJEYXk7XG5cbiAgICAgICAgaWYgKG5ld0xpbWl0RXhjZWVkZWQgfHwgcmV2aWV3TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgIGxpbWl0SW5mbyArPSBgXFxuXFxuTm90ZTogT25seSBsZWFybmluZyBjYXJkcyB3aWxsIGJlIHNob3duIChsaW1pdHMgZXhjZWVkZWQpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKGxpbWl0SW5mbywgNTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gT3BlbiByZXZpZXcgbW9kYWxcbiAgICAgIG5ldyBGbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXIoXG4gICAgICAgIHRoaXMuYXBwLFxuICAgICAgICBkZWNrLFxuICAgICAgICBbbmV4dENhcmRdLFxuICAgICAgICB0aGlzLnNjaGVkdWxlcixcbiAgICAgICAgdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgdGhpcy5yZXZpZXdGbGFzaGNhcmQuYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5yZW5kZXJNYXJrZG93bixcbiAgICAgICAgdGhpcy5yZWZyZXNoLmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMucmVmcmVzaFN0YXRzQnlJZC5iaW5kKHRoaXMpLFxuICAgICAgKS5vcGVuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFydGluZyByZXZpZXc6XCIsIGVycm9yKTtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgbmV3IE5vdGljZShcIkVycm9yIHN0YXJ0aW5nIHJldmlldy4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IGluaXRTcWxKcywgeyBEYXRhYmFzZSwgU3FsSnNTdGF0aWMgfSBmcm9tIFwic3FsLmpzXCI7XG5pbXBvcnQgeyBEYXRhQWRhcHRlciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtcbiAgRGVjayxcbiAgRGVja0NvbmZpZyxcbiAgUmV2aWV3T3JkZXIsXG4gIEZsYXNoY2FyZCxcbiAgUmV2aWV3TG9nLFxuICBSZXZpZXdTZXNzaW9uLFxuICBEZWNrU3RhdHMsXG4gIFN0YXRpc3RpY3MsXG4gIERFRkFVTFRfREVDS19DT05GSUcsXG4gIGhhc05ld0NhcmRzTGltaXQsXG4gIGhhc1Jldmlld0NhcmRzTGltaXQsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBTUUxfUVVFUklFUyB9IGZyb20gXCIuL3NjaGVtYXNcIjtcbmltcG9ydCB7IGNyZWF0ZVRhYmxlcywgbWlncmF0ZSwgbmVlZHNNaWdyYXRpb24gfSBmcm9tIFwiLi9taWdyYXRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZVNlcnZpY2Uge1xuICBwcml2YXRlIGRiOiBEYXRhYmFzZSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIFNRTDogU3FsSnNTdGF0aWMgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBkYlBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBhZGFwdGVyOiBEYXRhQWRhcHRlcjtcbiAgcHJpdmF0ZSBkZWJ1Z0xvZzogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZGJQYXRoOiBzdHJpbmcsXG4gICAgYWRhcHRlcjogRGF0YUFkYXB0ZXIsXG4gICAgZGVidWdMb2c6IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLmRiUGF0aCA9IGRiUGF0aDtcbiAgICB0aGlzLmFkYXB0ZXIgPSBhZGFwdGVyO1xuICAgIHRoaXMuZGVidWdMb2cgPSBkZWJ1Z0xvZztcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEluaXRpYWxpemUgc3FsLmpzXG4gICAgICB0aGlzLlNRTCA9IGF3YWl0IGluaXRTcWxKcyh7XG4gICAgICAgIGxvY2F0ZUZpbGU6IChmaWxlKSA9PiBgaHR0cHM6Ly9zcWwuanMub3JnL2Rpc3QvJHtmaWxlfWAsXG4gICAgICB9KTtcblxuICAgICAgLy8gVHJ5IHRvIGxvYWQgZXhpc3RpbmcgZGF0YWJhc2Ugb3IgY3JlYXRlIG5ldyBvbmVcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMubG9hZERhdGFiYXNlRmlsZSgpO1xuICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAvLyBFeGlzdGluZyBkYXRhYmFzZSBmaWxlIC0gbG9hZCBhbmQgY2hlY2sgZm9yIG1pZ3JhdGlvblxuICAgICAgICB0aGlzLmRiID0gbmV3IHRoaXMuU1FMLkRhdGFiYXNlKG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICAgICAgICBhd2FpdCB0aGlzLm1pZ3JhdGVTY2hlbWFJZk5lZWRlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gZGF0YWJhc2UgZmlsZSBleGlzdHMgLSBjcmVhdGUgZnJlc2ggZGF0YWJhc2VcbiAgICAgICAgdGhpcy5kYiA9IG5ldyB0aGlzLlNRTC5EYXRhYmFzZSgpO1xuICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZUZyZXNoRGF0YWJhc2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWREYXRhYmFzZUZpbGUoKTogUHJvbWlzZTxBcnJheUJ1ZmZlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGF3YWl0IHRoaXMuYWRhcHRlci5leGlzdHModGhpcy5kYlBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFkYXB0ZXIucmVhZEJpbmFyeSh0aGlzLmRiUGF0aCk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBmaWxlIGRvZXNuJ3QgZXhpc3QgeWV0LCB3aWxsIGNyZWF0ZSBuZXcgb25lXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICAvLyBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHIobnVsbCkpKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGIuZXhwb3J0KCk7XG5cbiAgICAgIC8vIEVuc3VyZSBkaXJlY3RvcnkgZXhpc3RzXG4gICAgICBjb25zdCBkaXIgPSB0aGlzLmRiUGF0aC5zdWJzdHJpbmcoMCwgdGhpcy5kYlBhdGgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuYWRhcHRlci5leGlzdHMoZGlyKSkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hZGFwdGVyLm1rZGlyKGRpcik7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlci53cml0ZUJpbmFyeSh0aGlzLmRiUGF0aCwgQnVmZmVyLmZyb20oZGF0YSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNhdmUgZGF0YWJhc2U6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyaWMgQ1JVRCBoZWxwZXIgbWV0aG9kc1xuICBwcml2YXRlIGV4ZWN1dGVTdGF0ZW1lbnQoc3FsOiBzdHJpbmcsIHBhcmFtczogYW55W10gPSBbXSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcbiAgICB0cnkge1xuICAgICAgc3RtdC5ydW4ocGFyYW1zKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBleGVjdXRlU3RhdGVtZW50V2l0aFNhdmUoXG4gICAgc3FsOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBhbnlbXSA9IFtdLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlU3RhdGVtZW50V2l0aENhbGxiYWNrKHNxbCwgcGFyYW1zLCAoKSA9PiB0aGlzLnNhdmUoKSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVTdGF0ZW1lbnRXaXRoQ2FsbGJhY2soXG4gICAgc3FsOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBhbnlbXSxcbiAgICBjYWxsYmFjaz86ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuICAgIGxldCBzdG10O1xuICAgIHRyeSB7XG4gICAgICBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG4gICAgICBzdG10LnJ1bihwYXJhbXMpO1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgICBzdG10ID0gbnVsbDtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBhd2FpdCBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoc3RtdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0bXQuZnJlZSgpO1xuICAgICAgICB9IGNhdGNoIChmcmVlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZnJlZSBzdGF0ZW1lbnQ6YCwgZnJlZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBxdWVyeUFsbDxUPihcbiAgICBzcWw6IHN0cmluZyxcbiAgICBwYXJhbXM6IGFueVtdID0gW10sXG4gICAgcGFyc2VyOiAocm93OiBhbnkpID0+IFQsXG4gICk6IFRbXSB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShzcWwpO1xuICAgIGNvbnN0IHJlc3VsdHM6IFRbXSA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBpZiAocGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RtdC5iaW5kKHBhcmFtcyk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoc3RtdC5zdGVwKCkpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHBhcnNlcihzdG10LmdldCgpKSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHN0bXQuZnJlZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIHByaXZhdGUgcXVlcnlPbmU8VD4oXG4gICAgc3FsOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBhbnlbXSA9IFtdLFxuICAgIHBhcnNlcjogKHJvdzogYW55KSA9PiBULFxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucXVlcnlBbGwoc3FsLCBwYXJhbXMsIHBhcnNlcik7XG4gICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMCA/IHJlc3VsdHNbMF0gOiBudWxsO1xuICB9XG5cbiAgLy8gVHJhbnNhY3Rpb24gbWV0aG9kc1xuICBiZWdpblRyYW5zYWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuICAgIHRoaXMuZGIucnVuKFwiQkVHSU4gVFJBTlNBQ1RJT047XCIpO1xuICB9XG5cbiAgY29tbWl0VHJhbnNhY3Rpb24oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgdGhpcy5kYi5ydW4oXCJDT01NSVQ7XCIpO1xuICB9XG5cbiAgcm9sbGJhY2tUcmFuc2FjdGlvbigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICB0aGlzLmRiLnJ1bihcIlJPTExCQUNLO1wiKTtcbiAgfVxuXG4gIC8vIEJhdGNoIG9wZXJhdGlvbnMgdXNpbmcgc2luZ2xlIHByZXBhcmVkIHN0YXRlbWVudHNcbiAgYmF0Y2hDcmVhdGVGbGFzaGNhcmRzKFxuICAgIGZsYXNoY2FyZHM6IEFycmF5PE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj4+LFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICBpZiAoZmxhc2hjYXJkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuSU5TRVJUX0ZMQVNIQ0FSRCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgZmxhc2hjYXJkIG9mIGZsYXNoY2FyZHMpIHtcbiAgICAgICAgc3RtdC5ydW4oW1xuICAgICAgICAgIGZsYXNoY2FyZC5pZCxcbiAgICAgICAgICBmbGFzaGNhcmQuZGVja0lkLFxuICAgICAgICAgIGZsYXNoY2FyZC5mcm9udCxcbiAgICAgICAgICBmbGFzaGNhcmQuYmFjayxcbiAgICAgICAgICBmbGFzaGNhcmQudHlwZSxcbiAgICAgICAgICBmbGFzaGNhcmQuc291cmNlRmlsZSxcbiAgICAgICAgICBmbGFzaGNhcmQuY29udGVudEhhc2gsXG4gICAgICAgICAgZmxhc2hjYXJkLnN0YXRlLFxuICAgICAgICAgIGZsYXNoY2FyZC5kdWVEYXRlLFxuICAgICAgICAgIGZsYXNoY2FyZC5pbnRlcnZhbCxcbiAgICAgICAgICBmbGFzaGNhcmQucmVwZXRpdGlvbnMsXG4gICAgICAgICAgZmxhc2hjYXJkLmRpZmZpY3VsdHksXG4gICAgICAgICAgZmxhc2hjYXJkLnN0YWJpbGl0eSxcbiAgICAgICAgICBmbGFzaGNhcmQubGFwc2VzLFxuICAgICAgICAgIGZsYXNoY2FyZC5sYXN0UmV2aWV3ZWQsXG4gICAgICAgICAgbm93LCAvLyBjcmVhdGVkXG4gICAgICAgICAgbm93LCAvLyBtb2RpZmllZFxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgfVxuICB9XG5cbiAgYmF0Y2hVcGRhdGVGbGFzaGNhcmRzKFxuICAgIHVwZGF0ZXM6IEFycmF5PHtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICB1cGRhdGVzOiBQYXJ0aWFsPFxuICAgICAgICBQaWNrPFxuICAgICAgICAgIEZsYXNoY2FyZCxcbiAgICAgICAgICB8IFwiZnJvbnRcIlxuICAgICAgICAgIHwgXCJiYWNrXCJcbiAgICAgICAgICB8IFwidHlwZVwiXG4gICAgICAgICAgfCBcImNvbnRlbnRIYXNoXCJcbiAgICAgICAgICB8IFwic3RhdGVcIlxuICAgICAgICAgIHwgXCJkdWVEYXRlXCJcbiAgICAgICAgICB8IFwiaW50ZXJ2YWxcIlxuICAgICAgICAgIHwgXCJyZXBldGl0aW9uc1wiXG4gICAgICAgICAgfCBcImRpZmZpY3VsdHlcIlxuICAgICAgICAgIHwgXCJzdGFiaWxpdHlcIlxuICAgICAgICAgIHwgXCJsYXBzZXNcIlxuICAgICAgICAgIHwgXCJsYXN0UmV2aWV3ZWRcIlxuICAgICAgICA+XG4gICAgICA+O1xuICAgIH0+LFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICBpZiAodXBkYXRlcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIC8vIEdyb3VwIHVwZGF0ZXMgYnkgZmllbGRzIHRvIG1pbmltaXplIHByZXBhcmVkIHN0YXRlbWVudHNcbiAgICBjb25zdCB1cGRhdGVHcm91cHMgPSBuZXcgTWFwPFxuICAgICAgc3RyaW5nLFxuICAgICAgQXJyYXk8eyBpZDogc3RyaW5nOyB2YWx1ZXM6IGFueVtdIH0+XG4gICAgPigpO1xuXG4gICAgZm9yIChjb25zdCB7IGlkLCB1cGRhdGVzOiB1cGRhdGVEYXRhIH0gb2YgdXBkYXRlcykge1xuICAgICAgY29uc3QgZmllbGRzID0gW107XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModXBkYXRlRGF0YSkpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBkYkZpZWxkID1cbiAgICAgICAgICAgIGtleSA9PT0gXCJkdWVEYXRlXCJcbiAgICAgICAgICAgICAgPyBcImR1ZV9kYXRlXCJcbiAgICAgICAgICAgICAgOiBrZXkgPT09IFwibGFzdFJldmlld2VkXCJcbiAgICAgICAgICAgICAgICA/IFwibGFzdF9yZXZpZXdlZFwiXG4gICAgICAgICAgICAgICAgOiBrZXkgPT09IFwiY29udGVudEhhc2hcIlxuICAgICAgICAgICAgICAgICAgPyBcImNvbnRlbnRfaGFzaFwiXG4gICAgICAgICAgICAgICAgICA6IGtleTtcbiAgICAgICAgICBmaWVsZHMucHVzaChgJHtkYkZpZWxkfSA9ID9gKTtcbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICBmaWVsZHMucHVzaChcIm1vZGlmaWVkID0gP1wiKTtcbiAgICAgIHZhbHVlcy5wdXNoKG5vdywgaWQpO1xuXG4gICAgICBjb25zdCBmaWVsZFNpZ25hdHVyZSA9IGZpZWxkcy5zbGljZSgwLCAtMSkuam9pbihcIixcIik7IC8vIEV4Y2x1ZGUgbW9kaWZpZWQgZmllbGQgZm9yIGdyb3VwaW5nXG4gICAgICBpZiAoIXVwZGF0ZUdyb3Vwcy5oYXMoZmllbGRTaWduYXR1cmUpKSB7XG4gICAgICAgIHVwZGF0ZUdyb3Vwcy5zZXQoZmllbGRTaWduYXR1cmUsIFtdKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUdyb3Vwcy5nZXQoZmllbGRTaWduYXR1cmUpIS5wdXNoKHsgaWQsIHZhbHVlcyB9KTtcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIGdyb3VwZWQgdXBkYXRlc1xuICAgIGZvciAoY29uc3QgW2ZpZWxkU2lnbmF0dXJlLCBncm91cFVwZGF0ZXNdIG9mIHVwZGF0ZUdyb3Vwcykge1xuICAgICAgY29uc3QgZmllbGRzID0gZmllbGRTaWduYXR1cmUuc3BsaXQoXCIsXCIpLm1hcCgoZikgPT4gZi50cmltKCkpO1xuICAgICAgZmllbGRzLnB1c2goXCJtb2RpZmllZCA9ID9cIik7XG4gICAgICBjb25zdCBzcWwgPSBgVVBEQVRFIGZsYXNoY2FyZHMgU0VUICR7ZmllbGRzLmpvaW4oXCIsIFwiKX0gV0hFUkUgaWQgPSA/YDtcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB7IHZhbHVlcyB9IG9mIGdyb3VwVXBkYXRlcykge1xuICAgICAgICAgIHN0bXQucnVuKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHN0bXQuZnJlZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJhdGNoRGVsZXRlRmxhc2hjYXJkcyhmbGFzaGNhcmRJZHM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgaWYgKGZsYXNoY2FyZElkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuREVMRVRFX0ZMQVNIQ0FSRCk7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChjb25zdCBpZCBvZiBmbGFzaGNhcmRJZHMpIHtcbiAgICAgICAgc3RtdC5ydW4oW2lkXSk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHN0bXQuZnJlZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlRnJlc2hEYXRhYmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiQ3JlYXRpbmcgZnJlc2ggZGF0YWJhc2Ugc2NoZW1hLi4uXCIpO1xuICAgICAgY3JlYXRlVGFibGVzKHRoaXMuZGIsIHRoaXMuZGVidWdMb2cuYmluZCh0aGlzKSk7XG4gICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJGcmVzaCBkYXRhYmFzZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgRnJlc2ggZGF0YWJhc2UgY3JlYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGcmVzaCBkYXRhYmFzZSBjcmVhdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBwYXJzZSBkZWNrIHJvd3NcbiAgcHJpdmF0ZSBwYXJzZURlY2tSb3cocm93OiBhbnlbXSk6IERlY2sge1xuICAgIGxldCBjb25maWcgPSBERUZBVUxUX0RFQ0tfQ09ORklHO1xuXG4gICAgaWYgKHJvd1s1XSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uZmlnID0gSlNPTi5wYXJzZShyb3dbNV0gYXMgc3RyaW5nKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYEZhaWxlZCB0byBwYXJzZSBkZWNrIGNvbmZpZyBKU09OOiAke3Jvd1s1XX0sIHVzaW5nIGRlZmF1bHQgY29uZmlnLiBFcnJvcjogJHtlcnJvcn1gLFxuICAgICAgICApO1xuICAgICAgICBjb25maWcgPSBERUZBVUxUX0RFQ0tfQ09ORklHO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1pZ3JhdGlvbjogQWRkIEZTUlMgc2V0dGluZ3MgaWYgbWlzc2luZ1xuICAgIGlmICghY29uZmlnLmZzcnMpIHtcbiAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBmc3JzOiBERUZBVUxUX0RFQ0tfQ09ORklHLmZzcnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIE1pZ3JhdGlvbjogQWRkIG5ldyBwcm9wZXJ0eSBuYW1lcyBpZiBtaXNzaW5nXG4gICAgaWYgKFxuICAgICAgY29uZmlnLm5ld0NhcmRzUGVyRGF5ID09PSB1bmRlZmluZWQgJiZcbiAgICAgIChjb25maWcgYXMgYW55KS5uZXdDYXJkc0xpbWl0ICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBuZXdDYXJkc1BlckRheTogKGNvbmZpZyBhcyBhbnkpLmVuYWJsZU5ld0NhcmRzTGltaXRcbiAgICAgICAgICA/IChjb25maWcgYXMgYW55KS5uZXdDYXJkc0xpbWl0XG4gICAgICAgICAgOiAwLFxuICAgICAgICByZXZpZXdDYXJkc1BlckRheTogKGNvbmZpZyBhcyBhbnkpLmVuYWJsZVJldmlld0NhcmRzTGltaXRcbiAgICAgICAgICA/IChjb25maWcgYXMgYW55KS5yZXZpZXdDYXJkc0xpbWl0XG4gICAgICAgICAgOiAwLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBNaWdyYXRpb246IEFkZCBoZWFkZXJMZXZlbCBpZiBtaXNzaW5nXG4gICAgaWYgKGNvbmZpZy5oZWFkZXJMZXZlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25maWcgPSB7XG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgaGVhZGVyTGV2ZWw6IERFRkFVTFRfREVDS19DT05GSUcuaGVhZGVyTGV2ZWwsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgIG5hbWU6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmaWxlcGF0aDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIHRhZzogcm93WzNdIGFzIHN0cmluZyxcbiAgICAgIGxhc3RSZXZpZXdlZDogcm93WzRdIGFzIHN0cmluZyB8IG51bGwsXG4gICAgICBjb25maWcsXG4gICAgICBjcmVhdGVkOiByb3dbNl0gYXMgc3RyaW5nLFxuICAgICAgbW9kaWZpZWQ6IHJvd1s3XSBhcyBzdHJpbmcsXG4gICAgfTtcbiAgfVxuXG4gIC8vIERlY2sgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVEZWNrKGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCIgfCBcIm1vZGlmaWVkXCI+KTogUHJvbWlzZTxEZWNrPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgZnVsbERlY2s6IERlY2sgPSB7XG4gICAgICAuLi5kZWNrLFxuICAgICAgY3JlYXRlZDogbm93LFxuICAgICAgbW9kaWZpZWQ6IG5vdyxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuSU5TRVJUX0RFQ0spO1xuXG4gICAgICBzdG10LnJ1bihbXG4gICAgICAgIGZ1bGxEZWNrLmlkLFxuICAgICAgICBmdWxsRGVjay5uYW1lLFxuICAgICAgICBmdWxsRGVjay5maWxlcGF0aCxcbiAgICAgICAgZnVsbERlY2sudGFnLFxuICAgICAgICBmdWxsRGVjay5sYXN0UmV2aWV3ZWQsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGZ1bGxEZWNrLmNvbmZpZyksXG4gICAgICAgIGZ1bGxEZWNrLmNyZWF0ZWQsXG4gICAgICAgIGZ1bGxEZWNrLm1vZGlmaWVkLFxuICAgICAgXSk7XG4gICAgICBzdG10LmZyZWUoKTtcblxuICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICByZXR1cm4gZnVsbERlY2s7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldERlY2tCeVRhZyh0YWc6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeU9uZShcbiAgICAgIFNRTF9RVUVSSUVTLkdFVF9ERUNLX0JZX1RBRyxcbiAgICAgIFt0YWddLFxuICAgICAgdGhpcy5wYXJzZURlY2tSb3cuYmluZCh0aGlzKSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja0J5RmlsZXBhdGgoZmlsZXBhdGg6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeU9uZShcbiAgICAgIFNRTF9RVUVSSUVTLkdFVF9ERUNLX0JZX0ZJTEVQQVRILFxuICAgICAgW2ZpbGVwYXRoXSxcbiAgICAgIHRoaXMucGFyc2VEZWNrUm93LmJpbmQodGhpcyksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPERlY2sgfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlPbmUoXG4gICAgICBTUUxfUVVFUklFUy5HRVRfREVDS19CWV9JRCxcbiAgICAgIFtpZF0sXG4gICAgICB0aGlzLnBhcnNlRGVja1Jvdy5iaW5kKHRoaXMpLFxuICAgICk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVEZWNrKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8UGljazxEZWNrLCBcIm5hbWVcIiB8IFwidGFnXCIgfCBcImxhc3RSZXZpZXdlZFwiIHwgXCJjb25maWdcIj4+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIC8vIEhhbmRsZSBlbXB0eSB1cGRhdGVzIG9iamVjdCAtIG5vIGRhdGFiYXNlIGNoYW5nZXMgbmVlZGVkXG4gICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZUZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpXG4gICAgICAubWFwKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZGJGaWVsZCA9IGtleSA9PT0gXCJsYXN0UmV2aWV3ZWRcIiA/IFwibGFzdF9yZXZpZXdlZFwiIDoga2V5O1xuICAgICAgICByZXR1cm4gYCR7ZGJGaWVsZH0gPSA/YDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgY29uc3Qgc3FsID0gYFVQREFURSBkZWNrcyBTRVQgJHt1cGRhdGVGaWVsZHN9LCBtb2RpZmllZCA9ID8gV0hFUkUgaWQgPSA/YDtcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG5cbiAgICBjb25zdCB2YWx1ZXM6IChzdHJpbmcgfCBudWxsKVtdID0gT2JqZWN0LnZhbHVlcyh1cGRhdGVzKS5tYXAoXG4gICAgICAodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGtleSA9PT0gXCJjb25maWdcIlxuICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgICAgICAgOiAodmFsdWUgYXMgc3RyaW5nIHwgbnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdmFsdWVzLnB1c2gobm93LCBkZWNrSWQpO1xuICAgIHN0bXQucnVuKHZhbHVlcyk7XG4gICAgc3RtdC5mcmVlKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZURlY2tUaW1lc3RhbXBDb3JlKGRlY2tJZDogc3RyaW5nLCB0aW1lc3RhbXA6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZXhlY3V0ZVN0YXRlbWVudChTUUxfUVVFUklFUy5VUERBVEVfREVDS19USU1FU1RBTVAsIFtcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIGRlY2tJZCxcbiAgICBdKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZURlY2tUaW1lc3RhbXAoZGVja0lkOiBzdHJpbmcsIHRpbWVzdGFtcDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy51cGRhdGVEZWNrVGltZXN0YW1wQ29yZShkZWNrSWQsIHRpbWVzdGFtcCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICAvLyBWZXJzaW9uIHdpdGhvdXQgc2F2ZSBmb3IgdXNlIGluIHRyYW5zYWN0aW9uc1xuICBhc3luYyB1cGRhdGVEZWNrVGltZXN0YW1wV2l0aG91dFNhdmUoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgdGltZXN0YW1wOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMudXBkYXRlRGVja1RpbWVzdGFtcENvcmUoZGVja0lkLCB0aW1lc3RhbXApO1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsRGVja3MoKTogUHJvbWlzZTxEZWNrW10+IHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeUFsbChcbiAgICAgIFNRTF9RVUVSSUVTLkdFVF9BTExfREVDS1MsXG4gICAgICBbXSxcbiAgICAgIHRoaXMucGFyc2VEZWNrUm93LmJpbmQodGhpcyksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZURlY2tMYXN0UmV2aWV3ZWQoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgYXdhaXQgdGhpcy5leGVjdXRlU3RhdGVtZW50V2l0aFNhdmUoU1FMX1FVRVJJRVMuVVBEQVRFX0RFQ0tfTEFTVF9SRVZJRVdFRCwgW1xuICAgICAgbm93LFxuICAgICAgbm93LFxuICAgICAgZGVja0lkLFxuICAgIF0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVja0hlYWRlckxldmVsKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIGhlYWRlckxldmVsOiBudW1iZXIsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBoZWFkZXJfbGV2ZWwgY29sdW1uIGRpcmVjdGx5XG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBVUERBVEUgZGVja3NcbiAgICAgIFNFVCBoZWFkZXJfbGV2ZWwgPSA/LCBtb2RpZmllZCA9ID9cbiAgICAgIFdIRVJFIGlkID0gP1xuICAgIGApO1xuXG4gICAgc3RtdC5ydW4oW2hlYWRlckxldmVsLCBub3csIGRlY2tJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgcmVuYW1lRGVjayhcbiAgICBvbGREZWNrSWQ6IHN0cmluZyxcbiAgICBuZXdEZWNrSWQ6IHN0cmluZyxcbiAgICBuZXdOYW1lOiBzdHJpbmcsXG4gICAgbmV3RmlsZXBhdGg6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVN0YXRlbWVudFdpdGhTYXZlKFNRTF9RVUVSSUVTLlJFTkFNRV9ERUNLLCBbXG4gICAgICBuZXdEZWNrSWQsXG4gICAgICBuZXdOYW1lLFxuICAgICAgbmV3RmlsZXBhdGgsXG4gICAgICBub3csXG4gICAgICBvbGREZWNrSWQsXG4gICAgXSk7XG4gIH1cblxuICBhc3luYyBkZWxldGVEZWNrQnlGaWxlcGF0aChmaWxlcGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICAvLyBGaXJzdCBnZXQgdGhlIGRlY2sgdG8gZmluZCBpdHMgSURcbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5nZXREZWNrQnlGaWxlcGF0aChmaWxlcGF0aCk7XG4gICAgaWYgKCFkZWNrKSByZXR1cm47IC8vIERlY2sgZG9lc24ndCBleGlzdFxuXG4gICAgLy8gRG9uJ3QgZGVsZXRlIGZsYXNoY2FyZHMgdG8gcHJlc2VydmUgcHJvZ3Jlc3MgLSB0aGV5IHdpbGwgYmUgb3JwaGFuZWQgYnV0IGNhbiBiZSByZWFzc2lnbmVkIGxhdGVyXG4gICAgLy8gT25seSByZXZpZXcgbG9ncyBhcmUgcHJlc2VydmVkIGZvciBoaXN0b3JpY2FsIGRhdGFcblxuICAgIC8vIEZpbmFsbHkgZGVsZXRlIHRoZSBkZWNrXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5ERUxFVEVfREVDS19CWV9GSUxFUEFUSCk7XG4gICAgc3RtdC5ydW4oW2ZpbGVwYXRoXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZURlY2soZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIC8vIERvbid0IGRlbGV0ZSBmbGFzaGNhcmRzIHRvIHByZXNlcnZlIHByb2dyZXNzIC0gdGhleSB3aWxsIGJlIG9ycGhhbmVkIGJ1dCBjYW4gYmUgcmVhc3NpZ25lZCBsYXRlclxuICAgIC8vIE9ubHkgcmV2aWV3IGxvZ3MgYXJlIHByZXNlcnZlZCBmb3IgaGlzdG9yaWNhbCBkYXRhXG5cbiAgICAvLyBGaW5hbGx5IGRlbGV0ZSB0aGUgZGVja1xuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuREVMRVRFX0RFQ0spO1xuICAgIHN0bXQucnVuKFtkZWNrSWRdKTtcbiAgICBzdG10LmZyZWUoKTtcblxuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLy8gRmxhc2hjYXJkIG9wZXJhdGlvbnNcbiAgcHJpdmF0ZSBjcmVhdGVGbGFzaGNhcmRDb3JlKFxuICAgIGZsYXNoY2FyZDogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPixcbiAgKTogRmxhc2hjYXJkIHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBmdWxsRmxhc2hjYXJkOiBGbGFzaGNhcmQgPSB7XG4gICAgICAuLi5mbGFzaGNhcmQsXG4gICAgICBjcmVhdGVkOiBub3csXG4gICAgICBtb2RpZmllZDogbm93LFxuICAgIH07XG5cbiAgICBsZXQgc3RtdDtcbiAgICB0cnkge1xuICAgICAgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5JTlNFUlRfRkxBU0hDQVJEKTtcbiAgICAgIHN0bXQucnVuKFtcbiAgICAgICAgZnVsbEZsYXNoY2FyZC5pZCxcbiAgICAgICAgZnVsbEZsYXNoY2FyZC5kZWNrSWQsXG4gICAgICAgIGZ1bGxGbGFzaGNhcmQuZnJvbnQsXG4gICAgICAgIGZ1bGxGbGFzaGNhcmQuYmFjayxcbiAgICAgICAgZnVsbEZsYXNoY2FyZC50eXBlLFxuICAgICAgICBmdWxsRmxhc2hjYXJkLnNvdXJjZUZpbGUsXG4gICAgICAgIGZ1bGxGbGFzaGNhcmQuY29udGVudEhhc2gsXG4gICAgICAgIGZ1bGxGbGFzaGNhcmQuc3RhdGUsXG4gICAgICAgIGZ1bGxGbGFzaGNhcmQuZHVlRGF0ZSxcbiAgICAgICAgZmxhc2hjYXJkLmludGVydmFsLFxuICAgICAgICBmbGFzaGNhcmQucmVwZXRpdGlvbnMsXG4gICAgICAgIGZsYXNoY2FyZC5kaWZmaWN1bHR5LFxuICAgICAgICBmbGFzaGNhcmQuc3RhYmlsaXR5LFxuICAgICAgICBmbGFzaGNhcmQubGFwc2VzLFxuICAgICAgICBmdWxsRmxhc2hjYXJkLmxhc3RSZXZpZXdlZCxcbiAgICAgICAgZnVsbEZsYXNoY2FyZC5jcmVhdGVkLFxuICAgICAgICBmdWxsRmxhc2hjYXJkLm1vZGlmaWVkLFxuICAgICAgXSk7XG4gICAgICBzdG10LmZyZWUoKTtcbiAgICAgIHJldHVybiBmdWxsRmxhc2hjYXJkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZCAke2Z1bGxGbGFzaGNhcmQuaWR9OmAsIGVycm9yKTtcbiAgICAgIGlmIChzdG10KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc3RtdC5mcmVlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGZyZWVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmcmVlIHN0YXRlbWVudDpgLCBmcmVlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVGbGFzaGNhcmQoXG4gICAgZmxhc2hjYXJkOiBPbWl0PEZsYXNoY2FyZCwgXCJjcmVhdGVkXCIgfCBcIm1vZGlmaWVkXCI+LFxuICApOiBQcm9taXNlPEZsYXNoY2FyZD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY3JlYXRlRmxhc2hjYXJkQ29yZShmbGFzaGNhcmQpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBWZXJzaW9uIHdpdGhvdXQgc2F2ZSBmb3IgdXNlIGluIHRyYW5zYWN0aW9uc1xuICBhc3luYyBjcmVhdGVGbGFzaGNhcmRXaXRob3V0U2F2ZShcbiAgICBmbGFzaGNhcmQ6IE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj4sXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlRmxhc2hjYXJkQ29yZShmbGFzaGNhcmQpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVGbGFzaGNhcmRDb3JlKFxuICAgIGZsYXNoY2FyZElkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDxcbiAgICAgIFBpY2s8XG4gICAgICAgIEZsYXNoY2FyZCxcbiAgICAgICAgfCBcImZyb250XCJcbiAgICAgICAgfCBcImJhY2tcIlxuICAgICAgICB8IFwidHlwZVwiXG4gICAgICAgIHwgXCJjb250ZW50SGFzaFwiXG4gICAgICAgIHwgXCJzdGF0ZVwiXG4gICAgICAgIHwgXCJkdWVEYXRlXCJcbiAgICAgICAgfCBcImludGVydmFsXCJcbiAgICAgICAgfCBcInJlcGV0aXRpb25zXCJcbiAgICAgICAgfCBcImRpZmZpY3VsdHlcIlxuICAgICAgICB8IFwic3RhYmlsaXR5XCJcbiAgICAgICAgfCBcImxhcHNlc1wiXG4gICAgICAgIHwgXCJsYXN0UmV2aWV3ZWRcIlxuICAgICAgPlxuICAgID4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXMpKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBkYkZpZWxkID1cbiAgICAgICAgICBrZXkgPT09IFwiZHVlRGF0ZVwiXG4gICAgICAgICAgICA/IFwiZHVlX2RhdGVcIlxuICAgICAgICAgICAgOiBrZXkgPT09IFwibGFzdFJldmlld2VkXCJcbiAgICAgICAgICAgICAgPyBcImxhc3RfcmV2aWV3ZWRcIlxuICAgICAgICAgICAgICA6IGtleSA9PT0gXCJjb250ZW50SGFzaFwiXG4gICAgICAgICAgICAgICAgPyBcImNvbnRlbnRfaGFzaFwiXG4gICAgICAgICAgICAgICAgOiBrZXk7XG4gICAgICAgIGZpZWxkcy5wdXNoKGAke2RiRmllbGR9ID0gP2ApO1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGZpZWxkcy5wdXNoKFwibW9kaWZpZWQgPSA/XCIpO1xuICAgIHZhbHVlcy5wdXNoKG5vdywgZmxhc2hjYXJkSWQpO1xuXG4gICAgY29uc3Qgc3FsID0gYFVQREFURSBmbGFzaGNhcmRzIFNFVCAke2ZpZWxkcy5qb2luKFwiLCBcIil9IFdIRVJFIGlkID0gP2A7XG4gICAgdGhpcy5leGVjdXRlU3RhdGVtZW50KHNxbCwgdmFsdWVzKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmRJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8XG4gICAgICBQaWNrPFxuICAgICAgICBGbGFzaGNhcmQsXG4gICAgICAgIHwgXCJmcm9udFwiXG4gICAgICAgIHwgXCJiYWNrXCJcbiAgICAgICAgfCBcInR5cGVcIlxuICAgICAgICB8IFwiY29udGVudEhhc2hcIlxuICAgICAgICB8IFwic3RhdGVcIlxuICAgICAgICB8IFwiZHVlRGF0ZVwiXG4gICAgICAgIHwgXCJpbnRlcnZhbFwiXG4gICAgICAgIHwgXCJyZXBldGl0aW9uc1wiXG4gICAgICAgIHwgXCJkaWZmaWN1bHR5XCJcbiAgICAgICAgfCBcInN0YWJpbGl0eVwiXG4gICAgICAgIHwgXCJsYXBzZXNcIlxuICAgICAgICB8IFwibGFzdFJldmlld2VkXCJcbiAgICAgID5cbiAgICA+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnVwZGF0ZUZsYXNoY2FyZENvcmUoZmxhc2hjYXJkSWQsIHVwZGF0ZXMpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLy8gVmVyc2lvbiB3aXRob3V0IHNhdmUgZm9yIHVzZSBpbiB0cmFuc2FjdGlvbnNcbiAgYXN5bmMgdXBkYXRlRmxhc2hjYXJkV2l0aG91dFNhdmUoXG4gICAgZmxhc2hjYXJkSWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPFxuICAgICAgUGljazxcbiAgICAgICAgRmxhc2hjYXJkLFxuICAgICAgICB8IFwiZnJvbnRcIlxuICAgICAgICB8IFwiYmFja1wiXG4gICAgICAgIHwgXCJ0eXBlXCJcbiAgICAgICAgfCBcImNvbnRlbnRIYXNoXCJcbiAgICAgICAgfCBcInN0YXRlXCJcbiAgICAgICAgfCBcImR1ZURhdGVcIlxuICAgICAgICB8IFwiaW50ZXJ2YWxcIlxuICAgICAgICB8IFwicmVwZXRpdGlvbnNcIlxuICAgICAgICB8IFwiZGlmZmljdWx0eVwiXG4gICAgICAgIHwgXCJzdGFiaWxpdHlcIlxuICAgICAgICB8IFwibGFwc2VzXCJcbiAgICAgICAgfCBcImxhc3RSZXZpZXdlZFwiXG4gICAgICA+XG4gICAgPixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy51cGRhdGVGbGFzaGNhcmRDb3JlKGZsYXNoY2FyZElkLCB1cGRhdGVzKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVsZXRlRmxhc2hjYXJkQ29yZShmbGFzaGNhcmRJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5leGVjdXRlU3RhdGVtZW50KFNRTF9RVUVSSUVTLkRFTEVURV9GTEFTSENBUkQsIFtmbGFzaGNhcmRJZF0pO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlRmxhc2hjYXJkKGZsYXNoY2FyZElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmRlbGV0ZUZsYXNoY2FyZENvcmUoZmxhc2hjYXJkSWQpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLy8gVmVyc2lvbiB3aXRob3V0IHNhdmUgZm9yIHVzZSBpbiB0cmFuc2FjdGlvbnNcbiAgYXN5bmMgZGVsZXRlRmxhc2hjYXJkV2l0aG91dFNhdmUoZmxhc2hjYXJkSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZGVsZXRlRmxhc2hjYXJkQ29yZShmbGFzaGNhcmRJZCk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVGbGFzaGNhcmREZWNrSWRzKFxuICAgIG9sZERlY2tJZDogc3RyaW5nLFxuICAgIG5ld0RlY2tJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVTdGF0ZW1lbnRXaXRoU2F2ZShTUUxfUVVFUklFUy5VUERBVEVfRkxBU0hDQVJEX0RFQ0tfSURTLCBbXG4gICAgICBuZXdEZWNrSWQsXG4gICAgICBvbGREZWNrSWQsXG4gICAgXSk7XG4gIH1cblxuICBhc3luYyBnZXRGbGFzaGNhcmRzQnlEZWNrKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5QWxsKFxuICAgICAgU1FMX1FVRVJJRVMuR0VUX0ZMQVNIQ0FSRFNfQllfREVDSyxcbiAgICAgIFtkZWNrSWRdLFxuICAgICAgdGhpcy5yb3dUb0ZsYXNoY2FyZC5iaW5kKHRoaXMpLFxuICAgICk7XG4gIH1cblxuICBhc3luYyBnZXREdWVGbGFzaGNhcmRzKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXR1cm4gdGhpcy5xdWVyeUFsbChcbiAgICAgIFNRTF9RVUVSSUVTLkdFVF9EVUVfRkxBU0hDQVJEUyxcbiAgICAgIFtkZWNrSWQsIG5vd10sXG4gICAgICB0aGlzLnJvd1RvRmxhc2hjYXJkLmJpbmQodGhpcyksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGdldERhaWx5UmV2aWV3Q291bnRzKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHsgbmV3Q291bnQ6IG51bWJlcjsgcmV2aWV3Q291bnQ6IG51bWJlciB9PiB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdOyAvLyBZWVlZLU1NLUREIGZvcm1hdFxuICAgIGNvbnN0IHRvZGF5U3RhcnQgPSBgJHt0b2RheX1UMDA6MDA6MDAuMDAwWmA7XG4gICAgY29uc3QgdG9kYXlFbmQgPSBgJHt0b2RheX1UMjM6NTk6NTkuOTk5WmA7XG5cbiAgICAvLyBDb3VudCBuZXcgY2FyZHMgcmV2aWV3ZWQgdG9kYXkgKHJldmlld3Mgd2hlcmUgb2xkX3JlcGV0aXRpb25zIHdhcyAwKVxuICAgIGNvbnN0IG5ld1Jlc3VsdCA9IHRoaXMucXVlcnlPbmUoXG4gICAgICBTUUxfUVVFUklFUy5DT1VOVF9ORVdfQ0FSRFNfVE9EQVksXG4gICAgICBbZGVja0lkLCB0b2RheVN0YXJ0LCB0b2RheUVuZF0sXG4gICAgICAocm93KSA9PiBOdW1iZXIocm93WzBdKSxcbiAgICApO1xuICAgIGNvbnN0IG5ld0NvdW50ID0gbmV3UmVzdWx0IHx8IDA7XG5cbiAgICAvLyBDb3VudCByZXZpZXcgY2FyZHMgcmV2aWV3ZWQgdG9kYXkgKHJldmlld3Mgd2hlcmUgb2xkX2ludGVydmFsX21pbnV0ZXMgPiAwKVxuICAgIGNvbnN0IHJldmlld1Jlc3VsdCA9IHRoaXMucXVlcnlPbmUoXG4gICAgICBTUUxfUVVFUklFUy5DT1VOVF9SRVZJRVdfQ0FSRFNfVE9EQVksXG4gICAgICBbZGVja0lkLCB0b2RheVN0YXJ0LCB0b2RheUVuZF0sXG4gICAgICAocm93KSA9PiBOdW1iZXIocm93WzBdKSxcbiAgICApO1xuICAgIGNvbnN0IHJldmlld0NvdW50ID0gcmV2aWV3UmVzdWx0IHx8IDA7XG5cbiAgICByZXR1cm4geyBuZXdDb3VudCwgcmV2aWV3Q291bnQgfTtcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld2FibGVGbGFzaGNhcmRzKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgLy8gR2V0IGRlY2sgY29uZmlnIHRvIGNoZWNrIGxpbWl0c1xuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maWcgPSBkZWNrLmNvbmZpZztcbiAgICBjb25zdCBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuXG4gICAgLy8gR2V0IHRvZGF5J3MgcmV2aWV3IGNvdW50cyB0byBjYWxjdWxhdGUgcmVtYWluaW5nIGRhaWx5IGFsbG93YW5jZVxuICAgIGNvbnN0IGRhaWx5Q291bnRzID0gYXdhaXQgdGhpcy5nZXREYWlseVJldmlld0NvdW50cyhkZWNrSWQpO1xuXG4gICAgLy8gMS4gTm8gbGVhcm5pbmcgY2FyZHMgaW4gcHVyZSBGU1JTIC0gc2tpcCBsZWFybmluZyBjYXJkIHJldHJpZXZhbFxuXG4gICAgLy8gMi4gR2V0IG5ldyBjYXJkcyB3aXRoIHJlbWFpbmluZyBkYWlseSBsaW1pdFxuICAgIGNvbnN0IG5ld0NhcmRzTGltaXQgPSBOdW1iZXIoY29uZmlnLm5ld0NhcmRzUGVyRGF5KSB8fCAwO1xuICAgIGNvbnN0IG5ld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMubmV3Q291bnQpIHx8IDA7XG4gICAgY29uc3QgcmVtYWluaW5nTmV3Q2FyZHMgPVxuICAgICAgaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpICYmIG5ld0NhcmRzTGltaXQgPiAwXG4gICAgICAgID8gTWF0aC5tYXgoMCwgbmV3Q2FyZHNMaW1pdCAtIG5ld0NvdW50VG9kYXkpXG4gICAgICAgIDogaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpICYmIG5ld0NhcmRzTGltaXQgPT09IDBcbiAgICAgICAgICA/IDBcbiAgICAgICAgICA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgaWYgKHJlbWFpbmluZ05ld0NhcmRzID4gMCkge1xuICAgICAgY29uc3Qgc3FsID0gYCR7U1FMX1FVRVJJRVMuR0VUX05FV19DQVJEU19GT1JfUkVWSUVXfSR7aGFzTmV3Q2FyZHNMaW1pdChjb25maWcpID8gYCBMSU1JVCAke3JlbWFpbmluZ05ld0NhcmRzfWAgOiBcIlwifWA7XG4gICAgICBjb25zdCBuZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcbiAgICAgIG5ld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIG5vd10pO1xuICAgICAgd2hpbGUgKG5ld0NhcmRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gbmV3Q2FyZHNTdG10LmdldCgpO1xuICAgICAgICBmbGFzaGNhcmRzLnB1c2godGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgICAgIH1cbiAgICAgIG5ld0NhcmRzU3RtdC5mcmVlKCk7XG4gICAgfVxuXG4gICAgLy8gMy4gR2V0IHJldmlldyBjYXJkcyB3aXRoIHJlbWFpbmluZyBkYWlseSBsaW1pdFxuICAgIGNvbnN0IHJldmlld0NhcmRzTGltaXQgPSBOdW1iZXIoY29uZmlnLnJldmlld0NhcmRzUGVyRGF5KSB8fCAwO1xuICAgIGNvbnN0IHJldmlld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMucmV2aWV3Q291bnQpIHx8IDA7XG4gICAgY29uc3QgcmVtYWluaW5nUmV2aWV3Q2FyZHMgPVxuICAgICAgaGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpICYmIHJldmlld0NhcmRzTGltaXQgPiAwXG4gICAgICAgID8gTWF0aC5tYXgoMCwgcmV2aWV3Q2FyZHNMaW1pdCAtIHJldmlld0NvdW50VG9kYXkpXG4gICAgICAgIDogaGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpICYmIHJldmlld0NhcmRzTGltaXQgPT09IDBcbiAgICAgICAgICA/IDBcbiAgICAgICAgICA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgaWYgKHJlbWFpbmluZ1Jldmlld0NhcmRzID4gMCkge1xuICAgICAgY29uc3Qgc3FsID0gYCR7U1FMX1FVRVJJRVMuR0VUX1JFVklFV19DQVJEU19GT1JfUkVWSUVXfSR7aGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpID8gYCBMSU1JVCAke3JlbWFpbmluZ1Jldmlld0NhcmRzfWAgOiBcIlwifWA7XG4gICAgICBjb25zdCByZXZpZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcbiAgICAgIHJldmlld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIG5vd10pO1xuICAgICAgd2hpbGUgKHJldmlld0NhcmRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcmV2aWV3Q2FyZHNTdG10LmdldCgpO1xuICAgICAgICBmbGFzaGNhcmRzLnB1c2godGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgICAgIH1cbiAgICAgIHJldmlld0NhcmRzU3RtdC5mcmVlKCk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBmaW5hbCByZXN1bHQ6IHJldmlldyBmaXJzdCwgdGhlbiBuZXdcbiAgICBmbGFzaGNhcmRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlT3JkZXIgPSB7IHJldmlldzogMSwgbmV3OiAyIH07XG4gICAgICBjb25zdCBhT3JkZXIgPSBzdGF0ZU9yZGVyW2Euc3RhdGVdO1xuICAgICAgY29uc3QgYk9yZGVyID0gc3RhdGVPcmRlcltiLnN0YXRlXTtcblxuICAgICAgaWYgKGFPcmRlciAhPT0gYk9yZGVyKSB7XG4gICAgICAgIHJldHVybiBhT3JkZXIgLSBiT3JkZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpdGhpbiBzYW1lIHN0YXRlLCBhcHBseSBzcGVjaWZpYyBvcmRlcmluZyBydWxlc1xuICAgICAgaWYgKGEuc3RhdGUgPT09IFwicmV2aWV3XCIpIHtcbiAgICAgICAgLy8gUmV2aWV3IGNhcmRzOiBmb2xsb3cgZGVjayBjb25maWcgcHJlZmVyZW5jZVxuICAgICAgICBpZiAoY29uZmlnLnJldmlld09yZGVyID09PSBcInJhbmRvbVwiKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAwLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRGVmYXVsdDogb2xkZXN0IGR1ZSBmaXJzdFxuICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmR1ZURhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZHVlRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGEuc3RhdGUgPT09IFwibmV3XCIpIHtcbiAgICAgICAgLy8gTmV3IGNhcmRzOiBhbHdheXMgYnkgZHVlIGRhdGUgKGVhcmxpZXN0IGZpcnN0KVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kdWVEYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmR1ZURhdGUpLmdldFRpbWUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIGFzeW5jIGdldExhdGVzdFJldmlld0xvZ0ZvckZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmRJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPFJldmlld0xvZyB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0xBVEVTVF9SRVZJRVdfTE9HKTtcblxuICAgIHN0bXQuYmluZChbZmxhc2hjYXJkSWRdKTtcblxuICAgIGlmIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIHN0bXQuZnJlZSgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgICAgZmxhc2hjYXJkSWQ6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICAgIGxhc3RSZXZpZXdlZEF0OiByb3dbMl0gYXMgc3RyaW5nLFxuICAgICAgICBzaG93bkF0OiByb3dbM10gYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgICByZXZpZXdlZEF0OiByb3dbNF0gYXMgc3RyaW5nLFxuICAgICAgICByYXRpbmc6IHJvd1s1XSBhcyAxIHwgMiB8IDMgfCA0LFxuICAgICAgICByYXRpbmdMYWJlbDogcm93WzZdIGFzIFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIixcbiAgICAgICAgdGltZUVsYXBzZWRNczogcm93WzddIGFzIG51bWJlciB8IHVuZGVmaW5lZCxcbiAgICAgICAgb2xkU3RhdGU6IHJvd1s4XSBhcyBcIm5ld1wiIHwgXCJyZXZpZXdcIixcbiAgICAgICAgb2xkUmVwZXRpdGlvbnM6IHJvd1s5XSBhcyBudW1iZXIsXG4gICAgICAgIG9sZExhcHNlczogcm93WzEwXSBhcyBudW1iZXIsXG4gICAgICAgIG9sZFN0YWJpbGl0eTogcm93WzExXSBhcyBudW1iZXIsXG4gICAgICAgIG9sZERpZmZpY3VsdHk6IHJvd1sxMl0gYXMgbnVtYmVyLFxuICAgICAgICBuZXdTdGF0ZTogcm93WzEzXSBhcyBcIm5ld1wiIHwgXCJyZXZpZXdcIixcbiAgICAgICAgbmV3UmVwZXRpdGlvbnM6IHJvd1sxNF0gYXMgbnVtYmVyLFxuICAgICAgICBuZXdMYXBzZXM6IHJvd1sxNV0gYXMgbnVtYmVyLFxuICAgICAgICBuZXdTdGFiaWxpdHk6IHJvd1sxNl0gYXMgbnVtYmVyLFxuICAgICAgICBuZXdEaWZmaWN1bHR5OiByb3dbMTddIGFzIG51bWJlcixcbiAgICAgICAgb2xkSW50ZXJ2YWxNaW51dGVzOiByb3dbMThdIGFzIG51bWJlcixcbiAgICAgICAgbmV3SW50ZXJ2YWxNaW51dGVzOiByb3dbMTldIGFzIG51bWJlcixcbiAgICAgICAgb2xkRHVlQXQ6IHJvd1syMF0gYXMgc3RyaW5nLFxuICAgICAgICBuZXdEdWVBdDogcm93WzIxXSBhcyBzdHJpbmcsXG4gICAgICAgIGVsYXBzZWREYXlzOiByb3dbMjJdIGFzIG51bWJlcixcbiAgICAgICAgcmV0cmlldmFiaWxpdHk6IHJvd1syM10gYXMgbnVtYmVyLFxuICAgICAgICByZXF1ZXN0UmV0ZW50aW9uOiByb3dbMjRdIGFzIG51bWJlcixcbiAgICAgICAgcHJvZmlsZTogKChyb3dbMjVdIGFzIHN0cmluZykgfHwgXCJTVEFOREFSRFwiKSBhc1xuICAgICAgICAgIHwgXCJJTlRFTlNJVkVcIlxuICAgICAgICAgIHwgXCJTVEFOREFSRFwiLFxuICAgICAgICBtYXhpbXVtSW50ZXJ2YWxEYXlzOiByb3dbMjZdIGFzIG51bWJlcixcbiAgICAgICAgbWluTWludXRlczogcm93WzI3XSBhcyBudW1iZXIsXG4gICAgICAgIGZzcnNXZWlnaHRzVmVyc2lvbjogcm93WzI4XSBhcyBzdHJpbmcsXG4gICAgICAgIHNjaGVkdWxlclZlcnNpb246IHJvd1syOV0gYXMgc3RyaW5nLFxuICAgICAgICBub3RlTW9kZWxJZDogcm93WzMwXSBhcyBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgICAgIGNhcmRUZW1wbGF0ZUlkOiByb3dbMzFdIGFzIHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICAgICAgY29udGVudEhhc2g6IHJvd1szMl0gYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgICBjbGllbnQ6IHJvd1szM10gYXMgXCJ3ZWJcIiB8IFwiZGVza3RvcFwiIHwgXCJtb2JpbGVcIiB8IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBkZWxldGVGbGFzaGNhcmRzQnlGaWxlKHNvdXJjZUZpbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVN0YXRlbWVudFdpdGhTYXZlKFNRTF9RVUVSSUVTLkRFTEVURV9GTEFTSENBUkRTX0JZX0ZJTEUsIFtcbiAgICAgIHNvdXJjZUZpbGUsXG4gICAgXSk7XG4gIH1cblxuICAvLyBSZXZpZXcgbG9nIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlUmV2aWV3TG9nKGxvZzogT21pdDxSZXZpZXdMb2csIFwiaWRcIj4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGlkID0gYHJldmlld18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLklOU0VSVF9SRVZJRVdfTE9HKTtcblxuICAgIHN0bXQucnVuKFtcbiAgICAgIGlkLFxuICAgICAgbG9nLmZsYXNoY2FyZElkLFxuICAgICAgbG9nLnNlc3Npb25JZCB8fCBudWxsLFxuICAgICAgbG9nLmxhc3RSZXZpZXdlZEF0LFxuICAgICAgbG9nLnNob3duQXQgfHwgbnVsbCxcbiAgICAgIGxvZy5yZXZpZXdlZEF0LFxuICAgICAgbG9nLnJhdGluZyxcbiAgICAgIGxvZy5yYXRpbmdMYWJlbCxcbiAgICAgIGxvZy50aW1lRWxhcHNlZE1zIHx8IG51bGwsXG4gICAgICBsb2cub2xkU3RhdGUsXG4gICAgICBsb2cub2xkUmVwZXRpdGlvbnMsXG4gICAgICBsb2cub2xkTGFwc2VzLFxuICAgICAgbG9nLm9sZFN0YWJpbGl0eSxcbiAgICAgIGxvZy5vbGREaWZmaWN1bHR5LFxuICAgICAgbG9nLm5ld1N0YXRlLFxuICAgICAgbG9nLm5ld1JlcGV0aXRpb25zLFxuICAgICAgbG9nLm5ld0xhcHNlcyxcbiAgICAgIGxvZy5uZXdTdGFiaWxpdHksXG4gICAgICBsb2cubmV3RGlmZmljdWx0eSxcbiAgICAgIGxvZy5vbGRJbnRlcnZhbE1pbnV0ZXMsXG4gICAgICBsb2cubmV3SW50ZXJ2YWxNaW51dGVzLFxuICAgICAgbG9nLm9sZER1ZUF0LFxuICAgICAgbG9nLm5ld0R1ZUF0LFxuICAgICAgbG9nLmVsYXBzZWREYXlzLFxuICAgICAgbG9nLnJldHJpZXZhYmlsaXR5LFxuICAgICAgbG9nLnJlcXVlc3RSZXRlbnRpb24sXG4gICAgICBsb2cucHJvZmlsZSxcbiAgICAgIGxvZy5tYXhpbXVtSW50ZXJ2YWxEYXlzLFxuICAgICAgbG9nLm1pbk1pbnV0ZXMsXG4gICAgICBsb2cuZnNyc1dlaWdodHNWZXJzaW9uLFxuICAgICAgbG9nLnNjaGVkdWxlclZlcnNpb24sXG4gICAgICBsb2cubm90ZU1vZGVsSWQgfHwgbnVsbCxcbiAgICAgIGxvZy5jYXJkVGVtcGxhdGVJZCB8fCBudWxsLFxuICAgICAgbG9nLmNvbnRlbnRIYXNoIHx8IG51bGwsXG4gICAgICBsb2cuY2xpZW50IHx8IG51bGwsXG4gICAgXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIC8vIFJldmlldyBzZXNzaW9uIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlUmV2aWV3U2Vzc2lvbihcbiAgICBzZXNzaW9uOiBPbWl0PFJldmlld1Nlc3Npb24sIFwiaWRcIj4sXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBpZCA9IGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuSU5TRVJUX1JFVklFV19TRVNTSU9OKTtcbiAgICBzdG10LnJ1bihbXG4gICAgICBpZCxcbiAgICAgIHNlc3Npb24uZGVja0lkLFxuICAgICAgc2Vzc2lvbi5zdGFydGVkQXQsXG4gICAgICBzZXNzaW9uLmVuZGVkQXQgfHwgbnVsbCxcbiAgICAgIHNlc3Npb24uZ29hbFRvdGFsLFxuICAgICAgc2Vzc2lvbi5kb25lVW5pcXVlLFxuICAgIF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuXG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3U2Vzc2lvbkJ5SWQoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFJldmlld1Nlc3Npb24gfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkdFVF9SRVZJRVdfU0VTU0lPTl9CWV9JRCk7XG4gICAgc3RtdC5iaW5kKFtzZXNzaW9uSWRdKTtcblxuICAgIGlmIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIHN0bXQuZnJlZSgpO1xuICAgICAgcmV0dXJuIHRoaXMucm93VG9SZXZpZXdTZXNzaW9uKHJvdyk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBnZXRBY3RpdmVSZXZpZXdTZXNzaW9uKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxSZXZpZXdTZXNzaW9uIHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5HRVRfQUNUSVZFX1JFVklFV19TRVNTSU9OKTtcbiAgICBzdG10LmJpbmQoW2RlY2tJZF0pO1xuXG4gICAgaWYgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgICByZXR1cm4gdGhpcy5yb3dUb1Jldmlld1Nlc3Npb24ocm93KTtcbiAgICB9XG5cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJldmlld1Nlc3Npb25Eb25lVW5pcXVlKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIGRvbmVVbmlxdWU6IG51bWJlcixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5leGVjdXRlU3RhdGVtZW50V2l0aFNhdmUoXG4gICAgICBTUUxfUVVFUklFUy5VUERBVEVfUkVWSUVXX1NFU1NJT05fRE9ORV9VTklRVUUsXG4gICAgICBbZG9uZVVuaXF1ZSwgc2Vzc2lvbklkXSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZW5kUmV2aWV3U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZywgZW5kZWRBdDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5leGVjdXRlU3RhdGVtZW50V2l0aFNhdmUoU1FMX1FVRVJJRVMuVVBEQVRFX1JFVklFV19TRVNTSU9OX0VORCwgW1xuICAgICAgZW5kZWRBdCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICBdKTtcbiAgfVxuXG4gIGFzeW5jIGlzQ2FyZFJldmlld2VkSW5TZXNzaW9uKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIGZsYXNoY2FyZElkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5DSEVDS19DQVJEX1JFVklFV0VEX0lOX1NFU1NJT04pO1xuICAgIHN0bXQuYmluZChbc2Vzc2lvbklkLCBmbGFzaGNhcmRJZF0pO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9IHN0bXQuZ2V0KCk7XG4gICAgICBjb3VudCA9IHJvd1swXSBhcyBudW1iZXI7XG4gICAgfVxuICAgIHN0bXQuZnJlZSgpO1xuXG4gICAgcmV0dXJuIGNvdW50ID4gMDtcbiAgfVxuXG4gIC8vIFN0YXRpc3RpY3Mgb3BlcmF0aW9uc1xuICBhc3luYyBnZXREZWNrU3RhdHMoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPERlY2tTdGF0cz4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgLy8gR2V0IGRlY2sgY29uZmlnIHRvIGNoZWNrIGxpbWl0c1xuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maWcgPSBkZWNrLmNvbmZpZztcblxuICAgIC8vIEdldCB0b2RheSdzIHJldmlldyBjb3VudHMgdG8gY2FsY3VsYXRlIHJlbWFpbmluZyBkYWlseSBhbGxvd2FuY2VcbiAgICBjb25zdCBkYWlseUNvdW50cyA9IGF3YWl0IHRoaXMuZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVja0lkKTtcblxuICAgIC8vIENvdW50IG5ldyBjYXJkcyAoc3RhdGUgPSAnbmV3JyBhbmQgZHVlIGZvciBmaXJzdCByZXZpZXcpXG4gICAgY29uc3QgbmV3U3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5DT1VOVF9ORVdfQ0FSRFMpO1xuICAgIG5ld1N0bXQuYmluZChbZGVja0lkLCBub3ddKTtcbiAgICBuZXdTdG10LnN0ZXAoKTtcbiAgICBjb25zdCB0b3RhbE5ld0NhcmRzID0gKG5ld1N0bXQuZ2V0KClbMF0gYXMgbnVtYmVyKSB8fCAwO1xuICAgIG5ld1N0bXQuZnJlZSgpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHJlbWFpbmluZyBuZXcgY2FyZHMgYmFzZWQgb24gZGFpbHkgbGltaXRcbiAgICBsZXQgbmV3Q291bnQgPSB0b3RhbE5ld0NhcmRzO1xuICAgIGNvbnN0IG5ld0NhcmRzTGltaXQgPSBOdW1iZXIoY29uZmlnLm5ld0NhcmRzUGVyRGF5KSB8fCAwO1xuICAgIGNvbnN0IG5ld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMubmV3Q291bnQpIHx8IDA7XG4gICAgaWYgKGhhc05ld0NhcmRzTGltaXQoY29uZmlnKSAmJiBuZXdDYXJkc0xpbWl0ID4gMCkge1xuICAgICAgY29uc3QgcmVtYWluaW5nTmV3ID0gTWF0aC5tYXgoMCwgbmV3Q2FyZHNMaW1pdCAtIG5ld0NvdW50VG9kYXkpO1xuICAgICAgbmV3Q291bnQgPSBNYXRoLm1pbih0b3RhbE5ld0NhcmRzLCByZW1haW5pbmdOZXcpO1xuICAgIH0gZWxzZSBpZiAoaGFzTmV3Q2FyZHNMaW1pdChjb25maWcpICYmIG5ld0NhcmRzTGltaXQgPT09IDApIHtcbiAgICAgIG5ld0NvdW50ID0gMDsgLy8gTm8gbmV3IGNhcmRzIGFsbG93ZWQgd2hlbiBsaW1pdCBpcyAwXG4gICAgfVxuXG4gICAgLy8gTm8gbGVhcm5pbmcgY2FyZHMgaW4gcHVyZSBGU1JTXG4gICAgY29uc3QgbGVhcm5pbmdDb3VudCA9IDA7XG5cbiAgICAvLyBDb3VudCByZXZpZXcgY2FyZHMgKHN0YXRlID0gJ3JldmlldycgYW5kIGR1ZSlcbiAgICBjb25zdCBkdWVTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkNPVU5UX0RVRV9DQVJEUyk7XG4gICAgZHVlU3RtdC5iaW5kKFtkZWNrSWQsIG5vd10pO1xuICAgIGR1ZVN0bXQuc3RlcCgpO1xuICAgIGNvbnN0IHRvdGFsRHVlQ2FyZHMgPSAoZHVlU3RtdC5nZXQoKVswXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgZHVlU3RtdC5mcmVlKCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgcmVtYWluaW5nIHJldmlldyBjYXJkcyBiYXNlZCBvbiBkYWlseSBsaW1pdFxuICAgIGxldCBkdWVDb3VudCA9IHRvdGFsRHVlQ2FyZHM7XG4gICAgY29uc3QgcmV2aWV3Q2FyZHNMaW1pdCA9IE51bWJlcihjb25maWcucmV2aWV3Q2FyZHNQZXJEYXkpIHx8IDA7XG4gICAgY29uc3QgcmV2aWV3Q291bnRUb2RheSA9IE51bWJlcihkYWlseUNvdW50cy5yZXZpZXdDb3VudCkgfHwgMDtcbiAgICBpZiAoaGFzUmV2aWV3Q2FyZHNMaW1pdChjb25maWcpICYmIHJldmlld0NhcmRzTGltaXQgPiAwKSB7XG4gICAgICBjb25zdCByZW1haW5pbmdSZXZpZXcgPSBNYXRoLm1heCgwLCByZXZpZXdDYXJkc0xpbWl0IC0gcmV2aWV3Q291bnRUb2RheSk7XG4gICAgICBkdWVDb3VudCA9IE1hdGgubWluKHRvdGFsRHVlQ2FyZHMsIHJlbWFpbmluZ1Jldmlldyk7XG4gICAgfSBlbHNlIGlmIChoYXNSZXZpZXdDYXJkc0xpbWl0KGNvbmZpZykgJiYgcmV2aWV3Q2FyZHNMaW1pdCA9PT0gMCkge1xuICAgICAgZHVlQ291bnQgPSAwOyAvLyBObyByZXZpZXcgY2FyZHMgYWxsb3dlZCB3aGVuIGxpbWl0IGlzIDBcbiAgICB9XG5cbiAgICAvLyBUb3RhbCBjb3VudFxuICAgIGNvbnN0IHRvdGFsU3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5DT1VOVF9UT1RBTF9DQVJEUyk7XG4gICAgdG90YWxTdG10LmJpbmQoW2RlY2tJZF0pO1xuICAgIHRvdGFsU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgdG90YWxDb3VudCA9ICh0b3RhbFN0bXQuZ2V0KClbMF0gYXMgbnVtYmVyKSB8fCAwO1xuICAgIHRvdGFsU3RtdC5mcmVlKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGVja0lkLFxuICAgICAgbmV3Q291bnQsXG4gICAgICBkdWVDb3VudCxcbiAgICAgIHRvdGFsQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbERlY2tTdGF0cygpOiBQcm9taXNlPERlY2tTdGF0c1tdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRGVja3MoKTtcbiAgICBjb25zdCBzdGF0czogRGVja1N0YXRzW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgZGVjayBvZiBkZWNrcykge1xuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHMoZGVjay5pZCk7XG4gICAgICBzdGF0cy5wdXNoKGRlY2tTdGF0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3Q291bnRzQnlEYXRlKFxuICAgIGRheXM6IG51bWJlciA9IDM2NSxcbiAgKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkdFVF9SRVZJRVdfQ09VTlRTX0JZX0RBVEUpO1xuXG4gICAgc3RtdC5iaW5kKFtzdGFydERhdGUudG9JU09TdHJpbmcoKSwgZW5kRGF0ZS50b0lTT1N0cmluZygpXSk7XG4gICAgY29uc3QgcmV2aWV3Q291bnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGNvbnN0IGRhdGUgPSByb3dbMF0gYXMgc3RyaW5nO1xuICAgICAgY29uc3QgY291bnQgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgcmV2aWV3Q291bnRzLnNldChkYXRlLCBjb3VudCk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIHJldmlld0NvdW50cztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWlncmF0ZVNjaGVtYUlmTmVlZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJTdGFydGluZyBkYXRhYmFzZSBtaWdyYXRpb24gY2hlY2suLi5cIik7XG5cbiAgICAgIGlmIChuZWVkc01pZ3JhdGlvbih0aGlzLmRiKSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFwiTWlncmF0aW9uIG5lZWRlZCwgYXBwbHlpbmcuLi5cIik7XG4gICAgICAgIG1pZ3JhdGUodGhpcy5kYiwgdGhpcy5kZWJ1Z0xvZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJNaWdyYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBzY2hlbWEgaXMgdXAgdG8gZGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgTWlncmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGF0YWJhc2UgbWlncmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gIH1cbiAgLy8gSGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSByb3dUb0ZsYXNoY2FyZChyb3c6IGFueVtdKTogRmxhc2hjYXJkIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICBkZWNrSWQ6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmcm9udDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIGJhY2s6IHJvd1szXSBhcyBzdHJpbmcsXG4gICAgICB0eXBlOiByb3dbNF0gYXMgXCJoZWFkZXItcGFyYWdyYXBoXCIgfCBcInRhYmxlXCIsXG4gICAgICBzb3VyY2VGaWxlOiByb3dbNV0gYXMgc3RyaW5nLFxuICAgICAgY29udGVudEhhc2g6IHJvd1s2XSBhcyBzdHJpbmcsXG4gICAgICBzdGF0ZTogcm93WzddIGFzIFwibmV3XCIgfCBcInJldmlld1wiLFxuICAgICAgZHVlRGF0ZTogcm93WzhdIGFzIHN0cmluZyxcbiAgICAgIGludGVydmFsOiByb3dbOV0gYXMgbnVtYmVyLFxuICAgICAgcmVwZXRpdGlvbnM6IHJvd1sxMF0gYXMgbnVtYmVyLFxuICAgICAgZGlmZmljdWx0eTogcm93WzExXSBhcyBudW1iZXIsXG4gICAgICBzdGFiaWxpdHk6IHJvd1sxMl0gYXMgbnVtYmVyLFxuICAgICAgbGFwc2VzOiByb3dbMTNdIGFzIG51bWJlcixcbiAgICAgIGxhc3RSZXZpZXdlZDogcm93WzE0XSBhcyBzdHJpbmcgfCBudWxsLFxuICAgICAgY3JlYXRlZDogcm93WzE1XSBhcyBzdHJpbmcsXG4gICAgICBtb2RpZmllZDogcm93WzE2XSBhcyBzdHJpbmcsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcm93VG9SZXZpZXdTZXNzaW9uKHJvdzogYW55W10pOiBSZXZpZXdTZXNzaW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICBkZWNrSWQ6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBzdGFydGVkQXQ6IHJvd1syXSBhcyBzdHJpbmcsXG4gICAgICBlbmRlZEF0OiByb3dbM10gYXMgc3RyaW5nIHwgbnVsbCxcbiAgICAgIGdvYWxUb3RhbDogcm93WzRdIGFzIG51bWJlcixcbiAgICAgIGRvbmVVbmlxdWU6IHJvd1s1XSBhcyBudW1iZXIsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldE92ZXJhbGxTdGF0aXN0aWNzKFxuICAgIGRlY2tGaWx0ZXI6IHN0cmluZyA9IFwiYWxsXCIsXG4gICAgdGltZWZyYW1lOiBzdHJpbmcgPSBcIjEybW9udGhzXCIsXG4gICk6IFByb21pc2U8U3RhdGlzdGljcz4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIERldGVybWluZSBkYXRlIHJhbmdlIGJhc2VkIG9uIHRpbWVmcmFtZVxuICAgICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBpZiAodGltZWZyYW1lID09PSBcIjEybW9udGhzXCIpIHtcbiAgICAgICAgY3V0b2ZmRGF0ZS5zZXRGdWxsWWVhcihjdXRvZmZEYXRlLmdldEZ1bGxZZWFyKCkgLSAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBcImFsbFwiLCBnbyBiYWNrIDEwIHllYXJzIChlZmZlY3RpdmVseSBhbGwgZGF0YSlcbiAgICAgICAgY3V0b2ZmRGF0ZS5zZXRGdWxsWWVhcihjdXRvZmZEYXRlLmdldEZ1bGxZZWFyKCkgLSAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEJ1aWxkIGRlY2sgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgIGxldCBkZWNrRmlsdGVyQ29uZGl0aW9uID0gXCJcIjtcbiAgICAgIGxldCBkZWNrRmlsdGVyUGFyYW1zOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBpZiAoZGVja0ZpbHRlci5zdGFydHNXaXRoKFwiZGVjazpcIikpIHtcbiAgICAgICAgY29uc3QgZGVja0lkID0gZGVja0ZpbHRlci5zdWJzdHJpbmcoNSk7XG4gICAgICAgIGRlY2tGaWx0ZXJDb25kaXRpb24gPSBcIkFORCBmLmRlY2tfaWQgPSA/XCI7XG4gICAgICAgIGRlY2tGaWx0ZXJQYXJhbXMucHVzaChkZWNrSWQpO1xuICAgICAgfSBlbHNlIGlmIChkZWNrRmlsdGVyLnN0YXJ0c1dpdGgoXCJ0YWc6XCIpKSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IGRlY2tGaWx0ZXIuc3Vic3RyaW5nKDQpO1xuICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uID0gXCJBTkQgZC50YWcgPSA/XCI7XG4gICAgICAgIGRlY2tGaWx0ZXJQYXJhbXMucHVzaCh0YWcpO1xuICAgICAgfVxuICAgICAgLy8gRm9yIFwiYWxsXCIsIG5vIGFkZGl0aW9uYWwgZmlsdGVyIG5lZWRlZFxuXG4gICAgICBjb25zdCBkYWlseVN0YXRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvblxuICAgICAgICAgID8gU1FMX1FVRVJJRVMuR0VUX0RBSUxZX1NUQVRTX09WRVJBTEwucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJGUk9NIHJldmlld19sb2dzIHJsXCIsXG4gICAgICAgICAgICAgIFwiRlJPTSByZXZpZXdfbG9ncyBybFwiLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICAgICAgICBcIkpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWRcIixcbiAgICAgICAgICAgICAgICBcIkpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWQgSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIixcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICAgICAgICBcIldIRVJFIERBVEUocmV2aWV3ZWRfYXQpID49IERBVEUoPylcIixcbiAgICAgICAgICAgICAgICBgV0hFUkUgREFURShyZXZpZXdlZF9hdCkgPj0gREFURSg/KSAke2RlY2tGaWx0ZXJDb25kaXRpb259YCxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIDogU1FMX1FVRVJJRVMuR0VUX0RBSUxZX1NUQVRTX09WRVJBTEwsXG4gICAgICApO1xuXG4gICAgICBkYWlseVN0YXRzU3RtdC5iaW5kKFtcbiAgICAgICAgY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcbiAgICAgICAgLi4uZGVja0ZpbHRlclBhcmFtcyxcbiAgICAgIF0pO1xuICAgICAgY29uc3QgZGFpbHlTdGF0cyA9IFtdO1xuXG4gICAgICB3aGlsZSAoZGFpbHlTdGF0c1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRhaWx5U3RhdHNTdG10LmdldCgpO1xuICAgICAgICBjb25zdCByZXZpZXdzID0gcm93WzFdIGFzIG51bWJlcjtcbiAgICAgICAgY29uc3QgY29ycmVjdCA9IHJvd1syXSBhcyBudW1iZXI7XG4gICAgICAgIGRhaWx5U3RhdHMucHVzaCh7XG4gICAgICAgICAgZGF0ZTogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgICAgICByZXZpZXdzOiByZXZpZXdzLFxuICAgICAgICAgIHRpbWVTcGVudDogcmV2aWV3cyAqIDMwLCAvLyBFc3RpbWF0ZSAzMCBzZWNvbmRzIHBlciByZXZpZXdcbiAgICAgICAgICBuZXdDYXJkczogcm93WzNdIGFzIG51bWJlcixcbiAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLCAvLyBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlNcbiAgICAgICAgICByZXZpZXdDYXJkczogcm93WzRdIGFzIG51bWJlcixcbiAgICAgICAgICBjb3JyZWN0UmF0ZTogcmV2aWV3cyA+IDAgPyAoY29ycmVjdCAvIHJldmlld3MpICogMTAwIDogMCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkYWlseVN0YXRzU3RtdC5mcmVlKCk7XG5cbiAgICAgIC8vIEdldCBjYXJkIHN0YXRzIGJ5IHN0YXR1c1xuICAgICAgY29uc3QgY2FyZFN0YXRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvblxuICAgICAgICAgID8gU1FMX1FVRVJJRVMuR0VUX0NBUkRfU1RBVFMucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJGUk9NIGZsYXNoY2FyZHMgZlwiLFxuICAgICAgICAgICAgICBcIkZST00gZmxhc2hjYXJkcyBmIEpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIsXG4gICAgICAgICAgICApLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiR1JPVVAgQlkgZi5zdGF0ZVwiLFxuICAgICAgICAgICAgICBgV0hFUkUgJHtkZWNrRmlsdGVyQ29uZGl0aW9uLnJlcGxhY2UoXCJkLlwiLCBcImQuXCIpfSBHUk9VUCBCWSBmLnN0YXRlYCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFNRTF9RVUVSSUVTLkdFVF9DQVJEX1NUQVRTLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgY2FyZFN0YXRzID0ge1xuICAgICAgICBuZXc6IDAsXG4gICAgICAgIHJldmlldzogMCxcbiAgICAgICAgbWF0dXJlOiAwLFxuICAgICAgfTtcblxuICAgICAgaWYgKGRlY2tGaWx0ZXJDb25kaXRpb24pIHtcbiAgICAgICAgY2FyZFN0YXRzU3RtdC5iaW5kKGRlY2tGaWx0ZXJQYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoY2FyZFN0YXRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gY2FyZFN0YXRzU3RtdC5nZXQoKTtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPSByb3dbMF0gYXMgc3RyaW5nO1xuICAgICAgICBjb25zdCBjb3VudCA9IHJvd1sxXSBhcyBudW1iZXI7XG4gICAgICAgIGlmIChjYXJkVHlwZSA9PT0gXCJuZXdcIikgY2FyZFN0YXRzLm5ldyA9IGNvdW50O1xuICAgICAgICBlbHNlIGlmIChjYXJkVHlwZSA9PT0gXCJyZXZpZXdcIikgY2FyZFN0YXRzLnJldmlldyA9IGNvdW50O1xuICAgICAgICBlbHNlIGlmIChjYXJkVHlwZSA9PT0gXCJtYXR1cmVcIikgY2FyZFN0YXRzLm1hdHVyZSA9IGNvdW50O1xuICAgICAgfVxuICAgICAgY2FyZFN0YXRzU3RtdC5mcmVlKCk7XG5cbiAgICAgIC8vIEdldCBhbnN3ZXIgYnV0dG9uIHN0YXRzXG4gICAgICBjb25zdCBhbnN3ZXJCdXR0b25zU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvblxuICAgICAgICAgID8gU1FMX1FVRVJJRVMuR0VUX0FOU1dFUl9CVVRUT05fU1RBVFMucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJGUk9NIHJldmlld19sb2dzIHJsXCIsXG4gICAgICAgICAgICAgIFwiRlJPTSByZXZpZXdfbG9ncyBybCBKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkIEpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIsXG4gICAgICAgICAgICApLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiV0hFUkUgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1wiLFxuICAgICAgICAgICAgICBgV0hFUkUgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gPyAke2RlY2tGaWx0ZXJDb25kaXRpb259YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFNRTF9RVUVSSUVTLkdFVF9BTlNXRVJfQlVUVE9OX1NUQVRTLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgYW5zd2VyQnV0dG9ucyA9IHtcbiAgICAgICAgYWdhaW46IDAsXG4gICAgICAgIGhhcmQ6IDAsXG4gICAgICAgIGdvb2Q6IDAsXG4gICAgICAgIGVhc3k6IDAsXG4gICAgICB9O1xuXG4gICAgICBhbnN3ZXJCdXR0b25zU3RtdC5iaW5kKFtcbiAgICAgICAgY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcbiAgICAgICAgLi4uZGVja0ZpbHRlclBhcmFtcyxcbiAgICAgIF0pO1xuXG4gICAgICB3aGlsZSAoYW5zd2VyQnV0dG9uc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGFuc3dlckJ1dHRvbnNTdG10LmdldCgpO1xuICAgICAgICBjb25zdCByYXRpbmdMYWJlbCA9IHJvd1swXSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcm93WzFdIGFzIG51bWJlcjtcbiAgICAgICAgYW5zd2VyQnV0dG9uc1tyYXRpbmdMYWJlbCBhcyBrZXlvZiB0eXBlb2YgYW5zd2VyQnV0dG9uc10gPSBjb3VudDtcbiAgICAgIH1cbiAgICAgIGFuc3dlckJ1dHRvbnNTdG10LmZyZWUoKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHJldGVudGlvbiByYXRlXG4gICAgICBjb25zdCB0b3RhbFJldmlld3MgPSBPYmplY3QudmFsdWVzKGFuc3dlckJ1dHRvbnMpLnJlZHVjZShcbiAgICAgICAgKHN1bSwgY291bnQpID0+IHN1bSArIGNvdW50LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNvcnJlY3RSZXZpZXdzID0gdG90YWxSZXZpZXdzIC0gYW5zd2VyQnV0dG9ucy5hZ2FpbjtcbiAgICAgIGNvbnN0IHJldGVudGlvblJhdGUgPVxuICAgICAgICB0b3RhbFJldmlld3MgPiAwID8gKGNvcnJlY3RSZXZpZXdzIC8gdG90YWxSZXZpZXdzKSAqIDEwMCA6IDA7XG5cbiAgICAgIC8vIEdldCBpbnRlcnZhbCBkaXN0cmlidXRpb25cbiAgICAgIGNvbnN0IGludGVydmFsc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUXG4gICAgICAgIENBU0VcbiAgICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCAxNDQwIFRIRU4gQ0FTVChmLmludGVydmFsIC8gNjAgQVMgSU5URUdFUikgfHwgJ2gnXG4gICAgICAgICAgV0hFTiBmLmludGVydmFsIDwgNDMyMDAgVEhFTiBDQVNUKGYuaW50ZXJ2YWwgLyAxNDQwIEFTIElOVEVHRVIpIHx8ICdkJ1xuICAgICAgICAgIEVMU0UgQ0FTVChmLmludGVydmFsIC8gNDMyMDAgQVMgSU5URUdFUikgfHwgJ20nXG4gICAgICAgIEVORCBhcyBpbnRlcnZhbF9ncm91cCxcbiAgICAgICAgQ09VTlQoKikgYXMgY291bnRcbiAgICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgICAke2RlY2tGaWx0ZXJDb25kaXRpb24gPyBcIkpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIgOiBcIlwifVxuICAgICAgV0hFUkUgZi5zdGF0ZSAhPSAnbmV3J1xuICAgICAgJHtkZWNrRmlsdGVyQ29uZGl0aW9ufVxuICAgICAgR1JPVVAgQlkgaW50ZXJ2YWxfZ3JvdXBcbiAgICAgIE9SREVSIEJZIGYuaW50ZXJ2YWxcbiAgICBgKTtcblxuICAgICAgaWYgKGRlY2tGaWx0ZXJDb25kaXRpb24pIHtcbiAgICAgICAgaW50ZXJ2YWxzU3RtdC5iaW5kKGRlY2tGaWx0ZXJQYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnRlcnZhbHMgPSBbXTtcbiAgICAgIHdoaWxlIChpbnRlcnZhbHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBpbnRlcnZhbHNTdG10LmdldCgpO1xuICAgICAgICBpbnRlcnZhbHMucHVzaCh7XG4gICAgICAgICAgaW50ZXJ2YWw6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICAgICAgY291bnQ6IHJvd1sxXSBhcyBudW1iZXIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaW50ZXJ2YWxzU3RtdC5mcmVlKCk7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGZvcmVjYXN0IGZvciBuZXh0IDkwIGRheXNcbiAgICAgIGNvbnN0IGZvcmVjYXN0ID0gW107XG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTA7IGkrKykge1xuICAgICAgICBjb25zdCBmb3JlY2FzdERhdGUgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgICAgIGZvcmVjYXN0RGF0ZS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIGkpO1xuICAgICAgICBjb25zdCBkYXRlU3RyID0gZm9yZWNhc3REYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuXG4gICAgICAgIGNvbnN0IGZvcmVjYXN0U3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uXG4gICAgICAgICAgICA/IFNRTF9RVUVSSUVTLkdFVF9GT1JFQ0FTVF9EVUVfQ09VTlQucmVwbGFjZShcbiAgICAgICAgICAgICAgICBcIkZST00gZmxhc2hjYXJkcyBmXCIsXG4gICAgICAgICAgICAgICAgXCJGUk9NIGZsYXNoY2FyZHMgZiBKT0lOIGRlY2tzIGQgT04gZi5kZWNrX2lkID0gZC5pZFwiLFxuICAgICAgICAgICAgICApLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgXCJXSEVSRSBEQVRFKGYuZHVlX2RhdGUpID0gREFURSg/KVwiLFxuICAgICAgICAgICAgICAgIGBXSEVSRSBEQVRFKGYuZHVlX2RhdGUpID0gREFURSg/KSAke2RlY2tGaWx0ZXJDb25kaXRpb259YCxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBTUUxfUVVFUklFUy5HRVRfRk9SRUNBU1RfRFVFX0NPVU5ULFxuICAgICAgICApO1xuXG4gICAgICAgIGZvcmVjYXN0U3RtdC5iaW5kKFtkYXRlU3RyLCAuLi5kZWNrRmlsdGVyUGFyYW1zXSk7XG4gICAgICAgIGxldCBkdWVDb3VudCA9IDA7XG4gICAgICAgIGlmIChmb3JlY2FzdFN0bXQuc3RlcCgpKSB7XG4gICAgICAgICAgY29uc3Qgcm93ID0gZm9yZWNhc3RTdG10LmdldCgpO1xuICAgICAgICAgIGR1ZUNvdW50ID0gcm93WzBdIGFzIG51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBmb3JlY2FzdFN0bXQuZnJlZSgpO1xuXG4gICAgICAgIGZvcmVjYXN0LnB1c2goe1xuICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXG4gICAgICAgICAgZHVlQ291bnQ6IGR1ZUNvdW50LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIHBhY2Ugc3RhdGlzdGljcyBmcm9tIHRpbWVfZWxhcHNlZF9tcyBkYXRhXG4gICAgICBjb25zdCBwYWNlU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvblxuICAgICAgICAgID8gU1FMX1FVRVJJRVMuR0VUX1BBQ0VfU1RBVFMucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJGUk9NIHJldmlld19sb2dzIHJsXCIsXG4gICAgICAgICAgICAgIFwiRlJPTSByZXZpZXdfbG9ncyBybCBKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkIEpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIsXG4gICAgICAgICAgICApLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiV0hFUkUgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1wiLFxuICAgICAgICAgICAgICBgV0hFUkUgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gPyAke2RlY2tGaWx0ZXJDb25kaXRpb259YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFNRTF9RVUVSSUVTLkdFVF9QQUNFX1NUQVRTLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIGlmIChkZWNrRmlsdGVyQ29uZGl0aW9uKSB7XG4gICAgICAgIHBhY2VTdG10LmJpbmQoW2N1dG9mZkRhdGUudG9JU09TdHJpbmcoKSwgZW5kRGF0ZSwgLi4uZGVja0ZpbHRlclBhcmFtc10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFjZVN0bXQuYmluZChbY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpLCBlbmREYXRlXSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBhdmVyYWdlUGFjZSA9IDA7XG4gICAgICBsZXQgdG90YWxSZXZpZXdUaW1lID0gMDtcbiAgICAgIGlmIChwYWNlU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcGFjZVN0bXQuZ2V0KCk7XG4gICAgICAgIGF2ZXJhZ2VQYWNlID0gKHJvd1swXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgICAgIHRvdGFsUmV2aWV3VGltZSA9IChyb3dbMV0gYXMgbnVtYmVyKSB8fCAwO1xuICAgICAgfVxuICAgICAgcGFjZVN0bXQuZnJlZSgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYWlseVN0YXRzLFxuICAgICAgICBjYXJkU3RhdHMsXG4gICAgICAgIGFuc3dlckJ1dHRvbnMsXG4gICAgICAgIHJldGVudGlvblJhdGUsXG4gICAgICAgIGludGVydmFscyxcbiAgICAgICAgZm9yZWNhc3QsXG4gICAgICAgIGF2ZXJhZ2VQYWNlLFxuICAgICAgICB0b3RhbFJldmlld1RpbWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZ2V0T3ZlcmFsbFN0YXRpc3RpY3M6XCIsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBlbXB0eSBkYXRhIHN0cnVjdHVyZSBpbnN0ZWFkIG9mIHRocm93aW5nXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYWlseVN0YXRzOiBbXSxcbiAgICAgICAgY2FyZFN0YXRzOiB7IG5ldzogMCwgcmV2aWV3OiAwLCBtYXR1cmU6IDAgfSxcbiAgICAgICAgYW5zd2VyQnV0dG9uczogeyBhZ2FpbjogMCwgaGFyZDogMCwgZ29vZDogMCwgZWFzeTogMCB9LFxuICAgICAgICByZXRlbnRpb25SYXRlOiAwLFxuICAgICAgICBpbnRlcnZhbHM6IFtdLFxuICAgICAgICBmb3JlY2FzdDogW10sXG4gICAgICAgIGF2ZXJhZ2VQYWNlOiAwLFxuICAgICAgICB0b3RhbFJldmlld1RpbWU6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHB1cmdlRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcIlB1cmdpbmcgZGF0YWJhc2UgLSBkZWxldGluZyBhbGwgZGF0YVwiKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5kYikge1xuICAgICAgICAvLyBEcm9wIGFsbCB0YWJsZXMgdG8gY29tcGxldGVseSByZXNldCB0aGUgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5kYi5leGVjKGBcbiAgICAgICAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyByZXZpZXdfbG9ncztcbiAgICAgICAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBmbGFzaGNhcmRzO1xuICAgICAgICAgIERST1AgVEFCTEUgSUYgRVhJU1RTIGRlY2tzO1xuICAgICAgICBgKTtcblxuICAgICAgICB0aGlzLmRlYnVnTG9nKFwiQWxsIHRhYmxlcyBkcm9wcGVkLCByZWNyZWF0aW5nIHNjaGVtYVwiKTtcblxuICAgICAgICAvLyBSZWNyZWF0ZSB0YWJsZXMgd2l0aCBmcmVzaCBzY2hlbWFcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVGcmVzaERhdGFiYXNlKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuXG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBwdXJnZWQgYW5kIHJlY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwdXJnaW5nIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRGbGFzaGNhcmRCeUlkKGNhcmRJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmQgfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlPbmUoXG4gICAgICBcIlNFTEVDVCAqIEZST00gZmxhc2hjYXJkcyBXSEVSRSBpZCA9ID9cIixcbiAgICAgIFtjYXJkSWRdLFxuICAgICAgdGhpcy5yb3dUb0ZsYXNoY2FyZC5iaW5kKHRoaXMpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBtdWx0aXBsZSBvcGVyYXRpb25zIGluIGEgZGF0YWJhc2UgdHJhbnNhY3Rpb25cbiAgICogTm90ZTogRm9yIHNxbC5qcyBjb21wYXRpYmlsaXR5LCBhdm9pZCB1c2luZyB0aGlzIGZvciBub3dcbiAgICovXG4gIGFzeW5jIHJ1bkluVHJhbnNhY3Rpb248VD4ob3BlcmF0aW9uczogKCkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGIuZXhlYyhcIkJFR0lOIFRSQU5TQUNUSU9OXCIpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9ucygpO1xuICAgICAgdGhpcy5kYi5leGVjKFwiQ09NTUlUXCIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5kYi5leGVjKFwiUk9MTEJBQ0tcIik7XG4gICAgICB9IGNhdGNoIChyb2xsYmFja0Vycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSByb2xsYmFjayBlcnJvcnMgLSB0cmFuc2FjdGlvbiBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gcm9sbGVkIGJhY2tcbiAgICAgICAgY29uc29sZS53YXJuKFwiVHJhbnNhY3Rpb24gcm9sbGJhY2sgZmFpbGVkOlwiLCByb2xsYmFja0Vycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgcmF3IFNRTCBxdWVyeSBhbmQgcmV0dXJuIHJlc3VsdHNcbiAgICovXG4gIGFzeW5jIHF1ZXJ5KHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pOiBQcm9taXNlPGFueVtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG4gICAgc3RtdC5iaW5kKHBhcmFtcyk7XG5cbiAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgcmVzdWx0cy5wdXNoKHN0bXQuZ2V0KCkpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICAgIHRoaXMuZGIgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogRlNSUyBBbGdvcml0aG0gV2VpZ2h0cyBDb25maWd1cmF0aW9uXG4gKlxuICogQ2VudHJhbGl6ZWQgY29uZmlndXJhdGlvbiBmb3IgRlNSUy00LjUgYWxnb3JpdGhtIHdlaWdodHMgb3B0aW1pemVkIGZvciBzdWItZGF5IGludGVydmFscy5cbiAqIFRoZXNlIHdlaWdodHMgY29udHJvbCB0aGUgaW5pdGlhbCBzdGFiaWxpdHkgdmFsdWVzIGZvciBuZXcgY2FyZCByYXRpbmdzIGFuZCB2YXJpb3VzXG4gKiBhbGdvcml0aG0gcGFyYW1ldGVycyBmb3IgZGlmZmljdWx0eSBwcm9ncmVzc2lvbiBhbmQgc3RhYmlsaXR5IHVwZGF0ZXMuXG4gKi9cblxuLyoqXG4gKiBGU1JTLTQuNSBzdGFuZGFyZCB3ZWlnaHRzIChkYXktYmFzZWQgaW50ZXJ2YWxzKVxuICovXG5leHBvcnQgY29uc3QgRlNSU19XRUlHSFRTX1NUQU5EQVJEOiBudW1iZXJbXSA9IFtcbiAgMC40MDcyLCAxLjE4MjksIDMuMTI2MiwgMTUuNDcyMiwgNy4yMTAyLCAwLjUzMTYsIDEuMDY1MSwgMC4wMjM0LCAxLjYxNixcbiAgMC4xNTQ0LCAxLjA4MjQsIDEuOTgxMywgMC4wOTUzLCAwLjI5NzUsIDIuMjA0MiwgMC4yNDA3LCAyLjk0NjYsXG5dO1xuXG4vKipcbiAqIEZTUlMgd2VpZ2h0cyBvcHRpbWl6ZWQgZm9yIGludGVuc2l2ZSBzdWItZGF5IGludGVydmFsc1xuICogd1swLTNdIHNldCB0byBtYXRjaCBpbnRlbnNpdmUgdGFyZ2V0cyBpbiBkYXlzOiAxbS81bS8xMG0vNDBtXG4gKi9cbmV4cG9ydCBjb25zdCBGU1JTX1dFSUdIVFNfU1VCREFZOiBudW1iZXJbXSA9IFtcbiAgMSAvIDE0NDAsIC8vIHdbMF0gLSBBZ2FpbjogMSBtaW51dGVcbiAgNSAvIDE0NDAsIC8vIHdbMV0gLSBIYXJkOiA1IG1pbnV0ZXNcbiAgMTAgLyAxNDQwLCAvLyB3WzJdIC0gR29vZDogMTAgbWludXRlc1xuICA0MCAvIDE0NDAsIC8vIHdbM10gLSBFYXN5OiA0MCBtaW51dGVzXG5cbiAgLy8gS2VlcCBGU1JTLTQuNSBkZWZhdWx0cyBmb3IgcmVtYWluaW5nIHBhcmFtZXRlcnNcbiAgNy4yMTAyLFxuICAwLjUzMTYsXG4gIDEuMDY1MSxcbiAgMC4wMjM0LFxuICAxLjYxNixcbiAgMC4xNTQ0LFxuICAxLjA4MjQsXG4gIDEuOTgxMyxcbiAgMC4wOTUzLFxuICAwLjI5NzUsXG4gIDIuMjA0MixcbiAgMC4yNDA3LFxuICAyLjk0NjYsXG5dO1xuXG4vKipcbiAqIERlZmF1bHQgRlNSUyB3ZWlnaHRzIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GU1JTX1dFSUdIVFM6IG51bWJlcltdID0gRlNSU19XRUlHSFRTX1NUQU5EQVJEO1xuXG4vKipcbiAqIEZTUlMgcHJvZmlsZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEZTUlNQcm9maWxlID0gXCJJTlRFTlNJVkVcIiB8IFwiU1RBTkRBUkRcIjtcblxuLyoqXG4gKiBQcm9maWxlLXNwZWNpZmljIHBhcmFtZXRlcnMgKGhhcmRjb2RlZCwgbm90IHVzZXItZWRpdGFibGUpXG4gKi9cbmV4cG9ydCBjb25zdCBQUk9GSUxFX0NPTkZJRyA9IHtcbiAgSU5URU5TSVZFOiB7XG4gICAgd2VpZ2h0czogRlNSU19XRUlHSFRTX1NVQkRBWSxcbiAgICBtaW5NaW51dGVzOiAxLFxuICAgIG1heGltdW1JbnRlcnZhbERheXM6IDM2NTAwLFxuICB9LFxuICBTVEFOREFSRDoge1xuICAgIHdlaWdodHM6IEZTUlNfV0VJR0hUU19TVEFOREFSRCxcbiAgICBtaW5NaW51dGVzOiAxNDQwLCAvLyAxIGRheSBtaW5pbXVtXG4gICAgbWF4aW11bUludGVydmFsRGF5czogMzY1MDAsXG4gIH0sXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIERlZmF1bHQgRlNSUyBhbGdvcml0aG0gcGFyYW1ldGVycyAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRlNSU19QQVJBTUVURVJTID0ge1xuICB3OiBERUZBVUxUX0ZTUlNfV0VJR0hUUyxcbiAgcmVxdWVzdFJldGVudGlvbjogMC45LFxuICBtYXhpbXVtSW50ZXJ2YWw6IDM2NTAwLFxuICBtaW5NaW51dGVzOiAxNDQwLFxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBHZXQgd2VpZ2h0cyBmb3IgYSBzcGVjaWZpYyBwcm9maWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWlnaHRzRm9yUHJvZmlsZShwcm9maWxlOiBGU1JTUHJvZmlsZSk6IG51bWJlcltdIHtcbiAgcmV0dXJuIFBST0ZJTEVfQ09ORklHW3Byb2ZpbGVdLndlaWdodHM7XG59XG5cbi8qKlxuICogR2V0IG1pbmltdW0gbWludXRlcyBmb3IgYSBzcGVjaWZpYyBwcm9maWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW5NaW51dGVzRm9yUHJvZmlsZShwcm9maWxlOiBGU1JTUHJvZmlsZSk6IG51bWJlciB7XG4gIHJldHVybiBQUk9GSUxFX0NPTkZJR1twcm9maWxlXS5taW5NaW51dGVzO1xufVxuXG4vKipcbiAqIEdldCBtYXhpbXVtIGludGVydmFsIGRheXMgZm9yIGEgc3BlY2lmaWMgcHJvZmlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF4SW50ZXJ2YWxEYXlzRm9yUHJvZmlsZShwcm9maWxlOiBGU1JTUHJvZmlsZSk6IG51bWJlciB7XG4gIHJldHVybiBQUk9GSUxFX0NPTkZJR1twcm9maWxlXS5tYXhpbXVtSW50ZXJ2YWxEYXlzO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBGU1JTIHdlaWdodHMgYXJyYXlcbiAqIEBwYXJhbSB3ZWlnaHRzIC0gQXJyYXkgb2YgMTcgRlNSUyB3ZWlnaHRzIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB0cnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRlNSU1dlaWdodHMod2VpZ2h0czogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHdlaWdodHMpIHx8IHdlaWdodHMubGVuZ3RoICE9PSAxNykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB3ZWlnaHRzLmV2ZXJ5KCh3KSA9PiBpc0Zpbml0ZSh3KSk7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBVSS1vbmx5IGZvcm1hdHRpbmcgLSBuZXZlciB1c2UgaW4gY2FsY3VsYXRpb25zXG4gKiBQcmVzZXJ2ZXMgZnVsbCBwcmVjaXNpb24gaW4gYWxsIGludGVybmFsIGNhbGN1bGF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRGb3JEaXNwbGF5KHZhbHVlOiBudW1iZXIsIGRlY2ltYWxzOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZChkZWNpbWFscyk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYSBudW1lcmljIHZhbHVlIG1haW50YWlucyBzdWZmaWNpZW50IHByZWNpc2lvblxuICogQHBhcmFtIHZhbHVlIC0gVGhlIG51bWVyaWMgdmFsdWUgdG8gdmFsaWRhdGVcbiAqIEBwYXJhbSBtaW5TaWduaWZpY2FudERpZ2l0cyAtIE1pbmltdW0gcmVxdWlyZWQgc2lnbmlmaWNhbnQgZGlnaXRzIChkZWZhdWx0OiAxMilcbiAqIEByZXR1cm5zIHRydWUgaWYgcHJlY2lzaW9uIGlzIHN1ZmZpY2llbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUHJlY2lzaW9uKFxuICB2YWx1ZTogbnVtYmVyLFxuICBtaW5TaWduaWZpY2FudERpZ2l0czogbnVtYmVyID0gMTIsXG4pOiBib29sZWFuIHtcbiAgaWYgKCFpc0Zpbml0ZSh2YWx1ZSkgfHwgdmFsdWUgPT09IDApIHtcbiAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpO1xuICB9XG5cbiAgY29uc3QgdmFsdWVTdHIgPSBNYXRoLmFicyh2YWx1ZSkudG9TdHJpbmcoKTtcbiAgY29uc3Qgc2lnbmlmaWNhbnREaWdpdHMgPSB2YWx1ZVN0ci5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIikubGVuZ3RoO1xuXG4gIHJldHVybiBzaWduaWZpY2FudERpZ2l0cyA+PSBtaW5TaWduaWZpY2FudERpZ2l0cztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIHN1Yi1kYXkgb3B0aW1pemVkIHdlaWdodHMgd2l0aCBjdXN0b20gaW5pdGlhbCBpbnRlcnZhbHNcbiAqIEBwYXJhbSBhZ2Fpbk1pbnV0ZXMgLSBUYXJnZXQgaW50ZXJ2YWwgZm9yIEFnYWluIHJhdGluZyAoZGVmYXVsdDogMSBtaW51dGUpXG4gKiBAcGFyYW0gaGFyZE1pbnV0ZXMgLSBUYXJnZXQgaW50ZXJ2YWwgZm9yIEhhcmQgcmF0aW5nIChkZWZhdWx0OiA2IG1pbnV0ZXMpXG4gKiBAcGFyYW0gZ29vZE1pbnV0ZXMgLSBUYXJnZXQgaW50ZXJ2YWwgZm9yIEdvb2QgcmF0aW5nIChkZWZhdWx0OiAxMCBtaW51dGVzKVxuICogQHBhcmFtIGVhc3lNaW51dGVzIC0gVGFyZ2V0IGludGVydmFsIGZvciBFYXN5IHJhdGluZyAoZGVmYXVsdDogMTQ0MCBtaW51dGVzKVxuICogQHJldHVybnMgRlNSUyB3ZWlnaHRzIGFycmF5IG9wdGltaXplZCBmb3Igc3BlY2lmaWVkIGludGVydmFsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ViRGF5V2VpZ2h0cyhcbiAgYWdhaW5NaW51dGVzOiBudW1iZXIgPSAxLFxuICBoYXJkTWludXRlczogbnVtYmVyID0gNixcbiAgZ29vZE1pbnV0ZXM6IG51bWJlciA9IDEwLFxuICBlYXN5TWludXRlczogbnVtYmVyID0gMTQ0MCxcbik6IG51bWJlcltdIHtcbiAgcmV0dXJuIFtcbiAgICBhZ2Fpbk1pbnV0ZXMgLyAxNDQwLCAvLyB3WzBdIC0gQWdhaW4gc3RhYmlsaXR5XG4gICAgaGFyZE1pbnV0ZXMgLyAxNDQwLCAvLyB3WzFdIC0gSGFyZCBzdGFiaWxpdHlcbiAgICBnb29kTWludXRlcyAvIDE0NDAsIC8vIHdbMl0gLSBHb29kIHN0YWJpbGl0eVxuICAgIGVhc3lNaW51dGVzIC8gMTQ0MCwgLy8gd1szXSAtIEVhc3kgc3RhYmlsaXR5XG4gICAgLi4uREVGQVVMVF9GU1JTX1dFSUdIVFMuc2xpY2UoNCksIC8vIEtlZXAgcmVtYWluaW5nIHdlaWdodHNcbiAgXTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBGU1JTIHByb2ZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUHJvZmlsZShwcm9maWxlOiBzdHJpbmcpOiBwcm9maWxlIGlzIEZTUlNQcm9maWxlIHtcbiAgcmV0dXJuIHByb2ZpbGUgPT09IFwiSU5URU5TSVZFXCIgfHwgcHJvZmlsZSA9PT0gXCJTVEFOREFSRFwiO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHJlcXVlc3QgcmV0ZW50aW9uIHJhbmdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3RSZXRlbnRpb24ocmV0ZW50aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHJldGVudGlvbiA+IDAuNSAmJiByZXRlbnRpb24gPCAwLjk5NTtcbn1cblxuLyoqXG4gKiBQcmUtY29uZmlndXJlZCB3ZWlnaHQgc2V0cyBmb3IgZGlmZmVyZW50IHVzZSBjYXNlcyAoZGVwcmVjYXRlZClcbiAqL1xuZXhwb3J0IGNvbnN0IFdFSUdIVF9QUkVTRVRTID0ge1xuICBJTlRFTlNJVkU6IEZTUlNfV0VJR0hUU19TVUJEQVksXG4gIFNUQU5EQVJEOiBGU1JTX1dFSUdIVFNfU1RBTkRBUkQsXG4gIFJFTEFYRUQ6IGNyZWF0ZVN1YkRheVdlaWdodHMoMzAsIDYwLCAxODAsIDcyMCksXG4gIE9SSUdJTkFMOiBGU1JTX1dFSUdIVFNfU1RBTkRBUkQsXG59IGFzIGNvbnN0O1xuIiwgImltcG9ydCB7IERFRkFVTFRfRlNSU19QQVJBTUVURVJTIH0gZnJvbSBcIi4uL2FsZ29yaXRobS9mc3JzLXdlaWdodHNcIjtcblxuZXhwb3J0IHR5cGUgUmV2aWV3T3JkZXIgPSBcImR1ZS1kYXRlXCIgfCBcInJhbmRvbVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlY2tDb25maWcge1xuICAvLyBEYWlseSBsaW1pdHNcbiAgbmV3Q2FyZHNQZXJEYXk6IG51bWJlcjsgLy8gMCA9IHVubGltaXRlZFxuICByZXZpZXdDYXJkc1BlckRheTogbnVtYmVyOyAvLyAwID0gdW5saW1pdGVkXG5cbiAgLy8gQ29udGVudCBwYXJzaW5nXG4gIGhlYWRlckxldmVsOiBudW1iZXI7IC8vIDEtNiwgd2hpY2ggaGVhZGVyIGxldmVsIHRvIHBhcnNlIGZvciBoZWFkZXItcGFyYWdyYXBoIGZsYXNoY2FyZHNcblxuICAvLyBSZXZpZXcgYmVoYXZpb3JcbiAgcmV2aWV3T3JkZXI6IFJldmlld09yZGVyOyAvLyBPcmRlciBmb3IgcmV2aWV3IGNhcmRzOiBvbGRlc3QgZHVlIGZpcnN0IG9yIHJhbmRvbVxuXG4gIC8vIEZTUlMgYWxnb3JpdGhtIHNldHRpbmdzXG4gIGZzcnM6IHtcbiAgICByZXF1ZXN0UmV0ZW50aW9uOiBudW1iZXI7XG4gICAgcHJvZmlsZTogXCJJTlRFTlNJVkVcIiB8IFwiU1RBTkRBUkRcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNrIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBmaWxlcGF0aDogc3RyaW5nO1xuICB0YWc6IHN0cmluZztcbiAgbGFzdFJldmlld2VkOiBzdHJpbmcgfCBudWxsO1xuICBjb25maWc6IERlY2tDb25maWc7XG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgbW9kaWZpZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgRmxhc2hjYXJkU3RhdGUgPSBcIm5ld1wiIHwgXCJyZXZpZXdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmQge1xuICBpZDogc3RyaW5nO1xuICBkZWNrSWQ6IHN0cmluZztcbiAgZnJvbnQ6IHN0cmluZztcbiAgYmFjazogc3RyaW5nO1xuICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIiB8IFwidGFibGVcIjtcbiAgc291cmNlRmlsZTogc3RyaW5nO1xuICBjb250ZW50SGFzaDogc3RyaW5nOyAvLyBIYXNoIG9mIGJhY2sgY29udGVudCBvbmx5IChmcm9udCBpcyB1c2VkIGZvciBJRClcblxuICBzdGF0ZTogRmxhc2hjYXJkU3RhdGU7XG4gIGR1ZURhdGU6IHN0cmluZztcbiAgaW50ZXJ2YWw6IG51bWJlcjsgLy8gaW4gbWludXRlc1xuICByZXBldGl0aW9uczogbnVtYmVyO1xuICBkaWZmaWN1bHR5OiBudW1iZXI7IC8vIEZTUlMgZGlmZmljdWx0eSB2YWx1ZSAoMS0xMClcbiAgc3RhYmlsaXR5OiBudW1iZXI7IC8vIEZTUlMgc3RhYmlsaXR5IHZhbHVlXG4gIGxhcHNlczogbnVtYmVyOyAvLyBOdW1iZXIgb2YgdGltZXMgY2FyZCB3YXMgZm9yZ290dGVuXG4gIGxhc3RSZXZpZXdlZDogc3RyaW5nIHwgbnVsbDsgLy8gTGFzdCByZXZpZXcgZGF0ZVxuICBjcmVhdGVkOiBzdHJpbmc7XG4gIG1vZGlmaWVkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2aWV3U2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGRlY2tJZDogc3RyaW5nO1xuICBzdGFydGVkQXQ6IHN0cmluZzsgLy8gSVNPIGRhdGV0aW1lXG4gIGVuZGVkQXQ6IHN0cmluZyB8IG51bGw7IC8vIElTTyBkYXRldGltZSB3aGVuIHVzZXIgY2xvc2VzIHNlc3Npb24sIGNhbiBiZSBudWxsXG4gIGdvYWxUb3RhbDogbnVtYmVyOyAvLyBDT1VOVChkdWVBdCA8PSBub3cpIGF0IHNlc3Npb24gc3RhcnQ7IGlmIGxpbWl0cyBkZWZpbmVkIHRha2UgVG9wIExpbWl0QW1vdW50XG4gIGRvbmVVbmlxdWU6IG51bWJlcjsgLy8gdW5pcXVlIG51bWJlciBvZiBjYXJkcyBzZWVuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2aWV3TG9nIHtcbiAgaWQ6IHN0cmluZztcbiAgZmxhc2hjYXJkSWQ6IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nOyAvLyBSZWZlcmVuY2UgdG8gcmV2aWV3IHNlc3Npb24gKG5vIGNhc2NhZGUgZGVsZXRlKVxuXG4gIC8vIFRpbWVzdGFtcHNcbiAgbGFzdFJldmlld2VkQXQ6IHN0cmluZzsgLy8gYmVmb3JlIHRoaXMgcmV2aWV3XG4gIHNob3duQXQ/OiBzdHJpbmc7IC8vIHdoZW4gY2FyZCB3YXMgc2hvd24gKG9wdGlvbmFsKVxuICByZXZpZXdlZEF0OiBzdHJpbmc7IC8vIHdoZW4gcmF0aW5nIHdhcyByZWNvcmRlZFxuXG4gIC8vIFJhdGluZ1xuICByYXRpbmc6IDEgfCAyIHwgMyB8IDQ7IC8vIEFnYWluPTEsIEhhcmQ9MiwgR29vZD0zLCBFYXN5PTRcbiAgcmF0aW5nTGFiZWw6IFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIjtcbiAgdGltZUVsYXBzZWRNcz86IG51bWJlcjsgLy8gaWYgbm90IGRlcml2aW5nIGZyb20gc2hvd25BdFxuXG4gIC8vIFByZS1zdGF0ZSAoZm9yIGV4YWN0IHJlY29uc3RydWN0aW9uKVxuICBvbGRTdGF0ZTogXCJuZXdcIiB8IFwicmV2aWV3XCI7XG4gIG9sZFJlcGV0aXRpb25zOiBudW1iZXI7XG4gIG9sZExhcHNlczogbnVtYmVyO1xuICBvbGRTdGFiaWxpdHk6IG51bWJlcjtcbiAgb2xkRGlmZmljdWx0eTogbnVtYmVyO1xuXG4gIC8vIFBvc3Qtc3RhdGVcbiAgbmV3U3RhdGU6IFwibmV3XCIgfCBcInJldmlld1wiOyAvLyB3aWxsIGJlIFwicmV2aWV3XCIgaW4gcHVyZSBGU1JTXG4gIG5ld1JlcGV0aXRpb25zOiBudW1iZXI7XG4gIG5ld0xhcHNlczogbnVtYmVyO1xuICBuZXdTdGFiaWxpdHk6IG51bWJlcjtcbiAgbmV3RGlmZmljdWx0eTogbnVtYmVyO1xuXG4gIC8vIEludGVydmFscyAmIGR1ZSB0aW1lcyAoZXhwbGljaXQgdW5pdHMpXG4gIG9sZEludGVydmFsTWludXRlczogbnVtYmVyO1xuICBuZXdJbnRlcnZhbE1pbnV0ZXM6IG51bWJlcjtcbiAgb2xkRHVlQXQ6IHN0cmluZztcbiAgbmV3RHVlQXQ6IHN0cmluZztcblxuICAvLyBEZXJpdmVkIGF0IHJldmlldyB0aW1lXG4gIGVsYXBzZWREYXlzOiBudW1iZXI7IC8vIChyZXZpZXdlZEF0IC0gbGFzdFJldmlld2VkQXQpIC8gODY0MDAwMDBcbiAgcmV0cmlldmFiaWxpdHk6IG51bWJlcjsgLy8gUlxuXG4gIC8vIENvbmZpZyBzbmFwc2hvdFxuICByZXF1ZXN0UmV0ZW50aW9uOiBudW1iZXI7XG4gIHByb2ZpbGU6IFwiSU5URU5TSVZFXCIgfCBcIlNUQU5EQVJEXCI7XG4gIG1heGltdW1JbnRlcnZhbERheXM6IG51bWJlcjtcbiAgbWluTWludXRlczogbnVtYmVyO1xuICBmc3JzV2VpZ2h0c1ZlcnNpb246IHN0cmluZzsgLy8gb3Igd2VpZ2h0c0hhc2hcbiAgc2NoZWR1bGVyVmVyc2lvbjogc3RyaW5nO1xuXG4gIC8vIE9wdGlvbmFsIGNvbnRlbnQvY29udGV4dFxuICBub3RlTW9kZWxJZD86IHN0cmluZztcbiAgY2FyZFRlbXBsYXRlSWQ/OiBzdHJpbmc7XG4gIGNvbnRlbnRIYXNoPzogc3RyaW5nO1xuICBjbGllbnQ/OiBcIndlYlwiIHwgXCJkZXNrdG9wXCIgfCBcIm1vYmlsZVwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2tTdGF0cyB7XG4gIGRlY2tJZDogc3RyaW5nO1xuICBuZXdDb3VudDogbnVtYmVyO1xuICBkdWVDb3VudDogbnVtYmVyO1xuICB0b3RhbENvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5raUV4cG9ydENvbmZpZyB7XG4gIGFua2lEZWNrTmFtZTogc3RyaW5nO1xuICBzZXBhcmF0b3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZVNjaGVtYSB7XG4gIGRlY2tzOiBEZWNrO1xuICBmbGFzaGNhcmRzOiBGbGFzaGNhcmQ7XG4gIHJldmlld19sb2dzOiBSZXZpZXdMb2c7XG4gIHJldmlld19zZXNzaW9uczogUmV2aWV3U2Vzc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWlseVN0YXRzIHtcbiAgZGF0ZTogc3RyaW5nO1xuICByZXZpZXdzOiBudW1iZXI7XG4gIHRpbWVTcGVudDogbnVtYmVyO1xuICBuZXdDYXJkczogbnVtYmVyO1xuICBsZWFybmluZ0NhcmRzOiBudW1iZXI7XG4gIHJldmlld0NhcmRzOiBudW1iZXI7XG4gIGNvcnJlY3RSYXRlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZFN0YXRzIHtcbiAgbmV3OiBudW1iZXI7XG4gIHJldmlldzogbnVtYmVyO1xuICBtYXR1cmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbnN3ZXJCdXR0b25zIHtcbiAgYWdhaW46IG51bWJlcjtcbiAgaGFyZDogbnVtYmVyO1xuICBnb29kOiBudW1iZXI7XG4gIGVhc3k6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcnZhbERhdGEge1xuICBpbnRlcnZhbDogc3RyaW5nO1xuICBjb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcmVjYXN0RGF0YSB7XG4gIGRhdGU6IHN0cmluZztcbiAgZHVlQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNzIHtcbiAgZGFpbHlTdGF0czogRGFpbHlTdGF0c1tdO1xuICBjYXJkU3RhdHM6IENhcmRTdGF0cztcbiAgYW5zd2VyQnV0dG9uczogQW5zd2VyQnV0dG9ucztcbiAgcmV0ZW50aW9uUmF0ZTogbnVtYmVyO1xuICBpbnRlcnZhbHM6IEludGVydmFsRGF0YVtdO1xuICBmb3JlY2FzdDogRm9yZWNhc3REYXRhW107XG4gIGF2ZXJhZ2VQYWNlOiBudW1iZXI7IC8vIEF2ZXJhZ2Ugc2Vjb25kcyBwZXIgY2FyZFxuICB0b3RhbFJldmlld1RpbWU6IG51bWJlcjsgLy8gVG90YWwgdGltZSBzcGVudCByZXZpZXdpbmcgaW4gc2Vjb25kc1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9ERUNLX0NPTkZJRzogRGVja0NvbmZpZyA9IHtcbiAgbmV3Q2FyZHNQZXJEYXk6IDAsIC8vIDAgPSB1bmxpbWl0ZWRcbiAgcmV2aWV3Q2FyZHNQZXJEYXk6IDAsIC8vIDAgPSB1bmxpbWl0ZWRcbiAgaGVhZGVyTGV2ZWw6IDIsIC8vIERlZmF1bHQgdG8gSDIgaGVhZGVyc1xuICByZXZpZXdPcmRlcjogXCJkdWUtZGF0ZVwiLFxuICBmc3JzOiB7XG4gICAgcmVxdWVzdFJldGVudGlvbjogREVGQVVMVF9GU1JTX1BBUkFNRVRFUlMucmVxdWVzdFJldGVudGlvbixcbiAgICBwcm9maWxlOiBcIlNUQU5EQVJEXCIsXG4gIH0sXG59O1xuXG4vLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgZGFpbHkgbGltaXRzXG5leHBvcnQgZnVuY3Rpb24gaGFzTmV3Q2FyZHNMaW1pdChjb25maWc6IERlY2tDb25maWcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGNvbmZpZy5uZXdDYXJkc1BlckRheSA+IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNSZXZpZXdDYXJkc0xpbWl0KGNvbmZpZzogRGVja0NvbmZpZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29uZmlnLnJldmlld0NhcmRzUGVyRGF5ID4gMDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSBmbGFzaGNhcmQgaXMgbWF0dXJlIChpbnRlcnZhbCA+IDIxIGRheXMpXG4gKiBUT0RPIDE5OiBNYXR1cmUgY2FyZHMgYXJlIGZsYXNoY2FyZHMgdGhhdCBoYXZlIGFuIGludGVydmFsIG92ZXIgMjEgZGF5c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDYXJkTWF0dXJlKGZsYXNoY2FyZDogRmxhc2hjYXJkKTogYm9vbGVhbiB7XG4gIGNvbnN0IE1BVFVSRV9USFJFU0hPTERfTUlOVVRFUyA9IDIxICogMjQgKiA2MDsgLy8gMjEgZGF5cyBpbiBtaW51dGVzID0gMzAsMjQwXG4gIHJldHVybiAoXG4gICAgZmxhc2hjYXJkLnN0YXRlID09PSBcInJldmlld1wiICYmXG4gICAgZmxhc2hjYXJkLmludGVydmFsID4gTUFUVVJFX1RIUkVTSE9MRF9NSU5VVEVTXG4gICk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjYXJkIG1hdHVyaXR5IHR5cGUgZm9yIGNsYXNzaWZpY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYXJkTWF0dXJpdHlUeXBlKFxuICBmbGFzaGNhcmQ6IEZsYXNoY2FyZCxcbik6IFwibmV3XCIgfCBcInJldmlld1wiIHwgXCJtYXR1cmVcIiB7XG4gIGlmIChmbGFzaGNhcmQuc3RhdGUgPT09IFwibmV3XCIpIHtcbiAgICByZXR1cm4gXCJuZXdcIjtcbiAgfVxuICByZXR1cm4gaXNDYXJkTWF0dXJlKGZsYXNoY2FyZCkgPyBcIm1hdHVyZVwiIDogXCJyZXZpZXdcIjtcbn1cbiIsICJpbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gXCJzcWwuanNcIjtcblxuLy8gQ3VycmVudCBTY2hlbWEgVmVyc2lvblxuZXhwb3J0IGNvbnN0IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04gPSA0O1xuXG4vLyBTUUwgVGFibGUgQ3JlYXRpb24gU2NoZW1hIC0gVXNlZCB3aGVuIGRhdGFiYXNlIGZpbGUgZG9lc24ndCBleGlzdFxuZXhwb3J0IGNvbnN0IENSRUFURV9UQUJMRVNfU1FMID0gYFxuICBQUkFHTUEgZm9yZWlnbl9rZXlzID0gT0ZGO1xuICBCRUdJTjtcblxuICAtLSBEZWNrcyB0YWJsZVxuICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBkZWNrcyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBuYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgZmlsZXBhdGggVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgdGFnIFRFWFQgTk9UIE5VTEwsXG4gICAgbGFzdF9yZXZpZXdlZCBURVhULFxuICAgIGNvbmZpZyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ3tcIm5ld0NhcmRzUGVyRGF5XCI6MCxcInJldmlld0NhcmRzUGVyRGF5XCI6MCxcImhlYWRlckxldmVsXCI6MixcInJldmlld09yZGVyXCI6XCJkdWUtZGF0ZVwiLFwiZnNyc1wiOntcInJlcXVlc3RSZXRlbnRpb25cIjowLjksXCJwcm9maWxlXCI6XCJTVEFOREFSRFwifX0nLFxuICAgIGNyZWF0ZWQgVEVYVCBOT1QgTlVMTCxcbiAgICBtb2RpZmllZCBURVhUIE5PVCBOVUxMXG4gICk7XG5cbiAgLS0gRmxhc2hjYXJkcyB0YWJsZVxuICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBmbGFzaGNhcmRzIChcbiAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgIGRlY2tfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICBmcm9udCBURVhUIE5PVCBOVUxMLFxuICAgIGJhY2sgVEVYVCBOT1QgTlVMTCxcbiAgICB0eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHR5cGUgSU4gKCdoZWFkZXItcGFyYWdyYXBoJywgJ3RhYmxlJykpLFxuICAgIHNvdXJjZV9maWxlIFRFWFQgTk9UIE5VTEwsXG4gICAgY29udGVudF9oYXNoIFRFWFQgTk9UIE5VTEwsXG5cbiAgICBzdGF0ZSBURVhUIE5PVCBOVUxMIENIRUNLIChzdGF0ZSBJTiAoJ25ldycsICdyZXZpZXcnKSksXG4gICAgZHVlX2RhdGUgVEVYVCBOT1QgTlVMTCxcbiAgICBpbnRlcnZhbCBSRUFMIE5PVCBOVUxMLFxuICAgIHJlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIGRpZmZpY3VsdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDUuMCxcbiAgICBzdGFiaWxpdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgbGFwc2VzIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIGxhc3RfcmV2aWV3ZWQgVEVYVCxcbiAgICBjcmVhdGVkIFRFWFQgTk9UIE5VTEwsXG4gICAgbW9kaWZpZWQgVEVYVCBOT1QgTlVMTCxcbiAgICBGT1JFSUdOIEtFWSAoZGVja19pZCkgUkVGRVJFTkNFUyBkZWNrcyhpZClcbiAgKTtcblxuICAtLSBSZXZpZXcgc2Vzc2lvbnMgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcmV2aWV3X3Nlc3Npb25zIChcbiAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgIGRlY2tfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICBzdGFydGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgZW5kZWRfYXQgVEVYVCxcbiAgICBnb2FsX3RvdGFsIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgZG9uZV91bmlxdWUgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgRk9SRUlHTiBLRVkgKGRlY2tfaWQpIFJFRkVSRU5DRVMgZGVja3MoaWQpXG4gICk7XG5cbiAgLS0gUmV2aWV3IGxvZ3MgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcmV2aWV3X2xvZ3MgKFxuICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgZmxhc2hjYXJkX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgc2Vzc2lvbl9pZCBURVhULFxuICAgIGxhc3RfcmV2aWV3ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICBzaG93bl9hdCBURVhULFxuICAgIHJldmlld2VkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgcmF0aW5nIElOVEVHRVIgTk9UIE5VTEwgQ0hFQ0sgKHJhdGluZyBJTiAoMSwgMiwgMywgNCkpLFxuICAgIHJhdGluZ19sYWJlbCBURVhUIE5PVCBOVUxMIENIRUNLIChyYXRpbmdfbGFiZWwgSU4gKCdhZ2FpbicsICdoYXJkJywgJ2dvb2QnLCAnZWFzeScpKSxcbiAgICB0aW1lX2VsYXBzZWRfbXMgSU5URUdFUixcbiAgICBvbGRfc3RhdGUgVEVYVCBOT1QgTlVMTCBDSEVDSyAob2xkX3N0YXRlIElOICgnbmV3JywgJ3JldmlldycpKSxcbiAgICBvbGRfcmVwZXRpdGlvbnMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgb2xkX2xhcHNlcyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBvbGRfc3RhYmlsaXR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG9sZF9kaWZmaWN1bHR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCA1LjAsXG4gICAgbmV3X3N0YXRlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKG5ld19zdGF0ZSBJTiAoJ25ldycsICdyZXZpZXcnKSksXG4gICAgbmV3X3JlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG5ld19sYXBzZXMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgbmV3X3N0YWJpbGl0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMi41LFxuICAgIG5ld19kaWZmaWN1bHR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCA1LjAsXG4gICAgb2xkX2ludGVydmFsX21pbnV0ZXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBuZXdfaW50ZXJ2YWxfbWludXRlcyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgIG9sZF9kdWVfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICBuZXdfZHVlX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgZWxhcHNlZF9kYXlzIFJFQUwgTk9UIE5VTEwsXG4gICAgcmV0cmlldmFiaWxpdHkgUkVBTCBOT1QgTlVMTCxcbiAgICByZXF1ZXN0X3JldGVudGlvbiBSRUFMIE5PVCBOVUxMLFxuICAgIHByb2ZpbGUgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdTVEFOREFSRCcgQ0hFQ0sgKHByb2ZpbGUgSU4gKCdJTlRFTlNJVkUnLCAnU1RBTkRBUkQnKSksXG4gICAgbWF4aW11bV9pbnRlcnZhbF9kYXlzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgbWluX21pbnV0ZXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBmc3JzX3dlaWdodHNfdmVyc2lvbiBURVhUIE5PVCBOVUxMLFxuICAgIHNjaGVkdWxlcl92ZXJzaW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgbm90ZV9tb2RlbF9pZCBURVhULFxuICAgIGNhcmRfdGVtcGxhdGVfaWQgVEVYVCxcbiAgICBjb250ZW50X2hhc2ggVEVYVCxcbiAgICBjbGllbnQgVEVYVCxcbiAgICBGT1JFSUdOIEtFWSAoZmxhc2hjYXJkX2lkKSBSRUZFUkVOQ0VTIGZsYXNoY2FyZHMoaWQpLFxuICAgIEZPUkVJR04gS0VZIChzZXNzaW9uX2lkKSBSRUZFUkVOQ0VTIHJldmlld19zZXNzaW9ucyhpZClcbiAgKTtcblxuICAtLSBDcmVhdGUgaW5kZXhlc1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfZmxhc2hjYXJkc19kZWNrX2lkIE9OIGZsYXNoY2FyZHMoZGVja19pZCk7XG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9mbGFzaGNhcmRzX2R1ZV9kYXRlIE9OIGZsYXNoY2FyZHMoZHVlX2RhdGUpO1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X3Nlc3Npb25zX2RlY2tfaWQgT04gcmV2aWV3X3Nlc3Npb25zKGRlY2tfaWQpO1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfZmxhc2hjYXJkX2lkIE9OIHJldmlld19sb2dzKGZsYXNoY2FyZF9pZCk7XG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9yZXZpZXdfbG9nc19zZXNzaW9uX2lkIE9OIHJldmlld19sb2dzKHNlc3Npb25faWQpO1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfcmV2aWV3ZWRfYXQgT04gcmV2aWV3X2xvZ3MocmV2aWV3ZWRfYXQpO1xuXG4gIC0tIFNldCBzY2hlbWEgdmVyc2lvblxuICBQUkFHTUEgdXNlcl92ZXJzaW9uID0gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfTtcblxuICBDT01NSVQ7XG4gIFBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjtcbmA7XG5cbmZ1bmN0aW9uIGdldENvbHVtbk5hbWVzKGRiOiBEYXRhYmFzZSwgdGFibGVOYW1lOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoYFBSQUdNQSB0YWJsZV9pbmZvKCR7dGFibGVOYW1lfSlgKTtcbiAgICBjb25zdCBjb2x1bW5zOiBzdHJpbmdbXSA9IFtdO1xuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGNvbHVtbnMucHVzaChyb3dbMV0gYXMgc3RyaW5nKTsgLy8gY29sdW1uIG5hbWUgaXMgYXQgaW5kZXggMVxuICAgIH1cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gY29sdW1ucztcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZE1pZ3JhdGlvblNRTChkYjogRGF0YWJhc2UpOiBzdHJpbmcge1xuICBjb25zdCBkZWNrc0NvbHVtbnMgPSBnZXRDb2x1bW5OYW1lcyhkYiwgXCJkZWNrc1wiKTtcbiAgY29uc3QgZmxhc2hjYXJkc0NvbHVtbnMgPSBnZXRDb2x1bW5OYW1lcyhkYiwgXCJmbGFzaGNhcmRzXCIpO1xuICBjb25zdCByZXZpZXdMb2dzQ29sdW1ucyA9IGdldENvbHVtbk5hbWVzKGRiLCBcInJldmlld19sb2dzXCIpO1xuICBjb25zdCByZXZpZXdTZXNzaW9uc0NvbHVtbnMgPSBnZXRDb2x1bW5OYW1lcyhkYiwgXCJyZXZpZXdfc2Vzc2lvbnNcIik7XG5cbiAgLy8gQnVpbGQgZGVja3MgbWlncmF0aW9uXG4gIGNvbnN0IGRlY2tzU2VsZWN0ID0gW1xuICAgIFwiaWRcIixcbiAgICBcIm5hbWVcIixcbiAgICBkZWNrc0NvbHVtbnMuaW5jbHVkZXMoXCJmaWxlcGF0aFwiKSA/IFwiZmlsZXBhdGhcIiA6IGAnJyBhcyBmaWxlcGF0aGAsXG4gICAgXCJ0YWdcIixcbiAgICBcImxhc3RfcmV2aWV3ZWRcIixcbiAgICBkZWNrc0NvbHVtbnMuaW5jbHVkZXMoXCJjb25maWdcIilcbiAgICAgID8gXCJjb25maWdcIlxuICAgICAgOiBgJ3tcIm5ld0NhcmRzUGVyRGF5XCI6MCxcInJldmlld0NhcmRzUGVyRGF5XCI6MCxcImhlYWRlckxldmVsXCI6MixcInJldmlld09yZGVyXCI6XCJkdWUtZGF0ZVwiLFwiZnNyc1wiOntcInJlcXVlc3RSZXRlbnRpb25cIjowLjksXCJwcm9maWxlXCI6XCJTVEFOREFSRFwifX0nIGFzIGNvbmZpZ2AsXG4gICAgZGVja3NDb2x1bW5zLmluY2x1ZGVzKFwiY3JlYXRlZFwiKSA/IFwiY3JlYXRlZFwiIDogYGRhdGV0aW1lKCdub3cnKSBhcyBjcmVhdGVkYCxcbiAgICBkZWNrc0NvbHVtbnMuaW5jbHVkZXMoXCJtb2RpZmllZFwiKVxuICAgICAgPyBcIm1vZGlmaWVkXCJcbiAgICAgIDogYGRhdGV0aW1lKCdub3cnKSBhcyBtb2RpZmllZGAsXG4gIF0uam9pbihcIiwgXCIpO1xuXG4gIC8vIEJ1aWxkIGZsYXNoY2FyZHMgbWlncmF0aW9uXG4gIGNvbnN0IGZsYXNoY2FyZHNTZWxlY3QgPSBbXG4gICAgXCJpZFwiLFxuICAgIFwiZGVja19pZFwiLFxuICAgIFwiZnJvbnRcIixcbiAgICBcImJhY2tcIixcbiAgICBmbGFzaGNhcmRzQ29sdW1ucy5pbmNsdWRlcyhcInR5cGVcIikgPyBcInR5cGVcIiA6IGAnaGVhZGVyLXBhcmFncmFwaCcgYXMgdHlwZWAsXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJzb3VyY2VfZmlsZVwiKVxuICAgICAgPyBcInNvdXJjZV9maWxlXCJcbiAgICAgIDogYCcnIGFzIHNvdXJjZV9maWxlYCxcbiAgICBmbGFzaGNhcmRzQ29sdW1ucy5pbmNsdWRlcyhcImNvbnRlbnRfaGFzaFwiKVxuICAgICAgPyBcImNvbnRlbnRfaGFzaFwiXG4gICAgICA6IGAnJyBhcyBjb250ZW50X2hhc2hgLFxuXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJzdGF0ZVwiKSA/IFwic3RhdGVcIiA6IGAnbmV3JyBhcyBzdGF0ZWAsXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJkdWVfZGF0ZVwiKVxuICAgICAgPyBcImR1ZV9kYXRlXCJcbiAgICAgIDogYGRhdGV0aW1lKCdub3cnKSBhcyBkdWVfZGF0ZWAsXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJpbnRlcnZhbFwiKSA/IFwiaW50ZXJ2YWxcIiA6IGAwIGFzIGludGVydmFsYCxcbiAgICBmbGFzaGNhcmRzQ29sdW1ucy5pbmNsdWRlcyhcInJlcGV0aXRpb25zXCIpXG4gICAgICA/IFwicmVwZXRpdGlvbnNcIlxuICAgICAgOiBgMCBhcyByZXBldGl0aW9uc2AsXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJkaWZmaWN1bHR5XCIpXG4gICAgICA/IFwiZGlmZmljdWx0eVwiXG4gICAgICA6IGA1LjAgYXMgZGlmZmljdWx0eWAsXG4gICAgZmxhc2hjYXJkc0NvbHVtbnMuaW5jbHVkZXMoXCJzdGFiaWxpdHlcIikgPyBcInN0YWJpbGl0eVwiIDogYDAgYXMgc3RhYmlsaXR5YCxcbiAgICBmbGFzaGNhcmRzQ29sdW1ucy5pbmNsdWRlcyhcImxhcHNlc1wiKSA/IFwibGFwc2VzXCIgOiBgMCBhcyBsYXBzZXNgLFxuICAgIFwibGFzdF9yZXZpZXdlZFwiLFxuICAgIFwiY3JlYXRlZFwiLFxuICAgIFwibW9kaWZpZWRcIixcbiAgXS5qb2luKFwiLCBcIik7XG5cbiAgLy8gQnVpbGQgcmV2aWV3X2xvZ3MgbWlncmF0aW9uXG4gIGNvbnN0IHJldmlld0xvZ3NTZWxlY3QgPSBbXG4gICAgXCJpZFwiLFxuICAgIFwiZmxhc2hjYXJkX2lkXCIsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJzZXNzaW9uX2lkXCIpXG4gICAgICA/IFwic2Vzc2lvbl9pZFwiXG4gICAgICA6IFwiTlVMTCBhcyBzZXNzaW9uX2lkXCIsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJsYXN0X3Jldmlld2VkX2F0XCIpXG4gICAgICA/IFwibGFzdF9yZXZpZXdlZF9hdFwiXG4gICAgICA6IGBkYXRldGltZSgnbm93JykgYXMgbGFzdF9yZXZpZXdlZF9hdGAsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJzaG93bl9hdFwiKSA/IFwic2hvd25fYXRcIiA6IFwiTlVMTCBhcyBzaG93bl9hdFwiLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwicmV2aWV3ZWRfYXRcIilcbiAgICAgID8gXCJyZXZpZXdlZF9hdFwiXG4gICAgICA6IGBkYXRldGltZSgnbm93JykgYXMgcmV2aWV3ZWRfYXRgLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwicmF0aW5nXCIpID8gXCJyYXRpbmdcIiA6IGAzIGFzIHJhdGluZ2AsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJyYXRpbmdfbGFiZWxcIilcbiAgICAgID8gXCJyYXRpbmdfbGFiZWxcIlxuICAgICAgOiBgJ2dvb2QnIGFzIHJhdGluZ19sYWJlbGAsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJ0aW1lX2VsYXBzZWRfbXNcIilcbiAgICAgID8gXCJ0aW1lX2VsYXBzZWRfbXNcIlxuICAgICAgOiBcIk5VTEwgYXMgdGltZV9lbGFwc2VkX21zXCIsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJvbGRfc3RhdGVcIilcbiAgICAgID8gXCJvbGRfc3RhdGVcIlxuICAgICAgOiBgJ25ldycgYXMgb2xkX3N0YXRlYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm9sZF9yZXBldGl0aW9uc1wiKVxuICAgICAgPyBcIm9sZF9yZXBldGl0aW9uc1wiXG4gICAgICA6IGAwIGFzIG9sZF9yZXBldGl0aW9uc2AsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJvbGRfbGFwc2VzXCIpID8gXCJvbGRfbGFwc2VzXCIgOiBgMCBhcyBvbGRfbGFwc2VzYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm9sZF9zdGFiaWxpdHlcIilcbiAgICAgID8gXCJvbGRfc3RhYmlsaXR5XCJcbiAgICAgIDogYDAgYXMgb2xkX3N0YWJpbGl0eWAsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJvbGRfZGlmZmljdWx0eVwiKVxuICAgICAgPyBcIm9sZF9kaWZmaWN1bHR5XCJcbiAgICAgIDogYDUuMCBhcyBvbGRfZGlmZmljdWx0eWAsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJuZXdfc3RhdGVcIilcbiAgICAgID8gXCJuZXdfc3RhdGVcIlxuICAgICAgOiBgJ3JldmlldycgYXMgbmV3X3N0YXRlYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm5ld19yZXBldGl0aW9uc1wiKVxuICAgICAgPyBcIm5ld19yZXBldGl0aW9uc1wiXG4gICAgICA6IGAxIGFzIG5ld19yZXBldGl0aW9uc2AsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJuZXdfbGFwc2VzXCIpID8gXCJuZXdfbGFwc2VzXCIgOiBgMCBhcyBuZXdfbGFwc2VzYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm5ld19zdGFiaWxpdHlcIilcbiAgICAgID8gXCJuZXdfc3RhYmlsaXR5XCJcbiAgICAgIDogYDIuNSBhcyBuZXdfc3RhYmlsaXR5YCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm5ld19kaWZmaWN1bHR5XCIpXG4gICAgICA/IFwibmV3X2RpZmZpY3VsdHlcIlxuICAgICAgOiBgNS4wIGFzIG5ld19kaWZmaWN1bHR5YCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm9sZF9pbnRlcnZhbF9taW51dGVzXCIpXG4gICAgICA/IFwib2xkX2ludGVydmFsX21pbnV0ZXNcIlxuICAgICAgOiBgMCBhcyBvbGRfaW50ZXJ2YWxfbWludXRlc2AsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJuZXdfaW50ZXJ2YWxfbWludXRlc1wiKVxuICAgICAgPyBcIm5ld19pbnRlcnZhbF9taW51dGVzXCJcbiAgICAgIDogYDE0NDAgYXMgbmV3X2ludGVydmFsX21pbnV0ZXNgLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwib2xkX2R1ZV9hdFwiKVxuICAgICAgPyBcIm9sZF9kdWVfYXRcIlxuICAgICAgOiBgZGF0ZXRpbWUoJ25vdycpIGFzIG9sZF9kdWVfYXRgLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwibmV3X2R1ZV9hdFwiKVxuICAgICAgPyBcIm5ld19kdWVfYXRcIlxuICAgICAgOiBgZGF0ZXRpbWUoJ25vdycsICcrMSBkYXknKSBhcyBuZXdfZHVlX2F0YCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcImVsYXBzZWRfZGF5c1wiKVxuICAgICAgPyBcImVsYXBzZWRfZGF5c1wiXG4gICAgICA6IGAxLjAgYXMgZWxhcHNlZF9kYXlzYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcInJldHJpZXZhYmlsaXR5XCIpXG4gICAgICA/IFwicmV0cmlldmFiaWxpdHlcIlxuICAgICAgOiBgMC45IGFzIHJldHJpZXZhYmlsaXR5YCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcInJlcXVlc3RfcmV0ZW50aW9uXCIpXG4gICAgICA/IFwicmVxdWVzdF9yZXRlbnRpb25cIlxuICAgICAgOiBgMC45IGFzIHJlcXVlc3RfcmV0ZW50aW9uYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcInByb2ZpbGVcIikgPyBcInByb2ZpbGVcIiA6IGAnU1RBTkRBUkQnIGFzIHByb2ZpbGVgLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwibWF4aW11bV9pbnRlcnZhbF9kYXlzXCIpXG4gICAgICA/IFwibWF4aW11bV9pbnRlcnZhbF9kYXlzXCJcbiAgICAgIDogYDM2NTAwIGFzIG1heGltdW1faW50ZXJ2YWxfZGF5c2AsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJtaW5fbWludXRlc1wiKVxuICAgICAgPyBcIm1pbl9taW51dGVzXCJcbiAgICAgIDogYDEgYXMgbWluX21pbnV0ZXNgLFxuICAgIHJldmlld0xvZ3NDb2x1bW5zLmluY2x1ZGVzKFwiZnNyc193ZWlnaHRzX3ZlcnNpb25cIilcbiAgICAgID8gXCJmc3JzX3dlaWdodHNfdmVyc2lvblwiXG4gICAgICA6IGAnMS4wJyBhcyBmc3JzX3dlaWdodHNfdmVyc2lvbmAsXG4gICAgcmV2aWV3TG9nc0NvbHVtbnMuaW5jbHVkZXMoXCJzY2hlZHVsZXJfdmVyc2lvblwiKVxuICAgICAgPyBcInNjaGVkdWxlcl92ZXJzaW9uXCJcbiAgICAgIDogYCcxLjAnIGFzIHNjaGVkdWxlcl92ZXJzaW9uYCxcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcIm5vdGVfbW9kZWxfaWRcIilcbiAgICAgID8gXCJub3RlX21vZGVsX2lkXCJcbiAgICAgIDogXCJOVUxMIGFzIG5vdGVfbW9kZWxfaWRcIixcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcImNhcmRfdGVtcGxhdGVfaWRcIilcbiAgICAgID8gXCJjYXJkX3RlbXBsYXRlX2lkXCJcbiAgICAgIDogXCJOVUxMIGFzIGNhcmRfdGVtcGxhdGVfaWRcIixcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcImNvbnRlbnRfaGFzaFwiKVxuICAgICAgPyBcImNvbnRlbnRfaGFzaFwiXG4gICAgICA6IFwiTlVMTCBhcyBjb250ZW50X2hhc2hcIixcbiAgICByZXZpZXdMb2dzQ29sdW1ucy5pbmNsdWRlcyhcImNsaWVudFwiKSA/IFwiY2xpZW50XCIgOiBcIk5VTEwgYXMgY2xpZW50XCIsXG4gIF0uam9pbihcIiwgXCIpO1xuXG4gIC8vIEJ1aWxkIHJldmlld19zZXNzaW9ucyBtaWdyYXRpb25cbiAgY29uc3QgcmV2aWV3U2Vzc2lvbnNTZWxlY3QgPSBbXG4gICAgXCJpZFwiLFxuICAgIFwiZGVja19pZFwiLFxuICAgIFwic3RhcnRlZF9hdFwiLFxuICAgIFwiZW5kZWRfYXRcIixcbiAgICBcImdvYWxfdG90YWxcIixcbiAgICBcImRvbmVfdW5pcXVlXCIsXG4gIF0uam9pbihcIiwgXCIpO1xuXG4gIHJldHVybiBgXG4gICAgUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9GRjtcbiAgICBCRUdJTjtcblxuICAgIC0tIENyZWF0ZSBuZXcgdGFibGVzXG4gICAgQ1JFQVRFIFRBQkxFIGRlY2tzX25ldyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgZmlsZXBhdGggVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgICB0YWcgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGxhc3RfcmV2aWV3ZWQgVEVYVCxcbiAgICAgIGNvbmZpZyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ3tcIm5ld0NhcmRzUGVyRGF5XCI6MCxcInJldmlld0NhcmRzUGVyRGF5XCI6MCxcImhlYWRlckxldmVsXCI6MixcInJldmlld09yZGVyXCI6XCJkdWUtZGF0ZVwiLFwiZnNyc1wiOntcInJlcXVlc3RSZXRlbnRpb25cIjowLjksXCJwcm9maWxlXCI6XCJTVEFOREFSRFwifX0nLFxuICAgICAgY3JlYXRlZCBURVhUIE5PVCBOVUxMLFxuICAgICAgbW9kaWZpZWQgVEVYVCBOT1QgTlVMTFxuICAgICk7XG5cbiAgICBDUkVBVEUgVEFCTEUgZmxhc2hjYXJkc19uZXcgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGRlY2tfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGZyb250IFRFWFQgTk9UIE5VTEwsXG4gICAgICBiYWNrIFRFWFQgTk9UIE5VTEwsXG4gICAgICB0eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHR5cGUgSU4gKCdoZWFkZXItcGFyYWdyYXBoJywgJ3RhYmxlJykpLFxuICAgICAgc291cmNlX2ZpbGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGNvbnRlbnRfaGFzaCBURVhUIE5PVCBOVUxMLFxuXG4gICAgICBzdGF0ZSBURVhUIE5PVCBOVUxMIENIRUNLIChzdGF0ZSBJTiAoJ25ldycsICdyZXZpZXcnKSksXG4gICAgICBkdWVfZGF0ZSBURVhUIE5PVCBOVUxMLFxuICAgICAgaW50ZXJ2YWwgUkVBTCBOT1QgTlVMTCxcbiAgICAgIHJlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgICAgc3RhYmlsaXR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgbGFwc2VzIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgbGFzdF9yZXZpZXdlZCBURVhULFxuICAgICAgY3JlYXRlZCBURVhUIE5PVCBOVUxMLFxuICAgICAgbW9kaWZpZWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIEZPUkVJR04gS0VZIChkZWNrX2lkKSBSRUZFUkVOQ0VTIGRlY2tzKGlkKVxuICAgICk7XG5cbiAgICBDUkVBVEUgVEFCTEUgcmV2aWV3X3Nlc3Npb25zX25ldyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZGVja19pZCBURVhUIE5PVCBOVUxMLFxuICAgICAgc3RhcnRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgZW5kZWRfYXQgVEVYVCxcbiAgICAgIGdvYWxfdG90YWwgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgIGRvbmVfdW5pcXVlIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgRk9SRUlHTiBLRVkgKGRlY2tfaWQpIFJFRkVSRU5DRVMgZGVja3NfbmV3KGlkKVxuICAgICk7XG5cbiAgICBDUkVBVEUgVEFCTEUgcmV2aWV3X2xvZ3NfbmV3IChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBmbGFzaGNhcmRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHNlc3Npb25faWQgVEVYVCxcbiAgICAgIGxhc3RfcmV2aWV3ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHNob3duX2F0IFRFWFQsXG4gICAgICByZXZpZXdlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgcmF0aW5nIElOVEVHRVIgTk9UIE5VTEwgQ0hFQ0sgKHJhdGluZyBJTiAoMSwgMiwgMywgNCkpLFxuICAgICAgcmF0aW5nX2xhYmVsIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHJhdGluZ19sYWJlbCBJTiAoJ2FnYWluJywgJ2hhcmQnLCAnZ29vZCcsICdlYXN5JykpLFxuICAgICAgdGltZV9lbGFwc2VkX21zIElOVEVHRVIsXG4gICAgICBvbGRfc3RhdGUgVEVYVCBOT1QgTlVMTCBDSEVDSyAob2xkX3N0YXRlIElOICgnbmV3JywgJ3JldmlldycpKSxcbiAgICAgIG9sZF9yZXBldGl0aW9ucyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgIG9sZF9sYXBzZXMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgICBvbGRfc3RhYmlsaXR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgb2xkX2RpZmZpY3VsdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDUuMCxcbiAgICAgIG5ld19zdGF0ZSBURVhUIE5PVCBOVUxMIENIRUNLIChuZXdfc3RhdGUgSU4gKCduZXcnLCAncmV2aWV3JykpLFxuICAgICAgbmV3X3JlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgbmV3X2xhcHNlcyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgIG5ld19zdGFiaWxpdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDIuNSxcbiAgICAgIG5ld19kaWZmaWN1bHR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCA1LjAsXG4gICAgICBvbGRfaW50ZXJ2YWxfbWludXRlcyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgbmV3X2ludGVydmFsX21pbnV0ZXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgIG9sZF9kdWVfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIG5ld19kdWVfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGVsYXBzZWRfZGF5cyBSRUFMIE5PVCBOVUxMLFxuICAgICAgcmV0cmlldmFiaWxpdHkgUkVBTCBOT1QgTlVMTCxcbiAgICAgIHJlcXVlc3RfcmV0ZW50aW9uIFJFQUwgTk9UIE5VTEwsXG4gICAgICBwcm9maWxlIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAnU1RBTkRBUkQnIENIRUNLIChwcm9maWxlIElOICgnSU5URU5TSVZFJywgJ1NUQU5EQVJEJykpLFxuICAgICAgbWF4aW11bV9pbnRlcnZhbF9kYXlzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICBtaW5fbWludXRlcyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgZnNyc193ZWlnaHRzX3ZlcnNpb24gVEVYVCBOT1QgTlVMTCxcbiAgICAgIHNjaGVkdWxlcl92ZXJzaW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgICBub3RlX21vZGVsX2lkIFRFWFQsXG4gICAgICBjYXJkX3RlbXBsYXRlX2lkIFRFWFQsXG4gICAgICBjb250ZW50X2hhc2ggVEVYVCxcbiAgICAgIGNsaWVudCBURVhULFxuICAgICAgRk9SRUlHTiBLRVkgKGZsYXNoY2FyZF9pZCkgUkVGRVJFTkNFUyBmbGFzaGNhcmRzKGlkKSxcbiAgICAgIEZPUkVJR04gS0VZIChzZXNzaW9uX2lkKSBSRUZFUkVOQ0VTIHJldmlld19zZXNzaW9ucyhpZClcbiAgICApO1xuXG4gICAgLS0gQ29weSBkYXRhIHdpdGggZHluYW1pYyBjb2x1bW4gbWFwcGluZ1xuICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyBkZWNrc19uZXcgKGlkLCBuYW1lLCBmaWxlcGF0aCwgdGFnLCBsYXN0X3Jldmlld2VkLCBjb25maWcsIGNyZWF0ZWQsIG1vZGlmaWVkKVxuICAgIFNFTEVDVCAke2RlY2tzU2VsZWN0fSBGUk9NIGRlY2tzIFdIRVJFIEVYSVNUUyAoU0VMRUNUIDEgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZT0nZGVja3MnKTtcblxuICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyBmbGFzaGNhcmRzX25ldyAoaWQsIGRlY2tfaWQsIGZyb250LCBiYWNrLCB0eXBlLCBzb3VyY2VfZmlsZSwgY29udGVudF9oYXNoLCBzdGF0ZSwgZHVlX2RhdGUsIGludGVydmFsLCByZXBldGl0aW9ucywgZGlmZmljdWx0eSwgc3RhYmlsaXR5LCBsYXBzZXMsIGxhc3RfcmV2aWV3ZWQsIGNyZWF0ZWQsIG1vZGlmaWVkKVxuICAgIFNFTEVDVCAke2ZsYXNoY2FyZHNTZWxlY3R9IEZST00gZmxhc2hjYXJkcyBXSEVSRSBFWElTVFMgKFNFTEVDVCAxIEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWU9J2ZsYXNoY2FyZHMnKTtcblxuICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyByZXZpZXdfbG9nc19uZXcgKGlkLCBmbGFzaGNhcmRfaWQsIHNlc3Npb25faWQsIGxhc3RfcmV2aWV3ZWRfYXQsIHNob3duX2F0LCByZXZpZXdlZF9hdCwgcmF0aW5nLCByYXRpbmdfbGFiZWwsIHRpbWVfZWxhcHNlZF9tcywgb2xkX3N0YXRlLCBvbGRfcmVwZXRpdGlvbnMsIG9sZF9sYXBzZXMsIG9sZF9zdGFiaWxpdHksIG9sZF9kaWZmaWN1bHR5LCBuZXdfc3RhdGUsIG5ld19yZXBldGl0aW9ucywgbmV3X2xhcHNlcywgbmV3X3N0YWJpbGl0eSwgbmV3X2RpZmZpY3VsdHksIG9sZF9pbnRlcnZhbF9taW51dGVzLCBuZXdfaW50ZXJ2YWxfbWludXRlcywgb2xkX2R1ZV9hdCwgbmV3X2R1ZV9hdCwgZWxhcHNlZF9kYXlzLCByZXRyaWV2YWJpbGl0eSwgcmVxdWVzdF9yZXRlbnRpb24sIHByb2ZpbGUsIG1heGltdW1faW50ZXJ2YWxfZGF5cywgbWluX21pbnV0ZXMsIGZzcnNfd2VpZ2h0c192ZXJzaW9uLCBzY2hlZHVsZXJfdmVyc2lvbiwgbm90ZV9tb2RlbF9pZCwgY2FyZF90ZW1wbGF0ZV9pZCwgY29udGVudF9oYXNoLCBjbGllbnQpXG4gICAgU0VMRUNUICR7cmV2aWV3TG9nc1NlbGVjdH0gRlJPTSByZXZpZXdfbG9ncyBXSEVSRSBFWElTVFMgKFNFTEVDVCAxIEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWU9J3Jldmlld19sb2dzJyk7XG5cbiAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gcmV2aWV3X3Nlc3Npb25zX25ldyAoaWQsIGRlY2tfaWQsIHN0YXJ0ZWRfYXQsIGVuZGVkX2F0LCBnb2FsX3RvdGFsLCBkb25lX3VuaXF1ZSlcbiAgICBTRUxFQ1QgJHtyZXZpZXdTZXNzaW9uc1NlbGVjdH0gRlJPTSByZXZpZXdfc2Vzc2lvbnMgV0hFUkUgRVhJU1RTIChTRUxFQ1QgMSBGUk9NIHNxbGl0ZV9tYXN0ZXIgV0hFUkUgdHlwZT0ndGFibGUnIEFORCBuYW1lPSdyZXZpZXdfbG9ncycpO1xuXG4gICAgLS0gRHJvcCBvbGQgdGFibGVzXG4gICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgcmV2aWV3X2xvZ3M7XG4gICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgZmxhc2hjYXJkcztcbiAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBkZWNrcztcbiAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyByZXZpZXdfc2Vzc2lvbnM7XG5cbiAgICAtLSBSZW5hbWUgbmV3IHRhYmxlc1xuICAgIEFMVEVSIFRBQkxFIGRlY2tzX25ldyBSRU5BTUUgVE8gZGVja3M7XG4gICAgQUxURVIgVEFCTEUgZmxhc2hjYXJkc19uZXcgUkVOQU1FIFRPIGZsYXNoY2FyZHM7XG4gICAgQUxURVIgVEFCTEUgcmV2aWV3X3Nlc3Npb25zX25ldyBSRU5BTUUgVE8gcmV2aWV3X3Nlc3Npb25zO1xuICAgIEFMVEVSIFRBQkxFIHJldmlld19sb2dzX25ldyBSRU5BTUUgVE8gcmV2aWV3X2xvZ3M7XG5cbiAgICAtLSBDcmVhdGUgaW5kZXhlc1xuICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9mbGFzaGNhcmRzX2RlY2tfaWQgT04gZmxhc2hjYXJkcyhkZWNrX2lkKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfZmxhc2hjYXJkc19kdWVfZGF0ZSBPTiBmbGFzaGNhcmRzKGR1ZV9kYXRlKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X3Nlc3Npb25zX2RlY2tfaWQgT04gcmV2aWV3X3Nlc3Npb25zKGRlY2tfaWQpO1xuICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9yZXZpZXdfbG9nc19mbGFzaGNhcmRfaWQgT04gcmV2aWV3X2xvZ3MoZmxhc2hjYXJkX2lkKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3Nfc2Vzc2lvbl9pZCBPTiByZXZpZXdfbG9ncyhzZXNzaW9uX2lkKTtcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfcmV2aWV3ZWRfYXQgT04gcmV2aWV3X2xvZ3MocmV2aWV3ZWRfYXQpO1xuXG4gICAgLS0gU2V0IHNjaGVtYSB2ZXJzaW9uXG4gICAgUFJBR01BIHVzZXJfdmVyc2lvbiA9ICR7Q1VSUkVOVF9TQ0hFTUFfVkVSU0lPTn07XG5cbiAgICBDT01NSVQ7XG4gICAgUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OO1xuICBgO1xufVxuXG4vLyBNaWdyYXRpb24gaGVscGVyIGZ1bmN0aW9uc1xuXG4vLyBTUUwgUXVlcnkgQ29uc3RhbnRzXG5leHBvcnQgY29uc3QgU1FMX1FVRVJJRVMgPSB7XG4gIC8vIERlY2sgb3BlcmF0aW9uc1xuICBJTlNFUlRfREVDSzogYFxuICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gZGVja3MgKFxuICAgICAgaWQsIG5hbWUsIGZpbGVwYXRoLCB0YWcsIGxhc3RfcmV2aWV3ZWQsIGNvbmZpZywgY3JlYXRlZCwgbW9kaWZpZWRcbiAgICApIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPylcbiAgYCxcblxuICBHRVRfREVDS19CWV9UQUc6IGBTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIHRhZyA9ID9gLFxuXG4gIEdFVF9ERUNLX0JZX0ZJTEVQQVRIOiBgU0VMRUNUICogRlJPTSBkZWNrcyBXSEVSRSBmaWxlcGF0aCA9ID9gLFxuXG4gIEdFVF9ERUNLX0JZX0lEOiBgU0VMRUNUICogRlJPTSBkZWNrcyBXSEVSRSBpZCA9ID9gLFxuXG4gIEdFVF9BTExfREVDS1M6IGBTRUxFQ1QgKiBGUk9NIGRlY2tzIE9SREVSIEJZIG5hbWVgLFxuXG4gIFVQREFURV9ERUNLX1RJTUVTVEFNUDogYFxuICAgIFVQREFURSBkZWNrc1xuICAgIFNFVCBtb2RpZmllZCA9ID9cbiAgICBXSEVSRSBpZCA9ID9cbiAgYCxcblxuICBVUERBVEVfREVDS19MQVNUX1JFVklFV0VEOiBgXG4gICAgVVBEQVRFIGRlY2tzXG4gICAgU0VUIGxhc3RfcmV2aWV3ZWQgPSA/LCBtb2RpZmllZCA9ID9cbiAgICBXSEVSRSBpZCA9ID9cbiAgYCxcblxuICBSRU5BTUVfREVDSzogYFxuICAgIFVQREFURSBkZWNrc1xuICAgIFNFVCBpZCA9ID8sIG5hbWUgPSA/LCBmaWxlcGF0aCA9ID8sIG1vZGlmaWVkID0gP1xuICAgIFdIRVJFIGlkID0gP1xuICBgLFxuXG4gIERFTEVURV9ERUNLX0JZX0ZJTEVQQVRIOiBgREVMRVRFIEZST00gZGVja3MgV0hFUkUgZmlsZXBhdGggPSA/YCxcblxuICBERUxFVEVfREVDSzogYERFTEVURSBGUk9NIGRlY2tzIFdIRVJFIGlkID0gP2AsXG5cbiAgLy8gRmxhc2hjYXJkIG9wZXJhdGlvbnNcbiAgSU5TRVJUX0ZMQVNIQ0FSRDogYFxuICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gZmxhc2hjYXJkcyAoXG4gICAgICBpZCwgZGVja19pZCwgZnJvbnQsIGJhY2ssIHR5cGUsIHNvdXJjZV9maWxlLCBjb250ZW50X2hhc2gsXG4gICAgICBzdGF0ZSwgZHVlX2RhdGUsIGludGVydmFsLCByZXBldGl0aW9ucyxcbiAgICAgIGRpZmZpY3VsdHksIHN0YWJpbGl0eSwgbGFwc2VzLCBsYXN0X3Jldmlld2VkLCBjcmVhdGVkLCBtb2RpZmllZFxuICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuXG4gIGAsXG5cbiAgREVMRVRFX0ZMQVNIQ0FSRDogYERFTEVURSBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgaWQgPSA/YCxcblxuICBVUERBVEVfRkxBU0hDQVJEX0RFQ0tfSURTOiBgXG4gICAgVVBEQVRFIGZsYXNoY2FyZHMgU0VUIGRlY2tfaWQgPSA/IFdIRVJFIGRlY2tfaWQgPSA/XG4gIGAsXG5cbiAgR0VUX0ZMQVNIQ0FSRFNfQllfREVDSzogYFNFTEVDVCAqIEZST00gZmxhc2hjYXJkcyBXSEVSRSBkZWNrX2lkID0gPyBPUkRFUiBCWSBjcmVhdGVkYCxcblxuICBHRVRfRFVFX0ZMQVNIQ0FSRFM6IGBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gT1JERVIgQlkgZHVlX2RhdGVgLFxuXG4gIERFTEVURV9GTEFTSENBUkRTX0JZX0ZJTEU6IGBERUxFVEUgRlJPTSBmbGFzaGNhcmRzIFdIRVJFIHNvdXJjZV9maWxlID0gP2AsXG5cbiAgR0VUX05FV19DQVJEU19GT1JfUkVWSUVXOiBgXG4gICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ25ldydcbiAgICBPUkRFUiBCWSBkdWVfZGF0ZVxuICBgLFxuXG4gIEdFVF9SRVZJRVdfQ0FSRFNfRk9SX1JFVklFVzogYFxuICAgIFNFTEVDVCAqIEZST00gZmxhc2hjYXJkc1xuICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/IEFORCBzdGF0ZSA9ICdyZXZpZXcnXG4gICAgT1JERVIgQlkgZHVlX2RhdGVcbiAgYCxcblxuICAvLyBSZXZpZXcgbG9nIG9wZXJhdGlvbnNcbiAgSU5TRVJUX1JFVklFV19MT0c6IGBcbiAgICBJTlNFUlQgSU5UTyByZXZpZXdfbG9ncyAoXG4gICAgICBpZCwgZmxhc2hjYXJkX2lkLCBzZXNzaW9uX2lkLCBsYXN0X3Jldmlld2VkX2F0LCBzaG93bl9hdCwgcmV2aWV3ZWRfYXQsXG4gICAgICByYXRpbmcsIHJhdGluZ19sYWJlbCwgdGltZV9lbGFwc2VkX21zLFxuICAgICAgb2xkX3N0YXRlLCBvbGRfcmVwZXRpdGlvbnMsIG9sZF9sYXBzZXMsIG9sZF9zdGFiaWxpdHksIG9sZF9kaWZmaWN1bHR5LFxuICAgICAgbmV3X3N0YXRlLCBuZXdfcmVwZXRpdGlvbnMsIG5ld19sYXBzZXMsIG5ld19zdGFiaWxpdHksIG5ld19kaWZmaWN1bHR5LFxuICAgICAgb2xkX2ludGVydmFsX21pbnV0ZXMsIG5ld19pbnRlcnZhbF9taW51dGVzLCBvbGRfZHVlX2F0LCBuZXdfZHVlX2F0LFxuICAgICAgZWxhcHNlZF9kYXlzLCByZXRyaWV2YWJpbGl0eSxcbiAgICAgIHJlcXVlc3RfcmV0ZW50aW9uLCBwcm9maWxlLCBtYXhpbXVtX2ludGVydmFsX2RheXMsIG1pbl9taW51dGVzLFxuICAgICAgZnNyc193ZWlnaHRzX3ZlcnNpb24sIHNjaGVkdWxlcl92ZXJzaW9uLFxuICAgICAgbm90ZV9tb2RlbF9pZCwgY2FyZF90ZW1wbGF0ZV9pZCwgY29udGVudF9oYXNoLCBjbGllbnRcbiAgICApIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylcbiAgYCxcblxuICBHRVRfTEFURVNUX1JFVklFV19MT0c6IGBcbiAgICBTRUxFQ1RcbiAgICAgIHJsLmlkLCBybC5mbGFzaGNhcmRfaWQsIHJsLmxhc3RfcmV2aWV3ZWRfYXQsIHJsLnNob3duX2F0LCBybC5yZXZpZXdlZF9hdCxcbiAgICAgIHJsLnJhdGluZywgcmwucmF0aW5nX2xhYmVsLCBybC50aW1lX2VsYXBzZWRfbXMsXG4gICAgICBybC5vbGRfc3RhdGUsIHJsLm9sZF9yZXBldGl0aW9ucywgcmwub2xkX2xhcHNlcywgcmwub2xkX3N0YWJpbGl0eSwgcmwub2xkX2RpZmZpY3VsdHksXG4gICAgICBybC5uZXdfc3RhdGUsIHJsLm5ld19yZXBldGl0aW9ucywgcmwubmV3X2xhcHNlcywgcmwubmV3X3N0YWJpbGl0eSwgcmwubmV3X2RpZmZpY3VsdHksXG4gICAgICBybC5vbGRfaW50ZXJ2YWxfbWludXRlcywgcmwubmV3X2ludGVydmFsX21pbnV0ZXMsIHJsLm9sZF9kdWVfYXQsIHJsLm5ld19kdWVfYXQsXG4gICAgICBybC5lbGFwc2VkX2RheXMsIHJsLnJldHJpZXZhYmlsaXR5LFxuICAgICAgcmwucmVxdWVzdF9yZXRlbnRpb24sIHJsLnByb2ZpbGUsIHJsLm1heGltdW1faW50ZXJ2YWxfZGF5cywgcmwubWluX21pbnV0ZXMsXG4gICAgICBybC5mc3JzX3dlaWdodHNfdmVyc2lvbiwgcmwuc2NoZWR1bGVyX3ZlcnNpb24sXG4gICAgICBybC5ub3RlX21vZGVsX2lkLCBybC5jYXJkX3RlbXBsYXRlX2lkLCBybC5jb250ZW50X2hhc2gsIHJsLmNsaWVudFxuICAgIEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICBXSEVSRSBybC5mbGFzaGNhcmRfaWQgPSA/XG4gICAgT1JERVIgQlkgcmwucmV2aWV3ZWRfYXQgREVTQ1xuICAgIExJTUlUIDFcbiAgYCxcblxuICAvLyBEYWlseSByZXZpZXcgY291bnRzXG4gIENPVU5UX05FV19DQVJEU19UT0RBWTogYFxuICAgIFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHJldmlld19sb2dzIHJsXG4gICAgSk9JTiBmbGFzaGNhcmRzIGYgT04gcmwuZmxhc2hjYXJkX2lkID0gZi5pZFxuICAgIFdIRVJFIGYuZGVja19pZCA9ID9cbiAgICAgIEFORCBybC5yZXZpZXdlZF9hdCA+PSA/XG4gICAgICBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1xuICAgICAgQU5EIChybC5vbGRfaW50ZXJ2YWxfbWludXRlcyA9IDAgT1IgZi5yZXBldGl0aW9ucyA9IDEpXG4gIGAsXG5cbiAgQ09VTlRfUkVWSUVXX0NBUkRTX1RPREFZOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICBKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkXG4gICAgV0hFUkUgZi5kZWNrX2lkID0gP1xuICAgICAgQU5EIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICAgIEFORCBybC5vbGRfaW50ZXJ2YWxfbWludXRlcyA+IDBcbiAgYCxcblxuICAvLyBTdGF0aXN0aWNzIHF1ZXJpZXNcbiAgQ09VTlRfTkVXX0NBUkRTOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkc1xuICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBzdGF0ZSA9ICduZXcnIEFORCBkdWVfZGF0ZSA8PSA/XG4gIGAsXG5cbiAgQ09VTlRfRFVFX0NBUkRTOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkc1xuICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBzdGF0ZSA9ICdyZXZpZXcnIEFORCBkdWVfZGF0ZSA8PSA/XG4gIGAsXG5cbiAgQ09VTlRfVE9UQUxfQ0FSRFM6IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzIFdIRVJFIGRlY2tfaWQgPSA/XG4gIGAsXG5cbiAgR0VUX1JFVklFV19DT1VOVFNfQllfREFURTogYFxuICAgIFNFTEVDVCBEQVRFKHJldmlld2VkX2F0KSBhcyByZXZpZXdfZGF0ZSwgQ09VTlQoKikgYXMgY291bnRcbiAgICBGUk9NIHJldmlld19sb2dzXG4gICAgV0hFUkUgcmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmV2aWV3ZWRfYXQgPD0gP1xuICAgIEdST1VQIEJZIERBVEUocmV2aWV3ZWRfYXQpXG4gICAgT1JERVIgQlkgcmV2aWV3X2RhdGVcbiAgYCxcblxuICAvLyBNaWdyYXRpb24gaGVscGVyc1xuICBDSEVDS19FWElTVElOR19UQUJMRVM6IGBcbiAgICBTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXJcbiAgICBXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWUgSU4gKCdkZWNrcycsICdmbGFzaGNhcmRzJywgJ3Jldmlld19sb2dzJylcbiAgYCxcblxuICAvLyBTdGF0aXN0aWNzIHF1ZXJpZXMgZm9yIG92ZXJhbGwgc3RhdHNcbiAgR0VUX0RBSUxZX1NUQVRTOiBgXG4gICAgU0VMRUNUXG4gICAgICBEQVRFKHJldmlld2VkX2F0KSBhcyBkYXRlLFxuICAgICAgQ09VTlQoKikgYXMgcmV2aWV3cyxcbiAgICAgIEFWRyh0aW1lX2VsYXBzZWRfbXMgLyAxMDAwLjApIGFzIGF2Z190aW1lX3NlY29uZHMsXG4gICAgICBTVU0oQ0FTRSBXSEVOIG9sZF9yZXBldGl0aW9ucyA9IDAgVEhFTiAxIEVMU0UgMCBFTkQpIGFzIG5ld19jYXJkcyxcbiAgICAgIFNVTShDQVNFIFdIRU4gb2xkX3JlcGV0aXRpb25zID4gMCBBTkQgb2xkX3JlcGV0aXRpb25zIDwgMyBUSEVOIDEgRUxTRSAwIEVORCkgYXMgbGVhcm5pbmdfY2FyZHMsXG4gICAgICBTVU0oQ0FTRSBXSEVOIG9sZF9yZXBldGl0aW9ucyA+PSAzIFRIRU4gMSBFTFNFIDAgRU5EKSBhcyByZXZpZXdfY2FyZHMsXG4gICAgICBBVkcoQ0FTRSBXSEVOIHJhdGluZyA+PSAzIFRIRU4gMS4wIEVMU0UgMC4wIEVORCkgYXMgY29ycmVjdF9yYXRlXG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICBHUk9VUCBCWSBEQVRFKHJldmlld2VkX2F0KVxuICAgIE9SREVSIEJZIGRhdGVcbiAgYCxcblxuICBHRVRfREFJTFlfU1RBVFNfT1ZFUkFMTDogYFxuICAgIFNFTEVDVFxuICAgICAgREFURShyZXZpZXdlZF9hdCkgYXMgZGF0ZSxcbiAgICAgIENPVU5UKCopIGFzIHJldmlld3MsXG4gICAgICBDT1VOVChDQVNFIFdIRU4gcmF0aW5nX2xhYmVsICE9ICdhZ2FpbicgVEhFTiAxIEVORCkgYXMgY29ycmVjdCxcbiAgICAgIENPVU5UKENBU0UgV0hFTiBmLnN0YXRlID0gJ25ldycgVEhFTiAxIEVORCkgYXMgbmV3X2NhcmRzLFxuICAgICAgQ09VTlQoQ0FTRSBXSEVOIGYuc3RhdGUgPSAncmV2aWV3JyBUSEVOIDEgRU5EKSBhcyByZXZpZXdfY2FyZHNcbiAgICBGUk9NIHJldmlld19sb2dzIHJsXG4gICAgSk9JTiBmbGFzaGNhcmRzIGYgT04gcmwuZmxhc2hjYXJkX2lkID0gZi5pZFxuICAgIFdIRVJFIERBVEUocmV2aWV3ZWRfYXQpID49IERBVEUoPylcbiAgICBHUk9VUCBCWSBEQVRFKHJldmlld2VkX2F0KVxuICAgIE9SREVSIEJZIGRhdGUgREVTQ1xuICBgLFxuXG4gIEdFVF9DQVJEX1NUQVRTOiBgXG4gICAgU0VMRUNUXG4gICAgICBDQVNFXG4gICAgICAgIFdIRU4gZi5zdGF0ZSA9ICduZXcnIFRIRU4gJ25ldydcbiAgICAgICAgV0hFTiBmLnN0YXRlID0gJ3JldmlldycgQU5EIGYuaW50ZXJ2YWwgPiAzMDI0MCBUSEVOICdtYXR1cmUnXG4gICAgICAgIEVMU0UgJ3JldmlldydcbiAgICAgIEVORCBhcyBjYXJkX3R5cGUsXG4gICAgICBDT1VOVCgqKSBhcyBjb3VudFxuICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgR1JPVVAgQlkgY2FyZF90eXBlXG4gIGAsXG5cbiAgR0VUX0FOU1dFUl9CVVRUT05fU1RBVFM6IGBcbiAgICBTRUxFQ1RcbiAgICAgIHJsLnJhdGluZ19sYWJlbCxcbiAgICAgIENPVU5UKCopIGFzIGNvdW50XG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICBHUk9VUCBCWSBybC5yYXRpbmdfbGFiZWxcbiAgYCxcblxuICBHRVRfSU5URVJWQUxfRElTVFJJQlVUSU9OOiBgXG4gICAgU0VMRUNUXG4gICAgICBDQVNFXG4gICAgICAgIFdIRU4gZi5pbnRlcnZhbCA8IDE0NDAgVEhFTiAnPDFkJ1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCAxMDA4MCBUSEVOICcxLTdkJ1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCA0MzIwMCBUSEVOICcxLTR3J1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCAxMjk2MDAgVEhFTiAnMS0zbSdcbiAgICAgICAgV0hFTiBmLmludGVydmFsIDwgNTI1NjAwIFRIRU4gJzMtMTJtJ1xuICAgICAgICBFTFNFICc+MXknXG4gICAgICBFTkQgYXMgaW50ZXJ2YWxfcmFuZ2UsXG4gICAgICBDT1VOVCgqKSBhcyBjb3VudFxuICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgV0hFUkUgZi5zdGF0ZSA9ICdyZXZpZXcnXG4gICAgR1JPVVAgQlkgaW50ZXJ2YWxfcmFuZ2VcbiAgICBPUkRFUiBCWVxuICAgICAgQ0FTRSBpbnRlcnZhbF9yYW5nZVxuICAgICAgICBXSEVOICc8MWQnIFRIRU4gMVxuICAgICAgICBXSEVOICcxLTdkJyBUSEVOIDJcbiAgICAgICAgV0hFTiAnMS00dycgVEhFTiAzXG4gICAgICAgIFdIRU4gJzEtM20nIFRIRU4gNFxuICAgICAgICBXSEVOICczLTEybScgVEhFTiA1XG4gICAgICAgIFdIRU4gJz4xeScgVEhFTiA2XG4gICAgICBFTkRcbiAgYCxcblxuICBHRVRfRk9SRUNBU1RfRFVFX0NPVU5UOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIGFzIGR1ZV9jb3VudFxuICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgV0hFUkUgREFURShmLmR1ZV9kYXRlKSA9IERBVEUoPylcbiAgYCxcblxuICBHRVRfUEFDRV9TVEFUUzogYFxuICAgIFNFTEVDVFxuICAgICAgQVZHKHJsLnRpbWVfZWxhcHNlZF9tcyAvIDEwMDAuMCkgYXMgYXZnX3BhY2UsXG4gICAgICBTVU0ocmwudGltZV9lbGFwc2VkX21zIC8gMTAwMC4wKSBhcyB0b3RhbF90aW1lXG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICAgIEFORCBybC50aW1lX2VsYXBzZWRfbXMgSVMgTk9UIE5VTExcbiAgICAgIEFORCBybC50aW1lX2VsYXBzZWRfbXMgPiAwXG4gIGAsXG5cbiAgLy8gUmV2aWV3IFNlc3Npb24gb3BlcmF0aW9uc1xuICBJTlNFUlRfUkVWSUVXX1NFU1NJT046IGBcbiAgICBJTlNFUlQgSU5UTyByZXZpZXdfc2Vzc2lvbnMgKFxuICAgICAgaWQsIGRlY2tfaWQsIHN0YXJ0ZWRfYXQsIGVuZGVkX2F0LCBnb2FsX3RvdGFsLCBkb25lX3VuaXF1ZVxuICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/KVxuICBgLFxuXG4gIEdFVF9SRVZJRVdfU0VTU0lPTl9CWV9JRDogYFNFTEVDVCAqIEZST00gcmV2aWV3X3Nlc3Npb25zIFdIRVJFIGlkID0gP2AsXG5cbiAgVVBEQVRFX1JFVklFV19TRVNTSU9OX0RPTkVfVU5JUVVFOiBgXG4gICAgVVBEQVRFIHJldmlld19zZXNzaW9uc1xuICAgIFNFVCBkb25lX3VuaXF1ZSA9ID9cbiAgICBXSEVSRSBpZCA9ID9cbiAgYCxcblxuICBVUERBVEVfUkVWSUVXX1NFU1NJT05fRU5EOiBgXG4gICAgVVBEQVRFIHJldmlld19zZXNzaW9uc1xuICAgIFNFVCBlbmRlZF9hdCA9ID9cbiAgICBXSEVSRSBpZCA9ID9cbiAgYCxcblxuICBHRVRfQUNUSVZFX1JFVklFV19TRVNTSU9OOiBgXG4gICAgU0VMRUNUICogRlJPTSByZXZpZXdfc2Vzc2lvbnNcbiAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZW5kZWRfYXQgSVMgTlVMTFxuICAgIE9SREVSIEJZIHN0YXJ0ZWRfYXQgREVTQ1xuICAgIExJTUlUIDFcbiAgYCxcblxuICBDSEVDS19DQVJEX1JFVklFV0VEX0lOX1NFU1NJT046IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnRcbiAgICBGUk9NIHJldmlld19sb2dzXG4gICAgV0hFUkUgc2Vzc2lvbl9pZCA9ID8gQU5EIGZsYXNoY2FyZF9pZCA9ID9cbiAgYCxcbn07XG4iLCAiaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tIFwic3FsLmpzXCI7XG5pbXBvcnQge1xuICBDUkVBVEVfVEFCTEVTX1NRTCxcbiAgQ1VSUkVOVF9TQ0hFTUFfVkVSU0lPTixcbiAgYnVpbGRNaWdyYXRpb25TUUwsXG59IGZyb20gXCIuL3NjaGVtYXNcIjtcblxuLy8gTWlncmF0aW9uIGhlbHBlciBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50U2NoZW1hVmVyc2lvbihkYjogRGF0YWJhc2UpOiBudW1iZXIge1xuICB0cnkge1xuICAgIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKGBQUkFHTUEgdXNlcl92ZXJzaW9uYCk7XG4gICAgbGV0IHZlcnNpb24gPSAwO1xuICAgIGlmIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIHZlcnNpb24gPSBOdW1iZXIocm93WzBdKSB8fCAwO1xuICAgIH1cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gdmVyc2lvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVlZHNNaWdyYXRpb24oZGI6IERhdGFiYXNlKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRDdXJyZW50U2NoZW1hVmVyc2lvbihkYikgIT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT047XG59XG5cbi8qKlxuICogQ3JlYXRlcyBmcmVzaCBkYXRhYmFzZSB0YWJsZXMgd2hlbiBubyBkYXRhYmFzZSBmaWxlIGV4aXN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGFibGVzKFxuICBkYjogRGF0YWJhc2UsXG4gIGRlYnVnTG9nPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCxcbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkZWJ1Z0xvZyB8fCAoKCkgPT4ge30pO1xuXG4gIHRyeSB7XG4gICAgbG9nKGBDcmVhdGluZyBmcmVzaCBkYXRhYmFzZSBzY2hlbWEgKHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfSlgKTtcbiAgICBkYi5ydW4oQ1JFQVRFX1RBQkxFU19TUUwpO1xuICAgIGxvZyhgXHUyNzA1IERhdGFiYXNlIHNjaGVtYSBjcmVhdGVkIHN1Y2Nlc3NmdWxseWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZyhgXHUyNzRDIFNjaGVtYSBjcmVhdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBTY2hlbWEgY3JlYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaWdyYXRlKFxuICBkYjogRGF0YWJhc2UsXG4gIGRlYnVnTG9nPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCxcbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkZWJ1Z0xvZyB8fCAoKCkgPT4ge30pO1xuICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IGdldEN1cnJlbnRTY2hlbWFWZXJzaW9uKGRiKTtcblxuICBpZiAoY3VycmVudFZlcnNpb24gPT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICBsb2coYFNjaGVtYSBpcyBhbHJlYWR5IHVwIHRvIGRhdGUgKHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfSlgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2coXG4gICAgYE1pZ3JhdGluZyBzY2hlbWEgZnJvbSB2ZXJzaW9uICR7Y3VycmVudFZlcnNpb259IHRvICR7Q1VSUkVOVF9TQ0hFTUFfVkVSU0lPTn1gLFxuICApO1xuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgZGIucnVuKENSRUFURV9UQUJMRVNfU1FMKTtcbiAgICBjb25zdCBtaWdyYXRpb25TUUwgPSBidWlsZE1pZ3JhdGlvblNRTChkYik7XG4gICAgZGIucnVuKG1pZ3JhdGlvblNRTCk7XG4gICAgbG9nKGBcdTI3MDUgTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coYFx1Mjc0QyBNaWdyYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVEZpbGUsIFZhdWx0LCBNZXRhZGF0YUNhY2hlLCBDYWNoZWRNZXRhZGF0YSwgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1xuICBEZWNrLFxuICBGbGFzaGNhcmQsXG4gIFJldmlld0xvZyxcbiAgREVGQVVMVF9ERUNLX0NPTkZJRyxcbn0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG5pbXBvcnQgeyBEYXRhYmFzZVNlcnZpY2UgfSBmcm9tIFwiLi4vZGF0YWJhc2UvRGF0YWJhc2VTZXJ2aWNlXCI7XG5pbXBvcnQgeyB5aWVsZFRvVUksIHlpZWxkRXZlcnkgfSBmcm9tIFwiLi4vdXRpbHMvdWlcIjtcbmltcG9ydCBEZWNrc1BsdWdpbiBmcm9tIFwiQC9tYWluXCI7XG5cbi8vIE1heGltdW0gbnVtYmVyIG9mIGZsYXNoY2FyZHMgdG8gcHJvY2VzcyBwZXIgZGVjayBmb3IgcGVyZm9ybWFuY2VcbmNvbnN0IE1BWF9GTEFTSENBUkRTX1BFUl9ERUNLID0gNTAwMDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkRmxhc2hjYXJkIHtcbiAgZnJvbnQ6IHN0cmluZztcbiAgYmFjazogc3RyaW5nO1xuICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIiB8IFwidGFibGVcIjtcbn1cblxuZXhwb3J0IGNsYXNzIERlY2tNYW5hZ2VyIHtcbiAgcHJpdmF0ZSB2YXVsdDogVmF1bHQ7XG4gIHByaXZhdGUgbWV0YWRhdGFDYWNoZTogTWV0YWRhdGFDYWNoZTtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2VTZXJ2aWNlO1xuICBwcml2YXRlIHBsdWdpbj86IERlY2tzUGx1Z2luO1xuXG4gIC8vIFByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEhFQURFUl9SRUdFWCA9IC9eKCN7MSw2fSlcXHMrLztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFCTEVfUk9XX1JFR0VYID0gL15cXHwuKlxcfCQvO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUJMRV9TRVBBUkFUT1JfUkVHRVggPSAvXlxcfFtcXHMtXStcXHxbXFxzLV0rXFx8JC87XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmF1bHQ6IFZhdWx0LFxuICAgIG1ldGFkYXRhQ2FjaGU6IE1ldGFkYXRhQ2FjaGUsXG4gICAgZGI6IERhdGFiYXNlU2VydmljZSxcbiAgICBwbHVnaW4/OiBEZWNrc1BsdWdpbixcbiAgKSB7XG4gICAgdGhpcy52YXVsdCA9IHZhdWx0O1xuICAgIHRoaXMubWV0YWRhdGFDYWNoZSA9IG1ldGFkYXRhQ2FjaGU7XG4gICAgdGhpcy5kYiA9IGRiO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHRpbWluZyBvcGVyYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRpbWUobXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1zIDwgMTAwMCkge1xuICAgICAgcmV0dXJuIGAke21zLnRvRml4ZWQoMil9bXNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7KG1zIC8gMTAwMCkudG9GaXhlZCgyKX1zYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LmRlYnVnTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LnBlcmZvcm1hbmNlTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5wZXJmb3JtYW5jZUxvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NhbiB2YXVsdCBmb3IgYWxsIGRlY2tzIChmaWxlcyB3aXRoICNmbGFzaGNhcmRzIHRhZ3MpXG4gICAqL1xuICBhc3luYyBzY2FuVmF1bHRGb3JEZWNrcygpOiBQcm9taXNlPE1hcDxzdHJpbmcsIFRGaWxlW10+PiB7XG4gICAgY29uc3QgZGVja3NNYXAgPSBuZXcgTWFwPHN0cmluZywgVEZpbGVbXT4oKTtcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgIHRoaXMuZGVidWdMb2coYFNjYW5uaW5nICR7ZmlsZXMubGVuZ3RofSBtYXJrZG93biBmaWxlcyBmb3IgZmxhc2hjYXJkIHRhZ3NgKTtcblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBObyBtZXRhZGF0YSBmb3IgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQ2hlY2tpbmcgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cbiAgICAgIGNvbnN0IGFsbFRhZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIC8vIENoZWNrIGlubGluZSB0YWdzXG4gICAgICBpZiAobWV0YWRhdGEudGFncykge1xuICAgICAgICBjb25zdCBpbmxpbmVUYWdzID0gbWV0YWRhdGEudGFncy5tYXAoKHQpID0+IHQudGFnKTtcbiAgICAgICAgYWxsVGFncy5wdXNoKC4uLmlubGluZVRhZ3MpO1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBGaWxlICR7ZmlsZS5wYXRofSBoYXMgaW5saW5lIHRhZ3M6YCwgaW5saW5lVGFncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZyb250bWF0dGVyIHRhZ3NcbiAgICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlciAmJiBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKSB7XG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyVGFncyA9IEFycmF5LmlzQXJyYXkobWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFncylcbiAgICAgICAgICA/IG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NcbiAgICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcblxuICAgICAgICAvLyBBZGQgIyBwcmVmaXggaWYgbm90IHByZXNlbnRcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFRhZ3MgPSBmcm9udG1hdHRlclRhZ3MubWFwKCh0YWc6IHN0cmluZykgPT5cbiAgICAgICAgICB0YWcuc3RhcnRzV2l0aChcIiNcIikgPyB0YWcgOiBgIyR7dGFnfWAsXG4gICAgICAgICk7XG4gICAgICAgIGFsbFRhZ3MucHVzaCguLi5ub3JtYWxpemVkVGFncyk7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYEZpbGUgJHtmaWxlLnBhdGh9IGhhcyBmcm9udG1hdHRlciB0YWdzOmAsXG4gICAgICAgICAgbm9ybWFsaXplZFRhZ3MsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxUYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vayBmb3IgI2ZsYXNoY2FyZHMgdGFnc1xuICAgICAgY29uc3QgZmxhc2hjYXJkVGFncyA9IGFsbFRhZ3MuZmlsdGVyKCh0YWcpID0+XG4gICAgICAgIHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIiksXG4gICAgICApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQWxsIHRhZ3MgZm9yICR7ZmlsZS5wYXRofTpgLCBhbGxUYWdzKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEZsYXNoY2FyZCB0YWdzIGZvciAke2ZpbGUucGF0aH06YCwgZmxhc2hjYXJkVGFncyk7XG5cbiAgICAgIGZvciAoY29uc3QgdGFnIG9mIGZsYXNoY2FyZFRhZ3MpIHtcbiAgICAgICAgaWYgKCFkZWNrc01hcC5oYXModGFnKSkge1xuICAgICAgICAgIGRlY2tzTWFwLnNldCh0YWcsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNrc01hcC5nZXQodGFnKSEucHVzaChmaWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnTG9nKGBGb3VuZCAke2RlY2tzTWFwLnNpemV9IGRlY2tzOmAsIEFycmF5LmZyb20oZGVja3NNYXAua2V5cygpKSk7XG4gICAgcmV0dXJuIGRlY2tzTWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZGVja3Mgd2l0aCBkYXRhYmFzZVxuICAgKi9cbiAgYXN5bmMgc3luY0RlY2tzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN5bmNEZWNrc1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiU3RhcnRpbmcgZGVjayBzeW5jLi4uXCIpO1xuICAgICAgY29uc3QgZGVja3NNYXAgPSBhd2FpdCB0aGlzLnNjYW5WYXVsdEZvckRlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3MgZm91bmQgaW4gdmF1bHQ6XCIsIGRlY2tzTWFwKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3MgPSBhd2FpdCB0aGlzLmRiLmdldEFsbERlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRXhpc3RpbmcgZGVja3MgaW4gZGF0YWJhc2U6XCIsIGV4aXN0aW5nRGVja3MpO1xuXG4gICAgICAvLyBDcmVhdGUgYSBtYXAgb2YgZXhpc3RpbmcgZGVja3MgYnkgZmlsZSBwYXRoIGZvciBxdWljayBsb29rdXBcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3NCeUZpbGUgPSBuZXcgTWFwPHN0cmluZywgRGVjaz4oKTtcbiAgICAgIGZvciAoY29uc3QgZGVjayBvZiBleGlzdGluZ0RlY2tzKSB7XG4gICAgICAgIGV4aXN0aW5nRGVja3NCeUZpbGUuc2V0KGRlY2suZmlsZXBhdGgsIGRlY2spO1xuICAgICAgfVxuXG4gICAgICBsZXQgbmV3RGVja3NDcmVhdGVkID0gMDtcbiAgICAgIGxldCB0b3RhbEZpbGVzID0gMDtcblxuICAgICAgLy8gUHJvY2VzcyBlYWNoIGZpbGUgYXMgaXRzIG93biBkZWNrXG4gICAgICBmb3IgKGNvbnN0IFt0YWcsIGZpbGVzXSBvZiBkZWNrc01hcCkge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICB0b3RhbEZpbGVzKys7XG4gICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG4gICAgICAgICAgY29uc3QgZGVja05hbWUgPSBmaWxlLmJhc2VuYW1lOyAvLyBVc2UgZmlsZSBiYXNlbmFtZSBhcyBkZWNrIG5hbWVcblxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGV4aXN0aW5nRGVja3NCeUZpbGUuZ2V0KGZpbGVQYXRoKTtcblxuICAgICAgICAgIHRoaXMuZGVidWdMb2coYENoZWNraW5nIGZpbGU6ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBFeGlzdGluZyBkZWNrIGZvdW5kOmAsXG4gICAgICAgICAgICBleGlzdGluZ0RlY2sgPyBgWUVTIChJRDogJHtleGlzdGluZ0RlY2suaWR9KWAgOiBcIk5PXCIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChleGlzdGluZ0RlY2spIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBkZWNrIGlmIHRhZyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdEZWNrLnRhZyAhPT0gdGFnKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYFVwZGF0aW5nIGRlY2sgXCIke2RlY2tOYW1lfVwiIHRhZyBmcm9tICR7ZXhpc3RpbmdEZWNrLnRhZ30gdG8gJHt0YWd9YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi51cGRhdGVEZWNrKGV4aXN0aW5nRGVjay5pZCwge1xuICAgICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYERlY2sgXCIke2RlY2tOYW1lfVwiIGFscmVhZHkgZXhpc3RzIHdpdGggY29ycmVjdCB0YWcsIG5vIHVwZGF0ZSBuZWVkZWRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGRlY2sgZm9yIHRoaXMgZmlsZVxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGxldCBkZWNrTW9kVGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRlVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSk7XG4gICAgICAgICAgICAgIC8vIFVzZSB0aGUgZWFybGllciBvZiBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lIG9yIGZpbGUgY3JlYXRpb24gdGltZVxuICAgICAgICAgICAgICBkZWNrTW9kVGltZSA9XG4gICAgICAgICAgICAgICAgZmlsZU1vZFRpbWUgPCBmaWxlQ3JlYXRlVGltZSA/IGZpbGVNb2RUaW1lIDogZmlsZUNyZWF0ZVRpbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCI+ID0ge1xuICAgICAgICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZURlY2tJZChmaWxlUGF0aCksXG4gICAgICAgICAgICAgIG5hbWU6IGRlY2tOYW1lLCAvLyBTdG9yZSBjbGVhbiBmaWxlIG5hbWVcbiAgICAgICAgICAgICAgZmlsZXBhdGg6IGZpbGVQYXRoLCAvLyBTdG9yZSBmdWxsIGZpbGUgcGF0aCBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICBsYXN0UmV2aWV3ZWQ6IG51bGwsXG4gICAgICAgICAgICAgIGNvbmZpZzogREVGQVVMVF9ERUNLX0NPTkZJRyxcbiAgICAgICAgICAgICAgbW9kaWZpZWQ6IGRlY2tNb2RUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgICAgYENyZWF0aW5nIG5ldyBkZWNrOiBcIiR7ZGVja05hbWV9XCIgd2l0aCBJRDogJHtkZWNrLmlkfSwgdGFnOiAke3RhZ30sIGZpbGVwYXRoOiAke2ZpbGVQYXRofWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVEZWNrKGRlY2spO1xuICAgICAgICAgICAgbmV3RGVja3NDcmVhdGVkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwIG9ycGhhbmVkIGRlY2tzIChkZWNrcyB3aG9zZSBmaWxlcyBubyBsb25nZXIgZXhpc3QpXG4gICAgICBjb25zdCBhbGxGaWxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgZm9yIChjb25zdCBbdGFnLCBmaWxlc10gb2YgZGVja3NNYXApIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgYWxsRmlsZXMuYWRkKGZpbGUucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGRlbGV0ZWREZWNrcyA9IDA7XG4gICAgICBmb3IgKGNvbnN0IGRlY2sgb2YgZXhpc3RpbmdEZWNrcykge1xuICAgICAgICBpZiAoIWFsbEZpbGVzLmhhcyhkZWNrLmZpbGVwYXRoKSkge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgRGVsZXRpbmcgb3JwaGFuZWQgZGVjazogXCIke2RlY2submFtZX1cIiAoJHtkZWNrLmZpbGVwYXRofSlgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5kZWxldGVEZWNrQnlGaWxlcGF0aChkZWNrLmZpbGVwYXRoKTtcbiAgICAgICAgICBkZWxldGVkRGVja3MrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZC4gUHJvY2Vzc2VkICR7dG90YWxGaWxlc30gZmlsZXMsIGNyZWF0ZWQgJHtuZXdEZWNrc0NyZWF0ZWR9IG5ldyBkZWNrcywgZGVsZXRlZCAke2RlbGV0ZWREZWNrc30gb3JwaGFuZWQgZGVja3MuYCxcbiAgICAgICk7XG4gICAgICBjb25zdCBzeW5jRGVja3NUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzeW5jRGVja3NTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJHt0aGlzLmZvcm1hdFRpbWUoc3luY0RlY2tzVGltZSl9ICgke25ld0RlY2tzQ3JlYXRlZH0gY3JlYXRlZCwgJHtkZWxldGVkRGVja3N9IGRlbGV0ZWQpYCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgZGVjayBzeW5jOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IGNhbGxlciBoYW5kbGVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgZmxhc2hjYXJkcyBmcm9tIGEgZmlsZVxuICAgKi9cbiAgYXN5bmMgcGFyc2VGbGFzaGNhcmRzRnJvbUZpbGUoXG4gICAgZmlsZTogVEZpbGUsXG4gICAgaGVhZGVyTGV2ZWw6IG51bWJlciA9IDIsXG4gICk6IFByb21pc2U8UGFyc2VkRmxhc2hjYXJkW10+IHtcbiAgICBjb25zdCBwYXJzZVN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgLy8gUmVhZCBhbmQgcGFyc2UgY29udGVudFxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgcmVhZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHBhcnNlU3RhcnRUaW1lO1xuXG4gICAgY29uc3QgcGFyc2VDb250ZW50U3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZmxhc2hjYXJkcyA9IHRoaXMucGFyc2VGbGFzaGNhcmRzRnJvbUNvbnRlbnQoY29udGVudCwgaGVhZGVyTGV2ZWwpO1xuICAgIGNvbnN0IHBhcnNlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcGFyc2VDb250ZW50U3RhcnRUaW1lO1xuXG4gICAgY29uc3QgdG90YWxUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwYXJzZVN0YXJ0VGltZTtcblxuICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICBgUGFyc2VkICR7Zmxhc2hjYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgZnJvbSAke2ZpbGUucGF0aH0gaW4gJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX0gKHJlYWQ6ICR7dGhpcy5mb3JtYXRUaW1lKHJlYWRUaW1lKX0sIHBhcnNlOiAke3RoaXMuZm9ybWF0VGltZShwYXJzZVRpbWUpfSlgLFxuICAgICk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBmbGFzaGNhcmRzIGZyb20gY29udGVudCBzdHJpbmcgKG9wdGltaXplZCBzaW5nbGUtcGFzcyBwYXJzaW5nKVxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZUZsYXNoY2FyZHNGcm9tQ29udGVudChcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw6IG51bWJlciA9IDIsXG4gICk6IFBhcnNlZEZsYXNoY2FyZFtdIHtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XG4gICAgY29uc3QgZmxhc2hjYXJkczogUGFyc2VkRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIC8vIFNpbmdsZSBwYXNzIHRocm91Z2ggbGluZXMgZm9yIGJvdGggdGFibGUgYW5kIGhlYWRlciBwYXJzaW5nXG4gICAgbGV0IGluVGFibGUgPSBmYWxzZTtcbiAgICBsZXQgaGVhZGVyU2VlbiA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50SGVhZGVyOiB7IHRleHQ6IHN0cmluZzsgbGV2ZWw6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRDb250ZW50OiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBpbkZyb250bWF0dGVyID0gZmFsc2U7XG4gICAgbGV0IHNraXBOZXh0UGFyYWdyYXBoID0gZmFsc2U7XG5cbiAgICAvLyBVc2UgcHJlLWNvbXBpbGVkIHJlZ2V4IHBhdHRlcm5zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgIGNvbnN0IHRyaW1tZWRMaW5lID0gbGluZS50cmltKCk7XG5cbiAgICAgIC8vIEhhbmRsZSBmcm9udG1hdHRlclxuICAgICAgaWYgKGkgPT09IDAgJiYgdHJpbW1lZExpbmUgPT09IFwiLS0tXCIpIHtcbiAgICAgICAgaW5Gcm9udG1hdHRlciA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGluRnJvbnRtYXR0ZXIpIHtcbiAgICAgICAgaWYgKHRyaW1tZWRMaW5lID09PSBcIi0tLVwiKSB7XG4gICAgICAgICAgaW5Gcm9udG1hdHRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3IgdGFibGUgcm93c1xuICAgICAgaWYgKERlY2tNYW5hZ2VyLlRBQkxFX1JPV19SRUdFWC50ZXN0KHRyaW1tZWRMaW5lKSkge1xuICAgICAgICBpZiAoIWluVGFibGUpIHtcbiAgICAgICAgICBpblRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICBoZWFkZXJTZWVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTa2lwIGhlYWRlciBhbmQgc2VwYXJhdG9yIHJvd3NcbiAgICAgICAgaWYgKCFoZWFkZXJTZWVuKSB7XG4gICAgICAgICAgaGVhZGVyU2VlbiA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERlY2tNYW5hZ2VyLlRBQkxFX1NFUEFSQVRPUl9SRUdFWC50ZXN0KHRyaW1tZWRMaW5lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2UgdGFibGUgcm93XG4gICAgICAgIGNvbnN0IGNlbGxzID0gdHJpbW1lZExpbmVcbiAgICAgICAgICAuc2xpY2UoMSwgLTEpIC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIHBpcGVzXG4gICAgICAgICAgLnNwbGl0KFwifFwiKVxuICAgICAgICAgIC5tYXAoKGNlbGwpID0+IGNlbGwudHJpbSgpKTtcblxuICAgICAgICBpZiAoY2VsbHMubGVuZ3RoID49IDIgJiYgY2VsbHNbMF0gJiYgY2VsbHNbMV0pIHtcbiAgICAgICAgICBmbGFzaGNhcmRzLnB1c2goe1xuICAgICAgICAgICAgZnJvbnQ6IGNlbGxzWzBdLCAvLyBUT0RPIHN0cmlwIG9mIHVubmVjZXNzYXJ5IGNoYXJhY3RlcnNcbiAgICAgICAgICAgIGJhY2s6IGNlbGxzWzFdLFxuICAgICAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3QgYSB0YWJsZSByb3csIGVuZCB0YWJsZSBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChpblRhYmxlKSB7XG4gICAgICAgICAgaW5UYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhlYWRlcnNcbiAgICAgICAgY29uc3QgaGVhZGVyTWF0Y2ggPSBEZWNrTWFuYWdlci5IRUFERVJfUkVHRVguZXhlYyhsaW5lKTtcbiAgICAgICAgaWYgKGhlYWRlck1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudEhlYWRlckxldmVsID0gaGVhZGVyTWF0Y2hbMV0ubGVuZ3RoO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHRpdGxlIGhlYWRlcnMgdG8gc2tpcFxuICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eI1xccysvKSAmJiBsaW5lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJmbGFzaGNhcmRcIikpIHtcbiAgICAgICAgICAgIHNraXBOZXh0UGFyYWdyYXBoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVDdXJyZW50SGVhZGVyKFxuICAgICAgICAgICAgICBjdXJyZW50SGVhZGVyLFxuICAgICAgICAgICAgICBjdXJyZW50Q29udGVudCxcbiAgICAgICAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgICAgICAgaGVhZGVyTGV2ZWwsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudEhlYWRlciA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50Q29udGVudCA9IFtdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRmluYWxpemUgcHJldmlvdXMgaGVhZGVyXG4gICAgICAgICAgdGhpcy5maW5hbGl6ZUN1cnJlbnRIZWFkZXIoXG4gICAgICAgICAgICBjdXJyZW50SGVhZGVyLFxuICAgICAgICAgICAgY3VycmVudENvbnRlbnQsXG4gICAgICAgICAgICBmbGFzaGNhcmRzLFxuICAgICAgICAgICAgaGVhZGVyTGV2ZWwsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFN0YXJ0IG5ldyBoZWFkZXJcbiAgICAgICAgICBjdXJyZW50SGVhZGVyID0ge1xuICAgICAgICAgICAgdGV4dDogbGluZSxcbiAgICAgICAgICAgIGxldmVsOiBjdXJyZW50SGVhZGVyTGV2ZWwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjdXJyZW50Q29udGVudCA9IFtdO1xuICAgICAgICAgIHNraXBOZXh0UGFyYWdyYXBoID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoc2tpcE5leHRQYXJhZ3JhcGgpIHtcbiAgICAgICAgICBpZiAodHJpbW1lZExpbmUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHNraXBOZXh0UGFyYWdyYXBoID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRIZWFkZXIpIHtcbiAgICAgICAgICAvLyBTa2lwIGVtcHR5IGxpbmVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgY29udGVudFxuICAgICAgICAgIGlmICh0cmltbWVkTGluZSA9PT0gXCJcIiAmJiBjdXJyZW50Q29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50Q29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmluYWxpemUgbGFzdCBoZWFkZXJcbiAgICB0aGlzLmZpbmFsaXplQ3VycmVudEhlYWRlcihcbiAgICAgIGN1cnJlbnRIZWFkZXIsXG4gICAgICBjdXJyZW50Q29udGVudCxcbiAgICAgIGZsYXNoY2FyZHMsXG4gICAgICBoZWFkZXJMZXZlbCxcbiAgICApO1xuXG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGZpbmFsaXplIGN1cnJlbnQgaGVhZGVyIGZsYXNoY2FyZFxuICAgKi9cbiAgcHJpdmF0ZSBmaW5hbGl6ZUN1cnJlbnRIZWFkZXIoXG4gICAgY3VycmVudEhlYWRlcjogeyB0ZXh0OiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfSB8IG51bGwsXG4gICAgY3VycmVudENvbnRlbnQ6IHN0cmluZ1tdLFxuICAgIGZsYXNoY2FyZHM6IFBhcnNlZEZsYXNoY2FyZFtdLFxuICAgIHRhcmdldEhlYWRlckxldmVsOiBudW1iZXIsXG4gICk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGN1cnJlbnRIZWFkZXIgJiZcbiAgICAgIGN1cnJlbnRDb250ZW50Lmxlbmd0aCA+IDAgJiZcbiAgICAgIGN1cnJlbnRIZWFkZXIubGV2ZWwgPT09IHRhcmdldEhlYWRlckxldmVsXG4gICAgKSB7XG4gICAgICBmbGFzaGNhcmRzLnB1c2goe1xuICAgICAgICBmcm9udDogY3VycmVudEhlYWRlci50ZXh0LnJlcGxhY2UoL14jezEsNn1cXHMrLywgXCJcIiksXG4gICAgICAgIGJhY2s6IGN1cnJlbnRDb250ZW50LmpvaW4oXCJcXG5cIikudHJpbSgpLFxuICAgICAgICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGJhdGNoIGRhdGFiYXNlIG9wZXJhdGlvbnMgdXNpbmcgdHJhbnNhY3Rpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50cyBmb3Igb3B0aW1hbCBwZXJmb3JtYW5jZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRlQmF0Y2hPcGVyYXRpb25zKFxuICAgIG9wZXJhdGlvbnM6IEFycmF5PHtcbiAgICAgIHR5cGU6IFwiY3JlYXRlXCIgfCBcInVwZGF0ZVwiIHwgXCJkZWxldGVcIjtcbiAgICAgIGZsYXNoY2FyZElkPzogc3RyaW5nO1xuICAgICAgZmxhc2hjYXJkPzogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPjtcbiAgICAgIHVwZGF0ZXM/OiBhbnk7XG4gICAgfT4sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGJhdGNoU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IGNyZWF0ZUNvdW50ID0gMDtcbiAgICBsZXQgdXBkYXRlQ291bnQgPSAwO1xuICAgIGxldCBkZWxldGVDb3VudCA9IDA7XG5cbiAgICB0aGlzLmRlYnVnTG9nKGBTdGFydGluZyB0cmFuc2FjdGlvbiBmb3IgJHtvcGVyYXRpb25zLmxlbmd0aH0gb3BlcmF0aW9uc2ApO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEJlZ2luIHRyYW5zYWN0aW9uXG4gICAgICB0aGlzLmRiLmJlZ2luVHJhbnNhY3Rpb24oKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYFRyYW5zYWN0aW9uIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5YCk7XG5cbiAgICAgIC8vIEdyb3VwIG9wZXJhdGlvbnMgYnkgdHlwZSBmb3IgYmF0Y2ggcHJvY2Vzc2luZ1xuICAgICAgY29uc3QgZGVsZXRlT3BzID0gb3BlcmF0aW9ucy5maWx0ZXIoXG4gICAgICAgIChvcCkgPT4gb3AudHlwZSA9PT0gXCJkZWxldGVcIiAmJiBvcC5mbGFzaGNhcmRJZCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjcmVhdGVPcHMgPSBvcGVyYXRpb25zLmZpbHRlcihcbiAgICAgICAgKG9wKSA9PiBvcC50eXBlID09PSBcImNyZWF0ZVwiICYmIG9wLmZsYXNoY2FyZCxcbiAgICAgICk7XG4gICAgICBjb25zdCB1cGRhdGVPcHMgPSBvcGVyYXRpb25zLmZpbHRlcihcbiAgICAgICAgKG9wKSA9PiBvcC50eXBlID09PSBcInVwZGF0ZVwiICYmIG9wLmZsYXNoY2FyZElkICYmIG9wLnVwZGF0ZXMsXG4gICAgICApO1xuXG4gICAgICAvLyBFeGVjdXRlIGFsbCBERUxFVEUgb3BlcmF0aW9ucyB3aXRoIHNpbmdsZSBwcmVwYXJlZCBzdGF0ZW1lbnRcbiAgICAgIGlmIChkZWxldGVPcHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmRiLmJhdGNoRGVsZXRlRmxhc2hjYXJkcyhkZWxldGVPcHMubWFwKChvcCkgPT4gb3AuZmxhc2hjYXJkSWQhKSk7XG4gICAgICAgIGRlbGV0ZUNvdW50ID0gZGVsZXRlT3BzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgQmF0Y2ggZGVsZXRlZCAke2RlbGV0ZUNvdW50fSBmbGFzaGNhcmRzYCk7XG4gICAgICB9XG4gICAgICAvLyBFeGVjdXRlIGFsbCBDUkVBVEUgb3BlcmF0aW9ucyB3aXRoIHNpbmdsZSBwcmVwYXJlZCBzdGF0ZW1lbnRcbiAgICAgIGlmIChjcmVhdGVPcHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmRiLmJhdGNoQ3JlYXRlRmxhc2hjYXJkcyhjcmVhdGVPcHMubWFwKChvcCkgPT4gb3AuZmxhc2hjYXJkISkpO1xuICAgICAgICBjcmVhdGVDb3VudCA9IGNyZWF0ZU9wcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVidWdMb2coYEJhdGNoIGNyZWF0ZWQgJHtjcmVhdGVDb3VudH0gZmxhc2hjYXJkc2ApO1xuICAgICAgfVxuICAgICAgLy8gRXhlY3V0ZSBhbGwgVVBEQVRFIG9wZXJhdGlvbnMgd2l0aCBzaW5nbGUgcHJlcGFyZWQgc3RhdGVtZW50XG4gICAgICBpZiAodXBkYXRlT3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5kYi5iYXRjaFVwZGF0ZUZsYXNoY2FyZHMoXG4gICAgICAgICAgdXBkYXRlT3BzLm1hcCgob3ApID0+ICh7XG4gICAgICAgICAgICBpZDogb3AuZmxhc2hjYXJkSWQhLFxuICAgICAgICAgICAgdXBkYXRlczogb3AudXBkYXRlcyEsXG4gICAgICAgICAgfSkpLFxuICAgICAgICApO1xuICAgICAgICB1cGRhdGVDb3VudCA9IHVwZGF0ZU9wcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVidWdMb2coYEJhdGNoIHVwZGF0ZWQgJHt1cGRhdGVDb3VudH0gZmxhc2hjYXJkc2ApO1xuICAgICAgfVxuICAgICAgYXdhaXQgeWllbGRUb1VJKCk7XG5cbiAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxuICAgICAgdGhpcy5kYi5jb21taXRUcmFuc2FjdGlvbigpO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgVHJhbnNhY3Rpb24gY29tbWl0dGVkIHN1Y2Nlc3NmdWxseWApO1xuXG4gICAgICBjb25zdCB0b3RhbEJhdGNoVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gYmF0Y2hTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgVHJhbnNhY3Rpb24gY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsQmF0Y2hUaW1lKX0gKCR7Y3JlYXRlQ291bnR9IGNyZWF0ZWQsICR7dXBkYXRlQ291bnR9IHVwZGF0ZWQsICR7ZGVsZXRlQ291bnR9IGRlbGV0ZWQpYCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYENyaXRpY2FsIGVycm9yIGluIHRyYW5zYWN0aW9uOmAsIGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZGIucm9sbGJhY2tUcmFuc2FjdGlvbigpO1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBUcmFuc2FjdGlvbiByb2xsZWQgYmFjayBkdWUgdG8gZXJyb3JgKTtcbiAgICAgIH0gY2F0Y2ggKHJvbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJvbGxiYWNrIHRyYW5zYWN0aW9uOmAsIHJvbGxiYWNrRXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZmxhc2hjYXJkcyBmb3IgYSBzcGVjaWZpYyBkZWNrIChmaWxlKVxuICAgKi9cbiAgYXN5bmMgc3luY0ZsYXNoY2FyZHNGb3JEZWNrKFxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGVja1N5bmNTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLmRlYnVnTG9nKGBTeW5jaW5nIGZsYXNoY2FyZHMgZm9yIGRlY2s6ICR7ZmlsZVBhdGh9YCk7XG5cbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlGaWxlcGF0aChmaWxlUGF0aCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBObyBkZWNrIGZvdW5kIGZvciBmaWxlcGF0aDogJHtmaWxlUGF0aH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGb3VuZCBkZWNrIElEOiAke2RlY2suaWR9LCBuYW1lOiAke2RlY2submFtZX0sIGZpbGVwYXRoOiAke2RlY2suZmlsZXBhdGh9YCxcbiAgICApO1xuXG4gICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSByZXR1cm47XG5cbiAgICAvLyBHZXQgZmlsZSBtb2RpZmljYXRpb24gdGltZVxuICAgIGNvbnN0IGZpbGVNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuXG4gICAgLy8gQ2hlY2sgaWYgZmlsZSBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSBsYXN0IGRlY2sgdXBkYXRlICh1bmxlc3MgZm9yY2VkKVxuICAgIGlmICghZm9yY2UpIHtcbiAgICAgIGNvbnN0IGRlY2tNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShkZWNrLm1vZGlmaWVkKTtcbiAgICAgIGlmIChmaWxlTW9kaWZpZWRUaW1lIDw9IGRlY2tNb2RpZmllZFRpbWUpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgRmlsZSAke2ZpbGVQYXRofSBub3QgbW9kaWZpZWQgc2luY2UgbGFzdCBzeW5jLCBza2lwcGluZ2AsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGaWxlIG1vZGlmaWVkOiAke2ZpbGVNb2RpZmllZFRpbWUudG9JU09TdHJpbmcoKX0sIGxhc3Qgc3luYzogJHtkZWNrLm1vZGlmaWVkfWAsXG4gICAgKTtcblxuICAgIC8vIEdldCBleGlzdGluZyBmbGFzaGNhcmRzIGZvciB0aGlzIGRlY2sgdG8gZGV0ZXJtaW5lIHdoYXQgY2hhbmdlZFxuICAgIGNvbnN0IGV4aXN0aW5nRmxhc2hjYXJkcyA9IGF3YWl0IHRoaXMuZGIuZ2V0Rmxhc2hjYXJkc0J5RGVjayhkZWNrLmlkKTtcbiAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgYEZvdW5kICR7ZXhpc3RpbmdGbGFzaGNhcmRzLmxlbmd0aH0gZXhpc3RpbmcgZmxhc2hjYXJkcyBmb3IgZGVjayAke2RlY2submFtZX1gLFxuICAgICk7XG5cbiAgICBjb25zdCBleGlzdGluZ0J5SWQgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkPigpO1xuICAgIGV4aXN0aW5nRmxhc2hjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBleGlzdGluZ0J5SWQuc2V0KGNhcmQuaWQsIGNhcmQpO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgRXhpc3RpbmcgY2FyZCBJRDogJHtjYXJkLmlkfSwgRnJvbnQ6IFwiJHtjYXJkLmZyb250fVwiYCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBwcm9jZXNzZWRJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBkdXBsaWNhdGVXYXJuaW5ncyA9IG5ldyBTZXQ8c3RyaW5nPigpOyAvLyBUcmFjayBkdXBsaWNhdGVzIHRvIHdhcm4gb25seSBvbmNlIHBlciBmaWxlXG5cbiAgICAvLyBCYXRjaCBvcGVyYXRpb25zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBjb25zdCBiYXRjaE9wZXJhdGlvbnM6IEFycmF5PHtcbiAgICAgIHR5cGU6IFwiY3JlYXRlXCIgfCBcInVwZGF0ZVwiIHwgXCJkZWxldGVcIjtcbiAgICAgIGZsYXNoY2FyZElkPzogc3RyaW5nO1xuICAgICAgZmxhc2hjYXJkPzogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPjtcbiAgICAgIHVwZGF0ZXM/OiBhbnk7XG4gICAgfT4gPSBbXTtcblxuICAgIC8vIFBhcnNlIGZsYXNoY2FyZHMgZnJvbSB0aGUgZmlsZSB1c2luZyBkZWNrJ3MgaGVhZGVyIGxldmVsIGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCBhbGxQYXJzZWRDYXJkcyA9IGF3YWl0IHRoaXMucGFyc2VGbGFzaGNhcmRzRnJvbUZpbGUoXG4gICAgICBmaWxlLFxuICAgICAgZGVjay5jb25maWcuaGVhZGVyTGV2ZWwsXG4gICAgKTtcblxuICAgIC8vIExpbWl0IHRvIGZpcnN0IDQwMDAgZmxhc2hjYXJkcyBwZXIgZGVja1xuICAgIGNvbnN0IHBhcnNlZENhcmRzID0gYWxsUGFyc2VkQ2FyZHMuc2xpY2UoMCwgTUFYX0ZMQVNIQ0FSRFNfUEVSX0RFQ0spO1xuXG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBQYXJzZWQgJHthbGxQYXJzZWRDYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgZnJvbSAke2ZpbGVQYXRofSwgcHJvY2Vzc2luZyBmaXJzdCAke3BhcnNlZENhcmRzLmxlbmd0aH0gKGxpbWl0OiAke01BWF9GTEFTSENBUkRTX1BFUl9ERUNLfSlgLFxuICAgICk7XG5cbiAgICBpZiAoYWxsUGFyc2VkQ2FyZHMubGVuZ3RoID4gTUFYX0ZMQVNIQ0FSRFNfUEVSX0RFQ0spIHtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBcdTI2QTBcdUZFMEYgRGVjayBcIiR7ZGVjay5uYW1lfVwiIGV4Y2VlZHMgZmxhc2hjYXJkIGxpbWl0LiAke2FsbFBhcnNlZENhcmRzLmxlbmd0aCAtIE1BWF9GTEFTSENBUkRTX1BFUl9ERUNLfSBmbGFzaGNhcmRzIHdpbGwgYmUgc2tpcHBlZC5gLFxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLnBsdWdpbj8uc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgYFx1MjZBMFx1RkUwRiBEZWNrIFwiJHtkZWNrLm5hbWV9XCIgaGFzICR7YWxsUGFyc2VkQ2FyZHMubGVuZ3RofSBmbGFzaGNhcmRzLiBPbmx5IHByb2Nlc3NpbmcgZmlyc3QgJHtNQVhfRkxBU0hDQVJEU19QRVJfREVDS30gZm9yIHBlcmZvcm1hbmNlLmAsXG4gICAgICAgICAgODAwMCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGZsYXNoY2FyZHMgaW4gY2h1bmtzIHRvIGF2b2lkIGJsb2NraW5nIFVJIHdpdGggbGFyZ2UgZGF0YXNldHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZENhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBZaWVsZCBjb250cm9sIHRvIFVJIGV2ZXJ5IDUwIGZsYXNoY2FyZHMgdG8gcHJldmVudCBibG9ja2luZ1xuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VkQ2FyZHNbaV07XG4gICAgICBjb25zdCBmbGFzaGNhcmRJZCA9IHRoaXMuZ2VuZXJhdGVGbGFzaGNhcmRJZChwYXJzZWQuZnJvbnQpO1xuICAgICAgY29uc3QgY29udGVudEhhc2ggPSB0aGlzLmdlbmVyYXRlQ29udGVudEhhc2gocGFyc2VkLmJhY2spO1xuICAgICAgY29uc3QgZXhpc3RpbmdDYXJkID0gZXhpc3RpbmdCeUlkLmdldChmbGFzaGNhcmRJZCk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGUgZnJvbnQgdGV4dCB3aXRoaW4gdGhlIHNhbWUgcGFyc2luZyBzZXNzaW9uXG4gICAgICBpZiAocHJvY2Vzc2VkSWRzLmhhcyhmbGFzaGNhcmRJZCkpIHtcbiAgICAgICAgY29uc3QgZHVwbGljYXRlS2V5ID0gYCR7ZGVjay5uYW1lfToke3BhcnNlZC5mcm9udH1gO1xuICAgICAgICBpZiAoIWR1cGxpY2F0ZVdhcm5pbmdzLmhhcyhkdXBsaWNhdGVLZXkpKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGx1Z2luPy5zZXR0aW5ncz8udWk/LmVuYWJsZU5vdGljZXMpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICAgIGBcdTI2QTBcdUZFMEYgRHVwbGljYXRlIGZsYXNoY2FyZCBkZXRlY3RlZCBpbiBcIiR7ZGVjay5uYW1lfVwiOiBcIiR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCA1MCl9JHtwYXJzZWQuZnJvbnQubGVuZ3RoID4gNTAgPyBcIi4uLlwiIDogXCJcIn1cIi4gT25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSB3aWxsIGJlIHVzZWQuYCxcbiAgICAgICAgICAgICAgODAwMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGR1cGxpY2F0ZVdhcm5pbmdzLmFkZChkdXBsaWNhdGVLZXkpO1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgRHVwbGljYXRlIGZsYXNoY2FyZCBkZXRlY3RlZDogXCIke3BhcnNlZC5mcm9udH1cIiBpbiBkZWNrIFwiJHtkZWNrLm5hbWV9XCJgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBkdXBsaWNhdGVcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgYFByb2Nlc3NpbmcgZmxhc2hjYXJkOiBcIiR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCA1MCl9Li4uXCJgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBHZW5lcmF0ZWQgSUQ6ICR7Zmxhc2hjYXJkSWR9IChmcm9tIGZyb250OiBcIiR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCAzMCl9Li4uXCIgKyBkZWNrOiAke2RlY2suaWR9KWAsXG4gICAgICApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgRXhpc3RpbmcgY2FyZCBmb3VuZDpgLCBleGlzdGluZ0NhcmQgPyBcIllFU1wiIDogXCJOT1wiKTtcblxuICAgICAgaWYgKGV4aXN0aW5nQ2FyZCkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgIGBFeGlzdGluZyBjYXJkIC0gSUQ6ICR7ZXhpc3RpbmdDYXJkLmlkfSwgRnJvbnQ6IFwiJHtleGlzdGluZ0NhcmQuZnJvbnQuc3Vic3RyaW5nKDAsIDMwKX0uLi5cIiwgSGFzaDogJHtleGlzdGluZ0NhcmQuY29udGVudEhhc2h9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcHJvY2Vzc2VkSWRzLmFkZChmbGFzaGNhcmRJZCk7XG4gICAgICBhd2FpdCB5aWVsZEV2ZXJ5KGkpO1xuICAgICAgaWYgKGV4aXN0aW5nQ2FyZCkge1xuICAgICAgICAvLyBVcGRhdGUgaWYgY29udGVudCBoYXMgY2hhbmdlZFxuICAgICAgICBpZiAoZXhpc3RpbmdDYXJkLmNvbnRlbnRIYXNoICE9PSBjb250ZW50SGFzaCkge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgQ29udGVudCBjaGFuZ2VkLCB1cGRhdGluZyBmbGFzaGNhcmQ6ICR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCAzMCl9Li4uYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJhdGNoT3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgICAgICBmbGFzaGNhcmRJZDogZXhpc3RpbmdDYXJkLmlkLFxuICAgICAgICAgICAgdXBkYXRlczoge1xuICAgICAgICAgICAgICBmcm9udDogcGFyc2VkLmZyb250LFxuICAgICAgICAgICAgICBiYWNrOiBwYXJzZWQuYmFjayxcbiAgICAgICAgICAgICAgdHlwZTogcGFyc2VkLnR5cGUsXG4gICAgICAgICAgICAgIGNvbnRlbnRIYXNoOiBjb250ZW50SGFzaCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBObyBjb250ZW50IGNoYW5nZSwgc2tpcHBpbmcgdXBkYXRlOiAke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgMzApfS4uLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIHJldmlldyBsb2dzIHRvIHJlc3RvcmUgcHJvZ3Jlc3NcbiAgICAgICAgY29uc3QgcHJldmlvdXNQcm9ncmVzcyA9XG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXRMYXRlc3RSZXZpZXdMb2dGb3JGbGFzaGNhcmQoZmxhc2hjYXJkSWQpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgZmxhc2hjYXJkIHdpdGggcmVzdG9yZWQgcHJvZ3Jlc3MgaWYgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IGZsYXNoY2FyZDogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPiA9IHtcbiAgICAgICAgICBpZDogZmxhc2hjYXJkSWQsXG4gICAgICAgICAgZGVja0lkOiBkZWNrLmlkLFxuICAgICAgICAgIGZyb250OiBwYXJzZWQuZnJvbnQsXG4gICAgICAgICAgYmFjazogcGFyc2VkLmJhY2ssXG4gICAgICAgICAgdHlwZTogcGFyc2VkLnR5cGUsXG4gICAgICAgICAgc291cmNlRmlsZTogZmlsZS5wYXRoLFxuICAgICAgICAgIGNvbnRlbnRIYXNoOiBjb250ZW50SGFzaCxcblxuICAgICAgICAgIC8vIFJlc3RvcmUgcHJvZ3Jlc3MgZnJvbSByZXZpZXcgbG9ncyBvciB1c2UgZGVmYXVsdHNcbiAgICAgICAgICBzdGF0ZTogcHJldmlvdXNQcm9ncmVzcz8ubmV3U3RhdGUgfHwgXCJuZXdcIixcbiAgICAgICAgICBkdWVEYXRlOiBwcmV2aW91c1Byb2dyZXNzXG4gICAgICAgICAgICA/IG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgIG5ldyBEYXRlKHByZXZpb3VzUHJvZ3Jlc3MucmV2aWV3ZWRBdCkuZ2V0VGltZSgpICtcbiAgICAgICAgICAgICAgICAgIHByZXZpb3VzUHJvZ3Jlc3MubmV3SW50ZXJ2YWxNaW51dGVzICogNjAgKiAxMDAwLFxuICAgICAgICAgICAgICApLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGludGVydmFsOiBwcmV2aW91c1Byb2dyZXNzPy5uZXdJbnRlcnZhbE1pbnV0ZXMgfHwgMCxcbiAgICAgICAgICByZXBldGl0aW9uczogcHJldmlvdXNQcm9ncmVzcz8ubmV3UmVwZXRpdGlvbnMgfHwgMCxcbiAgICAgICAgICBkaWZmaWN1bHR5OiBwcmV2aW91c1Byb2dyZXNzPy5uZXdEaWZmaWN1bHR5IHx8IDUuMCwgLy8gRlNSUyBpbml0aWFsIGRpZmZpY3VsdHlcbiAgICAgICAgICBzdGFiaWxpdHk6IHByZXZpb3VzUHJvZ3Jlc3M/Lm5ld1N0YWJpbGl0eSB8fCAyLjUsIC8vIEZTUlMgaW5pdGlhbCBzdGFiaWxpdHlcbiAgICAgICAgICBsYXBzZXM6IHByZXZpb3VzUHJvZ3Jlc3M/Lm5ld0xhcHNlcyB8fCAwLFxuICAgICAgICAgIGxhc3RSZXZpZXdlZDogcHJldmlvdXNQcm9ncmVzcz8ucmV2aWV3ZWRBdCB8fCBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChwcmV2aW91c1Byb2dyZXNzKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBSZXN0b3JpbmcgZmxhc2hjYXJkIHByb2dyZXNzIGZyb20gcmV2aWV3IGxvZ3M6ICR7Zmxhc2hjYXJkLmZyb250fSAoc3RhdGU6ICR7cHJldmlvdXNQcm9ncmVzcy5uZXdTdGF0ZX0sIGludGVydmFsOiAke3ByZXZpb3VzUHJvZ3Jlc3MubmV3SW50ZXJ2YWxNaW51dGVzfSlgLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBOb3RpZnkgdXNlciB0aGF0IHByb2dyZXNzIHdhcyByZXN0b3JlZFxuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbj8uc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICBgXHUyNzA1IFByb2dyZXNzIHJlc3RvcmVkIGZvciBmbGFzaGNhcmQ6IFwiJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDQwKX0ke3BhcnNlZC5mcm9udC5sZW5ndGggPiA0MCA/IFwiLi4uXCIgOiBcIlwifVwiICgke3ByZXZpb3VzUHJvZ3Jlc3MubmV3U3RhdGV9LCAke3ByZXZpb3VzUHJvZ3Jlc3MubmV3UmVwZXRpdGlvbnN9IHJldmlld3MpYCxcbiAgICAgICAgICAgICAgNTAwMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coYENyZWF0aW5nIG5ldyBmbGFzaGNhcmQ6ICR7Zmxhc2hjYXJkLmZyb250fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgYmF0Y2hPcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwiY3JlYXRlXCIsXG4gICAgICAgICAgZmxhc2hjYXJkOiBmbGFzaGNhcmQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlbGV0ZSBmbGFzaGNhcmRzIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB0aGUgZmlsZVxuICAgIGZvciAoY29uc3QgW2ZsYXNoY2FyZElkLCBleGlzdGluZ0NhcmRdIG9mIGV4aXN0aW5nQnlJZCkge1xuICAgICAgaWYgKCFwcm9jZXNzZWRJZHMuaGFzKGZsYXNoY2FyZElkKSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBEZWxldGluZyBmbGFzaGNhcmQ6ICR7ZXhpc3RpbmdDYXJkLmZyb250fWApO1xuICAgICAgICBiYXRjaE9wZXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJkZWxldGVcIixcbiAgICAgICAgICBmbGFzaGNhcmRJZDogZXhpc3RpbmdDYXJkLmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIGFsbCBiYXRjaCBvcGVyYXRpb25zXG4gICAgaWYgKGJhdGNoT3BlcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgRXhlY3V0aW5nICR7YmF0Y2hPcGVyYXRpb25zLmxlbmd0aH0gYmF0Y2ggZGF0YWJhc2Ugb3BlcmF0aW9uc2AsXG4gICAgICApO1xuICAgICAgYXdhaXQgdGhpcy5leGVjdXRlQmF0Y2hPcGVyYXRpb25zKGJhdGNoT3BlcmF0aW9ucyk7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBCYXRjaCBvcGVyYXRpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgZGVjaydzIG1vZGlmaWVkIHRpbWVzdGFtcCB0byBtYXRjaCBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lICh3aXRob3V0IHNhdmUpXG4gICAgY29uc3QgdGltZXN0YW1wU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWdMb2coYFVwZGF0aW5nIGRlY2sgdGltZXN0YW1wIGZvcjogJHtkZWNrLm5hbWV9YCk7XG4gICAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZURlY2tUaW1lc3RhbXBXaXRob3V0U2F2ZShcbiAgICAgICAgZGVjay5pZCxcbiAgICAgICAgZmlsZU1vZGlmaWVkVGltZS50b0lTT1N0cmluZygpLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYERlY2sgdGltZXN0YW1wIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgZGVjayB0aW1lc3RhbXAgZm9yICR7ZGVjay5uYW1lfTpgLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQ2hlY2tpbmcgZm9yIGR1cGxpY2F0ZXMgaW4gZGVjazogJHtkZWNrLm5hbWV9YCk7XG4gICAgICBhd2FpdCB0aGlzLmNoZWNrRm9yRHVwbGljYXRlc0luRGVjayhkZWNrLmlkKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYER1cGxpY2F0ZSBjaGVjayBjb21wbGV0ZWQgZm9yIGRlY2s6ICR7ZGVjay5uYW1lfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY2hlY2sgZHVwbGljYXRlcyBmb3IgJHtkZWNrLm5hbWV9OmAsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVzdGFtcFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRpbWVzdGFtcFN0YXJ0VGltZTtcblxuICAgIGNvbnN0IHRvdGFsRGVja1N5bmNUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBkZWNrU3luY1N0YXJ0VGltZTtcbiAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgYFN5bmMgY29tcGxldGVkIGZvciBkZWNrOiAke2RlY2submFtZX0gaW4gJHt0aGlzLmZvcm1hdFRpbWUodG90YWxEZWNrU3luY1RpbWUpfSAoJHtwYXJzZWRDYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMsICR7YmF0Y2hPcGVyYXRpb25zLmxlbmd0aH0gb3BlcmF0aW9ucywgY2xlYW51cDogJHt0aGlzLmZvcm1hdFRpbWUodGltZXN0YW1wVGltZSl9KSAtIERCIHNhdmUgZGVmZXJyZWRgLFxuICAgICk7XG4gICAgeWllbGRUb1VJKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGRlY2sgZm9yIGEgc2luZ2xlIGZpbGUgd2l0aG91dCBydW5uaW5nIGZ1bGwgc3luY1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlRGVja0ZvckZpbGUoZmlsZVBhdGg6IHN0cmluZywgdGFnOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBmaWxlID0gdGhpcy52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHJldHVybjtcblxuICAgIGNvbnN0IGRlY2tOYW1lID0gZmlsZS5iYXNlbmFtZTtcbiAgICBjb25zdCBleGlzdGluZ0RlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUZpbGVwYXRoKGZpbGVQYXRoKTtcblxuICAgIGlmICghZXhpc3RpbmdEZWNrKSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGRlY2sgZm9yIHRoaXMgZmlsZVxuICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuICAgICAgY29uc3QgZmlsZUNyZWF0ZVRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQuY3RpbWUpO1xuXG4gICAgICAvLyBVc2UgdGhlIGVhcmxpZXIgb2YgZmlsZSBtb2RpZmljYXRpb24gdGltZSBvciBmaWxlIGNyZWF0aW9uIHRpbWVcbiAgICAgIGNvbnN0IGRlY2tNb2RUaW1lID1cbiAgICAgICAgZmlsZU1vZFRpbWUgPCBmaWxlQ3JlYXRlVGltZSA/IGZpbGVNb2RUaW1lIDogZmlsZUNyZWF0ZVRpbWU7XG5cbiAgICAgIGNvbnN0IGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCI+ID0ge1xuICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZURlY2tJZChmaWxlUGF0aCksXG4gICAgICAgIG5hbWU6IGRlY2tOYW1lLFxuICAgICAgICBmaWxlcGF0aDogZmlsZVBhdGgsXG4gICAgICAgIHRhZzogdGFnLFxuICAgICAgICBsYXN0UmV2aWV3ZWQ6IG51bGwsXG4gICAgICAgIGNvbmZpZzogREVGQVVMVF9ERUNLX0NPTkZJRyxcbiAgICAgICAgbW9kaWZpZWQ6IGRlY2tNb2RUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgQ3JlYXRpbmcgbmV3IGRlY2s6IFwiJHtkZWNrTmFtZX1cIiB3aXRoIElEOiAke2RlY2suaWR9LCB0YWc6ICR7dGFnfSwgZmlsZXBhdGg6ICR7ZmlsZVBhdGh9YCxcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLmRiLmNyZWF0ZURlY2soZGVjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNvbnRlbnQgaGFzaCBmb3IgZmxhc2hjYXJkIGJhY2sgY29udGVudCAoZnJvbnQgaXMgdXNlZCBmb3IgSUQpXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQ29udGVudEhhc2goYmFjazogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gYmFjay5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDE2KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGRlY2sgbmFtZSBmcm9tIGZpbGVzICh1c2UgdGhlIGZpcnN0IGZpbGUncyBuYW1lKVxuICAgKi9cbiAgcHVibGljIGV4dHJhY3REZWNrTmFtZUZyb21GaWxlcyhmaWxlczogVEZpbGVbXSk6IHN0cmluZyB7XG4gICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiR2VuZXJhbFwiO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgZmlyc3QgZmlsZSdzIGJhc2VuYW1lICh3aXRob3V0IGV4dGVuc2lvbikgYXMgZGVjayBuYW1lXG4gICAgY29uc3QgZmlyc3RGaWxlID0gZmlsZXNbMF07XG4gICAgcmV0dXJuIGZpcnN0RmlsZS5iYXNlbmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGRlY2sgbmFtZSBmcm9tIHRhZyAobGVnYWN5IG1ldGhvZCBmb3IgY29tcGF0aWJpbGl0eSlcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdERlY2tOYW1lKHRhZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZW1vdmUgI2ZsYXNoY2FyZHMgcHJlZml4XG4gICAgbGV0IG5hbWUgPSB0YWcucmVwbGFjZShcIiNmbGFzaGNhcmRzXCIsIFwiXCIpO1xuXG4gICAgLy8gSWYgdGhlcmUncyBhIHJlbWFpbmluZyBzbGFzaCwgcmVtb3ZlIGl0XG4gICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICAvLyBJZiBlbXB0eSAoanVzdCAjZmxhc2hjYXJkcyksIHJldHVybiBcIkdlbmVyYWxcIlxuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuIFwiR2VuZXJhbFwiO1xuICAgIH1cblxuICAgIC8vIFNwbGl0IGJ5IHNsYXNoZXMgYW5kIGNvbnZlcnQgdG8gdGl0bGUgY2FzZVxuICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdChcIi9cIik7XG4gICAgcmV0dXJuIHBhcnRzXG4gICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKSlcbiAgICAgIC5qb2luKFwiIC0gXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGRldGVybWluaXN0aWMgZGVjayBJRCBiYXNlZCBvbiBmaWxlcGF0aFxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlRGVja0lkKGZpbGVwYXRoPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoZmlsZXBhdGgpIHtcbiAgICAgIC8vIEdlbmVyYXRlIGRldGVybWluaXN0aWMgSUQgYmFzZWQgb24gZmlsZXBhdGhcbiAgICAgIGxldCBoYXNoID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGZpbGVwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaGFyO1xuICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICAgIH1cbiAgICAgIHJldHVybiBgZGVja18ke01hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDM2KX1gO1xuICAgIH1cbiAgICAvLyBGYWxsYmFjayB0byB0aW1lc3RhbXAtYmFzZWQgSUQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICByZXR1cm4gYGRlY2tfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHVuaXF1ZSBmbGFzaGNhcmQgSUQgdXNpbmcgaGFzaCBvZiBmcm9udCB0ZXh0IG9ubHlcbiAgICovXG4gIHB1YmxpYyBnZW5lcmF0ZUZsYXNoY2FyZElkKGZyb250VGV4dDogc3RyaW5nLCBkZWNrSWQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFVzZSBvbmx5IGZyb250IHRleHQgZm9yIElEIGdlbmVyYXRpb24gdG8gcHJlc2VydmUgcHJvZ3Jlc3MgYWNyb3NzIGRlY2sgY2hhbmdlc1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyb250VGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IGZyb250VGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICB9XG4gICAgcmV0dXJuIGBjYXJkXyR7TWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMzYpfWA7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZm9yIGR1cGxpY2F0ZSBmbGFzaGNhcmRzIGluIGEgZGVjayBhbmQgd2FybiB0aGUgdXNlclxuICAgKi9cbiAgYXN5bmMgY2hlY2tGb3JEdXBsaWNhdGVzSW5EZWNrKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZXhpc3RpbmdGbGFzaGNhcmRzID0gYXdhaXQgdGhpcy5kYi5nZXRGbGFzaGNhcmRzQnlEZWNrKGRlY2tJZCk7XG4gICAgY29uc3QgZnJvbnRUZXh0TWFwID0gbmV3IE1hcDxzdHJpbmcsIEZsYXNoY2FyZFtdPigpO1xuXG4gICAgLy8gR3JvdXAgZmxhc2hjYXJkcyBieSBmcm9udCB0ZXh0XG4gICAgZm9yIChjb25zdCBjYXJkIG9mIGV4aXN0aW5nRmxhc2hjYXJkcykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb250ID0gY2FyZC5mcm9udC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghZnJvbnRUZXh0TWFwLmhhcyhub3JtYWxpemVkRnJvbnQpKSB7XG4gICAgICAgIGZyb250VGV4dE1hcC5zZXQobm9ybWFsaXplZEZyb250LCBbXSk7XG4gICAgICB9XG4gICAgICBmcm9udFRleHRNYXAuZ2V0KG5vcm1hbGl6ZWRGcm9udCkhLnB1c2goY2FyZCk7XG4gICAgfVxuXG4gICAgLy8gRmluZCBhbmQgd2FybiBhYm91dCBkdXBsaWNhdGVzXG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5SWQoZGVja0lkKTtcbiAgICBjb25zdCBkZWNrTmFtZSA9IGRlY2s/Lm5hbWUgfHwgXCJVbmtub3duIERlY2tcIjtcblxuICAgIGZvciAoY29uc3QgW2Zyb250VGV4dCwgY2FyZHNdIG9mIGZyb250VGV4dE1hcCkge1xuICAgICAgaWYgKGNhcmRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luPy5zZXR0aW5ncz8udWk/LmVuYWJsZU5vdGljZXMpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgYFx1MjZBMFx1RkUwRiBGb3VuZCAke2NhcmRzLmxlbmd0aH0gZHVwbGljYXRlIGZsYXNoY2FyZHMgaW4gXCIke2RlY2tOYW1lfVwiOiBcIiR7Y2FyZHNbMF0uZnJvbnQuc3Vic3RyaW5nKDAsIDUwKX0ke2NhcmRzWzBdLmZyb250Lmxlbmd0aCA+IDUwID8gXCIuLi5cIiA6IFwiXCJ9XCIuIENvbnNpZGVyIHJlbW92aW5nIGR1cGxpY2F0ZXMgdG8gYXZvaWQgY29uZnVzaW9uLmAsXG4gICAgICAgICAgICAxMDAwMCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYER1cGxpY2F0ZSBmbGFzaGNhcmRzIGZvdW5kIGluIGRlY2sgXCIke2RlY2tOYW1lfVwiOiBcIiR7Y2FyZHNbMF0uZnJvbnR9XCIgKCR7Y2FyZHMubGVuZ3RofSBjb3BpZXMpYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGRlY2sgSURzIGZvciBhbGwgZmxhc2hjYXJkcyB3aGVuIGEgZGVjayBJRCBjaGFuZ2VzIChlLmcuLCBmaWxlIHJlbmFtZSlcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUZsYXNoY2FyZERlY2tJZHMoXG4gICAgb2xkRGVja0lkOiBzdHJpbmcsXG4gICAgbmV3RGVja0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZGVidWdMb2coXG4gICAgICBgVXBkYXRpbmcgZmxhc2hjYXJkIGRlY2sgSURzIGZyb20gJHtvbGREZWNrSWR9IHRvICR7bmV3RGVja0lkfWAsXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZUZsYXNoY2FyZERlY2tJZHMob2xkRGVja0lkLCBuZXdEZWNrSWQpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBVSSB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcHJldmVudGluZyBibG9ja2luZyBvcGVyYXRpb25zXG4gKi9cblxuLyoqXG4gKiBZaWVsZCBjb250cm9sIHRvIHRoZSBVSSB0aHJlYWQgdG8gcHJldmVudCBibG9ja2luZ1xuICogVXNlcyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMsIHNldFRpbWVvdXQgaW4gTm9kZS5qcyAodGVzdHMpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB5aWVsZFRvVUkoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKG51bGwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKG51bGwpLCAwKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFlpZWxkIGNvbnRyb2wgZXZlcnkgTiBpdGVyYXRpb25zIHRvIHByZXZlbnQgYmxvY2tpbmcgZHVyaW5nIGxvb3BzXG4gKiBAcGFyYW0gY3VycmVudEluZGV4IC0gQ3VycmVudCBpdGVyYXRpb24gaW5kZXhcbiAqIEBwYXJhbSB5aWVsZEludGVydmFsIC0gWWllbGQgZXZlcnkgTiBpdGVyYXRpb25zIChkZWZhdWx0OiA1MClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHlpZWxkRXZlcnkoXG4gIGN1cnJlbnRJbmRleDogbnVtYmVyLFxuICB5aWVsZEludGVydmFsOiBudW1iZXIgPSAxMDAwLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChjdXJyZW50SW5kZXggPiAwICYmIGN1cnJlbnRJbmRleCAlIHlpZWxkSW50ZXJ2YWwgPT09IDApIHtcbiAgICBhd2FpdCB5aWVsZFRvVUkoKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGUgYSBmdW5jdGlvbiB3aXRoIGF1dG9tYXRpYyB5aWVsZGluZyBmb3IgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbnNcbiAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBwcm9jZXNzb3IgLSBGdW5jdGlvbiB0byBwcm9jZXNzIGVhY2ggaXRlbVxuICogQHBhcmFtIHlpZWxkSW50ZXJ2YWwgLSBZaWVsZCBldmVyeSBOIGl0ZW1zIChkZWZhdWx0OiA1MClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NXaXRoWWllbGRpbmc8VCwgUj4oXG4gIGl0ZW1zOiBUW10sXG4gIHByb2Nlc3NvcjogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIpID0+IFIgfCBQcm9taXNlPFI+LFxuICB5aWVsZEludGVydmFsOiBudW1iZXIgPSA1MCxcbik6IFByb21pc2U8UltdPiB7XG4gIGNvbnN0IHJlc3VsdHM6IFJbXSA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IoaXRlbXNbaV0sIGkpO1xuICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuXG4gICAgYXdhaXQgeWllbGRFdmVyeShpLCB5aWVsZEludGVydmFsKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufVxuIiwgImltcG9ydCB7IE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSBcIi4uL2RhdGFiYXNlL0RhdGFiYXNlU2VydmljZVwiO1xuaW1wb3J0IHsgRGVja01hbmFnZXIgfSBmcm9tIFwiLi9EZWNrTWFuYWdlclwiO1xuaW1wb3J0IHsgeWllbGRUb1VJIH0gZnJvbSBcIi4uL3V0aWxzL3VpXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY1Byb2dyZXNzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBwZXJjZW50YWdlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY09wdGlvbnMge1xuICBmb3JjZVN5bmM/OiBib29sZWFuO1xuICBzaG93UHJvZ3Jlc3M/OiBib29sZWFuO1xuICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY1Jlc3VsdCB7XG4gIHRvdGFsRGVja3M6IG51bWJlcjtcbiAgdG90YWxGbGFzaGNhcmRzOiBudW1iZXI7XG4gIHN5bmNUaW1lOiBudW1iZXI7XG4gIHNhdmVUaW1lOiBudW1iZXI7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVycm9yPzogRXJyb3I7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWNrU3luY2hyb25pemVyIHtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2VTZXJ2aWNlO1xuICBwcml2YXRlIGRlY2tNYW5hZ2VyOiBEZWNrTWFuYWdlcjtcbiAgcHJpdmF0ZSBpc1N5bmNpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBkZWJ1Z0xvZzogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gIHByaXZhdGUgcGVyZm9ybWFuY2VMb2c6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZGI6IERhdGFiYXNlU2VydmljZSxcbiAgICBkZWNrTWFuYWdlcjogRGVja01hbmFnZXIsXG4gICAgZGVidWdMb2c6IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuICAgIHBlcmZvcm1hbmNlTG9nOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLmRiID0gZGI7XG4gICAgdGhpcy5kZWNrTWFuYWdlciA9IGRlY2tNYW5hZ2VyO1xuICAgIHRoaXMuZGVidWdMb2cgPSBkZWJ1Z0xvZztcbiAgICB0aGlzLnBlcmZvcm1hbmNlTG9nID0gcGVyZm9ybWFuY2VMb2c7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBzeW5jIG9wZXJhdGlvbiBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3NcbiAgICovXG4gIGdldCBpc0luUHJvZ3Jlc3MoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNTeW5jaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB0aW1lIGR1cmF0aW9uIGluIGh1bWFuLXJlYWRhYmxlIGZvcm1hdFxuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRUaW1lKG1zOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChtcyA8IDEwMDApIHtcbiAgICAgIHJldHVybiBgJHttcy50b0ZpeGVkKDIpfW1zYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAkeyhtcyAvIDEwMDApLnRvRml4ZWQoMil9c2A7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gaW5pdGlhbCBzeW5jIHdpdGggZ3JhY2VmdWwgZXJyb3IgaGFuZGxpbmdcbiAgICovXG4gIGFzeW5jIHBlcmZvcm1Jbml0aWFsU3luYygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlN0YXJ0aW5nIGluaXRpYWwgc3luYy4uLlwiKTtcblxuICAgICAgLy8gQWRkIGRlbGF5IHRvIGVuc3VyZSB3b3Jrc3BhY2UgaXMgZnVsbHkgcmVhZHlcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApKTtcblxuICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU3luYyh7IGZvcmNlU3luYzogZmFsc2UsIHNob3dQcm9ncmVzczogdHJ1ZSB9KTtcblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIkluaXRpYWwgc3luYyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW5pdGlhbCBzeW5jIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgLy8gRG9uJ3QgdGhyb3cgLSBsZXQgdGhlIGFwcCBjb250aW51ZSB3b3JraW5nIGV2ZW4gaWYgaW5pdGlhbCBzeW5jIGZhaWxzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1haW4gc3luYyBvcGVyYXRpb24gLSBjb29yZGluYXRlcyBkZWNrIGRpc2NvdmVyeSBhbmQgZmxhc2hjYXJkIHN5bmNocm9uaXphdGlvblxuICAgKi9cbiAgYXN5bmMgcGVyZm9ybVN5bmMob3B0aW9uczogU3luY09wdGlvbnMgPSB7fSk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuICAgIGNvbnN0IHsgZm9yY2VTeW5jID0gZmFsc2UsIHNob3dQcm9ncmVzcyA9IGZhbHNlLCBvblByb2dyZXNzIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKHRoaXMuaXNTeW5jaW5nKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiU3luYyBhbHJlYWR5IGluIHByb2dyZXNzLCBza2lwcGluZy4uLlwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmMgYWxyZWFkeSBpbiBwcm9ncmVzc1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzU3luY2luZyA9IHRydWU7XG4gICAgY29uc3Qgc3luY1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBQZXJmb3JtaW5nICR7Zm9yY2VTeW5jID8gXCJmb3JjZWQgXCIgOiBcIlwifXN5bmMgb2YgZGVja3MgYW5kIGZsYXNoY2FyZHMuLi5gLFxuICAgICAgKTtcblxuICAgICAgLy8gU3RlcCAxOiBTeW5jIGFsbCBkZWNrc1xuICAgICAgaWYgKHNob3dQcm9ncmVzcyAmJiBvblByb2dyZXNzKSB7XG4gICAgICAgIG9uUHJvZ3Jlc3MoeyBtZXNzYWdlOiBcIlx1RDgzRFx1REQwRCBEaXNjb3ZlcmluZyBkZWNrcy4uLlwiLCBwZXJjZW50YWdlOiAxMCB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVja3NTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIC8vIGF3YWl0IHlpZWxkVG9VSSgpO1xuICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRGVja3MoKTtcbiAgICAgIGNvbnN0IGRlY2tzVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZGVja3NTdGFydFRpbWU7XG5cbiAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgIGBEZWNrIGRpc2NvdmVyeSBjb21wbGV0ZWQgaW4gJHt0aGlzLmZvcm1hdFRpbWUoZGVja3NUaW1lKX1gLFxuICAgICAgKTtcblxuICAgICAgLy8gU3RlcCAyOiBHZXQgYWxsIGRlY2tzIGFuZCBwcmVwYXJlIGZvciBmbGFzaGNhcmQgc3luY1xuICAgICAgLy8gYXdhaXQgeWllbGRUb1VJKCk7XG4gICAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja3MoKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBGb3VuZCAke2RlY2tzLmxlbmd0aH0gZGVja3MgYWZ0ZXIgc3luYzpgLFxuICAgICAgICBkZWNrcy5tYXAoKGQpID0+IGQubmFtZSksXG4gICAgICApO1xuXG4gICAgICBpZiAoc2hvd1Byb2dyZXNzICYmIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgb25Qcm9ncmVzcyh7XG4gICAgICAgICAgbWVzc2FnZTogYFx1RDgzRFx1RENEQSBQcm9jZXNzaW5nICR7ZGVja3MubGVuZ3RofSBkZWNrcy4uLmAsXG4gICAgICAgICAgcGVyY2VudGFnZTogMjAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGVwIDM6IFN5bmMgZmxhc2hjYXJkcyBmb3IgZWFjaCBkZWNrXG4gICAgICBsZXQgdG90YWxGbGFzaGNhcmRzID0gMDtcbiAgICAgIGNvbnN0IGZsYXNoY2FyZFN5bmNTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNrID0gZGVja3NbaV07XG4gICAgICAgIGNvbnN0IGRlY2tTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgICAgICAgaWYgKHNob3dQcm9ncmVzcyAmJiBvblByb2dyZXNzKSB7XG4gICAgICAgICAgY29uc3QgZGVja1Byb2dyZXNzID0gMjAgKyAoaSAvIGRlY2tzLmxlbmd0aCkgKiA3MDtcbiAgICAgICAgICBvblByb2dyZXNzKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBcdUQ4M0RcdURDQzQgUHJvY2Vzc2luZyBkZWNrOiAke2RlY2submFtZX0gKCR7aSArIDF9LyR7ZGVja3MubGVuZ3RofSlgLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogZGVja1Byb2dyZXNzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgJHtmb3JjZVN5bmMgPyBcIkZvcmNlIHNcIiA6IFwiU1wifXluY2luZyBmbGFzaGNhcmRzIGZvciBkZWNrOiAke2RlY2submFtZX0gKCR7ZGVjay5maWxlcGF0aH0pYCxcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLnN5bmNGbGFzaGNhcmRzRm9yRGVjayhkZWNrLmZpbGVwYXRoLCBmb3JjZVN5bmMpO1xuICAgICAgICBhd2FpdCB5aWVsZFRvVUkoKTtcblxuICAgICAgICAvLyBUcmFjayBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgICAgIGNvbnN0IGZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVjay5pZCk7XG4gICAgICAgIGNvbnN0IGRlY2tUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBkZWNrU3RhcnRUaW1lO1xuICAgICAgICB0b3RhbEZsYXNoY2FyZHMgKz0gZmxhc2hjYXJkcy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgICBgRGVjayAke2RlY2submFtZX0gcHJvY2Vzc2VkIGluICR7dGhpcy5mb3JtYXRUaW1lKGRlY2tUaW1lKX0gLSAke2ZsYXNoY2FyZHMubGVuZ3RofSBmbGFzaGNhcmRzYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RlcCA0OiBTYXZlIGRhdGFiYXNlXG4gICAgICBpZiAoc2hvd1Byb2dyZXNzICYmIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgb25Qcm9ncmVzcyh7IG1lc3NhZ2U6IFwiXHVEODNEXHVEQ0JFIFNhdmluZyBkYXRhYmFzZS4uLlwiLCBwZXJjZW50YWdlOiA5NSB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlNhdmluZyBkYXRhYmFzZSBhZnRlciBwcm9jZXNzaW5nIGFsbCBkZWNrcy4uLlwiKTtcbiAgICAgIGNvbnN0IHNhdmVTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgYXdhaXQgeWllbGRUb1VJKCk7XG4gICAgICBhd2FpdCB0aGlzLmRiLnNhdmUoKTtcblxuICAgICAgY29uc3Qgc2F2ZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHNhdmVTdGFydFRpbWU7XG5cbiAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRGF0YWJhc2Ugc2F2ZWQgaW4gJHt0aGlzLmZvcm1hdFRpbWUoc2F2ZVRpbWUpfSBhZnRlciBwcm9jZXNzaW5nICR7ZGVja3MubGVuZ3RofSBkZWNrc2AsXG4gICAgICApO1xuXG4gICAgICAvLyBTdGVwIDU6IENhbGN1bGF0ZSBmaW5hbCBtZXRyaWNzXG4gICAgICBjb25zdCBmbGFzaGNhcmRTeW5jVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZmxhc2hjYXJkU3luY1N0YXJ0VGltZTtcbiAgICAgIGNvbnN0IHRvdGFsU3luY1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN5bmNTdGFydFRpbWU7XG5cbiAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgIGBUb3RhbCBzeW5jIGNvbXBsZXRlZCBpbiAke3RoaXMuZm9ybWF0VGltZSh0b3RhbFN5bmNUaW1lKX0gLSAke3RvdGFsRmxhc2hjYXJkc30gZmxhc2hjYXJkcyBhY3Jvc3MgJHtkZWNrcy5sZW5ndGh9IGRlY2tzYCxcbiAgICAgICk7XG5cbiAgICAgIC8vIFBlcmZvcm1hbmNlIHN1bW1hcnlcbiAgICAgIGlmIChkZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGF2Z0RlY2tUaW1lID0gZmxhc2hjYXJkU3luY1RpbWUgLyBkZWNrcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF2Z0ZsYXNoY2FyZFRpbWUgPVxuICAgICAgICAgIHRvdGFsRmxhc2hjYXJkcyA+IDAgPyBmbGFzaGNhcmRTeW5jVGltZSAvIHRvdGFsRmxhc2hjYXJkcyA6IDA7XG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgICAgYFBlcmZvcm1hbmNlOiAke3RoaXMuZm9ybWF0VGltZShhdmdEZWNrVGltZSl9L2RlY2ssICR7dGhpcy5mb3JtYXRUaW1lKGF2Z0ZsYXNoY2FyZFRpbWUpfS9mbGFzaGNhcmRgLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5hbCBwcm9ncmVzcyB1cGRhdGVcbiAgICAgIGlmIChzaG93UHJvZ3Jlc3MgJiYgb25Qcm9ncmVzcykge1xuICAgICAgICBvblByb2dyZXNzKHtcbiAgICAgICAgICBtZXNzYWdlOiBgXHUyNzA1IFN5bmMgY29tcGxldGUhIFByb2Nlc3NlZCAke3RvdGFsRmxhc2hjYXJkc30gZmxhc2hjYXJkcyBhY3Jvc3MgJHtkZWNrcy5sZW5ndGh9IGRlY2tzIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsU3luY1RpbWUpfSAoREIgc2F2ZWQgaW4gJHt0aGlzLmZvcm1hdFRpbWUoc2F2ZVRpbWUpfSlgLFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsRGVja3M6IGRlY2tzLmxlbmd0aCxcbiAgICAgICAgdG90YWxGbGFzaGNhcmRzLFxuICAgICAgICBzeW5jVGltZTogdG90YWxTeW5jVGltZSxcbiAgICAgICAgc2F2ZVRpbWUsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRXJyb3IgZHVyaW5nIHN5bmM6XCIsIGVycm9yKTtcblxuICAgICAgaWYgKHNob3dQcm9ncmVzcyAmJiBvblByb2dyZXNzKSB7XG4gICAgICAgIG9uUHJvZ3Jlc3Moe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiXHUyNzRDIFN5bmMgZmFpbGVkIC0gY2hlY2sgY29uc29sZSBmb3IgZGV0YWlsc1wiLFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbERlY2tzOiAwLFxuICAgICAgICB0b3RhbEZsYXNoY2FyZHM6IDAsXG4gICAgICAgIHN5bmNUaW1lOiBwZXJmb3JtYW5jZS5ub3coKSAtIHN5bmNTdGFydFRpbWUsXG4gICAgICAgIHNhdmVUaW1lOiAwLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGFzIEVycm9yLFxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc1N5bmNpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3luYyBmbGFzaGNhcmRzIGZvciBhIHNwZWNpZmljIGRlY2tcbiAgICovXG4gIGFzeW5jIHN5bmNEZWNrKGRlY2tOYW1lOiBzdHJpbmcsIGZvcmNlU3luYzogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhgU3luY2luZyBzcGVjaWZpYyBkZWNrOiAke2RlY2tOYW1lfWApO1xuICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGRlY2tOYW1lLCBmb3JjZVN5bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRlY2sgZm9yIGEgc3BlY2lmaWMgZmlsZVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlRGVja0ZvckZpbGUoZmlsZVBhdGg6IHN0cmluZywgdGFnOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmRlYnVnTG9nKGBDcmVhdGluZyBkZWNrIGZvciBmaWxlOiAke2ZpbGVQYXRofSB3aXRoIHRhZzogJHt0YWd9YCk7XG4gICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5jcmVhdGVEZWNrRm9yRmlsZShmaWxlUGF0aCwgdGFnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZmxhc2hjYXJkIGRlY2sgSURzIHdoZW4gYSBkZWNrIGlzIHJlbmFtZWRcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUZsYXNoY2FyZERlY2tJZHMoXG4gICAgb2xkRGVja0lkOiBzdHJpbmcsXG4gICAgbmV3RGVja0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZGVidWdMb2coXG4gICAgICBgVXBkYXRpbmcgZmxhc2hjYXJkIGRlY2sgSURzIGZyb20gJHtvbGREZWNrSWR9IHRvICR7bmV3RGVja0lkfWAsXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLnVwZGF0ZUZsYXNoY2FyZERlY2tJZHMob2xkRGVja0lkLCBuZXdEZWNrSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzeW5jIHN0YXRpc3RpY3NcbiAgICovXG4gIGdldFN5bmNTdGF0cygpOiB7IGlzSW5Qcm9ncmVzczogYm9vbGVhbiB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNJblByb2dyZXNzOiB0aGlzLmlzU3luY2luZyxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRmxhc2hjYXJkLCBGbGFzaGNhcmRTdGF0ZSB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRlNSU1Byb2ZpbGUsXG4gIGdldFdlaWdodHNGb3JQcm9maWxlLFxuICBnZXRNaW5NaW51dGVzRm9yUHJvZmlsZSxcbiAgZ2V0TWF4SW50ZXJ2YWxEYXlzRm9yUHJvZmlsZSxcbiAgdmFsaWRhdGVGU1JTV2VpZ2h0cyxcbiAgdmFsaWRhdGVQcm9maWxlLFxuICB2YWxpZGF0ZVJlcXVlc3RSZXRlbnRpb24sXG59IGZyb20gXCIuL2ZzcnMtd2VpZ2h0c1wiO1xuXG5leHBvcnQgdHlwZSBSYXRpbmdMYWJlbCA9IFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGU1JTUGFyYW1ldGVycyB7XG4gIHJlcXVlc3RSZXRlbnRpb246IG51bWJlcjsgLy8gdGFyZ2V0IHJldGVudGlvbiByYXRlICgwLDEpXG4gIHByb2ZpbGU6IEZTUlNQcm9maWxlOyAvLyBcIklOVEVOU0lWRVwiIHwgXCJTVEFOREFSRFwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRlNSU0NhcmQge1xuICBzdGFiaWxpdHk6IG51bWJlcjtcbiAgZGlmZmljdWx0eTogbnVtYmVyO1xuICBlbGFwc2VkRGF5czogbnVtYmVyO1xuICByZXBzOiBudW1iZXI7XG4gIGxhcHNlczogbnVtYmVyO1xuICBzdGF0ZTogRlNSU1N0YXRlO1xuICBsYXN0UmV2aWV3OiBEYXRlO1xufVxuXG5leHBvcnQgdHlwZSBGU1JTU3RhdGUgPSBcIk5ld1wiIHwgXCJSZXZpZXdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTY2hlZHVsaW5nQ2FyZCB7XG4gIGR1ZURhdGU6IHN0cmluZztcbiAgaW50ZXJ2YWw6IG51bWJlcjsgLy8gaW4gbWludXRlc1xuICByZXBldGl0aW9uczogbnVtYmVyO1xuICBzdGFiaWxpdHk6IG51bWJlcjtcbiAgZGlmZmljdWx0eTogbnVtYmVyO1xuICBzdGF0ZTogRmxhc2hjYXJkU3RhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NoZWR1bGluZ0luZm8ge1xuICBhZ2FpbjogU2NoZWR1bGluZ0NhcmQ7XG4gIGhhcmQ6IFNjaGVkdWxpbmdDYXJkO1xuICBnb29kOiBTY2hlZHVsaW5nQ2FyZDtcbiAgZWFzeTogU2NoZWR1bGluZ0NhcmQ7XG59XG5cbi8vIENvbnN0YW50cyBmb3IgZXhhY3QgY2FsY3VsYXRpb25zXG5jb25zdCBNSUxMSVNFQ09ORFNfUEVSX0RBWSA9IDg2NDAwMDAwO1xuY29uc3QgTUlOVVRFU19QRVJfREFZID0gMTQ0MDtcbmNvbnN0IFNFQ09ORFNfUEVSX01JTlVURSA9IDYwO1xuY29uc3QgTUlMTElTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MDAwMDtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIFVJLW9ubHkgZm9ybWF0dGluZyAtIG5ldmVyIHVzZSBpbiBjYWxjdWxhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kRm9yRGlzcGxheSh2YWx1ZTogbnVtYmVyLCBkZWNpbWFsczogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoZGVjaW1hbHMpO1xufVxuXG5leHBvcnQgY2xhc3MgRlNSUyB7XG4gIHByaXZhdGUgcGFyYW1zOiBGU1JTUGFyYW1ldGVycztcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM/OiBQYXJ0aWFsPEZTUlNQYXJhbWV0ZXJzPikge1xuICAgIHRoaXMucGFyYW1zID0ge1xuICAgICAgcmVxdWVzdFJldGVudGlvbjogMC45LFxuICAgICAgcHJvZmlsZTogXCJTVEFOREFSRFwiLFxuICAgICAgLi4ucGFyYW1zLFxuICAgIH07XG4gICAgdGhpcy52YWxpZGF0ZVBhcmFtZXRlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgRlNSUyBwYXJhbWV0ZXJzXG4gICAqL1xuICB1cGRhdGVQYXJhbWV0ZXJzKHBhcmFtczogUGFydGlhbDxGU1JTUGFyYW1ldGVycz4pIHtcbiAgICB0aGlzLnBhcmFtcyA9IHsgLi4udGhpcy5wYXJhbXMsIC4uLnBhcmFtcyB9O1xuICAgIHRoaXMudmFsaWRhdGVQYXJhbWV0ZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcHJvZmlsZSB3ZWlnaHRzIChoYXJkY29kZWQsIG5vdCB1c2VyLWVkaXRhYmxlKVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRXZWlnaHRzKCk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gZ2V0V2VpZ2h0c0ZvclByb2ZpbGUodGhpcy5wYXJhbXMucHJvZmlsZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1pbmltdW0gbWludXRlcyBmb3IgY3VycmVudCBwcm9maWxlIChoYXJkY29kZWQpXG4gICAqL1xuICBwcml2YXRlIGdldE1pbk1pbnV0ZXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZ2V0TWluTWludXRlc0ZvclByb2ZpbGUodGhpcy5wYXJhbXMucHJvZmlsZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1heGltdW0gaW50ZXJ2YWwgZGF5cyBmb3IgY3VycmVudCBwcm9maWxlIChoYXJkY29kZWQpXG4gICAqL1xuICBwcml2YXRlIGdldE1heEludGVydmFsRGF5cygpOiBudW1iZXIge1xuICAgIHJldHVybiBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlKHRoaXMucGFyYW1zLnByb2ZpbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIEZTUlMgcGFyYW1ldGVyc1xuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZVBhcmFtZXRlcnMoKSB7XG4gICAgaWYgKCF2YWxpZGF0ZVByb2ZpbGUodGhpcy5wYXJhbXMucHJvZmlsZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgcHJvZmlsZTogJHt0aGlzLnBhcmFtcy5wcm9maWxlfSwgbXVzdCBiZSBcIklOVEVOU0lWRVwiIG9yIFwiU1RBTkRBUkRcImAsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlUmVxdWVzdFJldGVudGlvbih0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgcmVxdWVzdFJldGVudGlvbiBtdXN0IGJlIGluIHJhbmdlICgwLjUsIDAuOTk1KSwgZ290ICR7dGhpcy5wYXJhbXMucmVxdWVzdFJldGVudGlvbn1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBoYXJkY29kZWQgd2VpZ2h0cyBmb3IgY3VycmVudCBwcm9maWxlXG4gICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuZ2V0V2VpZ2h0cygpO1xuICAgIGlmICghdmFsaWRhdGVGU1JTV2VpZ2h0cyh3ZWlnaHRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgSW52YWxpZCBoYXJkY29kZWQgd2VpZ2h0cyBmb3IgcHJvZmlsZSAke3RoaXMucGFyYW1zLnByb2ZpbGV9YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbmV4dCBzY2hlZHVsaW5nIGluZm8gZm9yIGEgZmxhc2hjYXJkIGJhc2VkIG9uIHJldmlldyBkaWZmaWN1bHR5XG4gICAqL1xuICBnZXRTY2hlZHVsaW5nSW5mbyhjYXJkOiBGbGFzaGNhcmQpOiBTY2hlZHVsaW5nSW5mbyB7XG4gICAgY29uc3QgZnNyc0NhcmQgPSB0aGlzLmZsYXNoY2FyZFRvRlNSUyhjYXJkKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFnYWluOiB0aGlzLmNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKGZzcnNDYXJkLCAxLCBub3cpLFxuICAgICAgaGFyZDogdGhpcy5jYWxjdWxhdGVTY2hlZHVsZUZvclJhdGluZyhmc3JzQ2FyZCwgMiwgbm93KSxcbiAgICAgIGdvb2Q6IHRoaXMuY2FsY3VsYXRlU2NoZWR1bGVGb3JSYXRpbmcoZnNyc0NhcmQsIDMsIG5vdyksXG4gICAgICBlYXN5OiB0aGlzLmNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKGZzcnNDYXJkLCA0LCBub3cpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgZmxhc2hjYXJkIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBkaWZmaWN1bHR5XG4gICAqL1xuICB1cGRhdGVDYXJkKGNhcmQ6IEZsYXNoY2FyZCwgZGlmZmljdWx0eTogUmF0aW5nTGFiZWwpOiBGbGFzaGNhcmQge1xuICAgIGNvbnN0IHJhdGluZyA9IHRoaXMuZGlmZmljdWx0eVRvUmF0aW5nKGRpZmZpY3VsdHkpO1xuICAgIGNvbnN0IGZzcnNDYXJkID0gdGhpcy5mbGFzaGNhcmRUb0ZTUlMoY2FyZCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuICAgIC8vIENhbGN1bGF0ZSBGU1JTIHVwZGF0ZSBvbmNlIGFuZCByZXVzZVxuICAgIGNvbnN0IHVwZGF0ZWRGc3JzQ2FyZCA9IHRoaXMuY2FsY3VsYXRlVXBkYXRlZEZzcnNDYXJkKFxuICAgICAgZnNyc0NhcmQsXG4gICAgICByYXRpbmcsXG4gICAgICBub3csXG4gICAgKTtcbiAgICBsZXQgaW50ZXJ2YWxNaW51dGVzOiBudW1iZXI7XG5cbiAgICAvLyBGb3IgXCJBZ2FpblwiIHJhdGluZyAoMSksIGFsd2F5cyB1c2UgbWluaW11bSBpbnRlcnZhbCByZWdhcmRsZXNzIG9mIHN0YWJpbGl0eVxuICAgIGlmIChyYXRpbmcgPT09IDEpIHtcbiAgICAgIGludGVydmFsTWludXRlcyA9IHRoaXMuZ2V0TWluTWludXRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnZhbE1pbnV0ZXMgPSB0aGlzLm5leHRJbnRlcnZhbE1pbnV0ZXModXBkYXRlZEZzcnNDYXJkLnN0YWJpbGl0eSk7XG4gICAgfVxuICAgIGNvbnN0IHNjaGVkdWxlID0gdGhpcy5jcmVhdGVTY2hlZHVsaW5nQ2FyZChcbiAgICAgIGludGVydmFsTWludXRlcyxcbiAgICAgIHVwZGF0ZWRGc3JzQ2FyZCxcbiAgICAgIG5vdyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNhcmQsXG4gICAgICBzdGF0ZTogc2NoZWR1bGUuc3RhdGUsXG4gICAgICBkdWVEYXRlOiBzY2hlZHVsZS5kdWVEYXRlLFxuICAgICAgaW50ZXJ2YWw6IHNjaGVkdWxlLmludGVydmFsLFxuICAgICAgZGlmZmljdWx0eTogc2NoZWR1bGUuZGlmZmljdWx0eSwgLy8gU3RvcmUgRlNSUyBkaWZmaWN1bHR5IHdpdGggZnVsbCBwcmVjaXNpb25cbiAgICAgIHJlcGV0aXRpb25zOiBzY2hlZHVsZS5yZXBldGl0aW9ucyxcbiAgICAgIHN0YWJpbGl0eTogc2NoZWR1bGUuc3RhYmlsaXR5LCAvLyBTdG9yZSBzdGFiaWxpdHkgd2l0aCBmdWxsIHByZWNpc2lvblxuICAgICAgbGFwc2VzOiB1cGRhdGVkRnNyc0NhcmQubGFwc2VzLFxuICAgICAgbGFzdFJldmlld2VkOiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgIG1vZGlmaWVkOiBub3cudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVVcGRhdGVkRnNyc0NhcmQoXG4gICAgY2FyZDogRlNSU0NhcmQsXG4gICAgcmF0aW5nOiBudW1iZXIsXG4gICAgbm93OiBEYXRlLFxuICApOiBGU1JTQ2FyZCB7XG4gICAgaWYgKGNhcmQuc3RhdGUgPT09IFwiTmV3XCIgfHwgY2FyZC5zdGFiaWxpdHkgPT09IDAgfHwgY2FyZC5kaWZmaWN1bHR5ID09PSAwKSB7XG4gICAgICAvLyBJbml0aWFsaXphdGlvblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2FyZCxcbiAgICAgICAgc3RhYmlsaXR5OiB0aGlzLmluaXRTdGFiaWxpdHkocmF0aW5nKSxcbiAgICAgICAgZGlmZmljdWx0eTogdGhpcy5pbml0RGlmZmljdWx0eShyYXRpbmcpLFxuICAgICAgICByZXBzOiAxLFxuICAgICAgICBsYXBzZXM6IHJhdGluZyA9PT0gMSA/IDEgOiAwLFxuICAgICAgICBsYXN0UmV2aWV3OiBub3csXG4gICAgICAgIHN0YXRlOiBcIlJldmlld1wiLFxuICAgICAgICBlbGFwc2VkRGF5czogMCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN1YnNlcXVlbnQgcmV2aWV3c1xuICAgICAgY29uc3QgbmV3Q2FyZCA9IHsgLi4uY2FyZCB9O1xuICAgICAgbmV3Q2FyZC5lbGFwc2VkRGF5cyA9IHRoaXMuZ2V0RWxhcHNlZERheXMoY2FyZC5sYXN0UmV2aWV3LCBub3cpO1xuICAgICAgbmV3Q2FyZC5yZXBzICs9IDE7XG5cbiAgICAgIGlmIChyYXRpbmcgPT09IDEpIHtcbiAgICAgICAgbmV3Q2FyZC5sYXBzZXMgKz0gMTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgY3VycmVudCBzdGFiaWxpdHkgYmVmb3JlIHVzaW5nIGl0XG4gICAgICBpZiAoIWlzRmluaXRlKG5ld0NhcmQuc3RhYmlsaXR5KSB8fCBuZXdDYXJkLnN0YWJpbGl0eSA8PSAwKSB7XG4gICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5pbml0U3RhYmlsaXR5KDMpOyAvLyBEZWZhdWx0IHRvIFwiZ29vZFwiIHJhdGluZyBzdGFiaWxpdHlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmV0cmlldmFiaWxpdHkgPSB0aGlzLmZvcmdldHRpbmdDdXJ2ZShcbiAgICAgICAgbmV3Q2FyZC5lbGFwc2VkRGF5cyxcbiAgICAgICAgbmV3Q2FyZC5zdGFiaWxpdHksXG4gICAgICApO1xuXG4gICAgICBuZXdDYXJkLmRpZmZpY3VsdHkgPSB0aGlzLm5leHREaWZmaWN1bHR5KG5ld0NhcmQuZGlmZmljdWx0eSwgcmF0aW5nKTtcbiAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5uZXh0U3RhYmlsaXR5KFxuICAgICAgICBuZXdDYXJkLmRpZmZpY3VsdHksXG4gICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5LFxuICAgICAgICByZXRyaWV2YWJpbGl0eSxcbiAgICAgICAgcmF0aW5nLFxuICAgICAgKTtcblxuICAgICAgLy8gRmluYWwgdmFsaWRhdGlvbiBvZiBjYWxjdWxhdGVkIHN0YWJpbGl0eVxuICAgICAgaWYgKCFpc0Zpbml0ZShuZXdDYXJkLnN0YWJpbGl0eSkgfHwgbmV3Q2FyZC5zdGFiaWxpdHkgPD0gMCkge1xuICAgICAgICBuZXdDYXJkLnN0YWJpbGl0eSA9IHRoaXMuaW5pdFN0YWJpbGl0eShyYXRpbmcpO1xuICAgICAgfVxuXG4gICAgICBuZXdDYXJkLmxhc3RSZXZpZXcgPSBub3c7XG4gICAgICBuZXdDYXJkLnN0YXRlID0gXCJSZXZpZXdcIjtcblxuICAgICAgcmV0dXJuIG5ld0NhcmQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVTY2hlZHVsZUZvclJhdGluZyhcbiAgICBjYXJkOiBGU1JTQ2FyZCxcbiAgICByYXRpbmc6IG51bWJlcixcbiAgICBub3c6IERhdGUsXG4gICk6IFNjaGVkdWxpbmdDYXJkIHtcbiAgICBjb25zdCB1cGRhdGVkQ2FyZCA9IHRoaXMuY2FsY3VsYXRlVXBkYXRlZEZzcnNDYXJkKGNhcmQsIHJhdGluZywgbm93KTtcblxuICAgIC8vIFZhbGlkYXRlIHVwZGF0ZWQgY2FyZCBzdGFiaWxpdHlcbiAgICBpZiAoIWlzRmluaXRlKHVwZGF0ZWRDYXJkLnN0YWJpbGl0eSkgfHwgdXBkYXRlZENhcmQuc3RhYmlsaXR5IDw9IDApIHtcbiAgICAgIHVwZGF0ZWRDYXJkLnN0YWJpbGl0eSA9IHRoaXMuaW5pdFN0YWJpbGl0eShyYXRpbmcpO1xuICAgIH1cblxuICAgIGxldCBpbnRlcnZhbE1pbnV0ZXM6IG51bWJlcjtcblxuICAgIC8vIEZvciBcIkFnYWluXCIgcmF0aW5nICgxKSwgYWx3YXlzIHVzZSBtaW5pbXVtIGludGVydmFsIHJlZ2FyZGxlc3Mgb2Ygc3RhYmlsaXR5XG4gICAgaWYgKHJhdGluZyA9PT0gMSkge1xuICAgICAgaW50ZXJ2YWxNaW51dGVzID0gdGhpcy5nZXRNaW5NaW51dGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVydmFsTWludXRlcyA9IHRoaXMubmV4dEludGVydmFsTWludXRlcyh1cGRhdGVkQ2FyZC5zdGFiaWxpdHkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNjaGVkdWxpbmdDYXJkKGludGVydmFsTWludXRlcywgdXBkYXRlZENhcmQsIG5vdyk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNjaGVkdWxpbmdDYXJkKFxuICAgIGludGVydmFsTWludXRlczogbnVtYmVyLFxuICAgIGNhcmQ6IEZTUlNDYXJkLFxuICAgIG5vdzogRGF0ZSxcbiAgKTogU2NoZWR1bGluZ0NhcmQge1xuICAgIGlmICghaXNGaW5pdGUobm93LmdldFRpbWUoKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBwcm92aWRlZCB0byBjcmVhdGVTY2hlZHVsaW5nQ2FyZFwiKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgZXhhY3QgbWlsbGlzZWNvbmQgY2FsY3VsYXRpb24gZm9yIG1heGltdW0gcHJlY2lzaW9uXG4gICAgY29uc3QgaW50ZXJ2YWxNaWxsaXNlY29uZHMgPSBpbnRlcnZhbE1pbnV0ZXMgKiBNSUxMSVNFQ09ORFNfUEVSX01JTlVURTtcbiAgICBjb25zdCBkdWVEYXRlID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIGludGVydmFsTWlsbGlzZWNvbmRzKTtcblxuICAgIC8vIFZhbGlkYXRlIHRoZSByZXN1bHRpbmcgZGF0ZVxuICAgIGlmICghaXNGaW5pdGUoZHVlRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIGR1ZSBkYXRlIGNhbGN1bGF0ZWQ6IGludGVydmFsTWludXRlcz0ke2ludGVydmFsTWludXRlc30sIG5vdz0ke25vdy50b0lTT1N0cmluZygpfWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkdWVEYXRlOiBkdWVEYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICBpbnRlcnZhbDogaW50ZXJ2YWxNaW51dGVzLCAvLyBTdG9yZSBmdWxsIHByZWNpc2lvbiBpbnRlcnZhbFxuICAgICAgcmVwZXRpdGlvbnM6IGNhcmQucmVwcyxcbiAgICAgIHN0YWJpbGl0eTogY2FyZC5zdGFiaWxpdHksIC8vIFN0b3JlIGZ1bGwgcHJlY2lzaW9uIHN0YWJpbGl0eVxuICAgICAgZGlmZmljdWx0eTogY2FyZC5kaWZmaWN1bHR5LCAvLyBTdG9yZSBmdWxsIHByZWNpc2lvbiBkaWZmaWN1bHR5XG4gICAgICBzdGF0ZTogdGhpcy5mc3JzU3RhdGVUb0ZsYXNoY2FyZFN0YXRlKGNhcmQuc3RhdGUpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGluaXRTdGFiaWxpdHkocmF0aW5nOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHdlaWdodHMgPSB0aGlzLmdldFdlaWdodHMoKTtcbiAgICBjb25zdCBzdGFiaWxpdHkgPSB3ZWlnaHRzW3JhdGluZyAtIDFdO1xuICAgIGNvbnN0IHJlc3VsdCA9IGlzRmluaXRlKHN0YWJpbGl0eSkgPyBzdGFiaWxpdHkgOiAwLjAxOyAvLyBBbGxvdyB2ZXJ5IHNtYWxsIHN0YWJpbGl0aWVzIGZvciBzdWItZGF5IGludGVydmFsc1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGluaXREaWZmaWN1bHR5KHJhdGluZzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5nZXRXZWlnaHRzKCk7XG4gICAgY29uc3QgdzQgPSB3ZWlnaHRzWzRdO1xuICAgIGNvbnN0IHc1ID0gd2VpZ2h0c1s1XTtcbiAgICBjb25zdCByYXRpbmdEaWZmID0gcmF0aW5nIC0gMztcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gdzQgLSB3NSAqIHJhdGluZ0RpZmY7XG5cbiAgICBjb25zdCB2YWxpZERpZmZpY3VsdHkgPSBpc0Zpbml0ZShkaWZmaWN1bHR5KSA/IGRpZmZpY3VsdHkgOiA1LjA7XG5cbiAgICAvLyBBcHBseSBjbGFtcGluZyBvbmx5IGFmdGVyIGFsbCBjYWxjdWxhdGlvbnNcbiAgICBpZiAodmFsaWREaWZmaWN1bHR5IDwgMSkgcmV0dXJuIDE7XG4gICAgaWYgKHZhbGlkRGlmZmljdWx0eSA+IDEwKSByZXR1cm4gMTA7XG4gICAgcmV0dXJuIHZhbGlkRGlmZmljdWx0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JnZXR0aW5nIGN1cnZlIGZ1bmN0aW9uIHdpdGggbWF4aW11bSBwcmVjaXNpb25cbiAgICovXG4gIHB1YmxpYyBmb3JnZXR0aW5nQ3VydmUoZWxhcHNlZERheXM6IG51bWJlciwgc3RhYmlsaXR5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICghaXNGaW5pdGUoZWxhcHNlZERheXMpIHx8ICFpc0Zpbml0ZShzdGFiaWxpdHkpIHx8IHN0YWJpbGl0eSA8PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBpbnRlcm1lZGlhdGUgY2FsY3VsYXRpb25zIHRvIGF2b2lkIHByZWNpc2lvbiBsb3NzXG4gICAgY29uc3Qgc3RhYmlsaXR5RmFjdG9yID0gOSAqIHN0YWJpbGl0eTtcbiAgICBjb25zdCBlbGFwc2VkVG9TdGFiaWxpdHlSYXRpbyA9IGVsYXBzZWREYXlzIC8gc3RhYmlsaXR5RmFjdG9yO1xuICAgIGNvbnN0IGJhc2VUZXJtID0gMSArIGVsYXBzZWRUb1N0YWJpbGl0eVJhdGlvO1xuXG4gICAgaWYgKCFpc0Zpbml0ZShiYXNlVGVybSkgfHwgYmFzZVRlcm0gPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHBvd2VyIHRlcm0gd2l0aCBmdWxsIHByZWNpc2lvblxuICAgIGNvbnN0IHBvd2VyVGVybSA9IE1hdGgucG93KGJhc2VUZXJtLCAtMSk7XG5cbiAgICByZXR1cm4gaXNGaW5pdGUocG93ZXJUZXJtKSA/IHBvd2VyVGVybSA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHJldHJpZXZhYmlsaXR5IGZvciBhIGZsYXNoY2FyZCBhdCByZXZpZXcgdGltZVxuICAgKiBAcGFyYW0gY2FyZCAtIFRoZSBmbGFzaGNhcmQgYmVpbmcgcmV2aWV3ZWRcbiAgICogQHBhcmFtIHJldmlld2VkQXQgLSBXaGVuIHRoZSByZXZpZXcgaXMgaGFwcGVuaW5nXG4gICAqIEByZXR1cm5zIFJldHJpZXZhYmlsaXR5IHZhbHVlICgwLTEpXG4gICAqL1xuICBwdWJsaWMgZ2V0UmV0cmlldmFiaWxpdHkoXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHJldmlld2VkQXQ6IERhdGUgPSBuZXcgRGF0ZSgpLFxuICApOiBudW1iZXIge1xuICAgIGlmICghY2FyZC5sYXN0UmV2aWV3ZWQgfHwgY2FyZC5zdGFiaWxpdHkgPD0gMCkge1xuICAgICAgcmV0dXJuIDAuOTsgLy8gRGVmYXVsdCBmb3IgbmV3IGNhcmRzIG9yIGludmFsaWQgc3RhYmlsaXR5XG4gICAgfVxuXG4gICAgY29uc3QgcmV2aWV3ZWRBdFRpbWUgPSByZXZpZXdlZEF0LmdldFRpbWUoKTtcbiAgICBjb25zdCBsYXN0UmV2aWV3ZWRUaW1lID0gbmV3IERhdGUoY2FyZC5sYXN0UmV2aWV3ZWQpLmdldFRpbWUoKTtcbiAgICBjb25zdCBlbGFwc2VkTWlsbGlzZWNvbmRzID0gcmV2aWV3ZWRBdFRpbWUgLSBsYXN0UmV2aWV3ZWRUaW1lO1xuXG4gICAgLy8gQ29udmVydCB0byBkYXlzIHdpdGggbWF4aW11bSBwcmVjaXNpb25cbiAgICBjb25zdCBlbGFwc2VkRGF5cyA9IE1hdGgubWF4KDAsIGVsYXBzZWRNaWxsaXNlY29uZHMgLyBNSUxMSVNFQ09ORFNfUEVSX0RBWSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JnZXR0aW5nQ3VydmUoZWxhcHNlZERheXMsIGNhcmQuc3RhYmlsaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgbmV4dCBkaWZmaWN1bHR5IHdpdGggbWF4aW11bSBwcmVjaXNpb25cbiAgICovXG4gIHByaXZhdGUgbmV4dERpZmZpY3VsdHkoZGlmZmljdWx0eTogbnVtYmVyLCByYXRpbmc6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCFpc0Zpbml0ZShkaWZmaWN1bHR5KSB8fCAhaXNGaW5pdGUocmF0aW5nKSkge1xuICAgICAgcmV0dXJuIDUuMDtcbiAgICB9XG5cbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5nZXRXZWlnaHRzKCk7XG4gICAgY29uc3QgdzYgPSB3ZWlnaHRzWzZdO1xuICAgIGNvbnN0IHJhdGluZ0RpZmYgPSByYXRpbmcgLSAzO1xuICAgIGNvbnN0IGRpZmZpY3VsdHlDaGFuZ2UgPSB3NiAqIHJhdGluZ0RpZmY7XG4gICAgY29uc3QgbmV4dEQgPSBkaWZmaWN1bHR5IC0gZGlmZmljdWx0eUNoYW5nZTtcblxuICAgIGNvbnN0IHc0ID0gd2VpZ2h0c1s0XTtcbiAgICBjb25zdCByZXZlcnRlZEQgPSB0aGlzLm1lYW5SZXZlcnNpb24odzQsIG5leHREKTtcblxuICAgIC8vIEFwcGx5IGNsYW1waW5nIG9ubHkgYWZ0ZXIgYWxsIGNhbGN1bGF0aW9uc1xuICAgIGlmIChyZXZlcnRlZEQgPCAxKSByZXR1cm4gMTtcbiAgICBpZiAocmV2ZXJ0ZWREID4gMTApIHJldHVybiAxMDtcbiAgICByZXR1cm4gcmV2ZXJ0ZWREO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYW4gcmV2ZXJzaW9uIGNhbGN1bGF0aW9uIHdpdGggbWF4aW11bSBwcmVjaXNpb25cbiAgICovXG4gIHByaXZhdGUgbWVhblJldmVyc2lvbihpbml0OiBudW1iZXIsIGN1cnJlbnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCFpc0Zpbml0ZShpbml0KSB8fCAhaXNGaW5pdGUoY3VycmVudCkpIHtcbiAgICAgIHJldHVybiBpbml0O1xuICAgIH1cblxuICAgIGNvbnN0IHdlaWdodHMgPSB0aGlzLmdldFdlaWdodHMoKTtcbiAgICBjb25zdCB3NyA9IHdlaWdodHNbN107XG4gICAgY29uc3QgaW5pdFdlaWdodCA9IHc3ICogaW5pdDtcbiAgICBjb25zdCBjdXJyZW50V2VpZ2h0ID0gKDEgLSB3NykgKiBjdXJyZW50O1xuXG4gICAgcmV0dXJuIGluaXRXZWlnaHQgKyBjdXJyZW50V2VpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBuZXh0IHN0YWJpbGl0eSB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAqL1xuICBwcml2YXRlIG5leHRTdGFiaWxpdHkoXG4gICAgZGlmZmljdWx0eTogbnVtYmVyLFxuICAgIHN0YWJpbGl0eTogbnVtYmVyLFxuICAgIHJldHJpZXZhYmlsaXR5OiBudW1iZXIsXG4gICAgcmF0aW5nOiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgLy8gVmFsaWRhdGUgaW5wdXRzXG4gICAgaWYgKFxuICAgICAgIWlzRmluaXRlKGRpZmZpY3VsdHkpIHx8XG4gICAgICAhaXNGaW5pdGUoc3RhYmlsaXR5KSB8fFxuICAgICAgIWlzRmluaXRlKHJldHJpZXZhYmlsaXR5KVxuICAgICkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHN0YWJpbGl0eSwgMC4wMSk7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB3ZWlnaHRzIHdpdGggdmFsaWRhdGlvblxuICAgIGNvbnN0IHdlaWdodHMgPSB0aGlzLmdldFdlaWdodHMoKTtcbiAgICBjb25zdCB3OCA9IGlzRmluaXRlKHdlaWdodHNbOF0pID8gd2VpZ2h0c1s4XSA6IDA7XG4gICAgY29uc3QgdzkgPSBpc0Zpbml0ZSh3ZWlnaHRzWzldKSA/IHdlaWdodHNbOV0gOiAwLjE7XG4gICAgY29uc3QgdzEwID0gaXNGaW5pdGUod2VpZ2h0c1sxMF0pID8gd2VpZ2h0c1sxMF0gOiAwO1xuICAgIGNvbnN0IHcxNSA9IGlzRmluaXRlKHdlaWdodHNbMTVdKSA/IHdlaWdodHNbMTVdIDogMTtcbiAgICBjb25zdCB3MTYgPSBpc0Zpbml0ZSh3ZWlnaHRzWzE2XSkgPyB3ZWlnaHRzWzE2XSA6IDE7XG5cbiAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eS9ib251cyBmYWN0b3JzXG4gICAgY29uc3QgaGFyZFBlbmFsdHkgPSByYXRpbmcgPT09IDIgPyB3MTUgOiAxO1xuICAgIGNvbnN0IGVhc3lCb251cyA9IHJhdGluZyA9PT0gNCA/IHcxNiA6IDE7XG5cbiAgICAvLyBTdG9yZSBpbnRlcm1lZGlhdGUgY2FsY3VsYXRpb25zIHRvIGF2b2lkIHByZWNpc2lvbiBsb3NzXG4gICAgY29uc3QgZXhwVzggPSBNYXRoLmV4cCh3OCk7XG4gICAgY29uc3QgZGlmZmljdWx0eVRlcm0gPSAxMSAtIGRpZmZpY3VsdHk7XG4gICAgY29uc3Qgc3RhYmlsaXR5UG93ZXJUZXJtID0gc3RhYmlsaXR5ID4gMCA/IE1hdGgucG93KHN0YWJpbGl0eSwgLXc5KSA6IDE7XG4gICAgY29uc3QgcmV0cmlldmFiaWxpdHlUZXJtID0gMSAtIHJldHJpZXZhYmlsaXR5O1xuICAgIGNvbnN0IHJldHJpZXZhYmlsaXR5UHJvZHVjdCA9IHJldHJpZXZhYmlsaXR5VGVybSAqIHcxMDtcbiAgICBjb25zdCBleHBSZXRyaWV2YWJpbGl0eVRlcm0gPSBNYXRoLmV4cChyZXRyaWV2YWJpbGl0eVByb2R1Y3QpIC0gMTtcblxuICAgIC8vIFZhbGlkYXRlIGVhY2ggaW50ZXJtZWRpYXRlIHJlc3VsdFxuICAgIGlmIChcbiAgICAgICFpc0Zpbml0ZShleHBXOCkgfHxcbiAgICAgICFpc0Zpbml0ZShkaWZmaWN1bHR5VGVybSkgfHxcbiAgICAgICFpc0Zpbml0ZShzdGFiaWxpdHlQb3dlclRlcm0pIHx8XG4gICAgICAhaXNGaW5pdGUoZXhwUmV0cmlldmFiaWxpdHlUZXJtKVxuICAgICkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHN0YWJpbGl0eSwgMC4wMSk7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGdyb3d0aCBmYWN0b3Igd2l0aCBmdWxsIHByZWNpc2lvblxuICAgIGNvbnN0IGdyb3d0aEZhY3RvciA9XG4gICAgICBleHBXOCAqIGRpZmZpY3VsdHlUZXJtICogc3RhYmlsaXR5UG93ZXJUZXJtICogZXhwUmV0cmlldmFiaWxpdHlUZXJtO1xuICAgIGNvbnN0IHRvdGFsR3Jvd3RoRmFjdG9yID0gZ3Jvd3RoRmFjdG9yICogaGFyZFBlbmFsdHkgKiBlYXN5Qm9udXM7XG4gICAgY29uc3QgbmV3U3RhYmlsaXR5RmFjdG9yID0gMSArIHRvdGFsR3Jvd3RoRmFjdG9yO1xuICAgIGNvbnN0IHJlc3VsdCA9IHN0YWJpbGl0eSAqIG5ld1N0YWJpbGl0eUZhY3RvcjtcblxuICAgIC8vIFZhbGlkYXRlIHJlc3VsdCBhbmQgZW5zdXJlIGl0J3MgcG9zaXRpdmVcbiAgICByZXR1cm4gaXNGaW5pdGUocmVzdWx0KSAmJiByZXN1bHQgPiAwID8gcmVzdWx0IDogTWF0aC5tYXgoc3RhYmlsaXR5LCAwLjEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBuZXh0IGludGVydmFsIGluIG1pbnV0ZXMgd2l0aCBtYXhpbXVtIHByZWNpc2lvblxuICAgKi9cbiAgcHJpdmF0ZSBuZXh0SW50ZXJ2YWxNaW51dGVzKHN0YWJpbGl0eTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBtaW5JbnRlcnZhbCA9IHRoaXMuZ2V0TWluTWludXRlcygpO1xuXG4gICAgLy8gVmFsaWRhdGUgc3RhYmlsaXR5XG4gICAgaWYgKCFpc0Zpbml0ZShzdGFiaWxpdHkpIHx8IHN0YWJpbGl0eSA8PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgc3RhYmlsaXR5OiAke3N0YWJpbGl0eX0sIHVzaW5nIG1pbk1pbnV0ZXNgKTtcbiAgICAgIHJldHVybiBtaW5JbnRlcnZhbDtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwYXJhbWV0ZXJzXG4gICAgaWYgKFxuICAgICAgIWlzRmluaXRlKHRoaXMucGFyYW1zLnJlcXVlc3RSZXRlbnRpb24pIHx8XG4gICAgICB0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9uIDw9IDAgfHxcbiAgICAgIHRoaXMucGFyYW1zLnJlcXVlc3RSZXRlbnRpb24gPj0gMVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgSW52YWxpZCByZXF1ZXN0UmV0ZW50aW9uOiAke3RoaXMucGFyYW1zLnJlcXVlc3RSZXRlbnRpb259LCB1c2luZyBtaW5NaW51dGVzYCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbWluSW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHdpdGggbWF4aW11bSBwcmVjaXNpb24gdXNpbmcgZXhhY3QgY29uc3RhbnRzXG4gICAgY29uc3QgcmV0ZW50aW9uTG9nID0gTWF0aC5sb2codGhpcy5wYXJhbXMucmVxdWVzdFJldGVudGlvbik7XG4gICAgY29uc3QgYmFzZUxvZyA9IE1hdGgubG9nKDAuOSk7XG4gICAgY29uc3QgayA9IHJldGVudGlvbkxvZyAvIGJhc2VMb2c7IC8vIHBvc2l0aXZlIGZvciAwPHJlcXVlc3RSZXRlbnRpb248MVxuXG4gICAgLy8gQ2FsY3VsYXRlIGludGVydmFsIHVzaW5nIGV4YWN0IGRheS10by1taW51dGUgY29udmVyc2lvblxuICAgIGNvbnN0IGludGVydmFsRGF5cyA9IHN0YWJpbGl0eSAqIGs7XG4gICAgY29uc3QgaW50ZXJ2YWxNaW51dGVzID0gaW50ZXJ2YWxEYXlzICogTUlOVVRFU19QRVJfREFZO1xuXG4gICAgLy8gVmFsaWRhdGUgY2FsY3VsYXRpb24gcmVzdWx0XG4gICAgaWYgKCFpc0Zpbml0ZShpbnRlcnZhbE1pbnV0ZXMpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBJbnZhbGlkIG1pbnV0ZXMgY2FsY3VsYXRpb246IHN0YWJpbGl0eT0ke3N0YWJpbGl0eX0sIGs9JHtrfSwgdXNpbmcgbWluTWludXRlc2AsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG1pbkludGVydmFsO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IGJvdW5kcyB3aXRoIGV4YWN0IGNvbnZlcnNpb25cbiAgICBjb25zdCBtYXhJbnRlcnZhbCA9IHRoaXMuZ2V0TWF4SW50ZXJ2YWxEYXlzKCkgKiBNSU5VVEVTX1BFUl9EQVk7XG5cbiAgICBsZXQgcmVzdWx0ID0gaW50ZXJ2YWxNaW51dGVzO1xuICAgIGlmIChyZXN1bHQgPCBtaW5JbnRlcnZhbCkgcmVzdWx0ID0gbWluSW50ZXJ2YWw7XG4gICAgaWYgKHJlc3VsdCA+IG1heEludGVydmFsKSByZXN1bHQgPSBtYXhJbnRlcnZhbDtcblxuICAgIC8vIEZpbmFsIHZhbGlkYXRpb24gdG8gZW5zdXJlIHJlc3VsdCBpcyBmaW5pdGVcbiAgICBpZiAoIWlzRmluaXRlKHJlc3VsdCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmaW5hbCByZXN1bHQ6ICR7cmVzdWx0fSwgdXNpbmcgbWluTWludXRlc2ApO1xuICAgICAgcmV0dXJuIG1pbkludGVydmFsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGVsYXBzZWQgZGF5cyB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAqL1xuICBwcml2YXRlIGdldEVsYXBzZWREYXlzKGxhc3RSZXZpZXc6IERhdGUsIG5vdzogRGF0ZSk6IG51bWJlciB7XG4gICAgY29uc3Qgbm93VGltZSA9IG5vdy5nZXRUaW1lKCk7XG4gICAgY29uc3QgbGFzdFJldmlld1RpbWUgPSBsYXN0UmV2aWV3LmdldFRpbWUoKTtcbiAgICBjb25zdCBlbGFwc2VkTWlsbGlzZWNvbmRzID0gbm93VGltZSAtIGxhc3RSZXZpZXdUaW1lO1xuICAgIGNvbnN0IGVsYXBzZWREYXlzID0gZWxhcHNlZE1pbGxpc2Vjb25kcyAvIE1JTExJU0VDT05EU19QRVJfREFZO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIGVsYXBzZWREYXlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZmxhc2hjYXJkVG9GU1JTKGNhcmQ6IEZsYXNoY2FyZCk6IEZTUlNDYXJkIHtcbiAgICBjb25zdCBsYXN0UmV2aWV3ID0gY2FyZC5sYXN0UmV2aWV3ZWRcbiAgICAgID8gbmV3IERhdGUoY2FyZC5sYXN0UmV2aWV3ZWQpXG4gICAgICA6IG5ldyBEYXRlKCk7XG5cbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gY2FyZC5kaWZmaWN1bHR5IHx8IDUuMDsgLy8gVXNlIGRpZmZpY3VsdHkgZmllbGRcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFiaWxpdHk6IGNhcmQuc3RhYmlsaXR5IHx8IDAsXG4gICAgICBkaWZmaWN1bHR5OiBkaWZmaWN1bHR5IHx8IDAsXG4gICAgICBlbGFwc2VkRGF5czogMCwgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIGluIHNjaGVkdWxpbmdcbiAgICAgIHJlcHM6IGNhcmQucmVwZXRpdGlvbnMsXG4gICAgICBsYXBzZXM6IGNhcmQubGFwc2VzIHx8IDAsXG4gICAgICBzdGF0ZTogdGhpcy5mbGFzaGNhcmRTdGF0ZVRvRlNSU1N0YXRlKGNhcmQuc3RhdGUpLFxuICAgICAgbGFzdFJldmlldyxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBmbGFzaGNhcmRTdGF0ZVRvRlNSU1N0YXRlKHN0YXRlOiBGbGFzaGNhcmRTdGF0ZSk6IEZTUlNTdGF0ZSB7XG4gICAgLy8gTWFwIGFsbCBub24tbmV3IHN0YXRlcyB0byBSZXZpZXcgZm9yIHB1cmUgRlNSU1xuICAgIHJldHVybiBzdGF0ZSA9PT0gXCJuZXdcIiA/IFwiTmV3XCIgOiBcIlJldmlld1wiO1xuICB9XG5cbiAgcHJpdmF0ZSBmc3JzU3RhdGVUb0ZsYXNoY2FyZFN0YXRlKHN0YXRlOiBGU1JTU3RhdGUpOiBGbGFzaGNhcmRTdGF0ZSB7XG4gICAgLy8gTWFwIEZTUlMgc3RhdGVzIHRvIGZsYXNoY2FyZCBzdGF0ZXMgKG9ubHkgbmV3IGFuZCByZXZpZXcgZm9yIHB1cmUgRlNSUylcbiAgICByZXR1cm4gc3RhdGUgPT09IFwiTmV3XCIgPyBcIm5ld1wiIDogXCJyZXZpZXdcIjtcbiAgfVxuXG4gIHByaXZhdGUgZGlmZmljdWx0eVRvUmF0aW5nKGRpZmZpY3VsdHk6IFJhdGluZ0xhYmVsKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKGRpZmZpY3VsdHkpIHtcbiAgICAgIGNhc2UgXCJhZ2FpblwiOlxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgXCJoYXJkXCI6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcImdvb2RcIjpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlIFwiZWFzeVwiOlxuICAgICAgICByZXR1cm4gNDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGlzcGxheSB0ZXh0IGZvciBpbnRlcnZhbHMgLSBVSSBmb3JtYXR0aW5nIG9ubHlcbiAgICovXG4gIHN0YXRpYyBnZXRJbnRlcnZhbERpc3BsYXkobWludXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAobWludXRlcyA8IDYwKSB7XG4gICAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChtaW51dGVzKX1tYDtcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX1BFUl9EQVkpIHtcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5yb3VuZChtaW51dGVzIC8gNjApO1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWhgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXlzID0gTWF0aC5yb3VuZChtaW51dGVzIC8gTUlOVVRFU19QRVJfREFZKTtcbiAgICAgIGlmIChkYXlzIDwgMzApIHtcbiAgICAgICAgcmV0dXJuIGAke2RheXN9ZGA7XG4gICAgICB9IGVsc2UgaWYgKGRheXMgPCAzNjUpIHtcbiAgICAgICAgY29uc3QgbW9udGhzID0gTWF0aC5yb3VuZChkYXlzIC8gMzApO1xuICAgICAgICByZXR1cm4gYCR7bW9udGhzfW1vYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHllYXJzID0gZGF5cyAvIDM2NTtcbiAgICAgICAgcmV0dXJuIGAke3JvdW5kRm9yRGlzcGxheSh5ZWFycywgMSl9eWA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgRmxhc2hjYXJkLFxuICBGbGFzaGNhcmRTdGF0ZSxcbiAgRGVjayxcbiAgUmV2aWV3TG9nLFxuICBSZXZpZXdTZXNzaW9uLFxuICBoYXNOZXdDYXJkc0xpbWl0LFxuICBoYXNSZXZpZXdDYXJkc0xpbWl0LFxufSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB7IERhdGFiYXNlU2VydmljZSB9IGZyb20gXCIuLi9kYXRhYmFzZS9EYXRhYmFzZVNlcnZpY2VcIjtcbmltcG9ydCB7XG4gIEZTUlMsXG4gIHR5cGUgUmF0aW5nTGFiZWwsXG4gIHR5cGUgU2NoZWR1bGluZ0luZm8sXG4gIHR5cGUgU2NoZWR1bGluZ0NhcmQsXG59IGZyb20gXCIuLi9hbGdvcml0aG0vZnNyc1wiO1xuaW1wb3J0IHtcbiAgZ2V0V2VpZ2h0c0ZvclByb2ZpbGUsXG4gIGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlLFxuICBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlLFxuICBGU1JTUHJvZmlsZSxcbn0gZnJvbSBcIi4uL2FsZ29yaXRobS9mc3JzLXdlaWdodHNcIjtcbmltcG9ydCB7IHlpZWxkVG9VSSB9IGZyb20gXCIuLi91dGlscy91aVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxlck9wdGlvbnMge1xuICBhbGxvd05ldz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NoZWR1bGluZ1ByZXZpZXcge1xuICBhZ2FpbjogU2NoZWR1bGluZ0NhcmQ7XG4gIGhhcmQ6IFNjaGVkdWxpbmdDYXJkO1xuICBnb29kOiBTY2hlZHVsaW5nQ2FyZDtcbiAgZWFzeTogU2NoZWR1bGluZ0NhcmQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblByb2dyZXNzIHtcbiAgZG9uZVVuaXF1ZTogbnVtYmVyO1xuICBnb2FsVG90YWw6IG51bWJlcjtcbiAgcHJvZ3Jlc3M6IG51bWJlcjsgLy8gMC0xMDBcbn1cblxuLyoqXG4gKiBVbmlmaWVkIHNjaGVkdWxlciB0aGF0IGNvbnNvbGlkYXRlcyBhbGwgY2FyZCBzZWxlY3Rpb24gYW5kIHNjaGVkdWxpbmcgbG9naWMuXG4gKiBIYW5kbGVzIGRldGVybWluaXN0aWMgY2FyZCBzZWxlY3Rpb24sIEZTUlMtYmFzZWQgaW50ZXJ2YWwgY2FsY3VsYXRpb24sXG4gKiBhbmQgYXRvbWljIHN0YXRlIHVwZGF0ZXMgd2l0aCByZXZpZXcgbG9nZ2luZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNjaGVkdWxlciB7XG4gIHByaXZhdGUgZGI6IERhdGFiYXNlU2VydmljZTtcbiAgcHJpdmF0ZSBmc3JzOiBGU1JTO1xuICBwcml2YXRlIGN1cnJlbnRTZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGRiOiBEYXRhYmFzZVNlcnZpY2UpIHtcbiAgICB0aGlzLmRiID0gZGI7XG4gICAgdGhpcy5mc3JzID0gbmV3IEZTUlMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBhIG5ldyByZXZpZXcgc2Vzc2lvbiBmb3IgYSBkZWNrXG4gICAqL1xuICBhc3luYyBzdGFydFJldmlld1Nlc3Npb24oXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgbm93OiBEYXRlID0gbmV3IERhdGUoKSxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgIGlmICghZGVjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZWNrIG5vdCBmb3VuZDogJHtkZWNrSWR9YCk7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGdvYWwgdG90YWwgbW9yZSBhY2N1cmF0ZWx5XG4gICAgY29uc3QgZGFpbHlDb3VudHMgPSBhd2FpdCB0aGlzLmRiLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG4gICAgY29uc3QgZHVlQ2FyZENvdW50ID0gYXdhaXQgdGhpcy5nZXREdWVDYXJkQ291bnQobm93LCBkZWNrSWQpO1xuICAgIGNvbnN0IG5ld0NhcmRDb3VudCA9IGF3YWl0IHRoaXMuZ2V0TmV3Q2FyZENvdW50KGRlY2tJZCk7XG5cbiAgICBsZXQgZ29hbFRvdGFsID0gMDtcblxuICAgIC8vIEFkZCBkdWUgcmV2aWV3IGNhcmRzIChhcHBseWluZyBkYWlseSBsaW1pdHMgaWYgY29uZmlndXJlZClcbiAgICBpZiAoaGFzUmV2aWV3Q2FyZHNMaW1pdChkZWNrLmNvbmZpZykpIHtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1Jldmlld1F1b3RhID0gTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIGRlY2suY29uZmlnLnJldmlld0NhcmRzUGVyRGF5IC0gZGFpbHlDb3VudHMucmV2aWV3Q291bnQsXG4gICAgICApO1xuICAgICAgZ29hbFRvdGFsICs9IE1hdGgubWluKGR1ZUNhcmRDb3VudCwgcmVtYWluaW5nUmV2aWV3UXVvdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnb2FsVG90YWwgKz0gZHVlQ2FyZENvdW50O1xuICAgIH1cblxuICAgIC8vIEFkZCBuZXcgY2FyZHMgKGFwcGx5aW5nIGRhaWx5IGxpbWl0cyBpZiBjb25maWd1cmVkKVxuICAgIGlmIChoYXNOZXdDYXJkc0xpbWl0KGRlY2suY29uZmlnKSkge1xuICAgICAgY29uc3QgcmVtYWluaW5nTmV3UXVvdGEgPSBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgZGVjay5jb25maWcubmV3Q2FyZHNQZXJEYXkgLSBkYWlseUNvdW50cy5uZXdDb3VudCxcbiAgICAgICk7XG4gICAgICBnb2FsVG90YWwgKz0gTWF0aC5taW4obmV3Q2FyZENvdW50LCByZW1haW5pbmdOZXdRdW90YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5ld0NhcmRzUGVyRGF5OiAwIG1lYW5zIHVubGltaXRlZFxuICAgICAgZ29hbFRvdGFsICs9IG5ld0NhcmRDb3VudDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYXQgbGVhc3QgMSBmb3IgcHJvZ3Jlc3MgY2FsY3VsYXRpb25cbiAgICBjb25zdCBmaW5hbEdvYWxUb3RhbCA9IE1hdGgubWF4KDEsIGdvYWxUb3RhbCk7XG5cbiAgICBjb25zdCBzZXNzaW9uSWQgPSBhd2FpdCB0aGlzLmRiLmNyZWF0ZVJldmlld1Nlc3Npb24oe1xuICAgICAgZGVja0lkLFxuICAgICAgc3RhcnRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgIGVuZGVkQXQ6IG51bGwsXG4gICAgICBnb2FsVG90YWw6IGZpbmFsR29hbFRvdGFsLFxuICAgICAgZG9uZVVuaXF1ZTogMCxcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXNzaW9uSWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHByb2dyZXNzIGZvciBhIHJldmlldyBzZXNzaW9uXG4gICAqL1xuICBhc3luYyBnZXRTZXNzaW9uUHJvZ3Jlc3Moc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25Qcm9ncmVzcyB8IG51bGw+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5kYi5nZXRSZXZpZXdTZXNzaW9uQnlJZChzZXNzaW9uSWQpO1xuICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBwcm9ncmVzcyA9XG4gICAgICBzZXNzaW9uLmdvYWxUb3RhbCA+IDBcbiAgICAgICAgPyBNYXRoLm1pbigxMDAsIChzZXNzaW9uLmRvbmVVbmlxdWUgLyBzZXNzaW9uLmdvYWxUb3RhbCkgKiAxMDApXG4gICAgICAgIDogMDtcblxuICAgIHJldHVybiB7XG4gICAgICBkb25lVW5pcXVlOiBzZXNzaW9uLmRvbmVVbmlxdWUsXG4gICAgICBnb2FsVG90YWw6IHNlc3Npb24uZ29hbFRvdGFsLFxuICAgICAgcHJvZ3Jlc3MsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmQgYSByZXZpZXcgc2Vzc2lvblxuICAgKi9cbiAgYXN5bmMgZW5kUmV2aWV3U2Vzc2lvbihcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBub3c6IERhdGUgPSBuZXcgRGF0ZSgpLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmRiLmVuZFJldmlld1Nlc3Npb24oc2Vzc2lvbklkLCBub3cudG9JU09TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYSBmcmVzaCByZXZpZXcgc2Vzc2lvbiBmb3IgYSBkZWNrIChlbmRzIGFueSBleGlzdGluZyBzZXNzaW9uKVxuICAgKi9cbiAgYXN5bmMgc3RhcnRGcmVzaFNlc3Npb24oXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgbm93OiBEYXRlID0gbmV3IERhdGUoKSxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBFbmQgYW55IGV4aXN0aW5nIGFjdGl2ZSBzZXNzaW9uIGZpcnN0XG4gICAgLy8gVE9ETzogRW5kIGJ5IHRha2luZyB0aGUgcmV2aWV3IHRpbWUgb2YgbGFzdCByZXZpZXcgbG9nIHdpdGggc2Vzc2lvbiBpZCBvZiBhY3RpdmUgc2Vzc2lvblxuICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCB0aGlzLmRiLmdldEFjdGl2ZVJldmlld1Nlc3Npb24oZGVja0lkKTtcbiAgICBpZiAoYWN0aXZlU2Vzc2lvbikge1xuICAgICAgYXdhaXQgdGhpcy5kYi5lbmRSZXZpZXdTZXNzaW9uKGFjdGl2ZVNlc3Npb24uaWQsIG5vdy50b0lTT1N0cmluZygpKTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBhIG5ldyBzZXNzaW9uXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbklkID0gYXdhaXQgdGhpcy5zdGFydFJldmlld1Nlc3Npb24oZGVja0lkLCBub3cpO1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTZXNzaW9uSWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IGFjdGl2ZSBzZXNzaW9uIGZvciB0cmFja2luZ1xuICAgKi9cbiAgc2V0Q3VycmVudFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbklkID0gc2Vzc2lvbklkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBhY3RpdmUgc2Vzc2lvblxuICAgKi9cbiAgZ2V0Q3VycmVudFNlc3Npb24oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNlc3Npb25JZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5leHQgZHVlIGNhcmQgZm9yIHJldmlld1xuICAgKi9cbiAgYXN5bmMgZ2V0TmV4dChcbiAgICBub3c6IERhdGUsXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogU2NoZWR1bGVyT3B0aW9ucyA9IHt9LFxuICApOiBQcm9taXNlPEZsYXNoY2FyZCB8IG51bGw+IHtcbiAgICBjb25zdCB7IGFsbG93TmV3ID0gdHJ1ZSB9ID0gb3B0aW9ucztcblxuICAgIC8vIEZpcnN0IGNoZWNrIGZvciBkdWUgY2FyZHNcbiAgICBjb25zdCBkdWVDYXJkID0gYXdhaXQgdGhpcy5nZXROZXh0RHVlQ2FyZChub3csIGRlY2tJZCk7XG4gICAgaWYgKGR1ZUNhcmQpIHtcbiAgICAgIHJldHVybiBkdWVDYXJkO1xuICAgIH1cblxuICAgIC8vIElmIG5vIGR1ZSBjYXJkcyBhbmQgbmV3IGNhcmRzIGFsbG93ZWQsIGdldCBuZXh0IG5ldyBjYXJkXG4gICAgaWYgKGFsbG93TmV3ICYmIChhd2FpdCB0aGlzLmhhc05ld0NhcmRRdW90YShkZWNrSWQpKSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TmV4dE5ld0NhcmQoZGVja0lkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2aWV3IHNjaGVkdWxpbmcgb3V0Y29tZXMgZm9yIGFsbCBmb3VyIHJhdGluZ3Mgd2l0aG91dCBtdXRhdGlvbnNcbiAgICovXG4gIGFzeW5jIHByZXZpZXcoXG4gICAgY2FyZElkOiBzdHJpbmcsXG4gICAgbm93OiBEYXRlID0gbmV3IERhdGUoKSxcbiAgKTogUHJvbWlzZTxTY2hlZHVsaW5nUHJldmlldyB8IG51bGw+IHtcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5kYi5nZXRGbGFzaGNhcmRCeUlkKGNhcmRJZCk7XG4gICAgaWYgKCFjYXJkKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUlkKGNhcmQuZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHJldHVybiBudWxsO1xuXG4gICAgdGhpcy51cGRhdGVGU1JTRm9yRGVjayhkZWNrKTtcblxuICAgIGNvbnN0IHJhdGluZ3M6IFJhdGluZ0xhYmVsW10gPSBbXCJhZ2FpblwiLCBcImhhcmRcIiwgXCJnb29kXCIsIFwiZWFzeVwiXTtcbiAgICBjb25zdCBwcmV2aWV3OiBQYXJ0aWFsPFNjaGVkdWxpbmdQcmV2aWV3PiA9IHt9O1xuXG4gICAgZm9yIChjb25zdCByYXRpbmcgb2YgcmF0aW5ncykge1xuICAgICAgY29uc3QgdXBkYXRlZENhcmQgPSB0aGlzLmZzcnMudXBkYXRlQ2FyZChjYXJkLCByYXRpbmcpO1xuICAgICAgcHJldmlld1tyYXRpbmddID0ge1xuICAgICAgICBkdWVEYXRlOiB1cGRhdGVkQ2FyZC5kdWVEYXRlLFxuICAgICAgICBpbnRlcnZhbDogdXBkYXRlZENhcmQuaW50ZXJ2YWwsXG4gICAgICAgIHJlcGV0aXRpb25zOiB1cGRhdGVkQ2FyZC5yZXBldGl0aW9ucyxcbiAgICAgICAgc3RhYmlsaXR5OiB1cGRhdGVkQ2FyZC5zdGFiaWxpdHksXG4gICAgICAgIGRpZmZpY3VsdHk6IHVwZGF0ZWRDYXJkLmRpZmZpY3VsdHksXG4gICAgICAgIHN0YXRlOiB1cGRhdGVkQ2FyZC5zdGF0ZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZpZXcgYXMgU2NoZWR1bGluZ1ByZXZpZXc7XG4gIH1cblxuICAvKipcbiAgICogUmF0ZSBhIGNhcmQgYW5kIHVwZGF0ZSBpdHMgc3RhdGUgYXRvbWljYWxseSB3aXRoIHNlc3Npb24gdHJhY2tpbmdcbiAgICovXG4gIGFzeW5jIHJhdGUoXG4gICAgY2FyZElkOiBzdHJpbmcsXG4gICAgcmF0aW5nOiBSYXRpbmdMYWJlbCxcbiAgICBub3c6IERhdGUgPSBuZXcgRGF0ZSgpLFxuICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICApOiBQcm9taXNlPEZsYXNoY2FyZD4ge1xuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZEJ5SWQoY2FyZElkKTtcbiAgICBpZiAoIWNhcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FyZCBub3QgZm91bmQ6ICR7Y2FyZElkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUlkKGNhcmQuZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVjayBub3QgZm91bmQ6ICR7Y2FyZC5kZWNrSWR9YCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVGU1JTRm9yRGVjayhkZWNrKTtcblxuICAgIC8vIENhbGN1bGF0ZSBuZXcgY2FyZCBzdGF0ZVxuICAgIGNvbnN0IG9sZENhcmQgPSB7IC4uLmNhcmQgfTtcbiAgICBjb25zdCB1cGRhdGVkQ2FyZCA9IHRoaXMuZnNycy51cGRhdGVDYXJkKGNhcmQsIHJhdGluZyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgcmV2aWV3IG1ldHJpY3NcbiAgICBjb25zdCBlbGFwc2VkRGF5cyA9IHRoaXMuZ2V0RWxhcHNlZERheXMoY2FyZCwgbm93KTtcbiAgICBjb25zdCByZXRyaWV2YWJpbGl0eSA9IHRoaXMuY2FsY3VsYXRlUmV0cmlldmFiaWxpdHkoY2FyZCwgZWxhcHNlZERheXMpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSByZXZpZXdpbmcgdGhpcyBjYXJkIGluIHRoZSBzZXNzaW9uXG4gICAgbGV0IGlzRmlyc3RSZXZpZXdJblNlc3Npb24gPSBmYWxzZTtcbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbklkKSB7XG4gICAgICBpc0ZpcnN0UmV2aWV3SW5TZXNzaW9uID0gIShhd2FpdCB0aGlzLmRiLmlzQ2FyZFJldmlld2VkSW5TZXNzaW9uKFxuICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uSWQsXG4gICAgICAgIGNhcmQuaWQsXG4gICAgICApKTtcblxuICAgICAgLy8gVXBkYXRlIHNlc3Npb24gcHJvZ3Jlc3MgaWYgZmlyc3QgcmV2aWV3XG4gICAgICBpZiAoaXNGaXJzdFJldmlld0luU2Vzc2lvbikge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5kYi5nZXRSZXZpZXdTZXNzaW9uQnlJZChcbiAgICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uSWQsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgICAgY29uc3QgbmV3RG9uZVVuaXF1ZSA9IHNlc3Npb24uZG9uZVVuaXF1ZSArIDE7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi51cGRhdGVSZXZpZXdTZXNzaW9uRG9uZVVuaXF1ZShcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlc3Npb25JZCxcbiAgICAgICAgICAgIG5ld0RvbmVVbmlxdWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSByZXZpZXcgbG9nIGVudHJ5XG4gICAgY29uc3QgcmV2aWV3TG9nOiBPbWl0PFJldmlld0xvZywgXCJpZFwiPiA9IHtcbiAgICAgIGZsYXNoY2FyZElkOiBjYXJkLmlkLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLmN1cnJlbnRTZXNzaW9uSWQgfHwgdW5kZWZpbmVkLFxuICAgICAgbGFzdFJldmlld2VkQXQ6IG9sZENhcmQubGFzdFJldmlld2VkIHx8IG9sZENhcmQuZHVlRGF0ZSxcbiAgICAgIHJldmlld2VkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgcmF0aW5nOiB0aGlzLnJhdGluZ1RvTnVtYmVyKHJhdGluZykgYXMgMSB8IDIgfCAzIHwgNCxcbiAgICAgIHJhdGluZ0xhYmVsOiByYXRpbmcsXG4gICAgICB0aW1lRWxhcHNlZE1zOiB0aW1lRWxhcHNlZCB8fCAwLFxuXG4gICAgICAvLyBQcmUtc3RhdGVcbiAgICAgIG9sZFN0YXRlOiBvbGRDYXJkLnN0YXRlLFxuICAgICAgb2xkUmVwZXRpdGlvbnM6IG9sZENhcmQucmVwZXRpdGlvbnMgfHwgMCxcbiAgICAgIG9sZExhcHNlczogb2xkQ2FyZC5sYXBzZXMgfHwgMCxcbiAgICAgIG9sZFN0YWJpbGl0eTogb2xkQ2FyZC5zdGFiaWxpdHkgfHwgMCxcbiAgICAgIG9sZERpZmZpY3VsdHk6IG9sZENhcmQuZGlmZmljdWx0eSB8fCAwLFxuXG4gICAgICAvLyBQb3N0LXN0YXRlXG4gICAgICBuZXdTdGF0ZTogdXBkYXRlZENhcmQuc3RhdGUsXG4gICAgICBuZXdSZXBldGl0aW9uczogdXBkYXRlZENhcmQucmVwZXRpdGlvbnMsXG4gICAgICBuZXdMYXBzZXM6IHVwZGF0ZWRDYXJkLmxhcHNlcyxcbiAgICAgIG5ld1N0YWJpbGl0eTogdXBkYXRlZENhcmQuc3RhYmlsaXR5LFxuICAgICAgbmV3RGlmZmljdWx0eTogdXBkYXRlZENhcmQuZGlmZmljdWx0eSxcblxuICAgICAgLy8gSW50ZXJ2YWxzICYgZHVlIHRpbWVzXG4gICAgICBvbGRJbnRlcnZhbE1pbnV0ZXM6IG9sZENhcmQuaW50ZXJ2YWwsXG4gICAgICBuZXdJbnRlcnZhbE1pbnV0ZXM6IHVwZGF0ZWRDYXJkLmludGVydmFsLFxuICAgICAgb2xkRHVlQXQ6IG9sZENhcmQuZHVlRGF0ZSxcbiAgICAgIG5ld0R1ZUF0OiB1cGRhdGVkQ2FyZC5kdWVEYXRlLFxuXG4gICAgICAvLyBEZXJpdmVkIHZhbHVlc1xuICAgICAgZWxhcHNlZERheXMsXG4gICAgICByZXRyaWV2YWJpbGl0eSxcblxuICAgICAgLy8gQ29uZmlndXJhdGlvbiBjb250ZXh0XG4gICAgICByZXF1ZXN0UmV0ZW50aW9uOiBkZWNrLmNvbmZpZy5mc3JzLnJlcXVlc3RSZXRlbnRpb24sXG4gICAgICBwcm9maWxlOiBkZWNrLmNvbmZpZy5mc3JzLnByb2ZpbGUsXG4gICAgICBtYXhpbXVtSW50ZXJ2YWxEYXlzOiBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlKFxuICAgICAgICBkZWNrLmNvbmZpZy5mc3JzLnByb2ZpbGUsXG4gICAgICApLFxuICAgICAgbWluTWludXRlczogZ2V0TWluTWludXRlc0ZvclByb2ZpbGUoZGVjay5jb25maWcuZnNycy5wcm9maWxlKSxcbiAgICAgIGZzcnNXZWlnaHRzVmVyc2lvbjogdGhpcy5nZXRXZWlnaHRzSGFzaChkZWNrLmNvbmZpZy5mc3JzLnByb2ZpbGUpLFxuICAgICAgc2NoZWR1bGVyVmVyc2lvbjogXCIxLjBcIixcblxuICAgICAgLy8gQ29udGVudCBjb250ZXh0XG4gICAgICBjb250ZW50SGFzaDogY2FyZC5jb250ZW50SGFzaCxcbiAgICB9O1xuXG4gICAgLy8gVXBkYXRlIGNhcmQgc3RhdGUgYW5kIGNyZWF0ZSByZXZpZXcgbG9nXG4gICAgYXdhaXQgdGhpcy5kYi51cGRhdGVGbGFzaGNhcmQodXBkYXRlZENhcmQuaWQsIHtcbiAgICAgIHN0YXRlOiB1cGRhdGVkQ2FyZC5zdGF0ZSxcbiAgICAgIGR1ZURhdGU6IHVwZGF0ZWRDYXJkLmR1ZURhdGUsXG4gICAgICBpbnRlcnZhbDogdXBkYXRlZENhcmQuaW50ZXJ2YWwsXG4gICAgICByZXBldGl0aW9uczogdXBkYXRlZENhcmQucmVwZXRpdGlvbnMsXG4gICAgICBkaWZmaWN1bHR5OiB1cGRhdGVkQ2FyZC5kaWZmaWN1bHR5LFxuICAgICAgc3RhYmlsaXR5OiB1cGRhdGVkQ2FyZC5zdGFiaWxpdHksXG4gICAgICBsYXBzZXM6IHVwZGF0ZWRDYXJkLmxhcHNlcyxcbiAgICAgIGxhc3RSZXZpZXdlZDogdXBkYXRlZENhcmQubGFzdFJldmlld2VkLFxuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVSZXZpZXdMb2cocmV2aWV3TG9nKTtcblxuICAgIHJldHVybiB1cGRhdGVkQ2FyZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZWVrIGF0IHRoZSBuZXh0IE4gZHVlIGNhcmRzIHdpdGhvdXQgbXV0YXRpb25zXG4gICAqL1xuICBhc3luYyBwZWVrRHVlKFxuICAgIG5vdzogRGF0ZSxcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICBsaW1pdDogbnVtYmVyID0gMTAsXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgIGlmICghZGVjaykgcmV0dXJuIFtdO1xuXG4gICAgbGV0IHF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gPyBBTkQgc3RhdGUgPSAncmV2aWV3J1xuICAgIGA7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZCwgbm93LnRvSVNPU3RyaW5nKCldO1xuXG4gICAgLy8gQXBwbHkgcmV2aWV3IG9yZGVyIGZyb20gZGVjayBjb25maWd1cmF0aW9uXG4gICAgaWYgKGRlY2suY29uZmlnLnJldmlld09yZGVyID09PSBcInJhbmRvbVwiKSB7XG4gICAgICBxdWVyeSArPSBcIiBPUkRFUiBCWSBSQU5ET00oKSBMSU1JVCA/XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQ6IGR1ZS1kYXRlIG9yZGVyIChvbGRlc3QgZHVlIGZpcnN0KVxuICAgICAgcXVlcnkgKz0gXCIgT1JERVIgQlkgZHVlX2RhdGUgQVNDLCBsYXN0X3Jldmlld2VkIEFTQyBMSU1JVCA/XCI7XG4gICAgfVxuICAgIHBhcmFtcy5wdXNoKGxpbWl0LnRvU3RyaW5nKCkpO1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucXVlcnlGbGFzaGNhcmRzKHF1ZXJ5LCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtaWxsaXNlY29uZHMgdW50aWwgbmV4dCBjYXJkIGlzIGR1ZVxuICAgKi9cbiAgYXN5bmMgdGltZVRvTmV4dChub3c6IERhdGUsIGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgTUlOKGR1ZV9kYXRlKSBhcyBuZXh0X2R1ZVxuICAgICAgRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPiA/XG4gICAgICBPUkRFUiBCWSBkdWVfZGF0ZSBBU0NcbiAgICAgIExJTUlUIDFcbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMucXVlcnlSYXcocXVlcnksIFtkZWNrSWQsIG5vdy50b0lTT1N0cmluZygpXSk7XG4gICAgY29uc3QgbmV4dER1ZSA9IHJlc3VsdHMubGVuZ3RoID4gMCA/IHJlc3VsdHNbMF1bMF0gOiBudWxsO1xuXG4gICAgaWYgKCFuZXh0RHVlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0RHVlRGF0ZSA9IG5ldyBEYXRlKG5leHREdWUpO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBuZXh0RHVlRGF0ZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIC8vIFByaXZhdGUgaGVscGVyIG1ldGhvZHNcblxuICBwcml2YXRlIGFzeW5jIGdldE5leHREdWVDYXJkKFxuICAgIG5vdzogRGF0ZSxcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxGbGFzaGNhcmQgfCBudWxsPiB7XG4gICAgLy8gQ2hlY2sgcmV2aWV3IGNhcmQgZGFpbHkgbGltaXRzIGZpcnN0XG4gICAgaWYgKCEoYXdhaXQgdGhpcy5oYXNSZXZpZXdDYXJkUXVvdGEoZGVja0lkKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCBxdWVyeSA9IGBcbiAgICAgIFNFTEVDVCAqIEZST00gZmxhc2hjYXJkc1xuICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ3JldmlldydcbiAgICBgO1xuICAgIGNvbnN0IHBhcmFtcyA9IFtkZWNrSWQsIG5vdy50b0lTT1N0cmluZygpXTtcblxuICAgIC8vIEFwcGx5IHJldmlldyBvcmRlciBmcm9tIGRlY2sgY29uZmlndXJhdGlvblxuICAgIGlmIChkZWNrLmNvbmZpZy5yZXZpZXdPcmRlciA9PT0gXCJyYW5kb21cIikge1xuICAgICAgcXVlcnkgKz0gXCIgT1JERVIgQlkgUkFORE9NKCkgTElNSVQgMVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWZhdWx0OiBkdWUtZGF0ZSBvcmRlciAob2xkZXN0IGR1ZSBmaXJzdClcbiAgICAgIHF1ZXJ5ICs9IFwiIE9SREVSIEJZIGR1ZV9kYXRlIEFTQywgbGFzdF9yZXZpZXdlZCBBU0MgTElNSVQgMVwiO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnF1ZXJ5Rmxhc2hjYXJkcyhxdWVyeSwgcGFyYW1zKTtcbiAgICByZXR1cm4gcmVzdWx0cy5sZW5ndGggPiAwID8gcmVzdWx0c1swXSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldE5leHROZXdDYXJkKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmQgfCBudWxsPiB7XG4gICAgbGV0IHF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgc3RhdGUgPSAnbmV3J1xuICAgIGA7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZF07XG5cbiAgICBxdWVyeSArPSBcIiBPUkRFUiBCWSBkdWVfZGF0ZSBBU0MgTElNSVQgMVwiO1xuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMucXVlcnlGbGFzaGNhcmRzKHF1ZXJ5LCBwYXJhbXMpO1xuICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA+IDAgPyByZXN1bHRzWzBdIDogbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFzTmV3Q2FyZFF1b3RhKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5SWQoZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHJldHVybiBmYWxzZTtcblxuICAgIGlmICghaGFzTmV3Q2FyZHNMaW1pdChkZWNrLmNvbmZpZykpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgZGFpbHlDb3VudHMgPSBhd2FpdCB0aGlzLmRiLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG4gICAgcmV0dXJuIGRhaWx5Q291bnRzLm5ld0NvdW50IDwgZGVjay5jb25maWcubmV3Q2FyZHNQZXJEYXk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhc1Jldmlld0NhcmRRdW90YShkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIWhhc1Jldmlld0NhcmRzTGltaXQoZGVjay5jb25maWcpKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGRhaWx5Q291bnRzID0gYXdhaXQgdGhpcy5kYi5nZXREYWlseVJldmlld0NvdW50cyhkZWNrSWQpO1xuICAgIHJldHVybiBkYWlseUNvdW50cy5yZXZpZXdDb3VudCA8IGRlY2suY29uZmlnLnJldmlld0NhcmRzUGVyRGF5O1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVGU1JTRm9yRGVjayhkZWNrOiBEZWNrKTogdm9pZCB7XG4gICAgdGhpcy5mc3JzLnVwZGF0ZVBhcmFtZXRlcnMoe1xuICAgICAgcmVxdWVzdFJldGVudGlvbjogZGVjay5jb25maWcuZnNycy5yZXF1ZXN0UmV0ZW50aW9uLFxuICAgICAgcHJvZmlsZTogZGVjay5jb25maWcuZnNycy5wcm9maWxlLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRFbGFwc2VkRGF5cyhjYXJkOiBGbGFzaGNhcmQsIG5vdzogRGF0ZSk6IG51bWJlciB7XG4gICAgaWYgKCFjYXJkLmxhc3RSZXZpZXdlZCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBsYXN0UmV2aWV3ID0gbmV3IERhdGUoY2FyZC5sYXN0UmV2aWV3ZWQpO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCAobm93LmdldFRpbWUoKSAtIGxhc3RSZXZpZXcuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlUmV0cmlldmFiaWxpdHkoXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIGVsYXBzZWREYXlzOiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgaWYgKCFjYXJkLnN0YWJpbGl0eSB8fCBjYXJkLnN0YXRlID09PSBcIm5ld1wiKSByZXR1cm4gMTtcblxuICAgIC8vIFIgPSAoMSArIGVsYXBzZWREYXlzIC8gKDkgKiBzdGFiaWxpdHkpKV4oLTEpXG4gICAgcmV0dXJuIE1hdGgucG93KDEgKyBlbGFwc2VkRGF5cyAvICg5ICogY2FyZC5zdGFiaWxpdHkpLCAtMSk7XG4gIH1cblxuICBwcml2YXRlIHJhdGluZ1RvTnVtYmVyKHJhdGluZzogUmF0aW5nTGFiZWwpOiBudW1iZXIge1xuICAgIGNvbnN0IHJhdGluZ01hcDogUmVjb3JkPFJhdGluZ0xhYmVsLCBudW1iZXI+ID0ge1xuICAgICAgYWdhaW46IDEsXG4gICAgICBoYXJkOiAyLFxuICAgICAgZ29vZDogMyxcbiAgICAgIGVhc3k6IDQsXG4gICAgfTtcbiAgICByZXR1cm4gcmF0aW5nTWFwW3JhdGluZ107XG4gIH1cblxuICBwcml2YXRlIGdldFdlaWdodHNIYXNoKHByb2ZpbGU6IEZTUlNQcm9maWxlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7cHJvZmlsZX0tdjEuMGA7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldER1ZUNhcmRDb3VudChub3c6IERhdGUsIGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnRcbiAgICBGUk9NIGZsYXNoY2FyZHNcbiAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gPyBBTkQgc3RhdGUgPSAncmV2aWV3J1xuICBgO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnF1ZXJ5UmF3KHF1ZXJ5LCBbZGVja0lkLCBub3cudG9JU09TdHJpbmcoKV0pO1xuICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA+IDAgPyAocmVzdWx0c1swXVswXSBhcyBudW1iZXIpIDogMDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0TmV3Q2FyZENvdW50KGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnRcbiAgICBGUk9NIGZsYXNoY2FyZHNcbiAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgc3RhdGUgPSAnbmV3J1xuICBgO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnF1ZXJ5UmF3KHF1ZXJ5LCBbZGVja0lkXSk7XG4gICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMCA/IChyZXN1bHRzWzBdWzBdIGFzIG51bWJlcikgOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gcXVlcnkgZmxhc2hjYXJkcyBhbmQgY29udmVydCByb3dzIHRvIEZsYXNoY2FyZCBvYmplY3RzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHF1ZXJ5Rmxhc2hjYXJkcyhcbiAgICBxdWVyeTogc3RyaW5nLFxuICAgIHBhcmFtczogYW55W10sXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5xdWVyeVJhdyhxdWVyeSwgcGFyYW1zKTtcbiAgICByZXR1cm4gcmVzdWx0cy5tYXAoKHJvdykgPT4gdGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHJhdyBTUUwgcXVlcnkgYW5kIHJldHVybiByZXN1bHRzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHF1ZXJ5UmF3KHF1ZXJ5OiBzdHJpbmcsIHBhcmFtczogYW55W10pOiBQcm9taXNlPGFueVtdW10+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5xdWVyeShxdWVyeSwgcGFyYW1zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGRhdGFiYXNlIHJvdyB0byBGbGFzaGNhcmQgb2JqZWN0IChzYW1lIGxvZ2ljIGFzIERhdGFiYXNlU2VydmljZSlcbiAgICovXG4gIHByaXZhdGUgcm93VG9GbGFzaGNhcmQocm93OiBhbnlbXSk6IEZsYXNoY2FyZCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiByb3dbMF0gYXMgc3RyaW5nLFxuICAgICAgZGVja0lkOiByb3dbMV0gYXMgc3RyaW5nLFxuICAgICAgZnJvbnQ6IHJvd1syXSBhcyBzdHJpbmcsXG4gICAgICBiYWNrOiByb3dbM10gYXMgc3RyaW5nLFxuICAgICAgdHlwZTogcm93WzRdIGFzIFwiaGVhZGVyLXBhcmFncmFwaFwiIHwgXCJ0YWJsZVwiLFxuICAgICAgc291cmNlRmlsZTogcm93WzVdIGFzIHN0cmluZyxcbiAgICAgIGNvbnRlbnRIYXNoOiByb3dbNl0gYXMgc3RyaW5nLFxuICAgICAgc3RhdGU6IHJvd1s3XSBhcyBGbGFzaGNhcmRTdGF0ZSxcbiAgICAgIGR1ZURhdGU6IHJvd1s4XSBhcyBzdHJpbmcsXG4gICAgICBpbnRlcnZhbDogcm93WzldIGFzIG51bWJlcixcbiAgICAgIHJlcGV0aXRpb25zOiByb3dbMTBdIGFzIG51bWJlcixcbiAgICAgIGRpZmZpY3VsdHk6IHJvd1sxMV0gYXMgbnVtYmVyLFxuICAgICAgc3RhYmlsaXR5OiByb3dbMTJdIGFzIG51bWJlcixcbiAgICAgIGxhcHNlczogcm93WzEzXSBhcyBudW1iZXIsXG4gICAgICBsYXN0UmV2aWV3ZWQ6IHJvd1sxNF0gYXMgc3RyaW5nIHwgbnVsbCxcbiAgICAgIGNyZWF0ZWQ6IHJvd1sxNV0gYXMgc3RyaW5nLFxuICAgICAgbW9kaWZpZWQ6IHJvd1sxNl0gYXMgc3RyaW5nLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBERUZBVUxUX0ZTUlNfUEFSQU1FVEVSUyB9IGZyb20gXCIuL2FsZ29yaXRobS9mc3JzLXdlaWdodHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmRzU2V0dGluZ3Mge1xuICAvLyBSZXZpZXcgU2Vzc2lvbiBTZXR0aW5nc1xuICByZXZpZXc6IHtcbiAgICBzaG93UHJvZ3Jlc3M6IGJvb2xlYW47XG4gICAgZW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHM6IGJvb2xlYW47XG4gIH07XG5cbiAgLy8gUGFyc2luZyBTZXR0aW5nc1xuICBwYXJzaW5nOiB7XG4gICAgLy8gUGFyc2luZyBzZXR0aW5ncyBjYW4gYmUgYWRkZWQgaGVyZSBpbiB0aGUgZnV0dXJlXG4gIH07XG5cbiAgLy8gVUkgU2V0dGluZ3NcbiAgdWk6IHtcbiAgICBlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaDogYm9vbGVhbjtcbiAgICBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiBudW1iZXI7IC8vIHNlY29uZHNcbiAgICBlbmFibGVOb3RpY2VzOiBib29sZWFuO1xuICB9O1xuXG4gIC8vIERlYnVnIFNldHRpbmdzXG4gIGRlYnVnOiB7XG4gICAgZW5hYmxlTG9nZ2luZzogYm9vbGVhbjtcbiAgICBwZXJmb3JtYW5jZUxvZ3M6IGJvb2xlYW47XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBGbGFzaGNhcmRzU2V0dGluZ3MgPSB7XG4gIHJldmlldzoge1xuICAgIHNob3dQcm9ncmVzczogdHJ1ZSxcbiAgICBlbmFibGVLZXlib2FyZFNob3J0Y3V0czogdHJ1ZSxcbiAgfSxcblxuICBwYXJzaW5nOiB7XG4gICAgLy8gRGVmYXVsdCBwYXJzaW5nIHNldHRpbmdzXG4gIH0sXG5cbiAgdWk6IHtcbiAgICBlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiA1LFxuICAgIGVuYWJsZU5vdGljZXM6IHRydWUsXG4gIH0sXG5cbiAgZGVidWc6IHtcbiAgICBlbmFibGVMb2dnaW5nOiBmYWxzZSxcbiAgICBwZXJmb3JtYW5jZUxvZ3M6IGZhbHNlLFxuICB9LFxufTtcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEZsYXNoY2FyZHNTZXR0aW5ncyB9IGZyb20gXCIuLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgRGVja3NTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHByaXZhdGUgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncztcbiAgcHJpdmF0ZSBzYXZlU2V0dGluZ3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcGVyZm9ybVN5bmM6IChmb3JjZT86IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcmVmcmVzaFZpZXdTdGF0czogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZXN0YXJ0QmFja2dyb3VuZFJlZnJlc2g6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBzdG9wQmFja2dyb3VuZFJlZnJlc2g6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcHVyZ2VEYXRhYmFzZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwbHVnaW46IGFueSxcbiAgICBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzLFxuICAgIHNhdmVTZXR0aW5nczogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICBwZXJmb3JtU3luYzogKGZvcmNlPzogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPixcbiAgICByZWZyZXNoVmlld1N0YXRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIHJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZCxcbiAgICBzdGFydEJhY2tncm91bmRSZWZyZXNoOiAoKSA9PiB2b2lkLFxuICAgIHN0b3BCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZCxcbiAgICBwdXJnZURhdGFiYXNlOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICApIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gc2F2ZVNldHRpbmdzO1xuICAgIHRoaXMucGVyZm9ybVN5bmMgPSBwZXJmb3JtU3luYztcbiAgICB0aGlzLnJlZnJlc2hWaWV3U3RhdHMgPSByZWZyZXNoVmlld1N0YXRzO1xuICAgIHRoaXMucmVzdGFydEJhY2tncm91bmRSZWZyZXNoID0gcmVzdGFydEJhY2tncm91bmRSZWZyZXNoO1xuICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCA9IHN0YXJ0QmFja2dyb3VuZFJlZnJlc2g7XG4gICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2ggPSBzdG9wQmFja2dyb3VuZFJlZnJlc2g7XG4gICAgdGhpcy5wdXJnZURhdGFiYXNlID0gcHVyZ2VEYXRhYmFzZTtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiRGVja3MgUGx1Z2luIFNldHRpbmdzXCIgfSk7XG5cbiAgICAvLyBSZXZpZXcgU2Vzc2lvbiBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUmV2aWV3U2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXG4gICAgLy8gUGFyc2luZyBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUGFyc2luZ1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIFVJIFNldHRpbmdzXG4gICAgdGhpcy5hZGRVSVNldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIERlYnVnIFNldHRpbmdzXG4gICAgdGhpcy5hZGREZWJ1Z1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIERhdGFiYXNlIE1hbmFnZW1lbnQgU2V0dGluZ3NcbiAgICB0aGlzLmFkZERhdGFiYXNlU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRSZXZpZXdTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJSZXZpZXcgU2Vzc2lvbnNcIiB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTaG93IFByb2dyZXNzXCIpXG4gICAgICAuc2V0RGVzYyhcIkRpc3BsYXkgcHJvZ3Jlc3MgYmFyIGR1cmluZyByZXZpZXcgc2Vzc2lvbnNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MucmV2aWV3LnNob3dQcm9ncmVzcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnJldmlldy5zaG93UHJvZ3Jlc3MgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIktleWJvYXJkIFNob3J0Y3V0c1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUga2V5Ym9hcmQgc2hvcnRjdXRzIGluIHJldmlldyBtb2RhbCAoMS00IGZvciBkaWZmaWN1bHR5KVwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5yZXZpZXcuZW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHMpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5yZXZpZXcuZW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQYXJzaW5nU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiUGFyc2luZ1wiIH0pO1xuXG4gICAgY29uc3QgcGFyc2VTZXR0aW5nc0Rlc2MgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoKTtcbiAgICBwYXJzZVNldHRpbmdzRGVzYy5pbm5lckhUTUwgPSBgXG4gICAgICA8cCBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgZm9udC1zaXplOiAwLjllbTsgbWFyZ2luOiAxMHB4IDA7XCI+XG4gICAgICAgIEhlYWRlciBsZXZlbCBzZXR0aW5ncyBoYXZlIGJlZW4gbW92ZWQgdG8gaW5kaXZpZHVhbCBkZWNrIGNvbmZpZ3VyYXRpb25zLlxuICAgICAgICBDb25maWd1cmUgaGVhZGVyIGxldmVscyBwZXIgZGVjayBpbiB0aGUgZGVjayBzZXR0aW5ncy5cbiAgICAgIDwvcD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRVSVNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlVzZXIgSW50ZXJmYWNlXCIgfSk7XG5cbiAgICBjb25zdCBpbnRlcnZhbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiQmFja2dyb3VuZCBSZWZyZXNoIEludGVydmFsXCIpXG4gICAgICAuc2V0RGVzYyhcIkhvdyBvZnRlbiB0byByZWZyZXNoIGRlY2sgc3RhdHMgaW4gdGhlIHNpZGUgcGFuZWwgKGluIHNlY29uZHMpXCIpXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjVcIilcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy51aS5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLnRvU3RyaW5nKCkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihudW0pICYmIG51bSA+PSAxICYmIG51bSA8PSA2MCkge1xuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgPSBudW07XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgIC8vIFJlc3RhcnQgYmFja2dyb3VuZCByZWZyZXNoIHdpdGggbmV3IGludGVydmFsXG4gICAgICAgICAgICAgIHRoaXMucmVzdGFydEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkVuYWJsZSBCYWNrZ3JvdW5kIFJlZnJlc2hcIilcbiAgICAgIC5zZXREZXNjKFwiQXV0b21hdGljYWxseSByZWZyZXNoIGRlY2sgc3RhdHMgaW4gdGhlIHNpZGUgcGFuZWxcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy51aS5lbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlL2Rpc2FibGUgaW50ZXJ2YWwgc2V0dGluZyBiYXNlZCBvbiB0b2dnbGVcbiAgICAgICAgICAgIGludGVydmFsU2V0dGluZy5zZXREaXNhYmxlZCghdmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBTdGFydCBvciBzdG9wIGJhY2tncm91bmQgcmVmcmVzaCBiYXNlZCBvbiBzZXR0aW5nXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJFbmFibGUgTm90aWNlc1wiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiU2hvdyBub3RpZmljYXRpb24gbWVzc2FnZXMgZm9yIGNvbXBsZXRlZCByZXZpZXcgc2Vzc2lvbnMgYW5kIHN5bmMgb3BlcmF0aW9uc1wiLFxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy51aS5lbmFibGVOb3RpY2VzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlTm90aWNlcyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZSBvZiBpbnRlcnZhbCBzZXR0aW5nXG4gICAgaW50ZXJ2YWxTZXR0aW5nLnNldERpc2FibGVkKCF0aGlzLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkRGVidWdTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJEZWJ1Z1wiIH0pO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiBcIkRlYnVnIHNldHRpbmdzIGZvciB0cm91Ymxlc2hvb3RpbmcgYW5kIGRldmVsb3BtZW50LlwiLFxuICAgICAgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxuICAgIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkVuYWJsZSBEZWJ1ZyBMb2dnaW5nXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJTaG93IGRldGFpbGVkIGxvZ2dpbmcgaW4gdGhlIGNvbnNvbGUgZm9yIHN5bmMgb3BlcmF0aW9ucyBhbmQgZmxhc2hjYXJkIHByb2Nlc3NpbmdcIixcbiAgICAgIClcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MuZGVidWc/LmVuYWJsZUxvZ2dpbmcgfHwgZmFsc2UpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VMb2dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcuZW5hYmxlTG9nZ2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRW5hYmxlIFBlcmZvcm1hbmNlIExvZ3NcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIlNob3cgcGVyZm9ybWFuY2UgdGltaW5nIG1ldHJpY3MgaW4gdGhlIGNvbnNvbGUgKHN5bmMgdGltZXMsIHBhcnNpbmcgcGVyZm9ybWFuY2UsIGV0Yy4pXCIsXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLmRlYnVnPy5wZXJmb3JtYW5jZUxvZ3MgfHwgZmFsc2UpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VMb2dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcucGVyZm9ybWFuY2VMb2dzID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkRGF0YWJhc2VTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJEYXRhYmFzZSBNYW5hZ2VtZW50XCIgfSk7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgIHRleHQ6IFwiTWFuYWdlIHlvdXIgZmxhc2hjYXJkIGRhdGFiYXNlLiBVc2Ugd2l0aCBjYXV0aW9uIC0gdGhlc2UgYWN0aW9ucyBjYW5ub3QgYmUgdW5kb25lLlwiLFxuICAgICAgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxuICAgIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlB1cmdlIERhdGFiYXNlXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJcdTI2QTBcdUZFMEYgUGVybWFuZW50bHkgZGVsZXRlIGFsbCBmbGFzaGNhcmRzLCByZXZpZXcgaGlzdG9yeSwgYW5kIGRlY2sgZGF0YS4gVGhpcyB3aWxsIGZvcmNlIGEgY2xlYW4gcmVidWlsZCBmcm9tIHlvdXIgdmF1bHQgZmlsZXMuIEFsbCBwcm9ncmVzcyB3aWxsIGJlIGxvc3QhXCIsXG4gICAgICApXG4gICAgICAuYWRkQnV0dG9uKChidXR0b24pID0+XG4gICAgICAgIGJ1dHRvblxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiUHVyZ2UgRGF0YWJhc2VcIilcbiAgICAgICAgICAuc2V0V2FybmluZygpXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgbmV3IERhdGFiYXNlUHVyZ2VNb2RhbChcbiAgICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICAgIHRoaXMucHVyZ2VEYXRhYmFzZSxcbiAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtU3luYyxcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoVmlld1N0YXRzLFxuICAgICAgICAgICAgKS5vcGVuKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG59XG5cbmNsYXNzIERhdGFiYXNlUHVyZ2VNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBwdXJnZURhdGFiYXNlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHBlcmZvcm1TeW5jOiAoZm9yY2U/OiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHJlZnJlc2hWaWV3U3RhdHM6ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHVyZ2VEYXRhYmFzZTogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICBwZXJmb3JtU3luYzogKGZvcmNlPzogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPixcbiAgICByZWZyZXNoVmlld1N0YXRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucHVyZ2VEYXRhYmFzZSA9IHB1cmdlRGF0YWJhc2U7XG4gICAgdGhpcy5wZXJmb3JtU3luYyA9IHBlcmZvcm1TeW5jO1xuICAgIHRoaXMucmVmcmVzaFZpZXdTdGF0cyA9IHJlZnJlc2hWaWV3U3RhdHM7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiXHUyNkEwXHVGRTBGIFB1cmdlIERhdGFiYXNlXCIgfSk7XG5cbiAgICBjb25zdCB3YXJuaW5nID0gY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcbiAgICB3YXJuaW5nLmlubmVySFRNTCA9IGBcbiAgICAgIDxwPjxzdHJvbmc+VGhpcyB3aWxsIHBlcm1hbmVudGx5IGRlbGV0ZSBBTEwgZmxhc2hjYXJkIGRhdGEgaW5jbHVkaW5nOjwvc3Ryb25nPjwvcD5cbiAgICAgIDx1bD5cbiAgICAgICAgPGxpPkFsbCBmbGFzaGNhcmRzIGFuZCB0aGVpciBjb250ZW50PC9saT5cbiAgICAgICAgPGxpPkNvbXBsZXRlIHJldmlldyBoaXN0b3J5IGFuZCBwcm9ncmVzczwvbGk+XG4gICAgICAgIDxsaT5BbGwgZGVjayBpbmZvcm1hdGlvbjwvbGk+XG4gICAgICAgIDxsaT5TdGF0aXN0aWNhbCBkYXRhPC9saT5cbiAgICAgIDwvdWw+XG4gICAgICA8cD48c3Ryb25nPlRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUhPC9zdHJvbmc+PC9wPlxuICAgICAgPHA+VGhlIGRhdGFiYXNlIHdpbGwgYmUgcmVidWlsdCBmcm9tIHlvdXIgY3VycmVudCB2YXVsdCBmaWxlcywgYnV0IGFsbCBwcm9ncmVzcyB3aWxsIGJlIGxvc3QuPC9wPlxuICAgIGA7XG5cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgIHRleHQ6ICdUeXBlIFwiREVMRVRFIEFMTCBEQVRBXCIgdG8gY29uZmlybTonLFxuICAgICAgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgaW5wdXQgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHBsYWNlaG9sZGVyOiBcIkRFTEVURSBBTEwgREFUQVwiLFxuICAgIH0pO1xuICAgIGlucHV0LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgaW5wdXQuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxcmVtXCI7XG5cbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICBidXR0b25Db250YWluZXIuc3R5bGUuZ2FwID0gXCIwLjVyZW1cIjtcbiAgICBidXR0b25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImZsZXgtZW5kXCI7XG5cbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIkNhbmNlbFwiIH0pO1xuICAgIGNhbmNlbEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuXG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG4gICAgICB0ZXh0OiBcIlB1cmdlIERhdGFiYXNlXCIsXG4gICAgICBjbHM6IFwibW9kLXdhcm5pbmdcIixcbiAgICB9KTtcblxuICAgIGNvbmZpcm1CdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChpbnB1dC52YWx1ZSA9PT0gXCJERUxFVEUgQUxMIERBVEFcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICAgIC8vIFNob3cgcHJvZ3Jlc3Mgbm90aWNlXG4gICAgICAgICAgY29uc3Qgbm90aWNlID0gbmV3IE5vdGljZShcIlB1cmdpbmcgZGF0YWJhc2UuLi5cIiwgMCk7XG5cbiAgICAgICAgICAvLyBQdXJnZSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICBhd2FpdCB0aGlzLnB1cmdlRGF0YWJhc2UoKTtcblxuICAgICAgICAgIC8vIFRyaWdnZXIgYSBmdWxsIHN5bmMgdG8gcmVidWlsZCBmcm9tIHZhdWx0XG4gICAgICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU3luYyh0cnVlKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbm90aWNlXG4gICAgICAgICAgbm90aWNlLnNldE1lc3NhZ2UoXCJcdTI3MDUgRGF0YWJhc2UgcHVyZ2VkIGFuZCByZWJ1aWx0IHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGljZS5oaWRlKCksIDMwMDApO1xuXG4gICAgICAgICAgLy8gUmVmcmVzaCB0aGUgdmlld1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFZpZXdTdGF0cygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcHVyZ2UgZGF0YWJhc2U6XCIsIGVycm9yKTtcbiAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgXCJcdTI3NEMgRmFpbGVkIHRvIHB1cmdlIGRhdGFiYXNlLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgNTAwMCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgIFwiQ29uZmlybWF0aW9uIHRleHQgZG9lc24ndCBtYXRjaC4gRGF0YWJhc2UgcHVyZ2UgY2FuY2VsbGVkLlwiLFxuICAgICAgICAgIDMwMDAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEZvY3VzIHRoZSBpbnB1dFxuICAgIGlucHV0LmZvY3VzKCk7XG5cbiAgICAvLyBBbGxvdyBFbnRlciBrZXkgdG8gY29uZmlybVxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgY29uZmlybUJ1dHRvbi5jbGljaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG4gICAgZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuICAgICAgICBsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcnVuKGZuKSB7XG4gICAgcmV0dXJuIGZuKCk7XG59XG5mdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5mdW5jdGlvbiBydW5fYWxsKGZucykge1xuICAgIGZucy5mb3JFYWNoKHJ1bik7XG59XG5mdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xufVxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG4gICAgaWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuICAgICAgICBzcmNfdXJsX2VxdWFsX2FuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG4gICAgc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gZWxlbWVudF9zcmMgPT09IHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWY7XG59XG5mdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcbiAgICBpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuICAgIGlmIChzdG9yZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuICAgIHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbmZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBzdWJzY3JpYmUoc3RvcmUsIF8gPT4gdmFsdWUgPSBfKSgpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcbiAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmblxuICAgICAgICA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKVxuICAgICAgICA6ICQkc2NvcGUuY3R4O1xufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuICAgICAgICBjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuICAgICAgICBpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcbiAgICB9XG4gICAgcmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9zbG90KHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbiwgZ2V0X3Nsb3RfY29udGV4dF9mbikge1xuICAgIGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG4gICAgdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cbmZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG4gICAgaWYgKCQkc2NvcGUuY3R4Lmxlbmd0aCA+IDMyKSB7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gW107XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcbiAgICBjb25zdCByZXN0ID0ge307XG4gICAga2V5cyA9IG5ldyBTZXQoa2V5cyk7XG4gICAgZm9yIChjb25zdCBrIGluIHByb3BzKVxuICAgICAgICBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3Rba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICByZXN1bHRba2V5XSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAocmFuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlKSB7XG4gICAgc3RvcmUuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuICAgIHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcbiAgICBjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuICAgIHJldHVybiBzcGxpdCA/IFtwYXJzZUZsb2F0KHNwbGl0WzFdKSwgc3BsaXRbMl0gfHwgJ3B4J10gOiBbdmFsdWUsICdweCddO1xufVxuY29uc3QgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMgPSBbJycsIHRydWUsIDEsICd0cnVlJywgJ2NvbnRlbnRlZGl0YWJsZSddO1xuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBub3cgPSBpc19jbGllbnRcbiAgICA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuICAgIDogKCkgPT4gRGF0ZS5ub3coKTtcbmxldCByYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIG5vdyA9IGZuO1xufVxuZnVuY3Rpb24gc2V0X3JhZihmbikge1xuICAgIHJhZiA9IGZuO1xufVxuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAoIXRhc2suYyhub3cpKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgICAgICB0YXNrLmYoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YXNrcy5zaXplICE9PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBuZXcgUHJvbWlzZShmdWxmaWxsID0+IHtcbiAgICAgICAgICAgIHRhc2tzLmFkZCh0YXNrID0geyBjOiBjYWxsYmFjaywgZjogZnVsZmlsbCB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0KCkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgZ2xvYmFscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gd2luZG93XG4gICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgIDogZ2xvYmFsKTtcblxuLyoqXG4gKiBSZXNpemUgb2JzZXJ2ZXIgc2luZ2xldG9uLlxuICogT25lIGxpc3RlbmVyIHBlciBlbGVtZW50IG9ubHkhXG4gKiBodHRwczovL2dyb3Vwcy5nb29nbGUuY29tL2EvY2hyb21pdW0ub3JnL2cvYmxpbmstZGV2L2MvejZpZW5PTlViNUEvbS9GNS1WY1VadEJBQUpcbiAqL1xuY2xhc3MgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gJ1dlYWtNYXAnIGluIGdsb2JhbHMgPyBuZXcgV2Vha01hcCgpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvYnNlcnZlKGVsZW1lbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZWxlbWVudCwgbGlzdGVuZXIpO1xuICAgICAgICB0aGlzLl9nZXRPYnNlcnZlcigpLm9ic2VydmUoZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7IC8vIHRoaXMgbGluZSBjYW4gcHJvYmFibHkgYmUgcmVtb3ZlZFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfZ2V0T2JzZXJ2ZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX29ic2VydmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy5fb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMuc2V0KGVudHJ5LnRhcmdldCwgZW50cnkpO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZW50cnkudGFyZ2V0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbi8vIE5lZWRzIHRvIGJlIHdyaXR0ZW4gbGlrZSB0aGlzIHRvIHBhc3MgdGhlIHRyZWUtc2hha2UtdGVzdFxuUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uZW50cmllcyA9ICdXZWFrTWFwJyBpbiBnbG9iYWxzID8gbmV3IFdlYWtNYXAoKSA6IHVuZGVmaW5lZDtcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5mdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG4gICAgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcbiAgICAvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgY29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcbiAgICAgICAgaWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG93O1xufVxuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KVxuICAgICAgICByZXR1cm47XG4gICAgdGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG4gICAgLy8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuICAgIGxldCBjaGlsZHJlbiA9IHRhcmdldC5jaGlsZE5vZGVzO1xuICAgIC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG4gICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG4gICAgICAgIGNvbnN0IG15Q2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG15Q2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbiA9IG15Q2hpbGRyZW47XG4gICAgfVxuICAgIC8qXG4gICAgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuICAgICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuICAgICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3RcbiAgICAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG4gICAgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuICAgICpcbiAgICAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuICAgICogcG9zc2libGUuXG4gICAgKlxuICAgICogUHJvb2Y6XG4gICAgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcbiAgICAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuICAgICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcbiAgICAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG4gICAgKi9cbiAgICAvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuICAgIC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcbiAgICBjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG4gICAgLy8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcbiAgICBjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICBtWzBdID0gLTE7XG4gICAgbGV0IGxvbmdlc3QgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuICAgICAgICAvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuICAgICAgICAvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuICAgICAgICAvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuICAgICAgICBjb25zdCBzZXFMZW4gPSAoKGxvbmdlc3QgPiAwICYmIGNoaWxkcmVuW21bbG9uZ2VzdF1dLmNsYWltX29yZGVyIDw9IGN1cnJlbnQpID8gbG9uZ2VzdCArIDEgOiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCBpZHggPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcbiAgICAgICAgcFtpXSA9IG1bc2VxTGVuXSArIDE7XG4gICAgICAgIGNvbnN0IG5ld0xlbiA9IHNlcUxlbiArIDE7XG4gICAgICAgIC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cbiAgICAgICAgbVtuZXdMZW5dID0gaTtcbiAgICAgICAgbG9uZ2VzdCA9IE1hdGgubWF4KG5ld0xlbiwgbG9uZ2VzdCk7XG4gICAgfVxuICAgIC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcbiAgICBjb25zdCBsaXMgPSBbXTtcbiAgICAvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuICAgIGNvbnN0IHRvTW92ZSA9IFtdO1xuICAgIGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcbiAgICAgICAgbGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuICAgICAgICBmb3IgKDsgbGFzdCA+PSBjdXI7IGxhc3QtLSkge1xuICAgICAgICAgICAgdG9Nb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QtLTtcbiAgICB9XG4gICAgZm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG4gICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICB9XG4gICAgbGlzLnJldmVyc2UoKTtcbiAgICAvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcbiAgICB0b01vdmUuc29ydCgoYSwgYikgPT4gYS5jbGFpbV9vcmRlciAtIGIuY2xhaW1fb3JkZXIpO1xuICAgIC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9Nb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b01vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvTW92ZVtpXSwgYW5jaG9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcbiAgICBjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG4gICAgaWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuICAgICAgICBhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUpXG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICBjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBpZiAocm9vdCAmJiByb290Lmhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG4gICAgY29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgYXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcbiAgICByZXR1cm4gc3R5bGVfZWxlbWVudC5zaGVldDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG4gICAgYXBwZW5kKG5vZGUuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG4gICAgcmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nKSB7XG4gICAgICAgIGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQpIHx8ICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuICAgICAgICB3aGlsZSAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuICAgICAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5mdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzZWxmKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQuaXNUcnVzdGVkKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yc1trZXldICYmIGRlc2NyaXB0b3JzW2tleV0uc2V0ICYmIGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuICAgIE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEodGFnKSB7XG4gICAgcmV0dXJuICgvLS8udGVzdCh0YWcpKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChncm91cFtpXS5jaGVja2VkKVxuICAgICAgICAgICAgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgdmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcbiAgICBsZXQgX2lucHV0cztcbiAgICByZXR1cm4ge1xuICAgICAgICAvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG4gICAgICAgICAgICBfaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogcmVtb3ZlICovIHIoKSB7XG4gICAgICAgICAgICBfaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMoZ3JvdXAsIGluZGV4ZXMpIHtcbiAgICBsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuICAgIGxldCBfaW5wdXRzO1xuICAgIGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8qIHVwZGF0ZSAqLyB1KG5ld19pbmRleGVzKSB7XG4gICAgICAgICAgICBpbmRleGVzID0gbmV3X2luZGV4ZXM7XG4gICAgICAgICAgICBjb25zdCBuZXdfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG4gICAgICAgICAgICBpZiAobmV3X2dyb3VwICE9PSBfZ3JvdXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBfZ3JvdXAgPSBuZXdfZ3JvdXA7XG4gICAgICAgICAgICAgICAgcHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG4gICAgICAgICAgICBfaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICAgICAgcHVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuICAgIGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc05vZGUsIGNyZWF0ZU5vZGUsIGRvbnRVcGRhdGVMYXN0SW5kZXggPSBmYWxzZSkge1xuICAgIC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCByZXN1bHROb2RlID0gKCgpID0+IHtcbiAgICAgICAgLy8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuICAgICAgICAvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzTm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGUoKTtcbiAgICB9KSgpO1xuICAgIHJlc3VsdE5vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgcmV0dXJuIHJlc3VsdE5vZGU7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlLmZvckVhY2godiA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSkpO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhU3RyID0gJycgKyBkYXRhO1xuICAgICAgICBpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YVN0cikpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhU3RyLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSBkYXRhU3RyO1xuICAgICAgICB9XG4gICAgfSwgKCkgPT4gdGV4dChkYXRhKSwgdHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcbiAgICApO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcbiAgICByZXR1cm4gY2xhaW1fbm9kZShub2RlcywgKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LCAoKSA9PiBjb21tZW50KGRhdGEpLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGZpbmRfY29tbWVudChub2RlcywgdGV4dCwgc3RhcnQpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcbiAgICAvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcbiAgICBjb25zdCBzdGFydF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG4gICAgY29uc3QgZW5kX2luZGV4ID0gZmluZF9jb21tZW50KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXgpO1xuICAgIGlmIChzdGFydF9pbmRleCA9PT0gZW5kX2luZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbih1bmRlZmluZWQsIGlzX3N2Zyk7XG4gICAgfVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcbiAgICBkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuICAgIGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuICAgICAgICBuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGNsYWltZWRfbm9kZXMsIGlzX3N2Zyk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC5kYXRhID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcbiAgICBpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcbiAgICAgICAgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0X2RhdGEodGV4dCwgZGF0YSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gLTE7IC8vIG5vIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWRcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcbiAgICBjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuICAgIHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgb3B0aW9uID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxubGV0IGNyb3Nzb3JpZ2luO1xuZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3Jvc3NvcmlnaW4gPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY3Jvc3NvcmlnaW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcm9zc29yaWdpbjtcbn1cbmZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG4gICAgY29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG4gICAgICAgICdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaWZyYW1lLnRhYkluZGV4ID0gLTE7XG4gICAgY29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuICAgIGxldCB1bnN1YnNjcmliZTtcbiAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKHdpbmRvdywgJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KVxuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG4gICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBwZW5kKG5vZGUsIGlmcmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaChpZnJhbWUpO1xuICAgIH07XG59XG5jb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHsgYm94OiAnY29udGVudC1ib3gnIH0pO1xuY29uc3QgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHsgYm94OiAnYm9yZGVyLWJveCcgfSk7XG5jb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfSk7XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlLCBkZXRhaWwpO1xuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cbmZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IHN0YXJ0ZWQgPSAwO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgICBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcbiAgICAgICAgICAgICAgICBzdGFydGVkIC09IDE7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCArPSAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBpc19zdmc7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19zdmcpXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gc3ZnX2VsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gZWxlbWVudCgodGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMudCA9IHRhcmdldC50YWdOYW1lICE9PSAnVEVNUExBVEUnID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXMpO1xuICAgIH1cbiAgICBpKGFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0KHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHAoaHRtbCkge1xuICAgICAgICB0aGlzLmQoKTtcbiAgICAgICAgdGhpcy5oKGh0bWwpO1xuICAgICAgICB0aGlzLmkodGhpcy5hKTtcbiAgICB9XG4gICAgZCgpIHtcbiAgICAgICAgdGhpcy5uLmZvckVhY2goZGV0YWNoKTtcbiAgICB9XG59XG5jbGFzcyBIdG1sVGFnSHlkcmF0aW9uIGV4dGVuZHMgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoY2xhaW1lZF9ub2RlcywgaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoaXNfc3ZnKTtcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICAgICAgdGhpcy5sID0gY2xhaW1lZF9ub2RlcztcbiAgICB9XG4gICAgYyhodG1sKSB7XG4gICAgICAgIGlmICh0aGlzLmwpIHtcbiAgICAgICAgICAgIHRoaXMubiA9IHRoaXMubDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICByZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudChjb21wb25lbnQsIHByb3BzKSB7XG4gICAgcmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vLyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBmb3IgbXVsdGlwbGUgZG9jdW1lbnRzIGJlY2F1c2UgYSBTdmVsdGUgYXBwbGljYXRpb24gY291bGQgYWxzbyBjb250YWluIGlmcmFtZXNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzM2MjRcbmNvbnN0IG1hbmFnZWRfc3R5bGVzID0gbmV3IE1hcCgpO1xubGV0IGFjdGl2ZSA9IDA7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9zdHJpbmctaGFzaC9ibG9iL21hc3Rlci9pbmRleC5qc1xuZnVuY3Rpb24gaGFzaChzdHIpIHtcbiAgICBsZXQgaGFzaCA9IDUzODE7XG4gICAgbGV0IGkgPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBoYXNoID4+PiAwO1xufVxuZnVuY3Rpb24gY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSkge1xuICAgIGNvbnN0IGluZm8gPSB7IHN0eWxlc2hlZXQ6IGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpLCBydWxlczoge30gfTtcbiAgICBtYW5hZ2VkX3N0eWxlcy5zZXQoZG9jLCBpbmZvKTtcbiAgICByZXR1cm4gaW5mbztcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcbiAgICBjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG4gICAgbGV0IGtleWZyYW1lcyA9ICd7XFxuJztcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgdCA9IGEgKyAoYiAtIGEpICogZWFzZShwKTtcbiAgICAgICAga2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcbiAgICB9XG4gICAgY29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG4gICAgY29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG4gICAgY29uc3QgZG9jID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpO1xuICAgIGNvbnN0IHsgc3R5bGVzaGVldCwgcnVsZXMgfSA9IG1hbmFnZWRfc3R5bGVzLmdldChkb2MpIHx8IGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpO1xuICAgIGlmICghcnVsZXNbbmFtZV0pIHtcbiAgICAgICAgcnVsZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBzdHlsZXNoZWV0Lmluc2VydFJ1bGUoYEBrZXlmcmFtZXMgJHtuYW1lfSAke3J1bGV9YCwgc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJztcbiAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IGAke2FuaW1hdGlvbiA/IGAke2FuaW1hdGlvbn0sIGAgOiAnJ30ke25hbWV9ICR7ZHVyYXRpb259bXMgbGluZWFyICR7ZGVsYXl9bXMgMSBib3RoYDtcbiAgICBhY3RpdmUgKz0gMTtcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpIHtcbiAgICBjb25zdCBwcmV2aW91cyA9IChub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJykuc3BsaXQoJywgJyk7XG4gICAgY29uc3QgbmV4dCA9IHByZXZpb3VzLmZpbHRlcihuYW1lXG4gICAgICAgID8gYW5pbSA9PiBhbmltLmluZGV4T2YobmFtZSkgPCAwIC8vIHJlbW92ZSBzcGVjaWZpYyBhbmltYXRpb25cbiAgICAgICAgOiBhbmltID0+IGFuaW0uaW5kZXhPZignX19zdmVsdGUnKSA9PT0gLTEgLy8gcmVtb3ZlIGFsbCBTdmVsdGUgYW5pbWF0aW9uc1xuICAgICk7XG4gICAgY29uc3QgZGVsZXRlZCA9IHByZXZpb3VzLmxlbmd0aCAtIG5leHQubGVuZ3RoO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gbmV4dC5qb2luKCcsICcpO1xuICAgICAgICBhY3RpdmUgLT0gZGVsZXRlZDtcbiAgICAgICAgaWYgKCFhY3RpdmUpXG4gICAgICAgICAgICBjbGVhcl9ydWxlcygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFyX3J1bGVzKCkge1xuICAgIHJhZigoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG1hbmFnZWRfc3R5bGVzLmZvckVhY2goaW5mbyA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG93bmVyTm9kZSB9ID0gaW5mby5zdHlsZXNoZWV0O1xuICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gb3duZXJOb2RlIGlmIGl0IHJ1bnMgb24ganNkb20uXG4gICAgICAgICAgICBpZiAob3duZXJOb2RlKVxuICAgICAgICAgICAgICAgIGRldGFjaChvd25lck5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuY2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2FuaW1hdGlvbihub2RlLCBmcm9tLCBmbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGZyb20ubGVmdCA9PT0gdG8ubGVmdCAmJiBmcm9tLnJpZ2h0ID09PSB0by5yaWdodCAmJiBmcm9tLnRvcCA9PT0gdG8udG9wICYmIGZyb20uYm90dG9tID09PSB0by5ib3R0b20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogc2hvdWxkIHRoaXMgYmUgc2VwYXJhdGVkIGZyb20gZGVzdHJ1Y3R1cmluZz8gT3Igc3RhcnQvZW5kIGFkZGVkIHRvIHB1YmxpYyBhcGkgYW5kIGRvY3VtZW50YXRpb24/XG4gICAgc3RhcnQ6IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmxldCBjdXJyZW50X2NvbXBvbmVudDtcbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuICAgIHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtYmVmb3JldXBkYXRlXG4gKi9cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oL2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLW9ubW91bnRcbiAqL1xuZnVuY3Rpb24gb25Nb3VudChmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKi9cbmZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLW9uZGVzdHJveVxuICovXG5mdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oL2RvY3MjdGVtcGxhdGUtc3ludGF4LWNvbXBvbmVudC1kaXJlY3RpdmVzLW9uLWV2ZW50bmFtZSkuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcbiAgICByZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgIC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlIH0pO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLXNldGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtZ2V0Y29udGV4dFxuICovXG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHdob2xlIGNvbnRleHQgbWFwIHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi4gVXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgeW91XG4gKiBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGNvbXBvbmVudCBhbmQgd2FudCB0byBwYXNzIHRoZSBleGlzdGluZyBjb250ZXh0IHRvIGl0LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1nZXRhbGxjb250ZXh0c1xuICovXG5mdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtaGFzY29udGV4dFxuICovXG5mdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbmZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG4gICAgfVxufVxuXG5jb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5jb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5jb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuICAgIC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cbiAgICAvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cbiAgICBpZiAoZmx1c2hpZHggIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBkbyB7XG4gICAgICAgIC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcbiAgICAgICAgLy8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuICAgICAgICAgICAgICAgIGZsdXNoaWR4Kys7XG4gICAgICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcbiAgICAgICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBbXTtcbiAgICBjb25zdCB0YXJnZXRzID0gW107XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiBmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKTtcbiAgICB0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG4gICAgcmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuICAgIGdyb3VwLnIgKz0gMTtcbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuICAgICAgICBjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWdyb3VwLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwoZ3JvdXAuYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSAtIHQsIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2JvdGgnIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuICAgIGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgIGxldCBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgIGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gY2xlYXJfYW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZCA9IChwcm9ncmFtLmIgLSB0KTtcbiAgICAgICAgZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhOiB0LFxuICAgICAgICAgICAgYjogcHJvZ3JhbS5iLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IHByb2dyYW0uc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIGdyb3VwOiBwcm9ncmFtLmdyb3VwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKGIpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBub3coKSArIGRlbGF5LFxuICAgICAgICAgICAgYlxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuICAgICAgICAgICAgb3V0cm9zLnIgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgIC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYilcbiAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcbiAgICAgICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBydW5uaW5nX3Byb2dyYW0uYiwgcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLCAwLCBlYXNpbmcsIGNvbmZpZy5jc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQgPSBydW5uaW5nX3Byb2dyYW0uYiwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRybyBcdTIwMTQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdXRybyBcdTIwMTQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBydW4oYikge1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIGlmICghaW5mby5oYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8ucGVuZGluZykge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8ucGVuZGluZywgMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby50aGVuKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSBwcm9taXNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2goaW5mbywgY3R4LCBkaXJ0eSkge1xuICAgIGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuICAgIGNvbnN0IHsgcmVzb2x2ZWQgfSA9IGluZm87XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby50aGVuKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLnZhbHVlXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLmVycm9yXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpbmZvLmJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCB1cGRhdGVzID0gW107XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHluYW1pYykge1xuICAgICAgICAgICAgLy8gZGVmZXIgdXBkYXRlcyB1bnRpbCBhbGwgdGhlIERPTSBzaHVmZmxpbmcgaXMgZG9uZVxuICAgICAgICAgICAgdXBkYXRlcy5wdXNoKCgpID0+IGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcnVuX2FsbCh1cGRhdGVzKTtcbiAgICByZXR1cm4gbmV3X2Jsb2Nrcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcbiAgICAgICAgaWYgKGtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoJyk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICAgIGNvbnN0IHRvX251bGxfb3V0ID0ge307XG4gICAgY29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuICAgIGxldCBpID0gbGV2ZWxzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IG8gPSBsZXZlbHNbaV07XG4gICAgICAgIGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBuKSlcbiAgICAgICAgICAgICAgICAgICAgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50ZWRfZm9yW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlW2tleV0gPSBuW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWxzW2ldID0gbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHRvX251bGxfb3V0KSB7XG4gICAgICAgIGlmICghKGtleSBpbiB1cGRhdGUpKVxuICAgICAgICAgICAgdXBkYXRlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGU7XG59XG5mdW5jdGlvbiBnZXRfc3ByZWFkX29iamVjdChzcHJlYWRfcHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNwcmVhZF9wcm9wcyA9PT0gJ29iamVjdCcgJiYgc3ByZWFkX3Byb3BzICE9PSBudWxsID8gc3ByZWFkX3Byb3BzIDoge307XG59XG5cbmNvbnN0IF9ib29sZWFuX2F0dHJpYnV0ZXMgPSBbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2luZXJ0JyxcbiAgICAnaXNtYXAnLFxuICAgICdsb29wJyxcbiAgICAnbXVsdGlwbGUnLFxuICAgICdtdXRlZCcsXG4gICAgJ25vbW9kdWxlJyxcbiAgICAnbm92YWxpZGF0ZScsXG4gICAgJ29wZW4nLFxuICAgICdwbGF5c2lubGluZScsXG4gICAgJ3JlYWRvbmx5JyxcbiAgICAncmVxdWlyZWQnLFxuICAgICdyZXZlcnNlZCcsXG4gICAgJ3NlbGVjdGVkJ1xuXTtcbi8qKlxuICogTGlzdCBvZiBIVE1MIGJvb2xlYW4gYXR0cmlidXRlcyAoZS5nLiBgPGlucHV0IGRpc2FibGVkPmApLlxuICogU291cmNlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWxcbiAqL1xuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbLi4uX2Jvb2xlYW5fYXR0cmlidXRlc10pO1xuXG4vKiogcmVnZXggb2YgYWxsIGh0bWwgdm9pZCBlbGVtZW50IG5hbWVzICovXG5jb25zdCB2b2lkX2VsZW1lbnRfbmFtZXMgPSAvXig/OmFyZWF8YmFzZXxicnxjb2x8Y29tbWFuZHxlbWJlZHxocnxpbWd8aW5wdXR8a2V5Z2VufGxpbmt8bWV0YXxwYXJhbXxzb3VyY2V8dHJhY2t8d2JyKSQvO1xuZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG4gICAgcmV0dXJuIHZvaWRfZWxlbWVudF9uYW1lcy50ZXN0KG5hbWUpIHx8IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJyFkb2N0eXBlJztcbn1cblxuY29uc3QgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSAvW1xccydcIj4vPVxcdXtGREQwfS1cXHV7RkRFRn1cXHV7RkZGRX1cXHV7RkZGRn1cXHV7MUZGRkV9XFx1ezFGRkZGfVxcdXsyRkZGRX1cXHV7MkZGRkZ9XFx1ezNGRkZFfVxcdXszRkZGRn1cXHV7NEZGRkV9XFx1ezRGRkZGfVxcdXs1RkZGRX1cXHV7NUZGRkZ9XFx1ezZGRkZFfVxcdXs2RkZGRn1cXHV7N0ZGRkV9XFx1ezdGRkZGfVxcdXs4RkZGRX1cXHV7OEZGRkZ9XFx1ezlGRkZFfVxcdXs5RkZGRn1cXHV7QUZGRkV9XFx1e0FGRkZGfVxcdXtCRkZGRX1cXHV7QkZGRkZ9XFx1e0NGRkZFfVxcdXtDRkZGRn1cXHV7REZGRkV9XFx1e0RGRkZGfVxcdXtFRkZGRX1cXHV7RUZGRkZ9XFx1e0ZGRkZFfVxcdXtGRkZGRn1cXHV7MTBGRkZFfVxcdXsxMEZGRkZ9XS91O1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jbm9uY2hhcmFjdGVyXG5mdW5jdGlvbiBzcHJlYWQoYXJncywgYXR0cnNfdG9fYWRkKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLmFyZ3MpO1xuICAgIGlmIChhdHRyc190b19hZGQpIHtcbiAgICAgICAgY29uc3QgY2xhc3Nlc190b19hZGQgPSBhdHRyc190b19hZGQuY2xhc3NlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5zdHlsZXM7XG4gICAgICAgIGlmIChjbGFzc2VzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgKz0gJyAnICsgY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLnN0eWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZXNfdG9fYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKG1lcmdlX3Nzcl9zdHlsZXMoYXR0cmlidXRlcy5zdHlsZSwgc3R5bGVzX3RvX2FkZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdHIgPSAnJztcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyICs9IGAgJHtuYW1lfT1cIiR7dmFsdWV9XCJgO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIG1lcmdlX3Nzcl9zdHlsZXMoc3R5bGVfYXR0cmlidXRlLCBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICBjb25zdCBzdHlsZV9vYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGluZGl2aWR1YWxfc3R5bGUgb2Ygc3R5bGVfYXR0cmlidXRlLnNwbGl0KCc7JykpIHtcbiAgICAgICAgY29uc3QgY29sb25faW5kZXggPSBpbmRpdmlkdWFsX3N0eWxlLmluZGV4T2YoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoMCwgY29sb25faW5kZXgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKGNvbG9uX2luZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZV9kaXJlY3RpdmVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVfb2JqZWN0W25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZV9vYmplY3Q7XG59XG5jb25zdCBBVFRSX1JFR0VYID0gL1smXCJdL2c7XG5jb25zdCBDT05URU5UX1JFR0VYID0gL1smPF0vZztcbi8qKlxuICogTm90ZTogdGhpcyBtZXRob2QgaXMgcGVyZm9ybWFuY2Ugc2Vuc2l0aXZlIGFuZCBoYXMgYmVlbiBvcHRpbWl6ZWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvcHVsbC81NzAxXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSwgaXNfYXR0ciA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RyID0gU3RyaW5nKHZhbHVlKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gaXNfYXR0ciA/IEFUVFJfUkVHRVggOiBDT05URU5UX1JFR0VYO1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICBsZXQgZXNjYXBlZCA9ICcnO1xuICAgIGxldCBsYXN0ID0gMDtcbiAgICB3aGlsZSAocGF0dGVybi50ZXN0KHN0cikpIHtcbiAgICAgICAgY29uc3QgaSA9IHBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgY29uc3QgY2ggPSBzdHJbaV07XG4gICAgICAgIGVzY2FwZWQgKz0gc3RyLnN1YnN0cmluZyhsYXN0LCBpKSArIChjaCA9PT0gJyYnID8gJyZhbXA7JyA6IChjaCA9PT0gJ1wiJyA/ICcmcXVvdDsnIDogJyZsdDsnKSk7XG4gICAgICAgIGxhc3QgPSBpICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGVzY2FwZWQgKyBzdHIuc3Vic3RyaW5nKGxhc3QpO1xufVxuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSh2YWx1ZSkge1xuICAgIC8vIGtlZXAgYm9vbGVhbnMsIG51bGwsIGFuZCB1bmRlZmluZWQgZm9yIHRoZSBzYWtlIG9mIGBzcHJlYWRgXG4gICAgY29uc3Qgc2hvdWxkX2VzY2FwZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpO1xuICAgIHJldHVybiBzaG91bGRfZXNjYXBlID8gZXNjYXBlKHZhbHVlLCB0cnVlKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZXNjYXBlX29iamVjdChvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXMuIE90aGVyd2lzZSB5b3UgbWF5IG5lZWQgdG8gZml4IGEgPCR7bmFtZX0+LmApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0ICQkID0ge1xuICAgICAgICAgICAgb25fZGVzdHJveSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBNYXAoY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIHsgJCRzbG90cyA9IHt9LCBjb250ZXh0ID0gbmV3IE1hcCgpIH0gPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCAkJHNsb3RzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gKGJvb2xlYW4gJiYgdmFsdWUgPT09IHRydWUpID8gJycgOiBgPVwiJHtlc2NhcGUodmFsdWUsIHRydWUpfVwiYDtcbiAgICByZXR1cm4gYCAke25hbWV9JHthc3NpZ25tZW50fWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuZnVuY3Rpb24gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVfb2JqZWN0KVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBzdHlsZV9vYmplY3Rba2V5XSlcbiAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fTogJHtlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKHN0eWxlX29iamVjdFtrZXldKX07YClcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGFkZF9zdHlsZXMoc3R5bGVfb2JqZWN0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpO1xuICAgIHJldHVybiBzdHlsZXMgPyBgIHN0eWxlPVwiJHtzdHlsZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG4gICAgZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG4gICAgaWYgKCFjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG4gICAgICAgICAgICAvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcbiAgICAgICAgICAgICAgICBydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGFwcGVuZF9zdHlsZXMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogW10sXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHByb3BzLFxuICAgICAgICB1cGRhdGU6IG5vb3AsXG4gICAgICAgIG5vdF9lcXVhbCxcbiAgICAgICAgYm91bmQ6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICAvLyBsaWZlY3ljbGVcbiAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICBvbl9kZXN0cm95OiBbXSxcbiAgICAgICAgb25fZGlzY29ubmVjdDogW10sXG4gICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICBjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICBkaXJ0eSxcbiAgICAgICAgc2tpcF9ib3VuZDogZmFsc2UsXG4gICAgICAgIHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuICAgIH07XG4gICAgYXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICQkLmN0eCA9IGluc3RhbmNlXG4gICAgICAgID8gaW5zdGFuY2UoY29tcG9uZW50LCBvcHRpb25zLnByb3BzIHx8IHt9LCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcbiAgICAgICAgICAgIGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgJCQuY3R4W2ldID0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkJC5za2lwX2JvdW5kICYmICQkLmJvdW5kW2ldKVxuICAgICAgICAgICAgICAgICAgICAkJC5ib3VuZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KVxuICAgICAgICAgICAgICAgICAgICBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KVxuICAgICAgICA6IFtdO1xuICAgICQkLnVwZGF0ZSgpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgIC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuICAgICQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICAgICAgc3RhcnRfaHlkcmF0aW5nKCk7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcbiAgICAgICAgICAgIG5vZGVzLmZvckVhY2goZGV0YWNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50cm8pXG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG4gICAgICAgIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvciwgb3B0aW9ucy5jdXN0b21FbGVtZW50KTtcbiAgICAgICAgZW5kX2h5ZHJhdGluZygpO1xuICAgICAgICBmbHVzaCgpO1xuICAgIH1cbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5sZXQgU3ZlbHRlRWxlbWVudDtcbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgY29uc3QgeyBvbl9tb3VudCB9ID0gdGhpcy4kJDtcbiAgICAgICAgICAgIHRoaXMuJCQub25fZGlzY29ubmVjdCA9IG9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJC5zbG90dGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuJCQuc2xvdHRlZFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpc1thdHRyXSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgICRkZXN0cm95KCkge1xuICAgICAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICAgICAgfVxuICAgICAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgZGVsZWdhdGUgdG8gYWRkRXZlbnRMaXN0ZW5lcj9cbiAgICAgICAgICAgIGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICB9XG4gICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjU5LjInIH0sIGRldGFpbCksIHsgYnViYmxlczogdHJ1ZSB9KSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb25fZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2Rldihub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmUnLCB7IG5vZGUgfSk7XG4gICAgZGV0YWNoKG5vZGUpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2JldHdlZW5fZGV2KGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nICYmIGJlZm9yZS5uZXh0U2libGluZyAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9iZWZvcmVfZGV2KGFmdGVyKSB7XG4gICAgd2hpbGUgKGFmdGVyLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGFmdGVyLnByZXZpb3VzU2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2FmdGVyX2RldihiZWZvcmUpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5fZGV2KG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zLCBoYXNfcHJldmVudF9kZWZhdWx0LCBoYXNfc3RvcF9wcm9wYWdhdGlvbiwgaGFzX3N0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gb3B0aW9ucyA9PT0gdHJ1ZSA/IFsnY2FwdHVyZSddIDogb3B0aW9ucyA/IEFycmF5LmZyb20oT2JqZWN0LmtleXMob3B0aW9ucykpIDogW107XG4gICAgaWYgKGhhc19wcmV2ZW50X2RlZmF1bHQpXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdwcmV2ZW50RGVmYXVsdCcpO1xuICAgIGlmIChoYXNfc3RvcF9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BQcm9wYWdhdGlvbicpO1xuICAgIGlmIChoYXNfc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24nKTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUFkZEV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgY29uc3QgZGlzcG9zZSA9IGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHJfZGV2KG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlIH0pO1xuICAgIGVsc2VcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBwcm9wX2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0UHJvcGVydHknLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIGRhdGFzZXRfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGUuZGF0YXNldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGFzZXQnLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC5kYXRhID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGVfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlX2Rldih0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG4gICAgaWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG4gICAgICAgIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZV9kZXYodGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9hcmd1bWVudChhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycgJiYgIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gYXJnKSkge1xuICAgICAgICBsZXQgbXNnID0gJ3sjZWFjaH0gb25seSBpdGVyYXRlcyBvdmVyIGFycmF5LWxpa2Ugb2JqZWN0cy4nO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhcmcgJiYgU3ltYm9sLml0ZXJhdG9yIGluIGFyZykge1xuICAgICAgICAgICAgbXNnICs9ICcgWW91IGNhbiB1c2UgYSBzcHJlYWQgdG8gY29udmVydCB0aGlzIGl0ZXJhYmxlIGludG8gYW4gYXJyYXkuJztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zbG90cyhuYW1lLCBzbG90LCBrZXlzKSB7XG4gICAgZm9yIChjb25zdCBzbG90X2tleSBvZiBPYmplY3Qua2V5cyhzbG90KSkge1xuICAgICAgICBpZiAoIX5rZXlzLmluZGV4T2Yoc2xvdF9rZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYDwke25hbWV9PiByZWNlaXZlZCBhbiB1bmV4cGVjdGVkIHNsb3QgXCIke3Nsb3Rfa2V5fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfZHluYW1pY19lbGVtZW50KHRhZykge1xuICAgIGNvbnN0IGlzX3N0cmluZyA9IHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnO1xuICAgIGlmICh0YWcgJiYgIWlzX3N0cmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJzxzdmVsdGU6ZWxlbWVudD4gZXhwZWN0cyBcInRoaXNcIiBhdHRyaWJ1dGUgdG8gYmUgYSBzdHJpbmcuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfdm9pZF9keW5hbWljX2VsZW1lbnQodGFnKSB7XG4gICAgaWYgKHRhZyAmJiBpc192b2lkKHRhZykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGA8c3ZlbHRlOmVsZW1lbnQgdGhpcz1cIiR7dGFnfVwiPiBpcyBzZWxmLWNsb3NpbmcgYW5kIGNhbm5vdCBoYXZlIGNvbnRlbnQuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnRfZGV2KGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICBjb25zdCBlcnJvcl9tZXNzYWdlID0gJ3RoaXM9ey4uLn0gb2YgPHN2ZWx0ZTpjb21wb25lbnQ+IHNob3VsZCBzcGVjaWZ5IGEgU3ZlbHRlIGNvbXBvbmVudC4nO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IGNvbXBvbmVudChwcm9wcyk7XG4gICAgICAgIGlmICghaW5zdGFuY2UuJCQgfHwgIWluc3RhbmNlLiRzZXQgfHwgIWluc3RhbmNlLiRvbiB8fCAhaW5zdGFuY2UuJGRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlcnI7XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgbWVzc2FnZS5pbmRleE9mKCdpcyBub3QgYSBjb25zdHJ1Y3RvcicpICE9PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yX21lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cyB3aXRoIHNvbWUgbWlub3IgZGV2LWVuaGFuY2VtZW50cy4gVXNlZCB3aGVuIGRldj10cnVlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnREZXYgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICghb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuJCRpbmxpbmUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29tcG9uZW50IHdhcyBhbHJlYWR5IGRlc3Ryb3llZCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJGNhcHR1cmVfc3RhdGUoKSB7IH1cbiAgICAkaW5qZWN0X3N0YXRlKCkgeyB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgdG8gY3JlYXRlIHN0cm9uZ2x5IHR5cGVkIFN2ZWx0ZSBjb21wb25lbnRzLlxuICogVGhpcyBvbmx5IGV4aXN0cyBmb3IgdHlwaW5nIHB1cnBvc2VzIGFuZCBzaG91bGQgYmUgdXNlZCBpbiBgLmQudHNgIGZpbGVzLlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIFlvdSBoYXZlIGNvbXBvbmVudCBsaWJyYXJ5IG9uIG5wbSBjYWxsZWQgYGNvbXBvbmVudC1saWJyYXJ5YCwgZnJvbSB3aGljaFxuICogeW91IGV4cG9ydCBhIGNvbXBvbmVudCBjYWxsZWQgYE15Q29tcG9uZW50YC4gRm9yIFN2ZWx0ZStUeXBlU2NyaXB0IHVzZXJzLFxuICogeW91IHdhbnQgdG8gcHJvdmlkZSB0eXBpbmdzLiBUaGVyZWZvcmUgeW91IGNyZWF0ZSBhIGBpbmRleC5kLnRzYDpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTdmVsdGVDb21wb25lbnRUeXBlZCB9IGZyb20gXCJzdmVsdGVcIjtcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkPHtmb286IHN0cmluZ30+IHt9XG4gKiBgYGBcbiAqIFR5cGluZyB0aGlzIG1ha2VzIGl0IHBvc3NpYmxlIGZvciBJREVzIGxpa2UgVlMgQ29kZSB3aXRoIHRoZSBTdmVsdGUgZXh0ZW5zaW9uXG4gKiB0byBwcm92aWRlIGludGVsbGlzZW5zZSBhbmQgdG8gdXNlIHRoZSBjb21wb25lbnQgbGlrZSB0aGlzIGluIGEgU3ZlbHRlIGZpbGVcbiAqIHdpdGggVHlwZVNjcmlwdDpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAqIFx0aW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tIFwiY29tcG9uZW50LWxpYnJhcnlcIjtcbiAqIDwvc2NyaXB0PlxuICogPE15Q29tcG9uZW50IGZvbz17J2Jhcid9IC8+XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFdoeSBub3QgbWFrZSB0aGlzIHBhcnQgb2YgYFN2ZWx0ZUNvbXBvbmVudChEZXYpYD9cbiAqIEJlY2F1c2VcbiAqIGBgYHRzXG4gKiBjbGFzcyBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogY29uc3QgY29tcG9uZW50OiB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50ID0gQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQ7XG4gKiBgYGBcbiAqIHdpbGwgdGhyb3cgYSB0eXBlIGVycm9yLCBzbyB3ZSBuZWVkIHRvIHNlcGFyYXRlIHRoZSBtb3JlIHN0cmljdGx5IHR5cGVkIGNsYXNzLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnRUeXBlZCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsb29wX2d1YXJkKHRpbWVvdXQpIHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgSHRtbFRhZywgSHRtbFRhZ0h5ZHJhdGlvbiwgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24sIFN2ZWx0ZUNvbXBvbmVudCwgU3ZlbHRlQ29tcG9uZW50RGV2LCBTdmVsdGVDb21wb25lbnRUeXBlZCwgU3ZlbHRlRWxlbWVudCwgYWN0aW9uX2Rlc3Ryb3llciwgYWRkX2F0dHJpYnV0ZSwgYWRkX2NsYXNzZXMsIGFkZF9mbHVzaF9jYWxsYmFjaywgYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIsIGFkZF9sb2NhdGlvbiwgYWRkX3JlbmRlcl9jYWxsYmFjaywgYWRkX3N0eWxlcywgYWRkX3RyYW5zZm9ybSwgYWZ0ZXJVcGRhdGUsIGFwcGVuZCwgYXBwZW5kX2RldiwgYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQsIGFwcGVuZF9oeWRyYXRpb24sIGFwcGVuZF9oeWRyYXRpb25fZGV2LCBhcHBlbmRfc3R5bGVzLCBhc3NpZ24sIGF0dHIsIGF0dHJfZGV2LCBhdHRyaWJ1dGVfdG9fb2JqZWN0LCBiZWZvcmVVcGRhdGUsIGJpbmQsIGJpbmRpbmdfY2FsbGJhY2tzLCBibGFua19vYmplY3QsIGJ1YmJsZSwgY2hlY2tfb3V0cm9zLCBjaGlsZHJlbiwgY2xhaW1fY29tbWVudCwgY2xhaW1fY29tcG9uZW50LCBjbGFpbV9lbGVtZW50LCBjbGFpbV9odG1sX3RhZywgY2xhaW1fc3BhY2UsIGNsYWltX3N2Z19lbGVtZW50LCBjbGFpbV90ZXh0LCBjbGVhcl9sb29wcywgY29tbWVudCwgY29tcG9uZW50X3N1YnNjcmliZSwgY29tcHV0ZV9yZXN0X3Byb3BzLCBjb21wdXRlX3Nsb3RzLCBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudCwgY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnRfZGV2LCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBjcmVhdGVfYW5pbWF0aW9uLCBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uLCBjcmVhdGVfY29tcG9uZW50LCBjcmVhdGVfaW5fdHJhbnNpdGlvbiwgY3JlYXRlX291dF90cmFuc2l0aW9uLCBjcmVhdGVfc2xvdCwgY3JlYXRlX3Nzcl9jb21wb25lbnQsIGN1cnJlbnRfY29tcG9uZW50LCBjdXN0b21fZXZlbnQsIGRhdGFzZXRfZGV2LCBkZWJ1ZywgZGVzdHJveV9ibG9jaywgZGVzdHJveV9jb21wb25lbnQsIGRlc3Ryb3lfZWFjaCwgZGV0YWNoLCBkZXRhY2hfYWZ0ZXJfZGV2LCBkZXRhY2hfYmVmb3JlX2RldiwgZGV0YWNoX2JldHdlZW5fZGV2LCBkZXRhY2hfZGV2LCBkaXJ0eV9jb21wb25lbnRzLCBkaXNwYXRjaF9kZXYsIGVhY2gsIGVsZW1lbnQsIGVsZW1lbnRfaXMsIGVtcHR5LCBlbmRfaHlkcmF0aW5nLCBlc2NhcGUsIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUsIGVzY2FwZV9vYmplY3QsIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMsIGZpeF9hbmRfZGVzdHJveV9ibG9jaywgZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jaywgZml4X3Bvc2l0aW9uLCBmbHVzaCwgZmx1c2hfcmVuZGVyX2NhbGxiYWNrcywgZ2V0QWxsQ29udGV4dHMsIGdldENvbnRleHQsIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSwgZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUsIGdldF9jdXJyZW50X2NvbXBvbmVudCwgZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cywgZ2V0X3Jvb3RfZm9yX3N0eWxlLCBnZXRfc2xvdF9jaGFuZ2VzLCBnZXRfc3ByZWFkX29iamVjdCwgZ2V0X3NwcmVhZF91cGRhdGUsIGdldF9zdG9yZV92YWx1ZSwgZ2xvYmFscywgZ3JvdXBfb3V0cm9zLCBoYW5kbGVfcHJvbWlzZSwgaGFzQ29udGV4dCwgaGFzX3Byb3AsIGhlYWRfc2VsZWN0b3IsIGlkZW50aXR5LCBpbml0LCBpbml0X2JpbmRpbmdfZ3JvdXAsIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljLCBpbnNlcnQsIGluc2VydF9kZXYsIGluc2VydF9oeWRyYXRpb24sIGluc2VydF9oeWRyYXRpb25fZGV2LCBpbnRyb3MsIGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLCBpc19jbGllbnQsIGlzX2Nyb3Nzb3JpZ2luLCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIGlzX3Byb21pc2UsIGlzX3ZvaWQsIGxpc3RlbiwgbGlzdGVuX2RldiwgbG9vcCwgbG9vcF9ndWFyZCwgbWVyZ2Vfc3NyX3N0eWxlcywgbWlzc2luZ19jb21wb25lbnQsIG1vdW50X2NvbXBvbmVudCwgbm9vcCwgbm90X2VxdWFsLCBub3csIG51bGxfdG9fZW1wdHksIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMsIG9uRGVzdHJveSwgb25Nb3VudCwgb25jZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIHByZXZlbnRfZGVmYXVsdCwgcHJvcF9kZXYsIHF1ZXJ5X3NlbGVjdG9yX2FsbCwgcmFmLCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCwgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94LCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94LCBydW4sIHJ1bl9hbGwsIHNhZmVfbm90X2VxdWFsLCBzY2hlZHVsZV91cGRhdGUsIHNlbGVjdF9tdWx0aXBsZV92YWx1ZSwgc2VsZWN0X29wdGlvbiwgc2VsZWN0X29wdGlvbnMsIHNlbGVjdF92YWx1ZSwgc2VsZiwgc2V0Q29udGV4dCwgc2V0X2F0dHJpYnV0ZXMsIHNldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCwgc2V0X2RhdGEsIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSwgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlX2Rldiwgc2V0X2RhdGFfZGV2LCBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUsIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZV9kZXYsIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSwgc2V0X2lucHV0X3R5cGUsIHNldF9pbnB1dF92YWx1ZSwgc2V0X25vdywgc2V0X3JhZiwgc2V0X3N0b3JlX3ZhbHVlLCBzZXRfc3R5bGUsIHNldF9zdmdfYXR0cmlidXRlcywgc3BhY2UsIHNwbGl0X2Nzc191bml0LCBzcHJlYWQsIHNyY191cmxfZXF1YWwsIHN0YXJ0X2h5ZHJhdGluZywgc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24sIHN0b3BfcHJvcGFnYXRpb24sIHN1YnNjcmliZSwgc3ZnX2VsZW1lbnQsIHRleHQsIHRpY2ssIHRpbWVfcmFuZ2VzX3RvX2FycmF5LCB0b19udW1iZXIsIHRvZ2dsZV9jbGFzcywgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQsIHRydXN0ZWQsIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2gsIHVwZGF0ZV9rZXllZF9lYWNoLCB1cGRhdGVfc2xvdCwgdXBkYXRlX3Nsb3RfYmFzZSwgdmFsaWRhdGVfY29tcG9uZW50LCB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQsIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQsIHZhbGlkYXRlX2VhY2hfa2V5cywgdmFsaWRhdGVfc2xvdHMsIHZhbGlkYXRlX3N0b3JlLCB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCwgeGxpbmtfYXR0ciB9O1xuIiwgIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSB9IGZyb20gXCJzdmVsdGVcIjtcblxuICAgIGV4cG9ydCBsZXQgZ2V0UmV2aWV3Q291bnRzOiAoZGF5czogbnVtYmVyKSA9PiBQcm9taXNlPE1hcDxzdHJpbmcsIG51bWJlcj4+O1xuXG4gICAgbGV0IHJldmlld0NvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgbGV0IGRheXM6IEFycmF5PHsgZGF0ZTogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBkYXlPZldlZWs6IG51bWJlciB9PiA9IFtdO1xuICAgIGxldCB3ZWVrczogQXJyYXk8XG4gICAgICAgIEFycmF5PHsgZGF0ZTogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBkYXlPZldlZWs6IG51bWJlciB9PlxuICAgID4gPSBbXTtcbiAgICBsZXQgbWF4Q291bnQgPSAwO1xuICAgIGxldCBpc0xvYWRpbmcgPSB0cnVlO1xuICAgIGxldCBjb250YWluZXJFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBsZXQgbWF4V2Vla3MgPSA1MjsgLy8gRGVmYXVsdCB0byBmdWxsIHllYXJcbiAgICBsZXQgY29udGFpbmVyV2lkdGggPSAwO1xuICAgIGxldCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgIGNvbnN0IG1vbnRocyA9IFtcbiAgICAgICAgXCJKYW5cIixcbiAgICAgICAgXCJGZWJcIixcbiAgICAgICAgXCJNYXJcIixcbiAgICAgICAgXCJBcHJcIixcbiAgICAgICAgXCJNYXlcIixcbiAgICAgICAgXCJKdW5cIixcbiAgICAgICAgXCJKdWxcIixcbiAgICAgICAgXCJBdWdcIixcbiAgICAgICAgXCJTZXBcIixcbiAgICAgICAgXCJPY3RcIixcbiAgICAgICAgXCJOb3ZcIixcbiAgICAgICAgXCJEZWNcIixcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVEYXlzKCkge1xuICAgICAgICAvLyBBbHdheXMgc2hvdyBmdWxsIHllYXIgZnJvbSBKYW51YXJ5IDEgdG8gRGVjZW1iZXIgMzFcbiAgICAgICAgY29uc3QgeWVhclN0YXJ0ID0gbmV3IERhdGUoY3VycmVudFllYXIsIDAsIDEpOyAvLyBKYW51YXJ5IDFzdFxuICAgICAgICBjb25zdCB5ZWFyRW5kID0gbmV3IERhdGUoY3VycmVudFllYXIsIDExLCAzMSk7IC8vIERlY2VtYmVyIDMxc3RcblxuICAgICAgICAvLyBTdGFydCBmcm9tIFN1bmRheSBvZiB0aGUgd2VlayBjb250YWluaW5nIEphbnVhcnkgMXN0XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHllYXJTdGFydCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF5T2ZXZWVrID0gc3RhcnREYXRlLmdldERheSgpO1xuICAgICAgICBzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gc3RhcnREYXlPZldlZWspO1xuXG4gICAgICAgIC8vIEVuZCBvbiBTYXR1cmRheSBvZiB0aGUgd2VlayBjb250YWluaW5nIERlY2VtYmVyIDMxc3RcbiAgICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHllYXJFbmQpO1xuICAgICAgICBjb25zdCBlbmREYXlPZldlZWsgPSBlbmREYXRlLmdldERheSgpO1xuICAgICAgICBlbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgKyAoNiAtIGVuZERheU9mV2VlaykpO1xuXG4gICAgICAgIGNvbnN0IGRheXNBcnJheTogQXJyYXk8e1xuICAgICAgICAgICAgZGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgY291bnQ6IG51bWJlcjtcbiAgICAgICAgICAgIGRheU9mV2VlazogbnVtYmVyO1xuICAgICAgICB9PiA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBjb21wbGV0ZSB3ZWVrcyBidXQgb25seSBpbmNsdWRlIGRheXMgd2l0aGluIHRoZSBzZWxlY3RlZCB5ZWFyXG4gICAgICAgIHdoaWxlIChjdXJyZW50IDw9IGVuZERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBjdXJyZW50LnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGVZZWFyID0gY3VycmVudC5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgZGF5cyB0aGF0IGJlbG9uZyB0byB0aGUgc2VsZWN0ZWQgeWVhclxuICAgICAgICAgICAgaWYgKGN1cnJlbnREYXRlWWVhciA9PT0gY3VycmVudFllYXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHJldmlld0NvdW50cy5nZXQoZGF0ZVN0cikgfHwgMDtcblxuICAgICAgICAgICAgICAgIGRheXNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZVN0cixcbiAgICAgICAgICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGRheU9mV2VlazogY3VycmVudC5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IG1heENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG1heENvdW50ID0gY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgcGxhY2Vob2xkZXIgZm9yIGRheXMgb3V0c2lkZSB0aGUgeWVhciB0byBtYWludGFpbiBncmlkIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIGRheXNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZVN0cixcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRheU9mV2VlazogY3VycmVudC5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXlzID0gZGF5c0FycmF5O1xuXG4gICAgICAgIC8vIEdyb3VwIGludG8gd2Vla3NcbiAgICAgICAgd2Vla3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzLmxlbmd0aDsgaSArPSA3KSB7XG4gICAgICAgICAgICB3ZWVrcy5wdXNoKGRheXMuc2xpY2UoaSwgaSArIDcpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEludGVuc2l0eUNsYXNzKGNvdW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoY291bnQgPT09IDApIHJldHVybiBcImludGVuc2l0eS0wXCI7XG4gICAgICAgIGNvbnN0IGludGVuc2l0eSA9IE1hdGgubWluKE1hdGguY2VpbCgoY291bnQgLyBtYXhDb3VudCkgKiA0KSwgNCk7XG4gICAgICAgIHJldHVybiBgaW50ZW5zaXR5LSR7aW50ZW5zaXR5fWA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlU3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cik7XG4gICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcbiAgICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiLFxuICAgICAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1RvZGF5KGRhdGVTdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIHJldHVybiBkYXRlU3RyID09PSB0b2RheTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRNb250aHNEYXRhKCk6IEFycmF5PHtcbiAgICAgICAgbW9udGg6IHN0cmluZztcbiAgICAgICAgd2Vla3M6IEFycmF5PEFycmF5PHsgZGF0ZTogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBkYXlPZldlZWs6IG51bWJlciB9Pj47XG4gICAgfT4ge1xuICAgICAgICBpZiAod2Vla3MubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cbiAgICAgICAgY29uc3QgbW9udGhzRGF0YTogQXJyYXk8e1xuICAgICAgICAgICAgbW9udGg6IHN0cmluZztcbiAgICAgICAgICAgIHdlZWtzOiBBcnJheTxcbiAgICAgICAgICAgICAgICBBcnJheTx7IGRhdGU6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgZGF5T2ZXZWVrOiBudW1iZXIgfT5cbiAgICAgICAgICAgID47XG4gICAgICAgIH0+ID0gW107XG4gICAgICAgIGxldCBjdXJyZW50TW9udGggPSAtMTtcbiAgICAgICAgbGV0IGN1cnJlbnRNb250aFdlZWtzOiBBcnJheTxcbiAgICAgICAgICAgIEFycmF5PHsgZGF0ZTogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBkYXlPZldlZWs6IG51bWJlciB9PlxuICAgICAgICA+ID0gW107XG5cbiAgICAgICAgd2Vla3MuZm9yRWFjaCgod2VlaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlyc3REYXkgPSB3ZWVrWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0RGF5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5LmRhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IHByb2Nlc3Mgd2Vla3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB5ZWFyXG4gICAgICAgICAgICAgICAgaWYgKHllYXIgPT09IGN1cnJlbnRZZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb250aCAhPT0gY3VycmVudE1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHByZXZpb3VzIG1vbnRoIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb250aCAhPT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGhXZWVrcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aHNEYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogbW9udGhzW2N1cnJlbnRNb250aF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlZWtzOiBjdXJyZW50TW9udGhXZWVrcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgbmV3IG1vbnRoXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGggPSBtb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb250aFdlZWtzID0gW3dlZWtdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHdlZWsgdG8gY3VycmVudCBtb250aFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vbnRoV2Vla3MucHVzaCh3ZWVrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRG9uJ3QgZm9yZ2V0IHRoZSBsYXN0IG1vbnRoXG4gICAgICAgIGlmIChjdXJyZW50TW9udGggIT09IC0xICYmIGN1cnJlbnRNb250aFdlZWtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vbnRoc0RhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoc1tjdXJyZW50TW9udGhdLFxuICAgICAgICAgICAgICAgIHdlZWtzOiBjdXJyZW50TW9udGhXZWVrcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vbnRoc0RhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlTWF4V2Vla3Mod2lkdGg6IG51bWJlcikge1xuICAgICAgICBpZiAod2lkdGggPT09IDApIHJldHVybiAyMDsgLy8gTm90IHlldCByZW5kZXJlZFxuXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gd2lkdGggLSA1MDsgLy8gQWNjb3VudCBmb3IgcGFkZGluZyBhbmQgZGF5IGxhYmVsc1xuICAgICAgICBjb25zdCB3ZWVrV2lkdGggPSAxMjsgLy8gMTBweCBzcXVhcmUgKyAycHggZ2FwXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRXZWVrcyA9IE1hdGguZmxvb3IoYXZhaWxhYmxlV2lkdGggLyB3ZWVrV2lkdGgpO1xuXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBzaG93IGF0IGxlYXN0IDggd2Vla3MgKDIgbW9udGhzKSBhbmQgYXQgbW9zdCA1MiB3ZWVrcyAoMSB5ZWFyKVxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoY2FsY3VsYXRlZFdlZWtzLCA4KSwgNTIpO1xuICAgIH1cblxuICAgIC8vIFJlYWN0aXZlIHN0YXRlbWVudCB0byB1cGRhdGUgbWF4V2Vla3Mgd2hlbiBjb250YWluZXIgd2lkdGggY2hhbmdlc1xuICAgICQ6IGlmIChjb250YWluZXJXaWR0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV3TWF4V2Vla3MgPSBjYWxjdWxhdGVNYXhXZWVrcyhjb250YWluZXJXaWR0aCk7XG4gICAgICAgIGlmIChuZXdNYXhXZWVrcyAhPT0gbWF4V2Vla3MpIHtcbiAgICAgICAgICAgIG1heFdlZWtzID0gbmV3TWF4V2Vla3M7XG4gICAgICAgICAgICAvLyBSZWZyZXNoIHdpdGggbmV3IHdlZWsgY291bnRcbiAgICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lcldpZHRoKCkge1xuICAgICAgICBpZiAoY29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjb250YWluZXJFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmF2aWdhdGVZZWFyKGRpcmVjdGlvbjogXCJwcmV2XCIgfCBcIm5leHRcIikge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcInByZXZcIikge1xuICAgICAgICAgICAgY3VycmVudFllYXItLTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRZZWFyKys7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdGVEYXlzKCk7XG4gICAgICAgIHJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaENsaWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkLCBldmVudDogRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gd2l0aGluIDEwMG1zXG4gICAgICAgIGlmIChub3cgLSBsYXN0RXZlbnRUaW1lIDwgMTAwICYmIGxhc3RFdmVudFR5cGUgIT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdEV2ZW50VGltZSA9IG5vdztcbiAgICAgICAgbGFzdEV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRmV0Y2ggZnVsbCB5ZWFyIGRhdGEgKDM2NS0zNjYgZGF5cylcbiAgICAgICAgICAgIHJldmlld0NvdW50cyA9IGF3YWl0IGdldFJldmlld0NvdW50cygzNjYpO1xuICAgICAgICAgICAgbWF4Q291bnQgPSAwO1xuICAgICAgICAgICAgZ2VuZXJhdGVEYXlzKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcmV2aWV3IGNvdW50czpcIiwgZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgLy8gSW5pdGlhbCBzZXR1cCB3aXRoIHByb3BlciB0aW1pbmdcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVDb250YWluZXJXaWR0aCgpO1xuICAgICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH0pO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJoZWF0bWFwLWNvbnRhaW5lclwiIGJpbmQ6dGhpcz17Y29udGFpbmVyRWxlbWVudH0+XG4gICAgPGRpdiBjbGFzcz1cImhlYXRtYXAtaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItbGVmdFwiPlxuICAgICAgICAgICAgPGg0PlJldmlldyBBY3Rpdml0eTwvaDQ+XG4gICAgICAgICAgICB7I2lmICFpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0b3RhbC1yZXZpZXdzXCI+XG4gICAgICAgICAgICAgICAgICAgIHtBcnJheS5mcm9tKHJldmlld0NvdW50cy52YWx1ZXMoKSkucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHN1bSwgY291bnQpID0+IHN1bSArIGNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgKX0gcmV2aWV3c1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwieWVhci1uYXZpZ2F0aW9uXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJuYXYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gbmF2aWdhdGVZZWFyKFwicHJldlwiKSwgZSl9XG4gICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IG5hdmlnYXRlWWVhcihcInByZXZcIiksIGUpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjEyXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyelwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY3VycmVudC15ZWFyXCI+e2N1cnJlbnRZZWFyfTwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzcz1cIm5hdi1idXR0b25cIlxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBuYXZpZ2F0ZVllYXIoXCJuZXh0XCIpLCBlKX1cbiAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gbmF2aWdhdGVZZWFyKFwibmV4dFwiKSwgZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEyXCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTJcIlxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02elwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIGlzTG9hZGluZ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdcIj5Mb2FkaW5nLi4uPC9kaXY+XG4gICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhdG1hcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vbnRocy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZ2V0TW9udGhzRGF0YSgpIGFzIHsgbW9udGgsIHdlZWtzOiBtb250aFdlZWtzIH19XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb250aC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb250aC1sYWJlbFwiPnttb250aH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb250aC1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIG1vbnRoV2Vla3MgYXMgd2Vla31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndlZWtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCB3ZWVrIGFzIGRheX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGRheVllYXIgPSBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXRGdWxsWWVhcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkYXkge2dldEludGVuc2l0eUNsYXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnRvZGF5PXtpc1RvZGF5KGRheS5kYXRlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6b3V0c2lkZS15ZWFyPXtkYXlZZWFyICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFllYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwie2RheS5jb3VudH0gcmV2aWV3cyBvbiB7Zm9ybWF0RGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheS5kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGVnZW5kLWxhYmVsXCI+TGVzczwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1zcXVhcmUgaW50ZW5zaXR5LTBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLXNxdWFyZSBpbnRlbnNpdHktMVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtc3F1YXJlIGludGVuc2l0eS0yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1zcXVhcmUgaW50ZW5zaXR5LTNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLXNxdWFyZSBpbnRlbnNpdHktNFwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxlZ2VuZC1sYWJlbFwiPk1vcmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5oZWF0bWFwLWNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5oZWF0bWFwLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLmhlYWRlci1sZWZ0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgfVxuXG4gICAgLnllYXItbmF2aWdhdGlvbiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgIH1cblxuICAgIC5uYXYtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBtaW4td2lkdGg6IDMycHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDMycHg7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5uYXYtYnV0dG9uOmhvdmVyLFxuICAgIC5uYXYtYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyLWhvdmVyKTtcbiAgICB9XG5cbiAgICAuY3VycmVudC15ZWFyIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuaGVhdG1hcC1oZWFkZXIgaDQge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAudG90YWwtcmV2aWV3cyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5sb2FkaW5nIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIC8qanVzdGlmeS1jb250ZW50OiBjZW50ZXI7Ki9cbiAgICB9XG5cbiAgICAubW9udGhzLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMnB4O1xuICAgICAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICB9XG5cbiAgICAubW9udGgtY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLm1vbnRoLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDJweDtcbiAgICB9XG5cbiAgICAubW9udGgtbGFiZWxzIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE4cHg7XG4gICAgfVxuXG4gICAgLm1vbnRoLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuZGF5LWxhYmVscyB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogLTE4cHg7XG4gICAgICAgIHRvcDogMTZweDtcbiAgICB9XG5cbiAgICAuZGF5LWxhYmVsIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgfVxuXG4gICAgLndlZWsge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDJweDtcbiAgICB9XG5cbiAgICAuZGF5IHtcbiAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICAgIGhlaWdodDogMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2U7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIH1cblxuICAgIC5kYXk6aG92ZXIge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMyk7XG4gICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgei1pbmRleDogMTA7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAuZGF5LnRvZGF5IHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAxcHg7XG4gICAgfVxuXG4gICAgLmRheS50b2RheTpob3ZlciB7XG4gICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBvdXRsaW5lLW9mZnNldDogMXB4O1xuICAgIH1cblxuICAgIC8qIEludGVuc2l0eSBjb2xvcnMgLSBHaXRIdWIgc3R5bGUgKi9cbiAgICAuaW50ZW5zaXR5LTAge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmludGVuc2l0eS0xIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzBlNDQyOTtcbiAgICB9XG5cbiAgICAuaW50ZW5zaXR5LTIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA2ZDMyO1xuICAgIH1cblxuICAgIC5pbnRlbnNpdHktMyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNmE2NDE7XG4gICAgfVxuXG4gICAgLmludGVuc2l0eS00IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM5ZDM1MztcbiAgICB9XG5cbiAgICAubGVnZW5kIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogM3B4O1xuICAgICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgfVxuXG4gICAgLmxlZ2VuZC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmxlZ2VuZC1jb2xvcnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDJweDtcbiAgICB9XG5cbiAgICAubGVnZW5kLXNxdWFyZSB7XG4gICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICB9XG5cbiAgICAuZGF5Lm91dHNpZGUteWVhciB7XG4gICAgICAgIG9wYWNpdHk6IDAuMztcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgfVxuXG4gICAgLyogQ3VzdG9tIHNjcm9sbGJhciBzdHlsaW5nICovXG4gICAgLmhlYXRtYXA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgfVxuXG4gICAgLmhlYXRtYXA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIH1cblxuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIH1cblxuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC8qIE1vYmlsZSByZXNwb25zaXZlIHN0eWxlcyAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAuaGVhdG1hcC1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXAtaGVhZGVyIHtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYWRlci1sZWZ0IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLnllYXItbmF2aWdhdGlvbiB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uYXYtYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIHdpZHRoOiA0NHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA0NHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiA0NHB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kYXktbGFiZWxzIHtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vbnRocy1jb250YWluZXIge1xuICAgICAgICAgICAgZ2FwOiAycHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9udGgtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhdG1hcDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICAgICAgaGVpZ2h0OiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAgICAgLmhlYXRtYXAtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWF0bWFwLWhlYWRlciBoNCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAudG90YWwtcmV2aWV3cyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY3VycmVudC15ZWFyIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubmF2LWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA0cHg7XG4gICAgICAgICAgICB3aWR0aDogNDBweDtcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogNDBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubmF2LWJ1dHRvbiBzdmcge1xuICAgICAgICAgICAgd2lkdGg6IDE0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9udGgtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA4cHg7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogN3B4O1xuICAgICAgICAgICAgd2lkdGg6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVscyB7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vbnRocy1jb250YWluZXIge1xuICAgICAgICAgICAgZ2FwOiAycHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9udGgtZ3JpZCB7XG4gICAgICAgICAgICBnYXA6IDFweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5sZWdlbmQge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmxlZ2VuZC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5sZWdlbmQtc3F1YXJlIHtcbiAgICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kYXkge1xuICAgICAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLndlZWsge1xuICAgICAgICAgICAgZ2FwOiAxcHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzkwcHgpIHtcbiAgICAgICAgLyogaVBob25lIDEyIFBybyBhbmQgc2ltaWxhciAzOTBweCB3aWR0aCBwaG9uZXMgKi9cbiAgICAgICAgLmhlYXRtYXAtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzkwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhdG1hcC1oZWFkZXIge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXAtaGVhZGVyIGg0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50b3RhbC1yZXZpZXdzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jdXJyZW50LXllYXIge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiAzMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm5hdi1idXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiAyNHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiAyNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm5hdi1idXR0b24gc3ZnIHtcbiAgICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb250aC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDdweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kYXktbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA3cHg7XG4gICAgICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kYXktbGFiZWxzIHtcbiAgICAgICAgICAgIGxlZnQ6IC0xMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRheSB7XG4gICAgICAgICAgICB3aWR0aDogN3B4O1xuICAgICAgICAgICAgaGVpZ2h0OiA3cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubGVnZW5kLXNxdWFyZSB7XG4gICAgICAgICAgICB3aWR0aDogN3B4O1xuICAgICAgICAgICAgaGVpZ2h0OiA3cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubGVnZW5kLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLndlZWsge1xuICAgICAgICAgICAgZ2FwOiAxcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhdG1hcC1ncmlkIHtcbiAgICAgICAgICAgIGdhcDogMXB4O1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXAge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICB9XG4gICAgfVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBNb2RhbCwgUGxhdGZvcm0gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgRGVjaywgRGVja0NvbmZpZyB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCBEZWNrQ29uZmlnVUkgZnJvbSBcIi4vRGVja0NvbmZpZ1VJLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgRGVja0NvbmZpZ01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIGRlY2s6IERlY2s7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBvblNhdmU6IChjb25maWc6IERlY2tDb25maWcpID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgY29uZmlnOiBEZWNrQ29uZmlnO1xuICBwcml2YXRlIGNvbXBvbmVudDogRGVja0NvbmZpZ1VJIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGx1Z2luOiBEZWNrc1BsdWdpbixcbiAgICBkZWNrOiBEZWNrLFxuICAgIG9uU2F2ZTogKGNvbmZpZzogRGVja0NvbmZpZykgPT4gUHJvbWlzZTx2b2lkPixcbiAgKSB7XG4gICAgc3VwZXIocGx1Z2luLmFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5kZWNrID0gZGVjaztcbiAgICB0aGlzLm9uU2F2ZSA9IG9uU2F2ZTtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4uZGVjay5jb25maWcgfTtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgIC8vIEFkZCBtb2JpbGUtc3BlY2lmaWMgY2xhc3Nlc1xuICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJkZWNrLWNvbmZpZy1tb2RhbC1tb2JpbGVcIik7XG4gICAgfVxuXG4gICAgLy8gTW9kYWwgdGl0bGVcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IGBDb25maWd1cmUgRGVjazogJHt0aGlzLmRlY2submFtZX1gIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbXBvbmVudENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoXCJkZWNrLWNvbmZpZy1jb250YWluZXJcIik7XG5cbiAgICAvLyBBZGQgQ1NTIGNsYXNzIGZvciBzdHlsaW5nXG4gICAgY29tcG9uZW50Q29udGFpbmVyLmFkZENsYXNzKFwiZGVjay1jb25maWctY29udGFpbmVyXCIpO1xuXG4gICAgLy8gTW91bnQgU3ZlbHRlIGNvbXBvbmVudFxuICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IERlY2tDb25maWdVSSh7XG4gICAgICB0YXJnZXQ6IGNvbXBvbmVudENvbnRhaW5lcixcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGRlY2s6IHRoaXMuZGVjayxcbiAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gY29tcG9uZW50IGV2ZW50c1xuICAgIHRoaXMuY29tcG9uZW50LiRvbihcInNhdmVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVNhdmUoZXZlbnQuZGV0YWlsKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNhbmNlbFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC4kb24oXCJjb25maWdDaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmNvbmZpZyA9IGV2ZW50LmRldGFpbDtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB3aW5kb3cgcmVzaXplIGZvciBtb2JpbGUgYWRhcHRhdGlvblxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgICBpZiAobW9kYWxFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChQbGF0Zm9ybS5pc0lvc0FwcCB8fCBQbGF0Zm9ybS5pc0FuZHJvaWRBcHApIHtcbiAgICAgICAgICBtb2RhbEVsLmFkZENsYXNzKFwiZGVjay1jb25maWctbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsRWwucmVtb3ZlQ2xhc3MoXCJkZWNrLWNvbmZpZy1tb2RhbC1tb2JpbGVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcblxuICAgIC8vIFN0b3JlIHJlc2l6ZSBoYW5kbGVyIGZvciBjbGVhbnVwXG4gICAgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlciA9IGhhbmRsZVJlc2l6ZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU2F2ZShjb25maWc6IERlY2tDb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5vblNhdmUoY29uZmlnKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZyBkZWNrIGNvbmZpZ3VyYXRpb246XCIsIGVycm9yKTtcbiAgICAgIC8vIENvdWxkIGFkZCBhIG5vdGljZSBoZXJlIGlmIG5lZWRlZFxuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICAvLyBDbGVhbiB1cCByZXNpemUgaGFuZGxlclxuICAgIGlmICgodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyKTtcbiAgICAgIGRlbGV0ZSAodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyO1xuICAgIH1cblxuICAgIC8vIERlc3Ryb3kgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7IFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbiAgICBpbXBvcnQgdHlwZSB7IERlY2ssIERlY2tDb25maWcsIFJldmlld09yZGVyIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBGU1JTUHJvZmlsZSB9IGZyb20gXCIuLi9hbGdvcml0aG0vZnNycy13ZWlnaHRzXCI7XG5cbiAgICBleHBvcnQgbGV0IGRlY2s6IERlY2s7XG4gICAgZXhwb3J0IGxldCBjb25maWc6IERlY2tDb25maWc7XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gICAgICAgIHNhdmU6IERlY2tDb25maWc7XG4gICAgICAgIGNhbmNlbDogdm9pZDtcbiAgICAgICAgY29uZmlnQ2hhbmdlOiBEZWNrQ29uZmlnO1xuICAgIH0+KCk7XG5cbiAgICBsZXQgbmV3Q2FyZHNMaW1pdCA9IGNvbmZpZy5uZXdDYXJkc1BlckRheTtcbiAgICBsZXQgcmV2aWV3Q2FyZHNMaW1pdCA9IGNvbmZpZy5yZXZpZXdDYXJkc1BlckRheTtcbiAgICBsZXQgZW5hYmxlTmV3Q2FyZHNMaW1pdCA9IGNvbmZpZy5uZXdDYXJkc1BlckRheSA+IDA7XG4gICAgbGV0IGVuYWJsZVJldmlld0NhcmRzTGltaXQgPSBjb25maWcucmV2aWV3Q2FyZHNQZXJEYXkgPiAwO1xuICAgIGxldCByZXZpZXdPcmRlcjogUmV2aWV3T3JkZXIgPSBjb25maWcucmV2aWV3T3JkZXI7XG4gICAgbGV0IGhlYWRlckxldmVsID0gY29uZmlnLmhlYWRlckxldmVsO1xuICAgIGxldCByZXF1ZXN0UmV0ZW50aW9uID0gY29uZmlnLmZzcnMucmVxdWVzdFJldGVudGlvbjtcbiAgICBsZXQgcHJvZmlsZTogRlNSU1Byb2ZpbGUgPSBjb25maWcuZnNycy5wcm9maWxlO1xuICAgIGxldCBzYXZpbmcgPSBmYWxzZTtcbiAgICBsZXQgbmV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGVuYWJsZU5ld0NhcmRzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgcmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGVuYWJsZVJldmlld0NhcmRzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHJldmlld09yZGVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgaGVhZGVyTGV2ZWxDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIGxldCByZXF1ZXN0UmV0ZW50aW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgcHJvZmlsZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGZzcnNSZXNldENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyBUcmFjayBsYXN0IGV2ZW50IHRvIHByZXZlbnQgZG91YmxlIGV4ZWN1dGlvblxuICAgIGxldCBsYXN0RXZlbnRUaW1lID0gMDtcbiAgICBsZXQgbGFzdEV2ZW50VHlwZSA9IFwiXCI7XG5cbiAgICAvLyBSZWFjdGl2ZSBzdGF0ZW1lbnQgdG8gdXBkYXRlIGNvbmZpZyB3aGVuIHZhbHVlcyBjaGFuZ2VcbiAgICAkOiB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAgICAgICAgIG5ld0NhcmRzUGVyRGF5OiBlbmFibGVOZXdDYXJkc0xpbWl0XG4gICAgICAgICAgICAgICAgPyBOdW1iZXIobmV3Q2FyZHNMaW1pdCkgfHwgMFxuICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgIHJldmlld0NhcmRzUGVyRGF5OiBlbmFibGVSZXZpZXdDYXJkc0xpbWl0XG4gICAgICAgICAgICAgICAgPyBOdW1iZXIocmV2aWV3Q2FyZHNMaW1pdCkgfHwgMFxuICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgIHJldmlld09yZGVyLFxuICAgICAgICAgICAgaGVhZGVyTGV2ZWw6IE51bWJlcihoZWFkZXJMZXZlbCkgfHwgMixcbiAgICAgICAgICAgIGZzcnM6IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0UmV0ZW50aW9uOiBOdW1iZXIocmVxdWVzdFJldGVudGlvbikgfHwgMC45LFxuICAgICAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcImNvbmZpZ0NoYW5nZVwiLCBuZXdDb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7XG4gICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29uZmlnOiBEZWNrQ29uZmlnID0ge1xuICAgICAgICAgICAgbmV3Q2FyZHNQZXJEYXk6IGVuYWJsZU5ld0NhcmRzTGltaXRcbiAgICAgICAgICAgICAgICA/IE51bWJlcihuZXdDYXJkc0xpbWl0KSB8fCAwXG4gICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgcmV2aWV3Q2FyZHNQZXJEYXk6IGVuYWJsZVJldmlld0NhcmRzTGltaXRcbiAgICAgICAgICAgICAgICA/IE51bWJlcihyZXZpZXdDYXJkc0xpbWl0KSB8fCAwXG4gICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgcmV2aWV3T3JkZXIsXG4gICAgICAgICAgICBoZWFkZXJMZXZlbDogTnVtYmVyKGhlYWRlckxldmVsKSB8fCAyLFxuICAgICAgICAgICAgZnNyczoge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RSZXRlbnRpb246IE51bWJlcihyZXF1ZXN0UmV0ZW50aW9uKSB8fCAwLjksXG4gICAgICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGRpc3BhdGNoKFwic2F2ZVwiLCBmaW5hbENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDYW5jZWwoKSB7XG4gICAgICAgIGRpc3BhdGNoKFwiY2FuY2VsXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpKSB7XG4gICAgICAgICAgICBoYW5kbGVTYXZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgLy8gRW5hYmxlIE5ldyBDYXJkcyBMaW1pdCBUb2dnbGVcbiAgICAgICAgaWYgKGVuYWJsZU5ld0NhcmRzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhlbmFibGVOZXdDYXJkc0NvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkVuYWJsZSBOZXcgQ2FyZHMgTGltaXRcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJMaW1pdCBob3cgbWFueSBuZXcgY2FyZHMgKG5ldmVyIHNlZW4gYmVmb3JlKSBjYW4gYmUgc2hvd24gcGVyIGRheVwiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShlbmFibGVOZXdDYXJkc0xpbWl0KS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZU5ld0NhcmRzTGltaXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5ldyBDYXJkcyBMaW1pdCBJbnB1dFxuICAgICAgICBpZiAobmV3Q2FyZHNMaW1pdENvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcobmV3Q2FyZHNMaW1pdENvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIk5ldyBDYXJkcyBwZXIgRGF5XCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJNYXhpbXVtIG51bWJlciBvZiBuZXcgY2FyZHMgdG8gaW50cm9kdWNlIHBlciBkYXlcIilcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiMjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShuZXdDYXJkc0xpbWl0LnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4obnVtKSAmJiBudW0gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDYXJkc0xpbWl0ID0gbnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmFibGUgUmV2aWV3IENhcmRzIExpbWl0IFRvZ2dsZVxuICAgICAgICBpZiAoZW5hYmxlUmV2aWV3Q2FyZHNDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGVuYWJsZVJldmlld0NhcmRzQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRW5hYmxlIFJldmlldyBDYXJkcyBMaW1pdFwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFxuICAgICAgICAgICAgICAgICAgICBcIkxpbWl0IGhvdyBtYW55IHJldmlldyBjYXJkcyAoZHVlIGZvciByZXBldGl0aW9uKSBjYW4gYmUgc2hvd24gcGVyIGRheVwiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKGVuYWJsZVJldmlld0NhcmRzTGltaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldmlldyBDYXJkcyBMaW1pdCBJbnB1dFxuICAgICAgICBpZiAocmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcocmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlJldmlldyBDYXJkcyBwZXIgRGF5XCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJNYXhpbXVtIG51bWJlciBvZiByZXZpZXcgY2FyZHMgdG8gc2hvdyBwZXIgZGF5XCIpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjEwMFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHJldmlld0NhcmRzTGltaXQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW0pICYmIG51bSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0NhcmRzTGltaXQgPSBudW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldmlldyBPcmRlciBEcm9wZG93blxuICAgICAgICBpZiAocmV2aWV3T3JkZXJDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKHJldmlld09yZGVyQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmV2aWV3IE9yZGVyXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXG4gICAgICAgICAgICAgICAgICAgIFwiT3JkZXIgaW4gd2hpY2ggcmV2aWV3IGNhcmRzIGFyZSBwcmVzZW50ZWQgZHVyaW5nIHN0dWR5XCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZHVlLWRhdGVcIiwgXCJPbGRlc3QgZHVlIGZpcnN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwicmFuZG9tXCIsIFwiUmFuZG9tIG9yZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUocmV2aWV3T3JkZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlOiBSZXZpZXdPcmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld09yZGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGVhZGVyIExldmVsIERyb3Bkb3duXG4gICAgICAgIGlmIChoZWFkZXJMZXZlbENvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoaGVhZGVyTGV2ZWxDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJIZWFkZXIgTGV2ZWwgZm9yIEZsYXNoY2FyZHNcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJXaGljaCBoZWFkZXIgbGV2ZWwgdG8gdXNlIGZvciBoZWFkZXItcGFyYWdyYXBoIGZsYXNoY2FyZHNcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCIxXCIsIFwiSDEgKCMpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiMlwiLCBcIkgyICgjIylcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCIzXCIsIFwiSDMgKCMjIylcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCI0XCIsIFwiSDQgKCMjIyMpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiNVwiLCBcIkg1ICgjIyMjIylcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCI2XCIsIFwiSDYgKCMjIyMjIylcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShoZWFkZXJMZXZlbC50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckxldmVsID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZTUlMgU2V0dGluZ3NcbiAgICAgICAgaWYgKHJlcXVlc3RSZXRlbnRpb25Db250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKHJlcXVlc3RSZXRlbnRpb25Db250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJSZXF1ZXN0IFJldGVudGlvblwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiVGFyZ2V0IHJlY2FsbCByYXRlIGZvciByZXZpZXdzICgwLjUtMC45OTUpXCIpXG4gICAgICAgICAgICAgICAgLmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuICAgICAgICAgICAgICAgICAgICBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMC41LCAwLjk5NSwgMC4wMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShyZXF1ZXN0UmV0ZW50aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UmV0ZW50aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb2ZpbGVDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKHByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJGU1JTIFByb2ZpbGVcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJJTlRFTlNJVkU6IFN1Yi1kYXkgaW50ZXJ2YWxzICgxbS81bS8xMG0vNDBtKS4gU1RBTkRBUkQ6IERheS1iYXNlZCBpbnRlcnZhbHMgKOKJpTEgZGF5IG1pbmltdW0pXCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiSU5URU5TSVZFXCIsIFwiSW50ZW5zaXZlIChTdWItZGF5KVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIlNUQU5EQVJEXCIsIFwiU3RhbmRhcmQgKERheS1iYXNlZClcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShwcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcIklOVEVOU0lWRVwiIHx8IHZhbHVlID09PSBcIlNUQU5EQVJEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnNyc1Jlc2V0Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmc3JzUmVzZXRDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJSZXNldCBGU1JTIFNldHRpbmdzXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJSZXNldCBhbGwgRlNSUyBwYXJhbWV0ZXJzIHRvIGRlZmF1bHQgdmFsdWVzXCIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJSZXNldCB0byBEZWZhdWx0c1wiKVxuICAgICAgICAgICAgICAgIC5hZGRCdXR0b24oKGJ1dHRvbikgPT5cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoXCJSZXNldCB0byBEZWZhdWx0c1wiKS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RSZXRlbnRpb24gPSAwLjk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlID0gXCJTVEFOREFSRFwiO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG48L3NjcmlwdD5cblxuPHN2ZWx0ZTp3aW5kb3cgb246a2V5ZG93bj17aGFuZGxlS2V5ZG93bn0gLz5cblxuPGRpdiBjbGFzcz1cImRlY2stY29uZmlnLXVpXCI+XG4gICAgPCEtLSBEZWNrIEluZm9ybWF0aW9uIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImRlY2staW5mby1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5EZWNrIEluZm9ybWF0aW9uPC9oMz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZGVjay1pbmZvLWxpc3RcIj5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPk5hbWU6PC9zdHJvbmc+IHtkZWNrLm5hbWV9PC9saT5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPlRhZzo8L3N0cm9uZz4ge2RlY2sudGFnfTwvbGk+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5GaWxlOjwvc3Ryb25nPiB7ZGVjay5maWxlcGF0aH08L2xpPlxuICAgICAgICA8L3VsPlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBTZXR0aW5ncyBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLXNldHRpbmdzLXNlY3Rpb25cIj5cbiAgICAgICAgPGgzPkRhaWx5IENhcmQgTGltaXRzPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbS1kZXNjcmlwdGlvbi1nbG9iYWxcIj5cbiAgICAgICAgICAgIE5ldyBjYXJkcyBhcmUgc3ViamVjdCB0byBkYWlseSBsaW1pdHMgd2hlbiBlbmFibGVkLlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIE9ic2lkaWFuIE5hdGl2ZSBDb21wb25lbnRzIC0tPlxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17ZW5hYmxlTmV3Q2FyZHNDb250YWluZXJ9PjwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBiaW5kOnRoaXM9e25ld0NhcmRzTGltaXRDb250YWluZXJ9XG4gICAgICAgICAgICBjbGFzczpkaXNhYmxlZD17IWVuYWJsZU5ld0NhcmRzTGltaXR9XG4gICAgICAgID48L2Rpdj5cbiAgICAgICAgPGRpdiBiaW5kOnRoaXM9e2VuYWJsZVJldmlld0NhcmRzQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgYmluZDp0aGlzPXtyZXZpZXdDYXJkc0xpbWl0Q29udGFpbmVyfVxuICAgICAgICAgICAgY2xhc3M6ZGlzYWJsZWQ9eyFlbmFibGVSZXZpZXdDYXJkc0xpbWl0fVxuICAgICAgICA+PC9kaXY+XG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtyZXZpZXdPcmRlckNvbnRhaW5lcn0+PC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFBhcnNpbmcgU2V0dGluZ3MgLS0+XG4gICAgPGRpdiBjbGFzcz1cImRlY2stc2V0dGluZ3Mtc2VjdGlvblwiPlxuICAgICAgICA8aDM+UGFyc2luZyBTZXR0aW5nczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsXCI+XG4gICAgICAgICAgICBDb25maWd1cmUgaG93IGZsYXNoY2FyZHMgYXJlIHBhcnNlZCBmcm9tIHlvdXIgbm90ZXMgZm9yIHRoaXMgZGVjay5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBiaW5kOnRoaXM9e2hlYWRlckxldmVsQ29udGFpbmVyfT48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gRlNSUyBBbGdvcml0aG0gU2V0dGluZ3MgLS0+XG4gICAgPGRpdiBjbGFzcz1cImRlY2stc2V0dGluZ3Mtc2VjdGlvblwiPlxuICAgICAgICA8aDM+RlNSUyBBbGdvcml0aG0gU2V0dGluZ3M8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uLWdsb2JhbFwiPlxuICAgICAgICAgICAgVGhlc2Ugc2V0dGluZ3MgY29udHJvbCB0aGUgc3BhY2VkIHJlcGV0aXRpb24gYWxnb3JpdGhtIGZvciB0aGlzXG4gICAgICAgICAgICBkZWNrLlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17cmVxdWVzdFJldGVudGlvbkNvbnRhaW5lcn0+PC9kaXY+XG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtwcm9maWxlQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPGRpdiBiaW5kOnRoaXM9e2ZzcnNSZXNldENvbnRhaW5lcn0+PC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIEFjdGlvbiBCdXR0b25zIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJtb2QtY3RhXCJcbiAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVTYXZlLCBlKX1cbiAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVTYXZlLCBlKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XG4gICAgICAgID5cbiAgICAgICAgICAgIHtzYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlQ2FuY2VsLCBlKX1cbiAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVDYW5jZWwsIGUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ30+Q2FuY2VsPC9idXR0b25cbiAgICAgICAgPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgICAuZGVjay1jb25maWctdWkge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTJweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3QgbGkge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCBsaTpsYXN0LWNoaWxkIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3Qgc3Ryb25nIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuZGVjay1zZXR0aW5ncy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICB9XG5cbiAgICAuZGVjay1zZXR0aW5ncy1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTZweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC8qIERpc2FibGVkIHN0YXRlIGZvciBPYnNpZGlhbiBTZXR0aW5nIGNvbnRhaW5lcnMgKi9cbiAgICAuZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDI0cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxNnB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICBtaW4td2lkdGg6IDgwcHg7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246aG92ZXI6bm90KDpkaXNhYmxlZCksXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b24ubW9kLWN0YSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbi5tb2QtY3RhOmhvdmVyOm5vdCg6ZGlzYWJsZWQpLFxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uLm1vZC1jdGE6YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgfVxuXG4gICAgLyogTW9iaWxlIHJlc3BvbnNpdmUgc3R5bGVzICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5kZWNrLWNvbmZpZy11aSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIHtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIGgzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDRweDsgLyogVG91Y2gtZnJpZW5kbHkgKi9cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24ge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggMjBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDUycHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzkwcHgpIHtcbiAgICAgICAgLyogaVBob25lIDEyIFBybyBhbmQgc2ltaWxhciAzOTBweCB3aWR0aCBwaG9uZXMgKi9cbiAgICAgICAgLmRlY2stY29uZmlnLXVpIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM5MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24gaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbi1nbG9iYWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjdlbTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgRGVjaywgQW5raUV4cG9ydENvbmZpZyB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCBBbmtpRXhwb3J0VUkgZnJvbSBcIi4vQW5raUV4cG9ydFVJLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgQW5raUV4cG9ydE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIGRlY2s6IERlY2s7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IEFua2lFeHBvcnRVSSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogRGVja3NQbHVnaW4sIGRlY2s6IERlY2spIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmRlY2sgPSBkZWNrO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgLy8gQWRkIG1vYmlsZS1zcGVjaWZpYyBjbGFzc2VzXG4gICAgY29uc3QgbW9kYWxFbCA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcbiAgICBpZiAobW9kYWxFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImFua2ktZXhwb3J0LW1vZGFsLW1vYmlsZVwiKTtcbiAgICB9XG5cbiAgICAvLyBNb2RhbCB0aXRsZVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogYEV4cG9ydCB0byBBbmtpOiAke3RoaXMuZGVjay5uYW1lfWAgfSk7XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBTdmVsdGUgY29tcG9uZW50XG4gICAgY29uc3QgY29tcG9uZW50Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcImFua2ktZXhwb3J0LWNvbnRhaW5lclwiKTtcblxuICAgIC8vIEFkZCBDU1MgY2xhc3MgZm9yIHN0eWxpbmdcbiAgICBjb21wb25lbnRDb250YWluZXIuYWRkQ2xhc3MoXCJhbmtpLWV4cG9ydC1jb250YWluZXJcIik7XG5cbiAgICAvLyBNb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgQW5raUV4cG9ydFVJKHtcbiAgICAgIHRhcmdldDogY29tcG9uZW50Q29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZGVjazogdGhpcy5kZWNrLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byBjb21wb25lbnQgZXZlbnRzXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwiZXhwb3J0XCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVFeHBvcnQoZXZlbnQuZGV0YWlsKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNhbmNlbFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZSBmb3IgbW9iaWxlIGFkYXB0YXRpb25cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImFua2ktZXhwb3J0LW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKFwiYW5raS1leHBvcnQtbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAvLyBTdG9yZSByZXNpemUgaGFuZGxlciBmb3IgY2xlYW51cFxuICAgICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIgPSBoYW5kbGVSZXNpemU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUV4cG9ydChjb25maWc6IEFua2lFeHBvcnRDb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGZsYXNoY2FyZHMgZm9yIHRoaXMgZGVja1xuICAgICAgY29uc3QgZmxhc2hjYXJkcyA9IGF3YWl0IHRoaXMucGx1Z2luLmdldEZsYXNoY2FyZHNCeURlY2sodGhpcy5kZWNrLmlkKTtcblxuICAgICAgaWYgKGZsYXNoY2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJObyBmbGFzaGNhcmRzIGZvdW5kIGluIHRoaXMgZGVjayB0byBleHBvcnRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgQW5raSBwYWNrYWdlIGZvcm1hdFxuICAgICAgY29uc3QgYW5raURhdGEgPSB0aGlzLmdlbmVyYXRlQW5raURhdGEoZmxhc2hjYXJkcywgY29uZmlnKTtcblxuICAgICAgLy8gQ3JlYXRlIGFuZCBkb3dubG9hZCBmaWxlXG4gICAgICBhd2FpdCB0aGlzLmRvd25sb2FkQW5raUZpbGUoYW5raURhdGEsIGNvbmZpZy5hbmtpRGVja05hbWUpO1xuXG4gICAgICBuZXcgTm90aWNlKFxuICAgICAgICBgU3VjY2Vzc2Z1bGx5IGV4cG9ydGVkICR7Zmxhc2hjYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgdG8gQW5raSBmb3JtYXRgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGV4cG9ydGluZyB0byBBbmtpOlwiLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGV4cG9ydCBkZWNrIHRvIEFua2kgZm9ybWF0XCIpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVBbmtpRGF0YShcbiAgICBmbGFzaGNhcmRzOiBhbnlbXSxcbiAgICBjb25maWc6IEFua2lFeHBvcnRDb25maWcsXG4gICk6IHN0cmluZyB7XG4gICAgLy8gQ3JlYXRlIEFua2ktY29tcGF0aWJsZSBmb3JtYXQgd2l0aCBjb25maWd1cmFibGUgc2VwYXJhdG9yc1xuICAgIGNvbnN0IGhlYWRlcnMgPSBbXCJGcm9udFwiLCBcIkJhY2tcIl07XG4gICAgY29uc3Qgcm93cyA9IFtoZWFkZXJzLmpvaW4oY29uZmlnLnNlcGFyYXRvcildO1xuXG4gICAgZmxhc2hjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjb25zdCBmcm9udCA9IHRoaXMuc2FuaXRpemVGb3JBbmtpKGNhcmQuZnJvbnQsIGNvbmZpZy5zZXBhcmF0b3IpO1xuICAgICAgY29uc3QgYmFjayA9IHRoaXMuc2FuaXRpemVGb3JBbmtpKGNhcmQuYmFjaywgY29uZmlnLnNlcGFyYXRvcik7XG5cbiAgICAgIHJvd3MucHVzaChbZnJvbnQsIGJhY2tdLmpvaW4oY29uZmlnLnNlcGFyYXRvcikpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJvd3Muam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVGb3JBbmtpKHRleHQ6IHN0cmluZywgc2VwYXJhdG9yOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgbGV0IHNhbml0aXplZCA9IHRleHRcbiAgICAgIC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCBcIjxiPiQxPC9iPlwiKSAvLyBCb2xkXG4gICAgICAucmVwbGFjZSgvXFwqKC4qPylcXCovZywgXCI8aT4kMTwvaT5cIikgLy8gSXRhbGljXG4gICAgICAucmVwbGFjZSgvYCguKj8pYC9nLCBcIjxjb2RlPiQxPC9jb2RlPlwiKSAvLyBDb2RlXG4gICAgICAucmVwbGFjZSgvXFxuL2csIFwiPGJyPlwiKSAvLyBSZXBsYWNlIG5ld2xpbmVzIHdpdGggSFRNTCBicmVha3NcbiAgICAgIC50cmltKCk7XG5cbiAgICAvLyBFc2NhcGUgdGhlIGZpZWxkIHNlcGFyYXRvclxuICAgIGlmIChzZXBhcmF0b3IgPT09IFwiXFx0XCIpIHtcbiAgICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9cXHQvZywgXCIgXCIpOyAvLyBSZXBsYWNlIHRhYnMgd2l0aCBzcGFjZXNcbiAgICB9IGVsc2Uge1xuICAgICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoXG4gICAgICAgIG5ldyBSZWdFeHAoYFxcXFwke3NlcGFyYXRvcn1gLCBcImdcIiksXG4gICAgICAgIGBcXFxcJHtzZXBhcmF0b3J9YCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZG93bmxvYWRBbmtpRmlsZShkYXRhOiBzdHJpbmcsIGRlY2tOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke2RlY2tOYW1lLnJlcGxhY2UoL1teYS16QS1aMC05LV9dL2csIFwiX1wiKX1fZXhwb3J0LnR4dGA7XG5cbiAgICAvLyBDcmVhdGUgYmxvYiBhbmQgZG93bmxvYWRcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCIgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG5cbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVzaXplIGhhbmRsZXJcbiAgICBpZiAoKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcik7XG4gICAgICBkZWxldGUgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcjtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95IFN2ZWx0ZSBjb21wb25lbnRcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBEZWNrLCBBbmtpRXhwb3J0Q29uZmlnIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuICAgIGV4cG9ydCBsZXQgZGVjazogRGVjaztcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAgICAgICAgZXhwb3J0OiBBbmtpRXhwb3J0Q29uZmlnO1xuICAgICAgICBjYW5jZWw6IHZvaWQ7XG4gICAgfT4oKTtcblxuICAgIGxldCBhbmtpRGVja05hbWUgPSBkZWNrLm5hbWU7XG4gICAgbGV0IHNlcGFyYXRvciA9IFwidGFiXCI7XG4gICAgbGV0IGV4cG9ydGluZyA9IGZhbHNlO1xuXG4gICAgLy8gQ29udGFpbmVyIHJlZmVyZW5jZXMgZm9yIE9ic2lkaWFuIFNldHRpbmdzXG4gICAgbGV0IGRlY2tOYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgc2VwYXJhdG9yQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUV4cG9ydCgpIHtcbiAgICAgICAgZXhwb3J0aW5nID0gdHJ1ZTtcblxuICAgICAgICAvLyBNYXAgc2VwYXJhdG9yIHNlbGVjdGlvbiB0byBhY3R1YWwgY2hhcmFjdGVyXG4gICAgICAgIGNvbnN0IHNlcGFyYXRvck1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgICAgIHRhYjogXCJcXHRcIixcbiAgICAgICAgICAgIHNlbWljb2xvbjogXCI7XCIsXG4gICAgICAgICAgICBjb2xvbjogXCI6XCIsXG4gICAgICAgICAgICBwaXBlOiBcInxcIixcbiAgICAgICAgICAgIGNvbW1hOiBcIixcIixcbiAgICAgICAgICAgIHNwYWNlOiBcIiBcIixcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb25maWc6IEFua2lFeHBvcnRDb25maWcgPSB7XG4gICAgICAgICAgICBhbmtpRGVja05hbWU6IGFua2lEZWNrTmFtZS50cmltKCkgfHwgZGVjay5uYW1lLFxuICAgICAgICAgICAgc2VwYXJhdG9yOiBzZXBhcmF0b3JNYXBbc2VwYXJhdG9yXSB8fCBcIlxcdFwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIGRpc3BhdGNoKFwiZXhwb3J0XCIsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDYW5jZWwoKSB7XG4gICAgICAgIGRpc3BhdGNoKFwiY2FuY2VsXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpKSB7XG4gICAgICAgICAgICBoYW5kbGVFeHBvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBBbmtpIERlY2sgTmFtZVxuICAgICAgICBpZiAoZGVja05hbWVDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGRlY2tOYW1lQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQW5raSBEZWNrIE5hbWVcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJOYW1lIG9mIHRoZSBkZWNrIGluIEFua2kgd2hlcmUgY2FyZHMgd2lsbCBiZSBpbXBvcnRlZFwiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgZGVjayBuYW1lLi4uXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoYW5raURlY2tOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFua2lEZWNrTmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlcGFyYXRvciBEcm9wZG93blxuICAgICAgICBpZiAoc2VwYXJhdG9yQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhzZXBhcmF0b3JDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJGaWVsZCBTZXBhcmF0b3JcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJDaGFyYWN0ZXIgdXNlZCB0byBzZXBhcmF0ZSBmaWVsZHMgaW4gdGhlIGV4cG9ydGVkIGZpbGVcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWJcIiwgXCJUYWJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJzZW1pY29sb25cIiwgXCJTZW1pY29sb24gKDspXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY29sb25cIiwgXCJDb2xvbiAoOilcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJwaXBlXCIsIFwiUGlwZSAofClcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjb21tYVwiLCBcIkNvbW1hICgsKVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInNwYWNlXCIsIFwiU3BhY2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShzZXBhcmF0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG48L3NjcmlwdD5cblxuPHN2ZWx0ZTp3aW5kb3cgb246a2V5ZG93bj17aGFuZGxlS2V5ZG93bn0gLz5cblxuPGRpdiBjbGFzcz1cImFua2ktZXhwb3J0LXVpXCI+XG4gICAgPCEtLSBEZWNrIEluZm9ybWF0aW9uIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImRlY2staW5mby1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5FeHBvcnQgSW5mb3JtYXRpb248L2gzPlxuICAgICAgICA8dWwgY2xhc3M9XCJkZWNrLWluZm8tbGlzdFwiPlxuICAgICAgICAgICAgPGxpPjxzdHJvbmc+U291cmNlIERlY2s6PC9zdHJvbmc+IHtkZWNrLm5hbWV9PC9saT5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPlNvdXJjZSBUYWc6PC9zdHJvbmc+IHtkZWNrLnRhZ308L2xpPlxuICAgICAgICAgICAgPGxpPjxzdHJvbmc+U291cmNlIEZpbGU6PC9zdHJvbmc+IHtkZWNrLmZpbGVwYXRofTwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIEV4cG9ydCBJbnN0cnVjdGlvbnMgLS0+XG4gICAgPGRpdiBjbGFzcz1cImluc3RydWN0aW9ucy1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5Ib3cgdG8gSW1wb3J0PC9oMz5cbiAgICAgICAgPG9sIGNsYXNzPVwiaW5zdHJ1Y3Rpb25zLWxpc3RcIj5cbiAgICAgICAgICAgIDxsaT5UaGlzIHdpbGwgZG93bmxvYWQgYSB0ZXh0IGZpbGUgY29tcGF0aWJsZSB3aXRoIEFua2k8L2xpPlxuICAgICAgICAgICAgPGxpPk9wZW4gQW5raSBhbmQgZ28gdG8gPHN0cm9uZz5GaWxlIOKGkiBJbXBvcnQ8L3N0cm9uZz48L2xpPlxuICAgICAgICAgICAgPGxpPlNlbGVjdCB0aGUgZG93bmxvYWRlZCBmaWxlPC9saT5cbiAgICAgICAgICAgIDxsaT5DaG9vc2UgeW91ciB0YXJnZXQgZGVjayBhbmQgaW1wb3J0IHNldHRpbmdzPC9saT5cbiAgICAgICAgICAgIDxsaT5DbGljayA8c3Ryb25nPkltcG9ydDwvc3Ryb25nPiB0byBhZGQgdGhlIGNhcmRzPC9saT5cbiAgICAgICAgPC9vbD5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gRXhwb3J0IFNldHRpbmdzIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImV4cG9ydC1zZXR0aW5ncy1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5FeHBvcnQgU2V0dGluZ3M8L2gzPlxuXG4gICAgICAgIDwhLS0gT2JzaWRpYW4gTmF0aXZlIENvbXBvbmVudHMgLS0+XG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtkZWNrTmFtZUNvbnRhaW5lcn0+PC9kaXY+XG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtzZXBhcmF0b3JDb250YWluZXJ9PjwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBBY3Rpb24gQnV0dG9ucyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwibW9kLWN0YVwiXG4gICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlRXhwb3J0LCBlKX1cbiAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVFeHBvcnQsIGUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2V4cG9ydGluZyB8fCAhYW5raURlY2tOYW1lLnRyaW0oKX1cbiAgICAgICAgPlxuICAgICAgICAgICAge2V4cG9ydGluZyA/IFwiRXhwb3J0aW5nLi4uXCIgOiBcIkV4cG9ydCB0byBBbmtpXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlQ2FuY2VsLCBlKX1cbiAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVDYW5jZWwsIGUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2V4cG9ydGluZ30+Q2FuY2VsPC9idXR0b25cbiAgICAgICAgPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgICAuYW5raS1leHBvcnQtdWkge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTJweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3QgbGkge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCBsaTpsYXN0LWNoaWxkIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3Qgc3Ryb25nIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuaW5zdHJ1Y3Rpb25zLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgfVxuXG4gICAgLmluc3RydWN0aW9ucy1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTJweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5pbnN0cnVjdGlvbnMtbGlzdCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgfVxuXG4gICAgLmluc3RydWN0aW9ucy1saXN0IGxpIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgIH1cblxuICAgIC5pbnN0cnVjdGlvbnMtbGlzdCBsaTpsYXN0LWNoaWxkIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB9XG5cbiAgICAuaW5zdHJ1Y3Rpb25zLWxpc3Qgc3Ryb25nIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuZXhwb3J0LXNldHRpbmdzLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgIH1cblxuICAgIC5leHBvcnQtc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgIG1hcmdpbjogMCAwIDE2cHggMDtcbiAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgICAgICBwYWRkaW5nLXRvcDogMTZweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICAgICAgbWluLXdpZHRoOiAxMDBweDtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbjpob3Zlcjpub3QoOmRpc2FibGVkKSxcbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbjphY3RpdmU6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbi5tb2QtY3RhIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uLm1vZC1jdGE6aG92ZXI6bm90KDpkaXNhYmxlZCksXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b24ubW9kLWN0YTphY3RpdmU6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDJweDtcbiAgICB9XG5cbiAgICAvKiBNb2JpbGUgcmVzcG9uc2l2ZSBzdHlsZXMgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgLmFua2ktZXhwb3J0LXVpIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24sXG4gICAgICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tc2VjdGlvbiBoMyxcbiAgICAgICAgLmluc3RydWN0aW9ucy1zZWN0aW9uIGgzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmV4cG9ydC1zZXR0aW5ncy1zZWN0aW9uIGgzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWZvb3RlciB7XG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWZvb3RlciBidXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAgIC5kZWNrLWluZm8tc2VjdGlvbixcbiAgICAgICAgLmluc3RydWN0aW9ucy1zZWN0aW9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLWxpc3QgbGkge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIH1cblxuICAgICAgICAuaW5zdHJ1Y3Rpb25zLWxpc3Qge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDIwcHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA1MnB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM5MHB4KSB7XG4gICAgICAgIC5hbmtpLWV4cG9ydC11aSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgbWF4LXdpZHRoOiAzOTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tc2VjdGlvbixcbiAgICAgICAgLmluc3RydWN0aW9ucy1zZWN0aW9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24gaDMsXG4gICAgICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1saXN0IGxpIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgICAgIH1cblxuICAgICAgICAuaW5zdHJ1Y3Rpb25zLWxpc3Qge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5leHBvcnQtc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWZvb3RlciB7XG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgIH1cbjwvc3R5bGU+XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBEZWNrLCBEZWNrU3RhdHMsIERlY2tDb25maWcgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbiAgICBpbXBvcnQgUmV2aWV3SGVhdG1hcCBmcm9tIFwiLi9SZXZpZXdIZWF0bWFwLnN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7IERlY2tDb25maWdNb2RhbCB9IGZyb20gXCIuL0RlY2tDb25maWdNb2RhbFwiO1xuICAgIGltcG9ydCB7IEFua2lFeHBvcnRNb2RhbCB9IGZyb20gXCIuL0Fua2lFeHBvcnRNb2RhbFwiO1xuXG4gICAgbGV0IGRlY2tzOiBEZWNrW10gPSBbXTtcbiAgICBsZXQgYWxsRGVja3M6IERlY2tbXSA9IFtdO1xuICAgIGxldCBzdGF0cyA9IG5ldyBNYXA8c3RyaW5nLCBEZWNrU3RhdHM+KCk7XG4gICAgbGV0IGZpbHRlclRleHQgPSBcIlwiO1xuICAgIGxldCBoZWF0bWFwQ29tcG9uZW50OiBhbnk7XG4gICAgbGV0IHNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgIGxldCBhdmFpbGFibGVUYWdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZFN1Z2dlc3Rpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBpbnB1dEZvY3VzZWQgPSBmYWxzZTtcbiAgICBsZXQgYWN0aXZlRHJvcGRvd246IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZURyb3Bkb3duRGVja0lkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgZHJvcGRvd25FdmVudExpc3RlbmVyczoge1xuICAgICAgICBjbGljaz86IChlOiBFdmVudCkgPT4gdm9pZDtcbiAgICAgICAgc2Nyb2xsPzogKCkgPT4gdm9pZDtcbiAgICAgICAgcmVzaXplPzogKCkgPT4gdm9pZDtcbiAgICB9ID0ge307XG5cbiAgICBleHBvcnQgbGV0IG9uRGVja0NsaWNrOiAoZGVjazogRGVjaykgPT4gdm9pZDtcbiAgICBleHBvcnQgbGV0IG9uUmVmcmVzaDogKCkgPT4gdm9pZDtcbiAgICBleHBvcnQgbGV0IGdldFJldmlld0NvdW50czogKGRheXM6IG51bWJlcikgPT4gUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PjtcbiAgICBleHBvcnQgbGV0IG9uVXBkYXRlRGVja0NvbmZpZzogKFxuICAgICAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICAgICAgY29uZmlnOiBEZWNrQ29uZmlnLFxuICAgICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IG9uT3BlblN0YXRpc3RpY3M6ICgpID0+IHZvaWQ7XG4gICAgZXhwb3J0IGxldCBwbHVnaW46IGFueSA9IG51bGw7IC8vIFRPRE86IFJlZmFjdG9yIHRvIHBhc3Mgc3BlY2lmaWMgZnVuY3Rpb25zIGluc3RlYWQgb2Ygd2hvbGUgcGx1Z2luXG5cbiAgICBsZXQgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgbGV0IGlzVXBkYXRpbmdTdGF0cyA9IGZhbHNlO1xuXG4gICAgLy8gVHJhY2sgbGFzdCBldmVudCB0byBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb25cbiAgICBsZXQgbGFzdEV2ZW50VGltZSA9IDA7XG4gICAgbGV0IGxhc3RFdmVudFR5cGUgPSBcIlwiO1xuXG4gICAgZnVuY3Rpb24gZ2V0RGVja1N0YXRzKGRlY2tJZDogc3RyaW5nKTogRGVja1N0YXRzIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0YXRzLmdldChkZWNrSWQpID8/IHtcbiAgICAgICAgICAgICAgICBkZWNrSWQsXG4gICAgICAgICAgICAgICAgbmV3Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgZHVlQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgdG90YWxDb3VudDogMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXREZWNrTmFtZShkZWNrOiBEZWNrKTogc3RyaW5nIHtcbiAgICAgICAgLy8gZGVjay5uYW1lIG5vdyBjb250YWlucyB0aGUgY2xlYW4gZmlsZW5hbWUgd2l0aG91dCBleHRlbnNpb25cbiAgICAgICAgcmV0dXJuIGRlY2submFtZTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoKCkge1xuICAgICAgICBpc1JlZnJlc2hpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25SZWZyZXNoKCk7XG4gICAgICAgICAgICByZWZyZXNoSGVhdG1hcCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyByZWZyZXNoOlwiLCBlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpc1JlZnJlc2hpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTdGF0c0J5SWQoZGVja0lkOiBzdHJpbmcsIG5ld1N0YXRzOiBEZWNrU3RhdHMpIHtcbiAgICAgICAgaXNVcGRhdGluZ1N0YXRzID0gdHJ1ZTtcbiAgICAgICAgc3RhdHMuc2V0KGRlY2tJZCwgbmV3U3RhdHMpO1xuICAgICAgICBkZWNrcyA9IGRlY2tzO1xuICAgICAgICBpc1VwZGF0aW5nU3RhdHMgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gRnVuY3Rpb24gdG8gZm9yY2UgVUkgdXBkYXRlIHdoZW4gc3RhdHMgY2hhbmdlXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN0YXRzKG5ld1N0YXRzOiBNYXA8c3RyaW5nLCBEZWNrU3RhdHM+KSB7XG4gICAgICAgIGlzVXBkYXRpbmdTdGF0cyA9IHRydWU7XG4gICAgICAgIHN0YXRzID0gbmV3U3RhdHM7XG4gICAgICAgIGRlY2tzID0gZGVja3M7XG4gICAgICAgIGlzVXBkYXRpbmdTdGF0cyA9IGZhbHNlO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlRGVja3MobmV3RGVja3M6IERlY2tbXSkge1xuICAgICAgICBhbGxEZWNrcyA9IG5ld0RlY2tzO1xuICAgICAgICAvLyBFeHRyYWN0IHVuaXF1ZSB0YWdzXG4gICAgICAgIGF2YWlsYWJsZVRhZ3MgPSBbLi4ubmV3IFNldChuZXdEZWNrcy5tYXAoKGRlY2spID0+IGRlY2sudGFnKSldLmZpbHRlcihcbiAgICAgICAgICAgICh0YWcpID0+IHRhZyxcbiAgICAgICAgKTtcbiAgICAgICAgYXBwbHlGaWx0ZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseUZpbHRlcigpIHtcbiAgICAgICAgaWYgKCFmaWx0ZXJUZXh0LnRyaW0oKSkge1xuICAgICAgICAgICAgZGVja3MgPSBhbGxEZWNrcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlclRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGRlY2tzID0gYWxsRGVja3MuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChkZWNrKSA9PlxuICAgICAgICAgICAgICAgICAgICBkZWNrLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgIGRlY2sudGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJJbnB1dChldmVudDogRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGZpbHRlclRleHQgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgIHVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIGFwcGx5RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlU3VnZ2VzdGlvbnMoKSB7XG4gICAgICAgIGlmICghZmlsdGVyVGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgIHNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlsdGVyID0gZmlsdGVyVGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBmaWx0ZXJlZFN1Z2dlc3Rpb25zID0gYXZhaWxhYmxlVGFncy5maWx0ZXIoXG4gICAgICAgICAgICAodGFnKSA9PlxuICAgICAgICAgICAgICAgIHRhZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcikgJiZcbiAgICAgICAgICAgICAgICB0YWcudG9Mb3dlckNhc2UoKSAhPT0gZmlsdGVyLFxuICAgICAgICApO1xuICAgICAgICBzaG93U3VnZ2VzdGlvbnMgPSBmaWx0ZXJlZFN1Z2dlc3Rpb25zLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0U3VnZ2VzdGlvbih0YWc6IHN0cmluZykge1xuICAgICAgICBmaWx0ZXJUZXh0ID0gdGFnO1xuICAgICAgICBzaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgYXBwbHlGaWx0ZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJGb2N1cygpIHtcbiAgICAgICAgaW5wdXRGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGZpbHRlclRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICB1cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgICB9IGVsc2UgaWYgKGF2YWlsYWJsZVRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbHRlckJsdXIoKSB7XG4gICAgICAgIGlucHV0Rm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAvLyBEZWxheSBoaWRpbmcgc3VnZ2VzdGlvbnMgdG8gYWxsb3cgY2xpY2tzXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRGVja0NsaWNrKGRlY2s6IERlY2spIHtcbiAgICAgICAgb25EZWNrQ2xpY2soZGVjayk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hIZWF0bWFwKCkge1xuICAgICAgICBpZiAoaGVhdG1hcENvbXBvbmVudCkge1xuICAgICAgICAgICAgaGVhdG1hcENvbXBvbmVudC5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDb25maWdDbGljayhkZWNrOiBEZWNrLCBldmVudDogRXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8gSWYgY2xpY2tpbmcgdGhlIHNhbWUgY29nLCBjbG9zZSB0aGUgZHJvcGRvd25cbiAgICAgICAgaWYgKGFjdGl2ZURyb3Bkb3duICYmIGFjdGl2ZURyb3Bkb3duRGVja0lkID09PSBkZWNrLmlkKSB7XG4gICAgICAgICAgICBjbG9zZUFjdGl2ZURyb3Bkb3duKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSBhbnkgZXhpc3RpbmcgZHJvcGRvd25cbiAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBkcm9wZG93biBtZW51XG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZHJvcGRvd24uY2xhc3NOYW1lID0gXCJkZWNrLWNvbmZpZy1kcm9wZG93blwiO1xuXG4gICAgICAgIGNvbnN0IGNvbmZpZ09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbmZpZ09wdGlvbi5jbGFzc05hbWUgPSBcImRyb3Bkb3duLW9wdGlvblwiO1xuICAgICAgICBjb25maWdPcHRpb24udGV4dENvbnRlbnQgPSBcIkNvbmZpZ3VyZSBkZWNrXCI7XG4gICAgICAgIGNvbmZpZ09wdGlvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuICAgICAgICAgICAgb3BlbkRlY2tDb25maWcoZGVjayk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZXhwb3J0T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZXhwb3J0T3B0aW9uLmNsYXNzTmFtZSA9IFwiZHJvcGRvd24tb3B0aW9uXCI7XG4gICAgICAgIGV4cG9ydE9wdGlvbi50ZXh0Q29udGVudCA9IFwiRXhwb3J0IHRvIEFua2lcIjtcbiAgICAgICAgZXhwb3J0T3B0aW9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBjbG9zZUFjdGl2ZURyb3Bkb3duKCk7XG4gICAgICAgICAgICBvcGVuQW5raUV4cG9ydChkZWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChjb25maWdPcHRpb24pO1xuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChleHBvcnRPcHRpb24pO1xuXG4gICAgICAgIC8vIFBvc2l0aW9uIGRyb3Bkb3duIHdpdGggdmlld3BvcnQgYm91bmRzIGNoZWNraW5nXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgcmVjdCA9IGJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICBkcm9wZG93bi5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgZHJvcGRvd24uc3R5bGUuekluZGV4ID0gXCIxMDAwXCI7XG5cbiAgICAgICAgLy8gVGVtcG9yYXJpbHkgYXBwZW5kIHRvIG1lYXN1cmUgZGltZW5zaW9uc1xuICAgICAgICBkcm9wZG93bi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcm9wZG93bik7XG4gICAgICAgIGNvbnN0IGRyb3Bkb3duUmVjdCA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvcHRpbWFsIHBvc2l0aW9uXG4gICAgICAgIGxldCB0b3AgPSByZWN0LmJvdHRvbSArIDU7XG4gICAgICAgIGxldCBsZWZ0ID0gcmVjdC5sZWZ0O1xuXG4gICAgICAgIC8vIEFkanVzdCBpZiBkcm9wZG93biB3b3VsZCBnbyBiZWxvdyB2aWV3cG9ydFxuICAgICAgICBpZiAodG9wICsgZHJvcGRvd25SZWN0LmhlaWdodCA+IHZpZXdwb3J0SGVpZ2h0IC0gMTApIHtcbiAgICAgICAgICAgIHRvcCA9IHJlY3QudG9wIC0gZHJvcGRvd25SZWN0LmhlaWdodCAtIDU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGp1c3QgaWYgZHJvcGRvd24gd291bGQgZ28gcmlnaHQgb2Ygdmlld3BvcnRcbiAgICAgICAgaWYgKGxlZnQgKyBkcm9wZG93blJlY3Qud2lkdGggPiB2aWV3cG9ydFdpZHRoIC0gMTApIHtcbiAgICAgICAgICAgIGxlZnQgPSB2aWV3cG9ydFdpZHRoIC0gZHJvcGRvd25SZWN0LndpZHRoIC0gMTA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgaXQgZG9lc24ndCBnbyBhYm92ZSBvciBsZWZ0IG9mIHZpZXdwb3J0XG4gICAgICAgIHRvcCA9IE1hdGgubWF4KDEwLCB0b3ApO1xuICAgICAgICBsZWZ0ID0gTWF0aC5tYXgoMTAsIGxlZnQpO1xuXG4gICAgICAgIGRyb3Bkb3duLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gICAgICAgIGRyb3Bkb3duLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgICAgICAgZHJvcGRvd24uc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgIC8vIFN0b3JlIGFjdGl2ZSBkcm9wZG93biByZWZlcmVuY2VcbiAgICAgICAgYWN0aXZlRHJvcGRvd24gPSBkcm9wZG93bjtcbiAgICAgICAgYWN0aXZlRHJvcGRvd25EZWNrSWQgPSBkZWNrLmlkO1xuXG4gICAgICAgIC8vIFN0b3JlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgY2xlYW51cFxuICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLmNsaWNrID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRyb3Bkb3duLmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnNjcm9sbCA9IGNsb3NlQWN0aXZlRHJvcGRvd247XG4gICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMucmVzaXplID0gY2xvc2VBY3RpdmVEcm9wZG93bjtcblxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIHdpdGggc2xpZ2h0IGRlbGF5IHRvIHByZXZlbnQgaW1tZWRpYXRlIGNsb3N1cmVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZHJvcGRvd25FdmVudExpc3RlbmVycy5jbGljaykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycy5jbGljayxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFwic2Nyb2xsXCIsXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuc2Nyb2xsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJvcGRvd25FdmVudExpc3RlbmVycy5yZXNpemUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNpemVcIixcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycy5yZXNpemUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VBY3RpdmVEcm9wZG93bigpIHtcbiAgICAgICAgaWYgKGFjdGl2ZURyb3Bkb3duKSB7XG4gICAgICAgICAgICBhY3RpdmVEcm9wZG93bi5yZW1vdmUoKTtcbiAgICAgICAgICAgIGFjdGl2ZURyb3Bkb3duID0gbnVsbDtcbiAgICAgICAgICAgIGFjdGl2ZURyb3Bkb3duRGVja0lkID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgaWYgKGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuY2xpY2spIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuY2xpY2ssXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcInNjcm9sbFwiLFxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMucmVzaXplKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFwicmVzaXplXCIsXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMucmVzaXplLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHN0b3JlZCByZWZlcmVuY2VzXG4gICAgICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzID0ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBjbG9zZUFjdGl2ZURyb3Bkb3duKCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvcGVuRGVja0NvbmZpZyhkZWNrOiBEZWNrKSB7XG4gICAgICAgIGlmICghcGx1Z2luKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQbHVnaW4gbm90IGF2YWlsYWJsZSBmb3IgZGVjayBjb25maWdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgRGVja0NvbmZpZ01vZGFsKFxuICAgICAgICAgICAgcGx1Z2luLFxuICAgICAgICAgICAgZGVjayxcbiAgICAgICAgICAgIGFzeW5jIChjb25maWc6IERlY2tDb25maWcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob25VcGRhdGVEZWNrQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uVXBkYXRlRGVja0NvbmZpZyhkZWNrLmlkLCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxvY2FsIGRlY2sgY29uZmlnXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY2tJbmRleCA9IGFsbERlY2tzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgIChkKSA9PiBkLmlkID09PSBkZWNrLmlkLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVja0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVja3NbZGVja0luZGV4XS5jb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSByZWFjdGl2aXR5XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZWNrcyA9IFsuLi5hbGxEZWNrc107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3BlbkFua2lFeHBvcnQoZGVjazogRGVjaykge1xuICAgICAgICBpZiAoIXBsdWdpbikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGx1Z2luIG5vdCBhdmFpbGFibGUgZm9yIEFua2kgZXhwb3J0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEFua2lFeHBvcnRNb2RhbChwbHVnaW4sIGRlY2spO1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgLy8gSW5pdGlhbCBsb2FkXG4gICAgICAgIC8vIGhhbmRsZVJlZnJlc2goKTtcbiAgICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZGVjay1saXN0LXBhbmVsXCI+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRlclwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiPkZsYXNoY2FyZCBEZWNrczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItYnV0dG9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwic3RhdHMtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2sob25PcGVuU3RhdGlzdGljcywgZSl9XG4gICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKG9uT3BlblN0YXRpc3RpY3MsIGUpfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiVmlldyBPdmVyYWxsIFN0YXRpc3RpY3NcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTRcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxNFwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDN2MThoMThcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTggMTdWOVwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMyAxN1Y1XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTggMTd2LTNcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzcz1cInJlZnJlc2gtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzczpyZWZyZXNoaW5nPXtpc1JlZnJlc2hpbmd9XG4gICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZVJlZnJlc2gsIGUpfVxuICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVSZWZyZXNoLCBlKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNSZWZyZXNoaW5nfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTRcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxNFwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMyA0djZoLTZcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMSAyMHYtNmg2XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0zLjUxIDlhOSA5IDAgMCAxIDE0Ljg1LTMuMzZMMjMgMTBNMSAxNGw0LjY0IDQuMzZBOSA5IDAgMCAwIDIwLjQ5IDE1XCJcbiAgICAgICAgICAgICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItc2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZmlsdGVyLWlucHV0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkZpbHRlciBieSBuYW1lIG9yIHRhZy4uLiAoZS5nLiwgJ3NwYW5pc2gnLCAnI2ZsYXNoY2FyZHMnKVwiXG4gICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17ZmlsdGVyVGV4dH1cbiAgICAgICAgICAgICAgICBvbjppbnB1dD17aGFuZGxlRmlsdGVySW5wdXR9XG4gICAgICAgICAgICAgICAgb246Zm9jdXM9e2hhbmRsZUZpbHRlckZvY3VzfVxuICAgICAgICAgICAgICAgIG9uOmJsdXI9e2hhbmRsZUZpbHRlckJsdXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgeyNpZiBzaG93U3VnZ2VzdGlvbnMgJiYgZmlsdGVyZWRTdWdnZXN0aW9ucy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWdnZXN0aW9ucy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtaGVhZGVyXCI+QXZhaWxhYmxlIHRhZ3M6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBmaWx0ZXJlZFN1Z2dlc3Rpb25zIGFzIHRhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN1Z2dlc3Rpb24taXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246bW91c2Vkb3dufHByZXZlbnREZWZhdWx0PXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdWdnZXN0aW9uKHRhZyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gc2VsZWN0U3VnZ2VzdGlvbih0YWcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiBzZWxlY3RTdWdnZXN0aW9uKHRhZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezplbHNlIGlmICFmaWx0ZXJUZXh0LnRyaW0oKSAmJiBhdmFpbGFibGVUYWdzLmxlbmd0aCA+IDAgJiYgaW5wdXRGb2N1c2VkfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWdnZXN0aW9ucy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBBdmFpbGFibGUgdGFncyAoY2xpY2sgdG8gZmlsdGVyKTpcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBhdmFpbGFibGVUYWdzLnNsaWNlKDAsIDUpIGFzIHRhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN1Z2dlc3Rpb24taXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246bW91c2Vkb3dufHByZXZlbnREZWZhdWx0PXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdWdnZXN0aW9uKHRhZyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gc2VsZWN0U3VnZ2VzdGlvbih0YWcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiBzZWxlY3RTdWdnZXN0aW9uKHRhZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIGFsbERlY2tzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICA8cD5ObyBmbGFzaGNhcmQgZGVja3MgZm91bmQuPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJoZWxwLXRleHRcIj5cbiAgICAgICAgICAgICAgICBUYWcgeW91ciBub3RlcyB3aXRoICNmbGFzaGNhcmRzIHRvIGNyZWF0ZSBkZWNrcy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlIGlmIGRlY2tzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICA8cD5ObyBkZWNrcyBtYXRjaCB5b3VyIGZpbHRlci48L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlRyeSBhZGp1c3RpbmcgeW91ciBzZWFyY2ggdGVybXMuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZWNrLXRhYmxlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1kZWNrXCI+RGVjazwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc3RhdFwiPk5ldzwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc3RhdFwiPkR1ZTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtY29uZmlnXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZGVja3MgYXMgZGVja31cbiAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBzdGF0cyA9IGdldERlY2tTdGF0cyhkZWNrLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlY2stcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWRlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRlY2stbmFtZS1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiBoYW5kbGVEZWNrQ2xpY2soZGVjayksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlRGVja0NsaWNrKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUua2V5ID09PSBcIkVudGVyXCIgJiYgaGFuZGxlRGVja0NsaWNrKGRlY2spfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbGljayB0byByZXZpZXcge2RlY2submFtZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERlY2tOYW1lKGRlY2spfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXN0YXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1jYXJkcz17c3RhdHMubmV3Q291bnQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnVwZGF0aW5nPXtpc1VwZGF0aW5nU3RhdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWxpbWl0PXtkZWNrLmNvbmZpZy5uZXdDYXJkc1BlckRheSA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2RlY2suY29uZmlnLm5ld0NhcmRzUGVyRGF5ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke3N0YXRzLm5ld0NvdW50fSBuZXcgY2FyZHMgYXZhaWxhYmxlIHRvZGF5IChsaW1pdDogJHtkZWNrLmNvbmZpZy5uZXdDYXJkc1BlckRheX0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke3N0YXRzLm5ld0NvdW50fSBuZXcgY2FyZHMgZHVlYH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdHMubmV3Q291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBkZWNrLmNvbmZpZy5uZXdDYXJkc1BlckRheSA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGltaXQtaW5kaWNhdG9yXCI+8J+ThTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc3RhdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWNhcmRzPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczp1cGRhdGluZz17aXNVcGRhdGluZ1N0YXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXN0YXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1jYXJkcz17c3RhdHMuZHVlQ291bnQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnVwZGF0aW5nPXtpc1VwZGF0aW5nU3RhdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWxpbWl0PXtkZWNrLmNvbmZpZy5yZXZpZXdDYXJkc1BlckRheSA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2RlY2suY29uZmlnLnJldmlld0NhcmRzUGVyRGF5ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke3N0YXRzLmR1ZUNvdW50fSByZXZpZXcgY2FyZHMgYXZhaWxhYmxlIHRvZGF5IChsaW1pdDogJHtkZWNrLmNvbmZpZy5yZXZpZXdDYXJkc1BlckRheX0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke3N0YXRzLmR1ZUNvdW50fSByZXZpZXcgY2FyZHMgZHVlYH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdHMuZHVlQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBkZWNrLmNvbmZpZy5yZXZpZXdDYXJkc1BlckRheSA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGltaXQtaW5kaWNhdG9yXCI+8J+ThTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWNvbmZpZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZWNrLWNvbmZpZy1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IGhhbmRsZUNvbmZpZ0NsaWNrKGRlY2ssIGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IGhhbmRsZUNvbmZpZ0NsaWNrKGRlY2ssIGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkNvbmZpZ3VyZSBkZWNrIHNldHRpbmdzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNvbmZpZ3VyZSB7ZGVjay5uYW1lfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIzXCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTkuNCAxNWExLjY1IDEuNjUgMCAwIDAgLjMzIDEuODJsLjA2LjA2YTIgMiAwIDAgMSAwIDIuODMgMiAyIDAgMCAxLTIuODMgMGwtLjA2LS4wNmExLjY1IDEuNjUgMCAwIDAtMS44Mi0uMzMgMS42NSAxLjY1IDAgMCAwLTEgMS41MVYyMWEyIDIgMCAwIDEtMiAyIDIgMiAwIDAgMS0yLTJ2LS4wOUExLjY1IDEuNjUgMCAwIDAgOSAxOS40YTEuNjUgMS42NSAwIDAgMC0xLjgyLjMzbC0uMDYuMDZhMiAyIDAgMCAxLTIuODMgMCAyIDIgMCAwIDEgMC0yLjgzbC4wNi0uMDZhMS42NSAxLjY1IDAgMCAwIC4zMy0xLjgyIDEuNjUgMS42NSAwIDAgMC0xLjUxLTFIM2EyIDIgMCAwIDEtMi0yIDIgMiAwIDAgMSAyLTJoLjA5QTEuNjUgMS42NSAwIDAgMCA0LjYgOWExLjY1IDEuNjUgMCAwIDAtLjMzLTEuODJsLS4wNi0uMDZhMiAyIDAgMCAxIDAtMi44MyAyIDIgMCAwIDEgMi44MyAwbC4wNi4wNmExLjY1IDEuNjUgMCAwIDAgMS44Mi4zM0g5YTEuNjUgMS42NSAwIDAgMCAxIDEuNTFWM2EyIDIgMCAwIDEgMi0yIDIgMiAwIDAgMSAyIDJ2LjA5YTEuNjUgMS42NSAwIDAgMCAxIDEuNTEgMS42NSAxLjY1IDAgMCAwIDEuODItLjMzbC4wNi0uMDZhMiAyIDAgMCAxIDIuODMgMCAyIDIgMCAwIDEgMCAyLjgzbC0uMDYuMDZhMS42NSAxLjY1IDAgMCAwLS4zMyAxLjgyVjlhMS42NSAxLjY1IDAgMCAwIDEuNTEgMUgyMWEyIDIgMCAwIDEgMiAyIDIgMiAwIDAgMS0yIDJoLS4wOWExLjY1IDEuNjUgMCAwIDAtMS41MSAxelwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cblxuICAgIDxSZXZpZXdIZWF0bWFwIGJpbmQ6dGhpcz17aGVhdG1hcENvbXBvbmVudH0ge2dldFJldmlld0NvdW50c30gLz5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmRlY2stbGlzdC1wYW5lbCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLnBhbmVsLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAuaGVhZGVyLWJ1dHRvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuZmlsdGVyLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW46IDAgMTJweCAxNnB4IDEycHg7XG4gICAgfVxuXG4gICAgLmZpbHRlci1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgIC5maWx0ZXItaW5wdXQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAuc3VnZ2VzdGlvbnMtZHJvcGRvd24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTAwJTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXRvcDogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDRweCA0cHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9ucy1oZWFkZXIge1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICB9XG5cbiAgICAuc3VnZ2VzdGlvbi1pdGVtIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuc3VnZ2VzdGlvbi1pdGVtOmhvdmVyLFxuICAgIC5zdWdnZXN0aW9uLWl0ZW06YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgfVxuXG4gICAgLmZpbHRlci1pbnB1dDpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWlucHV0OjpwbGFjZWhvbGRlciB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAucGFuZWwtdGl0bGUge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAuc3RhdHMtYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuc3RhdHMtYnV0dG9uOmhvdmVyLFxuICAgIC5zdGF0cy1idXR0b246YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtaG92ZXIpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIH1cblxuICAgIC5yZWZyZXNoLWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwYWRkaW5nOiA0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5yZWZyZXNoLWJ1dHRvbjpob3ZlcixcbiAgICAucmVmcmVzaC1idXR0b246YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uOmRpc2FibGVkIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgIH1cblxuICAgIC5yZWZyZXNoLWJ1dHRvbi5yZWZyZXNoaW5nIHN2ZyB7XG4gICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgZnJvbSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgfVxuICAgICAgICB0byB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDMycHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuZW1wdHktc3RhdGUgcCB7XG4gICAgICAgIG1hcmdpbjogOHB4IDA7XG4gICAgfVxuXG4gICAgLmhlbHAtdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kZWNrLXRhYmxlIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuXG4gICAgLnRhYmxlLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDYwcHggNjBweCA2MHB4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC50YWJsZS1ib2R5IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICB9XG5cbiAgICAuZGVjay1yb3cge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA2MHB4IDYwcHggNjBweDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmRlY2stbmFtZS1saW5rIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgdHJhbnNpdGlvbjogdGV4dC1kZWNvcmF0aW9uLWNvbG9yIDAuMnMgZWFzZTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7XG4gICAgICAgIG1heC13aWR0aDogMjUwcHg7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5kZWNrLW5hbWUtbGluazpob3ZlcixcbiAgICAuZGVjay1uYW1lLWxpbms6YWN0aXZlIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgfVxuXG4gICAgLmRlY2stbmFtZS1saW5rOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICB9XG5cbiAgICAuY29sLWNvbmZpZyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC5kZWNrLWNvbmZpZy1idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBwYWRkaW5nOiA0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuZGVjay1jb25maWctYnV0dG9uOmhvdmVyLFxuICAgIC5kZWNrLWNvbmZpZy1idXR0b246YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLmRlY2stY29uZmlnLWJ1dHRvbjpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBvdXRsaW5lLW9mZnNldDogMnB4O1xuICAgIH1cblxuICAgIC5jb2wtZGVjayB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAganVzdGlmeS1zZWxmOiBzdGFydDtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgIH1cblxuICAgIC5jb2wtc3RhdCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGp1c3RpZnktc2VsZjogY2VudGVyO1xuICAgIH1cblxuICAgIC50YWJsZS1oZWFkZXIgLmNvbC1kZWNrIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0O1xuICAgIH1cblxuICAgIC50YWJsZS1oZWFkZXIgLmNvbC1zdGF0IHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGp1c3RpZnktc2VsZjogY2VudGVyO1xuICAgIH1cblxuICAgIC5jb2wtc3RhdC5oYXMtY2FyZHMge1xuICAgICAgICBjb2xvcjogIzRhYTNkZjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAuY29sLXN0YXQudXBkYXRpbmcge1xuICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlO1xuICAgIH1cblxuICAgIC5jb2wtc3RhdC5oYXMtbGltaXQge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7XG4gICAgfVxuXG4gICAgLmxpbWl0LWluZGljYXRvciB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgIH1cblxuICAgIC50YWJsZS1ib2R5Ojotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIHdpZHRoOiA4cHg7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXItaG92ZXIpO1xuICAgIH1cbiAgICAvKiBNb2JpbGUgcmVzcG9uc2l2ZSBzdHlsZXMgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgLmRlY2stbGlzdC1wYW5lbCB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IHVuc2V0O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICAucGFuZWwtaGVhZGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTZweDtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnBhbmVsLXRpdGxlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWFkZXItYnV0dG9ucyB7XG4gICAgICAgICAgICBnYXA6IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0cy1idXR0b24sXG4gICAgICAgIC5yZWZyZXNoLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0NHB4OyAvKiBUb3VjaC1mcmllbmRseSBzaXplICovXG4gICAgICAgICAgICBtaW4td2lkdGg6IDQ0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVyLWlucHV0IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMCAwIDJweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsgLyogUHJldmVudCB6b29tIG9uIGlPUyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhYmxlLWhlYWRlciB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA1NXB4IDU1cHggNTVweCA0NHB4O1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1yb3cge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNTVweCA1NXB4IDU1cHggNDRweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLW5hbWUtbGluayB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IG5vbmU7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY29sLXN0YXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stY29uZmlnLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiA0NHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDI0cHggMTZweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAucGFuZWwtaGVhZGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnBhbmVsLXRpdGxlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50YWJsZS1oZWFkZXIge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNDVweCA0NXB4IDQ1cHggNDBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stcm93IHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDQ1cHggNDVweCA0NXB4IDQwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1uYW1lLWxpbmsge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbC1zdGF0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWNvbmZpZy1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDBweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogNDBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXItaW5wdXQge1xuICAgICAgICAgICAgcGFkZGluZzogMCAwIDAgMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN1Z2dlc3Rpb25zLWRyb3Bkb3duIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDE1MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN1Z2dlc3Rpb24taXRlbSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OyAvKiBUb3VjaC1mcmllbmRseSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWxwLXRleHQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM5MHB4KSB7XG4gICAgICAgIC5kZWNrLWxpc3QtcGFuZWwge1xuICAgICAgICAgICAgbWluLXdpZHRoOiB1bnNldDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAzOHB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYW5lbC1oZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAucGFuZWwtdGl0bGUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYWRlci1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRzLWJ1dHRvbixcbiAgICAgICAgLnJlZnJlc2gtYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDM2cHg7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDM2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVyLWlucHV0IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMCAwIDJweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50YWJsZS1oZWFkZXIge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMzhweCAzOHB4IDM4cHggMzZweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLXJvdyB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAzOHB4IDM4cHggMzhweCAzNnB4O1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDhweDtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stbmFtZS1saW5rIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7XG4gICAgICAgIH1cblxuICAgICAgICAuY29sLXN0YXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhYmxlLWhlYWRlciAuY29sLXN0YXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stY29uZmlnLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA0cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiAzNnB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiAzNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN1Z2dlc3Rpb25zLWRyb3Bkb3duIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN1Z2dlc3Rpb24taXRlbSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDhweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lbXB0eS1zdGF0ZSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWxwLXRleHQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogRHJvcGRvd24gc3R5bGVzICovXG4gICAgOmdsb2JhbCguZGVjay1jb25maWctZHJvcGRvd24pIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgICAgcGFkZGluZzogNHB4IDA7XG4gICAgICAgIG1pbi13aWR0aDogMTQwcHg7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguZHJvcGRvd24tb3B0aW9uKSB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZTtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5kcm9wZG93bi1vcHRpb246aG92ZXIpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguZHJvcGRvd24tb3B0aW9uOmFjdGl2ZSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjdGl2ZSk7XG4gICAgfVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCBTdGF0aXN0aWNzVUkgZnJvbSBcIi4vU3RhdGlzdGljc1VJLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGlzdGljc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgY29tcG9uZW50OiBTdGF0aXN0aWNzVUkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwbHVnaW46IERlY2tzUGx1Z2luKSB7XG4gICAgc3VwZXIocGx1Z2luLmFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBBZGQgQ1NTIGNsYXNzZXMgZm9yIHN0eWxpbmdcbiAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgIGlmIChtb2RhbEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsXCIpO1xuXG4gICAgICAvLyBBZGQgbW9iaWxlLXNwZWNpZmljIGNsYXNzZXNcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcInN0YXRpc3RpY3MtbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lckVsLmFkZENsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1jb250YWluZXJcIik7XG4gICAgY29udGVudEVsLmFkZENsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1jb250ZW50XCIpO1xuXG4gICAgLy8gTW9kYWwgdGl0bGVcbiAgICBjb25zdCB0aXRsZUVsID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIk92ZXJhbGwgU3RhdGlzdGljc1wiIH0pO1xuICAgIHRpdGxlRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLXRpdGxlXCIpO1xuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbXBvbmVudENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoXCJzdGF0aXN0aWNzLWNvbnRhaW5lclwiKTtcbiAgICBjb21wb25lbnRDb250YWluZXIuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLWNvbXBvbmVudC1jb250YWluZXJcIik7XG5cbiAgICAvLyBNb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgU3RhdGlzdGljc1VJKHtcbiAgICAgIHRhcmdldDogY29tcG9uZW50Q29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgcGx1Z2luOiB0aGlzLnBsdWdpbixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gY29tcG9uZW50IGV2ZW50c1xuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNsb3NlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB3aW5kb3cgcmVzaXplIGZvciBtb2JpbGUgYWRhcHRhdGlvblxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmIChtb2RhbEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1tb2JpbGVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcblxuICAgIC8vIFN0b3JlIHJlc2l6ZSBoYW5kbGVyIGZvciBjbGVhbnVwXG4gICAgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlciA9IGhhbmRsZVJlc2l6ZTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICAvLyBDbGVhbiB1cCByZXNpemUgaGFuZGxlclxuICAgIGlmICgodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyKTtcbiAgICAgIGRlbGV0ZSAodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyO1xuICAgIH1cblxuICAgIC8vIERlc3Ryb3kgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbiAgICBpbXBvcnQgeyBvbk1vdW50LCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIHRpY2sgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0IHsgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuICAgIGltcG9ydCBSZXZpZXdIZWF0bWFwIGZyb20gXCIuL1Jldmlld0hlYXRtYXAuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBTdGF0aXN0aWNzIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG5cbiAgICBleHBvcnQgbGV0IHBsdWdpbjogRGVja3NQbHVnaW47XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gICAgbGV0IGxvYWRpbmcgPSB0cnVlO1xuICAgIGxldCBzdGF0aXN0aWNzOiBTdGF0aXN0aWNzIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHNlbGVjdGVkRGVja0ZpbHRlciA9IFwiYWxsXCI7IC8vIFwiYWxsXCIsIFwidGFnOnRhZ25hbWVcIiwgb3IgXCJkZWNrOmRlY2tpZFwiXG4gICAgbGV0IHNlbGVjdGVkVGltZWZyYW1lID0gXCIxMm1vbnRoc1wiOyAvLyBcIjEybW9udGhzXCIgb3IgXCJhbGxcIlxuICAgIGxldCBhdmFpbGFibGVEZWNrczogYW55W10gPSBbXTtcbiAgICBsZXQgYXZhaWxhYmxlVGFnczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaGVhdG1hcENvbXBvbmVudDogUmV2aWV3SGVhdG1hcDtcbiAgICBsZXQgZGVja0ZpbHRlckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHRpbWVmcmFtZUZpbHRlckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyBUcmFjayBsYXN0IGV2ZW50IHRvIHByZXZlbnQgZG91YmxlIGV4ZWN1dGlvblxuICAgIGxldCBsYXN0RXZlbnRUaW1lID0gMDtcbiAgICBsZXQgbGFzdEV2ZW50VHlwZSA9IFwiXCI7XG5cbiAgICAvLyBEZXJpdmVkIHN0YXRpc3RpY3MgLSBjb21wdXRlZCBhZnRlciBsb2FkaW5nXG4gICAgbGV0IHRvZGF5U3RhdHM6IGFueSA9IG51bGw7XG4gICAgbGV0IHdlZWtTdGF0czogYW55ID0gbnVsbDtcbiAgICBsZXQgbW9udGhTdGF0czogYW55ID0gbnVsbDtcbiAgICBsZXQgeWVhclN0YXRzOiBhbnkgPSBudWxsO1xuXG4gICAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBhd2FpdCBsb2FkRGVja3NBbmRUYWdzKCk7XG4gICAgICAgIGF3YWl0IGxvYWRTdGF0aXN0aWNzKCk7XG5cbiAgICAgICAgLy8gTW91bnQgZmlsdGVyIGNvbXBvbmVudHMgYWZ0ZXIgZGF0YSBpcyBsb2FkZWRcbiAgICAgICAgdGljaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbW91bnRGaWx0ZXJDb21wb25lbnRzKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbW91bnRGaWx0ZXJDb21wb25lbnRzKCkge1xuICAgICAgICAvLyBEZWNrIGZpbHRlciBkcm9wZG93blxuICAgICAgICBpZiAoZGVja0ZpbHRlckNvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoZGVja0ZpbHRlckNvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlNlbGVjdCBEZWNrKHMpOlwiKVxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcImRlY2stZmlsdGVyLWNvbnRhaW5lclwiKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKFwiYWxsXCIsIFwiQWxsIERlY2tzXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oYHRhZzoke3RhZ31gLCBgVGFnOiAke3RhZ31gKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlRGVja3MuZm9yRWFjaCgoZGVjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKGBkZWNrOiR7ZGVjay5pZH1gLCBkZWNrLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUoc2VsZWN0ZWREZWNrRmlsdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGVja0ZpbHRlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmlsdGVyQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGltZWZyYW1lIGZpbHRlciBkcm9wZG93blxuICAgICAgICBpZiAodGltZWZyYW1lRmlsdGVyQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyh0aW1lZnJhbWVGaWx0ZXJDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJUaW1lZnJhbWU6XCIpXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwidGltZWZyYW1lLWZpbHRlci1jb250YWluZXJcIilcbiAgICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjEybW9udGhzXCIsIFwiTGFzdCAxMiBNb250aHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJhbGxcIiwgXCJBbGwgSGlzdG9yeVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHNlbGVjdGVkVGltZWZyYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUaW1lZnJhbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkRGVja3NBbmRUYWdzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXZhaWxhYmxlRGVja3MgPSBhd2FpdCBwbHVnaW4uZ2V0RGVja3MoKTtcbiAgICAgICAgICAgIGF2YWlsYWJsZVRhZ3MgPSBbXG4gICAgICAgICAgICAgICAgLi4ubmV3IFNldChhdmFpbGFibGVEZWNrcy5tYXAoKGRlY2spID0+IGRlY2sudGFnKSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgZGVja3MgYW5kIHRhZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoQ2xpY2soY2FsbGJhY2s6ICgpID0+IHZvaWQsIGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGV4ZWN1dGlvbiB3aXRoaW4gMTAwbXNcbiAgICAgICAgaWYgKG5vdyAtIGxhc3RFdmVudFRpbWUgPCAxMDAgJiYgbGFzdEV2ZW50VHlwZSAhPT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RXZlbnRUaW1lID0gbm93O1xuICAgICAgICBsYXN0RXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZFN0YXRpc3RpY3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0aXN0aWNzID0gYXdhaXQgcGx1Z2luLmdldE92ZXJhbGxTdGF0aXN0aWNzKFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGVja0ZpbHRlcixcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFRpbWVmcmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwbHVnaW4uZGVidWdMb2coXCJMb2FkZWQgc3RhdGlzdGljczpcIiwgc3RhdGlzdGljcyk7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgZGVyaXZlZCBzdGF0aXN0aWNzIG9uY2UgZGF0YSBpcyBsb2FkZWRcbiAgICAgICAgICAgIHRvZGF5U3RhdHMgPSBnZXRUb2RheVN0YXRzKCk7XG4gICAgICAgICAgICB3ZWVrU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cyg3KTtcbiAgICAgICAgICAgIG1vbnRoU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cygzMCk7XG4gICAgICAgICAgICB5ZWFyU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cygzNjUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgc3RhdGlzdGljczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgc3RhdGlzdGljcyA9IHtcbiAgICAgICAgICAgICAgICBkYWlseVN0YXRzOiBbXSxcbiAgICAgICAgICAgICAgICBjYXJkU3RhdHM6IHsgbmV3OiAwLCByZXZpZXc6IDAsIG1hdHVyZTogMCB9LFxuICAgICAgICAgICAgICAgIGFuc3dlckJ1dHRvbnM6IHsgYWdhaW46IDAsIGhhcmQ6IDAsIGdvb2Q6IDAsIGVhc3k6IDAgfSxcbiAgICAgICAgICAgICAgICByZXRlbnRpb25SYXRlOiAwLFxuICAgICAgICAgICAgICAgIGludGVydmFsczogW10sXG4gICAgICAgICAgICAgICAgZm9yZWNhc3Q6IFtdLFxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VQYWNlOiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsUmV2aWV3VGltZTogMCxcbiAgICAgICAgICAgIH0gYXMgU3RhdGlzdGljcztcblxuICAgICAgICAgICAgLy8gU2V0IGVtcHR5IGRlcml2ZWQgc3RhdHMgb24gZXJyb3JcbiAgICAgICAgICAgIHRvZGF5U3RhdHMgPSBudWxsO1xuICAgICAgICAgICAgd2Vla1N0YXRzID0gbnVsbDtcbiAgICAgICAgICAgIG1vbnRoU3RhdHMgPSBudWxsO1xuICAgICAgICAgICAgeWVhclN0YXRzID0gbnVsbDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZpbHRlckNoYW5nZSgpIHtcbiAgICAgICAgYXdhaXQgbG9hZFN0YXRpc3RpY3MoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmc6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGlmIChob3VycyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWludXRlcyAlIDYwfW1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfW1gO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdFBhY2Uoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgICAgIGlmIChzZWNvbmRzIDwgNjApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtzZWNvbmRzLnRvRml4ZWQoMSl9c2A7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IE1hdGgucm91bmQoc2Vjb25kcyAlIDYwKTtcbiAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3JlbWFpbmluZ1NlY29uZHN9c2A7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VG9kYXlTdGF0cygpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5kYWlseVN0YXRzIHx8IHN0YXRpc3RpY3MuZGFpbHlTdGF0cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICAvLyBGaXJzdCB0cnkgdG8gZmluZCB0b2RheSdzIHN0YXRzLCBpZiBub3QgYXZhaWxhYmxlIHVzZSB0aGUgbW9zdCByZWNlbnRcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdGF0cy5maW5kKChkYXkpID0+IGRheS5kYXRlID09PSB0b2RheSkgfHxcbiAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdGF0c1swXSB8fFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbWVmcmFtZVN0YXRzKGRheXM6IG51bWJlcikge1xuICAgICAgICBpZiAoIXN0YXRpc3RpY3M/LmRhaWx5U3RhdHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV2aWV3czogMCxcbiAgICAgICAgICAgICAgICB0aW1lU3BlbnQ6IDAsXG4gICAgICAgICAgICAgICAgbmV3Q2FyZHM6IDAsXG4gICAgICAgICAgICAgICAgbGVhcm5pbmdDYXJkczogMCxcbiAgICAgICAgICAgICAgICByZXZpZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXMpO1xuICAgICAgICBjb25zdCBjdXRvZmZTdHIgPSBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkU3RhdHMgPSBzdGF0aXN0aWNzLmRhaWx5U3RhdHMuZmlsdGVyKFxuICAgICAgICAgICAgKGRheSkgPT4gZGF5LmRhdGUgPj0gY3V0b2ZmU3RyLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChmaWx0ZXJlZFN0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIHJldmlld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFN0YXRzLnJlZHVjZShcbiAgICAgICAgICAgIChhY2MsIGRheSkgPT4gKHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiBhY2MucmV2aWV3cyArIGRheS5yZXZpZXdzLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogYWNjLnRpbWVTcGVudCArIGRheS50aW1lU3BlbnQsXG4gICAgICAgICAgICAgICAgbmV3Q2FyZHM6IGFjYy5uZXdDYXJkcyArIGRheS5uZXdDYXJkcyxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLCAvLyBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlNcbiAgICAgICAgICAgICAgICByZXZpZXdDYXJkczogYWNjLnJldmlld0NhcmRzICsgZGF5LnJldmlld0NhcmRzLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOlxuICAgICAgICAgICAgICAgICAgICBhY2MucmV2aWV3cyArIGRheS5yZXZpZXdzID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWNjLmNvcnJlY3RSYXRlICogYWNjLnJldmlld3MgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmNvcnJlY3RSYXRlICogZGF5LnJldmlld3MpIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFjYy5yZXZpZXdzICsgZGF5LnJldmlld3MpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDAsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIHJldmlld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlRWFzZSgpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5hbnN3ZXJCdXR0b25zKSByZXR1cm4gXCIwLjAwXCI7XG4gICAgICAgIGNvbnN0IHsgYWdhaW4sIGhhcmQsIGdvb2QsIGVhc3kgfSA9IHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucztcbiAgICAgICAgY29uc3QgdG90YWwgPSBhZ2FpbiArIGhhcmQgKyBnb29kICsgZWFzeTtcbiAgICAgICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm4gXCIwLjAwXCI7XG4gICAgICAgIC8vIE1hcCBidXR0b25zIHRvIHZhbHVlczogQWdhaW49MSwgSGFyZD0yLCBHb29kPTMsIEVhc3k9NFxuICAgICAgICBjb25zdCB3ZWlnaHRlZFN1bSA9IGFnYWluICogMSArIGhhcmQgKiAyICsgZ29vZCAqIDMgKyBlYXN5ICogNDtcbiAgICAgICAgcmV0dXJuICh3ZWlnaHRlZFN1bSAvIHRvdGFsKS50b0ZpeGVkKDIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUF2ZXJhZ2VJbnRlcnZhbCgpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5pbnRlcnZhbHMgfHwgc3RhdGlzdGljcy5pbnRlcnZhbHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCB0b3RhbEludGVydmFsID0gMDtcbiAgICAgICAgbGV0IHRvdGFsQ2FyZHMgPSAwO1xuXG4gICAgICAgIHN0YXRpc3RpY3MuaW50ZXJ2YWxzLmZvckVhY2goKGludGVydmFsKSA9PiB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGludGVydmFsIHN0cmluZyB0byBtaW51dGVzXG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbFN0ciA9IGludGVydmFsLmludGVydmFsO1xuICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSAwO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxTdHIuZW5kc1dpdGgoXCJoXCIpKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KGludGVydmFsU3RyKSAqIDYwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnRlcnZhbFN0ci5lbmRzV2l0aChcImRcIikpIHtcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQoaW50ZXJ2YWxTdHIpICogMTQ0MDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWxTdHIuZW5kc1dpdGgoXCJtXCIpKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KGludGVydmFsU3RyKSAqIDQzMjAwOyAvLyBtb250aHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG90YWxJbnRlcnZhbCArPSBtaW51dGVzICogaW50ZXJ2YWwuY291bnQ7XG4gICAgICAgICAgICB0b3RhbENhcmRzICs9IGludGVydmFsLmNvdW50O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG90YWxDYXJkcyA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGF2Z01pbnV0ZXMgPSB0b3RhbEludGVydmFsIC8gdG90YWxDYXJkcztcblxuICAgICAgICAvLyBDb252ZXJ0IGJhY2sgdG8gZGF5cyBmb3IgZGlzcGxheVxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChhdmdNaW51dGVzIC8gMTQ0MCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVlVG9kYXkoKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uZm9yZWNhc3QgfHwgc3RhdGlzdGljcy5mb3JlY2FzdC5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIGNvbnN0IHRvZGF5Rm9yZWNhc3QgPSBzdGF0aXN0aWNzLmZvcmVjYXN0LmZpbmQoXG4gICAgICAgICAgICAoZGF5KSA9PiBkYXkuZGF0ZSA9PT0gdG9kYXksXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0b2RheUZvcmVjYXN0ID8gdG9kYXlGb3JlY2FzdC5kdWVDb3VudCA6IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVlVG9tb3Jyb3coKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uZm9yZWNhc3QgfHwgc3RhdGlzdGljcy5mb3JlY2FzdC5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGNvbnN0IHRvbW9ycm93U3RyID0gdG9tb3Jyb3cudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIGNvbnN0IHRvbW9ycm93Rm9yZWNhc3QgPSBzdGF0aXN0aWNzLmZvcmVjYXN0LmZpbmQoXG4gICAgICAgICAgICAoZGF5KSA9PiBkYXkuZGF0ZSA9PT0gdG9tb3Jyb3dTdHIsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0b21vcnJvd0ZvcmVjYXN0ID8gdG9tb3Jyb3dGb3JlY2FzdC5kdWVDb3VudCA6IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlQmFySGVpZ2h0KGR1ZUNvdW50OiBudW1iZXIsIG1heER1ZUNvdW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSA0MDA7IC8vIE1heGltdW0gaGVpZ2h0IGluIHBpeGVscyAobGVhdmluZyByb29tIGluIDE1MHB4IGNvbnRhaW5lcilcblxuICAgICAgICBpZiAobWF4RHVlQ291bnQgPT09IDApIHJldHVybiAwO1xuXG4gICAgICAgIGNvbnN0IHByb3BvcnRpb24gPSBkdWVDb3VudCAvIG1heER1ZUNvdW50O1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocHJvcG9ydGlvbiAqIGJhckhlaWdodCAtIDgwLCAxMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TWF0dXJpdHlSYXRpbygpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5jYXJkU3RhdHMpIHJldHVybiBcIjAuMFwiO1xuICAgICAgICBjb25zdCB7IG5ldzogbmV3Q2FyZHMsIHJldmlldywgbWF0dXJlIH0gPSBzdGF0aXN0aWNzLmNhcmRTdGF0cztcbiAgICAgICAgY29uc3QgdG90YWwgPSBuZXdDYXJkcyArIChyZXZpZXcgfHwgMCkgKyBtYXR1cmU7XG4gICAgICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuIFwiMC4wXCI7XG4gICAgICAgIHJldHVybiAoKG1hdHVyZSAvIHRvdGFsKSAqIDEwMCkudG9GaXhlZCgxKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInN0YXRpc3RpY3MtY29udGFpbmVyXCI+XG4gICAgeyNpZiBsb2FkaW5nfVxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPkxvYWRpbmcgc3RhdGlzdGljcy4uLjwvZGl2PlxuICAgIHs6ZWxzZSBpZiAhc3RhdGlzdGljc31cbiAgICAgICAgPGRpdiBjbGFzcz1cImVycm9yXCI+XG4gICAgICAgICAgICA8cD5GYWlsZWQgdG8gbG9hZCBzdGF0aXN0aWNzPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmV0cnktYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2sobG9hZFN0YXRpc3RpY3MsIGUpfVxuICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhsb2FkU3RhdGlzdGljcywgZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmV0cnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJzXCI+XG4gICAgICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17ZGVja0ZpbHRlckNvbnRhaW5lcn0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17dGltZWZyYW1lRmlsdGVyQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBDdXJyZW50IFN0YXR1cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5DdXJyZW50IFN0YXR1czwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFybmluZ1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5yZXZpZXcgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+UmV2aWV3PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3M/LmNhcmRTdGF0cz8ubWF0dXJlIHx8IDB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPk1hdHVyZTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57Z2V0RHVlVG9kYXkoKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5EdWUgVG9kYXk8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFBhY2UgU3RhdGlzdGljcyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5SZXZpZXcgUGFjZTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5hdmVyYWdlUGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0UGFjZShzdGF0aXN0aWNzLmF2ZXJhZ2VQYWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJOL0FcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+QXZlcmFnZSBwZXIgQ2FyZDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy50b3RhbFJldmlld1RpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdFRpbWUoc3RhdGlzdGljcy50b3RhbFJldmlld1RpbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIk4vQVwifVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5Ub3RhbCBSZXZpZXcgVGltZTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gVG9kYXkncyBTdGF0aXN0aWNzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlRvZGF5J3MgU3RhdGlzdGljczwvaDM+XG4gICAgICAgICAgICB7I2lmIHRvZGF5U3RhdHN9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57dG9kYXlTdGF0cy5yZXZpZXdzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5DYXJkcyBTdHVkaWVkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKHRvZGF5U3RhdHMudGltZVNwZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5UaW1lIFNwZW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGg0PkJyZWFrZG93biBieSBDYXJkIFR5cGU8L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3RvZGF5U3RhdHMubmV3Q2FyZHN9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPk5ldyBDYXJkczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+MDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5MZWFybmluZzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57dG9kYXlTdGF0cy5yZXZpZXdDYXJkc308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+UmV2aWV3PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gcmV2aWV3cyB0b2RheSB5ZXQuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnQgcmV2aWV3aW5nIGZsYXNoY2FyZHMgdG8gc2VlIHlvdXIgZGFpbHkgc3RhdGlzdGljc1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVyZSFcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBXZWVrL01vbnRoL1llYXIgU3RhdGlzdGljcyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5UaGlzIFdlZWs8L2gzPlxuICAgICAgICAgICAgeyNpZiB3ZWVrU3RhdHMgJiYgd2Vla1N0YXRzLnJldmlld3MgPiAwfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3dlZWtTdGF0cy5yZXZpZXdzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5DYXJkcyBTdHVkaWVkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKHdlZWtTdGF0cy50aW1lU3BlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlRpbWUgU3BlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3dlZWtTdGF0cy5jb3JyZWN0UmF0ZS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5TdWNjZXNzIFJhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyByZXZpZXdzIHRoaXMgd2VlayB5ZXQuPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cblxuICAgICAgICAgICAgPGgzPlRoaXMgTW9udGg8L2gzPlxuICAgICAgICAgICAgeyNpZiBtb250aFN0YXRzICYmIG1vbnRoU3RhdHMucmV2aWV3cyA+IDB9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57bW9udGhTdGF0cy5yZXZpZXdzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5DYXJkcyBTdHVkaWVkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKG1vbnRoU3RhdHMudGltZVNwZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5UaW1lIFNwZW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb250aFN0YXRzLmNvcnJlY3RSYXRlLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlN1Y2Nlc3MgUmF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm8tZGF0YS1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIHJldmlld3MgdGhpcyBtb250aCB5ZXQuPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cblxuICAgICAgICAgICAgPGgzPlRoaXMgWWVhcjwvaDM+XG4gICAgICAgICAgICB7I2lmIHllYXJTdGF0cyAmJiB5ZWFyU3RhdHMucmV2aWV3cyA+IDB9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57eWVhclN0YXRzLnJldmlld3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkNhcmRzIFN0dWRpZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUoeWVhclN0YXRzLnRpbWVTcGVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+VGltZSBTcGVudDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eWVhclN0YXRzLmNvcnJlY3RSYXRlLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlN1Y2Nlc3MgUmF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm8tZGF0YS1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIHJldmlld3MgdGhpcyB5ZWFyIHlldC48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIERlY2sgU3RhdGlzdGljcyAmIE1ldHJpY3MgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDM+RGVjayBTdGF0aXN0aWNzICYgTWV0cmljczwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljcy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsoc3RhdGlzdGljcz8ucmV0ZW50aW9uUmF0ZSB8fCAwKS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5SZXRlbnRpb24gUmF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAlIG9mIHJldmlld3MgYW5zd2VyZWQgY29ycmVjdGx5IChleGNsdWRpbmcgXCJBZ2FpblwiKVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPntjYWxjdWxhdGVBdmVyYWdlRWFzZSgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+QXZlcmFnZSBFYXNlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1lYW4gb2YgZWFzZSBidXR0b24gdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FsY3VsYXRlQXZlcmFnZUludGVydmFsKCl9ZFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkF2ZyBJbnRlcnZhbDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBNZWFuIGludGVydmFsIG9mIGFsbCByZXZpZXcgY2FyZHNcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj57Z2V0RHVlVG9kYXkoKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkR1ZSBUb2RheTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgY2FyZHMgZHVlIHRvZGF5XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+e2dldER1ZVRvbW9ycm93KCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5EdWUgVG9tb3Jyb3c8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGNhcmRzIGR1ZSB0b21vcnJvd1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFybmluZyBDYXJkc1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBjYXJkcyBpbiB0aGUgbGVhcm5pbmcgcXVldWVcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj57Z2V0TWF0dXJpdHlSYXRpbygpfSU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPk1hdHVyaXR5IFJhdGlvPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdHVyZSBjYXJkcyDDtyB0b3RhbCBjYXJkc1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyhzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3M/LmNhcmRTdGF0cz8ucmV2aWV3IHx8IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+VG90YWwgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsIGNhcmRzIGluIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGg0PkNhcmQgU3RhdHVzIEJyZWFrZG93bjwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFybmluZ1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TWF0dXJlPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBBbnN3ZXIgQnV0dG9uIFVzYWdlIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPkFuc3dlciBCdXR0b24gVXNhZ2U8L2gzPlxuICAgICAgICAgICAgeyNpZiBzdGF0aXN0aWNzPy5hbnN3ZXJCdXR0b25zICYmIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gPiAwIHx8IHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkID4gMCB8fCBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCA+IDAgfHwgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kgPiAwKX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGFnYWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+QWdhaW48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGhhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5IYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5hZ2FpbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5nb29kICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeSkpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1iYXIgZ29vZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2R9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tcGVyY2VudGFnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuaGFyZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2QgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5KSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWJhciBlYXN5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+RWFzeTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1jb3VudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1wZXJjZW50YWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyBhbnN3ZXIgYnV0dG9uIGRhdGEgYXZhaWxhYmxlIHlldC48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiaGVscC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZSBzb21lIHJldmlld3MgdG8gc2VlIGFuc3dlciBidXR0b24gc3RhdGlzdGljcy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBGb3JlY2FzdCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5SZXZpZXcgTG9hZCBGb3JlY2FzdDwvaDM+XG4gICAgICAgICAgICB7I2lmIHN0YXRpc3RpY3M/LmZvcmVjYXN0ICYmIHN0YXRpc3RpY3MuZm9yZWNhc3QubGVuZ3RoID4gMCAmJiBzdGF0aXN0aWNzLmZvcmVjYXN0LnNvbWUoKGRheSkgPT4gZGF5LmR1ZUNvdW50ID4gMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBmaWx0ZXJlZEZvcmVjYXN0ID0gc3RhdGlzdGljcy5mb3JlY2FzdFxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChkYXkpID0+IGRheS5kdWVDb3VudCA+IDApXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAyMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBtYXhEdWVDb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAuLi5maWx0ZXJlZEZvcmVjYXN0Lm1hcCgoZGF5KSA9PiBkYXkuZHVlQ291bnQpLFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LWNoYXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBmaWx0ZXJlZEZvcmVjYXN0IGFzIGRheSwgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IG9yaWdpbmFsSW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuZm9yZWNhc3QuaW5kZXhPZihkYXkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9yZWNhc3QtYmFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIntvcmlnaW5hbEluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1RvZGF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9yaWdpbmFsSW5kZXggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdUb21vcnJvdydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBEYXkgJHtvcmlnaW5hbEluZGV4fSAoaW4gJHtvcmlnaW5hbEluZGV4fSBkYXlzKWB9OiB7ZGF5LmR1ZUNvdW50fSBjYXJke2RheS5kdWVDb3VudCAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9IGR1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OiB7Y2FsY3VsYXRlQmFySGVpZ2h0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmR1ZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RHVlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW5hbEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYXItdmFsdWVcIj57ZGF5LmR1ZUNvdW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvcmVjYXN0LW5vdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgU2hvd2luZyBkYXlzIHdpdGggc2NoZWR1bGVkIHJldmlld3MgYmFzZWQgb24gRlNSUyBpbnRlcnZhbHMuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gdXBjb21pbmcgcmV2aWV3cyBzY2hlZHVsZWQuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIGZsYXNoY2FyZHMgdG8geW91ciBkZWNrcyB0byBzZWUgZnV0dXJlIHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWNhc3RzLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFJldmlldyBIZWF0bWFwIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlJldmlldyBIZWF0bWFwPC9oMz5cbiAgICAgICAgICAgIDxwPkRhaWx5IHJldmlldyBhY3Rpdml0eSBvdmVyIHRpbWU8L3A+XG4gICAgICAgICAgICA8UmV2aWV3SGVhdG1hcFxuICAgICAgICAgICAgICAgIGJpbmQ6dGhpcz17aGVhdG1hcENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICBnZXRSZXZpZXdDb3VudHM9e2FzeW5jIChkYXlzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwbHVnaW4uZ2V0UmV2aWV3Q291bnRzKGRheXMpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gZGlzcGF0Y2goXCJjbG9zZVwiKSwgZSl9XG4gICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGRpc3BhdGNoKFwiY2xvc2VcIiksIGUpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbiAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvbiBidXltZWFjb2ZmZWUtYmFkZ2VcIj5cbiAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vd3d3LmJ1eW1lYWNvZmZlZS5jb20vZHNjaGVyZGlsMFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz1cImh0dHBzOi8vY2RuLmJ1eW1lYWNvZmZlZS5jb20vYnV0dG9ucy92Mi9kZWZhdWx0LXllbGxvdy5wbmdcIlxuICAgICAgICAgICAgICAgIGFsdD1cIkJ1eSBNZSBBIENvZmZlZVwiXG4gICAgICAgICAgICAgICAgaGVpZ2h0PVwiNDBcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9hPlxuICAgIDwvZGl2PlxuPC9kaXY+XG57I2lmIGZhbHNlfVxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLWZpbHRlci1jb250YWluZXIgdGltZWZyYW1lLWZpbHRlci1jb250YWluZXJcIj48L2Rpdj5cbnsvaWZ9XG5cbjxzdHlsZT5cbiAgICAuc3RhdGlzdGljcy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1pbnRlcmZhY2UpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIH1cblxuICAgIC5sb2FkaW5nLFxuICAgIC5lcnJvciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5maWx0ZXJzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAyNHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmZpbHRlcnMgPiBkaXYge1xuICAgICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgIH1cblxuICAgIC5zdGF0cy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzJweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDI0cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLnN0YXRzLXNlY3Rpb246bGFzdC1vZi10eXBlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG5cbiAgICAuc3RhdHMtc2VjdGlvbiBoMyB7XG4gICAgICAgIG1hcmdpbjogMCAwIDIwcHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zdGF0cy1zZWN0aW9uIGg0IHtcbiAgICAgICAgbWFyZ2luOiAyNHB4IDAgMTJweCAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLnN0YXRzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cblxuICAgIC5zdGF0LWNhcmQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDgwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgfVxuXG4gICAgLnN0YXQtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIH1cblxuICAgIC5tZXRyaWNzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMtY2FyZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDI4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICB9XG5cbiAgICAubWV0cmljLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgfVxuXG4gICAgLm1ldHJpYy1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4zO1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1jaGFydCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogNHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBoZWlnaHQ6IDQwMHB4O1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAuZm9yZWNhc3QtYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDBweDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgfVxuXG4gICAgLmJhciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7XG4gICAgfVxuXG4gICAgLmJhci1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5iYXItdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLmZvcmVjYXN0LW5vdGUge1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1zdGF0cyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogMTJweDtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWJhciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyLmFnYWluIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZWY0NDQ0O1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyLmhhcmQge1xuICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmOTczMTY7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1iYXIuZ29vZCB7XG4gICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzIyYzU1ZTtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWJhci5lYXN5IHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjM2I4MmY2O1xuICAgIH1cblxuICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIH1cblxuICAgIC5idXR0b24tY291bnQge1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1wZXJjZW50YWdlIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjRweDtcbiAgICAgICAgcGFkZGluZzogMTZweCAyMHB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtMjBweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAtMjBweDtcbiAgICB9XG5cbiAgICAuY2xvc2UtYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogODBweDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLmNsb3NlLWJ1dHRvbjpob3ZlcixcbiAgICAuY2xvc2UtYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuXG4gICAgLmZvcmVjYXN0LWJhciB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1iYXI6aG92ZXIgLmJhciB7XG4gICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2U7XG4gICAgfVxuXG4gICAgLm5vLWRhdGEtbWVzc2FnZSB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAubm8tZGF0YS1tZXNzYWdlIHAge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5oZWxwLXRleHQge1xuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5yZXRyeS1idXR0b24ge1xuICAgICAgICBtYXJnaW4tdG9wOiAxMnB4O1xuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICAgICAgbWluLXdpZHRoOiA4MHB4O1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAucmV0cnktYnV0dG9uOmhvdmVyLFxuICAgIC5yZXRyeS1idXR0b246YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICB9XG4gICAgLmJ1eW1lYWNvZmZlZS1iYWRnZSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC8qIE1vYmlsZSByZXNwb25zaXZlIHN0eWxlcyAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAuc3RhdGlzdGljcy1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXJzIHtcbiAgICAgICAgICAgIGdhcDogMTZweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgLmZpbHRlcnMgPiBkaXYge1xuICAgICAgICAgICAgbWluLXdpZHRoOiB1bnNldDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRzLWdyaWQge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgxMjBweCwgMWZyKSk7XG4gICAgICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1jYXJkIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA3MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXQtdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1ldHJpY3MtZ3JpZCB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICAgICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtY2FyZCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogODBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZvcmVjYXN0LWNoYXJ0IHtcbiAgICAgICAgICAgIGhlaWdodDogMzAwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZvcmVjYXN0LWJhciB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDMycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYmFyIHtcbiAgICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhci1sYWJlbCxcbiAgICAgICAgLmJhci12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWJhciB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWNvdW50IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1hY3Rpb25zIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMTJweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLTEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2xvc2UtYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjRweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7IC8qIFRvdWNoLWZyaWVuZGx5IHNpemUgKi9cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAuc3RhdGlzdGljcy1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZpbHRlcnMge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0cy1ncmlkIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0LWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZvcmVjYXN0LWNoYXJ0IHtcbiAgICAgICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZm9yZWNhc3QtYmFyIHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjhweDtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhciB7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5iYXItbGFiZWwsXG4gICAgICAgIC5iYXItdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLThweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLThweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXltZWFjb2ZmZWUtYmFkZ2Uge1xuICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM5MHB4KSB7XG4gICAgICAgIC50aW1lZnJhbWUtZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRpc3RpY3MtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzkwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVycyB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXJzID4gZGl2IHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogdW5zZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdHMtZ3JpZCB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgICAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1jYXJkIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDU1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljcy1ncmlkIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDcwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLXZhbHVlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1ldHJpYy1kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZm9yZWNhc3QtY2hhcnQge1xuICAgICAgICAgICAgaGVpZ2h0OiAyMjBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JlY2FzdC1iYXIge1xuICAgICAgICAgICAgbWluLXdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgZ2FwOiAycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYmFyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhci1sYWJlbCxcbiAgICAgICAgLmJhci12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tc3RhdHMge1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWJhciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1jb3VudCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLXBlcmNlbnRhZ2Uge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICAgICAgcGFkZGluZzogNnB4IDhweDtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtNnB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAtNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNsb3NlLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsLCBDb21wb25lbnQsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBEZWNrLCBGbGFzaGNhcmQgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgUmF0aW5nTGFiZWwgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnNcIjtcbmltcG9ydCB0eXBlIHsgU2NoZWR1bGVyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL1NjaGVkdWxlclwiO1xuaW1wb3J0IHR5cGUgeyBGbGFzaGNhcmRzU2V0dGluZ3MgfSBmcm9tIFwiLi4vc2V0dGluZ3NcIjtcbmltcG9ydCBGbGFzaGNhcmRSZXZpZXdNb2RhbCBmcm9tIFwiLi9GbGFzaGNhcmRSZXZpZXdNb2RhbC5zdmVsdGVcIjtcblxuZXhwb3J0IGNsYXNzIEZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlciBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBkZWNrOiBEZWNrO1xuICBwcml2YXRlIGluaXRpYWxDYXJkOiBGbGFzaGNhcmQgfCBudWxsO1xuICBwcml2YXRlIHNjaGVkdWxlcjogU2NoZWR1bGVyO1xuICBwcml2YXRlIHNldHRpbmdzOiBGbGFzaGNhcmRzU2V0dGluZ3M7XG4gIHByaXZhdGUgcmV2aWV3Rmxhc2hjYXJkOiAoXG4gICAgZGVjazogRGVjayxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgZGlmZmljdWx0eTogUmF0aW5nTGFiZWwsXG4gICAgdGltZUVsYXBzZWQ/OiBudW1iZXIsXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bjogKFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBlbDogSFRNTEVsZW1lbnQsXG4gICkgPT4gQ29tcG9uZW50IHwgbnVsbDtcbiAgcHJpdmF0ZSByZWZyZXNoU3RhdHM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcmVmcmVzaFN0YXRzQnlJZDogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGNvbXBvbmVudDogRmxhc2hjYXJkUmV2aWV3TW9kYWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZG93bkNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBhbnksXG4gICAgZGVjazogRGVjayxcbiAgICBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSxcbiAgICBzY2hlZHVsZXI6IFNjaGVkdWxlcixcbiAgICBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzLFxuICAgIHJldmlld0ZsYXNoY2FyZDogKFxuICAgICAgZGVjazogRGVjayxcbiAgICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICAgIHJhdGluZzogUmF0aW5nTGFiZWwsXG4gICAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgICApID0+IFByb21pc2U8dm9pZD4sXG4gICAgcmVuZGVyTWFya2Rvd246IChjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkgPT4gQ29tcG9uZW50IHwgbnVsbCxcbiAgICByZWZyZXNoU3RhdHM6ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgcmVmcmVzaFN0YXRzQnlJZDogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+LFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMuZGVjayA9IGRlY2s7XG4gICAgdGhpcy5pbml0aWFsQ2FyZCA9IGZsYXNoY2FyZHMubGVuZ3RoID4gMCA/IGZsYXNoY2FyZHNbMF0gOiBudWxsO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLnJldmlld0ZsYXNoY2FyZCA9IHJldmlld0ZsYXNoY2FyZDtcbiAgICB0aGlzLnJlbmRlck1hcmtkb3duID0gcmVuZGVyTWFya2Rvd247XG4gICAgdGhpcy5yZWZyZXNoU3RhdHMgPSByZWZyZXNoU3RhdHM7XG4gICAgdGhpcy5yZWZyZXNoU3RhdHNCeUlkID0gcmVmcmVzaFN0YXRzQnlJZDtcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbFwiKTtcblxuICAgIC8vIEFkZCBtb2JpbGUtc3BlY2lmaWMgY2xhc3Nlc1xuICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbC1tb2JpbGVcIik7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblxuICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IEZsYXNoY2FyZFJldmlld01vZGFsKHtcbiAgICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaW5pdGlhbENhcmQ6IHRoaXMuaW5pdGlhbENhcmQsXG4gICAgICAgIGRlY2s6IHRoaXMuZGVjayxcbiAgICAgICAgb25DbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgICBvblJldmlldzogYXN5bmMgKFxuICAgICAgICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICAgICAgICByYXRpbmc6IFJhdGluZ0xhYmVsLFxuICAgICAgICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICAgICAgICApID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJldmlld0ZsYXNoY2FyZCh0aGlzLmRlY2ssIGNhcmQsIHJhdGluZywgdGltZUVsYXBzZWQpO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJNYXJrZG93bjogKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5yZW5kZXJNYXJrZG93bihjb250ZW50LCBlbCk7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MsXG4gICAgICAgIHNjaGVkdWxlcjogdGhpcy5zY2hlZHVsZXIsXG4gICAgICAgIG9uQ2FyZFJldmlld2VkOiBhc3luYyAocmV2aWV3ZWRDYXJkOiBGbGFzaGNhcmQpID0+IHtcbiAgICAgICAgICAvLyBSZWZyZXNoIHN0YXRzIGZvciB0aGUgc3BlY2lmaWMgZGVjayBiZWluZyByZXZpZXdlZCAobW9yZSBlZmZpY2llbnQpXG4gICAgICAgICAgaWYgKHJldmlld2VkQ2FyZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoU3RhdHNCeUlkKHJldmlld2VkQ2FyZC5kZWNrSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC4kb24oXCJjb21wbGV0ZVwiLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVhc29uLCByZXZpZXdlZCB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgUmV2aWV3IHNlc3Npb24gY29tcGxldGUgZm9yICR7dGhpcy5kZWNrLm5hbWV9IWA7XG5cbiAgICAgIGlmIChyZWFzb24gPT09IFwibm8tbW9yZS1jYXJkc1wiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgQWxsIGF2YWlsYWJsZSBjYXJkcyByZXZpZXdlZCEgQ29tcGxldGVkICR7cmV2aWV3ZWR9IGNhcmRzIGZyb20gJHt0aGlzLmRlY2submFtZX0uYDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzICE9PSBmYWxzZSkge1xuICAgICAgICBuZXcgTm90aWNlKG1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWZyZXNoIHRoZSB2aWV3IHRvIHVwZGF0ZSBzdGF0c1xuICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoU3RhdHNCeUlkKHRoaXMuZGVjay5pZCk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZSBmb3IgbW9iaWxlIGFkYXB0YXRpb25cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImRlY2stcmV2aWV3LW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKFwiZGVjay1yZXZpZXctbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAvLyBTdG9yZSByZXNpemUgaGFuZGxlciBmb3IgY2xlYW51cFxuICAgICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIgPSBoYW5kbGVSZXNpemU7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIC8vIENsZWFuIHVwIHJlc2l6ZSBoYW5kbGVyXG4gICAgaWYgKCh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgZGVsZXRlICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIG1hcmtkb3duIGNvbXBvbmVudHNcbiAgICB0aGlzLm1hcmtkb3duQ29tcG9uZW50cy5mb3JFYWNoKChjb21wKSA9PiBjb21wLnVubG9hZCgpKTtcbiAgICB0aGlzLm1hcmtkb3duQ29tcG9uZW50cyA9IFtdO1xuXG4gICAgLy8gUmVmcmVzaCB2aWV3IHdoZW4gY2xvc2luZ1xuICAgIHRoaXMucmVmcmVzaFN0YXRzQnlJZCh0aGlzLmRlY2suaWQpO1xuICB9XG59XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIsIG9uTW91bnQsIG9uRGVzdHJveSwgdGljayB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgdHlwZSB7IERlY2ssIEZsYXNoY2FyZCB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuICAgIGltcG9ydCB0eXBlIHsgRmxhc2hjYXJkc1NldHRpbmdzIH0gZnJvbSBcIi4uL3NldHRpbmdzXCI7XG4gICAgaW1wb3J0IHsgRlNSUywgdHlwZSBSYXRpbmdMYWJlbCB9IGZyb20gXCIuLi9hbGdvcml0aG0vZnNyc1wiO1xuICAgIGltcG9ydCB0eXBlIHtcbiAgICAgICAgU2NoZWR1bGVyLFxuICAgICAgICBTY2hlZHVsaW5nUHJldmlldyxcbiAgICAgICAgU2Vzc2lvblByb2dyZXNzLFxuICAgIH0gZnJvbSBcIi4uL3NlcnZpY2VzL1NjaGVkdWxlclwiO1xuXG4gICAgZXhwb3J0IGxldCBkZWNrOiBEZWNrO1xuICAgIGV4cG9ydCBsZXQgaW5pdGlhbENhcmQ6IEZsYXNoY2FyZCB8IG51bGwgPSBudWxsO1xuICAgIGV4cG9ydCBsZXQgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBleHBvcnQgbGV0IG9uUmV2aWV3OiAoXG4gICAgICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICAgICAgZGlmZmljdWx0eTogUmF0aW5nTGFiZWwsXG4gICAgICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICAgICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IHJlbmRlck1hcmtkb3duOiAoY29udGVudDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG4gICAgZXhwb3J0IGxldCBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzO1xuICAgIGV4cG9ydCBsZXQgc2NoZWR1bGVyOiBTY2hlZHVsZXI7XG4gICAgZXhwb3J0IGxldCBvbkNhcmRSZXZpZXdlZDpcbiAgICAgICAgfCAoKHJldmlld2VkQ2FyZDogRmxhc2hjYXJkKSA9PiBQcm9taXNlPHZvaWQ+KVxuICAgICAgICB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgICBsZXQgc2hvd0Fuc3dlciA9IGZhbHNlO1xuICAgIGxldCBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBsZXQgZnJvbnRFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGJhY2tFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHNjaGVkdWxpbmdJbmZvOiBTY2hlZHVsaW5nUHJldmlldyB8IG51bGwgPSBudWxsO1xuICAgIGxldCByZXZpZXdlZENvdW50ID0gMDtcbiAgICBsZXQgY2FyZFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgICBsZXQgY3VycmVudENhcmQ6IEZsYXNoY2FyZCB8IG51bGwgPSBpbml0aWFsQ2FyZDtcbiAgICBsZXQgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgc2Vzc2lvblByb2dyZXNzOiBTZXNzaW9uUHJvZ3Jlc3MgfCBudWxsID0gbnVsbDtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgICQ6IHByb2dyZXNzID0gc2Vzc2lvblByb2dyZXNzID8gc2Vzc2lvblByb2dyZXNzLnByb2dyZXNzIDogMDtcblxuICAgIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBJbml0aWFsaXplIHJldmlldyBzZXNzaW9uXG4gICAgICAgIHNlc3Npb25JZCA9IGF3YWl0IHNjaGVkdWxlci5zdGFydEZyZXNoU2Vzc2lvbihkZWNrLmlkKTtcbiAgICAgICAgc2NoZWR1bGVyLnNldEN1cnJlbnRTZXNzaW9uKHNlc3Npb25JZCk7XG4gICAgICAgIHNlc3Npb25Qcm9ncmVzcyA9IGF3YWl0IHNjaGVkdWxlci5nZXRTZXNzaW9uUHJvZ3Jlc3Moc2Vzc2lvbklkKTtcblxuICAgICAgICAvLyBJZiBubyBpbml0aWFsIGNhcmQgcHJvdmlkZWQsIGdldCB0aGUgZmlyc3QgY2FyZCBmcm9tIHNjaGVkdWxlclxuICAgICAgICBpZiAoIWN1cnJlbnRDYXJkKSB7XG4gICAgICAgICAgICBjdXJyZW50Q2FyZCA9IGF3YWl0IHNjaGVkdWxlci5nZXROZXh0KG5ldyBEYXRlKCksIGRlY2suaWQsIHtcbiAgICAgICAgICAgICAgICBhbGxvd05ldzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRDYXJkKSB7XG4gICAgICAgICAgICBhd2FpdCBsb2FkQ2FyZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gY2FyZHMgYXZhaWxhYmxlXG4gICAgICAgICAgICBkaXNwYXRjaChcImNvbXBsZXRlXCIsIHtcbiAgICAgICAgICAgICAgICByZWFzb246IFwibm8tbW9yZS1jYXJkc1wiLFxuICAgICAgICAgICAgICAgIHJldmlld2VkOiAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQga2V5ZG93biBldmVudCBsaXN0ZW5lclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5ZG93bik7XG4gICAgfSk7XG5cbiAgICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAvLyBDbGVhbiB1cCBrZXlkb3duIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlkb3duKTtcbiAgICB9KTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRDYXJkKCkge1xuICAgICAgICBpZiAoIWN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICAgICAgc2hvd0Fuc3dlciA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2NoZWR1bGluZ0luZm8gPSBhd2FpdCBzY2hlZHVsZXIucHJldmlldyhjdXJyZW50Q2FyZC5pZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzY2hlZHVsaW5nIHByZXZpZXc6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNjaGVkdWxpbmdJbmZvID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXJkU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgLy8gVHJhY2sgd2hlbiBjYXJkIGlzIGRpc3BsYXllZFxuXG4gICAgICAgIC8vIFJlbmRlciBmcm9udCBzaWRlXG4gICAgICAgIGlmIChmcm9udEVsKSB7XG4gICAgICAgICAgICBmcm9udEVsLmVtcHR5KCk7XG4gICAgICAgICAgICByZW5kZXJNYXJrZG93bihjdXJyZW50Q2FyZC5mcm9udCwgZnJvbnRFbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcmUtcmVuZGVyIGJhY2sgc2lkZSBidXQga2VlcCBpdCBoaWRkZW5cbiAgICAgICAgLy8gVXNlIHRpY2soKSB0byBlbnN1cmUgRE9NIGlzIHVwZGF0ZWQgYmVmb3JlIHJlbmRlcmluZ1xuICAgICAgICB0aWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYmFja0VsICYmIGN1cnJlbnRDYXJkKSB7XG4gICAgICAgICAgICAgICAgYmFja0VsLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyTWFya2Rvd24oY3VycmVudENhcmQuYmFjaywgYmFja0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmV2ZWFsQW5zd2VyKCkge1xuICAgICAgICBzaG93QW5zd2VyID0gdHJ1ZTtcbiAgICAgICAgLy8gRW5zdXJlIGJhY2sgZWxlbWVudCBpcyByZW5kZXJlZCBhZnRlciBzaG93QW5zd2VyIGJlY29tZXMgdHJ1ZVxuICAgICAgICB0aWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYmFja0VsICYmIGN1cnJlbnRDYXJkKSB7XG4gICAgICAgICAgICAgICAgYmFja0VsLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyTWFya2Rvd24oY3VycmVudENhcmQuYmFjaywgYmFja0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmV2aWV3KHJhdGluZzogUmF0aW5nTGFiZWwpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50Q2FyZCB8fCBpc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gY2FyZFN0YXJ0VGltZTtcbiAgICAgICAgICAgIGF3YWl0IG9uUmV2aWV3KGN1cnJlbnRDYXJkLCByYXRpbmcsIHRpbWVFbGFwc2VkKTtcbiAgICAgICAgICAgIHJldmlld2VkQ291bnQrKztcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHNlc3Npb24gcHJvZ3Jlc3MgYWZ0ZXIgcmV2aWV3XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblByb2dyZXNzID0gYXdhaXQgc2NoZWR1bGVyLmdldFNlc3Npb25Qcm9ncmVzcyhzZXNzaW9uSWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIHN0YXRzIHJlZnJlc2ggYWZ0ZXIgZWFjaCBjYXJkIHJldmlld1xuICAgICAgICAgICAgaWYgKG9uQ2FyZFJldmlld2VkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgb25DYXJkUmV2aWV3ZWQoY3VycmVudENhcmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG5leHQgY2FyZCBmcm9tIHRoZSBzY2hlZHVsZXJcbiAgICAgICAgICAgIGN1cnJlbnRDYXJkID0gYXdhaXQgc2NoZWR1bGVyLmdldE5leHQobmV3IERhdGUoKSwgZGVjay5pZCwge1xuICAgICAgICAgICAgICAgIGFsbG93TmV3OiB0cnVlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRDYXJkKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuZCB0aGUgcmV2aWV3IHNlc3Npb25cbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjaGVkdWxlci5lbmRSZXZpZXdTZXNzaW9uKHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlci5zZXRDdXJyZW50U2Vzc2lvbihudWxsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFwiY29tcGxldGVcIiwge1xuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibm8tbW9yZS1jYXJkc1wiLFxuICAgICAgICAgICAgICAgICAgICByZXZpZXdlZDogc2Vzc2lvblByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlc3Npb25Qcm9ncmVzcy5kb25lVW5pcXVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJldmlld2VkQ291bnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldmlld2luZyBjYXJkOlwiLCBlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEludGVydmFsRGlzcGxheShtaW51dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAobWludXRlcyA8IDYwKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChtaW51dGVzKX1tYDtcbiAgICAgICAgfSBlbHNlIGlmIChtaW51dGVzIDwgMTQ0MCkge1xuICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLnJvdW5kKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgICAgICByZXR1cm4gYCR7aG91cnN9aGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5yb3VuZChtaW51dGVzIC8gMTQ0MCk7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZGF5c31kYDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGlzTG9hZGluZykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IFwia2V5Ym9hcmRcIjtcblxuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gd2l0aGluIDEwMG1zIChzYW1lIGFzIHRvdWNoIHByb3RlY3Rpb24pXG4gICAgICAgIGlmIChub3cgLSBsYXN0RXZlbnRUaW1lIDwgMTAwICYmIGxhc3RFdmVudFR5cGUgPT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzaG93QW5zd2VyICYmIGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsYXN0RXZlbnRUaW1lID0gbm93O1xuICAgICAgICAgICAgbGFzdEV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcbiAgICAgICAgICAgIHJldmVhbEFuc3dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3dBbnN3ZXIpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aW1pbmcgYmVmb3JlIGhhbmRsaW5nIHJldmlld1xuICAgICAgICAgICAgbGFzdEV2ZW50VGltZSA9IG5vdztcbiAgICAgICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmV2aWV3KFwiYWdhaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJldmlldyhcImhhcmRcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmV2aWV3KFwiZ29vZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmV2aWV3KFwiZWFzeVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaENsaWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkLCBldmVudDogRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gd2l0aGluIDEwMG1zXG4gICAgICAgIGlmIChub3cgLSBsYXN0RXZlbnRUaW1lIDwgMTAwICYmIGxhc3RFdmVudFR5cGUgIT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdEV2ZW50VGltZSA9IG5vdztcbiAgICAgICAgbGFzdEV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgICQ6IGlmIChjdXJyZW50Q2FyZCkge1xuICAgICAgICBsb2FkQ2FyZCgpO1xuICAgIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwicmV2aWV3LW1vZGFsXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICA8aDM+UmV2aWV3IFNlc3Npb24gLSB7ZGVjay5uYW1lfTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1pbmZvXCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgID5SZXZpZXdlZDoge3Nlc3Npb25Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICA/IHNlc3Npb25Qcm9ncmVzcy5kb25lVW5pcXVlXG4gICAgICAgICAgICAgICAgICAgIDogcmV2aWV3ZWRDb3VudH08L3NwYW5cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVtYWluaW5nXCJcbiAgICAgICAgICAgICAgICA+KHtzZXNzaW9uUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAgPyBgJHtzZXNzaW9uUHJvZ3Jlc3MuZ29hbFRvdGFsIC0gc2Vzc2lvblByb2dyZXNzLmRvbmVVbmlxdWV9IHJlbWFpbmluZ2BcbiAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50Q2FyZFxuICAgICAgICAgICAgICAgICAgICAgID8gXCJNb3JlIGNhcmRzIGF2YWlsYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlNlc3Npb24gY29tcGxldGVcIn0pPC9zcGFuXG4gICAgICAgICAgICA+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiBzZXR0aW5ncz8ucmV2aWV3Py5zaG93UHJvZ3Jlc3MgIT09IGZhbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwicmV2aWV3LXByb2dyZXNzLWJhclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiB7cHJvZ3Jlc3N9JVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiBjdXJyZW50Q2FyZH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1zaWRlIGZyb250XCIgYmluZDp0aGlzPXtmcm9udEVsfT48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5zd2VyLXNlY3Rpb25cIiBjbGFzczpoaWRkZW49eyFzaG93QW5zd2VyfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VwYXJhdG9yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtc2lkZSBiYWNrXCIgYmluZDp0aGlzPXtiYWNrRWx9PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tYnV0dG9uc1wiPlxuICAgICAgICAgICAgeyNpZiAhc2hvd0Fuc3dlcn1cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hvdy1hbnN3ZXItYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKHJldmVhbEFuc3dlciwgZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhyZXZlYWxBbnN3ZXIsIGUpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+U2hvdyBBbnN3ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2hvcnRjdXRcIj5TcGFjZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIHsvaWZ9XG5cbiAgICAgICAgICAgIHsjaWYgc2hvd0Fuc3dlciAmJiBzY2hlZHVsaW5nSW5mb31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlmZmljdWx0eS1idXR0b25zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGlmZmljdWx0eS1idXR0b24gYWdhaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlUmV2aWV3KFwiYWdhaW5cIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlUmV2aWV3KFwiYWdhaW5cIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkFnYWluPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJ2YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW50ZXJ2YWxEaXNwbGF5KHNjaGVkdWxpbmdJbmZvLmFnYWluLmludGVydmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3J0Y3V0XCI+MTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRpZmZpY3VsdHktYnV0dG9uIGhhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlUmV2aWV3KFwiaGFyZFwiKSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBoYW5kbGVSZXZpZXcoXCJoYXJkXCIpLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5IYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJ2YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW50ZXJ2YWxEaXNwbGF5KHNjaGVkdWxpbmdJbmZvLmhhcmQuaW50ZXJ2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXRcIj4yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGlmZmljdWx0eS1idXR0b24gZ29vZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBoYW5kbGVSZXZpZXcoXCJnb29kXCIpLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGhhbmRsZVJldmlldyhcImdvb2RcIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcnZhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnRlcnZhbERpc3BsYXkoc2NoZWR1bGluZ0luZm8uZ29vZC5pbnRlcnZhbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9ydGN1dFwiPjM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkaWZmaWN1bHR5LWJ1dHRvbiBlYXN5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGhhbmRsZVJldmlldyhcImVhc3lcIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlUmV2aWV3KFwiZWFzeVwiKSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+RWFzeTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludGVydmFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEludGVydmFsRGlzcGxheShzY2hlZHVsaW5nSW5mby5lYXN5LmludGVydmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3J0Y3V0XCI+NDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgIDwvZGl2PlxuICAgIHs6ZWxzZX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICA8cD5ObyBjYXJkcyB0byByZXZpZXc8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5yZXZpZXctbW9kYWwge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgIC5tb2RhbC1oZWFkZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIHBhZGRpbmc6IDE2cHggMjBweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAubW9kYWwtaGVhZGVyIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLnByb2dyZXNzLWluZm8ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgIC5yZW1haW5pbmcge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLnJldmlldy1wcm9ncmVzcy1iYXIge1xuICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuXG4gICAgLnByb2dyZXNzLWZpbGwge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbiAgICB9XG5cbiAgICAuY2FyZC1jb250ZW50IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgICAgICBwYWRkaW5nOiAzMnB4IDE2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgZ2FwOiAyNHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICB9XG5cbiAgICAucXVlc3Rpb24tc2VjdGlvbixcbiAgICAuYW5zd2VyLXNlY3Rpb24ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmNhcmQtc2lkZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIHBhZGRpbmc6IDI0cHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgIH1cblxuICAgIC5jYXJkLXNpZGUuZnJvbnQge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAuY2FyZC1zaWRlLmJhY2sge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgfVxuXG4gICAgLmFuc3dlci1zZWN0aW9uIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5hbnN3ZXItc2VjdGlvbi5oaWRkZW4ge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIC5zZXBhcmF0b3Ige1xuICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBtYXJnaW46IDE2cHggYXV0bztcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idXR0b25zIHtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cblxuICAgIC5zaG93LWFuc3dlci1idXR0b24ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgIHBhZGRpbmc6IDEycHggMjRweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgbWluLWhlaWdodDogNDhweDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLnNob3ctYW5zd2VyLWJ1dHRvbjpob3ZlcixcbiAgICAuc2hvdy1hbnN3ZXItYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuXG4gICAgLnNob3J0Y3V0IHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBvcGFjaXR5OiAwLjg7XG4gICAgICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbiB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgcGFkZGluZzogMTJweCA4cHg7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uOmhvdmVyLFxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbjphY3RpdmUge1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICAgICAgdHJhbnNmb3JtOiBub25lO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbi5hZ2FpbiB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogI2U3NGMzYztcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uYWdhaW46aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZTc0YzNjO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmhhcmQge1xuICAgICAgICBib3JkZXItY29sb3I6ICNmMzljMTI7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmhhcmQ6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZjM5YzEyO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmdvb2Qge1xuICAgICAgICBib3JkZXItY29sb3I6ICMyN2FlNjA7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmdvb2Q6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMjdhZTYwO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmVhc3kge1xuICAgICAgICBib3JkZXItY29sb3I6ICMzNDk4ZGI7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmVhc3k6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMzQ5OGRiO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1sYWJlbCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICB9XG5cbiAgICAuaW50ZXJ2YWwge1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b246aG92ZXIgLmludGVydmFsIHtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uIC5zaG9ydGN1dCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAycHg7XG4gICAgICAgIHJpZ2h0OiAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOXB4O1xuICAgICAgICBwYWRkaW5nOiAxcHggM3B4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgIH1cblxuICAgIC5lbXB0eS1zdGF0ZSB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAzMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLyogTWFya2Rvd24gY29udGVudCBzdHlsaW5nICovXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGgxKSxcbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDIpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoMyksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGg0KSxcbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDUpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoNikge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBwKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIHA6bGFzdC1jaGlsZCkge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSA+ICo6Zmlyc3QtY2hpbGQpIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgdWwpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBvbCkge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGNvZGUpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29kZS1iYWNrZ3JvdW5kKTtcbiAgICAgICAgcGFkZGluZzogMnB4IDRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBwcmUpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29kZS1iYWNrZ3JvdW5kKTtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGJsb2NrcXVvdGUpIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1ibG9ja3F1b3RlLWJvcmRlcik7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTZweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC8qIE1vYmlsZSByZXNwb25zaXZlIHN0eWxlcyAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAubW9kYWwtaGVhZGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1oZWFkZXIgaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4IDEycHg7XG4gICAgICAgICAgICBnYXA6IDIwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMTZweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUuZnJvbnQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZS5iYWNrIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5hY3Rpb24tYnV0dG9ucyB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnNob3ctYW5zd2VyLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDI0cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0NHB4OyAvKiBUb3VjaC1mcmllbmRseSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9ucyB7XG4gICAgICAgICAgICBnYXA6IDZweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDhweDsgLyogVG91Y2gtZnJpZW5kbHkgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmludGVydmFsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1MDBweCkge1xuICAgICAgICAubW9kYWwtaGVhZGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAucHJvZ3Jlc3MtaW5mbyB7XG4gICAgICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICAgICAgcGFkZGluZzogMTZweCA4cHg7XG4gICAgICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHggMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUuZnJvbnQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZS5iYWNrIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5hY3Rpb24tYnV0dG9ucyB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnNob3ctYW5zd2VyLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA1MnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9ucyB7XG4gICAgICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCA0cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaW50ZXJ2YWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9uIC5zaG9ydGN1dCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDhweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDFweCAycHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzkwcHgpIHtcbiAgICAgICAgLm1vZGFsLWhlYWRlciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1oZWFkZXIgaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnByb2dyZXNzLWluZm8ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDhweDtcbiAgICAgICAgICAgIGdhcDogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUge1xuICAgICAgICAgICAgcGFkZGluZzogMTRweCAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZS5mcm9udCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlLmJhY2sge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmFjdGlvbi1idXR0b25zIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnNob3ctYW5zd2VyLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogM3B4O1xuICAgICAgICAgICAgcGFkZGluZzogMCA0cHg7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM3NHB4OyAvKiBGaXQgd2l0aGluIDM5MHB4IHdpdGggcGFkZGluZyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAzcHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaW50ZXJ2YWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24gLnNob3J0Y3V0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogN3B4O1xuICAgICAgICAgICAgcGFkZGluZzogMXB4IDJweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzODBweCkge1xuICAgICAgICAuY2FyZC1jb250ZW50IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9ucyB7XG4gICAgICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAycHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICB9XG4gICAgfVxuPC9zdHlsZT5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsa0RBQUFBLFNBQUE7QUFhQSxRQUFJLG1CQUFtQjtBQUV2QixRQUFJQyxhQUFZLFNBQVUsY0FBYztBQUVwQyxVQUFJLGtCQUFpQjtBQUNuQixlQUFPO0FBQUEsTUFDVDtBQUVBLHlCQUFtQixJQUFJLFFBQVEsU0FBVSxlQUFlLFFBQVE7QUFZNUQsWUFBSSxTQUFTLE9BQU8saUJBQWlCLGNBQWMsZUFBZSxDQUFDO0FBSW5FLFlBQUksMEJBQTBCLE9BQU8sU0FBUztBQUM5QyxlQUFPLFNBQVMsSUFBSSxTQUFVLHNCQUFzQjtBQUNoRCxpQkFBTyxJQUFJLE1BQU0sb0JBQW9CLENBQUM7QUFDdEMsY0FBSSx5QkFBd0I7QUFDMUIsb0NBQXdCLG9CQUFvQjtBQUFBLFVBQzlDO0FBQUEsUUFDSjtBQUVBLGVBQU8sU0FBUyxJQUFJLE9BQU8sU0FBUyxLQUFLLENBQUM7QUFDMUMsZUFBTyxTQUFTLEVBQUUsS0FBSyxXQUFZO0FBRS9CLHdCQUFjLE1BQU07QUFBQSxRQUN4QixDQUFDO0FBa0JELFFBQUFELFVBQVM7QUFJakIsWUFBSTtBQUFFLGtCQUFJLE9BQU8sVUFBVSxjQUFjLFNBQVMsQ0FBQztBQUFFLFlBQUksS0FBRyxZQUFVLE9BQU8sUUFBTyxLQUFHLGVBQWEsT0FBTyxtQkFBa0IsS0FBRyxZQUFVLE9BQU8sV0FBUyxZQUFVLE9BQU8sUUFBUSxZQUFVLFlBQVUsT0FBTyxRQUFRLFNBQVMsUUFBTSxjQUFZLFFBQVE7QUFBSztBQUM5UCxVQUFFLHVCQUFxQixXQUFVO0FBQUMsbUJBQVMsRUFBRSxHQUFFLEdBQUU7QUFBQyxvQkFBTyxPQUFPLEdBQUU7QUFBQSxjQUFDLEtBQUs7QUFBVSxtQkFBRyxHQUFFLElBQUUsSUFBRSxDQUFDO0FBQUU7QUFBQSxjQUFNLEtBQUs7QUFBUyxtQkFBRyxHQUFFLENBQUM7QUFBRTtBQUFBLGNBQU0sS0FBSztBQUFTLG1CQUFHLEdBQUUsR0FBRSxJQUFHLEVBQUU7QUFBRTtBQUFBLGNBQU0sS0FBSztBQUFTLG9CQUFHLFNBQU87QUFBRSxxQkFBRyxDQUFDO0FBQUEseUJBQVUsUUFBTSxFQUFFLFFBQU87QUFBQyxzQkFBSSxJQUFFLEdBQUcsR0FBRSxFQUFFO0FBQUUscUJBQUcsR0FBRSxHQUFFLEVBQUUsUUFBTyxFQUFFO0FBQUUscUJBQUcsQ0FBQztBQUFBLGdCQUFDO0FBQU0scUJBQUcsR0FBRSxpRUFBK0QsSUFBRSxNQUFLLEVBQUU7QUFBRTtBQUFBLGNBQU07QUFBUSxtQkFBRyxDQUFDO0FBQUEsWUFBQztBQUFBLFVBQUM7QUFBQyxtQkFBUyxFQUFFLEdBQUUsR0FBRTtBQUFDLHFCQUFRLElBQUUsQ0FBQyxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsS0FBRyxHQUFFO0FBQUMsa0JBQUksSUFBRSxFQUFFLElBQUUsSUFBRSxHQUFFLEtBQUssR0FBRSxJQUFFLEdBQUcsQ0FBQztBQUFFLGtCQUFHLE1BQUksS0FBRyxNQUFJO0FBQUUsb0JBQUUsR0FBRyxDQUFDO0FBQUEsdUJBQVUsTUFBSTtBQUFFLG9CQUFFLEdBQUcsQ0FBQztBQUFBLHVCQUFVLE1BQUksR0FBRTtBQUFDLG9CQUFFO0FBQ25mLG9CQUFFLEdBQUcsQ0FBQztBQUFFLG9CQUFFLEdBQUcsQ0FBQztBQUFFLHlCQUFRLElBQUUsSUFBSSxXQUFXLENBQUMsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLEtBQUc7QUFBRSxvQkFBRSxDQUFDLElBQUUsRUFBRSxJQUFFLENBQUM7QUFBRSxvQkFBRTtBQUFBLGNBQUM7QUFBTSxvQkFBRTtBQUFLLGdCQUFFLEtBQUssQ0FBQztBQUFBLFlBQUM7QUFBQyxtQkFBTztBQUFBLFVBQUM7QUFBQyxtQkFBUyxFQUFFLEdBQUUsR0FBRTtBQUFDLGlCQUFLLEtBQUc7QUFBRSxpQkFBSyxLQUFHO0FBQUUsaUJBQUssS0FBRztBQUFFLGlCQUFLLEtBQUcsQ0FBQztBQUFBLFVBQUM7QUFBQyxtQkFBUyxFQUFFLEdBQUUsR0FBRTtBQUFDLGlCQUFLLEtBQUc7QUFBRSxnQkFBRSxHQUFHLENBQUMsSUFBRTtBQUFFLGlCQUFLLEtBQUcsR0FBRyxDQUFDO0FBQUUsZ0JBQUcsU0FBTyxLQUFLO0FBQUcsb0JBQU0sTUFBTSw4Q0FBOEM7QUFBRSxjQUFFLEdBQUUsR0FBRSxLQUFLLElBQUcsQ0FBQztBQUFFLGlCQUFLLEtBQUcsS0FBSztBQUFHLGlCQUFLLEtBQUcsS0FBSyxLQUFHO0FBQUEsVUFBSTtBQUFDLG1CQUFTLEVBQUUsR0FBRTtBQUFDLGlCQUFLLFdBQVMsYUFBVyxhQUFXLEtBQUssT0FBTyxNQUFJO0FBQUcsZ0JBQUcsUUFBTSxHQUFFO0FBQUMsa0JBQUksSUFBRSxLQUFLLFVBQVMsSUFBRSxLQUFJLElBQUU7QUFBRSxvQkFBSSxJQUFFLFlBQVUsT0FBTyxJQUFFLElBQUUsR0FBRyxDQUFDLEdBQUUsSUFBRSxJQUFFLEdBQUcsSUFBRSxNQUFJLENBQUMsSUFDcmY7QUFBRyxrQkFBRSxHQUFHLE1BQUcsSUFBRTtBQUFFLGtCQUFFLEdBQUcsR0FBRSxDQUFDO0FBQUUsa0JBQUcsR0FBRTtBQUFDLG9CQUFHLFlBQVUsT0FBTyxHQUFFO0FBQUMsc0JBQUUsTUFBTSxFQUFFLE1BQU07QUFBRSwyQkFBUSxJQUFFLEdBQUUsSUFBRSxFQUFFLFFBQU8sSUFBRSxHQUFFLEVBQUU7QUFBRSxzQkFBRSxDQUFDLElBQUUsRUFBRSxXQUFXLENBQUM7QUFBRSxzQkFBRTtBQUFBLGdCQUFDO0FBQUMsbUJBQUcsR0FBRSxJQUFFLEdBQUc7QUFBRSxvQkFBRSxHQUFHLEdBQUUsR0FBRztBQUFFLG1CQUFHLEdBQUUsR0FBRSxHQUFFLEVBQUUsUUFBTyxDQUFDO0FBQUUsbUJBQUcsQ0FBQztBQUFFLG1CQUFHLEdBQUUsQ0FBQztBQUFBLGNBQUM7QUFBQSxZQUFDO0FBQUMsaUJBQUssWUFBWSxFQUFFLEtBQUssVUFBUyxDQUFDLENBQUM7QUFBRSxpQkFBSyxLQUFHLEVBQUUsR0FBRSxLQUFLO0FBQUUsZUFBRyxLQUFLLEVBQUU7QUFBRSxpQkFBSyxLQUFHLENBQUM7QUFBRSxpQkFBSyxLQUFHLENBQUM7QUFBQSxVQUFDO0FBQUMsY0FBSSxJQUFFLEVBQUUsQ0FBQyxHQUFFLElBQUUsRUFBRSxPQUFNLElBQUUsRUFBRSxnQkFBZSxVQUFTLENBQUMsVUFBUyxRQUFRLENBQUMsR0FBRSxJQUFFLEVBQUUsb0JBQW1CLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxJQUFFLEVBQUUsZ0JBQWUsVUFBUyxDQUFDLFVBQVMsVUFBUyxVQUFTLFVBQVMsUUFBUSxDQUFDLEdBQUUsSUFBRSxFQUFFLG1CQUFrQixVQUFTLENBQUMsUUFBUSxDQUFDLEdBQzdmLElBQUUsRUFBRSxzQkFBcUIsVUFBUyxDQUFDLFVBQVMsVUFBUyxVQUFTLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLGVBQWMsVUFBUyxDQUFDLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSwwQkFBeUIsVUFBUyxDQUFDLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSxzQkFBcUIsVUFBUyxDQUFDLFVBQVMsVUFBUyxVQUFTLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLHFCQUFvQixVQUFTLENBQUMsVUFBUyxVQUFTLFVBQVMsVUFBUyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUscUJBQW9CLFVBQVMsQ0FBQyxVQUFTLFVBQVMsVUFBUyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsVUFBUyxDQUFDLFVBQVMsVUFBUyxRQUFRLENBQUMsR0FBRSxLQUFHO0FBQUEsWUFBRTtBQUFBLFlBQzNlO0FBQUEsWUFBUyxDQUFDLFVBQVMsVUFBUyxRQUFRO0FBQUEsVUFBQyxHQUFFLEtBQUcsRUFBRSxnQ0FBK0IsVUFBUyxDQUFDLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLGdCQUFlLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsa0JBQWlCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsd0JBQXVCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsc0JBQXFCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUseUJBQXdCLFVBQVMsQ0FBQyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsVUFBUyxDQUFDLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLHVCQUFzQixVQUFTLENBQUMsVUFBUyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsd0JBQXVCLFVBQVM7QUFBQSxZQUFDO0FBQUEsWUFDaGY7QUFBQSxVQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsdUJBQXNCLFVBQVMsQ0FBQyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsVUFBUyxDQUFDLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLGlCQUFnQixVQUFTLENBQUMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLDBCQUF5QixVQUFTLENBQUMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLG9CQUFtQixVQUFTLENBQUMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLDhCQUE2QixVQUFTLGlFQUFpRSxNQUFNLEdBQUcsQ0FBQyxHQUFFLEtBQUcsRUFBRSxzQkFBcUIsVUFBUyxDQUFDLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsVUFBUyxDQUFDLFFBQVEsQ0FBQyxHQUFFLEtBQUc7QUFBQSxZQUFFO0FBQUEsWUFDbmU7QUFBQSxZQUFTLENBQUMsUUFBUTtBQUFBLFVBQUMsR0FBRSxLQUFHLEVBQUUsc0JBQXFCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsd0JBQXVCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUseUJBQXdCLElBQUcsQ0FBQyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsSUFBRyxDQUFDLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsSUFBRyxDQUFDLFVBQVMsVUFBUyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSx1QkFBc0IsSUFBRyxDQUFDLFVBQVMsVUFBUyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUcsRUFBRSxzQkFBcUIsSUFBRyxDQUFDLFVBQVMsUUFBUSxDQUFDLEdBQUUsS0FBRyxFQUFFLHdCQUF1QixJQUFHLENBQUMsVUFBUyxVQUFTLFFBQVEsQ0FBQyxHQUFFLEtBQUc7QUFBQSxZQUFFO0FBQUEsWUFBNEI7QUFBQSxZQUM5ZSxDQUFDLFVBQVMsUUFBUTtBQUFBLFVBQUMsR0FBRSxLQUFHLEVBQUUsOEJBQTZCLFVBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRSxLQUFHLEVBQUUsdUJBQXNCLFVBQVMsQ0FBQyxVQUFTLFVBQVMsUUFBUSxDQUFDO0FBQUUsWUFBRSxVQUFVLE9BQUssU0FBUyxHQUFFO0FBQUMsZ0JBQUcsQ0FBQyxLQUFLO0FBQUcsb0JBQUs7QUFBbUIsaUJBQUssTUFBTTtBQUFFLG1CQUFPLE1BQU0sUUFBUSxDQUFDLElBQUUsS0FBSyxHQUFHLENBQUMsSUFBRSxRQUFNLEtBQUcsYUFBVyxPQUFPLElBQUUsS0FBSyxHQUFHLENBQUMsSUFBRTtBQUFBLFVBQUU7QUFBRSxZQUFFLFVBQVUsT0FBSyxXQUFVO0FBQUMsZ0JBQUcsQ0FBQyxLQUFLO0FBQUcsb0JBQUs7QUFBbUIsaUJBQUssS0FBRztBQUFFLGdCQUFJLElBQUUsR0FBRyxLQUFLLEVBQUU7QUFBRSxvQkFBTyxHQUFFO0FBQUEsY0FBQyxLQUFLO0FBQUksdUJBQU07QUFBQSxjQUFHLEtBQUs7QUFBSSx1QkFBTTtBQUFBLGNBQUc7QUFBUSxzQkFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDO0FBQUEsWUFBRTtBQUFBLFVBQUM7QUFBRSxZQUFFLFVBQVUsS0FBRyxTQUFTLEdBQUU7QUFBQyxvQkFDeGYsTUFBSSxJQUFFLEtBQUssSUFBRyxLQUFLLE1BQUk7QUFBRyxtQkFBTyxHQUFHLEtBQUssSUFBRyxDQUFDO0FBQUEsVUFBQztBQUFFLFlBQUUsVUFBVSxLQUFHLFNBQVMsR0FBRTtBQUFDLG9CQUFNLE1BQUksSUFBRSxLQUFLLElBQUcsS0FBSyxNQUFJO0FBQUcsZ0JBQUUsR0FBRyxLQUFLLElBQUcsQ0FBQztBQUFFLGdCQUFHLGVBQWEsT0FBTztBQUFPLG9CQUFNLE1BQU0seUJBQXlCO0FBQUUsbUJBQU8sT0FBTyxDQUFDO0FBQUEsVUFBQztBQUFFLFlBQUUsVUFBVSxLQUFHLFNBQVMsR0FBRTtBQUFDLG9CQUFNLE1BQUksSUFBRSxLQUFLLElBQUcsS0FBSyxNQUFJO0FBQUcsbUJBQU8sR0FBRyxLQUFLLElBQUcsQ0FBQztBQUFBLFVBQUM7QUFBRSxZQUFFLFVBQVUsVUFBUSxTQUFTLEdBQUU7QUFBQyxvQkFBTSxNQUFJLElBQUUsS0FBSyxJQUFHLEtBQUssTUFBSTtBQUFHLGdCQUFJLElBQUUsR0FBRyxLQUFLLElBQUcsQ0FBQztBQUFFLGdCQUFFLEdBQUcsS0FBSyxJQUFHLENBQUM7QUFBRSxxQkFBUSxJQUFFLElBQUksV0FBVyxDQUFDLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxLQUFHO0FBQUUsZ0JBQUUsQ0FBQyxJQUFFLEVBQUUsSUFBRSxDQUFDO0FBQUUsbUJBQU87QUFBQSxVQUFDO0FBQUUsWUFBRSxVQUFVLE1BQUksU0FBUyxHQUFFLEdBQUU7QUFBQyxnQkFBRSxLQUFHLENBQUM7QUFBRSxvQkFBTSxLQUNsZixLQUFLLEtBQUssQ0FBQyxLQUFHLEtBQUssS0FBSztBQUFFLGdCQUFFLENBQUM7QUFBRSxxQkFBUSxJQUFFLEdBQUcsS0FBSyxFQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxLQUFHO0FBQUUsc0JBQU8sR0FBRyxLQUFLLElBQUcsQ0FBQyxHQUFFO0FBQUEsZ0JBQUMsS0FBSztBQUFFLHNCQUFJLElBQUUsRUFBRSxZQUFVLEtBQUssR0FBRyxDQUFDLElBQUUsS0FBSyxHQUFHLENBQUM7QUFBRSxvQkFBRSxLQUFLLENBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBRSxvQkFBRSxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBRSxvQkFBRSxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBRSxvQkFBRSxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUM7QUFBRTtBQUFBLGdCQUFNO0FBQVEsb0JBQUUsS0FBSyxJQUFJO0FBQUEs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RUFBRSxHQUFHLElBQUcsSUFBRyxFQUFFLEdBQUcsR0FBRSxHQUFFLFFBQU8sRUFBQyxJQUFHLEVBQUUsR0FBRyxJQUFHLE1BQUssRUFBRSxHQUFHLE1BQUssT0FBTSxFQUFFLEdBQUcsT0FBTSxJQUFHLEVBQUUsR0FBRyxJQUFHLElBQUcsRUFBRSxHQUFHLEdBQUUsRUFBQyxHQUFFLE1BQUssRUFBQyxNQUFLLEVBQUMsSUFBRyxFQUFFLEdBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRyxJQUFHLFVBQVMsRUFBRSxHQUFHLFNBQVEsR0FBRSxRQUFPLENBQUMsRUFBQyxHQUFFLElBQUcsRUFBQyxNQUFLLEVBQUMsSUFBRyxFQUFFLEdBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRyxHQUFFLEdBQUUsUUFBTyxHQUFFLEVBQUM7QUFBRyxjQUFFLEdBQUcsR0FBRSxHQUFFLEdBQUUsQ0FBQztBQUFFLFlBQUUsRUFBRSxJQUFJLEtBQUcsRUFBRSxLQUFHLEVBQUUsR0FBRyxJQUFJLE1BQUssRUFBRSxLQUFHLEVBQUUsR0FBRyxJQUFJLFFBQU8sRUFBRSxLQUFHLENBQUMsS0FBRyxXQUM3ZSxFQUFFLE9BQUssVUFBUSxFQUFFLEtBQUcsRUFBRSxHQUFHLEtBQUssTUFBSyxFQUFFLEtBQUcsRUFBRSxHQUFHLEtBQUssUUFBTyxFQUFFLEtBQUcsR0FBRSxFQUFFLEtBQUcsUUFBTSxXQUFTLEVBQUUsT0FBSyxVQUFRLEVBQUUsS0FBRyxFQUFFLEdBQUcsS0FBSyxNQUFLLEVBQUUsS0FBRyxFQUFFLEdBQUcsS0FBSyxVQUFRLFVBQVEsRUFBRSxPQUFLLFdBQVMsRUFBRSxLQUFHLEVBQUUsR0FBRyxHQUFHLE1BQUssRUFBRSxLQUFHLEVBQUUsR0FBRyxHQUFHO0FBQVEsWUFBRSxRQUFNLEVBQUUsUUFBTSxFQUFFLFFBQU0sS0FBSyxJQUFJO0FBQUUsZ0JBQUksRUFBRSxHQUFHLENBQUMsSUFBRSxHQUFFLEVBQUUsUUFBTSxFQUFFLFFBQU0sRUFBRSxRQUFNLEVBQUU7QUFBTyxpQkFBTztBQUFBLFFBQUMsR0FBRSxHQUFHLEdB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QUFJLElBQUUsRUFBRSxHQUFHLEVBQUUsSUFBRyxDQUFDLENBQUMsR0FBRSxHQUFFLElBQUUsRUFBRSxJQUFHO0FBQUMsZ0JBQUksSUFBRSxFQUFFO0FBQUssZ0JBQUcsRUFBRSxPQUFPLE9BQUssRUFBRSxNQUFJLE1BQUk7QUFBRSxxQkFBTztBQUFBLFVBQUM7QUFBQyxpQkFBTyxFQUFFLEdBQUcsT0FBTyxHQUFFLENBQUM7QUFBQSxRQUFDO0FBQUMsaUJBQVMsR0FBRyxHQUFFLEdBQUUsR0FBRSxHQUFFO0FBQUMsY0FBRSxJQUFJLEdBQUcsR0FBRSxHQUFFLEdBQUUsQ0FBQztBQUFFLGNBQUUsR0FBRyxFQUFFLE9BQU8sSUFBRyxFQUFFLElBQUk7QUFBRSxZQUFFLEtBQUcsRUFBRSxDQUFDO0FBQUUsaUJBQU8sRUFBRSxDQUFDLElBQUU7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRSxHQUFFO0FBQUMsaUJBQU8sV0FBUyxJQUFFO0FBQUEsUUFBTTtBQUFDLGlCQUFTLEdBQUcsR0FBRTtBQUFDLGNBQUksSUFBRSxDQUFDLEtBQUksS0FBSSxJQUFJLEVBQUUsSUFBRSxDQUFDO0FBQUUsY0FBRSxRQUFNLEtBQUc7QUFBSyxpQkFBTztBQUFBLFFBQUM7QUFDaFksaUJBQVMsR0FBRyxHQUFFLEdBQUU7QUFBQyxjQUFHO0FBQUcsbUJBQU87QUFBRSxjQUFHLENBQUMsRUFBRSxTQUFTLEdBQUcsS0FBRyxFQUFFLE9BQUssS0FBSTtBQUFDLGdCQUFHLEVBQUUsU0FBUyxHQUFHLEtBQUcsRUFBRSxFQUFFLE9BQUssUUFBTSxFQUFFLFNBQVMsR0FBRyxLQUFHLEVBQUUsRUFBRSxPQUFLO0FBQUkscUJBQU87QUFBQSxVQUFDO0FBQU0sbUJBQU87QUFBRSxpQkFBTztBQUFBLFFBQUM7QUFBQyxpQkFBUyxHQUFHLEdBQUUsR0FBRTtBQUFDLGNBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSTtBQUFFLG1CQUFPO0FBQUcsY0FBRztBQUFDLG1CQUFPLEVBQUUsR0FBRSxDQUFDLEdBQUU7QUFBQSxVQUFFLFNBQU8sR0FBRTtB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Q0FBQztBQUFFLGNBQUcsQ0FBQyxFQUFFLEdBQUc7QUFBUSxrQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUFFLFlBQUUsR0FBRyxRQUFRLEdBQUUsR0FBRSxDQUFDO0FBQUEsUUFBQztBQUNqVyxpQkFBUyxHQUFHLEdBQUU7QUFBQyxjQUFJLElBQUUsRUFBRSxHQUFFLEVBQUMsUUFBTyxLQUFFLENBQUMsRUFBRTtBQUFLLGNBQUUsR0FBRyxDQUFDO0FBQUUsY0FBSSxJQUFFLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRSxHQUFHLEdBQUUsR0FBRSxJQUFFO0FBQUUsY0FBRztBQUFFLGtCQUFNLElBQUksRUFBRSxDQUFDO0FBQUUsY0FBRyxDQUFDLEVBQUUsR0FBRztBQUFNLGtCQUFNLElBQUksRUFBRSxFQUFFO0FBQUUsY0FBRyxFQUFFO0FBQUcsa0JBQU0sSUFBSSxFQUFFLEVBQUU7QUFBRSxZQUFFLEdBQUcsTUFBTSxHQUFFLENBQUM7QUFBRSxhQUFHLENBQUM7QUFBQSxRQUFDO0FBQUMsaUJBQVMsR0FBRyxHQUFFO0FBQUMsY0FBSSxJQUFFLEVBQUUsR0FBRSxFQUFDLFFBQU8sS0FBRSxDQUFDLEVBQUU7QUFBSyxjQUFHLENBQUM7QUFBRSxrQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUFFLGNBQUUsR0FBRyxDQUFDO0FBQUUsY0FBSSxJQUFFLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRSxHQUFHLEdBQUUsR0FBRSxLQUFFO0FBQUUsY0FBRztBQUFFLGtCQUFNLElBQUksRUFBRSxDQUFDO0FBQUUsY0FBRyxDQUFDLEVBQUUsR0FBRztBQUFPLGtCQUFNLElBQUksRUFBRSxFQUFFO0FBQUUsY0FBRyxFQUFFO0FBQUcsa0JBQU0sSUFBSSxFQUFFLEVBQUU7QUFBRSxZQUFFLEdBQUcsT0FBTyxHQUFFLENBQUM7QUFBRSxhQUFHLENBQUM7QUFBQSxRQUFDO0FBQUMsaUJBQVMsR0FBRyxHQUFFLEdBQUU7QUFBQyxjQUFFLEVBQUUsR0FBRSxFQUFDLElBQUcsQ0FBQyxFQUFDLENBQUMsRUFBRTtBQUFLLGlCQUFPLEdB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LGNBQUksWUFBWSxlQUFlLE9BQU8sbUJBQW1CO0FBQ3ZELHlCQUFhLGlCQUFpQixZQUFZLFdBQVcsSUFBSSxPQUFPLGlCQUFpQjtBQUFBLFVBQ25GLE9BQU87QUFDTCx5QkFBYSxpQkFBaUIsWUFBWSxXQUFXLElBQUksT0FBTyxpQkFBaUIsS0FBSyxlQUFlO0FBQUEsVUFDdkc7QUFBQSxRQUNGO0FBR0EsY0FBTSxtQkFDSixpQkFBaUIsTUFBTSxLQUN2QixZQUFZLFlBQVksT0FBTztBQUNqQyxjQUFNLHNCQUNKLG9CQUFvQixNQUFNLEtBQzFCLFlBQVksZUFBZSxPQUFPO0FBRXBDLFlBQUksb0JBQW9CLHFCQUFxQjtBQUMzQyx1QkFBYTtBQUFBO0FBQUE7QUFBQSxRQUNmO0FBRUEsY0FBSSxnQkFBSyxhQUFMLG1CQUFlLE9BQWYsbUJBQW1CLG1CQUFrQixPQUFPO0FBQzlDLGNBQUkseUJBQU8sV0FBVyxHQUFJO0FBQUEsUUFDNUI7QUFBQSxNQUNGO0FBR0EsVUFBSTtBQUFBLFFBQ0YsS0FBSztBQUFBLFFBQ0w7QUFBQSxRQUNBLENBQUMsUUFBUTtBQUFBLFFBQ1QsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUFBLFFBQ0wsS0FBSyxnQkFBZ0IsS0FBSyxJQUFJO0FBQUEsUUFDOUIsS0FBSztBQUFBLFFBQ0wsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUFBLFFBQ3RCLEtBQUssaUJBQWlCLEtBQUssSUFBSTtBQUFBLE1BQ2pDLEVBQUUsS0FBSztBQUFBLElBQ1QsU0FBUyxPQUFPO0FBQ2QsY0FBUSxNQUFNLDBCQUEwQixLQUFLO0FBQzdDLFlBQUksZ0JBQUssYUFBTCxtQkFBZSxPQUFmLG1CQUFtQixtQkFBa0IsT0FBTztBQUM5QyxZQUFJLHlCQUFPLG1EQUFtRDtBQUFBLE1BQ2hFO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgImluaXRTcWxKcyIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW5pdFNxbEpzIiwgImZpbGUiLCAiZmlsZSIsICJpbml0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0ZXh0IiwgImVsZW1lbnQiLCAiZmlsZSIsICJlbGVtZW50IiwgIl9hIiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJkZXRhY2giLCAiaW5zdGFuY2UiLCAiY3JlYXRlX2ZyYWdtZW50IiwgImF0dHIiLCAidGV4dCIsICJjdHgiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJtb2RhbEVsIiwgImltcG9ydF9vYnNpZGlhbiIsICJjdHgiLCAibW9kYWxFbCIsICJ0ZXh0IiwgImN0eCIsICJjcmVhdGVfaWZfYmxvY2siLCAiY3JlYXRlX2lmX2Jsb2NrXzEiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJjcmVhdGVfaWZfYmxvY2tfNSIsICJfYSIsICJjcmVhdGVfaWZfYmxvY2tfNCIsICJmdW5jIiwgIl9iIiwgIl9kIiwgIl9jIiwgIl9mIiwgIl9lIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9rIiwgIl9qIiwgIl9tIiwgIl9sIiwgIl9vIiwgIl9uIiwgIl9xIiwgIl9wIiwgIl9zIiwgIl9yIiwgImN0eCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3R4IiwgImNyZWF0ZV9pZl9ibG9ja18yIiwgImNyZWF0ZV9pZl9ibG9ja18xIiwgImNyZWF0ZV9pZl9ibG9ja18zIiwgImNyZWF0ZV9pZl9ibG9jayIsICJfYiIsICJfYSIsICJtb2RhbEVsIiwgImVtcHR5IiwgImZpbGUiXQp9Cg==
