/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/sql.js/dist/sql-wasm.js
var require_sql_wasm = __commonJS({
  "node_modules/sql.js/dist/sql-wasm.js"(exports, module2) {
    var initSqlJsPromise = void 0;
    var initSqlJs2 = function(moduleConfig) {
      if (initSqlJsPromise) {
        return initSqlJsPromise;
      }
      initSqlJsPromise = new Promise(function(resolveModule, reject) {
        var Module = typeof moduleConfig !== "undefined" ? moduleConfig : {};
        var originalOnAbortFunction = Module["onAbort"];
        Module["onAbort"] = function(errorThatCausedAbort) {
          reject(new Error(errorThatCausedAbort));
          if (originalOnAbortFunction) {
            originalOnAbortFunction(errorThatCausedAbort);
          }
        };
        Module["postRun"] = Module["postRun"] || [];
        Module["postRun"].push(function() {
          resolveModule(Module);
        });
        module2 = void 0;
        var f;
        f || (f = typeof Module != "undefined" ? Module : {});
        var aa = "object" == typeof window, ba = "undefined" != typeof WorkerGlobalScope, ca = "object" == typeof process && "object" == typeof process.versions && "string" == typeof process.versions.node && "renderer" != process.type;
        "use strict";
        f.onRuntimeInitialized = function() {
          function a(g, l) {
            switch (typeof l) {
              case "boolean":
                dc(g, l ? 1 : 0);
                break;
              case "number":
                ec(g, l);
                break;
              case "string":
                fc(g, l, -1, -1);
                break;
              case "object":
                if (null === l)
                  lb(g);
                else if (null != l.length) {
                  var n = da(l, ea);
                  gc(g, n, l.length, -1);
                  fa(n);
                } else
                  va(g, "Wrong API use : tried to return a value of an unknown type (" + l + ").", -1);
                break;
              default:
                lb(g);
            }
          }
          function b(g, l) {
            for (var n = [], r = 0; r < g; r += 1) {
              var t = m(l + 4 * r, "i32"), y = hc(t);
              if (1 === y || 2 === y)
                t = ic(t);
              else if (3 === y)
                t = jc(t);
              else if (4 === y) {
                y = t;
                t = kc(y);
                y = lc(y);
                for (var L = new Uint8Array(t), J = 0; J < t; J += 1)
                  L[J] = p[y + J];
                t = L;
              } else
                t = null;
              n.push(t);
            }
            return n;
          }
          function c(g, l) {
            this.Qa = g;
            this.db = l;
            this.Oa = 1;
            this.lb = [];
          }
          function d(g, l) {
            this.db = l;
            l = ha(g) + 1;
            this.eb = ia(l);
            if (null === this.eb)
              throw Error("Unable to allocate memory for the SQL string");
            u(g, x, this.eb, l);
            this.kb = this.eb;
            this.Za = this.pb = null;
          }
          function e(g) {
            this.filename = "dbfile_" + (4294967295 * Math.random() >>> 0);
            if (null != g) {
              var l = this.filename, n = "/", r = l;
              n && (n = "string" == typeof n ? n : ja(n), r = l ? ka(n + "/" + l) : n);
              l = la(true, true);
              r = ma(r, l);
              if (g) {
                if ("string" == typeof g) {
                  n = Array(g.length);
                  for (var t = 0, y = g.length; t < y; ++t)
                    n[t] = g.charCodeAt(t);
                  g = n;
                }
                na(r, l | 146);
                n = oa(r, 577);
                pa(n, g, 0, g.length, 0);
                qa(n);
                na(r, l);
              }
            }
            this.handleError(q(this.filename, h));
            this.db = m(h, "i32");
            ob(this.db);
            this.fb = {};
            this.Sa = {};
          }
          var h = z(4), k = f.cwrap, q = k("sqlite3_open", "number", ["string", "number"]), w = k("sqlite3_close_v2", "number", ["number"]), v = k("sqlite3_exec", "number", ["number", "string", "number", "number", "number"]), C = k("sqlite3_changes", "number", ["number"]), G = k("sqlite3_prepare_v2", "number", ["number", "string", "number", "number", "number"]), pb = k("sqlite3_sql", "string", ["number"]), nc = k("sqlite3_normalized_sql", "string", ["number"]), qb = k("sqlite3_prepare_v2", "number", ["number", "number", "number", "number", "number"]), oc = k("sqlite3_bind_text", "number", ["number", "number", "number", "number", "number"]), rb = k("sqlite3_bind_blob", "number", ["number", "number", "number", "number", "number"]), pc = k("sqlite3_bind_double", "number", ["number", "number", "number"]), qc = k(
            "sqlite3_bind_int",
            "number",
            ["number", "number", "number"]
          ), rc = k("sqlite3_bind_parameter_index", "number", ["number", "string"]), sc = k("sqlite3_step", "number", ["number"]), tc = k("sqlite3_errmsg", "string", ["number"]), uc = k("sqlite3_column_count", "number", ["number"]), vc = k("sqlite3_data_count", "number", ["number"]), wc = k("sqlite3_column_double", "number", ["number", "number"]), sb = k("sqlite3_column_text", "string", ["number", "number"]), xc = k("sqlite3_column_blob", "number", ["number", "number"]), yc = k("sqlite3_column_bytes", "number", [
            "number",
            "number"
          ]), zc = k("sqlite3_column_type", "number", ["number", "number"]), Ac = k("sqlite3_column_name", "string", ["number", "number"]), Bc = k("sqlite3_reset", "number", ["number"]), Cc = k("sqlite3_clear_bindings", "number", ["number"]), Dc = k("sqlite3_finalize", "number", ["number"]), tb = k("sqlite3_create_function_v2", "number", "number string number number number number number number number".split(" ")), hc = k("sqlite3_value_type", "number", ["number"]), kc = k("sqlite3_value_bytes", "number", ["number"]), jc = k(
            "sqlite3_value_text",
            "string",
            ["number"]
          ), lc = k("sqlite3_value_blob", "number", ["number"]), ic = k("sqlite3_value_double", "number", ["number"]), ec = k("sqlite3_result_double", "", ["number", "number"]), lb = k("sqlite3_result_null", "", ["number"]), fc = k("sqlite3_result_text", "", ["number", "string", "number", "number"]), gc = k("sqlite3_result_blob", "", ["number", "number", "number", "number"]), dc = k("sqlite3_result_int", "", ["number", "number"]), va = k("sqlite3_result_error", "", ["number", "string", "number"]), ub = k(
            "sqlite3_aggregate_context",
            "number",
            ["number", "number"]
          ), ob = k("RegisterExtensionFunctions", "number", ["number"]), vb = k("sqlite3_update_hook", "number", ["number", "number", "number"]);
          c.prototype.bind = function(g) {
            if (!this.Qa)
              throw "Statement closed";
            this.reset();
            return Array.isArray(g) ? this.Cb(g) : null != g && "object" === typeof g ? this.Db(g) : true;
          };
          c.prototype.step = function() {
            if (!this.Qa)
              throw "Statement closed";
            this.Oa = 1;
            var g = sc(this.Qa);
            switch (g) {
              case 100:
                return true;
              case 101:
                return false;
              default:
                throw this.db.handleError(g);
            }
          };
          c.prototype.wb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return wc(this.Qa, g);
          };
          c.prototype.Gb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            g = sb(this.Qa, g);
            if ("function" !== typeof BigInt)
              throw Error("BigInt is not supported");
            return BigInt(g);
          };
          c.prototype.Hb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return sb(this.Qa, g);
          };
          c.prototype.getBlob = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            var l = yc(this.Qa, g);
            g = xc(this.Qa, g);
            for (var n = new Uint8Array(l), r = 0; r < l; r += 1)
              n[r] = p[g + r];
            return n;
          };
          c.prototype.get = function(g, l) {
            l = l || {};
            null != g && this.bind(g) && this.step();
            g = [];
            for (var n = vc(this.Qa), r = 0; r < n; r += 1)
              switch (zc(this.Qa, r)) {
                case 1:
                  var t = l.useBigInt ? this.Gb(r) : this.wb(r);
                  g.push(t);
                  break;
                case 2:
                  g.push(this.wb(r));
                  break;
                case 3:
                  g.push(this.Hb(r));
                  break;
                case 4:
                  g.push(this.getBlob(r));
                  break;
                default:
                  g.push(null);
              }
            return g;
          };
          c.prototype.getColumnNames = function() {
            for (var g = [], l = uc(this.Qa), n = 0; n < l; n += 1)
              g.push(Ac(this.Qa, n));
            return g;
          };
          c.prototype.getAsObject = function(g, l) {
            g = this.get(g, l);
            l = this.getColumnNames();
            for (var n = {}, r = 0; r < l.length; r += 1)
              n[l[r]] = g[r];
            return n;
          };
          c.prototype.getSQL = function() {
            return pb(this.Qa);
          };
          c.prototype.getNormalizedSQL = function() {
            return nc(this.Qa);
          };
          c.prototype.run = function(g) {
            null != g && this.bind(g);
            this.step();
            return this.reset();
          };
          c.prototype.sb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            g = ra(g);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(oc(this.Qa, l, n, g.length - 1, 0));
          };
          c.prototype.Bb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(rb(
              this.Qa,
              l,
              n,
              g.length,
              0
            ));
          };
          c.prototype.rb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            this.db.handleError((g === (g | 0) ? qc : pc)(this.Qa, l, g));
          };
          c.prototype.Eb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            rb(this.Qa, g, 0, 0, 0);
          };
          c.prototype.tb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            switch (typeof g) {
              case "string":
                this.sb(g, l);
                return;
              case "number":
                this.rb(g, l);
                return;
              case "bigint":
                this.sb(g.toString(), l);
                return;
              case "boolean":
                this.rb(g + 0, l);
                return;
              case "object":
                if (null === g) {
                  this.Eb(l);
                  return;
                }
                if (null != g.length) {
                  this.Bb(
                    g,
                    l
                  );
                  return;
                }
            }
            throw "Wrong API use : tried to bind a value of an unknown type (" + g + ").";
          };
          c.prototype.Db = function(g) {
            var l = this;
            Object.keys(g).forEach(function(n) {
              var r = rc(l.Qa, n);
              0 !== r && l.tb(g[n], r);
            });
            return true;
          };
          c.prototype.Cb = function(g) {
            for (var l = 0; l < g.length; l += 1)
              this.tb(g[l], l + 1);
            return true;
          };
          c.prototype.reset = function() {
            this.freemem();
            return 0 === Cc(this.Qa) && 0 === Bc(this.Qa);
          };
          c.prototype.freemem = function() {
            for (var g; void 0 !== (g = this.lb.pop()); )
              fa(g);
          };
          c.prototype.free = function() {
            this.freemem();
            var g = 0 === Dc(this.Qa);
            delete this.db.fb[this.Qa];
            this.Qa = 0;
            return g;
          };
          d.prototype.next = function() {
            if (null === this.eb)
              return { done: true };
            null !== this.Za && (this.Za.free(), this.Za = null);
            if (!this.db.db)
              throw this.mb(), Error("Database closed");
            var g = sa(), l = z(4);
            ta(h);
            ta(l);
            try {
              this.db.handleError(qb(this.db.db, this.kb, -1, h, l));
              this.kb = m(l, "i32");
              var n = m(h, "i32");
              if (0 === n)
                return this.mb(), { done: true };
              this.Za = new c(n, this.db);
              this.db.fb[n] = this.Za;
              return { value: this.Za, done: false };
            } catch (r) {
              throw this.pb = ua(this.kb), this.mb(), r;
            } finally {
              wa(g);
            }
          };
          d.prototype.mb = function() {
            fa(this.eb);
            this.eb = null;
          };
          d.prototype.getRemainingSQL = function() {
            return null !== this.pb ? this.pb : ua(this.kb);
          };
          "function" === typeof Symbol && "symbol" === typeof Symbol.iterator && (d.prototype[Symbol.iterator] = function() {
            return this;
          });
          e.prototype.run = function(g, l) {
            if (!this.db)
              throw "Database closed";
            if (l) {
              g = this.prepare(g, l);
              try {
                g.step();
              } finally {
                g.free();
              }
            } else
              this.handleError(v(this.db, g, 0, 0, h));
            return this;
          };
          e.prototype.exec = function(g, l, n) {
            if (!this.db)
              throw "Database closed";
            var r = sa(), t = null;
            try {
              var y = xa(g), L = z(4);
              for (g = []; 0 !== m(y, "i8"); ) {
                ta(h);
                ta(L);
                this.handleError(qb(this.db, y, -1, h, L));
                var J = m(h, "i32");
                y = m(L, "i32");
                if (0 !== J) {
                  var I = null;
                  t = new c(J, this);
                  for (null != l && t.bind(l); t.step(); )
                    null === I && (I = { columns: t.getColumnNames(), values: [] }, g.push(I)), I.values.push(t.get(null, n));
                  t.free();
                }
              }
              return g;
            } catch (M) {
              throw t && t.free(), M;
            } finally {
              wa(r);
            }
          };
          e.prototype.each = function(g, l, n, r, t) {
            "function" === typeof l && (r = n, n = l, l = void 0);
            g = this.prepare(g, l);
            try {
              for (; g.step(); )
                n(g.getAsObject(
                  null,
                  t
                ));
            } finally {
              g.free();
            }
            if ("function" === typeof r)
              return r();
          };
          e.prototype.prepare = function(g, l) {
            ta(h);
            this.handleError(G(this.db, g, -1, h, 0));
            g = m(h, "i32");
            if (0 === g)
              throw "Nothing to prepare";
            var n = new c(g, this);
            null != l && n.bind(l);
            return this.fb[g] = n;
          };
          e.prototype.iterateStatements = function(g) {
            return new d(g, this);
          };
          e.prototype["export"] = function() {
            Object.values(this.fb).forEach(function(l) {
              l.free();
            });
            Object.values(this.Sa).forEach(A);
            this.Sa = {};
            this.handleError(w(this.db));
            var g = ya(this.filename);
            this.handleError(q(
              this.filename,
              h
            ));
            this.db = m(h, "i32");
            ob(this.db);
            return g;
          };
          e.prototype.close = function() {
            null !== this.db && (Object.values(this.fb).forEach(function(g) {
              g.free();
            }), Object.values(this.Sa).forEach(A), this.Sa = {}, this.Ya && (A(this.Ya), this.Ya = void 0), this.handleError(w(this.db)), za("/" + this.filename), this.db = null);
          };
          e.prototype.handleError = function(g) {
            if (0 === g)
              return null;
            g = tc(this.db);
            throw Error(g);
          };
          e.prototype.getRowsModified = function() {
            return C(this.db);
          };
          e.prototype.create_function = function(g, l) {
            Object.prototype.hasOwnProperty.call(
              this.Sa,
              g
            ) && (A(this.Sa[g]), delete this.Sa[g]);
            var n = Aa(function(r, t, y) {
              t = b(t, y);
              try {
                var L = l.apply(null, t);
              } catch (J) {
                va(r, J, -1);
                return;
              }
              a(r, L);
            }, "viii");
            this.Sa[g] = n;
            this.handleError(tb(this.db, g, l.length, 1, 0, n, 0, 0, 0));
            return this;
          };
          e.prototype.create_aggregate = function(g, l) {
            var n = l.init || function() {
              return null;
            }, r = l.finalize || function(I) {
              return I;
            }, t = l.step;
            if (!t)
              throw "An aggregate function must have a step function in " + g;
            var y = {};
            Object.hasOwnProperty.call(this.Sa, g) && (A(this.Sa[g]), delete this.Sa[g]);
            l = g + "__finalize";
            Object.hasOwnProperty.call(this.Sa, l) && (A(this.Sa[l]), delete this.Sa[l]);
            var L = Aa(function(I, M, Ra) {
              var X = ub(I, 1);
              Object.hasOwnProperty.call(y, X) || (y[X] = n());
              M = b(M, Ra);
              M = [y[X]].concat(M);
              try {
                y[X] = t.apply(null, M);
              } catch (Fc) {
                delete y[X], va(I, Fc, -1);
              }
            }, "viii"), J = Aa(function(I) {
              var M = ub(I, 1);
              try {
                var Ra = r(y[M]);
              } catch (X) {
                delete y[M];
                va(I, X, -1);
                return;
              }
              a(I, Ra);
              delete y[M];
            }, "vi");
            this.Sa[g] = L;
            this.Sa[l] = J;
            this.handleError(tb(this.db, g, t.length - 1, 1, 0, 0, L, J, 0));
            return this;
          };
          e.prototype.updateHook = function(g) {
            this.Ya && (vb(this.db, 0, 0), A(this.Ya), this.Ya = void 0);
            g && (this.Ya = Aa(function(l, n, r, t, y) {
              switch (n) {
                case 18:
                  l = "insert";
                  break;
                case 23:
                  l = "update";
                  break;
                case 9:
                  l = "delete";
                  break;
                default:
                  throw "unknown operationCode in updateHook callback: " + n;
              }
              r = r ? B(x, r) : "";
              t = t ? B(x, t) : "";
              if (y > Number.MAX_SAFE_INTEGER)
                throw "rowId too big to fit inside a Number";
              g(l, r, t, Number(y));
            }, "viiiij"), vb(this.db, this.Ya, 0));
          };
          f.Database = e;
        };
        var Ba = { ...f }, Ca = "./this.program", Da = (a, b) => {
          throw b;
        }, D = "", Ea, Fa;
        if (ca) {
          var fs = require("fs");
          require("path");
          D = __dirname + "/";
          Fa = (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a);
          };
          Ea = async (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a, void 0);
          };
          !f.thisProgram && 1 < process.argv.length && (Ca = process.argv[1].replace(/\\/g, "/"));
          process.argv.slice(2);
          "undefined" != typeof module2 && (module2.exports = f);
          Da = (a, b) => {
            process.exitCode = a;
            throw b;
          };
        } else if (aa || ba)
          ba ? D = self.location.href : "undefined" != typeof document && document.currentScript && (D = document.currentScript.src), D = D.startsWith("blob:") ? "" : D.slice(0, D.replace(/[?#].*/, "").lastIndexOf("/") + 1), ba && (Fa = (a) => {
            var b = new XMLHttpRequest();
            b.open("GET", a, false);
            b.responseType = "arraybuffer";
            b.send(null);
            return new Uint8Array(b.response);
          }), Ea = async (a) => {
            if (Ga(a))
              return new Promise((c, d) => {
                var e = new XMLHttpRequest();
                e.open("GET", a, true);
                e.responseType = "arraybuffer";
                e.onload = () => {
                  200 == e.status || 0 == e.status && e.response ? c(e.response) : d(e.status);
                };
                e.onerror = d;
                e.send(null);
              });
            var b = await fetch(a, { credentials: "same-origin" });
            if (b.ok)
              return b.arrayBuffer();
            throw Error(b.status + " : " + b.url);
          };
        var Ha = f.print || console.log.bind(console), Ia = f.printErr || console.error.bind(console);
        Object.assign(f, Ba);
        Ba = null;
        f.thisProgram && (Ca = f.thisProgram);
        var Ja = f.wasmBinary, Ka, La = false, Ma, p, x, Na, E, F, Oa, H, Pa, Ga = (a) => a.startsWith("file://");
        function Qa() {
          var a = Ka.buffer;
          f.HEAP8 = p = new Int8Array(a);
          f.HEAP16 = Na = new Int16Array(a);
          f.HEAPU8 = x = new Uint8Array(a);
          f.HEAPU16 = new Uint16Array(a);
          f.HEAP32 = E = new Int32Array(a);
          f.HEAPU32 = F = new Uint32Array(a);
          f.HEAPF32 = Oa = new Float32Array(a);
          f.HEAPF64 = Pa = new Float64Array(a);
          f.HEAP64 = H = new BigInt64Array(a);
          f.HEAPU64 = new BigUint64Array(a);
        }
        var K = 0, Sa = null;
        function Ta(a) {
          var _a;
          (_a = f.onAbort) == null ? void 0 : _a.call(f, a);
          a = "Aborted(" + a + ")";
          Ia(a);
          La = true;
          throw new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");
        }
        var Ua;
        async function Va(a) {
          if (!Ja)
            try {
              var b = await Ea(a);
              return new Uint8Array(b);
            } catch (e) {
            }
          if (a == Ua && Ja)
            a = new Uint8Array(Ja);
          else if (Fa)
            a = Fa(a);
          else
            throw "both async and sync fetching of the wasm failed";
          return a;
        }
        async function Wa(a, b) {
          try {
            var c = await Va(a);
            return await WebAssembly.instantiate(c, b);
          } catch (d) {
            Ia(`failed to asynchronously prepare wasm: ${d}`), Ta(d);
          }
        }
        async function Xa(a) {
          var b = Ua;
          if (!Ja && "function" == typeof WebAssembly.instantiateStreaming && !Ga(b) && !ca)
            try {
              var c = fetch(b, { credentials: "same-origin" });
              return await WebAssembly.instantiateStreaming(c, a);
            } catch (d) {
              Ia(`wasm streaming compile failed: ${d}`), Ia("falling back to ArrayBuffer instantiation");
            }
          return Wa(b, a);
        }
        class Ya {
          constructor(a) {
            __publicField(this, "name", "ExitStatus");
            this.message = `Program terminated with exit(${a})`;
            this.status = a;
          }
        }
        var Za = (a) => {
          for (; 0 < a.length; )
            a.shift()(f);
        }, $a = [], ab = [], bb = () => {
          var a = f.preRun.shift();
          ab.unshift(a);
        };
        function m(a, b = "i8") {
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              return p[a];
            case "i8":
              return p[a];
            case "i16":
              return Na[a >> 1];
            case "i32":
              return E[a >> 2];
            case "i64":
              return H[a >> 3];
            case "float":
              return Oa[a >> 2];
            case "double":
              return Pa[a >> 3];
            case "*":
              return F[a >> 2];
            default:
              Ta(`invalid type for getValue: ${b}`);
          }
        }
        var cb = f.noExitRuntime || true;
        function ta(a) {
          var b = "i32";
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              p[a] = 0;
              break;
            case "i8":
              p[a] = 0;
              break;
            case "i16":
              Na[a >> 1] = 0;
              break;
            case "i32":
              E[a >> 2] = 0;
              break;
            case "i64":
              H[a >> 3] = BigInt(0);
              break;
            case "float":
              Oa[a >> 2] = 0;
              break;
            case "double":
              Pa[a >> 3] = 0;
              break;
            case "*":
              F[a >> 2] = 0;
              break;
            default:
              Ta(`invalid type for setValue: ${b}`);
          }
        }
        var db = "undefined" != typeof TextDecoder ? new TextDecoder() : void 0, B = (a, b = 0, c = NaN) => {
          var d = b + c;
          for (c = b; a[c] && !(c >= d); )
            ++c;
          if (16 < c - b && a.buffer && db)
            return db.decode(a.subarray(b, c));
          for (d = ""; b < c; ) {
            var e = a[b++];
            if (e & 128) {
              var h = a[b++] & 63;
              if (192 == (e & 224))
                d += String.fromCharCode((e & 31) << 6 | h);
              else {
                var k = a[b++] & 63;
                e = 224 == (e & 240) ? (e & 15) << 12 | h << 6 | k : (e & 7) << 18 | h << 12 | k << 6 | a[b++] & 63;
                65536 > e ? d += String.fromCharCode(e) : (e -= 65536, d += String.fromCharCode(55296 | e >> 10, 56320 | e & 1023));
              }
            } else
              d += String.fromCharCode(e);
          }
          return d;
        }, ua = (a, b) => a ? B(x, a, b) : "", eb = (a, b) => {
          for (var c = 0, d = a.length - 1; 0 <= d; d--) {
            var e = a[d];
            "." === e ? a.splice(d, 1) : ".." === e ? (a.splice(d, 1), c++) : c && (a.splice(d, 1), c--);
          }
          if (b)
            for (; c; c--)
              a.unshift("..");
          return a;
        }, ka = (a) => {
          var b = "/" === a.charAt(0), c = "/" === a.slice(-1);
          (a = eb(a.split("/").filter((d) => !!d), !b).join("/")) || b || (a = ".");
          a && c && (a += "/");
          return (b ? "/" : "") + a;
        }, fb = (a) => {
          var b = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);
          a = b[0];
          b = b[1];
          if (!a && !b)
            return ".";
          b && (b = b.slice(0, -1));
          return a + b;
        }, gb = (a) => a && a.match(/([^\/]+|\/)\/*$/)[1], hb = () => {
          if (ca) {
            var a = require("crypto");
            return (b) => a.randomFillSync(b);
          }
          return (b) => crypto.getRandomValues(b);
        }, ib = (a) => {
          (ib = hb())(a);
        }, jb = (...a) => {
          for (var b = "", c = false, d = a.length - 1; -1 <= d && !c; d--) {
            c = 0 <= d ? a[d] : "/";
            if ("string" != typeof c)
              throw new TypeError("Arguments to path.resolve must be strings");
            if (!c)
              return "";
            b = c + "/" + b;
            c = "/" === c.charAt(0);
          }
          b = eb(b.split("/").filter((e) => !!e), !c).join("/");
          return (c ? "/" : "") + b || ".";
        }, kb = [], ha = (a) => {
          for (var b = 0, c = 0; c < a.length; ++c) {
            var d = a.charCodeAt(c);
            127 >= d ? b++ : 2047 >= d ? b += 2 : 55296 <= d && 57343 >= d ? (b += 4, ++c) : b += 3;
          }
          return b;
        }, u = (a, b, c, d) => {
          if (!(0 < d))
            return 0;
          var e = c;
          d = c + d - 1;
          for (var h = 0; h < a.length; ++h) {
            var k = a.charCodeAt(h);
            if (55296 <= k && 57343 >= k) {
              var q = a.charCodeAt(++h);
              k = 65536 + ((k & 1023) << 10) | q & 1023;
            }
            if (127 >= k) {
              if (c >= d)
                break;
              b[c++] = k;
            } else {
              if (2047 >= k) {
                if (c + 1 >= d)
                  break;
                b[c++] = 192 | k >> 6;
              } else {
                if (65535 >= k) {
                  if (c + 2 >= d)
                    break;
                  b[c++] = 224 | k >> 12;
                } else {
                  if (c + 3 >= d)
                    break;
                  b[c++] = 240 | k >> 18;
                  b[c++] = 128 | k >> 12 & 63;
                }
                b[c++] = 128 | k >> 6 & 63;
              }
              b[c++] = 128 | k & 63;
            }
          }
          b[c] = 0;
          return c - e;
        }, ra = (a, b) => {
          var c = Array(ha(a) + 1);
          a = u(a, c, 0, c.length);
          b && (c.length = a);
          return c;
        }, mb = [];
        function nb(a, b) {
          mb[a] = { input: [], output: [], cb: b };
          wb(a, xb);
        }
        var xb = { open(a) {
          var b = mb[a.node.rdev];
          if (!b)
            throw new N(43);
          a.tty = b;
          a.seekable = false;
        }, close(a) {
          a.tty.cb.fsync(a.tty);
        }, fsync(a) {
          a.tty.cb.fsync(a.tty);
        }, read(a, b, c, d) {
          if (!a.tty || !a.tty.cb.xb)
            throw new N(60);
          for (var e = 0, h = 0; h < d; h++) {
            try {
              var k = a.tty.cb.xb(a.tty);
            } catch (q) {
              throw new N(29);
            }
            if (void 0 === k && 0 === e)
              throw new N(6);
            if (null === k || void 0 === k)
              break;
            e++;
            b[c + h] = k;
          }
          e && (a.node.atime = Date.now());
          return e;
        }, write(a, b, c, d) {
          if (!a.tty || !a.tty.cb.qb)
            throw new N(60);
          try {
            for (var e = 0; e < d; e++)
              a.tty.cb.qb(a.tty, b[c + e]);
          } catch (h) {
            throw new N(29);
          }
          d && (a.node.mtime = a.node.ctime = Date.now());
          return e;
        } }, yb = { xb() {
          a: {
            if (!kb.length) {
              var a = null;
              if (ca) {
                var b = Buffer.alloc(256), c = 0, d = process.stdin.fd;
                try {
                  c = fs.readSync(d, b, 0, 256);
                } catch (e) {
                  if (e.toString().includes("EOF"))
                    c = 0;
                  else
                    throw e;
                }
                0 < c && (a = b.slice(0, c).toString("utf-8"));
              } else
                "undefined" != typeof window && "function" == typeof window.prompt && (a = window.prompt("Input: "), null !== a && (a += "\n"));
              if (!a) {
                a = null;
                break a;
              }
              kb = ra(a, true);
            }
            a = kb.shift();
          }
          return a;
        }, qb(a, b) {
          null === b || 10 === b ? (Ha(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ha(B(a.output)), a.output = []);
        }, Tb() {
          return { Ob: 25856, Qb: 5, Nb: 191, Pb: 35387, Mb: [3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] };
        }, Ub() {
          return 0;
        }, Vb() {
          return [24, 80];
        } }, zb = { qb(a, b) {
          null === b || 10 === b ? (Ia(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ia(B(a.output)), a.output = []);
        } }, O = { Wa: null, Xa() {
          return O.createNode(null, "/", 16895, 0);
        }, createNode(a, b, c, d) {
          if (24576 === (c & 61440) || 4096 === (c & 61440))
            throw new N(63);
          O.Wa || (O.Wa = { dir: { node: { Ta: O.La.Ta, Ua: O.La.Ua, lookup: O.La.lookup, hb: O.La.hb, rename: O.La.rename, unlink: O.La.unlink, rmdir: O.La.rmdir, readdir: O.La.readdir, symlink: O.La.symlink }, stream: { Va: O.Ma.Va } }, file: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: { Va: O.Ma.Va, read: O.Ma.read, write: O.Ma.write, ib: O.Ma.ib, jb: O.Ma.jb } }, link: { node: { Ta: O.La.Ta, Ua: O.La.Ua, readlink: O.La.readlink }, stream: {} }, ub: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: Ab } });
          c = Bb(a, b, c, d);
          P(c.mode) ? (c.La = O.Wa.dir.node, c.Ma = O.Wa.dir.stream, c.Na = {}) : 32768 === (c.mode & 61440) ? (c.La = O.Wa.file.node, c.Ma = O.Wa.file.stream, c.Ra = 0, c.Na = null) : 40960 === (c.mode & 61440) ? (c.La = O.Wa.link.node, c.Ma = O.Wa.link.stream) : 8192 === (c.mode & 61440) && (c.La = O.Wa.ub.node, c.Ma = O.Wa.ub.stream);
          c.atime = c.mtime = c.ctime = Date.now();
          a && (a.Na[b] = c, a.atime = a.mtime = a.ctime = c.atime);
          return c;
        }, Sb(a) {
          return a.Na ? a.Na.subarray ? a.Na.subarray(0, a.Ra) : new Uint8Array(a.Na) : new Uint8Array(0);
        }, La: { Ta(a) {
          var b = {};
          b.dev = 8192 === (a.mode & 61440) ? a.id : 1;
          b.ino = a.id;
          b.mode = a.mode;
          b.nlink = 1;
          b.uid = 0;
          b.gid = 0;
          b.rdev = a.rdev;
          P(a.mode) ? b.size = 4096 : 32768 === (a.mode & 61440) ? b.size = a.Ra : 40960 === (a.mode & 61440) ? b.size = a.link.length : b.size = 0;
          b.atime = new Date(a.atime);
          b.mtime = new Date(a.mtime);
          b.ctime = new Date(a.ctime);
          b.blksize = 4096;
          b.blocks = Math.ceil(b.size / b.blksize);
          return b;
        }, Ua(a, b) {
          for (var c of ["mode", "atime", "mtime", "ctime"])
            null != b[c] && (a[c] = b[c]);
          void 0 !== b.size && (b = b.size, a.Ra != b && (0 == b ? (a.Na = null, a.Ra = 0) : (c = a.Na, a.Na = new Uint8Array(b), c && a.Na.set(c.subarray(0, Math.min(b, a.Ra))), a.Ra = b)));
        }, lookup() {
          throw O.vb;
        }, hb(a, b, c, d) {
          return O.createNode(a, b, c, d);
        }, rename(a, b, c) {
          try {
            var d = Q(b, c);
          } catch (h) {
          }
          if (d) {
            if (P(a.mode))
              for (var e in d.Na)
                throw new N(55);
            Cb(d);
          }
          delete a.parent.Na[a.name];
          b.Na[c] = a;
          a.name = c;
          b.ctime = b.mtime = a.parent.ctime = a.parent.mtime = Date.now();
        }, unlink(a, b) {
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, rmdir(a, b) {
          var c = Q(a, b), d;
          for (d in c.Na)
            throw new N(55);
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, readdir(a) {
          return [".", "..", ...Object.keys(a.Na)];
        }, symlink(a, b, c) {
          a = O.createNode(a, b, 41471, 0);
          a.link = c;
          return a;
        }, readlink(a) {
          if (40960 !== (a.mode & 61440))
            throw new N(28);
          return a.link;
        } }, Ma: { read(a, b, c, d, e) {
          var h = a.node.Na;
          if (e >= a.node.Ra)
            return 0;
          a = Math.min(a.node.Ra - e, d);
          if (8 < a && h.subarray)
            b.set(h.subarray(e, e + a), c);
          else
            for (d = 0; d < a; d++)
              b[c + d] = h[e + d];
          return a;
        }, write(a, b, c, d, e, h) {
          b.buffer === p.buffer && (h = false);
          if (!d)
            return 0;
          a = a.node;
          a.mtime = a.ctime = Date.now();
          if (b.subarray && (!a.Na || a.Na.subarray)) {
            if (h)
              return a.Na = b.subarray(c, c + d), a.Ra = d;
            if (0 === a.Ra && 0 === e)
              return a.Na = b.slice(c, c + d), a.Ra = d;
            if (e + d <= a.Ra)
              return a.Na.set(b.subarray(
                c,
                c + d
              ), e), d;
          }
          h = e + d;
          var k = a.Na ? a.Na.length : 0;
          k >= h || (h = Math.max(h, k * (1048576 > k ? 2 : 1.125) >>> 0), 0 != k && (h = Math.max(h, 256)), k = a.Na, a.Na = new Uint8Array(h), 0 < a.Ra && a.Na.set(k.subarray(0, a.Ra), 0));
          if (a.Na.subarray && b.subarray)
            a.Na.set(b.subarray(c, c + d), e);
          else
            for (h = 0; h < d; h++)
              a.Na[e + h] = b[c + h];
          a.Ra = Math.max(a.Ra, e + d);
          return d;
        }, Va(a, b, c) {
          1 === c ? b += a.position : 2 === c && 32768 === (a.node.mode & 61440) && (b += a.node.Ra);
          if (0 > b)
            throw new N(28);
          return b;
        }, ib(a, b, c, d, e) {
          if (32768 !== (a.node.mode & 61440))
            throw new N(43);
          a = a.node.Na;
          if (e & 2 || !a || a.buffer !== p.buffer) {
            e = true;
            d = 65536 * Math.ceil(b / 65536);
            var h = Db(65536, d);
            h && x.fill(0, h, h + d);
            d = h;
            if (!d)
              throw new N(48);
            if (a) {
              if (0 < c || c + b < a.length)
                a.subarray ? a = a.subarray(c, c + b) : a = Array.prototype.slice.call(a, c, c + b);
              p.set(a, d);
            }
          } else
            e = false, d = a.byteOffset;
          return { Kb: d, Ab: e };
        }, jb(a, b, c, d) {
          O.Ma.write(a, b, 0, d, c, false);
          return 0;
        } } }, la = (a, b) => {
          var c = 0;
          a && (c |= 365);
          b && (c |= 146);
          return c;
        }, Eb = null, Fb = {}, Gb = [], Hb = 1, R = null, Ib = false, Jb = true, Kb = {}, N = class {
          constructor(a) {
            __publicField(this, "name", "ErrnoError");
            this.Pa = a;
          }
        }, Lb = class {
          constructor() {
            __publicField(this, "gb", {});
            __publicField(this, "node", null);
          }
          get flags() {
            return this.gb.flags;
          }
          set flags(a) {
            this.gb.flags = a;
          }
          get position() {
            return this.gb.position;
          }
          set position(a) {
            this.gb.position = a;
          }
        }, Mb = class {
          constructor(a, b, c, d) {
            __publicField(this, "La", {});
            __publicField(this, "Ma", {});
            __publicField(this, "ab", null);
            a || (a = this);
            this.parent = a;
            this.Xa = a.Xa;
            this.id = Hb++;
            this.name = b;
            this.mode = c;
            this.rdev = d;
            this.atime = this.mtime = this.ctime = Date.now();
          }
          get read() {
            return 365 === (this.mode & 365);
          }
          set read(a) {
            a ? this.mode |= 365 : this.mode &= -366;
          }
          get write() {
            return 146 === (this.mode & 146);
          }
          set write(a) {
            a ? this.mode |= 146 : this.mode &= -147;
          }
        };
        function S(a, b = {}) {
          var _a;
          if (!a)
            throw new N(44);
          (_a = b.nb) != null ? _a : b.nb = true;
          "/" === a.charAt(0) || (a = "//" + a);
          var c = 0;
          a:
            for (; 40 > c; c++) {
              a = a.split("/").filter((q) => !!q);
              for (var d = Eb, e = "/", h = 0; h < a.length; h++) {
                var k = h === a.length - 1;
                if (k && b.parent)
                  break;
                if ("." !== a[h])
                  if (".." === a[h])
                    e = fb(e), d = d.parent;
                  else {
                    e = ka(e + "/" + a[h]);
                    try {
                      d = Q(d, a[h]);
                    } catch (q) {
                      if (44 === (q == null ? void 0 : q.Pa) && k && b.Jb)
                        return { path: e };
                      throw q;
                    }
                    !d.ab || k && !b.nb || (d = d.ab.root);
                    if (40960 === (d.mode & 61440) && (!k || b.$a)) {
                      if (!d.La.readlink)
                        throw new N(52);
                      d = d.La.readlink(d);
                      "/" === d.charAt(0) || (d = fb(e) + "/" + d);
                      a = d + "/" + a.slice(h + 1).join("/");
                      continue a;
                    }
                  }
              }
              return { path: e, node: d };
            }
          throw new N(32);
        }
        function ja(a) {
          for (var b; ; ) {
            if (a === a.parent)
              return a = a.Xa.zb, b ? "/" !== a[a.length - 1] ? `${a}/${b}` : a + b : a;
            b = b ? `${a.name}/${b}` : a.name;
            a = a.parent;
          }
        }
        function Nb(a, b) {
          for (var c = 0, d = 0; d < b.length; d++)
            c = (c << 5) - c + b.charCodeAt(d) | 0;
          return (a + c >>> 0) % R.length;
        }
        function Cb(a) {
          var b = Nb(a.parent.id, a.name);
          if (R[b] === a)
            R[b] = a.bb;
          else
            for (b = R[b]; b; ) {
              if (b.bb === a) {
                b.bb = a.bb;
                break;
              }
              b = b.bb;
            }
        }
        function Q(a, b) {
          var c = P(a.mode) ? (c = Ob(a, "x")) ? c : a.La.lookup ? 0 : 2 : 54;
          if (c)
            throw new N(c);
          for (c = R[Nb(a.id, b)]; c; c = c.bb) {
            var d = c.name;
            if (c.parent.id === a.id && d === b)
              return c;
          }
          return a.La.lookup(a, b);
        }
        function Bb(a, b, c, d) {
          a = new Mb(a, b, c, d);
          b = Nb(a.parent.id, a.name);
          a.bb = R[b];
          return R[b] = a;
        }
        function P(a) {
          return 16384 === (a & 61440);
        }
        function Pb(a) {
          var b = ["r", "w", "rw"][a & 3];
          a & 512 && (b += "w");
          return b;
        }
        function Ob(a, b) {
          if (Jb)
            return 0;
          if (!b.includes("r") || a.mode & 292) {
            if (b.includes("w") && !(a.mode & 146) || b.includes("x") && !(a.mode & 73))
              return 2;
          } else
            return 2;
          return 0;
        }
        function Qb(a, b) {
          if (!P(a.mode))
            return 54;
          try {
            return Q(a, b), 20;
          } catch (c) {
          }
          return Ob(a, "wx");
        }
        function Rb(a, b, c) {
          try {
            var d = Q(a, b);
          } catch (e) {
            return e.Pa;
          }
          if (a = Ob(a, "wx"))
            return a;
          if (c) {
            if (!P(d.mode))
              return 54;
            if (d === d.parent || "/" === ja(d))
              return 10;
          } else if (P(d.mode))
            return 31;
          return 0;
        }
        function Sb(a) {
          if (!a)
            throw new N(63);
          return a;
        }
        function T(a) {
          a = Gb[a];
          if (!a)
            throw new N(8);
          return a;
        }
        function Tb(a, b = -1) {
          a = Object.assign(new Lb(), a);
          if (-1 == b)
            a: {
              for (b = 0; 4096 >= b; b++)
                if (!Gb[b])
                  break a;
              throw new N(33);
            }
          a.fd = b;
          return Gb[b] = a;
        }
        function Ub(a, b = -1) {
          var _a, _b;
          a = Tb(a, b);
          (_b = (_a = a.Ma) == null ? void 0 : _a.Rb) == null ? void 0 : _b.call(_a, a);
          return a;
        }
        function Vb(a, b, c) {
          var d = a == null ? void 0 : a.Ma.Ua;
          a = d ? a : b;
          d != null ? d : d = b.La.Ua;
          Sb(d);
          d(a, c);
        }
        var Ab = { open(a) {
          var _a, _b;
          a.Ma = Fb[a.node.rdev].Ma;
          (_b = (_a = a.Ma).open) == null ? void 0 : _b.call(_a, a);
        }, Va() {
          throw new N(70);
        } };
        function wb(a, b) {
          Fb[a] = { Ma: b };
        }
        function Wb(a, b) {
          var c = "/" === b;
          if (c && Eb)
            throw new N(10);
          if (!c && b) {
            var d = S(b, { nb: false });
            b = d.path;
            d = d.node;
            if (d.ab)
              throw new N(10);
            if (!P(d.mode))
              throw new N(54);
          }
          b = { type: a, Wb: {}, zb: b, Ib: [] };
          a = a.Xa(b);
          a.Xa = b;
          b.root = a;
          c ? Eb = a : d && (d.ab = b, d.Xa && d.Xa.Ib.push(b));
        }
        function Xb(a, b, c) {
          var d = S(a, { parent: true }).node;
          a = gb(a);
          if (!a)
            throw new N(28);
          if ("." === a || ".." === a)
            throw new N(20);
          var e = Qb(d, a);
          if (e)
            throw new N(e);
          if (!d.La.hb)
            throw new N(63);
          return d.La.hb(d, a, b, c);
        }
        function ma(a, b = 438) {
          return Xb(a, b & 4095 | 32768, 0);
        }
        function U(a, b = 511) {
          return Xb(a, b & 1023 | 16384, 0);
        }
        function Yb(a, b, c) {
          "undefined" == typeof c && (c = b, b = 438);
          Xb(a, b | 8192, c);
        }
        function Zb(a, b) {
          if (!jb(a))
            throw new N(44);
          var c = S(b, { parent: true }).node;
          if (!c)
            throw new N(44);
          b = gb(b);
          var d = Qb(c, b);
          if (d)
            throw new N(d);
          if (!c.La.symlink)
            throw new N(63);
          c.La.symlink(c, b, a);
        }
        function $b(a) {
          var b = S(a, { parent: true }).node;
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, true);
          if (d)
            throw new N(d);
          if (!b.La.rmdir)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.rmdir(b, a);
          Cb(c);
        }
        function za(a) {
          var b = S(a, { parent: true }).node;
          if (!b)
            throw new N(44);
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, false);
          if (d)
            throw new N(d);
          if (!b.La.unlink)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.unlink(b, a);
          Cb(c);
        }
        function ac(a, b) {
          a = S(a, { $a: !b }).node;
          return Sb(a.La.Ta)(a);
        }
        function bc(a, b, c, d) {
          Vb(a, b, { mode: c & 4095 | b.mode & -4096, ctime: Date.now(), Fb: d });
        }
        function na(a, b) {
          a = "string" == typeof a ? S(a, { $a: true }).node : a;
          bc(null, a, b);
        }
        function cc(a, b, c) {
          if (P(b.mode))
            throw new N(31);
          if (32768 !== (b.mode & 61440))
            throw new N(28);
          var d = Ob(b, "w");
          if (d)
            throw new N(d);
          Vb(a, b, { size: c, timestamp: Date.now() });
        }
        function oa(a, b, c = 438) {
          if ("" === a)
            throw new N(44);
          if ("string" == typeof b) {
            var d = { r: 0, "r+": 2, w: 577, "w+": 578, a: 1089, "a+": 1090 }[b];
            if ("undefined" == typeof d)
              throw Error(`Unknown file open mode: ${b}`);
            b = d;
          }
          c = b & 64 ? c & 4095 | 32768 : 0;
          if ("object" == typeof a)
            d = a;
          else {
            var e = a.endsWith("/");
            a = S(a, { $a: !(b & 131072), Jb: true });
            d = a.node;
            a = a.path;
          }
          var h = false;
          if (b & 64)
            if (d) {
              if (b & 128)
                throw new N(20);
            } else {
              if (e)
                throw new N(31);
              d = Xb(a, c | 511, 0);
              h = true;
            }
          if (!d)
            throw new N(44);
          8192 === (d.mode & 61440) && (b &= -513);
          if (b & 65536 && !P(d.mode))
            throw new N(54);
          if (!h && (e = d ? 40960 === (d.mode & 61440) ? 32 : P(d.mode) && ("r" !== Pb(b) || b & 576) ? 31 : Ob(d, Pb(b)) : 44))
            throw new N(e);
          b & 512 && !h && (e = d, e = "string" == typeof e ? S(e, { $a: true }).node : e, cc(null, e, 0));
          b &= -131713;
          e = Tb({ node: d, path: ja(d), flags: b, seekable: true, position: 0, Ma: d.Ma, Lb: [], error: false });
          e.Ma.open && e.Ma.open(e);
          h && na(d, c & 511);
          !f.logReadFiles || b & 1 || a in Kb || (Kb[a] = 1);
          return e;
        }
        function qa(a) {
          if (null === a.fd)
            throw new N(8);
          a.ob && (a.ob = null);
          try {
            a.Ma.close && a.Ma.close(a);
          } catch (b) {
            throw b;
          } finally {
            Gb[a.fd] = null;
          }
          a.fd = null;
        }
        function mc(a, b, c) {
          if (null === a.fd)
            throw new N(8);
          if (!a.seekable || !a.Ma.Va)
            throw new N(70);
          if (0 != c && 1 != c && 2 != c)
            throw new N(28);
          a.position = a.Ma.Va(a, b, c);
          a.Lb = [];
        }
        function Ec(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (1 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.read)
            throw new N(28);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.read(a, b, c, d, e);
          h || (a.position += b);
          return b;
        }
        function pa(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (0 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.write)
            throw new N(28);
          a.seekable && a.flags & 1024 && mc(a, 0, 2);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.write(a, b, c, d, e, void 0);
          h || (a.position += b);
          return b;
        }
        function ya(a) {
          var b = "binary";
          if ("utf8" !== b && "binary" !== b)
            throw Error(`Invalid encoding type "${b}"`);
          var c;
          var d = oa(a, d || 0);
          a = ac(a).size;
          var e = new Uint8Array(a);
          Ec(d, e, 0, a, 0);
          "utf8" === b ? c = B(e) : "binary" === b && (c = e);
          qa(d);
          return c;
        }
        function V(a, b, c) {
          var _a;
          a = ka("/dev/" + a);
          var d = la(!!b, !!c);
          (_a = V.yb) != null ? _a : V.yb = 64;
          var e = V.yb++ << 8 | 0;
          wb(e, { open(h) {
            h.seekable = false;
          }, close() {
            var _a2;
            ((_a2 = c == null ? void 0 : c.buffer) == null ? void 0 : _a2.length) && c(10);
          }, read(h, k, q, w) {
            for (var v = 0, C = 0; C < w; C++) {
              try {
                var G = b();
              } catch (pb) {
                throw new N(29);
              }
              if (void 0 === G && 0 === v)
                throw new N(6);
              if (null === G || void 0 === G)
                break;
              v++;
              k[q + C] = G;
            }
            v && (h.node.atime = Date.now());
            return v;
          }, write(h, k, q, w) {
            for (var v = 0; v < w; v++)
              try {
                c(k[q + v]);
              } catch (C) {
                throw new N(29);
              }
            w && (h.node.mtime = h.node.ctime = Date.now());
            return v;
          } });
          Yb(a, d, e);
        }
        var W = {};
        function Gc(a, b, c) {
          if ("/" === b.charAt(0))
            return b;
          a = -100 === a ? "/" : T(a).path;
          if (0 == b.length) {
            if (!c)
              throw new N(44);
            return a;
          }
          return a + "/" + b;
        }
        function Hc(a, b) {
          E[a >> 2] = b.dev;
          E[a + 4 >> 2] = b.mode;
          F[a + 8 >> 2] = b.nlink;
          E[a + 12 >> 2] = b.uid;
          E[a + 16 >> 2] = b.gid;
          E[a + 20 >> 2] = b.rdev;
          H[a + 24 >> 3] = BigInt(b.size);
          E[a + 32 >> 2] = 4096;
          E[a + 36 >> 2] = b.blocks;
          var c = b.atime.getTime(), d = b.mtime.getTime(), e = b.ctime.getTime();
          H[a + 40 >> 3] = BigInt(Math.floor(c / 1e3));
          F[a + 48 >> 2] = c % 1e3 * 1e6;
          H[a + 56 >> 3] = BigInt(Math.floor(d / 1e3));
          F[a + 64 >> 2] = d % 1e3 * 1e6;
          H[a + 72 >> 3] = BigInt(Math.floor(e / 1e3));
          F[a + 80 >> 2] = e % 1e3 * 1e6;
          H[a + 88 >> 3] = BigInt(b.ino);
          return 0;
        }
        var Ic = void 0, Jc = () => {
          var a = E[+Ic >> 2];
          Ic += 4;
          return a;
        }, Kc = 0, Lc = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335], Mc = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], Nc = {}, Oc = (a) => {
          var _a;
          Ma = a;
          cb || 0 < Kc || ((_a = f.onExit) == null ? void 0 : _a.call(f, a), La = true);
          Da(a, new Ya(a));
        }, Pc = (a) => {
          if (!La)
            try {
              if (a(), !(cb || 0 < Kc))
                try {
                  Ma = a = Ma, Oc(a);
                } catch (b) {
                  b instanceof Ya || "unwind" == b || Da(1, b);
                }
            } catch (b) {
              b instanceof Ya || "unwind" == b || Da(1, b);
            }
        }, Qc = {}, Sc = () => {
          if (!Rc) {
            var a = { USER: "web_user", LOGNAME: "web_user", PATH: "/", PWD: "/", HOME: "/home/web_user", LANG: ("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _: Ca || "./this.program" }, b;
            for (b in Qc)
              void 0 === Qc[b] ? delete a[b] : a[b] = Qc[b];
            var c = [];
            for (b in a)
              c.push(`${b}=${a[b]}`);
            Rc = c;
          }
          return Rc;
        }, Rc, xa = (a) => {
          var b = ha(a) + 1, c = z(b);
          u(a, x, c, b);
          return c;
        }, Tc = (a, b, c, d) => {
          var e = { string: (v) => {
            var C = 0;
            null !== v && void 0 !== v && 0 !== v && (C = xa(v));
            return C;
          }, array: (v) => {
            var C = z(v.length);
            p.set(v, C);
            return C;
          } };
          a = f["_" + a];
          var h = [], k = 0;
          if (d)
            for (var q = 0; q < d.length; q++) {
              var w = e[c[q]];
              w ? (0 === k && (k = sa()), h[q] = w(d[q])) : h[q] = d[q];
            }
          c = a(...h);
          return c = function(v) {
            0 !== k && wa(k);
            return "string" === b ? v ? B(x, v) : "" : "boolean" === b ? !!v : v;
          }(c);
        }, ea = 0, da = (a, b) => {
          b = 1 == b ? z(a.length) : ia(a.length);
          a.subarray || a.slice || (a = new Uint8Array(a));
          x.set(a, b);
          return b;
        }, Uc, Vc = [], Y, A = (a) => {
          Uc.delete(Y.get(a));
          Y.set(a, null);
          Vc.push(a);
        }, Aa = (a, b) => {
          if (!Uc) {
            Uc = /* @__PURE__ */ new WeakMap();
            var c = Y.length;
            if (Uc)
              for (var d = 0; d < 0 + c; d++) {
                var e = Y.get(d);
                e && Uc.set(e, d);
              }
          }
          if (c = Uc.get(a) || 0)
            return c;
          if (Vc.length)
            c = Vc.pop();
          else {
            try {
              Y.grow(1);
            } catch (w) {
              if (!(w instanceof RangeError))
                throw w;
              throw "Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";
            }
            c = Y.length - 1;
          }
          try {
            Y.set(c, a);
          } catch (w) {
            if (!(w instanceof TypeError))
              throw w;
            if ("function" == typeof WebAssembly.Function) {
              var h = WebAssembly.Function;
              d = { i: "i32", j: "i64", f: "f32", d: "f64", e: "externref", p: "i32" };
              e = { parameters: [], results: "v" == b[0] ? [] : [d[b[0]]] };
              for (var k = 1; k < b.length; ++k)
                e.parameters.push(d[b[k]]);
              b = new h(e, a);
            } else {
              d = [1];
              e = b.slice(0, 1);
              b = b.slice(1);
              k = { i: 127, p: 127, j: 126, f: 125, d: 124, e: 111 };
              d.push(96);
              var q = b.length;
              128 > q ? d.push(q) : d.push(q % 128 | 128, q >> 7);
              for (h of b)
                d.push(k[h]);
              "v" == e ? d.push(0) : d.push(1, k[e]);
              b = [0, 97, 115, 109, 1, 0, 0, 0, 1];
              h = d.length;
              128 > h ? b.push(h) : b.push(h % 128 | 128, h >> 7);
              b.push(...d);
              b.push(2, 7, 1, 1, 101, 1, 102, 0, 0, 7, 5, 1, 1, 102, 0, 0);
              b = new WebAssembly.Module(new Uint8Array(b));
              b = new WebAssembly.Instance(b, { e: { f: a } }).exports.f;
            }
            Y.set(c, b);
          }
          Uc.set(a, c);
          return c;
        };
        R = Array(4096);
        Wb(O, "/");
        U("/tmp");
        U("/home");
        U("/home/web_user");
        (function() {
          U("/dev");
          wb(259, { read: () => 0, write: (d, e, h, k) => k, Va: () => 0 });
          Yb("/dev/null", 259);
          nb(1280, yb);
          nb(1536, zb);
          Yb("/dev/tty", 1280);
          Yb("/dev/tty1", 1536);
          var a = new Uint8Array(1024), b = 0, c = () => {
            0 === b && (ib(a), b = a.byteLength);
            return a[--b];
          };
          V("random", c);
          V("urandom", c);
          U("/dev/shm");
          U("/dev/shm/tmp");
        })();
        (function() {
          U("/proc");
          var a = U("/proc/self");
          U("/proc/self/fd");
          Wb({ Xa() {
            var b = Bb(a, "fd", 16895, 73);
            b.Ma = { Va: O.Ma.Va };
            b.La = { lookup(c, d) {
              c = +d;
              var e = T(c);
              c = { parent: null, Xa: { zb: "fake" }, La: { readlink: () => e.path }, id: c + 1 };
              return c.parent = c;
            }, readdir() {
              return Array.from(Gb.entries()).filter(([, c]) => c).map(([c]) => c.toString());
            } };
            return b;
          } }, "/proc/self/fd");
        })();
        O.vb = new N(44);
        O.vb.stack = "<generic error, no stack>";
        var Xc = { a: (a, b, c, d) => Ta(`Assertion failed: ${a ? B(x, a) : ""}, at: ` + [b ? b ? B(x, b) : "" : "unknown filename", c, d ? d ? B(x, d) : "" : "unknown function"]), i: function(a, b) {
          try {
            return a = a ? B(x, a) : "", na(a, b), 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, L: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (c & -8)
              return -28;
            var d = S(b, { $a: true }).node;
            if (!d)
              return -44;
            a = "";
            c & 4 && (a += "r");
            c & 2 && (a += "w");
            c & 1 && (a += "x");
            return a && Ob(d, a) ? -2 : 0;
          } catch (e) {
            if ("undefined" == typeof W || "ErrnoError" !== e.name)
              throw e;
            return -e.Pa;
          }
        }, j: function(a, b) {
          try {
            var c = T(a);
            bc(c, c.node, b, false);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, h: function(a) {
          try {
            var b = T(a);
            Vb(b, b.node, { timestamp: Date.now(), Fb: false });
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, b: function(a, b, c) {
          Ic = c;
          try {
            var d = T(a);
            switch (b) {
              case 0:
                var e = Jc();
                if (0 > e)
                  break;
                for (; Gb[e]; )
                  e++;
                return Ub(d, e).fd;
              case 1:
              case 2:
                return 0;
              case 3:
                return d.flags;
              case 4:
                return e = Jc(), d.flags |= e, 0;
              case 12:
                return e = Jc(), Na[e + 0 >> 1] = 2, 0;
              case 13:
              case 14:
                return 0;
            }
            return -28;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, g: function(a, b) {
          try {
            var c = T(a), d = c.node, e = c.Ma.Ta;
            a = e ? c : d;
            e != null ? e : e = d.La.Ta;
            Sb(e);
            var h = e(a);
            return Hc(b, h);
          } catch (k) {
            if ("undefined" == typeof W || "ErrnoError" !== k.name)
              throw k;
            return -k.Pa;
          }
        }, H: function(a, b) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var c = T(a);
            if (0 > b || 0 === (c.flags & 2097155))
              throw new N(28);
            cc(c, c.node, b);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, G: function(a, b) {
          try {
            if (0 === b)
              return -28;
            var c = ha("/") + 1;
            if (b < c)
              return -68;
            u("/", x, a, b);
            return c;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, K: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a, true));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, C: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), U(b, c), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, J: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            var e = d & 256;
            b = Gc(a, b, d & 4096);
            return Hc(c, e ? ac(b, true) : ac(b));
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, x: function(a, b, c, d) {
          Ic = d;
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            var e = d ? Jc() : 0;
            return oa(b, c, e).fd;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, v: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (0 >= d)
              return -28;
            var e = S(b).node;
            if (!e)
              throw new N(44);
            if (!e.La.readlink)
              throw new N(28);
            var h = e.La.readlink(e);
            var k = Math.min(d, ha(h)), q = p[c + k];
            u(h, x, c, d + 1);
            p[c + k] = q;
            return k;
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, u: function(a) {
          try {
            return a = a ? B(x, a) : "", $b(a), 0;
          } catch (b) {
            if ("undefined" == typeof W || "ErrnoError" !== b.name)
              throw b;
            return -b.Pa;
          }
        }, f: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, r: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), 0 === c ? za(b) : 512 === c ? $b(b) : Ta("Invalid flags passed to unlinkat"), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, q: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b, true);
            var d = Date.now(), e, h;
            if (c) {
              var k = F[c >> 2] + 4294967296 * E[c + 4 >> 2], q = E[c + 8 >> 2];
              1073741823 == q ? e = d : 1073741822 == q ? e = null : e = 1e3 * k + q / 1e6;
              c += 16;
              k = F[c >> 2] + 4294967296 * E[c + 4 >> 2];
              q = E[c + 8 >> 2];
              1073741823 == q ? h = d : 1073741822 == q ? h = null : h = 1e3 * k + q / 1e6;
            } else
              h = e = d;
            if (null !== (h != null ? h : e)) {
              a = e;
              var w = S(b, { $a: true }).node;
              Sb(w.La.Ua)(w, { atime: a, mtime: h });
            }
            return 0;
          } catch (v) {
            if ("undefined" == typeof W || "ErrnoError" !== v.name)
              throw v;
            return -v.Pa;
          }
        }, m: () => Ta(""), l: () => {
          cb = false;
          Kc = 0;
        }, A: function(a, b) {
          a = -9007199254740992 > a || 9007199254740992 < a ? NaN : Number(a);
          a = new Date(1e3 * a);
          E[b >> 2] = a.getSeconds();
          E[b + 4 >> 2] = a.getMinutes();
          E[b + 8 >> 2] = a.getHours();
          E[b + 12 >> 2] = a.getDate();
          E[b + 16 >> 2] = a.getMonth();
          E[b + 20 >> 2] = a.getFullYear() - 1900;
          E[b + 24 >> 2] = a.getDay();
          var c = a.getFullYear();
          E[b + 28 >> 2] = (0 !== c % 4 || 0 === c % 100 && 0 !== c % 400 ? Mc : Lc)[a.getMonth()] + a.getDate() - 1 | 0;
          E[b + 36 >> 2] = -(60 * a.getTimezoneOffset());
          c = new Date(
            a.getFullYear(),
            6,
            1
          ).getTimezoneOffset();
          var d = new Date(a.getFullYear(), 0, 1).getTimezoneOffset();
          E[b + 32 >> 2] = (c != d && a.getTimezoneOffset() == Math.min(d, c)) | 0;
        }, y: function(a, b, c, d, e, h, k) {
          e = -9007199254740992 > e || 9007199254740992 < e ? NaN : Number(e);
          try {
            if (isNaN(e))
              return 61;
            var q = T(d);
            if (0 !== (b & 2) && 0 === (c & 2) && 2 !== (q.flags & 2097155))
              throw new N(2);
            if (1 === (q.flags & 2097155))
              throw new N(2);
            if (!q.Ma.ib)
              throw new N(43);
            if (!a)
              throw new N(28);
            var w = q.Ma.ib(q, a, e, b, c);
            var v = w.Kb;
            E[h >> 2] = w.Ab;
            F[k >> 2] = v;
            return 0;
          } catch (C) {
            if ("undefined" == typeof W || "ErrnoError" !== C.name)
              throw C;
            return -C.Pa;
          }
        }, z: function(a, b, c, d, e, h) {
          h = -9007199254740992 > h || 9007199254740992 < h ? NaN : Number(h);
          try {
            var k = T(e);
            if (c & 2) {
              c = h;
              if (32768 !== (k.node.mode & 61440))
                throw new N(43);
              if (!(d & 2)) {
                var q = x.slice(a, a + b);
                k.Ma.jb && k.Ma.jb(k, q, c, b, d);
              }
            }
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, n: (a, b) => {
          Nc[a] && (clearTimeout(Nc[a].id), delete Nc[a]);
          if (!b)
            return 0;
          var c = setTimeout(() => {
            delete Nc[a];
            Pc(() => Wc(a, performance.now()));
          }, b);
          Nc[a] = {
            id: c,
            Xb: b
          };
          return 0;
        }, B: (a, b, c, d) => {
          var e = (/* @__PURE__ */ new Date()).getFullYear(), h = new Date(e, 0, 1).getTimezoneOffset();
          e = new Date(e, 6, 1).getTimezoneOffset();
          F[a >> 2] = 60 * Math.max(h, e);
          E[b >> 2] = Number(h != e);
          b = (k) => {
            var q = Math.abs(k);
            return `UTC${0 <= k ? "-" : "+"}${String(Math.floor(q / 60)).padStart(2, "0")}${String(q % 60).padStart(2, "0")}`;
          };
          a = b(h);
          b = b(e);
          e < h ? (u(a, x, c, 17), u(b, x, d, 17)) : (u(a, x, d, 17), u(b, x, c, 17));
        }, d: () => Date.now(), s: () => 2147483648, c: () => performance.now(), o: (a) => {
          var b = x.length;
          a >>>= 0;
          if (2147483648 < a)
            return false;
          for (var c = 1; 4 >= c; c *= 2) {
            var d = b * (1 + 0.2 / c);
            d = Math.min(d, a + 100663296);
            a: {
              d = (Math.min(2147483648, 65536 * Math.ceil(Math.max(a, d) / 65536)) - Ka.buffer.byteLength + 65535) / 65536 | 0;
              try {
                Ka.grow(d);
                Qa();
                var e = 1;
                break a;
              } catch (h) {
              }
              e = void 0;
            }
            if (e)
              return true;
          }
          return false;
        }, E: (a, b) => {
          var c = 0;
          Sc().forEach((d, e) => {
            var h = b + c;
            e = F[a + 4 * e >> 2] = h;
            for (h = 0; h < d.length; ++h)
              p[e++] = d.charCodeAt(h);
            p[e] = 0;
            c += d.length + 1;
          });
          return 0;
        }, F: (a, b) => {
          var c = Sc();
          F[a >> 2] = c.length;
          var d = 0;
          c.forEach((e) => d += e.length + 1);
          F[b >> 2] = d;
          return 0;
        }, e: function(a) {
          try {
            var b = T(a);
            qa(b);
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, p: function(a, b) {
          try {
            var c = T(a);
            p[b] = c.tty ? 2 : P(c.mode) ? 3 : 40960 === (c.mode & 61440) ? 7 : 4;
            Na[b + 2 >> 1] = 0;
            H[b + 8 >> 3] = BigInt(0);
            H[b + 16 >> 3] = BigInt(0);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return d.Pa;
          }
        }, w: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = Ec(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, D: function(a, b, c, d) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var e = T(a);
            mc(e, b, c);
            H[d >> 3] = BigInt(e.position);
            e.ob && 0 === b && 0 === c && (e.ob = null);
            return 0;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return h.Pa;
          }
        }, I: function(a) {
          var _a;
          try {
            var b = T(a);
            return ((_a = b.Ma) == null ? void 0 : _a.fsync) ? b.Ma.fsync(b) : 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, t: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = pa(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, k: Oc }, Z;
        (async function() {
          var _a;
          function a(c) {
            var _a2;
            Z = c.exports;
            Ka = Z.M;
            Qa();
            Y = Z.O;
            K--;
            (_a2 = f.monitorRunDependencies) == null ? void 0 : _a2.call(f, K);
            0 == K && Sa && (c = Sa, Sa = null, c());
            return Z;
          }
          K++;
          (_a = f.monitorRunDependencies) == null ? void 0 : _a.call(f, K);
          var b = { a: Xc };
          if (f.instantiateWasm)
            return new Promise((c) => {
              f.instantiateWasm(b, (d, e) => {
                a(d, e);
                c(d.exports);
              });
            });
          Ua != null ? Ua : Ua = f.locateFile ? f.locateFile("sql-wasm.wasm", D) : D + "sql-wasm.wasm";
          return a((await Xa(b)).instance);
        })();
        f._sqlite3_free = (a) => (f._sqlite3_free = Z.P)(a);
        f._sqlite3_value_text = (a) => (f._sqlite3_value_text = Z.Q)(a);
        f._sqlite3_prepare_v2 = (a, b, c, d, e) => (f._sqlite3_prepare_v2 = Z.R)(a, b, c, d, e);
        f._sqlite3_step = (a) => (f._sqlite3_step = Z.S)(a);
        f._sqlite3_reset = (a) => (f._sqlite3_reset = Z.T)(a);
        f._sqlite3_exec = (a, b, c, d, e) => (f._sqlite3_exec = Z.U)(a, b, c, d, e);
        f._sqlite3_finalize = (a) => (f._sqlite3_finalize = Z.V)(a);
        f._sqlite3_column_name = (a, b) => (f._sqlite3_column_name = Z.W)(a, b);
        f._sqlite3_column_text = (a, b) => (f._sqlite3_column_text = Z.X)(a, b);
        f._sqlite3_column_type = (a, b) => (f._sqlite3_column_type = Z.Y)(a, b);
        f._sqlite3_errmsg = (a) => (f._sqlite3_errmsg = Z.Z)(a);
        f._sqlite3_clear_bindings = (a) => (f._sqlite3_clear_bindings = Z._)(a);
        f._sqlite3_value_blob = (a) => (f._sqlite3_value_blob = Z.$)(a);
        f._sqlite3_value_bytes = (a) => (f._sqlite3_value_bytes = Z.aa)(a);
        f._sqlite3_value_double = (a) => (f._sqlite3_value_double = Z.ba)(a);
        f._sqlite3_value_int = (a) => (f._sqlite3_value_int = Z.ca)(a);
        f._sqlite3_value_type = (a) => (f._sqlite3_value_type = Z.da)(a);
        f._sqlite3_result_blob = (a, b, c, d) => (f._sqlite3_result_blob = Z.ea)(a, b, c, d);
        f._sqlite3_result_double = (a, b) => (f._sqlite3_result_double = Z.fa)(a, b);
        f._sqlite3_result_error = (a, b, c) => (f._sqlite3_result_error = Z.ga)(a, b, c);
        f._sqlite3_result_int = (a, b) => (f._sqlite3_result_int = Z.ha)(a, b);
        f._sqlite3_result_int64 = (a, b) => (f._sqlite3_result_int64 = Z.ia)(a, b);
        f._sqlite3_result_null = (a) => (f._sqlite3_result_null = Z.ja)(a);
        f._sqlite3_result_text = (a, b, c, d) => (f._sqlite3_result_text = Z.ka)(a, b, c, d);
        f._sqlite3_aggregate_context = (a, b) => (f._sqlite3_aggregate_context = Z.la)(a, b);
        f._sqlite3_column_count = (a) => (f._sqlite3_column_count = Z.ma)(a);
        f._sqlite3_data_count = (a) => (f._sqlite3_data_count = Z.na)(a);
        f._sqlite3_column_blob = (a, b) => (f._sqlite3_column_blob = Z.oa)(a, b);
        f._sqlite3_column_bytes = (a, b) => (f._sqlite3_column_bytes = Z.pa)(a, b);
        f._sqlite3_column_double = (a, b) => (f._sqlite3_column_double = Z.qa)(a, b);
        f._sqlite3_bind_blob = (a, b, c, d, e) => (f._sqlite3_bind_blob = Z.ra)(a, b, c, d, e);
        f._sqlite3_bind_double = (a, b, c) => (f._sqlite3_bind_double = Z.sa)(a, b, c);
        f._sqlite3_bind_int = (a, b, c) => (f._sqlite3_bind_int = Z.ta)(a, b, c);
        f._sqlite3_bind_text = (a, b, c, d, e) => (f._sqlite3_bind_text = Z.ua)(a, b, c, d, e);
        f._sqlite3_bind_parameter_index = (a, b) => (f._sqlite3_bind_parameter_index = Z.va)(a, b);
        f._sqlite3_sql = (a) => (f._sqlite3_sql = Z.wa)(a);
        f._sqlite3_normalized_sql = (a) => (f._sqlite3_normalized_sql = Z.xa)(a);
        f._sqlite3_changes = (a) => (f._sqlite3_changes = Z.ya)(a);
        f._sqlite3_close_v2 = (a) => (f._sqlite3_close_v2 = Z.za)(a);
        f._sqlite3_create_function_v2 = (a, b, c, d, e, h, k, q, w) => (f._sqlite3_create_function_v2 = Z.Aa)(a, b, c, d, e, h, k, q, w);
        f._sqlite3_update_hook = (a, b, c) => (f._sqlite3_update_hook = Z.Ba)(a, b, c);
        f._sqlite3_open = (a, b) => (f._sqlite3_open = Z.Ca)(a, b);
        var ia = f._malloc = (a) => (ia = f._malloc = Z.Da)(a), fa = f._free = (a) => (fa = f._free = Z.Ea)(a);
        f._RegisterExtensionFunctions = (a) => (f._RegisterExtensionFunctions = Z.Fa)(a);
        var Db = (a, b) => (Db = Z.Ga)(a, b), Wc = (a, b) => (Wc = Z.Ha)(a, b), wa = (a) => (wa = Z.Ia)(a), z = (a) => (z = Z.Ja)(a), sa = () => (sa = Z.Ka)();
        f.stackSave = () => sa();
        f.stackRestore = (a) => wa(a);
        f.stackAlloc = (a) => z(a);
        f.cwrap = (a, b, c, d) => {
          var e = !c || c.every((h) => "number" === h || "boolean" === h);
          return "string" !== b && e && !d ? f["_" + a] : (...h) => Tc(a, b, c, h);
        };
        f.addFunction = Aa;
        f.removeFunction = A;
        f.UTF8ToString = ua;
        f.ALLOC_NORMAL = ea;
        f.allocate = da;
        f.allocateUTF8OnStack = xa;
        function Yc() {
          function a() {
            var _a;
            f.calledRun = true;
            if (!La) {
              if (!f.noFSInit && !Ib) {
                var b, c;
                Ib = true;
                d != null ? d : d = f.stdin;
                b != null ? b : b = f.stdout;
                c != null ? c : c = f.stderr;
                d ? V("stdin", d) : Zb("/dev/tty", "/dev/stdin");
                b ? V("stdout", null, b) : Zb("/dev/tty", "/dev/stdout");
                c ? V("stderr", null, c) : Zb("/dev/tty1", "/dev/stderr");
                oa("/dev/stdin", 0);
                oa("/dev/stdout", 1);
                oa("/dev/stderr", 1);
              }
              Z.N();
              Jb = false;
              (_a = f.onRuntimeInitialized) == null ? void 0 : _a.call(f);
              if (f.postRun)
                for ("function" == typeof f.postRun && (f.postRun = [f.postRun]); f.postRun.length; ) {
                  var d = f.postRun.shift();
                  $a.unshift(d);
                }
              Za($a);
            }
          }
          if (0 < K)
            Sa = Yc;
          else {
            if (f.preRun)
              for ("function" == typeof f.preRun && (f.preRun = [f.preRun]); f.preRun.length; )
                bb();
            Za(ab);
            0 < K ? Sa = Yc : f.setStatus ? (f.setStatus("Running..."), setTimeout(() => {
              setTimeout(() => f.setStatus(""), 1);
              a();
            }, 1)) : a();
          }
        }
        if (f.preInit)
          for ("function" == typeof f.preInit && (f.preInit = [f.preInit]); 0 < f.preInit.length; )
            f.preInit.pop()();
        Yc();
        return Module;
      });
      return initSqlJsPromise;
    };
    if (typeof exports === "object" && typeof module2 === "object") {
      module2.exports = initSqlJs2;
      module2.exports.default = initSqlJs2;
    } else if (typeof define === "function" && define["amd"]) {
      define([], function() {
        return initSqlJs2;
      });
    } else if (typeof exports === "object") {
      exports["Module"] = initSqlJs2;
    }
  }
});

// src/settings.ts
var settings_exports = {};
__export(settings_exports, {
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS
});
var DEFAULT_SETTINGS;
var init_settings = __esm({
  "src/settings.ts"() {
    DEFAULT_SETTINGS = {
      fsrs: {
        requestRetention: 0.9,
        maximumInterval: 36500,
        // 100 years
        easyBonus: 1.3,
        hardInterval: 1.2,
        weights: [
          0.4072,
          1.1829,
          3.1262,
          15.4722,
          7.2102,
          0.5316,
          1.0651,
          0.0234,
          1.616,
          0.1544,
          1.0824,
          1.9813,
          0.0953,
          0.2975,
          2.2042,
          0.2407,
          2.9466
        ]
      },
      review: {
        showProgress: true,
        enableKeyboardShortcuts: true
      },
      parsing: {
        headerLevel: 2
        // Default to H2 headers
      },
      ui: {
        enableBackgroundRefresh: true,
        backgroundRefreshInterval: 5
      },
      debug: {
        enableLogging: false,
        performanceLogs: false
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DecksPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// src/database/DatabaseService.ts
var import_sql = __toESM(require_sql_wasm());

// src/database/types.ts
var DEFAULT_DECK_CONFIG = {
  newCardsLimit: 20,
  reviewCardsLimit: 100,
  enableNewCardsLimit: false,
  enableReviewCardsLimit: false,
  reviewOrder: "due-date"
};

// src/database/DatabaseService.ts
var DatabaseService = class {
  constructor(dbPath, adapter, debugLog) {
    this.db = null;
    this.SQL = null;
    this.dbPath = dbPath;
    this.adapter = adapter;
    this.debugLog = debugLog;
  }
  async initialize() {
    try {
      this.SQL = await (0, import_sql.default)({
        locateFile: (file6) => `https://sql.js.org/dist/${file6}`
      });
      const buffer = await this.loadDatabaseFile();
      if (buffer) {
        this.db = new this.SQL.Database(new Uint8Array(buffer));
        await this.migrateSchemaIfNeeded();
      } else {
        this.db = new this.SQL.Database();
        await this.createTables();
      }
    } catch (error) {
      console.error("Failed to initialize database:", error);
      throw error;
    }
  }
  async loadDatabaseFile() {
    try {
      if (await this.adapter.exists(this.dbPath)) {
        const data = await this.adapter.readBinary(this.dbPath);
        return data;
      }
      return null;
    } catch (error) {
      this.debugLog("Database file doesn't exist yet, will create new one");
      return null;
    }
  }
  async save() {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const data = this.db.export();
      const dir = this.dbPath.substring(0, this.dbPath.lastIndexOf("/"));
      if (!await this.adapter.exists(dir)) {
        await this.adapter.mkdir(dir);
      }
      await this.adapter.writeBinary(this.dbPath, Buffer.from(data));
    } catch (error) {
      console.error("Failed to save database:", error);
      throw error;
    }
  }
  async createTables() {
    if (!this.db)
      throw new Error("Database not initialized");
    const sql = `
      -- Decks table
      CREATE TABLE IF NOT EXISTS decks (
        id TEXT PRIMARY KEY,
        name TEXT NOT NULL,
        filepath TEXT NOT NULL UNIQUE,
        tag TEXT NOT NULL,
        last_reviewed TEXT,
        config TEXT NOT NULL DEFAULT '{"newCardsLimit":20,"reviewCardsLimit":100,"enableNewCardsLimit":false,"enableReviewCardsLimit":false,"reviewOrder":"due-date"}',
        created TEXT NOT NULL,
        modified TEXT NOT NULL
      );

      -- Flashcards table
      CREATE TABLE IF NOT EXISTS flashcards (
        id TEXT PRIMARY KEY,
        deck_id TEXT NOT NULL,
        front TEXT NOT NULL,
        back TEXT NOT NULL,
        type TEXT NOT NULL CHECK (type IN ('header-paragraph', 'table')),
        source_file TEXT NOT NULL,
        content_hash TEXT NOT NULL,
        header_level INTEGER CHECK (header_level >= 1 AND header_level <= 6),
        state TEXT NOT NULL DEFAULT 'new' CHECK (state IN ('new', 'learning', 'review')),
        due_date TEXT NOT NULL,
        interval INTEGER NOT NULL DEFAULT 0,
        repetitions INTEGER NOT NULL DEFAULT 0,
        ease_factor REAL NOT NULL DEFAULT 2.5,
        stability REAL NOT NULL DEFAULT 2.5,
        lapses INTEGER NOT NULL DEFAULT 0,
        last_reviewed TEXT,
        created TEXT NOT NULL,
        modified TEXT NOT NULL,
        FOREIGN KEY (deck_id) REFERENCES decks(id) ON DELETE CASCADE
      );

      -- Review logs table
      CREATE TABLE IF NOT EXISTS review_logs (
        id TEXT PRIMARY KEY,
        flashcard_id TEXT NOT NULL,
        reviewed_at TEXT NOT NULL,
        difficulty TEXT NOT NULL CHECK (difficulty IN ('again', 'hard', 'good', 'easy')),
        old_interval INTEGER NOT NULL,
        new_interval INTEGER NOT NULL,
        old_ease_factor REAL NOT NULL,
        new_ease_factor REAL NOT NULL,
        time_elapsed INTEGER NOT NULL DEFAULT 0,
        new_state TEXT NOT NULL DEFAULT 'new' CHECK (new_state IN ('new', 'learning', 'review')),
        new_repetitions INTEGER NOT NULL DEFAULT 0,
        new_lapses INTEGER NOT NULL DEFAULT 0,
        new_stability REAL NOT NULL DEFAULT 2.5,
        FOREIGN KEY (flashcard_id) REFERENCES flashcards(id)
      );

      -- Indexes for performance
      CREATE INDEX IF NOT EXISTS idx_flashcards_deck_id ON flashcards(deck_id);
      CREATE INDEX IF NOT EXISTS idx_flashcards_due_date ON flashcards(due_date);
      CREATE INDEX IF NOT EXISTS idx_review_logs_flashcard_id ON review_logs(flashcard_id);
      CREATE INDEX IF NOT EXISTS idx_review_logs_reviewed_at ON review_logs(reviewed_at);
    `;
    this.db.run(sql);
  }
  // Helper method to parse deck rows
  parseDeckRow(row) {
    return {
      id: row[0],
      name: row[1],
      filepath: row[2],
      tag: row[3],
      lastReviewed: row[4],
      config: row[5] ? JSON.parse(row[5]) : DEFAULT_DECK_CONFIG,
      created: row[6],
      modified: row[7]
    };
  }
  // Deck operations
  async createDeck(deck) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullDeck = {
      ...deck,
      created: now,
      modified: now
    };
    try {
      const stmt = this.db.prepare(`
        INSERT OR REPLACE INTO decks (
          id, name, filepath, tag, last_reviewed, config, created, modified
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
      `);
      stmt.run([
        fullDeck.id,
        fullDeck.name,
        fullDeck.filepath,
        fullDeck.tag,
        fullDeck.lastReviewed,
        JSON.stringify(fullDeck.config),
        fullDeck.created,
        fullDeck.modified
      ]);
      stmt.free();
      await this.save();
      return fullDeck;
    } catch (error) {
      throw error;
    }
  }
  async getDeckByTag(tag) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("SELECT * FROM decks WHERE tag = ?");
    stmt.bind([tag]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async getDeckByFilepath(filepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("SELECT * FROM decks WHERE filepath = ?");
    stmt.bind([filepath]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async getDeckById(id) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("SELECT * FROM decks WHERE id = ?");
    stmt.bind([id]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async updateDeck(deckId, updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    if (Object.keys(updates).length === 0) {
      return;
    }
    const updateFields = Object.keys(updates).map((key) => {
      const dbField = key === "lastReviewed" ? "last_reviewed" : key;
      return `${dbField} = ?`;
    }).join(", ");
    const stmt = this.db.prepare(`
      UPDATE decks
      SET ${updateFields}, modified = ?
      WHERE id = ?
    `);
    const values = Object.values(updates).map(
      (value, index) => {
        const key = Object.keys(updates)[index];
        return key === "config" ? JSON.stringify(value) : value;
      }
    );
    values.push(now, deckId);
    stmt.run(values);
    stmt.free();
    await this.save();
  }
  async updateDeckTimestamp(deckId, timestamp) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(`
      UPDATE decks
      SET modified = ?
      WHERE id = ?
    `);
    stmt.run([timestamp, deckId]);
    stmt.free();
    await this.save();
  }
  async getAllDecks() {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("SELECT * FROM decks ORDER BY name");
    const decks = [];
    while (stmt.step()) {
      const row = stmt.get();
      decks.push(this.parseDeckRow(row));
    }
    stmt.free();
    return decks;
  }
  async updateDeckLastReviewed(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(`
      UPDATE decks
      SET last_reviewed = ?, modified = ?
      WHERE id = ?
    `);
    stmt.run([(/* @__PURE__ */ new Date()).toISOString(), (/* @__PURE__ */ new Date()).toISOString(), deckId]);
    stmt.free();
    await this.save();
  }
  async renameDeck(oldDeckId, newDeckId, newName, newFilepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const stmt = this.db.prepare(`
      UPDATE decks
      SET id = ?, name = ?, filepath = ?, modified = ?
      WHERE id = ?
    `);
    stmt.run([newDeckId, newName, newFilepath, now, oldDeckId]);
    stmt.free();
    await this.save();
  }
  async deleteDeckByFilepath(filepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckByFilepath(filepath);
    if (!deck)
      return;
    const deckStmt = this.db.prepare("DELETE FROM decks WHERE filepath = ?");
    deckStmt.run([filepath]);
    deckStmt.free();
    await this.save();
  }
  async deleteDeck(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deckStmt = this.db.prepare("DELETE FROM decks WHERE id = ?");
    deckStmt.run([deckId]);
    deckStmt.free();
    await this.save();
  }
  // Flashcard operations
  async createFlashcard(flashcard) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullFlashcard = {
      ...flashcard,
      created: now,
      modified: now
    };
    const stmt = this.db.prepare(`
      INSERT OR REPLACE INTO flashcards (
        id, deck_id, front, back, type, source_file, content_hash, header_level,
        state, due_date, interval, repetitions, ease_factor, stability, lapses, last_reviewed, created, modified
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `);
    stmt.run([
      fullFlashcard.id,
      fullFlashcard.deckId,
      fullFlashcard.front,
      fullFlashcard.back,
      fullFlashcard.type,
      fullFlashcard.sourceFile,
      fullFlashcard.contentHash,
      fullFlashcard.headerLevel || null,
      fullFlashcard.state,
      fullFlashcard.dueDate,
      fullFlashcard.interval,
      fullFlashcard.repetitions,
      fullFlashcard.easeFactor,
      fullFlashcard.stability,
      fullFlashcard.lapses,
      fullFlashcard.lastReviewed,
      fullFlashcard.created,
      fullFlashcard.modified
    ]);
    stmt.free();
    await this.save();
    return fullFlashcard;
  }
  async updateFlashcard(flashcardId, updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const updateFields = Object.keys(updates).map((key) => {
      const dbField = key === "contentHash" ? "content_hash" : key === "sourceFile" ? "source_file" : key === "dueDate" ? "due_date" : key === "easeFactor" ? "ease_factor" : key === "lastReviewed" ? "last_reviewed" : key === "headerLevel" ? "header_level" : key.replace(/([A-Z])/g, "_$1").toLowerCase();
      return `${dbField} = ?`;
    }).join(", ");
    const stmt = this.db.prepare(`
      UPDATE flashcards
      SET ${updateFields}, modified = ?
      WHERE id = ?
    `);
    const values = Object.values(updates);
    values.push(now, flashcardId);
    stmt.run(values);
    stmt.free();
    await this.save();
  }
  async deleteFlashcard(flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("DELETE FROM flashcards WHERE id = ?");
    stmt.run([flashcardId]);
    stmt.free();
    await this.save();
  }
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(
      "UPDATE flashcards SET deck_id = ? WHERE deck_id = ?"
    );
    stmt.run([newDeckId, oldDeckId]);
    stmt.free();
    await this.save();
  }
  async getFlashcardsByDeck(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare("SELECT * FROM flashcards WHERE deck_id = ?");
    stmt.bind([deckId]);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getFlashcardsByDeckFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    let query = "SELECT * FROM flashcards WHERE deck_id = ?";
    const params = [deckId];
    if (headerLevel !== void 0) {
      query += " AND (type = 'table' OR header_level = ?)";
      params.push(headerLevel.toString());
    }
    const stmt = this.db.prepare(query);
    stmt.bind(params);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDueFlashcards(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(`
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ?
      ORDER BY due_date
    `);
    const now = (/* @__PURE__ */ new Date()).toISOString();
    stmt.bind([deckId, now]);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDueFlashcardsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    let query = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ?
    `;
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const params = [deckId, now];
    if (headerLevel !== void 0) {
      query += " AND (type = 'table' OR header_level = ?)";
      params.push(headerLevel.toString());
    }
    query += " ORDER BY due_date";
    const stmt = this.db.prepare(query);
    stmt.bind(params);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDailyReviewCounts(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayStart = `${today}T00:00:00.000Z`;
    const todayEnd = `${today}T23:59:59.999Z`;
    const newCardsStmt = this.db.prepare(`
      SELECT COUNT(*) as count FROM review_logs rl
      JOIN flashcards f ON rl.flashcard_id = f.id
      WHERE f.deck_id = ?
        AND rl.reviewed_at >= ?
        AND rl.reviewed_at <= ?
        AND (rl.old_interval = 0 OR f.repetitions = 1)
    `);
    newCardsStmt.bind([deckId, todayStart, todayEnd]);
    const newResult = newCardsStmt.step() ? newCardsStmt.get() : [0];
    const newCount = Number(newResult[0]) || 0;
    newCardsStmt.free();
    const reviewCardsStmt = this.db.prepare(`
      SELECT COUNT(*) as count FROM review_logs rl
      JOIN flashcards f ON rl.flashcard_id = f.id
      WHERE f.deck_id = ?
        AND rl.reviewed_at >= ?
        AND rl.reviewed_at <= ?
        AND rl.old_interval > 0
    `);
    reviewCardsStmt.bind([deckId, todayStart, todayEnd]);
    const reviewResult = reviewCardsStmt.step() ? reviewCardsStmt.get() : [0];
    const reviewCount = Number(reviewResult[0]) || 0;
    reviewCardsStmt.free();
    return { newCount, reviewCount };
  }
  async getReviewableFlashcards(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const flashcards = [];
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const learningStmt = this.db.prepare(`
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ? AND state = 'learning'
      ORDER BY due_date
    `);
    learningStmt.bind([deckId, now]);
    while (learningStmt.step()) {
      const row = learningStmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    learningStmt.free();
    const newCardsLimit = Number(config.newCardsLimit) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    const remainingNewCards = config.enableNewCardsLimit && newCardsLimit > 0 ? Math.max(0, newCardsLimit - newCountToday) : config.enableNewCardsLimit && newCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingNewCards > 0) {
      const newCardsStmt = this.db.prepare(`
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'new'
        ORDER BY due_date
        ${config.enableNewCardsLimit ? `LIMIT ${remainingNewCards}` : ""}
      `);
      newCardsStmt.bind([deckId, now]);
      while (newCardsStmt.step()) {
        const row = newCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      newCardsStmt.free();
    }
    const reviewCardsLimit = Number(config.reviewCardsLimit) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    const remainingReviewCards = config.enableReviewCardsLimit && reviewCardsLimit > 0 ? Math.max(0, reviewCardsLimit - reviewCountToday) : config.enableReviewCardsLimit && reviewCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingReviewCards > 0) {
      const reviewCardsStmt = this.db.prepare(`
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'review'
        ORDER BY due_date
        ${config.enableReviewCardsLimit ? `LIMIT ${remainingReviewCards}` : ""}
      `);
      reviewCardsStmt.bind([deckId, now]);
      while (reviewCardsStmt.step()) {
        const row = reviewCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      reviewCardsStmt.free();
    }
    flashcards.sort((a, b) => {
      const stateOrder = { learning: 1, review: 2, new: 3 };
      const aOrder = stateOrder[a.state];
      const bOrder = stateOrder[b.state];
      if (aOrder !== bOrder) {
        return aOrder - bOrder;
      }
      if (a.state === "learning") {
        return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
      } else if (a.state === "review") {
        if (config.reviewOrder === "random") {
          return Math.random() - 0.5;
        } else {
          return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
        }
      } else {
        return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
      }
    });
    return flashcards;
  }
  async getReviewableFlashcardsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckById(deckId);
    if (!deck)
      throw new Error(`Deck not found: ${deckId}`);
    const config = deck.config;
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const flashcards = [];
    const headerFilter = headerLevel !== void 0 ? " AND (type = 'table' OR header_level = ?)" : "";
    let learningQuery = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ? AND state = 'learning'${headerFilter}
      ORDER BY due_date
    `;
    const learningStmt = this.db.prepare(learningQuery);
    const learningParams = [deckId, now];
    if (headerLevel !== void 0)
      learningParams.push(headerLevel.toString());
    learningStmt.bind(learningParams);
    while (learningStmt.step()) {
      const row = learningStmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    learningStmt.free();
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    if (!config.enableNewCardsLimit || dailyCounts.newCount < config.newCardsLimit) {
      const remainingNewCards = config.enableNewCardsLimit ? config.newCardsLimit - dailyCounts.newCount : Number.MAX_SAFE_INTEGER;
      let newCardsQuery = `
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'new'${headerFilter}
        ORDER BY due_date
        ${config.enableNewCardsLimit ? `LIMIT ${remainingNewCards}` : ""}
      `;
      const newCardsStmt = this.db.prepare(newCardsQuery);
      const newCardsParams = [deckId, now];
      if (headerLevel !== void 0)
        newCardsParams.push(headerLevel.toString());
      newCardsStmt.bind(newCardsParams);
      while (newCardsStmt.step()) {
        const row = newCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      newCardsStmt.free();
    }
    if (!config.enableReviewCardsLimit || dailyCounts.reviewCount < config.reviewCardsLimit) {
      const remainingReviewCards = config.enableReviewCardsLimit ? config.reviewCardsLimit - dailyCounts.reviewCount : Number.MAX_SAFE_INTEGER;
      let reviewCardsQuery = `
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'review'${headerFilter}
        ORDER BY due_date
        ${config.enableReviewCardsLimit ? `LIMIT ${remainingReviewCards}` : ""}
      `;
      const reviewCardsStmt = this.db.prepare(reviewCardsQuery);
      const reviewCardsParams = [deckId, now];
      if (headerLevel !== void 0)
        reviewCardsParams.push(headerLevel.toString());
      reviewCardsStmt.bind(reviewCardsParams);
      while (reviewCardsStmt.step()) {
        const row = reviewCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      reviewCardsStmt.free();
    }
    return flashcards;
  }
  async getLatestReviewLogForFlashcard(flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(`
      SELECT
        rl.new_state, rl.new_interval, rl.new_ease_factor,
        rl.new_repetitions, rl.new_lapses, rl.new_stability, rl.reviewed_at
      FROM review_logs rl
      WHERE rl.flashcard_id = ?
      ORDER BY rl.reviewed_at DESC
      LIMIT 1
    `);
    stmt.bind([flashcardId]);
    if (stmt.step()) {
      const row = stmt.get();
      stmt.free();
      const reviewedAt = new Date(row[6]);
      const intervalMinutes = row[1];
      const dueDate = new Date(
        reviewedAt.getTime() + intervalMinutes * 60 * 1e3
      );
      const repetitions = row[3];
      const lapses = row[4];
      const stability = row[5];
      const lastReviewed = row[6];
      const easeFactor = row[2];
      return {
        state: row[0],
        dueDate: dueDate.toISOString(),
        interval: intervalMinutes,
        repetitions,
        easeFactor,
        stability,
        lapses,
        lastReviewed
      };
    }
    stmt.free();
    return null;
  }
  async deleteFlashcardsByFile(sourceFile) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(
      "DELETE FROM flashcards WHERE source_file = ?"
    );
    stmt.run([sourceFile]);
    stmt.free();
    await this.save();
  }
  // Review log operations
  async createReviewLog(log) {
    if (!this.db)
      throw new Error("Database not initialized");
    const id = `review_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    const stmt = this.db.prepare(`
      INSERT INTO review_logs (
        id, flashcard_id, reviewed_at, difficulty,
        old_interval, new_interval, old_ease_factor, new_ease_factor, time_elapsed,
        new_state, new_repetitions, new_lapses, new_stability
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `);
    stmt.run([
      id,
      log.flashcardId,
      log.reviewedAt,
      log.difficulty,
      log.oldInterval,
      log.newInterval,
      log.oldEaseFactor,
      log.newEaseFactor,
      log.timeElapsed,
      log.newState,
      log.newRepetitions,
      log.newLapses,
      log.newStability
    ]);
    stmt.free();
    await this.save();
  }
  // Statistics operations
  async getDeckStats(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const newStmt = this.db.prepare(`
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'new' AND due_date <= ?
    `);
    newStmt.bind([deckId, now]);
    newStmt.step();
    const totalNewCards = newStmt.get()[0] || 0;
    newStmt.free();
    let newCount = totalNewCards;
    const newCardsLimit = Number(config.newCardsLimit) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    if (config.enableNewCardsLimit && newCardsLimit > 0) {
      const remainingNew = Math.max(0, newCardsLimit - newCountToday);
      newCount = Math.min(totalNewCards, remainingNew);
    } else if (config.enableNewCardsLimit && newCardsLimit === 0) {
      newCount = 0;
    }
    const learningStmt = this.db.prepare(`
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'learning' AND due_date <= ?
    `);
    learningStmt.bind([deckId, now]);
    learningStmt.step();
    const learningCount = learningStmt.get()[0] || 0;
    learningStmt.free();
    const dueStmt = this.db.prepare(`
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'review' AND due_date <= ?
    `);
    dueStmt.bind([deckId, now]);
    dueStmt.step();
    const totalDueCards = dueStmt.get()[0] || 0;
    dueStmt.free();
    let dueCount = totalDueCards;
    const reviewCardsLimit = Number(config.reviewCardsLimit) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    if (config.enableReviewCardsLimit && reviewCardsLimit > 0) {
      const remainingReview = Math.max(0, reviewCardsLimit - reviewCountToday);
      dueCount = Math.min(totalDueCards, remainingReview);
    } else if (config.enableReviewCardsLimit && reviewCardsLimit === 0) {
      dueCount = 0;
    }
    const totalStmt = this.db.prepare(`
      SELECT COUNT(*) FROM flashcards WHERE deck_id = ?
    `);
    totalStmt.bind([deckId]);
    totalStmt.step();
    const totalCount = totalStmt.get()[0] || 0;
    totalStmt.free();
    return {
      deckId,
      newCount,
      learningCount,
      dueCount,
      totalCount
    };
  }
  async getDeckStatsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const headerFilter = headerLevel !== void 0 ? " AND (type = 'table' OR header_level = ?)" : "";
    const newQuery = `
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'new' AND due_date <= ?${headerFilter}
    `;
    const newStmt = this.db.prepare(newQuery);
    const newParams = [deckId, now];
    if (headerLevel !== void 0)
      newParams.push(headerLevel.toString());
    newStmt.bind(newParams);
    newStmt.step();
    const newCount = newStmt.get()[0];
    newStmt.free();
    const learningQuery = `
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'learning' AND due_date <= ?${headerFilter}
    `;
    const learningStmt = this.db.prepare(learningQuery);
    const learningParams = [deckId, now];
    if (headerLevel !== void 0)
      learningParams.push(headerLevel.toString());
    learningStmt.bind(learningParams);
    learningStmt.step();
    const learningCount = learningStmt.get()[0];
    learningStmt.free();
    const dueQuery = `
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'review' AND due_date <= ?${headerFilter}
    `;
    const dueStmt = this.db.prepare(dueQuery);
    const dueParams = [deckId, now];
    if (headerLevel !== void 0)
      dueParams.push(headerLevel.toString());
    dueStmt.bind(dueParams);
    dueStmt.step();
    const dueCount = dueStmt.get()[0];
    dueStmt.free();
    const totalQuery = `
      SELECT COUNT(*) FROM flashcards WHERE deck_id = ?${headerFilter}
    `;
    const totalStmt = this.db.prepare(totalQuery);
    const totalParams = [deckId];
    if (headerLevel !== void 0)
      totalParams.push(headerLevel.toString());
    totalStmt.bind(totalParams);
    totalStmt.step();
    const totalCount = totalStmt.get()[0];
    totalStmt.free();
    return {
      name: deck.name,
      newCount,
      learningCount,
      dueCount,
      totalCount
    };
  }
  async getAllDeckStats() {
    if (!this.db)
      throw new Error("Database not initialized");
    const decks = await this.getAllDecks();
    const stats = [];
    for (const deck of decks) {
      const deckStats = await this.getDeckStats(deck.id);
      stats.push(deckStats);
    }
    return stats;
  }
  async getAllDeckStatsFiltered(headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const decks = await this.getAllDecks();
    const stats = [];
    for (const deck of decks) {
      const deckStats = await this.getDeckStatsFiltered(deck.id, headerLevel);
      stats.push({
        deckId: deck.id,
        newCount: deckStats.newCount,
        learningCount: deckStats.learningCount,
        dueCount: deckStats.dueCount,
        totalCount: deckStats.totalCount
      });
    }
    return stats;
  }
  async getReviewCountsByDate(days = 365) {
    if (!this.db)
      throw new Error("Database not initialized");
    const endDate = /* @__PURE__ */ new Date();
    const startDate = /* @__PURE__ */ new Date();
    startDate.setDate(endDate.getDate() - days);
    const stmt = this.db.prepare(`
      SELECT DATE(reviewed_at) as review_date, COUNT(*) as count
      FROM review_logs
      WHERE reviewed_at >= ? AND reviewed_at <= ?
      GROUP BY DATE(reviewed_at)
      ORDER BY review_date
    `);
    stmt.bind([startDate.toISOString(), endDate.toISOString()]);
    const reviewCounts = /* @__PURE__ */ new Map();
    while (stmt.step()) {
      const row = stmt.get();
      const date = row[0];
      const count = row[1];
      reviewCounts.set(date, count);
    }
    stmt.free();
    return reviewCounts;
  }
  async migrateSchemaIfNeeded() {
    if (!this.db)
      return;
    try {
      const tablesStmt = this.db.prepare(`
        SELECT name FROM sqlite_master
        WHERE type='table' AND name IN ('decks', 'flashcards', 'review_logs')
      `);
      const existingTables = [];
      while (tablesStmt.step()) {
        const row = tablesStmt.get();
        existingTables.push(row[0]);
      }
      tablesStmt.free();
      if (existingTables.length === 0) {
        this.debugLog("No existing tables found. Creating initial schema...");
        await this.createTables();
        await this.save();
        return;
      }
      let hasFilepath = true;
      let hasConfig = true;
      let hasTimeElapsed = true;
      let hasHeaderLevel = true;
      let hasNewReviewLogColumns = true;
      if (existingTables.includes("decks")) {
        const stmt = this.db.prepare("PRAGMA table_info(decks)");
        const columns = [];
        while (stmt.step()) {
          columns.push(stmt.get());
        }
        stmt.free();
        hasFilepath = columns.some((col) => col[1] === "filepath");
        hasConfig = columns.some((col) => col[1] === "config");
      } else {
        hasFilepath = false;
        hasConfig = false;
      }
      if (existingTables.includes("flashcards")) {
        const flashcardsStmt = this.db.prepare("PRAGMA table_info(flashcards)");
        const flashcardsColumns = [];
        while (flashcardsStmt.step()) {
          flashcardsColumns.push(flashcardsStmt.get());
        }
        flashcardsStmt.free();
        hasHeaderLevel = flashcardsColumns.some(
          (col) => col[1] === "header_level"
        );
      } else {
        hasHeaderLevel = false;
      }
      if (existingTables.includes("review_logs")) {
        try {
          const reviewLogsStmt = this.db.prepare(
            "PRAGMA table_info(review_logs)"
          );
          const reviewLogsColumns = [];
          while (reviewLogsStmt.step()) {
            reviewLogsColumns.push(reviewLogsStmt.get());
          }
          reviewLogsStmt.free();
          const columnNames = reviewLogsColumns.map((col) => col[1]);
          this.debugLog(`Review logs columns: ${columnNames.join(", ")}`);
          hasTimeElapsed = reviewLogsColumns.some(
            (col) => col[1] === "time_elapsed"
          );
          const hasNewState = reviewLogsColumns.some(
            (col) => col[1] === "new_state"
          );
          const hasNewStability = reviewLogsColumns.some(
            (col) => col[1] === "new_stability"
          );
          hasNewReviewLogColumns = hasNewState && hasNewStability;
          this.debugLog(
            `Migration check - hasTimeElapsed: ${hasTimeElapsed}, hasNewState: ${hasNewState}, hasNewStability: ${hasNewStability}, hasNewReviewLogColumns: ${hasNewReviewLogColumns}`
          );
        } catch (error) {
          this.debugLog(`Error checking review_logs columns: ${error}`);
          hasTimeElapsed = false;
          hasNewReviewLogColumns = false;
        }
      } else {
        hasTimeElapsed = false;
      }
      if (!hasFilepath || !hasConfig || !hasTimeElapsed || !hasHeaderLevel || !hasNewReviewLogColumns) {
        this.debugLog(
          "Migrating database schema to support filepath, config, time_elapsed, header_level, and new review log columns..."
        );
        try {
          if (!existingTables.includes("decks") || !existingTables.includes("flashcards") || !existingTables.includes("review_logs")) {
            this.debugLog(
              "Missing tables detected. Creating missing tables..."
            );
            await this.createTables();
          } else {
            if (!hasFilepath) {
              this.debugLog("Adding filepath column to decks table...");
              this.db.exec(`ALTER TABLE decks ADD COLUMN filepath TEXT`);
            }
            if (!hasConfig) {
              this.debugLog("Adding config column to decks table...");
              this.db.exec(
                `ALTER TABLE decks ADD COLUMN config TEXT DEFAULT '{}'`
              );
            }
            if (!hasTimeElapsed) {
              this.debugLog(
                "Adding time_elapsed column to review_logs table..."
              );
              this.db.exec(
                `ALTER TABLE review_logs ADD COLUMN time_elapsed INTEGER NOT NULL DEFAULT 0`
              );
            }
            if (!hasHeaderLevel) {
              this.debugLog(
                "Adding header_level column to flashcards table..."
              );
              this.db.exec(
                `ALTER TABLE flashcards ADD COLUMN header_level INTEGER CHECK (header_level >= 1 AND header_level <= 6)`
              );
            }
            if (existingTables.includes("review_logs")) {
              const reviewLogsStmt = this.db.prepare(
                "PRAGMA table_info(review_logs)"
              );
              const existingColumns = /* @__PURE__ */ new Set();
              while (reviewLogsStmt.step()) {
                const row = reviewLogsStmt.get();
                existingColumns.add(row[1]);
              }
              reviewLogsStmt.free();
              const requiredColumns = [
                { name: "old_interval", type: "INTEGER DEFAULT 0" },
                { name: "new_interval", type: "INTEGER DEFAULT 0" },
                { name: "old_ease_factor", type: "REAL DEFAULT 2.5" },
                { name: "new_ease_factor", type: "REAL DEFAULT 2.5" },
                {
                  name: "new_state",
                  type: "TEXT DEFAULT 'new' CHECK (new_state IN ('new', 'learning', 'review'))"
                },
                { name: "new_repetitions", type: "INTEGER DEFAULT 0" },
                { name: "new_lapses", type: "INTEGER DEFAULT 0" },
                { name: "new_stability", type: "REAL DEFAULT 2.5" }
              ];
              for (const column of requiredColumns) {
                if (!existingColumns.has(column.name)) {
                  try {
                    this.debugLog(`Adding missing column: ${column.name}`);
                    this.db.exec(
                      `ALTER TABLE review_logs ADD COLUMN ${column.name} ${column.type}`
                    );
                  } catch (error) {
                    console.error(
                      `Failed to add column ${column.name}:`,
                      error
                    );
                  }
                }
              }
            }
          }
          this.debugLog(
            "Database schema migration completed. All user data preserved."
          );
          await this.save();
        } catch (error) {
          console.error("Error during column migration:", error);
          this.debugLog("Falling back to table recreation...");
          this.db.exec(`
            DROP TABLE IF EXISTS review_logs;
            DROP TABLE IF EXISTS flashcards;
            DROP TABLE IF EXISTS decks;
          `);
          await this.createTables();
          this.debugLog(
            "Database recreated. Data will be rebuilt from vault files."
          );
          await this.save();
        }
      }
    } catch (error) {
      console.error("Error during schema migration:", error);
    }
  }
  // Helper methods
  rowToFlashcard(row) {
    return {
      id: row[0],
      deckId: row[1],
      front: row[2],
      back: row[3],
      type: row[4],
      sourceFile: row[5],
      contentHash: row[6],
      headerLevel: row[7] || void 0,
      state: row[8],
      dueDate: row[9],
      interval: row[10],
      repetitions: row[11],
      easeFactor: row[12],
      stability: row[13],
      lapses: row[14],
      lastReviewed: row[15],
      created: row[16],
      modified: row[17]
    };
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const cutoffDate = /* @__PURE__ */ new Date();
      if (timeframe === "12months") {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 1);
      } else {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 10);
      }
      let deckFilterCondition = "";
      let deckFilterParams = [];
      if (deckFilter.startsWith("deck:")) {
        const deckId = deckFilter.substring(5);
        deckFilterCondition = "AND f.deck_id = ?";
        deckFilterParams.push(deckId);
      } else if (deckFilter.startsWith("tag:")) {
        const tag = deckFilter.substring(4);
        deckFilterCondition = "AND d.tag = ?";
        deckFilterParams.push(tag);
      }
      const dailyStatsStmt = this.db.prepare(`
      SELECT
        DATE(reviewed_at) as date,
        COUNT(*) as reviews,
        COUNT(CASE WHEN difficulty != 'again' THEN 1 END) as correct,
        COUNT(CASE WHEN f.state = 'new' THEN 1 END) as new_cards,
        COUNT(CASE WHEN f.state = 'learning' THEN 1 END) as learning_cards,
        COUNT(CASE WHEN f.state = 'review' THEN 1 END) as review_cards
      FROM review_logs rl
      JOIN flashcards f ON rl.flashcard_id = f.id
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE DATE(reviewed_at) >= DATE(?)
      ${deckFilterCondition}
      GROUP BY DATE(reviewed_at)
      ORDER BY date DESC
    `);
      dailyStatsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      const dailyStats = [];
      while (dailyStatsStmt.step()) {
        const row = dailyStatsStmt.get();
        const reviews = row[1];
        const correct = row[2];
        dailyStats.push({
          date: row[0],
          reviews,
          timeSpent: reviews * 30,
          // Estimate 30 seconds per review
          newCards: row[3],
          learningCards: row[4],
          reviewCards: row[5],
          correctRate: reviews > 0 ? correct / reviews * 100 : 0
        });
      }
      dailyStatsStmt.free();
      const cardStatsStmt = this.db.prepare(`
      SELECT
        f.state,
        COUNT(*) as count
      FROM flashcards f
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE 1=1
      ${deckFilterCondition}
      GROUP BY f.state
    `);
      const cardStats = {
        new: 0,
        learning: 0,
        mature: 0
      };
      if (deckFilterCondition) {
        cardStatsStmt.bind(deckFilterParams);
      }
      while (cardStatsStmt.step()) {
        const row = cardStatsStmt.get();
        const state = row[0];
        const count = row[1];
        if (state === "new")
          cardStats.new = count;
        else if (state === "learning")
          cardStats.learning = count;
        else if (state === "review")
          cardStats.mature = count;
      }
      cardStatsStmt.free();
      const answerButtonsStmt = this.db.prepare(`
      SELECT
        rl.difficulty,
        COUNT(*) as count
      FROM review_logs rl
      JOIN flashcards f ON rl.flashcard_id = f.id
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE DATE(rl.reviewed_at) >= DATE(?)
      ${deckFilterCondition}
      GROUP BY rl.difficulty
    `);
      const answerButtons = {
        again: 0,
        hard: 0,
        good: 0,
        easy: 0
      };
      answerButtonsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      while (answerButtonsStmt.step()) {
        const row = answerButtonsStmt.get();
        const difficulty = row[0];
        const count = row[1];
        answerButtons[difficulty] = count;
      }
      answerButtonsStmt.free();
      const totalReviews = Object.values(answerButtons).reduce(
        (sum, count) => sum + count,
        0
      );
      const correctReviews = totalReviews - answerButtons.again;
      const retentionRate = totalReviews > 0 ? correctReviews / totalReviews * 100 : 0;
      const intervalsStmt = this.db.prepare(`
      SELECT
        CASE
          WHEN f.interval < 1440 THEN CAST(f.interval / 60 AS INTEGER) || 'h'
          WHEN f.interval < 43200 THEN CAST(f.interval / 1440 AS INTEGER) || 'd'
          ELSE CAST(f.interval / 43200 AS INTEGER) || 'm'
        END as interval_group,
        COUNT(*) as count
      FROM flashcards f
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE f.state != 'new'
      ${deckFilterCondition}
      GROUP BY interval_group
      ORDER BY f.interval
    `);
      if (deckFilterCondition) {
        intervalsStmt.bind(deckFilterParams);
      }
      const intervals = [];
      while (intervalsStmt.step()) {
        const row = intervalsStmt.get();
        intervals.push({
          interval: row[0],
          count: row[1]
        });
      }
      intervalsStmt.free();
      const forecast = [];
      const today = /* @__PURE__ */ new Date();
      for (let i = 0; i < 90; i++) {
        const forecastDate = new Date(today);
        forecastDate.setDate(today.getDate() + i);
        const dateStr = forecastDate.toISOString().split("T")[0];
        const forecastStmt = this.db.prepare(`
        SELECT COUNT(*) as due_count
        FROM flashcards f
        ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
        WHERE DATE(f.due_date) = DATE(?)
        ${deckFilterCondition}
      `);
        forecastStmt.bind([dateStr, ...deckFilterParams]);
        let dueCount = 0;
        if (forecastStmt.step()) {
          const row = forecastStmt.get();
          dueCount = row[0];
        }
        forecastStmt.free();
        forecast.push({
          date: dateStr,
          dueCount
        });
      }
      const paceStmt = this.db.prepare(`
      SELECT
        AVG(rl.time_elapsed / 1000.0) as avg_pace,
        SUM(rl.time_elapsed / 1000.0) as total_time
      FROM review_logs rl
      JOIN flashcards f ON rl.flashcard_id = f.id
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE rl.reviewed_at >= ?
      ${deckFilterCondition}
    `);
      if (deckFilterCondition) {
        paceStmt.bind([cutoffDate.toISOString(), ...deckFilterParams]);
      } else {
        paceStmt.bind([cutoffDate.toISOString()]);
      }
      let averagePace = 0;
      let totalReviewTime = 0;
      if (paceStmt.step()) {
        const row = paceStmt.get();
        averagePace = row[0] || 0;
        totalReviewTime = row[1] || 0;
      }
      paceStmt.free();
      return {
        dailyStats,
        cardStats,
        answerButtons,
        retentionRate,
        intervals,
        forecast,
        averagePace,
        totalReviewTime
      };
    } catch (error) {
      console.error("Error in getOverallStatistics:", error);
      return {
        dailyStats: [],
        cardStats: { new: 0, learning: 0, mature: 0 },
        answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
        retentionRate: 0,
        intervals: [],
        forecast: [],
        averagePace: 0,
        totalReviewTime: 0
      };
    }
  }
  async close() {
    if (this.db) {
      this.db.close();
      this.db = null;
    }
  }
};

// src/services/DeckManager.ts
var import_obsidian = require("obsidian");
var _DeckManager = class _DeckManager {
  constructor(vault, metadataCache, db, plugin) {
    this.vault = vault;
    this.metadataCache = metadataCache;
    this.db = db;
    this.plugin = plugin;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  debugLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.debugLog) {
      this.plugin.debugLog(message, ...args);
    }
  }
  performanceLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.performanceLog) {
      this.plugin.performanceLog(message, ...args);
    }
  }
  /**
   * Scan vault for all decks (files with #flashcards tags)
   */
  async scanVaultForDecks() {
    const decksMap = /* @__PURE__ */ new Map();
    const files = this.vault.getMarkdownFiles();
    this.debugLog(`Scanning ${files.length} markdown files for flashcard tags`);
    for (const file6 of files) {
      const metadata = this.metadataCache.getFileCache(file6);
      if (!metadata) {
        this.debugLog(`No metadata for file: ${file6.path}`);
        continue;
      }
      this.debugLog(`Checking file: ${file6.path}`);
      const allTags = [];
      if (metadata.tags) {
        const inlineTags = metadata.tags.map((t) => t.tag);
        allTags.push(...inlineTags);
        this.debugLog(`File ${file6.path} has inline tags:`, inlineTags);
      }
      if (metadata.frontmatter && metadata.frontmatter.tags) {
        const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
        const normalizedTags = frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        );
        allTags.push(...normalizedTags);
        this.debugLog(
          `File ${file6.path} has frontmatter tags:`,
          normalizedTags
        );
      }
      if (allTags.length === 0) {
        continue;
      }
      const flashcardTags = allTags.filter(
        (tag) => tag.startsWith("#flashcards")
      );
      this.debugLog(`All tags for ${file6.path}:`, allTags);
      this.debugLog(`Flashcard tags for ${file6.path}:`, flashcardTags);
      for (const tag of flashcardTags) {
        if (!decksMap.has(tag)) {
          decksMap.set(tag, []);
        }
        decksMap.get(tag).push(file6);
      }
    }
    this.debugLog(`Found ${decksMap.size} decks:`, Array.from(decksMap.keys()));
    return decksMap;
  }
  /**
   * Sync decks with database
   */
  async syncDecks() {
    const syncDecksStartTime = performance.now();
    try {
      this.debugLog("Starting deck sync...");
      const decksMap = await this.scanVaultForDecks();
      this.debugLog("Decks found in vault:", decksMap);
      const existingDecks = await this.db.getAllDecks();
      this.debugLog("Existing decks in database:", existingDecks);
      const existingDecksByFile = /* @__PURE__ */ new Map();
      for (const deck of existingDecks) {
        existingDecksByFile.set(deck.filepath, deck);
      }
      let newDecksCreated = 0;
      let totalFiles = 0;
      for (const [tag, files] of decksMap) {
        for (const file6 of files) {
          totalFiles++;
          const filePath = file6.path;
          const deckName = file6.basename;
          const existingDeck = existingDecksByFile.get(filePath);
          this.debugLog(`Checking file: ${filePath}`);
          this.debugLog(
            `Existing deck found:`,
            existingDeck ? `YES (ID: ${existingDeck.id})` : "NO"
          );
          if (existingDeck) {
            if (existingDeck.tag !== tag) {
              this.debugLog(
                `Updating deck "${deckName}" tag from ${existingDeck.tag} to ${tag}`
              );
              await this.db.updateDeck(existingDeck.id, {
                tag
              });
            } else {
              this.debugLog(
                `Deck "${deckName}" already exists with correct tag, no update needed`
              );
            }
          } else {
            const file7 = this.vault.getAbstractFileByPath(filePath);
            let deckModTime = /* @__PURE__ */ new Date();
            if (file7 instanceof import_obsidian.TFile) {
              const fileModTime = new Date(file7.stat.mtime);
              const fileCreateTime = new Date(file7.stat.ctime);
              deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
            }
            const deck = {
              id: this.generateDeckId(filePath),
              name: deckName,
              // Store clean file name
              filepath: filePath,
              // Store full file path separately
              tag,
              lastReviewed: null,
              config: DEFAULT_DECK_CONFIG,
              modified: deckModTime.toISOString()
            };
            this.debugLog(
              `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
            );
            await this.db.createDeck(deck);
            newDecksCreated++;
          }
        }
      }
      const allFiles = /* @__PURE__ */ new Set();
      for (const [tag, files] of decksMap) {
        for (const file6 of files) {
          allFiles.add(file6.path);
        }
      }
      let deletedDecks = 0;
      for (const deck of existingDecks) {
        if (!allFiles.has(deck.filepath)) {
          this.debugLog(
            `Deleting orphaned deck: "${deck.name}" (${deck.filepath})`
          );
          await this.db.deleteDeckByFilepath(deck.filepath);
          deletedDecks++;
        }
      }
      this.debugLog(
        `Deck sync completed. Processed ${totalFiles} files, created ${newDecksCreated} new decks, deleted ${deletedDecks} orphaned decks.`
      );
      const syncDecksTime = performance.now() - syncDecksStartTime;
      this.performanceLog(
        `Deck sync completed successfully in ${this.formatTime(syncDecksTime)} (${newDecksCreated} created, ${deletedDecks} deleted)`
      );
    } catch (error) {
      console.error("Error during deck sync:", error);
      throw error;
    }
  }
  /**
   * Parse flashcards from a file
   */
  async parseFlashcardsFromFile(file6) {
    const parseStartTime = performance.now();
    const content = await this.vault.read(file6);
    const readTime = performance.now() - parseStartTime;
    const parseContentStartTime = performance.now();
    const flashcards = this.parseFlashcardsFromContent(content);
    const parseTime = performance.now() - parseContentStartTime;
    const totalTime = performance.now() - parseStartTime;
    this.performanceLog(
      `Parsed ${flashcards.length} flashcards from ${file6.path} in ${this.formatTime(totalTime)} (read: ${this.formatTime(readTime)}, parse: ${this.formatTime(parseTime)})`
    );
    return flashcards;
  }
  /**
   * Parse flashcards from content string (optimized single-pass parsing)
   */
  parseFlashcardsFromContent(content) {
    const lines = content.split("\n");
    const flashcards = [];
    let inTable = false;
    let headerSeen = false;
    let currentHeader = null;
    let currentContent = [];
    let inFrontmatter = false;
    let skipNextParagraph = false;
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const trimmedLine = line.trim();
      if (i === 0 && trimmedLine === "---") {
        inFrontmatter = true;
        continue;
      }
      if (inFrontmatter) {
        if (trimmedLine === "---") {
          inFrontmatter = false;
        }
        continue;
      }
      if (_DeckManager.TABLE_ROW_REGEX.test(trimmedLine)) {
        if (!inTable) {
          inTable = true;
          headerSeen = false;
        }
        if (!headerSeen) {
          headerSeen = true;
          continue;
        }
        if (_DeckManager.TABLE_SEPARATOR_REGEX.test(trimmedLine)) {
          continue;
        }
        const cells = trimmedLine.slice(1, -1).split("|").map((cell) => cell.trim());
        if (cells.length >= 2 && cells[0] && cells[1]) {
          flashcards.push({
            front: cells[0],
            back: cells[1],
            type: "table"
          });
        }
      } else {
        if (inTable) {
          inTable = false;
        }
        const headerMatch = _DeckManager.HEADER_REGEX.exec(line);
        if (headerMatch) {
          const currentHeaderLevel = headerMatch[1].length;
          if (line.match(/^#\s+/) && line.toLowerCase().includes("flashcard")) {
            skipNextParagraph = true;
            this.finalizeCurrentHeader(
              currentHeader,
              currentContent,
              flashcards
            );
            currentHeader = null;
            currentContent = [];
            continue;
          }
          this.finalizeCurrentHeader(currentHeader, currentContent, flashcards);
          currentHeader = {
            text: line,
            level: currentHeaderLevel
          };
          currentContent = [];
          skipNextParagraph = false;
        } else if (skipNextParagraph) {
          if (trimmedLine === "") {
            skipNextParagraph = false;
          }
        } else if (currentHeader) {
          if (trimmedLine === "" && currentContent.length === 0) {
            continue;
          }
          currentContent.push(line);
        }
      }
    }
    this.finalizeCurrentHeader(currentHeader, currentContent, flashcards);
    return flashcards;
  }
  /**
   * Helper to finalize current header flashcard
   */
  finalizeCurrentHeader(currentHeader, currentContent, flashcards) {
    if (currentHeader && currentContent.length > 0) {
      flashcards.push({
        front: currentHeader.text.replace(/^#{1,6}\s+/, ""),
        back: currentContent.join("\n").trim(),
        type: "header-paragraph",
        headerLevel: currentHeader.level
      });
    }
  }
  /**
   * Execute batch database operations for better performance
   */
  async executeBatchOperations(operations) {
    const batchStartTime = performance.now();
    const BATCH_SIZE = 50;
    let createCount = 0;
    let updateCount = 0;
    let deleteCount = 0;
    for (let i = 0; i < operations.length; i += BATCH_SIZE) {
      const chunk = operations.slice(i, i + BATCH_SIZE);
      const chunkStartTime = performance.now();
      for (const op of chunk) {
        try {
          switch (op.type) {
            case "create":
              if (op.flashcard) {
                await this.db.createFlashcard(op.flashcard);
                createCount++;
              }
              break;
            case "update":
              if (op.flashcardId && op.updates) {
                await this.db.updateFlashcard(op.flashcardId, op.updates);
                updateCount++;
              }
              break;
            case "delete":
              if (op.flashcardId) {
                await this.db.deleteFlashcard(op.flashcardId);
                deleteCount++;
              }
              break;
          }
        } catch (error) {
          console.error(`Failed to execute ${op.type} operation:`, error);
        }
      }
      const chunkTime = performance.now() - chunkStartTime;
      this.performanceLog(
        `Batch ${Math.floor(i / BATCH_SIZE) + 1}: ${chunk.length} operations in ${this.formatTime(chunkTime)}`
      );
      if (i + BATCH_SIZE < operations.length) {
        await new Promise((resolve) => setTimeout(resolve, 10));
      }
    }
    const totalBatchTime = performance.now() - batchStartTime;
    this.performanceLog(
      `Batch operations completed in ${this.formatTime(totalBatchTime)} (${createCount} created, ${updateCount} updated, ${deleteCount} deleted)`
    );
  }
  /**
   * Sync flashcards for a specific deck (file)
   */
  async syncFlashcardsForDeck(filePath, force = false) {
    const deckSyncStartTime = performance.now();
    this.debugLog(`Syncing flashcards for deck: ${filePath}`);
    const deck = await this.db.getDeckByFilepath(filePath);
    if (!deck) {
      this.debugLog(`No deck found for filepath: ${filePath}`);
      return;
    }
    this.debugLog(
      `Found deck ID: ${deck.id}, name: ${deck.name}, filepath: ${deck.filepath}`
    );
    const file6 = this.vault.getAbstractFileByPath(filePath);
    if (!file6 || !(file6 instanceof import_obsidian.TFile))
      return;
    const fileModifiedTime = new Date(file6.stat.mtime);
    if (!force) {
      const deckModifiedTime = new Date(deck.modified);
      if (fileModifiedTime <= deckModifiedTime) {
        this.debugLog(
          `File ${filePath} not modified since last sync, skipping`
        );
        return;
      }
    }
    this.debugLog(
      `File modified: ${fileModifiedTime.toISOString()}, last sync: ${deck.modified}`
    );
    const existingFlashcards = await this.db.getFlashcardsByDeck(deck.id);
    this.debugLog(
      `Found ${existingFlashcards.length} existing flashcards for deck ${deck.name}`
    );
    const existingById = /* @__PURE__ */ new Map();
    existingFlashcards.forEach((card) => {
      existingById.set(card.id, card);
      this.debugLog(`Existing card ID: ${card.id}, Front: "${card.front}"`);
    });
    const processedIds = /* @__PURE__ */ new Set();
    const duplicateWarnings = /* @__PURE__ */ new Set();
    const parsedCards = await this.parseFlashcardsFromFile(file6);
    this.debugLog(`Parsed ${parsedCards.length} flashcards from ${filePath}`);
    const batchOperations = [];
    for (let i = 0; i < parsedCards.length; i++) {
      const parsed = parsedCards[i];
      const flashcardId = this.generateFlashcardId(parsed.front);
      const contentHash = this.generateContentHash(parsed.back);
      const existingCard = existingById.get(flashcardId);
      if (processedIds.has(flashcardId)) {
        const duplicateKey = `${deck.name}:${parsed.front}`;
        if (!duplicateWarnings.has(duplicateKey)) {
          new import_obsidian.Notice(
            `\u26A0\uFE0F Duplicate flashcard detected in "${deck.name}": "${parsed.front.substring(0, 50)}${parsed.front.length > 50 ? "..." : ""}". Only the first occurrence will be used.`,
            8e3
          );
          duplicateWarnings.add(duplicateKey);
          this.debugLog(
            `Duplicate flashcard detected: "${parsed.front}" in deck "${deck.name}"`
          );
        }
        continue;
      }
      this.debugLog(
        `Processing flashcard: "${parsed.front.substring(0, 50)}..."`
      );
      this.debugLog(
        `Generated ID: ${flashcardId} (from front: "${parsed.front.substring(0, 30)}..." + deck: ${deck.id})`
      );
      this.debugLog(`Content hash: ${contentHash}`);
      this.debugLog(`Existing card found:`, existingCard ? "YES" : "NO");
      if (existingCard) {
        this.debugLog(
          `Existing card - ID: ${existingCard.id}, Front: "${existingCard.front.substring(0, 30)}...", Hash: ${existingCard.contentHash}`
        );
      }
      processedIds.add(flashcardId);
      if (i % 50 === 49) {
        await new Promise((resolve) => setTimeout(resolve, 5));
      }
      if (existingCard) {
        if (existingCard.contentHash !== contentHash) {
          this.debugLog(
            `Content changed, updating flashcard: ${parsed.front.substring(0, 30)}...`
          );
          batchOperations.push({
            type: "update",
            flashcardId: existingCard.id,
            updates: {
              front: parsed.front,
              back: parsed.back,
              type: parsed.type,
              contentHash
            }
          });
        } else {
          this.debugLog(
            `No content change, skipping update: ${parsed.front.substring(0, 30)}...`
          );
        }
      } else {
        const previousProgress = await this.db.getLatestReviewLogForFlashcard(flashcardId);
        const flashcard = {
          id: flashcardId,
          deckId: deck.id,
          front: parsed.front,
          back: parsed.back,
          type: parsed.type,
          sourceFile: file6.path,
          contentHash,
          headerLevel: parsed.headerLevel,
          // Restore progress from review logs or use defaults
          state: (previousProgress == null ? void 0 : previousProgress.state) || "new",
          dueDate: (previousProgress == null ? void 0 : previousProgress.dueDate) || (/* @__PURE__ */ new Date()).toISOString(),
          interval: (previousProgress == null ? void 0 : previousProgress.interval) || 0,
          repetitions: (previousProgress == null ? void 0 : previousProgress.repetitions) || 0,
          easeFactor: (previousProgress == null ? void 0 : previousProgress.easeFactor) || 5,
          // FSRS initial difficulty
          stability: (previousProgress == null ? void 0 : previousProgress.stability) || 2.5,
          // FSRS initial stability
          lapses: (previousProgress == null ? void 0 : previousProgress.lapses) || 0,
          lastReviewed: (previousProgress == null ? void 0 : previousProgress.lastReviewed) || null
        };
        if (previousProgress) {
          this.debugLog(
            `Restoring flashcard progress from review logs: ${flashcard.front} (state: ${previousProgress.state}, interval: ${previousProgress.interval})`
          );
          new import_obsidian.Notice(
            `\u2705 Progress restored for flashcard: "${parsed.front.substring(0, 40)}${parsed.front.length > 40 ? "..." : ""}" (${previousProgress.state}, ${previousProgress.repetitions} reviews)`,
            5e3
          );
        } else {
          this.debugLog(`Creating new flashcard: ${flashcard.front}`);
        }
        batchOperations.push({
          type: "create",
          flashcard
        });
      }
    }
    for (const [flashcardId, existingCard] of existingById) {
      if (!processedIds.has(flashcardId)) {
        this.debugLog(`Deleting flashcard: ${existingCard.front}`);
        batchOperations.push({
          type: "delete",
          flashcardId: existingCard.id
        });
      }
    }
    if (batchOperations.length > 0) {
      this.debugLog(
        `Executing ${batchOperations.length} batch database operations`
      );
      await this.executeBatchOperations(batchOperations);
    }
    const timestampStartTime = performance.now();
    await this.db.updateDeckTimestamp(deck.id, fileModifiedTime.toISOString());
    await this.checkForDuplicatesInDeck(deck.id);
    const timestampTime = performance.now() - timestampStartTime;
    const totalDeckSyncTime = performance.now() - deckSyncStartTime;
    this.performanceLog(
      `Sync completed for deck: ${deck.name} in ${this.formatTime(totalDeckSyncTime)} (${parsedCards.length} flashcards, ${batchOperations.length} operations, cleanup: ${this.formatTime(timestampTime)})`
    );
  }
  /**
   * Sync flashcards for a specific deck by name (file path)
   */
  async syncFlashcardsForDeckByName(deckName) {
    await this.syncFlashcardsForDeck(deckName);
  }
  /**
   * Create deck for a single file without running full sync
   */
  async createDeckForFile(filePath, tag) {
    const file6 = this.vault.getAbstractFileByPath(filePath);
    if (!file6 || !(file6 instanceof import_obsidian.TFile))
      return;
    const deckName = file6.basename;
    const existingDeck = await this.db.getDeckByFilepath(filePath);
    if (!existingDeck) {
      const fileModTime = new Date(file6.stat.mtime);
      const fileCreateTime = new Date(file6.stat.ctime);
      const deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
      const deck = {
        id: this.generateDeckId(filePath),
        name: deckName,
        filepath: filePath,
        tag,
        lastReviewed: null,
        config: DEFAULT_DECK_CONFIG,
        modified: deckModTime.toISOString()
      };
      this.debugLog(
        `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
      );
      await this.db.createDeck(deck);
    }
  }
  /**
   * Generate content hash for flashcard back content (front is used for ID)
   */
  generateContentHash(back) {
    let hash = 0;
    for (let i = 0; i < back.length; i++) {
      const char = back.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return Math.abs(hash).toString(16);
  }
  /**
   * Extract deck name from files (use the first file's name)
   */
  extractDeckNameFromFiles(files) {
    if (files.length === 0) {
      return "General";
    }
    const firstFile = files[0];
    return firstFile.basename;
  }
  /**
   * Extract deck name from tag (legacy method for compatibility)
   */
  extractDeckName(tag) {
    let name = tag.replace("#flashcards", "");
    if (name.startsWith("/")) {
      name = name.substring(1);
    }
    if (!name) {
      return "General";
    }
    const parts = name.split("/");
    return parts.map((part) => part.charAt(0).toUpperCase() + part.slice(1)).join(" - ");
  }
  /**
   * Generate deterministic deck ID based on filepath
   */
  generateDeckId(filepath) {
    if (filepath) {
      let hash = 0;
      for (let i = 0; i < filepath.length; i++) {
        const char = filepath.charCodeAt(i);
        hash = (hash << 5) - hash + char;
        hash = hash & hash;
      }
      return `deck_${Math.abs(hash).toString(36)}`;
    }
    return `deck_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * Generate unique flashcard ID using hash of front text only
   */
  generateFlashcardId(frontText, deckId) {
    let hash = 0;
    for (let i = 0; i < frontText.length; i++) {
      const char = frontText.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return `card_${Math.abs(hash).toString(36)}`;
  }
  /**
   * Check for duplicate flashcards in a deck and warn the user
   */
  async checkForDuplicatesInDeck(deckId) {
    const existingFlashcards = await this.db.getFlashcardsByDeck(deckId);
    const frontTextMap = /* @__PURE__ */ new Map();
    for (const card of existingFlashcards) {
      const normalizedFront = card.front.trim().toLowerCase();
      if (!frontTextMap.has(normalizedFront)) {
        frontTextMap.set(normalizedFront, []);
      }
      frontTextMap.get(normalizedFront).push(card);
    }
    const deck = await this.db.getDeckById(deckId);
    const deckName = (deck == null ? void 0 : deck.name) || "Unknown Deck";
    for (const [frontText, cards] of frontTextMap) {
      if (cards.length > 1) {
        new import_obsidian.Notice(
          `\u26A0\uFE0F Found ${cards.length} duplicate flashcards in "${deckName}": "${cards[0].front.substring(0, 50)}${cards[0].front.length > 50 ? "..." : ""}". Consider removing duplicates to avoid confusion.`,
          1e4
        );
        this.debugLog(
          `Duplicate flashcards found in deck "${deckName}": "${cards[0].front}" (${cards.length} copies)`
        );
      }
    }
  }
  /**
   * Update deck IDs for all flashcards when a deck ID changes (e.g., file rename)
   */
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    this.debugLog(
      `Updating flashcard deck IDs from ${oldDeckId} to ${newDeckId}`
    );
    await this.db.updateFlashcardDeckIds(oldDeckId, newDeckId);
  }
};
// Plugin reference for debug logging
// Pre-compiled regex patterns for better performance
_DeckManager.HEADER_REGEX = /^(#{1,6})\s+/;
_DeckManager.TABLE_ROW_REGEX = /^\|.*\|$/;
_DeckManager.TABLE_SEPARATOR_REGEX = /^\|[\s-]+\|[\s-]+\|$/;
var DeckManager = _DeckManager;

// src/algorithm/fsrs.ts
var FSRS = class {
  constructor(params) {
    this.params = {
      w: [
        0.4072,
        1.1829,
        3.1262,
        15.4722,
        7.2102,
        0.5316,
        1.0651,
        0.0234,
        1.616,
        0.1544,
        1.0824,
        1.9813,
        0.0953,
        0.2975,
        2.2042,
        0.2407,
        2.9466
      ],
      requestRetention: 0.9,
      maximumInterval: 60,
      // 100 years
      easyBonus: 1.3,
      hardInterval: 1.2,
      ...params
    };
  }
  /**
   * Update FSRS parameters
   */
  updateParameters(params) {
    this.params = { ...this.params, ...params };
  }
  /**
   * Calculate the next scheduling info for a flashcard based on review difficulty
   */
  getSchedulingInfo(card) {
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    return {
      again: this.calculateScheduleForRating(fsrsCard, 1, now),
      hard: this.calculateScheduleForRating(fsrsCard, 2, now),
      good: this.calculateScheduleForRating(fsrsCard, 3, now),
      easy: this.calculateScheduleForRating(fsrsCard, 4, now)
    };
  }
  /**
   * Update a flashcard based on the selected difficulty
   */
  updateCard(card, difficulty) {
    const rating = this.difficultyToRating(difficulty);
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    const schedule = this.calculateScheduleForRating(fsrsCard, rating, now);
    return {
      ...card,
      state: schedule.state,
      dueDate: schedule.dueDate,
      interval: schedule.interval,
      easeFactor: schedule.difficulty,
      // Store FSRS difficulty in easeFactor field
      repetitions: schedule.repetitions,
      modified: now.toISOString()
    };
  }
  calculateScheduleForRating(card, rating, now) {
    let newCard;
    if (card.state === "New") {
      newCard = this.initDS(card);
      newCard.elapsedDays = 0;
      newCard.scheduledDays = 0;
      newCard.reps = 1;
      newCard.lapses = rating === 1 ? 1 : 0;
      newCard.state = "Learning";
      const minuteInterval = this.getNewCardInterval(rating);
      return this.createSchedulingCard(
        now,
        minuteInterval,
        newCard,
        "learning"
      );
    } else if (card.state === "Learning" || card.state === "Relearning") {
      newCard = { ...card };
      newCard.reps += 1;
      if (rating === 1) {
        newCard.lapses += 1;
        newCard.state = "Learning";
        const minuteInterval = 1;
        return this.createSchedulingCard(
          now,
          minuteInterval,
          newCard,
          "learning"
        );
      } else if (rating === 2) {
        newCard.state = "Learning";
        const minuteInterval = Math.max(
          6,
          Math.round(card.scheduledDays * 1440 * 1.2)
        );
        return this.createSchedulingCard(
          now,
          minuteInterval,
          newCard,
          "learning"
        );
      } else if (rating === 3) {
        if (card.scheduledDays * 1440 < 1440) {
          newCard.state = "Learning";
          const minuteInterval = Math.min(
            1440,
            Math.round(card.scheduledDays * 1440 * 2.5)
          );
          const finalState = minuteInterval >= 1440 ? "review" : "learning";
          return this.createSchedulingCard(
            now,
            minuteInterval,
            newCard,
            finalState
          );
        } else {
          newCard.state = "Review";
          newCard.stability = this.initStability(3);
          newCard.difficulty = this.initDifficulty(3);
        }
      } else {
        newCard.state = "Review";
        newCard.stability = this.initStability(4);
        newCard.difficulty = this.initDifficulty(4);
      }
    } else {
      newCard = { ...card };
      newCard.elapsedDays = this.getElapsedDays(card.lastReview, now);
      newCard.reps += 1;
      if (rating === 1) {
        newCard.lapses += 1;
        newCard.state = "Learning";
        const minuteInterval = 1;
        return this.createSchedulingCard(
          now,
          minuteInterval,
          newCard,
          "learning"
        );
      }
      const retrievability = this.forgettingCurve(
        newCard.elapsedDays,
        newCard.stability
      );
      newCard.difficulty = this.nextDifficulty(newCard.difficulty, rating);
      newCard.stability = this.nextStability(
        newCard.difficulty,
        newCard.stability,
        retrievability,
        rating
      );
      newCard.state = "Review";
    }
    const intervalDays = this.nextInterval(newCard.stability);
    newCard.scheduledDays = intervalDays;
    newCard.lastReview = now;
    const intervalMinutes = Math.round(intervalDays * 1440);
    return this.createSchedulingCard(
      now,
      intervalMinutes,
      newCard,
      this.fsrsStateToFlashcardState(newCard.state)
    );
  }
  getNewCardInterval(rating) {
    switch (rating) {
      case 1:
        return 1;
      case 2:
        return 6;
      case 3:
        return 10;
      case 4:
        return 4 * 1440;
      default:
        return 10;
    }
  }
  createSchedulingCard(now, intervalMinutes, card, state) {
    const dueDate = new Date(now.getTime() + intervalMinutes * 60 * 1e3);
    return {
      dueDate: dueDate.toISOString(),
      interval: intervalMinutes,
      easeFactor: Number(card.difficulty.toFixed(2)),
      repetitions: card.reps,
      stability: Number(card.stability.toFixed(2)),
      difficulty: Number(card.difficulty.toFixed(2)),
      state
    };
  }
  initDS(card) {
    return {
      ...card,
      stability: 0,
      difficulty: 0,
      elapsedDays: 0,
      scheduledDays: 0,
      reps: 0,
      lapses: 0,
      state: "New",
      lastReview: /* @__PURE__ */ new Date()
    };
  }
  initStability(rating) {
    return Math.max(this.params.w[rating - 1], 0.1);
  }
  initDifficulty(rating) {
    return Math.min(
      Math.max(this.params.w[4] - this.params.w[5] * (rating - 3), 1),
      10
    );
  }
  forgettingCurve(elapsedDays, stability) {
    return Math.pow(1 + elapsedDays / (9 * stability), -1);
  }
  nextDifficulty(difficulty, rating) {
    const nextD = difficulty - this.params.w[6] * (rating - 3);
    return Math.min(
      Math.max(this.meanReversion(this.params.w[4], nextD), 1),
      10
    );
  }
  meanReversion(init2, current) {
    return this.params.w[7] * init2 + (1 - this.params.w[7]) * current;
  }
  nextStability(difficulty, stability, retrievability, rating) {
    const hardPenalty = rating === 2 ? this.params.w[15] : 1;
    const easyBonus = rating === 4 ? this.params.w[16] : 1;
    return stability * (1 + Math.exp(this.params.w[8]) * (11 - difficulty) * Math.pow(stability, -this.params.w[9]) * (Math.exp((1 - retrievability) * this.params.w[10]) - 1) * hardPenalty * easyBonus);
  }
  nextInterval(stability) {
    const interval = stability * (Math.log(this.params.requestRetention) / Math.log(0.9));
    return Math.min(
      Math.max(Math.round(interval), 1),
      this.params.maximumInterval
    );
  }
  getElapsedDays(lastReview, now) {
    return Math.max(
      0,
      (now.getTime() - lastReview.getTime()) / (1e3 * 60 * 60 * 24)
    );
  }
  flashcardToFSRS(card) {
    const lastReview = card.modified ? new Date(card.modified) : /* @__PURE__ */ new Date();
    const elapsedDays = this.getElapsedDays(lastReview, /* @__PURE__ */ new Date());
    return {
      stability: card.easeFactor || 2.5,
      // Use easeFactor as stability storage
      difficulty: card.easeFactor || 5,
      // Default difficulty
      elapsedDays,
      scheduledDays: card.interval / 1440,
      // Convert minutes to days
      reps: card.repetitions,
      lapses: 0,
      // We don't track lapses in current model
      state: this.flashcardStateToFSRSState(card.state),
      lastReview
    };
  }
  flashcardStateToFSRSState(state) {
    switch (state) {
      case "new":
        return "New";
      case "learning":
        return "Learning";
      case "review":
        return "Review";
      default:
        return "New";
    }
  }
  fsrsStateToFlashcardState(state) {
    switch (state) {
      case "New":
        return "new";
      case "Learning":
      case "Relearning":
        return "learning";
      case "Review":
        return "review";
      default:
        return "new";
    }
  }
  difficultyToRating(difficulty) {
    switch (difficulty) {
      case "again":
        return 1;
      case "hard":
        return 2;
      case "good":
        return 3;
      case "easy":
        return 4;
      default:
        return 3;
    }
  }
  /**
   * Get display text for intervals
   */
  static getIntervalDisplay(minutes) {
    if (minutes < 60) {
      return `${Math.round(minutes)}m`;
    } else if (minutes < 1440) {
      return `${Math.round(minutes / 60)}h`;
    } else {
      const days = Math.round(minutes / 1440);
      if (days < 30) {
        return `${days}d`;
      } else if (days < 365) {
        return `${Math.round(days / 30)}mo`;
      } else {
        return `${(days / 365).toFixed(1)}y`;
      }
    }
  }
};

// src/main.ts
init_settings();

// src/components/SettingsTab.ts
var import_obsidian2 = require("obsidian");
var DecksSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Decks Plugin Settings" });
    this.addFSRSSettings(containerEl);
    this.addReviewSettings(containerEl);
    this.addParsingSettings(containerEl);
    this.addUISettings(containerEl);
    this.addDebugSettings(containerEl);
  }
  addFSRSSettings(containerEl) {
    containerEl.createEl("h3", { text: "FSRS Algorithm" });
    containerEl.createEl("p", {
      text: "Configure the Free Spaced Repetition Scheduler algorithm parameters.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Target Retention").setDesc("Desired retention rate for flashcards (0.8 = 80%)").addSlider(
      (slider) => slider.setLimits(0.7, 0.98, 0.01).setValue(this.plugin.settings.fsrs.requestRetention).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.fsrs.requestRetention = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Maximum Interval").setDesc("Maximum number of days between reviews").addText(
      (text2) => text2.setPlaceholder("36500").setValue(this.plugin.settings.fsrs.maximumInterval.toString()).onChange(async (value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num > 0) {
          this.plugin.settings.fsrs.maximumInterval = num;
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Easy Bonus").setDesc("Multiplier for easy cards (higher = longer intervals)").addSlider(
      (slider) => slider.setLimits(1.1, 2, 0.1).setValue(this.plugin.settings.fsrs.easyBonus).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.fsrs.easyBonus = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Hard Interval").setDesc("Multiplier for hard cards in learning phase").addSlider(
      (slider) => slider.setLimits(1, 2, 0.1).setValue(this.plugin.settings.fsrs.hardInterval).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.fsrs.hardInterval = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Reset to Defaults").setDesc("Reset FSRS parameters to default values").addButton(
      (button) => button.setButtonText("Reset").setWarning().onClick(async () => {
        const defaultSettings = (await Promise.resolve().then(() => (init_settings(), settings_exports))).DEFAULT_SETTINGS;
        this.plugin.settings.fsrs = { ...defaultSettings.fsrs };
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
  addReviewSettings(containerEl) {
    containerEl.createEl("h3", { text: "Review Sessions" });
    new import_obsidian2.Setting(containerEl).setName("Show Progress").setDesc("Display progress bar during review sessions").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.review.showProgress).onChange(async (value) => {
        this.plugin.settings.review.showProgress = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Keyboard Shortcuts").setDesc("Enable keyboard shortcuts in review modal (1-4 for difficulty)").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.review.enableKeyboardShortcuts).onChange(async (value) => {
        this.plugin.settings.review.enableKeyboardShortcuts = value;
        await this.plugin.saveSettings();
      })
    );
  }
  addParsingSettings(containerEl) {
    containerEl.createEl("h3", { text: "Parsing Settings" });
    containerEl.createEl("p", {
      text: "Configure how flashcards are parsed from your notes.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Header Level for Flashcards").setDesc(
      "Which header level to use for header-paragraph flashcards (H1 = 1, H2 = 2, etc.)"
    ).addDropdown(
      (dropdown) => dropdown.addOption("1", "H1 (#)").addOption("2", "H2 (##)").addOption("3", "H3 (###)").addOption("4", "H4 (####)").addOption("5", "H5 (#####)").addOption("6", "H6 (######)").setValue(this.plugin.settings.parsing.headerLevel.toString()).onChange(async (value) => {
        this.plugin.settings.parsing.headerLevel = parseInt(value);
        await this.plugin.saveSettings();
        await this.plugin.performSync(true);
        if (this.plugin.view) {
          await this.plugin.view.refreshStats();
        }
      })
    );
  }
  addUISettings(containerEl) {
    containerEl.createEl("h3", { text: "User Interface" });
    const intervalSetting = new import_obsidian2.Setting(containerEl).setName("Background Refresh Interval").setDesc("How often to refresh deck stats in the side panel (in seconds)").addText(
      (text2) => text2.setPlaceholder("5").setValue(
        this.plugin.settings.ui.backgroundRefreshInterval.toString()
      ).onChange(async (value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 1 && num <= 60) {
          this.plugin.settings.ui.backgroundRefreshInterval = num;
          await this.plugin.saveSettings();
          if (this.plugin.view) {
            this.plugin.view.restartBackgroundRefresh();
          }
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Background Refresh").setDesc("Automatically refresh deck stats in the side panel").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.ui.enableBackgroundRefresh).onChange(async (value) => {
        this.plugin.settings.ui.enableBackgroundRefresh = value;
        await this.plugin.saveSettings();
        intervalSetting.setDisabled(!value);
        if (this.plugin.view) {
          if (value) {
            this.plugin.view.startBackgroundRefresh();
          } else {
            this.plugin.view.stopBackgroundRefresh();
          }
        }
      })
    );
    intervalSetting.setDisabled(
      !this.plugin.settings.ui.enableBackgroundRefresh
    );
  }
  addDebugSettings(containerEl) {
    containerEl.createEl("h3", { text: "Debug" });
    containerEl.createEl("p", {
      text: "Debug settings for troubleshooting and development.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Enable Debug Logging").setDesc(
      "Show detailed logging in the console for sync operations and flashcard processing"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.plugin.settings.debug) == null ? void 0 : _a.enableLogging) || false).onChange(async (value) => {
          if (!this.plugin.settings.debug) {
            this.plugin.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.plugin.settings.debug.enableLogging = value;
          await this.plugin.saveSettings();
        });
      }
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Performance Logs").setDesc(
      "Show performance timing metrics in the console (sync times, parsing performance, etc.)"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.plugin.settings.debug) == null ? void 0 : _a.performanceLogs) || false).onChange(async (value) => {
          if (!this.plugin.settings.debug) {
            this.plugin.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.plugin.settings.debug.performanceLogs = value;
          await this.plugin.saveSettings();
        });
      }
    );
  }
};

// node_modules/svelte/internal/index.mjs
function noop() {
}
function add_location(element2, file6, line, column, char) {
  element2.__svelte_meta = {
    loc: { file: file6, line, column, char }
  };
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
var src_url_equal_anchor;
function src_url_equal(element_src, url) {
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement("a");
  }
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
var globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : global;
var ResizeObserverSingleton = class _ResizeObserverSingleton {
  constructor(options) {
    this.options = options;
    this._listeners = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
  }
  observe(element2, listener) {
    this._listeners.set(element2, listener);
    this._getObserver().observe(element2, this.options);
    return () => {
      this._listeners.delete(element2);
      this._observer.unobserve(element2);
    };
  }
  _getObserver() {
    var _a;
    return (_a = this._observer) !== null && _a !== void 0 ? _a : this._observer = new ResizeObserver((entries) => {
      var _a2;
      for (const entry of entries) {
        _ResizeObserverSingleton.entries.set(entry.target, entry);
        (_a2 = this._listeners.get(entry.target)) === null || _a2 === void 0 ? void 0 : _a2(entry);
      }
    });
  }
};
ResizeObserverSingleton.entries = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
var is_hydrating = false;
function start_hydrating() {
  is_hydrating = true;
}
function end_hydrating() {
  is_hydrating = false;
}
function append(target, node) {
  target.appendChild(node);
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function prevent_default(fn) {
  return function(event) {
    event.preventDefault();
    return fn.call(this, event);
  };
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function to_number(value) {
  return value === "" ? null : +value;
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_input_value(input, value) {
  input.value = value == null ? "" : value;
}
function set_style(node, key, value, important) {
  if (value == null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? "important" : "");
  }
}
function select_option(select, value, mounting) {
  for (let i = 0; i < select.options.length; i += 1) {
    const option = select.options[i];
    if (option.__value === value) {
      option.selected = true;
      return;
    }
  }
  if (!mounting || value !== void 0) {
    select.selectedIndex = -1;
  }
}
function select_value(select) {
  const selected_option = select.querySelector(":checked");
  return selected_option && selected_option.__value;
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
var current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
var dirty_components = [];
var binding_callbacks = [];
var render_callbacks = [];
var flush_callbacks = [];
var resolved_promise = /* @__PURE__ */ Promise.resolve();
var update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function tick() {
  schedule_update();
  return resolved_promise;
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
var seen_callbacks = /* @__PURE__ */ new Set();
var flushidx = 0;
function flush() {
  if (flushidx !== 0) {
    return;
  }
  const saved_component = current_component;
  do {
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        set_current_component(component);
        update(component.$$);
      }
    } catch (e) {
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach((c) => c());
  render_callbacks = filtered;
}
var outroing = /* @__PURE__ */ new Set();
var outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
    // parent group
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}
var _boolean_attributes = [
  "allowfullscreen",
  "allowpaymentrequest",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "defer",
  "disabled",
  "formnovalidate",
  "hidden",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "selected"
];
var boolean_attributes = /* @__PURE__ */ new Set([..._boolean_attributes]);
function create_component(block) {
  block && block.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
      if (component.$$.on_destroy) {
        component.$$.on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    flush_render_callbacks($$.after_update);
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance6, create_fragment6, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance6 ? instance6(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment6 ? create_fragment6($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      start_hydrating();
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    end_hydrating();
    flush();
  }
  set_current_component(parent_component);
}
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
    }
    connectedCallback() {
      const { on_mount } = this.$$;
      this.$$.on_disconnect = on_mount.map(run).filter(is_function);
      for (const key in this.$$.slotted) {
        this.appendChild(this.$$.slotted[key]);
      }
    }
    attributeChangedCallback(attr2, _oldValue, newValue) {
      this[attr2] = newValue;
    }
    disconnectedCallback() {
      run_all(this.$$.on_disconnect);
    }
    $destroy() {
      destroy_component(this, 1);
      this.$destroy = noop;
    }
    $on(type, callback) {
      if (!is_function(callback)) {
        return noop;
      }
      const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
      callbacks.push(callback);
      return () => {
        const index = callbacks.indexOf(callback);
        if (index !== -1)
          callbacks.splice(index, 1);
      };
    }
    $set($$props) {
      if (this.$$set && !is_empty($$props)) {
        this.$$.skip_bound = true;
        this.$$set($$props);
        this.$$.skip_bound = false;
      }
    }
  };
}
var SvelteComponent = class {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
};
function dispatch_dev(type, detail) {
  document.dispatchEvent(custom_event(type, Object.assign({ version: "3.59.2" }, detail), { bubbles: true }));
}
function append_dev(target, node) {
  dispatch_dev("SvelteDOMInsert", { target, node });
  append(target, node);
}
function insert_dev(target, node, anchor) {
  dispatch_dev("SvelteDOMInsert", { target, node, anchor });
  insert(target, node, anchor);
}
function detach_dev(node) {
  dispatch_dev("SvelteDOMRemove", { node });
  detach(node);
}
function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {
  const modifiers = options === true ? ["capture"] : options ? Array.from(Object.keys(options)) : [];
  if (has_prevent_default)
    modifiers.push("preventDefault");
  if (has_stop_propagation)
    modifiers.push("stopPropagation");
  if (has_stop_immediate_propagation)
    modifiers.push("stopImmediatePropagation");
  dispatch_dev("SvelteDOMAddEventListener", { node, event, handler, modifiers });
  const dispose = listen(node, event, handler, options);
  return () => {
    dispatch_dev("SvelteDOMRemoveEventListener", { node, event, handler, modifiers });
    dispose();
  };
}
function attr_dev(node, attribute, value) {
  attr(node, attribute, value);
  if (value == null)
    dispatch_dev("SvelteDOMRemoveAttribute", { node, attribute });
  else
    dispatch_dev("SvelteDOMSetAttribute", { node, attribute, value });
}
function prop_dev(node, property, value) {
  node[property] = value;
  dispatch_dev("SvelteDOMSetProperty", { node, property, value });
}
function set_data_dev(text2, data) {
  data = "" + data;
  if (text2.data === data)
    return;
  dispatch_dev("SvelteDOMSetData", { node: text2, data });
  text2.data = data;
}
function validate_each_argument(arg) {
  if (typeof arg !== "string" && !(arg && typeof arg === "object" && "length" in arg)) {
    let msg = "{#each} only iterates over array-like objects.";
    if (typeof Symbol === "function" && arg && Symbol.iterator in arg) {
      msg += " You can use a spread to convert this iterable into an array.";
    }
    throw new Error(msg);
  }
}
function validate_slots(name, slot, keys) {
  for (const slot_key of Object.keys(slot)) {
    if (!~keys.indexOf(slot_key)) {
      console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
    }
  }
}
var SvelteComponentDev = class extends SvelteComponent {
  constructor(options) {
    if (!options || !options.target && !options.$$inline) {
      throw new Error("'target' is a required option");
    }
    super();
  }
  $destroy() {
    super.$destroy();
    this.$destroy = () => {
      console.warn("Component was already destroyed");
    };
  }
  $capture_state() {
  }
  $inject_state() {
  }
};

// node_modules/tslib/tslib.es6.mjs
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// src/components/ReviewHeatmap.svelte
var { console: console_1 } = globals;
var file = "src/components/ReviewHeatmap.svelte";
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[20] = list[i];
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[23] = list[i];
  const constants_0 = new Date(
    /*day*/
    child_ctx[23].date
  ).getFullYear();
  child_ctx[24] = constants_0;
  return child_ctx;
}
function get_each_context_2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[27] = list[i].month;
  child_ctx[28] = list[i].offset;
  return child_ctx;
}
function create_if_block_1(ctx) {
  let span;
  let t0_value = Array.from(
    /*reviewCounts*/
    ctx[0].values()
  ).reduce(func, 0) + "";
  let t0;
  let t1;
  const block = {
    c: function create() {
      span = element("span");
      t0 = text(t0_value);
      t1 = text(" reviews");
      attr_dev(span, "class", "total-reviews svelte-174z3rr");
      add_location(span, file, 178, 16, 5437);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
      append_dev(span, t0);
      append_dev(span, t1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*reviewCounts*/
      1 && t0_value !== (t0_value = Array.from(
        /*reviewCounts*/
        ctx2[0].values()
      ).reduce(func, 0) + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_1.name,
    type: "if",
    source: "(178:12) {#if !isLoading}",
    ctx
  });
  return block;
}
function create_else_block(ctx) {
  let div4;
  let div3;
  let div0;
  let t0;
  let div1;
  let span0;
  let t2;
  let span1;
  let t4;
  let span2;
  let t6;
  let span3;
  let t8;
  let div2;
  let t9;
  let div11;
  let span4;
  let t11;
  let div10;
  let div5;
  let t12;
  let div6;
  let t13;
  let div7;
  let t14;
  let div8;
  let t15;
  let div9;
  let t16;
  let span5;
  let each_value_2 = (
    /*getMonthLabels*/
    ctx[6]()
  );
  validate_each_argument(each_value_2);
  let each_blocks_1 = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks_1[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));
  }
  let each_value = (
    /*weeks*/
    ctx[1]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div4 = element("div");
      div3 = element("div");
      div0 = element("div");
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].c();
      }
      t0 = space();
      div1 = element("div");
      span0 = element("span");
      span0.textContent = "S";
      t2 = space();
      span1 = element("span");
      span1.textContent = "T";
      t4 = space();
      span2 = element("span");
      span2.textContent = "T";
      t6 = space();
      span3 = element("span");
      span3.textContent = "S";
      t8 = space();
      div2 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t9 = space();
      div11 = element("div");
      span4 = element("span");
      span4.textContent = "Less";
      t11 = space();
      div10 = element("div");
      div5 = element("div");
      t12 = space();
      div6 = element("div");
      t13 = space();
      div7 = element("div");
      t14 = space();
      div8 = element("div");
      t15 = space();
      div9 = element("div");
      t16 = space();
      span5 = element("span");
      span5.textContent = "More";
      attr_dev(div0, "class", "month-labels svelte-174z3rr");
      add_location(div0, file, 216, 16, 6757);
      attr_dev(span0, "class", "day-label svelte-174z3rr");
      set_style(span0, "top", "0px");
      add_location(span0, file, 225, 20, 7107);
      attr_dev(span1, "class", "day-label svelte-174z3rr");
      set_style(span1, "top", "18px");
      add_location(span1, file, 226, 20, 7177);
      attr_dev(span2, "class", "day-label svelte-174z3rr");
      set_style(span2, "top", "36px");
      add_location(span2, file, 227, 20, 7248);
      attr_dev(span3, "class", "day-label svelte-174z3rr");
      set_style(span3, "top", "54px");
      add_location(span3, file, 228, 20, 7319);
      attr_dev(div1, "class", "day-labels svelte-174z3rr");
      add_location(div1, file, 224, 16, 7062);
      attr_dev(div2, "class", "heatmap-grid svelte-174z3rr");
      add_location(div2, file, 231, 16, 7410);
      attr_dev(div3, "class", "heatmap-content svelte-174z3rr");
      add_location(div3, file, 215, 12, 6711);
      attr_dev(div4, "class", "heatmap svelte-174z3rr");
      add_location(div4, file, 214, 8, 6677);
      attr_dev(span4, "class", "legend-label svelte-174z3rr");
      add_location(span4, file, 254, 12, 8393);
      attr_dev(div5, "class", "legend-square intensity-0 svelte-174z3rr");
      add_location(div5, file, 256, 16, 8488);
      attr_dev(div6, "class", "legend-square intensity-1 svelte-174z3rr");
      add_location(div6, file, 257, 16, 8550);
      attr_dev(div7, "class", "legend-square intensity-2 svelte-174z3rr");
      add_location(div7, file, 258, 16, 8612);
      attr_dev(div8, "class", "legend-square intensity-3 svelte-174z3rr");
      add_location(div8, file, 259, 16, 8674);
      attr_dev(div9, "class", "legend-square intensity-4 svelte-174z3rr");
      add_location(div9, file, 260, 16, 8736);
      attr_dev(div10, "class", "legend-colors svelte-174z3rr");
      add_location(div10, file, 255, 12, 8444);
      attr_dev(span5, "class", "legend-label svelte-174z3rr");
      add_location(span5, file, 262, 12, 8813);
      attr_dev(div11, "class", "legend svelte-174z3rr");
      add_location(div11, file, 253, 8, 8360);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div4, anchor);
      append_dev(div4, div3);
      append_dev(div3, div0);
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        if (each_blocks_1[i]) {
          each_blocks_1[i].m(div0, null);
        }
      }
      append_dev(div3, t0);
      append_dev(div3, div1);
      append_dev(div1, span0);
      append_dev(div1, t2);
      append_dev(div1, span1);
      append_dev(div1, t4);
      append_dev(div1, span2);
      append_dev(div1, t6);
      append_dev(div1, span3);
      append_dev(div3, t8);
      append_dev(div3, div2);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div2, null);
        }
      }
      insert_dev(target, t9, anchor);
      insert_dev(target, div11, anchor);
      append_dev(div11, span4);
      append_dev(div11, t11);
      append_dev(div11, div10);
      append_dev(div10, div5);
      append_dev(div10, t12);
      append_dev(div10, div6);
      append_dev(div10, t13);
      append_dev(div10, div7);
      append_dev(div10, t14);
      append_dev(div10, div8);
      append_dev(div10, t15);
      append_dev(div10, div9);
      append_dev(div11, t16);
      append_dev(div11, span5);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*getMonthLabels*/
      64) {
        each_value_2 = /*getMonthLabels*/
        ctx2[6]();
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_2(ctx2, each_value_2, i);
          if (each_blocks_1[i]) {
            each_blocks_1[i].p(child_ctx, dirty);
          } else {
            each_blocks_1[i] = create_each_block_2(child_ctx);
            each_blocks_1[i].c();
            each_blocks_1[i].m(div0, null);
          }
        }
        for (; i < each_blocks_1.length; i += 1) {
          each_blocks_1[i].d(1);
        }
        each_blocks_1.length = each_value_2.length;
      }
      if (dirty & /*weeks, getIntensityClass, formatDate, isToday, Date, currentYear*/
      50) {
        each_value = /*weeks*/
        ctx2[1];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div2, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div4);
      destroy_each(each_blocks_1, detaching);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t9);
      if (detaching)
        detach_dev(div11);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block.name,
    type: "else",
    source: "(214:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading...";
      attr_dev(div, "class", "loading svelte-174z3rr");
      add_location(div, file, 212, 8, 6619);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block.name,
    type: "if",
    source: "(212:4) {#if isLoading}",
    ctx
  });
  return block;
}
function create_each_block_2(ctx) {
  let span;
  let t_value = (
    /*month*/
    ctx[27] + ""
  );
  let t;
  const block = {
    c: function create() {
      span = element("span");
      t = text(t_value);
      attr_dev(span, "class", "month-label svelte-174z3rr");
      set_style(
        span,
        "left",
        /*offset*/
        ctx[28] + "px"
      );
      add_location(span, file, 218, 24, 6874);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
      append_dev(span, t);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_2.name,
    type: "each",
    source: "(218:20) {#each getMonthLabels() as { month, offset }}",
    ctx
  });
  return block;
}
function create_each_block_1(ctx) {
  let div;
  let div_class_value;
  let div_title_value;
  const block = {
    c: function create() {
      div = element("div");
      attr_dev(div, "class", div_class_value = "day " + /*getIntensityClass*/
      ctx[5](
        /*day*/
        ctx[23].count
      ) + " svelte-174z3rr");
      attr_dev(div, "title", div_title_value = /*day*/
      ctx[23].count + " reviews on " + formatDate(
        /*day*/
        ctx[23].date
      ));
      toggle_class(div, "today", isToday(
        /*day*/
        ctx[23].date
      ));
      toggle_class(
        div,
        "outside-year",
        /*dayYear*/
        ctx[24] !== /*currentYear*/
        ctx[4]
      );
      add_location(div, file, 238, 32, 7757);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*weeks*/
      2 && div_class_value !== (div_class_value = "day " + /*getIntensityClass*/
      ctx2[5](
        /*day*/
        ctx2[23].count
      ) + " svelte-174z3rr")) {
        attr_dev(div, "class", div_class_value);
      }
      if (dirty & /*weeks*/
      2 && div_title_value !== (div_title_value = /*day*/
      ctx2[23].count + " reviews on " + formatDate(
        /*day*/
        ctx2[23].date
      ))) {
        attr_dev(div, "title", div_title_value);
      }
      if (dirty & /*weeks, isToday, weeks*/
      2) {
        toggle_class(div, "today", isToday(
          /*day*/
          ctx2[23].date
        ));
      }
      if (dirty & /*weeks, Date, weeks, currentYear*/
      18) {
        toggle_class(
          div,
          "outside-year",
          /*dayYear*/
          ctx2[24] !== /*currentYear*/
          ctx2[4]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_1.name,
    type: "each",
    source: "(235:28) {#each week as day}",
    ctx
  });
  return block;
}
function create_each_block(ctx) {
  let div;
  let t;
  let each_value_1 = (
    /*week*/
    ctx[20]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t = space();
      attr_dev(div, "class", "week svelte-174z3rr");
      add_location(div, file, 233, 24, 7503);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      append_dev(div, t);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*getIntensityClass, weeks, formatDate, isToday, Date, currentYear*/
      50) {
        each_value_1 = /*week*/
        ctx2[20];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_1(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, t);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block.name,
    type: "each",
    source: "(233:20) {#each weeks as week}",
    ctx
  });
  return block;
}
function create_fragment(ctx) {
  let div3;
  let div2;
  let div0;
  let h4;
  let t1;
  let t2;
  let div1;
  let button0;
  let svg0;
  let path0;
  let t3;
  let span;
  let t4;
  let t5;
  let button1;
  let svg1;
  let path1;
  let t6;
  let mounted;
  let dispose;
  let if_block0 = !/*isLoading*/
  ctx[2] && create_if_block_1(ctx);
  function select_block_type(ctx2, dirty) {
    if (
      /*isLoading*/
      ctx2[2]
    )
      return create_if_block;
    return create_else_block;
  }
  let current_block_type = select_block_type(ctx, -1);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div3 = element("div");
      div2 = element("div");
      div0 = element("div");
      h4 = element("h4");
      h4.textContent = "Review Activity";
      t1 = space();
      if (if_block0)
        if_block0.c();
      t2 = space();
      div1 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      t3 = space();
      span = element("span");
      t4 = text(
        /*currentYear*/
        ctx[4]
      );
      t5 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path1 = svg_element("path");
      t6 = space();
      if_block1.c();
      attr_dev(h4, "class", "svelte-174z3rr");
      add_location(h4, file, 176, 12, 5367);
      attr_dev(div0, "class", "header-left svelte-174z3rr");
      add_location(div0, file, 175, 8, 5329);
      attr_dev(path0, "d", "M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z");
      add_location(path0, file, 194, 20, 6015);
      attr_dev(svg0, "width", "12");
      attr_dev(svg0, "height", "12");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "currentColor");
      add_location(svg0, file, 188, 16, 5829);
      attr_dev(button0, "class", "nav-button svelte-174z3rr");
      add_location(button0, file, 187, 12, 5747);
      attr_dev(span, "class", "current-year svelte-174z3rr");
      add_location(span, file, 197, 12, 6131);
      attr_dev(path1, "d", "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z");
      add_location(path1, file, 205, 20, 6459);
      attr_dev(svg1, "width", "12");
      attr_dev(svg1, "height", "12");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "currentColor");
      add_location(svg1, file, 199, 16, 6273);
      attr_dev(button1, "class", "nav-button svelte-174z3rr");
      add_location(button1, file, 198, 12, 6191);
      attr_dev(div1, "class", "year-navigation svelte-174z3rr");
      add_location(div1, file, 186, 8, 5705);
      attr_dev(div2, "class", "heatmap-header svelte-174z3rr");
      add_location(div2, file, 174, 4, 5292);
      attr_dev(div3, "class", "heatmap-container svelte-174z3rr");
      add_location(div3, file, 173, 0, 5227);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div2);
      append_dev(div2, div0);
      append_dev(div0, h4);
      append_dev(div0, t1);
      if (if_block0)
        if_block0.m(div0, null);
      append_dev(div2, t2);
      append_dev(div2, div1);
      append_dev(div1, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(div1, t3);
      append_dev(div1, span);
      append_dev(span, t4);
      append_dev(div1, t5);
      append_dev(div1, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path1);
      append_dev(div3, t6);
      if_block1.m(div3, null);
      ctx[14](div3);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[12],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[13],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, [dirty]) {
      if (!/*isLoading*/
      ctx2[2]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_1(ctx2);
          if_block0.c();
          if_block0.m(div0, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty & /*currentYear*/
      16)
        set_data_dev(
          t4,
          /*currentYear*/
          ctx2[4]
        );
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div3, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
      if (if_block0)
        if_block0.d();
      if_block1.d();
      ctx[14](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate(dateStr) {
  const date = new Date(dateStr);
  return date.toLocaleDateString("en-US", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric"
  });
}
function isToday(dateStr) {
  const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
  return dateStr === today;
}
function calculateMaxWeeks(width) {
  if (width === 0)
    return 20;
  const availableWidth = width - 50;
  const weekWidth = 12;
  const calculatedWeeks = Math.floor(availableWidth / weekWidth);
  return Math.min(Math.max(calculatedWeeks, 8), 52);
}
var func = (sum, count) => sum + count;
function instance($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("ReviewHeatmap", slots, []);
  let { getReviewCounts } = $$props;
  let reviewCounts = /* @__PURE__ */ new Map();
  let days = [];
  let weeks = [];
  let maxCount = 0;
  let isLoading = true;
  let containerElement;
  let maxWeeks = 52;
  let containerWidth = 0;
  let currentYear = (/* @__PURE__ */ new Date()).getFullYear();
  const months = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
  ];
  function generateDays() {
    const yearStart = new Date(currentYear, 0, 1);
    const yearEnd = new Date(currentYear, 11, 31);
    const startDate = new Date(yearStart);
    const startDayOfWeek = startDate.getDay();
    startDate.setDate(startDate.getDate() - startDayOfWeek);
    const endDate = new Date(yearEnd);
    const endDayOfWeek = endDate.getDay();
    endDate.setDate(endDate.getDate() + (6 - endDayOfWeek));
    const daysArray = [];
    const current = new Date(startDate);
    while (current <= endDate) {
      const dateStr = current.toISOString().split("T")[0];
      const currentDateYear = current.getFullYear();
      if (currentDateYear === currentYear) {
        const count = reviewCounts.get(dateStr) || 0;
        daysArray.push({
          date: dateStr,
          count,
          dayOfWeek: current.getDay()
        });
        if (count > maxCount) {
          maxCount = count;
        }
      } else {
        daysArray.push({
          date: dateStr,
          count: 0,
          dayOfWeek: current.getDay()
        });
      }
      current.setDate(current.getDate() + 1);
    }
    days = daysArray;
    $$invalidate(1, weeks = []);
    for (let i = 0; i < days.length; i += 7) {
      weeks.push(days.slice(i, i + 7));
    }
  }
  function getIntensityClass(count) {
    if (count === 0)
      return "intensity-0";
    const intensity = Math.min(Math.ceil(count / maxCount * 4), 4);
    return `intensity-${intensity}`;
  }
  function getMonthLabels() {
    if (weeks.length === 0)
      return [];
    const labels = [];
    let currentMonth = -1;
    weeks.forEach((week, weekIndex) => {
      const firstDay = week[0];
      if (firstDay) {
        const date = new Date(firstDay.date);
        const month = date.getMonth();
        const year = date.getFullYear();
        if (year === currentYear && month !== currentMonth) {
          currentMonth = month;
          labels.push({
            month: months[month],
            offset: weekIndex * 12
            // 12px per week (10px square + 2px gap)
          });
        }
      }
    });
    return labels;
  }
  function updateContainerWidth() {
    if (containerElement) {
      $$invalidate(11, containerWidth = containerElement.clientWidth);
    }
  }
  function navigateYear(direction) {
    if (direction === "prev") {
      $$invalidate(4, currentYear--, currentYear);
    } else {
      $$invalidate(4, currentYear++, currentYear);
    }
    refresh();
  }
  function refresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(2, isLoading = true);
      try {
        $$invalidate(0, reviewCounts = yield getReviewCounts(366));
        maxCount = 0;
        generateDays();
      } catch (error) {
        console.error("Failed to load review counts:", error);
      } finally {
        $$invalidate(2, isLoading = false);
      }
    });
  }
  onMount(() => {
    setTimeout(
      () => {
        updateContainerWidth();
        refresh();
      },
      100
    );
  });
  $$self.$$.on_mount.push(function() {
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_1.warn("<ReviewHeatmap> was created without expected prop 'getReviewCounts'");
    }
  });
  const writable_props = ["getReviewCounts"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_1.warn(`<ReviewHeatmap> was created with unknown prop '${key}'`);
  });
  const click_handler = () => navigateYear("prev");
  const click_handler_1 = () => navigateYear("next");
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      containerElement = $$value;
      $$invalidate(3, containerElement);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    getReviewCounts,
    reviewCounts,
    days,
    weeks,
    maxCount,
    isLoading,
    containerElement,
    maxWeeks,
    containerWidth,
    currentYear,
    months,
    generateDays,
    getIntensityClass,
    formatDate,
    isToday,
    getMonthLabels,
    calculateMaxWeeks,
    updateContainerWidth,
    navigateYear,
    refresh
  });
  $$self.$inject_state = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
    if ("reviewCounts" in $$props2)
      $$invalidate(0, reviewCounts = $$props2.reviewCounts);
    if ("days" in $$props2)
      days = $$props2.days;
    if ("weeks" in $$props2)
      $$invalidate(1, weeks = $$props2.weeks);
    if ("maxCount" in $$props2)
      maxCount = $$props2.maxCount;
    if ("isLoading" in $$props2)
      $$invalidate(2, isLoading = $$props2.isLoading);
    if ("containerElement" in $$props2)
      $$invalidate(3, containerElement = $$props2.containerElement);
    if ("maxWeeks" in $$props2)
      $$invalidate(10, maxWeeks = $$props2.maxWeeks);
    if ("containerWidth" in $$props2)
      $$invalidate(11, containerWidth = $$props2.containerWidth);
    if ("currentYear" in $$props2)
      $$invalidate(4, currentYear = $$props2.currentYear);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*containerWidth, maxWeeks*/
    3072) {
      $:
        if (containerWidth > 0) {
          const newMaxWeeks = calculateMaxWeeks(containerWidth);
          if (newMaxWeeks !== maxWeeks) {
            $$invalidate(10, maxWeeks = newMaxWeeks);
            refresh();
          }
        }
    }
  };
  return [
    reviewCounts,
    weeks,
    isLoading,
    containerElement,
    currentYear,
    getIntensityClass,
    getMonthLabels,
    navigateYear,
    getReviewCounts,
    refresh,
    maxWeeks,
    containerWidth,
    click_handler,
    click_handler_1,
    div3_binding
  ];
}
var ReviewHeatmap = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance, create_fragment, safe_not_equal, { getReviewCounts: 8, refresh: 9 });
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "ReviewHeatmap",
      options,
      id: create_fragment.name
    });
  }
  get getReviewCounts() {
    throw new Error("<ReviewHeatmap>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refresh() {
    return this.$$.ctx[9];
  }
  set refresh(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var ReviewHeatmap_default = ReviewHeatmap;

// src/components/DeckConfigModal.ts
var import_obsidian3 = require("obsidian");

// src/components/DeckConfigUI.svelte
var file2 = "src/components/DeckConfigUI.svelte";
function create_fragment2(ctx) {
  let div31;
  let div0;
  let h30;
  let t1;
  let ul;
  let li0;
  let strong0;
  let t3;
  let t4_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t4;
  let t5;
  let li1;
  let strong1;
  let t7;
  let t8_value = (
    /*deck*/
    ctx[0].tag + ""
  );
  let t8;
  let t9;
  let li2;
  let strong2;
  let t11;
  let t12_value = (
    /*deck*/
    ctx[0].filepath + ""
  );
  let t12;
  let t13;
  let div29;
  let h31;
  let t15;
  let div1;
  let t17;
  let div7;
  let div4;
  let div2;
  let t19;
  let div3;
  let t21;
  let div6;
  let label0;
  let input0;
  let t22;
  let div5;
  let t23;
  let div12;
  let div10;
  let div8;
  let t25;
  let div9;
  let t27;
  let div11;
  let input1;
  let input1_disabled_value;
  let t28;
  let div18;
  let div15;
  let div13;
  let t30;
  let div14;
  let t32;
  let div17;
  let label1;
  let input2;
  let t33;
  let div16;
  let t34;
  let div23;
  let div21;
  let div19;
  let t36;
  let div20;
  let t38;
  let div22;
  let input3;
  let input3_disabled_value;
  let t39;
  let div28;
  let div26;
  let div24;
  let t41;
  let div25;
  let t43;
  let div27;
  let select;
  let option0;
  let option1;
  let t46;
  let div30;
  let button0;
  let t47_value = (
    /*saving*/
    ctx[6] ? "Saving..." : "Save"
  );
  let t47;
  let t48;
  let button1;
  let t49;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div31 = element("div");
      div0 = element("div");
      h30 = element("h3");
      h30.textContent = "Deck Information";
      t1 = space();
      ul = element("ul");
      li0 = element("li");
      strong0 = element("strong");
      strong0.textContent = "Name:";
      t3 = space();
      t4 = text(t4_value);
      t5 = space();
      li1 = element("li");
      strong1 = element("strong");
      strong1.textContent = "Tag:";
      t7 = space();
      t8 = text(t8_value);
      t9 = space();
      li2 = element("li");
      strong2 = element("strong");
      strong2.textContent = "File:";
      t11 = space();
      t12 = text(t12_value);
      t13 = space();
      div29 = element("div");
      h31 = element("h3");
      h31.textContent = "Daily Card Limits";
      t15 = space();
      div1 = element("div");
      div1.textContent = "Learning/relearning cards are always shown and not subject to these\n            limits.";
      t17 = space();
      div7 = element("div");
      div4 = element("div");
      div2 = element("div");
      div2.textContent = "Enable New Cards Limit";
      t19 = space();
      div3 = element("div");
      div3.textContent = "Limit how many new cards (never seen before) can be shown\n                    per day";
      t21 = space();
      div6 = element("div");
      label0 = element("label");
      input0 = element("input");
      t22 = space();
      div5 = element("div");
      t23 = space();
      div12 = element("div");
      div10 = element("div");
      div8 = element("div");
      div8.textContent = "New Cards per Day";
      t25 = space();
      div9 = element("div");
      div9.textContent = "Maximum number of new cards to introduce per day";
      t27 = space();
      div11 = element("div");
      input1 = element("input");
      t28 = space();
      div18 = element("div");
      div15 = element("div");
      div13 = element("div");
      div13.textContent = "Enable Review Cards Limit";
      t30 = space();
      div14 = element("div");
      div14.textContent = "Limit how many review cards (due for repetition) can be\n                    shown per day";
      t32 = space();
      div17 = element("div");
      label1 = element("label");
      input2 = element("input");
      t33 = space();
      div16 = element("div");
      t34 = space();
      div23 = element("div");
      div21 = element("div");
      div19 = element("div");
      div19.textContent = "Review Cards per Day";
      t36 = space();
      div20 = element("div");
      div20.textContent = "Maximum number of review cards to show per day";
      t38 = space();
      div22 = element("div");
      input3 = element("input");
      t39 = space();
      div28 = element("div");
      div26 = element("div");
      div24 = element("div");
      div24.textContent = "Review Order";
      t41 = space();
      div25 = element("div");
      div25.textContent = "Order in which review cards are presented during study";
      t43 = space();
      div27 = element("div");
      select = element("select");
      option0 = element("option");
      option0.textContent = "Oldest due first";
      option1 = element("option");
      option1.textContent = "Random order";
      t46 = space();
      div30 = element("div");
      button0 = element("button");
      t47 = text(t47_value);
      t48 = space();
      button1 = element("button");
      t49 = text("Cancel");
      attr_dev(h30, "class", "svelte-8i91g7");
      add_location(h30, file2, 47, 8, 1387);
      attr_dev(strong0, "class", "svelte-8i91g7");
      add_location(strong0, file2, 49, 16, 1465);
      attr_dev(li0, "class", "svelte-8i91g7");
      add_location(li0, file2, 49, 12, 1461);
      attr_dev(strong1, "class", "svelte-8i91g7");
      add_location(strong1, file2, 50, 16, 1521);
      attr_dev(li1, "class", "svelte-8i91g7");
      add_location(li1, file2, 50, 12, 1517);
      attr_dev(strong2, "class", "svelte-8i91g7");
      add_location(strong2, file2, 51, 16, 1575);
      attr_dev(li2, "class", "svelte-8i91g7");
      add_location(li2, file2, 51, 12, 1571);
      attr_dev(ul, "class", "deck-info-list svelte-8i91g7");
      add_location(ul, file2, 48, 8, 1421);
      attr_dev(div0, "class", "deck-info-section svelte-8i91g7");
      add_location(div0, file2, 46, 4, 1347);
      attr_dev(h31, "class", "svelte-8i91g7");
      add_location(h31, file2, 57, 8, 1723);
      attr_dev(div1, "class", "setting-item-description-global svelte-8i91g7");
      add_location(div1, file2, 58, 8, 1758);
      attr_dev(div2, "class", "setting-item-name svelte-8i91g7");
      add_location(div2, file2, 66, 16, 2050);
      attr_dev(div3, "class", "setting-item-description svelte-8i91g7");
      add_location(div3, file2, 67, 16, 2126);
      attr_dev(div4, "class", "setting-item-info svelte-8i91g7");
      add_location(div4, file2, 65, 12, 2002);
      attr_dev(input0, "type", "checkbox");
      attr_dev(input0, "class", "checkbox-input svelte-8i91g7");
      add_location(input0, file2, 74, 20, 2431);
      attr_dev(div5, "class", "checkbox-slider svelte-8i91g7");
      add_location(div5, file2, 79, 20, 2627);
      attr_dev(label0, "class", "checkbox-container svelte-8i91g7");
      add_location(label0, file2, 73, 16, 2376);
      attr_dev(div6, "class", "setting-item-control svelte-8i91g7");
      add_location(div6, file2, 72, 12, 2325);
      attr_dev(div7, "class", "setting-item svelte-8i91g7");
      add_location(div7, file2, 64, 8, 1963);
      attr_dev(div8, "class", "setting-item-name svelte-8i91g7");
      add_location(div8, file2, 86, 16, 2856);
      attr_dev(div9, "class", "setting-item-description svelte-8i91g7");
      add_location(div9, file2, 87, 16, 2927);
      attr_dev(div10, "class", "setting-item-info svelte-8i91g7");
      add_location(div10, file2, 85, 12, 2808);
      attr_dev(input1, "type", "number");
      attr_dev(input1, "min", "0");
      attr_dev(input1, "max", "999");
      input1.disabled = input1_disabled_value = !/*enableNewCardsLimit*/
      ctx[3];
      attr_dev(input1, "class", "session-limit-input svelte-8i91g7");
      attr_dev(input1, "placeholder", "20");
      add_location(input1, file2, 92, 16, 3140);
      attr_dev(div11, "class", "setting-item-control svelte-8i91g7");
      add_location(div11, file2, 91, 12, 3089);
      attr_dev(div12, "class", "setting-item svelte-8i91g7");
      toggle_class(div12, "disabled", !/*enableNewCardsLimit*/
      ctx[3]);
      add_location(div12, file2, 84, 8, 2731);
      attr_dev(div13, "class", "setting-item-name svelte-8i91g7");
      add_location(div13, file2, 107, 16, 3610);
      attr_dev(div14, "class", "setting-item-description svelte-8i91g7");
      add_location(div14, file2, 108, 16, 3689);
      attr_dev(div15, "class", "setting-item-info svelte-8i91g7");
      add_location(div15, file2, 106, 12, 3562);
      attr_dev(input2, "type", "checkbox");
      attr_dev(input2, "class", "checkbox-input svelte-8i91g7");
      add_location(input2, file2, 115, 20, 3998);
      attr_dev(div16, "class", "checkbox-slider svelte-8i91g7");
      add_location(div16, file2, 120, 20, 4197);
      attr_dev(label1, "class", "checkbox-container svelte-8i91g7");
      add_location(label1, file2, 114, 16, 3943);
      attr_dev(div17, "class", "setting-item-control svelte-8i91g7");
      add_location(div17, file2, 113, 12, 3892);
      attr_dev(div18, "class", "setting-item svelte-8i91g7");
      add_location(div18, file2, 105, 8, 3523);
      attr_dev(div19, "class", "setting-item-name svelte-8i91g7");
      add_location(div19, file2, 127, 16, 4429);
      attr_dev(div20, "class", "setting-item-description svelte-8i91g7");
      add_location(div20, file2, 128, 16, 4503);
      attr_dev(div21, "class", "setting-item-info svelte-8i91g7");
      add_location(div21, file2, 126, 12, 4381);
      attr_dev(input3, "type", "number");
      attr_dev(input3, "min", "0");
      attr_dev(input3, "max", "9999");
      input3.disabled = input3_disabled_value = !/*enableReviewCardsLimit*/
      ctx[4];
      attr_dev(input3, "class", "session-limit-input svelte-8i91g7");
      attr_dev(input3, "placeholder", "100");
      add_location(input3, file2, 133, 16, 4714);
      attr_dev(div22, "class", "setting-item-control svelte-8i91g7");
      add_location(div22, file2, 132, 12, 4663);
      attr_dev(div23, "class", "setting-item svelte-8i91g7");
      toggle_class(div23, "disabled", !/*enableReviewCardsLimit*/
      ctx[4]);
      add_location(div23, file2, 125, 8, 4301);
      attr_dev(div24, "class", "setting-item-name svelte-8i91g7");
      add_location(div24, file2, 148, 16, 5192);
      attr_dev(div25, "class", "setting-item-description svelte-8i91g7");
      add_location(div25, file2, 149, 16, 5258);
      attr_dev(div26, "class", "setting-item-info svelte-8i91g7");
      add_location(div26, file2, 147, 12, 5144);
      option0.__value = "due-date";
      option0.value = option0.__value;
      add_location(option0, file2, 155, 20, 5559);
      option1.__value = "random";
      option1.value = option1.__value;
      add_location(option1, file2, 156, 20, 5630);
      attr_dev(select, "class", "review-order-select svelte-8i91g7");
      if (
        /*reviewOrder*/
        ctx[5] === void 0
      )
        add_render_callback(() => (
          /*select_change_handler*/
          ctx[15].call(select)
        ));
      add_location(select, file2, 154, 16, 5477);
      attr_dev(div27, "class", "setting-item-control svelte-8i91g7");
      add_location(div27, file2, 153, 12, 5426);
      attr_dev(div28, "class", "setting-item svelte-8i91g7");
      add_location(div28, file2, 146, 8, 5105);
      attr_dev(div29, "class", "deck-settings-section svelte-8i91g7");
      add_location(div29, file2, 56, 4, 1679);
      attr_dev(button0, "class", "mod-cta svelte-8i91g7");
      button0.disabled = /*saving*/
      ctx[6];
      add_location(button0, file2, 164, 8, 5814);
      button1.disabled = /*saving*/
      ctx[6];
      attr_dev(button1, "class", "svelte-8i91g7");
      add_location(button1, file2, 167, 8, 5949);
      attr_dev(div30, "class", "modal-footer svelte-8i91g7");
      add_location(div30, file2, 163, 4, 5779);
      attr_dev(div31, "class", "deck-config-ui svelte-8i91g7");
      add_location(div31, file2, 44, 0, 1276);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div31, anchor);
      append_dev(div31, div0);
      append_dev(div0, h30);
      append_dev(div0, t1);
      append_dev(div0, ul);
      append_dev(ul, li0);
      append_dev(li0, strong0);
      append_dev(li0, t3);
      append_dev(li0, t4);
      append_dev(ul, t5);
      append_dev(ul, li1);
      append_dev(li1, strong1);
      append_dev(li1, t7);
      append_dev(li1, t8);
      append_dev(ul, t9);
      append_dev(ul, li2);
      append_dev(li2, strong2);
      append_dev(li2, t11);
      append_dev(li2, t12);
      append_dev(div31, t13);
      append_dev(div31, div29);
      append_dev(div29, h31);
      append_dev(div29, t15);
      append_dev(div29, div1);
      append_dev(div29, t17);
      append_dev(div29, div7);
      append_dev(div7, div4);
      append_dev(div4, div2);
      append_dev(div4, t19);
      append_dev(div4, div3);
      append_dev(div7, t21);
      append_dev(div7, div6);
      append_dev(div6, label0);
      append_dev(label0, input0);
      input0.checked = /*enableNewCardsLimit*/
      ctx[3];
      append_dev(label0, t22);
      append_dev(label0, div5);
      append_dev(div29, t23);
      append_dev(div29, div12);
      append_dev(div12, div10);
      append_dev(div10, div8);
      append_dev(div10, t25);
      append_dev(div10, div9);
      append_dev(div12, t27);
      append_dev(div12, div11);
      append_dev(div11, input1);
      set_input_value(
        input1,
        /*newCardsLimit*/
        ctx[1]
      );
      append_dev(div29, t28);
      append_dev(div29, div18);
      append_dev(div18, div15);
      append_dev(div15, div13);
      append_dev(div15, t30);
      append_dev(div15, div14);
      append_dev(div18, t32);
      append_dev(div18, div17);
      append_dev(div17, label1);
      append_dev(label1, input2);
      input2.checked = /*enableReviewCardsLimit*/
      ctx[4];
      append_dev(label1, t33);
      append_dev(label1, div16);
      append_dev(div29, t34);
      append_dev(div29, div23);
      append_dev(div23, div21);
      append_dev(div21, div19);
      append_dev(div21, t36);
      append_dev(div21, div20);
      append_dev(div23, t38);
      append_dev(div23, div22);
      append_dev(div22, input3);
      set_input_value(
        input3,
        /*reviewCardsLimit*/
        ctx[2]
      );
      append_dev(div29, t39);
      append_dev(div29, div28);
      append_dev(div28, div26);
      append_dev(div26, div24);
      append_dev(div26, t41);
      append_dev(div26, div25);
      append_dev(div28, t43);
      append_dev(div28, div27);
      append_dev(div27, select);
      append_dev(select, option0);
      append_dev(select, option1);
      select_option(
        select,
        /*reviewOrder*/
        ctx[5],
        true
      );
      append_dev(div31, t46);
      append_dev(div31, div30);
      append_dev(div30, button0);
      append_dev(button0, t47);
      append_dev(div30, t48);
      append_dev(div30, button1);
      append_dev(button1, t49);
      if (!mounted) {
        dispose = [
          listen_dev(
            window,
            "keydown",
            /*handleKeydown*/
            ctx[9],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input0,
            "change",
            /*input0_change_handler*/
            ctx[11]
          ),
          listen_dev(
            input1,
            "input",
            /*input1_input_handler*/
            ctx[12]
          ),
          listen_dev(
            input2,
            "change",
            /*input2_change_handler*/
            ctx[13]
          ),
          listen_dev(
            input3,
            "input",
            /*input3_input_handler*/
            ctx[14]
          ),
          listen_dev(
            select,
            "change",
            /*select_change_handler*/
            ctx[15]
          ),
          listen_dev(
            button0,
            "click",
            /*handleSave*/
            ctx[7],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*handleCancel*/
            ctx[8],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, [dirty]) {
      if (dirty & /*deck*/
      1 && t4_value !== (t4_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t4, t4_value);
      if (dirty & /*deck*/
      1 && t8_value !== (t8_value = /*deck*/
      ctx2[0].tag + ""))
        set_data_dev(t8, t8_value);
      if (dirty & /*deck*/
      1 && t12_value !== (t12_value = /*deck*/
      ctx2[0].filepath + ""))
        set_data_dev(t12, t12_value);
      if (dirty & /*enableNewCardsLimit*/
      8) {
        input0.checked = /*enableNewCardsLimit*/
        ctx2[3];
      }
      if (dirty & /*enableNewCardsLimit*/
      8 && input1_disabled_value !== (input1_disabled_value = !/*enableNewCardsLimit*/
      ctx2[3])) {
        prop_dev(input1, "disabled", input1_disabled_value);
      }
      if (dirty & /*newCardsLimit*/
      2 && to_number(input1.value) !== /*newCardsLimit*/
      ctx2[1]) {
        set_input_value(
          input1,
          /*newCardsLimit*/
          ctx2[1]
        );
      }
      if (dirty & /*enableNewCardsLimit*/
      8) {
        toggle_class(div12, "disabled", !/*enableNewCardsLimit*/
        ctx2[3]);
      }
      if (dirty & /*enableReviewCardsLimit*/
      16) {
        input2.checked = /*enableReviewCardsLimit*/
        ctx2[4];
      }
      if (dirty & /*enableReviewCardsLimit*/
      16 && input3_disabled_value !== (input3_disabled_value = !/*enableReviewCardsLimit*/
      ctx2[4])) {
        prop_dev(input3, "disabled", input3_disabled_value);
      }
      if (dirty & /*reviewCardsLimit*/
      4 && to_number(input3.value) !== /*reviewCardsLimit*/
      ctx2[2]) {
        set_input_value(
          input3,
          /*reviewCardsLimit*/
          ctx2[2]
        );
      }
      if (dirty & /*enableReviewCardsLimit*/
      16) {
        toggle_class(div23, "disabled", !/*enableReviewCardsLimit*/
        ctx2[4]);
      }
      if (dirty & /*reviewOrder*/
      32) {
        select_option(
          select,
          /*reviewOrder*/
          ctx2[5]
        );
      }
      if (dirty & /*saving*/
      64 && t47_value !== (t47_value = /*saving*/
      ctx2[6] ? "Saving..." : "Save"))
        set_data_dev(t47, t47_value);
      if (dirty & /*saving*/
      64) {
        prop_dev(
          button0,
          "disabled",
          /*saving*/
          ctx2[6]
        );
      }
      if (dirty & /*saving*/
      64) {
        prop_dev(
          button1,
          "disabled",
          /*saving*/
          ctx2[6]
        );
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div31);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment2.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance2($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckConfigUI", slots, []);
  let { deck } = $$props;
  let { config } = $$props;
  const dispatch = createEventDispatcher();
  let newCardsLimit = config.newCardsLimit;
  let reviewCardsLimit = config.reviewCardsLimit;
  let enableNewCardsLimit = config.enableNewCardsLimit;
  let enableReviewCardsLimit = config.enableReviewCardsLimit;
  let reviewOrder = config.reviewOrder;
  let saving = false;
  function handleSave() {
    $$invalidate(6, saving = true);
    const finalConfig = {
      newCardsLimit: Number(newCardsLimit) || 0,
      reviewCardsLimit: Number(reviewCardsLimit) || 0,
      enableNewCardsLimit,
      enableReviewCardsLimit,
      reviewOrder
    };
    dispatch("save", finalConfig);
  }
  function handleCancel() {
    dispatch("cancel");
  }
  function handleKeydown(event) {
    if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
      handleSave();
    }
  }
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'deck'");
    }
    if (config === void 0 && !("config" in $$props || $$self.$$.bound[$$self.$$.props["config"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'config'");
    }
  });
  const writable_props = ["deck", "config"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console.warn(`<DeckConfigUI> was created with unknown prop '${key}'`);
  });
  function input0_change_handler() {
    enableNewCardsLimit = this.checked;
    $$invalidate(3, enableNewCardsLimit);
  }
  function input1_input_handler() {
    newCardsLimit = to_number(this.value);
    $$invalidate(1, newCardsLimit);
  }
  function input2_change_handler() {
    enableReviewCardsLimit = this.checked;
    $$invalidate(4, enableReviewCardsLimit);
  }
  function input3_input_handler() {
    reviewCardsLimit = to_number(this.value);
    $$invalidate(2, reviewCardsLimit);
  }
  function select_change_handler() {
    reviewOrder = select_value(this);
    $$invalidate(5, reviewOrder);
  }
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(10, config = $$props2.config);
  };
  $$self.$capture_state = () => ({
    createEventDispatcher,
    deck,
    config,
    dispatch,
    newCardsLimit,
    reviewCardsLimit,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    reviewOrder,
    saving,
    handleSave,
    handleCancel,
    handleKeydown
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(10, config = $$props2.config);
    if ("newCardsLimit" in $$props2)
      $$invalidate(1, newCardsLimit = $$props2.newCardsLimit);
    if ("reviewCardsLimit" in $$props2)
      $$invalidate(2, reviewCardsLimit = $$props2.reviewCardsLimit);
    if ("enableNewCardsLimit" in $$props2)
      $$invalidate(3, enableNewCardsLimit = $$props2.enableNewCardsLimit);
    if ("enableReviewCardsLimit" in $$props2)
      $$invalidate(4, enableReviewCardsLimit = $$props2.enableReviewCardsLimit);
    if ("reviewOrder" in $$props2)
      $$invalidate(5, reviewOrder = $$props2.reviewOrder);
    if ("saving" in $$props2)
      $$invalidate(6, saving = $$props2.saving);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*newCardsLimit, reviewCardsLimit, enableNewCardsLimit, enableReviewCardsLimit, reviewOrder*/
    62) {
      $: {
        const newConfig = {
          newCardsLimit: Number(newCardsLimit) || 0,
          reviewCardsLimit: Number(reviewCardsLimit) || 0,
          enableNewCardsLimit,
          enableReviewCardsLimit,
          reviewOrder
        };
        dispatch("configChange", newConfig);
      }
    }
  };
  return [
    deck,
    newCardsLimit,
    reviewCardsLimit,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    reviewOrder,
    saving,
    handleSave,
    handleCancel,
    handleKeydown,
    config,
    input0_change_handler,
    input1_input_handler,
    input2_change_handler,
    input3_input_handler,
    select_change_handler
  ];
}
var DeckConfigUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance2, create_fragment2, safe_not_equal, { deck: 0, config: 10 });
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckConfigUI",
      options,
      id: create_fragment2.name
    });
  }
  get deck() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get config() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set config(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckConfigUI_default = DeckConfigUI;

// src/components/DeckConfigModal.ts
var DeckConfigModal = class extends import_obsidian3.Modal {
  constructor(plugin, deck, onSave) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
    this.deck = deck;
    this.onSave = onSave;
    this.config = { ...deck.config };
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: `Configure Deck: ${this.deck.name}` });
    const componentContainer = contentEl.createDiv("deck-config-container");
    componentContainer.addClass("deck-config-container");
    this.component = new DeckConfigUI_default({
      target: componentContainer,
      props: {
        deck: this.deck,
        config: this.config
      }
    });
    this.component.$on("save", (event) => {
      this.handleSave(event.detail);
    });
    this.component.$on("cancel", () => {
      this.close();
    });
    this.component.$on("configChange", (event) => {
      this.config = event.detail;
    });
  }
  async handleSave(config) {
    try {
      await this.onSave(config);
      this.close();
    } catch (error) {
      console.error("Error saving deck configuration:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/DeckListPanel.svelte
var { console: console_12 } = globals;
var file3 = "src/components/DeckListPanel.svelte";
function get_each_context2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[38] = list[i];
  const constants_0 = (
    /*getDeckStats*/
    child_ctx[13](
      /*deck*/
      child_ctx[38].id
    )
  );
  child_ctx[12] = constants_0;
  return child_ctx;
}
function get_each_context_22(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[41] = list[i];
  return child_ctx;
}
function get_each_context_12(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[41] = list[i];
  return child_ctx;
}
function create_if_block_5(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_2 = (
    /*availableTags*/
    ctx[7].slice(0, 5)
  );
  validate_each_argument(each_value_2);
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_22(get_each_context_22(ctx, each_value_2, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags (click to filter):";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-oasr8b");
      add_location(div0, file3, 225, 20, 7070);
      attr_dev(div1, "class", "suggestions-dropdown svelte-oasr8b");
      add_location(div1, file3, 224, 16, 7015);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, availableTags*/
      65664) {
        each_value_2 = /*availableTags*/
        ctx2[7].slice(0, 5);
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_22(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_22(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_2.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_5.name,
    type: "if",
    source: "(224:85) ",
    ctx
  });
  return block;
}
function create_if_block_4(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_1 = (
    /*filteredSuggestions*/
    ctx[8]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_12(get_each_context_12(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags:";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-oasr8b");
      add_location(div0, file3, 212, 20, 6457);
      attr_dev(div1, "class", "suggestions-dropdown svelte-oasr8b");
      add_location(div1, file3, 211, 16, 6402);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, filteredSuggestions*/
      65792) {
        each_value_1 = /*filteredSuggestions*/
        ctx2[8];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_12(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_12(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_4.name,
    type: "if",
    source: "(211:12) {#if showSuggestions && filteredSuggestions.length > 0}",
    ctx
  });
  return block;
}
function create_each_block_22(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[41] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler_1() {
    return (
      /*mousedown_handler_1*/
      ctx[31](
        /*tag*/
        ctx[41]
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-oasr8b");
      add_location(button, file3, 229, 24, 7273);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = listen_dev(button, "mousedown", prevent_default(mousedown_handler_1), false, true, false, false);
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*availableTags*/
      128 && t0_value !== (t0_value = /*tag*/
      ctx[41] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      dispose();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_22.name,
    type: "each",
    source: "(229:20) {#each availableTags.slice(0, 5) as tag}",
    ctx
  });
  return block;
}
function create_each_block_12(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[41] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler() {
    return (
      /*mousedown_handler*/
      ctx[30](
        /*tag*/
        ctx[41]
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-oasr8b");
      add_location(button, file3, 214, 24, 6590);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = listen_dev(button, "mousedown", prevent_default(mousedown_handler), false, true, false, false);
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*filteredSuggestions*/
      256 && t0_value !== (t0_value = /*tag*/
      ctx[41] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      dispose();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_12.name,
    type: "each",
    source: "(214:20) {#each filteredSuggestions as tag}",
    ctx
  });
  return block;
}
function create_else_block2(ctx) {
  let div7;
  let div5;
  let div0;
  let t1;
  let div1;
  let t3;
  let div2;
  let t5;
  let div3;
  let t7;
  let div4;
  let t8;
  let div6;
  let each_value = (
    /*decks*/
    ctx[2]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block2(get_each_context2(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div7 = element("div");
      div5 = element("div");
      div0 = element("div");
      div0.textContent = "Deck";
      t1 = space();
      div1 = element("div");
      div1.textContent = "New";
      t3 = space();
      div2 = element("div");
      div2.textContent = "Learn";
      t5 = space();
      div3 = element("div");
      div3.textContent = "Due";
      t7 = space();
      div4 = element("div");
      t8 = space();
      div6 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "col-deck svelte-oasr8b");
      add_location(div0, file3, 257, 16, 8183);
      attr_dev(div1, "class", "col-stat svelte-oasr8b");
      add_location(div1, file3, 258, 16, 8232);
      attr_dev(div2, "class", "col-stat svelte-oasr8b");
      add_location(div2, file3, 259, 16, 8280);
      attr_dev(div3, "class", "col-stat svelte-oasr8b");
      add_location(div3, file3, 260, 16, 8330);
      attr_dev(div4, "class", "col-config svelte-oasr8b");
      add_location(div4, file3, 261, 16, 8378);
      attr_dev(div5, "class", "table-header svelte-oasr8b");
      add_location(div5, file3, 256, 12, 8140);
      attr_dev(div6, "class", "table-body svelte-oasr8b");
      add_location(div6, file3, 264, 12, 8441);
      attr_dev(div7, "class", "deck-table svelte-oasr8b");
      add_location(div7, file3, 255, 8, 8103);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div7, anchor);
      append_dev(div7, div5);
      append_dev(div5, div0);
      append_dev(div5, t1);
      append_dev(div5, div1);
      append_dev(div5, t3);
      append_dev(div5, div2);
      append_dev(div5, t5);
      append_dev(div5, div3);
      append_dev(div5, t7);
      append_dev(div5, div4);
      append_dev(div7, t8);
      append_dev(div7, div6);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div6, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*decks, handleConfigClick, getDeckStats, isUpdatingStats, handleDeckClick*/
      1583108) {
        each_value = /*decks*/
        ctx2[2];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context2(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div6, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div7);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block2.name,
    type: "else",
    source: "(255:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_12(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No decks match your filter.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Try adjusting your search terms.";
      attr_dev(p0, "class", "svelte-oasr8b");
      add_location(p0, file3, 251, 12, 7963);
      attr_dev(p1, "class", "help-text svelte-oasr8b");
      add_location(p1, file3, 252, 12, 8010);
      attr_dev(div, "class", "empty-state svelte-oasr8b");
      add_location(div, file3, 250, 8, 7925);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_12.name,
    type: "if",
    source: "(250:33) ",
    ctx
  });
  return block;
}
function create_if_block2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No flashcard decks found.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Tag your notes with #flashcards to create decks.";
      attr_dev(p0, "class", "svelte-oasr8b");
      add_location(p0, file3, 244, 12, 7719);
      attr_dev(p1, "class", "help-text svelte-oasr8b");
      add_location(p1, file3, 245, 12, 7764);
      attr_dev(div, "class", "empty-state svelte-oasr8b");
      add_location(div, file3, 243, 8, 7681);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block2.name,
    type: "if",
    source: "(243:4) {#if allDecks.length === 0}",
    ctx
  });
  return block;
}
function create_if_block_3(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-oasr8b");
      add_location(span, file3, 292, 32, 9956);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_3.name,
    type: "if",
    source: "(292:28) {#if deck.config.enableNewCardsLimit}",
    ctx
  });
  return block;
}
function create_if_block_2(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-oasr8b");
      add_location(span, file3, 313, 32, 11092);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_2.name,
    type: "if",
    source: "(313:28) {#if deck.config.enableReviewCardsLimit}",
    ctx
  });
  return block;
}
function create_each_block2(ctx) {
  let div5;
  let div0;
  let span;
  let t0_value = formatDeckName(
    /*deck*/
    ctx[38]
  ) + "";
  let t0;
  let span_title_value;
  let t1;
  let div1;
  let t2_value = (
    /*stats*/
    ctx[12].newCount + ""
  );
  let t2;
  let t3;
  let div1_title_value;
  let t4;
  let div2;
  let t5_value = (
    /*stats*/
    ctx[12].learningCount + ""
  );
  let t5;
  let t6;
  let div3;
  let t7_value = (
    /*stats*/
    ctx[12].dueCount + ""
  );
  let t7;
  let t8;
  let div3_title_value;
  let t9;
  let div4;
  let button;
  let svg;
  let circle;
  let path;
  let button_aria_label_value;
  let t10;
  let mounted;
  let dispose;
  function click_handler() {
    return (
      /*click_handler*/
      ctx[32](
        /*deck*/
        ctx[38]
      )
    );
  }
  function keydown_handler(...args) {
    return (
      /*keydown_handler*/
      ctx[33](
        /*deck*/
        ctx[38],
        ...args
      )
    );
  }
  let if_block0 = (
    /*deck*/
    ctx[38].config.enableNewCardsLimit && create_if_block_3(ctx)
  );
  let if_block1 = (
    /*deck*/
    ctx[38].config.enableReviewCardsLimit && create_if_block_2(ctx)
  );
  function click_handler_1(...args) {
    return (
      /*click_handler_1*/
      ctx[34](
        /*deck*/
        ctx[38],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      div5 = element("div");
      div0 = element("div");
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      if (if_block0)
        if_block0.c();
      t4 = space();
      div2 = element("div");
      t5 = text(t5_value);
      t6 = space();
      div3 = element("div");
      t7 = text(t7_value);
      t8 = space();
      if (if_block1)
        if_block1.c();
      t9 = space();
      div4 = element("div");
      button = element("button");
      svg = svg_element("svg");
      circle = svg_element("circle");
      path = svg_element("path");
      t10 = space();
      attr_dev(span, "class", "deck-name-link svelte-oasr8b");
      attr_dev(span, "role", "button");
      attr_dev(span, "tabindex", "0");
      attr_dev(span, "title", span_title_value = "Click to review " + /*deck*/
      ctx[38].name);
      add_location(span, file3, 269, 28, 8681);
      attr_dev(div0, "class", "col-deck svelte-oasr8b");
      add_location(div0, file3, 268, 24, 8630);
      attr_dev(div1, "class", "col-stat svelte-oasr8b");
      attr_dev(div1, "title", div1_title_value = /*deck*/
      ctx[38].config.enableNewCardsLimit ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[38].config.newCardsLimit})` : `${/*stats*/
      ctx[12].newCount} new cards due`);
      toggle_class(
        div1,
        "has-cards",
        /*stats*/
        ctx[12].newCount > 0
      );
      toggle_class(
        div1,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div1,
        "has-limit",
        /*deck*/
        ctx[38].config.enableNewCardsLimit
      );
      add_location(div1, file3, 281, 24, 9279);
      attr_dev(div2, "class", "col-stat svelte-oasr8b");
      toggle_class(
        div2,
        "has-cards",
        /*stats*/
        ctx[12].learningCount > 0
      );
      toggle_class(
        div2,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      add_location(div2, file3, 295, 24, 10085);
      attr_dev(div3, "class", "col-stat svelte-oasr8b");
      attr_dev(div3, "title", div3_title_value = /*deck*/
      ctx[38].config.enableReviewCardsLimit ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[38].config.reviewCardsLimit})` : `${/*stats*/
      ctx[12].dueCount} review cards due`);
      toggle_class(
        div3,
        "has-cards",
        /*stats*/
        ctx[12].dueCount > 0
      );
      toggle_class(
        div3,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div3,
        "has-limit",
        /*deck*/
        ctx[38].config.enableReviewCardsLimit
      );
      add_location(div3, file3, 302, 24, 10397);
      attr_dev(circle, "cx", "12");
      attr_dev(circle, "cy", "12");
      attr_dev(circle, "r", "3");
      add_location(circle, file3, 334, 36, 12186);
      attr_dev(path, "d", "M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z");
      add_location(path, file3, 335, 36, 12262);
      attr_dev(svg, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg, "width", "16");
      attr_dev(svg, "height", "16");
      attr_dev(svg, "viewBox", "0 0 24 24");
      attr_dev(svg, "fill", "none");
      attr_dev(svg, "stroke", "currentColor");
      attr_dev(svg, "stroke-width", "2");
      attr_dev(svg, "stroke-linecap", "round");
      attr_dev(svg, "stroke-linejoin", "round");
      add_location(svg, file3, 323, 32, 11611);
      attr_dev(button, "class", "deck-config-button svelte-oasr8b");
      attr_dev(button, "title", "Configure deck settings");
      attr_dev(button, "aria-label", button_aria_label_value = "Configure " + /*deck*/
      ctx[38].name);
      add_location(button, file3, 317, 28, 11274);
      attr_dev(div4, "class", "col-config svelte-oasr8b");
      add_location(div4, file3, 316, 24, 11221);
      attr_dev(div5, "class", "deck-row svelte-oasr8b");
      add_location(div5, file3, 267, 20, 8583);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div0);
      append_dev(div0, span);
      append_dev(span, t0);
      append_dev(div5, t1);
      append_dev(div5, div1);
      append_dev(div1, t2);
      append_dev(div1, t3);
      if (if_block0)
        if_block0.m(div1, null);
      append_dev(div5, t4);
      append_dev(div5, div2);
      append_dev(div2, t5);
      append_dev(div5, t6);
      append_dev(div5, div3);
      append_dev(div3, t7);
      append_dev(div3, t8);
      if (if_block1)
        if_block1.m(div3, null);
      append_dev(div5, t9);
      append_dev(div5, div4);
      append_dev(div4, button);
      append_dev(button, svg);
      append_dev(svg, circle);
      append_dev(svg, path);
      append_dev(div5, t10);
      if (!mounted) {
        dispose = [
          listen_dev(span, "click", click_handler, false, false, false, false),
          listen_dev(span, "keydown", keydown_handler, false, false, false, false),
          listen_dev(button, "click", click_handler_1, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*decks*/
      4 && t0_value !== (t0_value = formatDeckName(
        /*deck*/
        ctx[38]
      ) + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*decks*/
      4 && span_title_value !== (span_title_value = "Click to review " + /*deck*/
      ctx[38].name)) {
        attr_dev(span, "title", span_title_value);
      }
      if (dirty[0] & /*decks*/
      4 && t2_value !== (t2_value = /*stats*/
      ctx[12].newCount + ""))
        set_data_dev(t2, t2_value);
      if (
        /*deck*/
        ctx[38].config.enableNewCardsLimit
      ) {
        if (if_block0) {
        } else {
          if_block0 = create_if_block_3(ctx);
          if_block0.c();
          if_block0.m(div1, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div1_title_value !== (div1_title_value = /*deck*/
      ctx[38].config.enableNewCardsLimit ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[38].config.newCardsLimit})` : `${/*stats*/
      ctx[12].newCount} new cards due`)) {
        attr_dev(div1, "title", div1_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div1,
          "has-cards",
          /*stats*/
          ctx[12].newCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div1,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div1,
          "has-limit",
          /*deck*/
          ctx[38].config.enableNewCardsLimit
        );
      }
      if (dirty[0] & /*decks*/
      4 && t5_value !== (t5_value = /*stats*/
      ctx[12].learningCount + ""))
        set_data_dev(t5, t5_value);
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div2,
          "has-cards",
          /*stats*/
          ctx[12].learningCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div2,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4 && t7_value !== (t7_value = /*stats*/
      ctx[12].dueCount + ""))
        set_data_dev(t7, t7_value);
      if (
        /*deck*/
        ctx[38].config.enableReviewCardsLimit
      ) {
        if (if_block1) {
        } else {
          if_block1 = create_if_block_2(ctx);
          if_block1.c();
          if_block1.m(div3, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div3_title_value !== (div3_title_value = /*deck*/
      ctx[38].config.enableReviewCardsLimit ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[38].config.reviewCardsLimit})` : `${/*stats*/
      ctx[12].dueCount} review cards due`)) {
        attr_dev(div3, "title", div3_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div3,
          "has-cards",
          /*stats*/
          ctx[12].dueCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div3,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div3,
          "has-limit",
          /*deck*/
          ctx[38].config.enableReviewCardsLimit
        );
      }
      if (dirty[0] & /*decks*/
      4 && button_aria_label_value !== (button_aria_label_value = "Configure " + /*deck*/
      ctx[38].name)) {
        attr_dev(button, "aria-label", button_aria_label_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block2.name,
    type: "each",
    source: "(266:16) {#each decks as deck}",
    ctx
  });
  return block;
}
function create_fragment3(ctx) {
  let div4;
  let div1;
  let h3;
  let t1;
  let div0;
  let button0;
  let svg0;
  let path0;
  let path1;
  let path2;
  let path3;
  let t2;
  let button1;
  let svg1;
  let path4;
  let path5;
  let path6;
  let t3;
  let div3;
  let div2;
  let input;
  let t4;
  let show_if;
  let t5;
  let t6;
  let reviewheatmap;
  let current;
  let mounted;
  let dispose;
  function select_block_type(ctx2, dirty) {
    if (dirty[0] & /*filterText, availableTags, inputFocused*/
    656)
      show_if = null;
    if (
      /*showSuggestions*/
      ctx2[6] && /*filteredSuggestions*/
      ctx2[8].length > 0
    )
      return create_if_block_4;
    if (show_if == null)
      show_if = !!(!/*filterText*/
      ctx2[4].trim() && /*availableTags*/
      ctx2[7].length > 0 && /*inputFocused*/
      ctx2[9]);
    if (show_if)
      return create_if_block_5;
  }
  let current_block_type = select_block_type(ctx, [-1, -1]);
  let if_block0 = current_block_type && current_block_type(ctx);
  function select_block_type_1(ctx2, dirty) {
    if (
      /*allDecks*/
      ctx2[3].length === 0
    )
      return create_if_block2;
    if (
      /*decks*/
      ctx2[2].length === 0
    )
      return create_if_block_12;
    return create_else_block2;
  }
  let current_block_type_1 = select_block_type_1(ctx, [-1, -1]);
  let if_block1 = current_block_type_1(ctx);
  let reviewheatmap_props = {
    getReviewCounts: (
      /*getReviewCounts*/
      ctx[0]
    )
  };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[35](reviewheatmap);
  const block = {
    c: function create() {
      div4 = element("div");
      div1 = element("div");
      h3 = element("h3");
      h3.textContent = "Flashcard Decks";
      t1 = space();
      div0 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      path1 = svg_element("path");
      path2 = svg_element("path");
      path3 = svg_element("path");
      t2 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path4 = svg_element("path");
      path5 = svg_element("path");
      path6 = svg_element("path");
      t3 = space();
      div3 = element("div");
      div2 = element("div");
      input = element("input");
      t4 = space();
      if (if_block0)
        if_block0.c();
      t5 = space();
      if_block1.c();
      t6 = space();
      create_component(reviewheatmap.$$.fragment);
      attr_dev(h3, "class", "panel-title svelte-oasr8b");
      add_location(h3, file3, 148, 8, 4092);
      attr_dev(path0, "d", "M3 3v18h18");
      add_location(path0, file3, 166, 20, 4752);
      attr_dev(path1, "d", "M18 17V9");
      add_location(path1, file3, 167, 20, 4801);
      attr_dev(path2, "d", "M13 17V5");
      add_location(path2, file3, 168, 20, 4848);
      attr_dev(path3, "d", "M8 17v-3");
      add_location(path3, file3, 169, 20, 4895);
      attr_dev(svg0, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg0, "width", "14");
      attr_dev(svg0, "height", "14");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "none");
      attr_dev(svg0, "stroke", "currentColor");
      attr_dev(svg0, "stroke-width", "2");
      attr_dev(svg0, "stroke-linecap", "round");
      attr_dev(svg0, "stroke-linejoin", "round");
      add_location(svg0, file3, 155, 16, 4353);
      attr_dev(button0, "class", "stats-button svelte-oasr8b");
      attr_dev(button0, "title", "View Overall Statistics");
      add_location(button0, file3, 150, 12, 4186);
      attr_dev(path4, "d", "M23 4v6h-6");
      add_location(path4, file3, 189, 20, 5584);
      attr_dev(path5, "d", "M1 20v-6h6");
      add_location(path5, file3, 190, 20, 5633);
      attr_dev(path6, "d", "M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15");
      add_location(path6, file3, 191, 20, 5682);
      attr_dev(svg1, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg1, "width", "14");
      attr_dev(svg1, "height", "14");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "none");
      attr_dev(svg1, "stroke", "currentColor");
      attr_dev(svg1, "stroke-width", "2");
      attr_dev(svg1, "stroke-linecap", "round");
      attr_dev(svg1, "stroke-linejoin", "round");
      attr_dev(svg1, "class", "svelte-oasr8b");
      add_location(svg1, file3, 178, 16, 5185);
      attr_dev(button1, "class", "refresh-button svelte-oasr8b");
      button1.disabled = /*isRefreshing*/
      ctx[10];
      toggle_class(
        button1,
        "refreshing",
        /*isRefreshing*/
        ctx[10]
      );
      add_location(button1, file3, 172, 12, 4979);
      attr_dev(div0, "class", "header-buttons svelte-oasr8b");
      add_location(div0, file3, 149, 8, 4145);
      attr_dev(div1, "class", "panel-header svelte-oasr8b");
      add_location(div1, file3, 147, 4, 4057);
      attr_dev(input, "type", "text");
      attr_dev(input, "class", "filter-input svelte-oasr8b");
      attr_dev(input, "placeholder", "Filter by name or tag... (e.g., 'spanish', '#flashcards')");
      add_location(input, file3, 201, 12, 5970);
      attr_dev(div2, "class", "filter-container svelte-oasr8b");
      add_location(div2, file3, 200, 8, 5927);
      attr_dev(div3, "class", "filter-section svelte-oasr8b");
      add_location(div3, file3, 199, 4, 5890);
      attr_dev(div4, "class", "deck-list-panel svelte-oasr8b");
      add_location(div4, file3, 146, 0, 4023);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div4, anchor);
      append_dev(div4, div1);
      append_dev(div1, h3);
      append_dev(div1, t1);
      append_dev(div1, div0);
      append_dev(div0, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(svg0, path1);
      append_dev(svg0, path2);
      append_dev(svg0, path3);
      append_dev(div0, t2);
      append_dev(div0, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path4);
      append_dev(svg1, path5);
      append_dev(svg1, path6);
      append_dev(div4, t3);
      append_dev(div4, div3);
      append_dev(div3, div2);
      append_dev(div2, input);
      set_input_value(
        input,
        /*filterText*/
        ctx[4]
      );
      append_dev(div2, t4);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div4, t5);
      if_block1.m(div4, null);
      append_dev(div4, t6);
      mount_component(reviewheatmap, div4, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            function() {
              if (is_function(
                /*onOpenStatistics*/
                ctx[1]
              ))
                ctx[1].apply(this, arguments);
            },
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*handleRefresh*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "input",
            /*input_input_handler*/
            ctx[29]
          ),
          listen_dev(
            input,
            "input",
            /*handleFilterInput*/
            ctx[15],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "focus",
            /*handleFilterFocus*/
            ctx[17],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "blur",
            /*handleFilterBlur*/
            ctx[18],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        prop_dev(
          button1,
          "disabled",
          /*isRefreshing*/
          ctx[10]
        );
      }
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        toggle_class(
          button1,
          "refreshing",
          /*isRefreshing*/
          ctx[10]
        );
      }
      if (dirty[0] & /*filterText*/
      16 && input.value !== /*filterText*/
      ctx[4]) {
        set_input_value(
          input,
          /*filterText*/
          ctx[4]
        );
      }
      if (current_block_type === (current_block_type = select_block_type(ctx, dirty)) && if_block0) {
        if_block0.p(ctx, dirty);
      } else {
        if (if_block0)
          if_block0.d(1);
        if_block0 = current_block_type && current_block_type(ctx);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div2, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_1(ctx, dirty)) && if_block1) {
        if_block1.p(ctx, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div4, t6);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*getReviewCounts*/
      1)
        reviewheatmap_changes.getReviewCounts = /*getReviewCounts*/
        ctx[0];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div4);
      if (if_block0) {
        if_block0.d();
      }
      if_block1.d();
      ctx[35](null);
      destroy_component(reviewheatmap);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment3.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDeckName(deck) {
  return deck.name;
}
function instance3($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckListPanel", slots, []);
  let decks = [];
  let allDecks = [];
  let stats = /* @__PURE__ */ new Map();
  let filterText = "";
  let heatmapComponent;
  let showSuggestions = false;
  let availableTags = [];
  let filteredSuggestions = [];
  let inputFocused = false;
  let { onDeckClick } = $$props;
  let { onRefresh } = $$props;
  let { getReviewCounts } = $$props;
  let { onUpdateDeckConfig } = $$props;
  let { onOpenStatistics } = $$props;
  let { plugin } = $$props;
  let isRefreshing = false;
  let isUpdatingStats = false;
  function getDeckStats(deckId) {
    var _a;
    return (_a = stats.get(deckId)) !== null && _a !== void 0 ? _a : {
      deckId,
      newCount: 0,
      learningCount: 0,
      dueCount: 0,
      totalCount: 0
    };
  }
  function handleRefresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(10, isRefreshing = true);
      try {
        yield onRefresh();
        refreshHeatmap();
      } catch (error) {
        console.error("Error during refresh:", error);
      } finally {
        $$invalidate(10, isRefreshing = false);
      }
    });
  }
  function updateStatsById(deckId, newStats) {
    $$invalidate(11, isUpdatingStats = true);
    stats.set(deckId, newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateStats(newStats) {
    $$invalidate(11, isUpdatingStats = true);
    $$invalidate(12, stats = newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateDecks(newDecks) {
    $$invalidate(3, allDecks = newDecks);
    $$invalidate(7, availableTags = [...new Set(newDecks.map((deck) => deck.tag))].filter((tag) => tag));
    applyFilter();
  }
  function applyFilter() {
    if (!filterText.trim()) {
      $$invalidate(2, decks = allDecks);
    } else {
      const filter = filterText.toLowerCase();
      $$invalidate(2, decks = allDecks.filter((deck) => deck.name.toLowerCase().includes(filter) || deck.tag.toLowerCase().includes(filter)));
    }
  }
  function handleFilterInput(event) {
    const target = event.target;
    $$invalidate(4, filterText = target.value);
    updateSuggestions();
    applyFilter();
  }
  function updateSuggestions() {
    if (!filterText.trim()) {
      $$invalidate(6, showSuggestions = false);
      return;
    }
    const filter = filterText.toLowerCase();
    $$invalidate(8, filteredSuggestions = availableTags.filter((tag) => tag.toLowerCase().includes(filter) && tag.toLowerCase() !== filter));
    $$invalidate(6, showSuggestions = filteredSuggestions.length > 0);
  }
  function selectSuggestion(tag) {
    $$invalidate(4, filterText = tag);
    $$invalidate(6, showSuggestions = false);
    applyFilter();
  }
  function handleFilterFocus() {
    $$invalidate(9, inputFocused = true);
    if (filterText.trim()) {
      updateSuggestions();
    } else if (availableTags.length > 0) {
      $$invalidate(6, showSuggestions = true);
    }
  }
  function handleFilterBlur() {
    $$invalidate(9, inputFocused = false);
    setTimeout(
      () => {
        $$invalidate(6, showSuggestions = false);
      },
      200
    );
  }
  function handleDeckClick(deck) {
    onDeckClick(deck);
  }
  function refreshHeatmap() {
    if (heatmapComponent) {
      heatmapComponent.refresh();
    }
  }
  function handleConfigClick(deck, event) {
    event.stopPropagation();
    const modal = new DeckConfigModal(
      plugin,
      deck,
      (config) => __awaiter(this, void 0, void 0, function* () {
        if (onUpdateDeckConfig) {
          yield onUpdateDeckConfig(deck.id, config);
          const deckIndex = allDecks.findIndex((d) => d.id === deck.id);
          if (deckIndex !== -1) {
            $$invalidate(3, allDecks[deckIndex].config = config, allDecks);
            $$invalidate(3, allDecks = [...allDecks]);
            applyFilter();
          }
        }
      })
    );
    modal.open();
  }
  onMount(() => {
    handleRefresh();
  });
  $$self.$$.on_mount.push(function() {
    if (onDeckClick === void 0 && !("onDeckClick" in $$props || $$self.$$.bound[$$self.$$.props["onDeckClick"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onDeckClick'");
    }
    if (onRefresh === void 0 && !("onRefresh" in $$props || $$self.$$.bound[$$self.$$.props["onRefresh"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onRefresh'");
    }
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'getReviewCounts'");
    }
    if (onUpdateDeckConfig === void 0 && !("onUpdateDeckConfig" in $$props || $$self.$$.bound[$$self.$$.props["onUpdateDeckConfig"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onUpdateDeckConfig'");
    }
    if (onOpenStatistics === void 0 && !("onOpenStatistics" in $$props || $$self.$$.bound[$$self.$$.props["onOpenStatistics"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onOpenStatistics'");
    }
    if (plugin === void 0 && !("plugin" in $$props || $$self.$$.bound[$$self.$$.props["plugin"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'plugin'");
    }
  });
  const writable_props = [
    "onDeckClick",
    "onRefresh",
    "getReviewCounts",
    "onUpdateDeckConfig",
    "onOpenStatistics",
    "plugin"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_12.warn(`<DeckListPanel> was created with unknown prop '${key}'`);
  });
  function input_input_handler() {
    filterText = this.value;
    $$invalidate(4, filterText);
  }
  const mousedown_handler = (tag) => selectSuggestion(tag);
  const mousedown_handler_1 = (tag) => selectSuggestion(tag);
  const click_handler = (deck) => handleDeckClick(deck);
  const keydown_handler = (deck, e) => e.key === "Enter" && handleDeckClick(deck);
  const click_handler_1 = (deck, e) => handleConfigClick(deck, e);
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(5, heatmapComponent);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("onDeckClick" in $$props2)
      $$invalidate(21, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(22, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(23, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(24, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    ReviewHeatmap: ReviewHeatmap_default,
    DeckConfigModal,
    decks,
    allDecks,
    stats,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    onDeckClick,
    onRefresh,
    getReviewCounts,
    onUpdateDeckConfig,
    onOpenStatistics,
    plugin,
    isRefreshing,
    isUpdatingStats,
    getDeckStats,
    formatDeckName,
    handleRefresh,
    updateStatsById,
    updateStats,
    updateDecks,
    applyFilter,
    handleFilterInput,
    updateSuggestions,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    refreshHeatmap,
    handleConfigClick
  });
  $$self.$inject_state = ($$props2) => {
    if ("decks" in $$props2)
      $$invalidate(2, decks = $$props2.decks);
    if ("allDecks" in $$props2)
      $$invalidate(3, allDecks = $$props2.allDecks);
    if ("stats" in $$props2)
      $$invalidate(12, stats = $$props2.stats);
    if ("filterText" in $$props2)
      $$invalidate(4, filterText = $$props2.filterText);
    if ("heatmapComponent" in $$props2)
      $$invalidate(5, heatmapComponent = $$props2.heatmapComponent);
    if ("showSuggestions" in $$props2)
      $$invalidate(6, showSuggestions = $$props2.showSuggestions);
    if ("availableTags" in $$props2)
      $$invalidate(7, availableTags = $$props2.availableTags);
    if ("filteredSuggestions" in $$props2)
      $$invalidate(8, filteredSuggestions = $$props2.filteredSuggestions);
    if ("inputFocused" in $$props2)
      $$invalidate(9, inputFocused = $$props2.inputFocused);
    if ("onDeckClick" in $$props2)
      $$invalidate(21, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(22, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(23, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(24, plugin = $$props2.plugin);
    if ("isRefreshing" in $$props2)
      $$invalidate(10, isRefreshing = $$props2.isRefreshing);
    if ("isUpdatingStats" in $$props2)
      $$invalidate(11, isUpdatingStats = $$props2.isUpdatingStats);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    getReviewCounts,
    onOpenStatistics,
    decks,
    allDecks,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    isRefreshing,
    isUpdatingStats,
    stats,
    getDeckStats,
    handleRefresh,
    handleFilterInput,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    handleConfigClick,
    onDeckClick,
    onRefresh,
    onUpdateDeckConfig,
    plugin,
    updateStatsById,
    updateStats,
    updateDecks,
    refreshHeatmap,
    input_input_handler,
    mousedown_handler,
    mousedown_handler_1,
    click_handler,
    keydown_handler,
    click_handler_1,
    reviewheatmap_binding
  ];
}
var DeckListPanel = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(
      this,
      options,
      instance3,
      create_fragment3,
      safe_not_equal,
      {
        onDeckClick: 21,
        onRefresh: 22,
        getReviewCounts: 0,
        onUpdateDeckConfig: 23,
        onOpenStatistics: 1,
        plugin: 24,
        updateStatsById: 25,
        updateStats: 26,
        updateDecks: 27,
        refreshHeatmap: 28
      },
      null,
      [-1, -1]
    );
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckListPanel",
      options,
      id: create_fragment3.name
    });
  }
  get onDeckClick() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onDeckClick(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onRefresh() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onRefresh(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get getReviewCounts() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onUpdateDeckConfig() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onUpdateDeckConfig(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onOpenStatistics() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onOpenStatistics(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get plugin() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStatsById() {
    return this.$$.ctx[25];
  }
  set updateStatsById(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStats() {
    return this.$$.ctx[26];
  }
  set updateStats(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateDecks() {
    return this.$$.ctx[27];
  }
  set updateDecks(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refreshHeatmap() {
    return this.$$.ctx[28];
  }
  set refreshHeatmap(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckListPanel_default = DeckListPanel;

// src/components/StatisticsModal.ts
var import_obsidian4 = require("obsidian");

// src/components/StatisticsUI.svelte
var { console: console_13 } = globals;
var file4 = "src/components/StatisticsUI.svelte";
function get_each_context3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[30] = list[i];
  child_ctx[33] = i;
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.indexOf(
      /*day*/
      child_ctx[30]
    )
  );
  child_ctx[31] = constants_0;
  return child_ctx;
}
function get_if_ctx(ctx) {
  const child_ctx = ctx.slice();
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.filter((day) => day.dueCount > 0).slice(0, 20)
  );
  child_ctx[28] = constants_0;
  const constants_1 = Math.max(.../*filteredForecast*/
  child_ctx[28].map((day) => day.dueCount));
  child_ctx[29] = constants_1;
  return child_ctx;
}
function get_each_context_13(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[34] = list[i];
  return child_ctx;
}
function get_each_context_23(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[37] = list[i];
  return child_ctx;
}
function create_else_block3(ctx) {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w;
  let div2;
  let div0;
  let label0;
  let t1;
  let select0;
  let option0;
  let each0_anchor;
  let t3;
  let div1;
  let label1;
  let t5;
  let select1;
  let option1;
  let option2;
  let t8;
  let div16;
  let h30;
  let t10;
  let div15;
  let div5;
  let div3;
  let t11_value = (
    /*statistics*/
    (((_b = (_a = ctx[2]) == null ? void 0 : _a.cardStats) == null ? void 0 : _b.new) || 0) + ""
  );
  let t11;
  let t12;
  let div4;
  let t14;
  let div8;
  let div6;
  let t15_value = (
    /*statistics*/
    (((_d = (_c = ctx[2]) == null ? void 0 : _c.cardStats) == null ? void 0 : _d.learning) || 0) + ""
  );
  let t15;
  let t16;
  let div7;
  let t18;
  let div11;
  let div9;
  let t19_value = (
    /*statistics*/
    (((_f = (_e = ctx[2]) == null ? void 0 : _e.cardStats) == null ? void 0 : _f.mature) || 0) + ""
  );
  let t19;
  let t20;
  let div10;
  let t22;
  let div14;
  let div12;
  let t24;
  let div13;
  let t26;
  let div24;
  let h31;
  let t28;
  let div23;
  let div19;
  let div17;
  let t29_value = (
    /*statistics*/
    (((_g = ctx[2]) == null ? void 0 : _g.averagePace) ? formatPace(
      /*statistics*/
      ctx[2].averagePace
    ) : "N/A") + ""
  );
  let t29;
  let t30;
  let div18;
  let t32;
  let div22;
  let div20;
  let t33_value = (
    /*statistics*/
    (((_h = ctx[2]) == null ? void 0 : _h.totalReviewTime) ? formatTime(
      /*statistics*/
      ctx[2].totalReviewTime
    ) : "N/A") + ""
  );
  let t33;
  let t34;
  let div21;
  let t36;
  let div25;
  let h32;
  let t38;
  let t39;
  let div26;
  let h33;
  let t41;
  let t42;
  let h34;
  let t44;
  let t45;
  let h35;
  let t47;
  let t48;
  let div70;
  let h36;
  let t50;
  let div59;
  let div30;
  let div27;
  let t51_value = (
    /*statistics*/
    (((_i = ctx[2]) == null ? void 0 : _i.retentionRate) || 0).toFixed(1) + ""
  );
  let t51;
  let t52;
  let t53;
  let div28;
  let t55;
  let div29;
  let t57;
  let div34;
  let div31;
  let t59;
  let div32;
  let t61;
  let div33;
  let t63;
  let div38;
  let div35;
  let t66;
  let div36;
  let t68;
  let div37;
  let t70;
  let div42;
  let div39;
  let t72;
  let div40;
  let t74;
  let div41;
  let t76;
  let div46;
  let div43;
  let t78;
  let div44;
  let t80;
  let div45;
  let t82;
  let div50;
  let div47;
  let t83_value = (
    /*statistics*/
    (((_k = (_j = ctx[2]) == null ? void 0 : _j.cardStats) == null ? void 0 : _k.learning) || 0) + ""
  );
  let t83;
  let t84;
  let div48;
  let t86;
  let div49;
  let t88;
  let div54;
  let div51;
  let t91;
  let div52;
  let t93;
  let div53;
  let t95;
  let div58;
  let div55;
  let t96_value = (
    /*statistics*/
    (((_m = (_l = ctx[2]) == null ? void 0 : _l.cardStats) == null ? void 0 : _m.new) || 0) + /*statistics*/
    (((_o = (_n = ctx[2]) == null ? void 0 : _n.cardStats) == null ? void 0 : _o.learning) || 0) + /*statistics*/
    (((_q = (_p = ctx[2]) == null ? void 0 : _p.cardStats) == null ? void 0 : _q.mature) || 0) + ""
  );
  let t96;
  let t97;
  let div56;
  let t99;
  let div57;
  let t101;
  let h4;
  let t103;
  let div69;
  let div62;
  let div60;
  let t104_value = (
    /*statistics*/
    (((_s = (_r = ctx[2]) == null ? void 0 : _r.cardStats) == null ? void 0 : _s.new) || 0) + ""
  );
  let t104;
  let t105;
  let div61;
  let t107;
  let div65;
  let div63;
  let t108_value = (
    /*statistics*/
    (((_u = (_t = ctx[2]) == null ? void 0 : _t.cardStats) == null ? void 0 : _u.learning) || 0) + ""
  );
  let t108;
  let t109;
  let div64;
  let t111;
  let div68;
  let div66;
  let t112_value = (
    /*statistics*/
    (((_w = (_v = ctx[2]) == null ? void 0 : _v.cardStats) == null ? void 0 : _w.mature) || 0) + ""
  );
  let t112;
  let t113;
  let div67;
  let t115;
  let div71;
  let h37;
  let t117;
  let t118;
  let div72;
  let h38;
  let t120;
  let show_if;
  let t121;
  let div73;
  let h39;
  let t123;
  let p;
  let t125;
  let reviewheatmap;
  let t126;
  let div74;
  let button;
  let current;
  let mounted;
  let dispose;
  let each_value_2 = (
    /*availableTags*/
    ctx[6]
  );
  validate_each_argument(each_value_2);
  let each_blocks_1 = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks_1[i] = create_each_block_23(get_each_context_23(ctx, each_value_2, i));
  }
  let each_value_1 = (
    /*availableDecks*/
    ctx[5]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_13(get_each_context_13(ctx, each_value_1, i));
  }
  function select_block_type_1(ctx2, dirty) {
    if (
      /*todayStats*/
      ctx2[8]
    )
      return create_if_block_7;
    return create_else_block_6;
  }
  let current_block_type = select_block_type_1(ctx, [-1, -1]);
  let if_block0 = current_block_type(ctx);
  function select_block_type_2(ctx2, dirty) {
    if (
      /*weekStats*/
      ctx2[9] && /*weekStats*/
      ctx2[9].reviews > 0
    )
      return create_if_block_6;
    return create_else_block_5;
  }
  let current_block_type_1 = select_block_type_2(ctx, [-1, -1]);
  let if_block1 = current_block_type_1(ctx);
  function select_block_type_3(ctx2, dirty) {
    if (
      /*monthStats*/
      ctx2[10] && /*monthStats*/
      ctx2[10].reviews > 0
    )
      return create_if_block_52;
    return create_else_block_4;
  }
  let current_block_type_2 = select_block_type_3(ctx, [-1, -1]);
  let if_block2 = current_block_type_2(ctx);
  function select_block_type_4(ctx2, dirty) {
    if (
      /*yearStats*/
      ctx2[11] && /*yearStats*/
      ctx2[11].reviews > 0
    )
      return create_if_block_42;
    return create_else_block_3;
  }
  let current_block_type_3 = select_block_type_4(ctx, [-1, -1]);
  let if_block3 = current_block_type_3(ctx);
  function select_block_type_5(ctx2, dirty) {
    var _a2;
    if (
      /*statistics*/
      ((_a2 = ctx2[2]) == null ? void 0 : _a2.answerButtons) && /*statistics*/
      (ctx2[2].answerButtons.again > 0 || /*statistics*/
      ctx2[2].answerButtons.hard > 0 || /*statistics*/
      ctx2[2].answerButtons.good > 0 || /*statistics*/
      ctx2[2].answerButtons.easy > 0)
    )
      return create_if_block_32;
    return create_else_block_2;
  }
  let current_block_type_4 = select_block_type_5(ctx, [-1, -1]);
  let if_block4 = current_block_type_4(ctx);
  function select_block_type_6(ctx2, dirty) {
    var _a2;
    if (dirty[0] & /*statistics*/
    4)
      show_if = null;
    if (show_if == null)
      show_if = !!/*statistics*/
      (((_a2 = ctx2[2]) == null ? void 0 : _a2.forecast) && /*statistics*/
      ctx2[2].forecast.length > 0 && /*statistics*/
      ctx2[2].forecast.some(func2));
    if (show_if)
      return create_if_block_22;
    return create_else_block_1;
  }
  function select_block_ctx(ctx2, type) {
    if (type === create_if_block_22)
      return get_if_ctx(ctx2);
    return ctx2;
  }
  let current_block_type_5 = select_block_type_6(ctx, [-1, -1]);
  let if_block5 = current_block_type_5(select_block_ctx(ctx, current_block_type_5));
  let reviewheatmap_props = { getReviewCounts: (
    /*func_3*/
    ctx[22]
  ) };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[23](reviewheatmap);
  const block = {
    c: function create() {
      div2 = element("div");
      div0 = element("div");
      label0 = element("label");
      label0.textContent = "Show data for:";
      t1 = space();
      select0 = element("select");
      option0 = element("option");
      option0.textContent = "All Decks";
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].c();
      }
      each0_anchor = empty();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t3 = space();
      div1 = element("div");
      label1 = element("label");
      label1.textContent = "Timeframe:";
      t5 = space();
      select1 = element("select");
      option1 = element("option");
      option1.textContent = "Last 12 Months";
      option2 = element("option");
      option2.textContent = "All History";
      t8 = space();
      div16 = element("div");
      h30 = element("h3");
      h30.textContent = "Current Status";
      t10 = space();
      div15 = element("div");
      div5 = element("div");
      div3 = element("div");
      t11 = text(t11_value);
      t12 = space();
      div4 = element("div");
      div4.textContent = "New Cards";
      t14 = space();
      div8 = element("div");
      div6 = element("div");
      t15 = text(t15_value);
      t16 = space();
      div7 = element("div");
      div7.textContent = "Learning";
      t18 = space();
      div11 = element("div");
      div9 = element("div");
      t19 = text(t19_value);
      t20 = space();
      div10 = element("div");
      div10.textContent = "Mature";
      t22 = space();
      div14 = element("div");
      div12 = element("div");
      div12.textContent = `${/*getDueToday*/
      ctx[17]()}`;
      t24 = space();
      div13 = element("div");
      div13.textContent = "Due Today";
      t26 = space();
      div24 = element("div");
      h31 = element("h3");
      h31.textContent = "Review Pace";
      t28 = space();
      div23 = element("div");
      div19 = element("div");
      div17 = element("div");
      t29 = text(t29_value);
      t30 = space();
      div18 = element("div");
      div18.textContent = "Average per Card";
      t32 = space();
      div22 = element("div");
      div20 = element("div");
      t33 = text(t33_value);
      t34 = space();
      div21 = element("div");
      div21.textContent = "Total Review Time";
      t36 = space();
      div25 = element("div");
      h32 = element("h3");
      h32.textContent = "Today's Statistics";
      t38 = space();
      if_block0.c();
      t39 = space();
      div26 = element("div");
      h33 = element("h3");
      h33.textContent = "This Week";
      t41 = space();
      if_block1.c();
      t42 = space();
      h34 = element("h3");
      h34.textContent = "This Month";
      t44 = space();
      if_block2.c();
      t45 = space();
      h35 = element("h3");
      h35.textContent = "This Year";
      t47 = space();
      if_block3.c();
      t48 = space();
      div70 = element("div");
      h36 = element("h3");
      h36.textContent = "Deck Statistics & Metrics";
      t50 = space();
      div59 = element("div");
      div30 = element("div");
      div27 = element("div");
      t51 = text(t51_value);
      t52 = text("%");
      t53 = space();
      div28 = element("div");
      div28.textContent = "Retention Rate";
      t55 = space();
      div29 = element("div");
      div29.textContent = '% of reviews answered correctly (excluding "Again")';
      t57 = space();
      div34 = element("div");
      div31 = element("div");
      div31.textContent = `${/*calculateAverageEase*/
      ctx[15]()}`;
      t59 = space();
      div32 = element("div");
      div32.textContent = "Average Ease";
      t61 = space();
      div33 = element("div");
      div33.textContent = "Mean of ease button values";
      t63 = space();
      div38 = element("div");
      div35 = element("div");
      div35.textContent = `${/*calculateAverageInterval*/
      ctx[16]()}d`;
      t66 = space();
      div36 = element("div");
      div36.textContent = "Avg Interval";
      t68 = space();
      div37 = element("div");
      div37.textContent = "Mean interval of all review cards";
      t70 = space();
      div42 = element("div");
      div39 = element("div");
      div39.textContent = `${/*getDueToday*/
      ctx[17]()}`;
      t72 = space();
      div40 = element("div");
      div40.textContent = "Due Today";
      t74 = space();
      div41 = element("div");
      div41.textContent = "Number of cards due today";
      t76 = space();
      div46 = element("div");
      div43 = element("div");
      div43.textContent = `${/*getDueTomorrow*/
      ctx[18]()}`;
      t78 = space();
      div44 = element("div");
      div44.textContent = "Due Tomorrow";
      t80 = space();
      div45 = element("div");
      div45.textContent = "Number of cards due tomorrow";
      t82 = space();
      div50 = element("div");
      div47 = element("div");
      t83 = text(t83_value);
      t84 = space();
      div48 = element("div");
      div48.textContent = "Learning Cards";
      t86 = space();
      div49 = element("div");
      div49.textContent = "Number of cards in the learning queue";
      t88 = space();
      div54 = element("div");
      div51 = element("div");
      div51.textContent = `${/*getMaturityRatio*/
      ctx[19]()}%`;
      t91 = space();
      div52 = element("div");
      div52.textContent = "Maturity Ratio";
      t93 = space();
      div53 = element("div");
      div53.textContent = "Mature cards \xF7 total cards";
      t95 = space();
      div58 = element("div");
      div55 = element("div");
      t96 = text(t96_value);
      t97 = space();
      div56 = element("div");
      div56.textContent = "Total Cards";
      t99 = space();
      div57 = element("div");
      div57.textContent = "All cards in collection";
      t101 = space();
      h4 = element("h4");
      h4.textContent = "Card Status Breakdown";
      t103 = space();
      div69 = element("div");
      div62 = element("div");
      div60 = element("div");
      t104 = text(t104_value);
      t105 = space();
      div61 = element("div");
      div61.textContent = "New Cards";
      t107 = space();
      div65 = element("div");
      div63 = element("div");
      t108 = text(t108_value);
      t109 = space();
      div64 = element("div");
      div64.textContent = "Learning";
      t111 = space();
      div68 = element("div");
      div66 = element("div");
      t112 = text(t112_value);
      t113 = space();
      div67 = element("div");
      div67.textContent = "Mature";
      t115 = space();
      div71 = element("div");
      h37 = element("h3");
      h37.textContent = "Answer Button Usage";
      t117 = space();
      if_block4.c();
      t118 = space();
      div72 = element("div");
      h38 = element("h3");
      h38.textContent = "Review Load Forecast";
      t120 = space();
      if_block5.c();
      t121 = space();
      div73 = element("div");
      h39 = element("h3");
      h39.textContent = "Review Heatmap";
      t123 = space();
      p = element("p");
      p.textContent = "Daily review activity over time";
      t125 = space();
      create_component(reviewheatmap.$$.fragment);
      t126 = space();
      div74 = element("div");
      button = element("button");
      button.textContent = "Close";
      attr_dev(label0, "for", "deck-filter");
      attr_dev(label0, "class", "svelte-1y34pbi");
      add_location(label0, file4, 232, 16, 8364);
      option0.__value = "all";
      option0.value = option0.__value;
      set_style(option0, "background", "var(--background-primary)", 1);
      set_style(option0, "color", "var(--text-normal)", 1);
      attr_dev(option0, "class", "svelte-1y34pbi");
      add_location(option0, file4, 239, 20, 8730);
      attr_dev(select0, "id", "deck-filter");
      set_style(select0, "background", "var(--background-primary)", 1);
      set_style(select0, "color", "var(--text-normal)", 1);
      attr_dev(select0, "class", "svelte-1y34pbi");
      if (
        /*selectedDeckFilter*/
        ctx[3] === void 0
      )
        add_render_callback(() => (
          /*select0_change_handler*/
          ctx[20].call(select0)
        ));
      add_location(select0, file4, 233, 16, 8428);
      attr_dev(div0, "class", "filter-group svelte-1y34pbi");
      add_location(div0, file4, 231, 12, 8321);
      attr_dev(label1, "for", "timeframe-filter");
      attr_dev(label1, "class", "svelte-1y34pbi");
      add_location(label1, file4, 261, 16, 9773);
      option1.__value = "12months";
      option1.value = option1.__value;
      set_style(option1, "background", "var(--background-primary)", 1);
      set_style(option1, "color", "var(--text-normal)", 1);
      attr_dev(option1, "class", "svelte-1y34pbi");
      add_location(option1, file4, 268, 20, 10144);
      option2.__value = "all";
      option2.value = option2.__value;
      set_style(option2, "background", "var(--background-primary)", 1);
      set_style(option2, "color", "var(--text-normal)", 1);
      attr_dev(option2, "class", "svelte-1y34pbi");
      add_location(option2, file4, 273, 20, 10403);
      attr_dev(select1, "id", "timeframe-filter");
      set_style(select1, "background", "var(--background-primary)", 1);
      set_style(select1, "color", "var(--text-normal)", 1);
      attr_dev(select1, "class", "svelte-1y34pbi");
      if (
        /*selectedTimeframe*/
        ctx[4] === void 0
      )
        add_render_callback(() => (
          /*select1_change_handler*/
          ctx[21].call(select1)
        ));
      add_location(select1, file4, 262, 16, 9838);
      attr_dev(div1, "class", "filter-group svelte-1y34pbi");
      add_location(div1, file4, 260, 12, 9730);
      attr_dev(div2, "class", "filters svelte-1y34pbi");
      add_location(div2, file4, 230, 8, 8287);
      attr_dev(h30, "class", "svelte-1y34pbi");
      add_location(h30, file4, 284, 12, 10775);
      attr_dev(div3, "class", "stat-value svelte-1y34pbi");
      add_location(div3, file4, 287, 20, 10896);
      attr_dev(div4, "class", "stat-label svelte-1y34pbi");
      add_location(div4, file4, 290, 20, 11026);
      attr_dev(div5, "class", "stat-card svelte-1y34pbi");
      add_location(div5, file4, 286, 16, 10852);
      attr_dev(div6, "class", "stat-value svelte-1y34pbi");
      add_location(div6, file4, 293, 20, 11149);
      attr_dev(div7, "class", "stat-label svelte-1y34pbi");
      add_location(div7, file4, 296, 20, 11284);
      attr_dev(div8, "class", "stat-card svelte-1y34pbi");
      add_location(div8, file4, 292, 16, 11105);
      attr_dev(div9, "class", "stat-value svelte-1y34pbi");
      add_location(div9, file4, 299, 20, 11406);
      attr_dev(div10, "class", "stat-label svelte-1y34pbi");
      add_location(div10, file4, 302, 20, 11539);
      attr_dev(div11, "class", "stat-card svelte-1y34pbi");
      add_location(div11, file4, 298, 16, 11362);
      attr_dev(div12, "class", "stat-value svelte-1y34pbi");
      add_location(div12, file4, 305, 20, 11659);
      attr_dev(div13, "class", "stat-label svelte-1y34pbi");
      add_location(div13, file4, 306, 20, 11725);
      attr_dev(div14, "class", "stat-card svelte-1y34pbi");
      add_location(div14, file4, 304, 16, 11615);
      attr_dev(div15, "class", "stats-grid svelte-1y34pbi");
      add_location(div15, file4, 285, 12, 10811);
      attr_dev(div16, "class", "stats-section svelte-1y34pbi");
      add_location(div16, file4, 283, 8, 10735);
      attr_dev(h31, "class", "svelte-1y34pbi");
      add_location(h31, file4, 313, 12, 11904);
      attr_dev(div17, "class", "stat-value svelte-1y34pbi");
      add_location(div17, file4, 316, 20, 12022);
      attr_dev(div18, "class", "stat-label svelte-1y34pbi");
      add_location(div18, file4, 321, 20, 12245);
      attr_dev(div19, "class", "stat-card svelte-1y34pbi");
      add_location(div19, file4, 315, 16, 11978);
      attr_dev(div20, "class", "stat-value svelte-1y34pbi");
      add_location(div20, file4, 324, 20, 12375);
      attr_dev(div21, "class", "stat-label svelte-1y34pbi");
      add_location(div21, file4, 329, 20, 12606);
      attr_dev(div22, "class", "stat-card svelte-1y34pbi");
      add_location(div22, file4, 323, 16, 12331);
      attr_dev(div23, "class", "stats-grid svelte-1y34pbi");
      add_location(div23, file4, 314, 12, 11937);
      attr_dev(div24, "class", "stats-section svelte-1y34pbi");
      add_location(div24, file4, 312, 8, 11864);
      attr_dev(h32, "class", "svelte-1y34pbi");
      add_location(h32, file4, 336, 12, 12796);
      attr_dev(div25, "class", "stats-section svelte-1y34pbi");
      add_location(div25, file4, 335, 8, 12756);
      attr_dev(h33, "class", "svelte-1y34pbi");
      add_location(h33, file4, 379, 12, 14601);
      attr_dev(h34, "class", "svelte-1y34pbi");
      add_location(h34, file4, 405, 12, 15683);
      attr_dev(h35, "class", "svelte-1y34pbi");
      add_location(h35, file4, 431, 12, 16772);
      attr_dev(div26, "class", "stats-section svelte-1y34pbi");
      add_location(div26, file4, 378, 8, 14561);
      attr_dev(h36, "class", "svelte-1y34pbi");
      add_location(h36, file4, 460, 12, 17948);
      attr_dev(div27, "class", "metric-value svelte-1y34pbi");
      add_location(div27, file4, 463, 20, 18084);
      attr_dev(div28, "class", "metric-label svelte-1y34pbi");
      add_location(div28, file4, 466, 20, 18229);
      attr_dev(div29, "class", "metric-description svelte-1y34pbi");
      add_location(div29, file4, 467, 20, 18296);
      attr_dev(div30, "class", "metric-card svelte-1y34pbi");
      add_location(div30, file4, 462, 16, 18038);
      attr_dev(div31, "class", "metric-value svelte-1y34pbi");
      add_location(div31, file4, 472, 20, 18517);
      attr_dev(div32, "class", "metric-label svelte-1y34pbi");
      add_location(div32, file4, 473, 20, 18594);
      attr_dev(div33, "class", "metric-description svelte-1y34pbi");
      add_location(div33, file4, 474, 20, 18659);
      attr_dev(div34, "class", "metric-card svelte-1y34pbi");
      add_location(div34, file4, 471, 16, 18471);
      attr_dev(div35, "class", "metric-value svelte-1y34pbi");
      add_location(div35, file4, 479, 20, 18855);
      attr_dev(div36, "class", "metric-label svelte-1y34pbi");
      add_location(div36, file4, 482, 20, 18983);
      attr_dev(div37, "class", "metric-description svelte-1y34pbi");
      add_location(div37, file4, 483, 20, 19048);
      attr_dev(div38, "class", "metric-card svelte-1y34pbi");
      add_location(div38, file4, 478, 16, 18809);
      attr_dev(div39, "class", "metric-value svelte-1y34pbi");
      add_location(div39, file4, 488, 20, 19251);
      attr_dev(div40, "class", "metric-label svelte-1y34pbi");
      add_location(div40, file4, 489, 20, 19319);
      attr_dev(div41, "class", "metric-description svelte-1y34pbi");
      add_location(div41, file4, 490, 20, 19381);
      attr_dev(div42, "class", "metric-card svelte-1y34pbi");
      add_location(div42, file4, 487, 16, 19205);
      attr_dev(div43, "class", "metric-value svelte-1y34pbi");
      add_location(div43, file4, 495, 20, 19576);
      attr_dev(div44, "class", "metric-label svelte-1y34pbi");
      add_location(div44, file4, 496, 20, 19647);
      attr_dev(div45, "class", "metric-description svelte-1y34pbi");
      add_location(div45, file4, 497, 20, 19712);
      attr_dev(div46, "class", "metric-card svelte-1y34pbi");
      add_location(div46, file4, 494, 16, 19530);
      attr_dev(div47, "class", "metric-value svelte-1y34pbi");
      add_location(div47, file4, 502, 20, 19910);
      attr_dev(div48, "class", "metric-label svelte-1y34pbi");
      add_location(div48, file4, 505, 20, 20047);
      attr_dev(div49, "class", "metric-description svelte-1y34pbi");
      add_location(div49, file4, 506, 20, 20114);
      attr_dev(div50, "class", "metric-card svelte-1y34pbi");
      add_location(div50, file4, 501, 16, 19864);
      attr_dev(div51, "class", "metric-value svelte-1y34pbi");
      add_location(div51, file4, 511, 20, 20321);
      attr_dev(div52, "class", "metric-label svelte-1y34pbi");
      add_location(div52, file4, 512, 20, 20395);
      attr_dev(div53, "class", "metric-description svelte-1y34pbi");
      add_location(div53, file4, 513, 20, 20462);
      attr_dev(div54, "class", "metric-card svelte-1y34pbi");
      add_location(div54, file4, 510, 16, 20275);
      attr_dev(div55, "class", "metric-value svelte-1y34pbi");
      add_location(div55, file4, 518, 20, 20658);
      attr_dev(div56, "class", "metric-label svelte-1y34pbi");
      add_location(div56, file4, 523, 20, 20928);
      attr_dev(div57, "class", "metric-description svelte-1y34pbi");
      add_location(div57, file4, 524, 20, 20992);
      attr_dev(div58, "class", "metric-card svelte-1y34pbi");
      add_location(div58, file4, 517, 16, 20612);
      attr_dev(div59, "class", "metrics-grid svelte-1y34pbi");
      add_location(div59, file4, 461, 12, 17995);
      attr_dev(h4, "class", "svelte-1y34pbi");
      add_location(h4, file4, 530, 12, 21155);
      attr_dev(div60, "class", "stat-value svelte-1y34pbi");
      add_location(div60, file4, 533, 20, 21283);
      attr_dev(div61, "class", "stat-label svelte-1y34pbi");
      add_location(div61, file4, 536, 20, 21413);
      attr_dev(div62, "class", "stat-card svelte-1y34pbi");
      add_location(div62, file4, 532, 16, 21239);
      attr_dev(div63, "class", "stat-value svelte-1y34pbi");
      add_location(div63, file4, 539, 20, 21536);
      attr_dev(div64, "class", "stat-label svelte-1y34pbi");
      add_location(div64, file4, 542, 20, 21671);
      attr_dev(div65, "class", "stat-card svelte-1y34pbi");
      add_location(div65, file4, 538, 16, 21492);
      attr_dev(div66, "class", "stat-value svelte-1y34pbi");
      add_location(div66, file4, 545, 20, 21793);
      attr_dev(div67, "class", "stat-label svelte-1y34pbi");
      add_location(div67, file4, 548, 20, 21926);
      attr_dev(div68, "class", "stat-card svelte-1y34pbi");
      add_location(div68, file4, 544, 16, 21749);
      attr_dev(div69, "class", "stats-grid svelte-1y34pbi");
      add_location(div69, file4, 531, 12, 21198);
      attr_dev(div70, "class", "stats-section svelte-1y34pbi");
      add_location(div70, file4, 459, 8, 17908);
      attr_dev(h37, "class", "svelte-1y34pbi");
      add_location(h37, file4, 555, 12, 22106);
      attr_dev(div71, "class", "stats-section svelte-1y34pbi");
      add_location(div71, file4, 554, 8, 22066);
      attr_dev(h38, "class", "svelte-1y34pbi");
      add_location(h38, file4, 635, 12, 26127);
      attr_dev(div72, "class", "stats-section svelte-1y34pbi");
      add_location(div72, file4, 634, 8, 26087);
      attr_dev(h39, "class", "svelte-1y34pbi");
      add_location(h39, file4, 688, 12, 28514);
      add_location(p, file4, 689, 12, 28550);
      attr_dev(div73, "class", "stats-section svelte-1y34pbi");
      add_location(div73, file4, 687, 8, 28474);
      attr_dev(button, "class", "close-button svelte-1y34pbi");
      add_location(button, file4, 699, 12, 28873);
      attr_dev(div74, "class", "modal-actions svelte-1y34pbi");
      add_location(div74, file4, 698, 8, 28833);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div0);
      append_dev(div0, label0);
      append_dev(div0, t1);
      append_dev(div0, select0);
      append_dev(select0, option0);
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        if (each_blocks_1[i]) {
          each_blocks_1[i].m(select0, null);
        }
      }
      append_dev(select0, each0_anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(select0, null);
        }
      }
      select_option(
        select0,
        /*selectedDeckFilter*/
        ctx[3],
        true
      );
      append_dev(div2, t3);
      append_dev(div2, div1);
      append_dev(div1, label1);
      append_dev(div1, t5);
      append_dev(div1, select1);
      append_dev(select1, option1);
      append_dev(select1, option2);
      select_option(
        select1,
        /*selectedTimeframe*/
        ctx[4],
        true
      );
      insert_dev(target, t8, anchor);
      insert_dev(target, div16, anchor);
      append_dev(div16, h30);
      append_dev(div16, t10);
      append_dev(div16, div15);
      append_dev(div15, div5);
      append_dev(div5, div3);
      append_dev(div3, t11);
      append_dev(div5, t12);
      append_dev(div5, div4);
      append_dev(div15, t14);
      append_dev(div15, div8);
      append_dev(div8, div6);
      append_dev(div6, t15);
      append_dev(div8, t16);
      append_dev(div8, div7);
      append_dev(div15, t18);
      append_dev(div15, div11);
      append_dev(div11, div9);
      append_dev(div9, t19);
      append_dev(div11, t20);
      append_dev(div11, div10);
      append_dev(div15, t22);
      append_dev(div15, div14);
      append_dev(div14, div12);
      append_dev(div14, t24);
      append_dev(div14, div13);
      insert_dev(target, t26, anchor);
      insert_dev(target, div24, anchor);
      append_dev(div24, h31);
      append_dev(div24, t28);
      append_dev(div24, div23);
      append_dev(div23, div19);
      append_dev(div19, div17);
      append_dev(div17, t29);
      append_dev(div19, t30);
      append_dev(div19, div18);
      append_dev(div23, t32);
      append_dev(div23, div22);
      append_dev(div22, div20);
      append_dev(div20, t33);
      append_dev(div22, t34);
      append_dev(div22, div21);
      insert_dev(target, t36, anchor);
      insert_dev(target, div25, anchor);
      append_dev(div25, h32);
      append_dev(div25, t38);
      if_block0.m(div25, null);
      insert_dev(target, t39, anchor);
      insert_dev(target, div26, anchor);
      append_dev(div26, h33);
      append_dev(div26, t41);
      if_block1.m(div26, null);
      append_dev(div26, t42);
      append_dev(div26, h34);
      append_dev(div26, t44);
      if_block2.m(div26, null);
      append_dev(div26, t45);
      append_dev(div26, h35);
      append_dev(div26, t47);
      if_block3.m(div26, null);
      insert_dev(target, t48, anchor);
      insert_dev(target, div70, anchor);
      append_dev(div70, h36);
      append_dev(div70, t50);
      append_dev(div70, div59);
      append_dev(div59, div30);
      append_dev(div30, div27);
      append_dev(div27, t51);
      append_dev(div27, t52);
      append_dev(div30, t53);
      append_dev(div30, div28);
      append_dev(div30, t55);
      append_dev(div30, div29);
      append_dev(div59, t57);
      append_dev(div59, div34);
      append_dev(div34, div31);
      append_dev(div34, t59);
      append_dev(div34, div32);
      append_dev(div34, t61);
      append_dev(div34, div33);
      append_dev(div59, t63);
      append_dev(div59, div38);
      append_dev(div38, div35);
      append_dev(div38, t66);
      append_dev(div38, div36);
      append_dev(div38, t68);
      append_dev(div38, div37);
      append_dev(div59, t70);
      append_dev(div59, div42);
      append_dev(div42, div39);
      append_dev(div42, t72);
      append_dev(div42, div40);
      append_dev(div42, t74);
      append_dev(div42, div41);
      append_dev(div59, t76);
      append_dev(div59, div46);
      append_dev(div46, div43);
      append_dev(div46, t78);
      append_dev(div46, div44);
      append_dev(div46, t80);
      append_dev(div46, div45);
      append_dev(div59, t82);
      append_dev(div59, div50);
      append_dev(div50, div47);
      append_dev(div47, t83);
      append_dev(div50, t84);
      append_dev(div50, div48);
      append_dev(div50, t86);
      append_dev(div50, div49);
      append_dev(div59, t88);
      append_dev(div59, div54);
      append_dev(div54, div51);
      append_dev(div54, t91);
      append_dev(div54, div52);
      append_dev(div54, t93);
      append_dev(div54, div53);
      append_dev(div59, t95);
      append_dev(div59, div58);
      append_dev(div58, div55);
      append_dev(div55, t96);
      append_dev(div58, t97);
      append_dev(div58, div56);
      append_dev(div58, t99);
      append_dev(div58, div57);
      append_dev(div70, t101);
      append_dev(div70, h4);
      append_dev(div70, t103);
      append_dev(div70, div69);
      append_dev(div69, div62);
      append_dev(div62, div60);
      append_dev(div60, t104);
      append_dev(div62, t105);
      append_dev(div62, div61);
      append_dev(div69, t107);
      append_dev(div69, div65);
      append_dev(div65, div63);
      append_dev(div63, t108);
      append_dev(div65, t109);
      append_dev(div65, div64);
      append_dev(div69, t111);
      append_dev(div69, div68);
      append_dev(div68, div66);
      append_dev(div66, t112);
      append_dev(div68, t113);
      append_dev(div68, div67);
      insert_dev(target, t115, anchor);
      insert_dev(target, div71, anchor);
      append_dev(div71, h37);
      append_dev(div71, t117);
      if_block4.m(div71, null);
      insert_dev(target, t118, anchor);
      insert_dev(target, div72, anchor);
      append_dev(div72, h38);
      append_dev(div72, t120);
      if_block5.m(div72, null);
      insert_dev(target, t121, anchor);
      insert_dev(target, div73, anchor);
      append_dev(div73, h39);
      append_dev(div73, t123);
      append_dev(div73, p);
      append_dev(div73, t125);
      mount_component(reviewheatmap, div73, null);
      insert_dev(target, t126, anchor);
      insert_dev(target, div74, anchor);
      append_dev(div74, button);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            select0,
            "change",
            /*select0_change_handler*/
            ctx[20]
          ),
          listen_dev(
            select0,
            "change",
            /*handleFilterChange*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            select1,
            "change",
            /*select1_change_handler*/
            ctx[21]
          ),
          listen_dev(
            select1,
            "change",
            /*handleFilterChange*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "click",
            /*click_handler*/
            ctx[24],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2, _m2, _n2, _o2, _p2, _q2, _r2, _s2, _t2, _u2, _v2, _w2;
      if (dirty[0] & /*availableTags*/
      64) {
        each_value_2 = /*availableTags*/
        ctx2[6];
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_23(ctx2, each_value_2, i);
          if (each_blocks_1[i]) {
            each_blocks_1[i].p(child_ctx, dirty);
          } else {
            each_blocks_1[i] = create_each_block_23(child_ctx);
            each_blocks_1[i].c();
            each_blocks_1[i].m(select0, each0_anchor);
          }
        }
        for (; i < each_blocks_1.length; i += 1) {
          each_blocks_1[i].d(1);
        }
        each_blocks_1.length = each_value_2.length;
      }
      if (dirty[0] & /*availableDecks*/
      32) {
        each_value_1 = /*availableDecks*/
        ctx2[5];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_13(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_13(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(select0, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
      if (dirty[0] & /*selectedDeckFilter, availableDecks, availableTags*/
      104) {
        select_option(
          select0,
          /*selectedDeckFilter*/
          ctx2[3]
        );
      }
      if (dirty[0] & /*selectedTimeframe*/
      16) {
        select_option(
          select1,
          /*selectedTimeframe*/
          ctx2[4]
        );
      }
      if ((!current || dirty[0] & /*statistics*/
      4) && t11_value !== (t11_value = /*statistics*/
      (((_b2 = (_a2 = ctx2[2]) == null ? void 0 : _a2.cardStats) == null ? void 0 : _b2.new) || 0) + ""))
        set_data_dev(t11, t11_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t15_value !== (t15_value = /*statistics*/
      (((_d2 = (_c2 = ctx2[2]) == null ? void 0 : _c2.cardStats) == null ? void 0 : _d2.learning) || 0) + ""))
        set_data_dev(t15, t15_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t19_value !== (t19_value = /*statistics*/
      (((_f2 = (_e2 = ctx2[2]) == null ? void 0 : _e2.cardStats) == null ? void 0 : _f2.mature) || 0) + ""))
        set_data_dev(t19, t19_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t29_value !== (t29_value = /*statistics*/
      (((_g2 = ctx2[2]) == null ? void 0 : _g2.averagePace) ? formatPace(
        /*statistics*/
        ctx2[2].averagePace
      ) : "N/A") + ""))
        set_data_dev(t29, t29_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t33_value !== (t33_value = /*statistics*/
      (((_h2 = ctx2[2]) == null ? void 0 : _h2.totalReviewTime) ? formatTime(
        /*statistics*/
        ctx2[2].totalReviewTime
      ) : "N/A") + ""))
        set_data_dev(t33, t33_value);
      if (current_block_type === (current_block_type = select_block_type_1(ctx2, dirty)) && if_block0) {
        if_block0.p(ctx2, dirty);
      } else {
        if_block0.d(1);
        if_block0 = current_block_type(ctx2);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div25, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_2(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div26, t42);
        }
      }
      if (current_block_type_2 === (current_block_type_2 = select_block_type_3(ctx2, dirty)) && if_block2) {
        if_block2.p(ctx2, dirty);
      } else {
        if_block2.d(1);
        if_block2 = current_block_type_2(ctx2);
        if (if_block2) {
          if_block2.c();
          if_block2.m(div26, t45);
        }
      }
      if (current_block_type_3 === (current_block_type_3 = select_block_type_4(ctx2, dirty)) && if_block3) {
        if_block3.p(ctx2, dirty);
      } else {
        if_block3.d(1);
        if_block3 = current_block_type_3(ctx2);
        if (if_block3) {
          if_block3.c();
          if_block3.m(div26, null);
        }
      }
      if ((!current || dirty[0] & /*statistics*/
      4) && t51_value !== (t51_value = /*statistics*/
      (((_i2 = ctx2[2]) == null ? void 0 : _i2.retentionRate) || 0).toFixed(1) + ""))
        set_data_dev(t51, t51_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t83_value !== (t83_value = /*statistics*/
      (((_k2 = (_j2 = ctx2[2]) == null ? void 0 : _j2.cardStats) == null ? void 0 : _k2.learning) || 0) + ""))
        set_data_dev(t83, t83_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t96_value !== (t96_value = /*statistics*/
      (((_m2 = (_l2 = ctx2[2]) == null ? void 0 : _l2.cardStats) == null ? void 0 : _m2.new) || 0) + /*statistics*/
      (((_o2 = (_n2 = ctx2[2]) == null ? void 0 : _n2.cardStats) == null ? void 0 : _o2.learning) || 0) + /*statistics*/
      (((_q2 = (_p2 = ctx2[2]) == null ? void 0 : _p2.cardStats) == null ? void 0 : _q2.mature) || 0) + ""))
        set_data_dev(t96, t96_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t104_value !== (t104_value = /*statistics*/
      (((_s2 = (_r2 = ctx2[2]) == null ? void 0 : _r2.cardStats) == null ? void 0 : _s2.new) || 0) + ""))
        set_data_dev(t104, t104_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t108_value !== (t108_value = /*statistics*/
      (((_u2 = (_t2 = ctx2[2]) == null ? void 0 : _t2.cardStats) == null ? void 0 : _u2.learning) || 0) + ""))
        set_data_dev(t108, t108_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t112_value !== (t112_value = /*statistics*/
      (((_w2 = (_v2 = ctx2[2]) == null ? void 0 : _v2.cardStats) == null ? void 0 : _w2.mature) || 0) + ""))
        set_data_dev(t112, t112_value);
      if (current_block_type_4 === (current_block_type_4 = select_block_type_5(ctx2, dirty)) && if_block4) {
        if_block4.p(ctx2, dirty);
      } else {
        if_block4.d(1);
        if_block4 = current_block_type_4(ctx2);
        if (if_block4) {
          if_block4.c();
          if_block4.m(div71, null);
        }
      }
      if (current_block_type_5 === (current_block_type_5 = select_block_type_6(ctx2, dirty)) && if_block5) {
        if_block5.p(select_block_ctx(ctx2, current_block_type_5), dirty);
      } else {
        if_block5.d(1);
        if_block5 = current_block_type_5(select_block_ctx(ctx2, current_block_type_5));
        if (if_block5) {
          if_block5.c();
          if_block5.m(div72, null);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*plugin*/
      1)
        reviewheatmap_changes.getReviewCounts = /*func_3*/
        ctx2[22];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      destroy_each(each_blocks_1, detaching);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t8);
      if (detaching)
        detach_dev(div16);
      if (detaching)
        detach_dev(t26);
      if (detaching)
        detach_dev(div24);
      if (detaching)
        detach_dev(t36);
      if (detaching)
        detach_dev(div25);
      if_block0.d();
      if (detaching)
        detach_dev(t39);
      if (detaching)
        detach_dev(div26);
      if_block1.d();
      if_block2.d();
      if_block3.d();
      if (detaching)
        detach_dev(t48);
      if (detaching)
        detach_dev(div70);
      if (detaching)
        detach_dev(t115);
      if (detaching)
        detach_dev(div71);
      if_block4.d();
      if (detaching)
        detach_dev(t118);
      if (detaching)
        detach_dev(div72);
      if_block5.d();
      if (detaching)
        detach_dev(t121);
      if (detaching)
        detach_dev(div73);
      ctx[23](null);
      destroy_component(reviewheatmap);
      if (detaching)
        detach_dev(t126);
      if (detaching)
        detach_dev(div74);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block3.name,
    type: "else",
    source: "(230:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_13(ctx) {
  let div;
  let p;
  let t1;
  let button;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "Failed to load statistics";
      t1 = space();
      button = element("button");
      button.textContent = "Retry";
      add_location(p, file4, 224, 12, 8107);
      attr_dev(button, "class", "retry-button svelte-1y34pbi");
      add_location(button, file4, 225, 12, 8152);
      attr_dev(div, "class", "error svelte-1y34pbi");
      add_location(div, file4, 223, 8, 8075);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
      append_dev(div, t1);
      append_dev(div, button);
      if (!mounted) {
        dispose = listen_dev(
          button,
          "click",
          /*loadStatistics*/
          ctx[13],
          false,
          false,
          false,
          false
        );
        mounted = true;
      }
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      mounted = false;
      dispose();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_13.name,
    type: "if",
    source: "(223:26) ",
    ctx
  });
  return block;
}
function create_if_block3(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading statistics...";
      attr_dev(div, "class", "loading svelte-1y34pbi");
      add_location(div, file4, 221, 8, 7991);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block3.name,
    type: "if",
    source: "(221:4) {#if loading}",
    ctx
  });
  return block;
}
function create_each_block_23(ctx) {
  let option;
  let t0;
  let t1_value = (
    /*tag*/
    ctx[37] + ""
  );
  let t1;
  let option_value_value;
  const block = {
    c: function create() {
      option = element("option");
      t0 = text("Tag: ");
      t1 = text(t1_value);
      option.__value = option_value_value = "tag:" + /*tag*/
      ctx[37];
      option.value = option.__value;
      set_style(option, "background", "var(--background-primary)", 1);
      set_style(option, "color", "var(--text-normal)", 1);
      attr_dev(option, "class", "svelte-1y34pbi");
      add_location(option, file4, 245, 24, 9032);
    },
    m: function mount(target, anchor) {
      insert_dev(target, option, anchor);
      append_dev(option, t0);
      append_dev(option, t1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*availableTags*/
      64 && t1_value !== (t1_value = /*tag*/
      ctx2[37] + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*availableTags*/
      64 && option_value_value !== (option_value_value = "tag:" + /*tag*/
      ctx2[37])) {
        prop_dev(option, "__value", option_value_value);
        option.value = option.__value;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(option);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_23.name,
    type: "each",
    source: "(245:20) {#each availableTags as tag}",
    ctx
  });
  return block;
}
function create_each_block_13(ctx) {
  let option;
  let t_value = (
    /*deck*/
    ctx[34].name + ""
  );
  let t;
  let option_value_value;
  const block = {
    c: function create() {
      option = element("option");
      t = text(t_value);
      option.__value = option_value_value = "deck:" + /*deck*/
      ctx[34].id;
      option.value = option.__value;
      set_style(option, "background", "var(--background-primary)", 1);
      set_style(option, "color", "var(--text-normal)", 1);
      attr_dev(option, "class", "svelte-1y34pbi");
      add_location(option, file4, 252, 24, 9387);
    },
    m: function mount(target, anchor) {
      insert_dev(target, option, anchor);
      append_dev(option, t);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*availableDecks*/
      32 && t_value !== (t_value = /*deck*/
      ctx2[34].name + ""))
        set_data_dev(t, t_value);
      if (dirty[0] & /*availableDecks*/
      32 && option_value_value !== (option_value_value = "deck:" + /*deck*/
      ctx2[34].id)) {
        prop_dev(option, "__value", option_value_value);
        option.value = option.__value;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(option);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_13.name,
    type: "each",
    source: "(252:20) {#each availableDecks as deck}",
    ctx
  });
  return block;
}
function create_else_block_6(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No reviews today yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Start reviewing flashcards to see your daily statistics\n                        here!";
      attr_dev(p0, "class", "svelte-1y34pbi");
      add_location(p0, file4, 368, 20, 14246);
      attr_dev(p1, "class", "help-text svelte-1y34pbi");
      add_location(p1, file4, 369, 20, 14295);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 367, 16, 14196);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_6.name,
    type: "else",
    source: "(367:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_7(ctx) {
  let div6;
  let div2;
  let div0;
  let t0_value = (
    /*todayStats*/
    ctx[8].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*todayStats*/
    ctx[8].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let h4;
  let t9;
  let div16;
  let div9;
  let div7;
  let t10_value = (
    /*todayStats*/
    ctx[8].newCards + ""
  );
  let t10;
  let t11;
  let div8;
  let t13;
  let div12;
  let div10;
  let t14_value = (
    /*todayStats*/
    ctx[8].learningCards + ""
  );
  let t14;
  let t15;
  let div11;
  let t17;
  let div15;
  let div13;
  let t18_value = (
    /*todayStats*/
    ctx[8].reviewCards + ""
  );
  let t18;
  let t19;
  let div14;
  const block = {
    c: function create() {
      div6 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      h4 = element("h4");
      h4.textContent = "Breakdown by Card Type";
      t9 = space();
      div16 = element("div");
      div9 = element("div");
      div7 = element("div");
      t10 = text(t10_value);
      t11 = space();
      div8 = element("div");
      div8.textContent = "New Cards";
      t13 = space();
      div12 = element("div");
      div10 = element("div");
      t14 = text(t14_value);
      t15 = space();
      div11 = element("div");
      div11.textContent = "Learning";
      t17 = space();
      div15 = element("div");
      div13 = element("div");
      t18 = text(t18_value);
      t19 = space();
      div14 = element("div");
      div14.textContent = "Review";
      attr_dev(div0, "class", "stat-value svelte-1y34pbi");
      add_location(div0, file4, 340, 24, 12962);
      attr_dev(div1, "class", "stat-label svelte-1y34pbi");
      add_location(div1, file4, 341, 24, 13037);
      attr_dev(div2, "class", "stat-card svelte-1y34pbi");
      add_location(div2, file4, 339, 20, 12914);
      attr_dev(div3, "class", "stat-value svelte-1y34pbi");
      add_location(div3, file4, 344, 24, 13176);
      attr_dev(div4, "class", "stat-label svelte-1y34pbi");
      add_location(div4, file4, 347, 24, 13319);
      attr_dev(div5, "class", "stat-card svelte-1y34pbi");
      add_location(div5, file4, 343, 20, 13128);
      attr_dev(div6, "class", "stats-grid svelte-1y34pbi");
      add_location(div6, file4, 338, 16, 12869);
      attr_dev(h4, "class", "svelte-1y34pbi");
      add_location(h4, file4, 351, 16, 13427);
      attr_dev(div7, "class", "stat-value svelte-1y34pbi");
      add_location(div7, file4, 354, 24, 13568);
      attr_dev(div8, "class", "stat-label svelte-1y34pbi");
      add_location(div8, file4, 355, 24, 13644);
      attr_dev(div9, "class", "stat-card svelte-1y34pbi");
      add_location(div9, file4, 353, 20, 13520);
      attr_dev(div10, "class", "stat-value svelte-1y34pbi");
      add_location(div10, file4, 358, 24, 13779);
      attr_dev(div11, "class", "stat-label svelte-1y34pbi");
      add_location(div11, file4, 359, 24, 13860);
      attr_dev(div12, "class", "stat-card svelte-1y34pbi");
      add_location(div12, file4, 357, 20, 13731);
      attr_dev(div13, "class", "stat-value svelte-1y34pbi");
      add_location(div13, file4, 362, 24, 13994);
      attr_dev(div14, "class", "stat-label svelte-1y34pbi");
      add_location(div14, file4, 363, 24, 14073);
      attr_dev(div15, "class", "stat-card svelte-1y34pbi");
      add_location(div15, file4, 361, 20, 13946);
      attr_dev(div16, "class", "stats-grid svelte-1y34pbi");
      add_location(div16, file4, 352, 16, 13475);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div6, t3);
      append_dev(div6, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      insert_dev(target, t7, anchor);
      insert_dev(target, h4, anchor);
      insert_dev(target, t9, anchor);
      insert_dev(target, div16, anchor);
      append_dev(div16, div9);
      append_dev(div9, div7);
      append_dev(div7, t10);
      append_dev(div9, t11);
      append_dev(div9, div8);
      append_dev(div16, t13);
      append_dev(div16, div12);
      append_dev(div12, div10);
      append_dev(div10, t14);
      append_dev(div12, t15);
      append_dev(div12, div11);
      append_dev(div16, t17);
      append_dev(div16, div15);
      append_dev(div15, div13);
      append_dev(div13, t18);
      append_dev(div15, t19);
      append_dev(div15, div14);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*todayStats*/
      256 && t0_value !== (t0_value = /*todayStats*/
      ctx2[8].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*todayStats*/
      256 && t4_value !== (t4_value = formatTime(
        /*todayStats*/
        ctx2[8].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*todayStats*/
      256 && t10_value !== (t10_value = /*todayStats*/
      ctx2[8].newCards + ""))
        set_data_dev(t10, t10_value);
      if (dirty[0] & /*todayStats*/
      256 && t14_value !== (t14_value = /*todayStats*/
      ctx2[8].learningCards + ""))
        set_data_dev(t14, t14_value);
      if (dirty[0] & /*todayStats*/
      256 && t18_value !== (t18_value = /*todayStats*/
      ctx2[8].reviewCards + ""))
        set_data_dev(t18, t18_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      if (detaching)
        detach_dev(t7);
      if (detaching)
        detach_dev(h4);
      if (detaching)
        detach_dev(t9);
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_7.name,
    type: "if",
    source: "(338:12) {#if todayStats}",
    ctx
  });
  return block;
}
function create_else_block_5(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this week yet.";
      attr_dev(p, "class", "svelte-1y34pbi");
      add_location(p, file4, 401, 20, 15596);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 400, 16, 15546);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_5.name,
    type: "else",
    source: "(400:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_6(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*weekStats*/
    ctx[9].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*weekStats*/
    ctx[9].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*weekStats*/
    ctx[9].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-1y34pbi");
      add_location(div0, file4, 383, 24, 14782);
      attr_dev(div1, "class", "stat-label svelte-1y34pbi");
      add_location(div1, file4, 384, 24, 14856);
      attr_dev(div2, "class", "stat-card svelte-1y34pbi");
      add_location(div2, file4, 382, 20, 14734);
      attr_dev(div3, "class", "stat-value svelte-1y34pbi");
      add_location(div3, file4, 387, 24, 14995);
      attr_dev(div4, "class", "stat-label svelte-1y34pbi");
      add_location(div4, file4, 390, 24, 15137);
      attr_dev(div5, "class", "stat-card svelte-1y34pbi");
      add_location(div5, file4, 386, 20, 14947);
      attr_dev(div6, "class", "stat-value svelte-1y34pbi");
      add_location(div6, file4, 393, 24, 15273);
      attr_dev(div7, "class", "stat-label svelte-1y34pbi");
      add_location(div7, file4, 396, 24, 15417);
      attr_dev(div8, "class", "stat-card svelte-1y34pbi");
      add_location(div8, file4, 392, 20, 15225);
      attr_dev(div9, "class", "stats-grid svelte-1y34pbi");
      add_location(div9, file4, 381, 16, 14689);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*weekStats*/
      512 && t0_value !== (t0_value = /*weekStats*/
      ctx2[9].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*weekStats*/
      512 && t4_value !== (t4_value = formatTime(
        /*weekStats*/
        ctx2[9].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*weekStats*/
      512 && t8_value !== (t8_value = /*weekStats*/
      ctx2[9].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_6.name,
    type: "if",
    source: "(381:12) {#if weekStats && weekStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this month yet.";
      attr_dev(p, "class", "svelte-1y34pbi");
      add_location(p, file4, 427, 20, 16684);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 426, 16, 16634);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_4.name,
    type: "else",
    source: "(426:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_52(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*monthStats*/
    ctx[10].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*monthStats*/
    ctx[10].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*monthStats*/
    ctx[10].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-1y34pbi");
      add_location(div0, file4, 409, 24, 15867);
      attr_dev(div1, "class", "stat-label svelte-1y34pbi");
      add_location(div1, file4, 410, 24, 15942);
      attr_dev(div2, "class", "stat-card svelte-1y34pbi");
      add_location(div2, file4, 408, 20, 15819);
      attr_dev(div3, "class", "stat-value svelte-1y34pbi");
      add_location(div3, file4, 413, 24, 16081);
      attr_dev(div4, "class", "stat-label svelte-1y34pbi");
      add_location(div4, file4, 416, 24, 16224);
      attr_dev(div5, "class", "stat-card svelte-1y34pbi");
      add_location(div5, file4, 412, 20, 16033);
      attr_dev(div6, "class", "stat-value svelte-1y34pbi");
      add_location(div6, file4, 419, 24, 16360);
      attr_dev(div7, "class", "stat-label svelte-1y34pbi");
      add_location(div7, file4, 422, 24, 16505);
      attr_dev(div8, "class", "stat-card svelte-1y34pbi");
      add_location(div8, file4, 418, 20, 16312);
      attr_dev(div9, "class", "stats-grid svelte-1y34pbi");
      add_location(div9, file4, 407, 16, 15774);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*monthStats*/
      1024 && t0_value !== (t0_value = /*monthStats*/
      ctx2[10].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*monthStats*/
      1024 && t4_value !== (t4_value = formatTime(
        /*monthStats*/
        ctx2[10].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*monthStats*/
      1024 && t8_value !== (t8_value = /*monthStats*/
      ctx2[10].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_52.name,
    type: "if",
    source: "(407:12) {#if monthStats && monthStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_3(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this year yet.";
      attr_dev(p, "class", "svelte-1y34pbi");
      add_location(p, file4, 453, 20, 17767);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 452, 16, 17717);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_3.name,
    type: "else",
    source: "(452:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_42(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*yearStats*/
    ctx[11].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*yearStats*/
    ctx[11].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*yearStats*/
    ctx[11].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-1y34pbi");
      add_location(div0, file4, 435, 24, 16953);
      attr_dev(div1, "class", "stat-label svelte-1y34pbi");
      add_location(div1, file4, 436, 24, 17027);
      attr_dev(div2, "class", "stat-card svelte-1y34pbi");
      add_location(div2, file4, 434, 20, 16905);
      attr_dev(div3, "class", "stat-value svelte-1y34pbi");
      add_location(div3, file4, 439, 24, 17166);
      attr_dev(div4, "class", "stat-label svelte-1y34pbi");
      add_location(div4, file4, 442, 24, 17308);
      attr_dev(div5, "class", "stat-card svelte-1y34pbi");
      add_location(div5, file4, 438, 20, 17118);
      attr_dev(div6, "class", "stat-value svelte-1y34pbi");
      add_location(div6, file4, 445, 24, 17444);
      attr_dev(div7, "class", "stat-label svelte-1y34pbi");
      add_location(div7, file4, 448, 24, 17588);
      attr_dev(div8, "class", "stat-card svelte-1y34pbi");
      add_location(div8, file4, 444, 20, 17396);
      attr_dev(div9, "class", "stats-grid svelte-1y34pbi");
      add_location(div9, file4, 433, 16, 16860);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*yearStats*/
      2048 && t0_value !== (t0_value = /*yearStats*/
      ctx2[11].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*yearStats*/
      2048 && t4_value !== (t4_value = formatTime(
        /*yearStats*/
        ctx2[11].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*yearStats*/
      2048 && t8_value !== (t8_value = /*yearStats*/
      ctx2[11].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_42.name,
    type: "if",
    source: "(433:12) {#if yearStats && yearStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No answer button data available yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Complete some reviews to see answer button statistics.";
      attr_dev(p0, "class", "svelte-1y34pbi");
      add_location(p0, file4, 625, 20, 25806);
      attr_dev(p1, "class", "help-text svelte-1y34pbi");
      add_location(p1, file4, 626, 20, 25870);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 624, 16, 25756);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_2.name,
    type: "else",
    source: "(624:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_32(ctx) {
  let div16;
  let div3;
  let div0;
  let t1;
  let div1;
  let t2_value = (
    /*statistics*/
    ctx[2].answerButtons.again + ""
  );
  let t2;
  let t3;
  let div2;
  let t4_value = (
    /*statistics*/
    (ctx[2].answerButtons.again / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t4;
  let t5;
  let t6;
  let div7;
  let div4;
  let t8;
  let div5;
  let t9_value = (
    /*statistics*/
    ctx[2].answerButtons.hard + ""
  );
  let t9;
  let t10;
  let div6;
  let t11_value = (
    /*statistics*/
    (ctx[2].answerButtons.hard / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t11;
  let t12;
  let t13;
  let div11;
  let div8;
  let t15;
  let div9;
  let t16_value = (
    /*statistics*/
    ctx[2].answerButtons.good + ""
  );
  let t16;
  let t17;
  let div10;
  let t18_value = (
    /*statistics*/
    (ctx[2].answerButtons.good / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t18;
  let t19;
  let t20;
  let div15;
  let div12;
  let t22;
  let div13;
  let t23_value = (
    /*statistics*/
    ctx[2].answerButtons.easy + ""
  );
  let t23;
  let t24;
  let div14;
  let t25_value = (
    /*statistics*/
    (ctx[2].answerButtons.easy / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t25;
  let t26;
  const block = {
    c: function create() {
      div16 = element("div");
      div3 = element("div");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      t4 = text(t4_value);
      t5 = text("%");
      t6 = space();
      div7 = element("div");
      div4 = element("div");
      div4.textContent = "Hard";
      t8 = space();
      div5 = element("div");
      t9 = text(t9_value);
      t10 = space();
      div6 = element("div");
      t11 = text(t11_value);
      t12 = text("%");
      t13 = space();
      div11 = element("div");
      div8 = element("div");
      div8.textContent = "Good";
      t15 = space();
      div9 = element("div");
      t16 = text(t16_value);
      t17 = space();
      div10 = element("div");
      t18 = text(t18_value);
      t19 = text("%");
      t20 = space();
      div15 = element("div");
      div12 = element("div");
      div12.textContent = "Easy";
      t22 = space();
      div13 = element("div");
      t23 = text(t23_value);
      t24 = space();
      div14 = element("div");
      t25 = text(t25_value);
      t26 = text("%");
      attr_dev(div0, "class", "button-label svelte-1y34pbi");
      add_location(div0, file4, 559, 24, 22448);
      attr_dev(div1, "class", "button-count svelte-1y34pbi");
      add_location(div1, file4, 560, 24, 22510);
      attr_dev(div2, "class", "button-percentage svelte-1y34pbi");
      add_location(div2, file4, 563, 24, 22653);
      attr_dev(div3, "class", "button-bar again svelte-1y34pbi");
      add_location(div3, file4, 558, 20, 22393);
      attr_dev(div4, "class", "button-label svelte-1y34pbi");
      add_location(div4, file4, 575, 24, 23281);
      attr_dev(div5, "class", "button-count svelte-1y34pbi");
      add_location(div5, file4, 576, 24, 23342);
      attr_dev(div6, "class", "button-percentage svelte-1y34pbi");
      add_location(div6, file4, 579, 24, 23484);
      attr_dev(div7, "class", "button-bar hard svelte-1y34pbi");
      add_location(div7, file4, 574, 20, 23227);
      attr_dev(div8, "class", "button-label svelte-1y34pbi");
      add_location(div8, file4, 591, 24, 24111);
      attr_dev(div9, "class", "button-count svelte-1y34pbi");
      add_location(div9, file4, 592, 24, 24172);
      attr_dev(div10, "class", "button-percentage svelte-1y34pbi");
      add_location(div10, file4, 595, 24, 24314);
      attr_dev(div11, "class", "button-bar good svelte-1y34pbi");
      add_location(div11, file4, 590, 20, 24057);
      attr_dev(div12, "class", "button-label svelte-1y34pbi");
      add_location(div12, file4, 607, 24, 24941);
      attr_dev(div13, "class", "button-count svelte-1y34pbi");
      add_location(div13, file4, 608, 24, 25002);
      attr_dev(div14, "class", "button-percentage svelte-1y34pbi");
      add_location(div14, file4, 611, 24, 25144);
      attr_dev(div15, "class", "button-bar easy svelte-1y34pbi");
      add_location(div15, file4, 606, 20, 24887);
      attr_dev(div16, "class", "button-stats svelte-1y34pbi");
      add_location(div16, file4, 557, 16, 22346);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div16, anchor);
      append_dev(div16, div3);
      append_dev(div3, div0);
      append_dev(div3, t1);
      append_dev(div3, div1);
      append_dev(div1, t2);
      append_dev(div3, t3);
      append_dev(div3, div2);
      append_dev(div2, t4);
      append_dev(div2, t5);
      append_dev(div16, t6);
      append_dev(div16, div7);
      append_dev(div7, div4);
      append_dev(div7, t8);
      append_dev(div7, div5);
      append_dev(div5, t9);
      append_dev(div7, t10);
      append_dev(div7, div6);
      append_dev(div6, t11);
      append_dev(div6, t12);
      append_dev(div16, t13);
      append_dev(div16, div11);
      append_dev(div11, div8);
      append_dev(div11, t15);
      append_dev(div11, div9);
      append_dev(div9, t16);
      append_dev(div11, t17);
      append_dev(div11, div10);
      append_dev(div10, t18);
      append_dev(div10, t19);
      append_dev(div16, t20);
      append_dev(div16, div15);
      append_dev(div15, div12);
      append_dev(div15, t22);
      append_dev(div15, div13);
      append_dev(div13, t23);
      append_dev(div15, t24);
      append_dev(div15, div14);
      append_dev(div14, t25);
      append_dev(div14, t26);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4 && t2_value !== (t2_value = /*statistics*/
      ctx2[2].answerButtons.again + ""))
        set_data_dev(t2, t2_value);
      if (dirty[0] & /*statistics*/
      4 && t4_value !== (t4_value = /*statistics*/
      (ctx2[2].answerButtons.again / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*statistics*/
      4 && t9_value !== (t9_value = /*statistics*/
      ctx2[2].answerButtons.hard + ""))
        set_data_dev(t9, t9_value);
      if (dirty[0] & /*statistics*/
      4 && t11_value !== (t11_value = /*statistics*/
      (ctx2[2].answerButtons.hard / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t11, t11_value);
      if (dirty[0] & /*statistics*/
      4 && t16_value !== (t16_value = /*statistics*/
      ctx2[2].answerButtons.good + ""))
        set_data_dev(t16, t16_value);
      if (dirty[0] & /*statistics*/
      4 && t18_value !== (t18_value = /*statistics*/
      (ctx2[2].answerButtons.good / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t18, t18_value);
      if (dirty[0] & /*statistics*/
      4 && t23_value !== (t23_value = /*statistics*/
      ctx2[2].answerButtons.easy + ""))
        set_data_dev(t23, t23_value);
      if (dirty[0] & /*statistics*/
      4 && t25_value !== (t25_value = /*statistics*/
      (ctx2[2].answerButtons.easy / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t25, t25_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_32.name,
    type: "if",
    source: "(557:12) {#if statistics?.answerButtons && (statistics.answerButtons.again > 0 || statistics.answerButtons.hard > 0 || statistics.answerButtons.good > 0 || statistics.answerButtons.easy > 0)}",
    ctx
  });
  return block;
}
function create_else_block_1(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No upcoming reviews scheduled.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Add flashcards to your decks to see future review\n                        forecasts.";
      attr_dev(p0, "class", "svelte-1y34pbi");
      add_location(p0, file4, 677, 20, 28163);
      attr_dev(p1, "class", "help-text svelte-1y34pbi");
      add_location(p1, file4, 678, 20, 28221);
      attr_dev(div, "class", "no-data-message svelte-1y34pbi");
      add_location(div, file4, 676, 16, 28113);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_1.name,
    type: "else",
    source: "(676:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_22(ctx) {
  let div;
  let t0;
  let p;
  let each_value = (
    /*filteredForecast*/
    ctx[28]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block3(get_each_context3(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      p = element("p");
      p.textContent = "Showing days with scheduled reviews based on FSRS intervals.";
      attr_dev(div, "class", "forecast-chart svelte-1y34pbi");
      add_location(div, file4, 643, 16, 26589);
      attr_dev(p, "class", "forecast-note svelte-1y34pbi");
      add_location(p, file4, 672, 16, 27949);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      insert_dev(target, t0, anchor);
      insert_dev(target, p, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        each_value = /*filteredForecast*/
        ctx2[28];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context3(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block3(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t0);
      if (detaching)
        detach_dev(p);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_22.name,
    type: "if",
    source: "(637:12) {#if statistics?.forecast && statistics.forecast.length > 0 && statistics.forecast.some((day) => day.dueCount > 0)}",
    ctx
  });
  return block;
}
function create_each_block3(ctx) {
  let div3;
  let div0;
  let t0;
  let div1;
  let t1_value = (
    /*originalIndex*/
    ctx[31] + ""
  );
  let t1;
  let t2;
  let div2;
  let t3_value = (
    /*day*/
    ctx[30].dueCount + ""
  );
  let t3;
  let t4;
  let div3_title_value;
  const block = {
    c: function create() {
      div3 = element("div");
      div0 = element("div");
      t0 = space();
      div1 = element("div");
      t1 = text(t1_value);
      t2 = space();
      div2 = element("div");
      t3 = text(t3_value);
      t4 = space();
      attr_dev(div0, "class", "bar svelte-1y34pbi");
      set_style(div0, "height", calculateBarHeight(
        /*day*/
        ctx[30].dueCount,
        /*maxDueCount*/
        ctx[29]
      ) + "px");
      add_location(div0, file4, 658, 28, 27354);
      attr_dev(div1, "class", "bar-label svelte-1y34pbi");
      add_location(div1, file4, 665, 28, 27672);
      attr_dev(div2, "class", "bar-value svelte-1y34pbi");
      add_location(div2, file4, 668, 28, 27807);
      attr_dev(div3, "class", "forecast-bar svelte-1y34pbi");
      attr_dev(div3, "title", div3_title_value = /*originalIndex*/
      (ctx[31] === 0 ? "Today" : (
        /*originalIndex*/
        ctx[31] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx[31]} (in ${/*originalIndex*/
        ctx[31]} days)`
      )) + ": " + /*day*/
      ctx[30].dueCount + " card" + /*day*/
      (ctx[30].dueCount !== 1 ? "s" : "") + " due");
      add_location(div3, file4, 647, 24, 26811);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div0);
      append_dev(div3, t0);
      append_dev(div3, div1);
      append_dev(div1, t1);
      append_dev(div3, t2);
      append_dev(div3, div2);
      append_dev(div2, t3);
      append_dev(div3, t4);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        set_style(div0, "height", calculateBarHeight(
          /*day*/
          ctx2[30].dueCount,
          /*maxDueCount*/
          ctx2[29]
        ) + "px");
      }
      if (dirty[0] & /*statistics*/
      4 && t1_value !== (t1_value = /*originalIndex*/
      ctx2[31] + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*statistics*/
      4 && t3_value !== (t3_value = /*day*/
      ctx2[30].dueCount + ""))
        set_data_dev(t3, t3_value);
      if (dirty[0] & /*statistics*/
      4 && div3_title_value !== (div3_title_value = /*originalIndex*/
      (ctx2[31] === 0 ? "Today" : (
        /*originalIndex*/
        ctx2[31] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx2[31]} (in ${/*originalIndex*/
        ctx2[31]} days)`
      )) + ": " + /*day*/
      ctx2[30].dueCount + " card" + /*day*/
      (ctx2[30].dueCount !== 1 ? "s" : "") + " due")) {
        attr_dev(div3, "title", div3_title_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block3.name,
    type: "each",
    source: "(645:20) {#each filteredForecast as day, index}",
    ctx
  });
  return block;
}
function create_fragment4(ctx) {
  let div1;
  let current_block_type_index;
  let if_block;
  let t;
  let div0;
  let a;
  let img;
  let img_src_value;
  let current;
  const if_block_creators = [create_if_block3, create_if_block_13, create_else_block3];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*loading*/
      ctx2[1]
    )
      return 0;
    if (!/*statistics*/
    ctx2[2])
      return 1;
    return 2;
  }
  current_block_type_index = select_block_type(ctx, [-1, -1]);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  const block = {
    c: function create() {
      div1 = element("div");
      if_block.c();
      t = space();
      div0 = element("div");
      a = element("a");
      img = element("img");
      if (!src_url_equal(img.src, img_src_value = "https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png"))
        attr_dev(img, "src", img_src_value);
      attr_dev(img, "alt", "Buy Me A Coffee");
      attr_dev(img, "height", "40");
      add_location(img, file4, 706, 12, 29115);
      attr_dev(a, "href", "https://www.buymeacoffee.com/dscherdil0");
      add_location(a, file4, 705, 8, 29052);
      attr_dev(div0, "class", "buymeacoffee-badge svelte-1y34pbi");
      add_location(div0, file4, 704, 4, 29011);
      attr_dev(div1, "class", "statistics-container svelte-1y34pbi");
      add_location(div1, file4, 219, 0, 7930);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      if_blocks[current_block_type_index].m(div1, null);
      append_dev(div1, t);
      append_dev(div1, div0);
      append_dev(div0, a);
      append_dev(a, img);
      current = true;
    },
    p: function update2(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2, dirty);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(div1, t);
      }
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o: function outro(local) {
      transition_out(if_block);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      if_blocks[current_block_type_index].d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment4.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate2(dateString) {
  return new Date(dateString).toLocaleDateString();
}
function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const hours = Math.floor(minutes / 60);
  if (hours > 0) {
    return `${hours}h ${minutes % 60}m`;
  }
  return `${minutes}m`;
}
function formatPace(seconds) {
  if (seconds < 60) {
    return `${seconds.toFixed(1)}s`;
  }
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.round(seconds % 60);
  return `${minutes}m ${remainingSeconds}s`;
}
function calculateBarHeight(dueCount, maxDueCount) {
  const barHeight = 400;
  if (maxDueCount === 0)
    return 0;
  const proportion = dueCount / maxDueCount;
  return Math.max(proportion * barHeight - 80, 10);
}
var func2 = (day) => day.dueCount > 0;
function instance4($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("StatisticsUI", slots, []);
  let { plugin } = $$props;
  const dispatch = createEventDispatcher();
  let loading = true;
  let statistics = null;
  let selectedDeckFilter = "all";
  let selectedTimeframe = "12months";
  let availableDecks = [];
  let availableTags = [];
  let heatmapComponent;
  let todayStats = null;
  let weekStats = null;
  let monthStats = null;
  let yearStats = null;
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    $$invalidate(1, loading = true);
    yield loadDecksAndTags();
    yield loadStatistics();
  }));
  function loadDecksAndTags() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        $$invalidate(5, availableDecks = yield plugin.getDecks());
        $$invalidate(6, availableTags = [...new Set(availableDecks.map((deck) => deck.tag))]);
      } catch (error) {
        console.error("Error loading decks and tags:", error);
      }
    });
  }
  function loadStatistics() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        $$invalidate(2, statistics = yield plugin.getOverallStatistics(selectedDeckFilter, selectedTimeframe));
        plugin.debugLog("Loaded statistics:", statistics);
        $$invalidate(8, todayStats = getTodayStats());
        $$invalidate(9, weekStats = getTimeframeStats(7));
        $$invalidate(10, monthStats = getTimeframeStats(30));
        $$invalidate(11, yearStats = getTimeframeStats(365));
      } catch (error) {
        console.error("Error loading statistics:", error);
        $$invalidate(2, statistics = {
          dailyStats: [],
          cardStats: { new: 0, learning: 0, mature: 0 },
          answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
          retentionRate: 0,
          intervals: [],
          forecast: [],
          averagePace: 0,
          totalReviewTime: 0
        });
        $$invalidate(8, todayStats = null);
        $$invalidate(9, weekStats = null);
        $$invalidate(10, monthStats = null);
        $$invalidate(11, yearStats = null);
      } finally {
        $$invalidate(1, loading = false);
      }
    });
  }
  function handleFilterChange() {
    return __awaiter(this, void 0, void 0, function* () {
      yield loadStatistics();
    });
  }
  function getTodayStats() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats) || statistics.dailyStats.length === 0)
      return null;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    return statistics.dailyStats.find((day) => day.date === today) || statistics.dailyStats[0] || null;
  }
  function getTimeframeStats(days) {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats)) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    const cutoffDate = /* @__PURE__ */ new Date();
    cutoffDate.setDate(cutoffDate.getDate() - days);
    const cutoffStr = cutoffDate.toISOString().split("T")[0];
    const filteredStats = statistics.dailyStats.filter((day) => day.date >= cutoffStr);
    if (filteredStats.length === 0) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    return filteredStats.reduce(
      (acc, day) => ({
        reviews: acc.reviews + day.reviews,
        timeSpent: acc.timeSpent + day.timeSpent,
        newCards: acc.newCards + day.newCards,
        learningCards: acc.learningCards + day.learningCards,
        reviewCards: acc.reviewCards + day.reviewCards,
        correctRate: acc.reviews + day.reviews > 0 ? (acc.correctRate * acc.reviews + day.correctRate * day.reviews) / (acc.reviews + day.reviews) : 0
      }),
      {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      }
    );
  }
  function calculateAverageEase() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.answerButtons))
      return "0.00";
    const { again, hard, good, easy } = statistics.answerButtons;
    const total = again + hard + good + easy;
    if (total === 0)
      return "0.00";
    const weightedSum = again * 1 + hard * 2 + good * 3 + easy * 4;
    return (weightedSum / total).toFixed(2);
  }
  function calculateAverageInterval() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.intervals) || statistics.intervals.length === 0)
      return 0;
    let totalInterval = 0;
    let totalCards = 0;
    statistics.intervals.forEach((interval) => {
      const intervalStr = interval.interval;
      let minutes = 0;
      if (intervalStr.endsWith("h")) {
        minutes = parseInt(intervalStr) * 60;
      } else if (intervalStr.endsWith("d")) {
        minutes = parseInt(intervalStr) * 1440;
      } else if (intervalStr.endsWith("m")) {
        minutes = parseInt(intervalStr) * 43200;
      }
      totalInterval += minutes * interval.count;
      totalCards += interval.count;
    });
    if (totalCards === 0)
      return 0;
    const avgMinutes = totalInterval / totalCards;
    return Math.round(avgMinutes / 1440);
  }
  function getDueToday() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayForecast = statistics.forecast.find((day) => day.date === today);
    return todayForecast ? todayForecast.dueCount : 0;
  }
  function getDueTomorrow() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const tomorrow = /* @__PURE__ */ new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    const tomorrowStr = tomorrow.toISOString().split("T")[0];
    const tomorrowForecast = statistics.forecast.find((day) => day.date === tomorrowStr);
    return tomorrowForecast ? tomorrowForecast.dueCount : 0;
  }
  function getMaturityRatio() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.cardStats))
      return "0.0";
    const { new: newCards, learning, mature } = statistics.cardStats;
    const total = newCards + learning + mature;
    if (total === 0)
      return "0.0";
    return (mature / total * 100).toFixed(1);
  }
  $$self.$$.on_mount.push(function() {
    if (plugin === void 0 && !("plugin" in $$props || $$self.$$.bound[$$self.$$.props["plugin"]])) {
      console_13.warn("<StatisticsUI> was created without expected prop 'plugin'");
    }
  });
  const writable_props = ["plugin"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_13.warn(`<StatisticsUI> was created with unknown prop '${key}'`);
  });
  function select0_change_handler() {
    selectedDeckFilter = select_value(this);
    $$invalidate(3, selectedDeckFilter);
    $$invalidate(5, availableDecks);
    $$invalidate(6, availableTags);
  }
  function select1_change_handler() {
    selectedTimeframe = select_value(this);
    $$invalidate(4, selectedTimeframe);
  }
  const func_3 = async (days) => {
    return await plugin.getReviewCounts(days);
  };
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(7, heatmapComponent);
    });
  }
  const click_handler = () => dispatch("close");
  $$self.$$set = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    createEventDispatcher,
    ReviewHeatmap: ReviewHeatmap_default,
    plugin,
    dispatch,
    loading,
    statistics,
    selectedDeckFilter,
    selectedTimeframe,
    availableDecks,
    availableTags,
    heatmapComponent,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    loadDecksAndTags,
    loadStatistics,
    handleFilterChange,
    formatDate: formatDate2,
    formatTime,
    formatPace,
    getTodayStats,
    getTimeframeStats,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    calculateBarHeight,
    getMaturityRatio
  });
  $$self.$inject_state = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
    if ("loading" in $$props2)
      $$invalidate(1, loading = $$props2.loading);
    if ("statistics" in $$props2)
      $$invalidate(2, statistics = $$props2.statistics);
    if ("selectedDeckFilter" in $$props2)
      $$invalidate(3, selectedDeckFilter = $$props2.selectedDeckFilter);
    if ("selectedTimeframe" in $$props2)
      $$invalidate(4, selectedTimeframe = $$props2.selectedTimeframe);
    if ("availableDecks" in $$props2)
      $$invalidate(5, availableDecks = $$props2.availableDecks);
    if ("availableTags" in $$props2)
      $$invalidate(6, availableTags = $$props2.availableTags);
    if ("heatmapComponent" in $$props2)
      $$invalidate(7, heatmapComponent = $$props2.heatmapComponent);
    if ("todayStats" in $$props2)
      $$invalidate(8, todayStats = $$props2.todayStats);
    if ("weekStats" in $$props2)
      $$invalidate(9, weekStats = $$props2.weekStats);
    if ("monthStats" in $$props2)
      $$invalidate(10, monthStats = $$props2.monthStats);
    if ("yearStats" in $$props2)
      $$invalidate(11, yearStats = $$props2.yearStats);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    plugin,
    loading,
    statistics,
    selectedDeckFilter,
    selectedTimeframe,
    availableDecks,
    availableTags,
    heatmapComponent,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    dispatch,
    loadStatistics,
    handleFilterChange,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    getMaturityRatio,
    select0_change_handler,
    select1_change_handler,
    func_3,
    reviewheatmap_binding,
    click_handler
  ];
}
var StatisticsUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance4, create_fragment4, safe_not_equal, { plugin: 0 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "StatisticsUI",
      options,
      id: create_fragment4.name
    });
  }
  get plugin() {
    throw new Error("<StatisticsUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<StatisticsUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var StatisticsUI_default = StatisticsUI;

// src/components/StatisticsModal.ts
var StatisticsModal = class extends import_obsidian4.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement) {
      modalEl.addClass("statistics-modal");
    }
    this.containerEl.addClass("statistics-modal-container");
    contentEl.addClass("statistics-modal-content");
    const titleEl = contentEl.createEl("h2", { text: "Overall Statistics" });
    titleEl.addClass("statistics-modal-title");
    const componentContainer = contentEl.createDiv("statistics-container");
    componentContainer.addClass("statistics-modal-component-container");
    this.component = new StatisticsUI_default({
      target: componentContainer,
      props: {
        plugin: this.plugin
      }
    });
    this.component.$on("close", () => {
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/FlashcardReviewModalWrapper.ts
var import_obsidian5 = require("obsidian");

// src/components/FlashcardReviewModal.svelte
var { console: console_14 } = globals;
var file5 = "src/components/FlashcardReviewModal.svelte";
function create_if_block_33(ctx) {
  let div1;
  let div0;
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      attr_dev(div0, "class", "progress-fill svelte-1opyfa1");
      set_style(
        div0,
        "width",
        /*progress*/
        ctx[11] + "%"
      );
      add_location(div0, file5, 140, 12, 4097);
      attr_dev(div1, "class", "review-progress-bar svelte-1opyfa1");
      add_location(div1, file5, 139, 8, 4051);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*progress*/
      2048) {
        set_style(
          div0,
          "width",
          /*progress*/
          ctx2[11] + "%"
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_33.name,
    type: "if",
    source: "(139:4) {#if settings?.review?.showProgress !== false}",
    ctx
  });
  return block;
}
function create_else_block4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No cards to review";
      add_location(p, file5, 218, 12, 7173);
      attr_dev(div, "class", "empty-state svelte-1opyfa1");
      add_location(div, file5, 217, 8, 7135);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block4.name,
    type: "else",
    source: "(217:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block4(ctx) {
  let div5;
  let div1;
  let div0;
  let t0;
  let div4;
  let div2;
  let t1;
  let div3;
  let t2;
  let div6;
  let t3;
  let if_block0 = !/*showAnswer*/
  ctx[5] && create_if_block_23(ctx);
  let if_block1 = (
    /*showAnswer*/
    ctx[5] && /*schedulingInfo*/
    ctx[9] && create_if_block_14(ctx)
  );
  const block = {
    c: function create() {
      div5 = element("div");
      div1 = element("div");
      div0 = element("div");
      t0 = space();
      div4 = element("div");
      div2 = element("div");
      t1 = space();
      div3 = element("div");
      t2 = space();
      div6 = element("div");
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      attr_dev(div0, "class", "card-side front svelte-1opyfa1");
      add_location(div0, file5, 147, 16, 4300);
      attr_dev(div1, "class", "question-section svelte-1opyfa1");
      add_location(div1, file5, 146, 12, 4253);
      attr_dev(div2, "class", "separator svelte-1opyfa1");
      add_location(div2, file5, 151, 16, 4460);
      attr_dev(div3, "class", "card-side back svelte-1opyfa1");
      add_location(div3, file5, 152, 16, 4506);
      attr_dev(div4, "class", "answer-section svelte-1opyfa1");
      toggle_class(div4, "hidden", !/*showAnswer*/
      ctx[5]);
      add_location(div4, file5, 150, 12, 4388);
      attr_dev(div5, "class", "card-content svelte-1opyfa1");
      add_location(div5, file5, 145, 8, 4214);
      attr_dev(div6, "class", "action-buttons svelte-1opyfa1");
      add_location(div6, file5, 156, 8, 4603);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div1);
      append_dev(div1, div0);
      ctx[19](div0);
      append_dev(div5, t0);
      append_dev(div5, div4);
      append_dev(div4, div2);
      append_dev(div4, t1);
      append_dev(div4, div3);
      ctx[20](div3);
      insert_dev(target, t2, anchor);
      insert_dev(target, div6, anchor);
      if (if_block0)
        if_block0.m(div6, null);
      append_dev(div6, t3);
      if (if_block1)
        if_block1.m(div6, null);
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*showAnswer*/
      32) {
        toggle_class(div4, "hidden", !/*showAnswer*/
        ctx2[5]);
      }
      if (!/*showAnswer*/
      ctx2[5]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_23(ctx2);
          if_block0.c();
          if_block0.m(div6, t3);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (
        /*showAnswer*/
        ctx2[5] && /*schedulingInfo*/
        ctx2[9]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
        } else {
          if_block1 = create_if_block_14(ctx2);
          if_block1.c();
          if_block1.m(div6, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      ctx[19](null);
      ctx[20](null);
      if (detaching)
        detach_dev(t2);
      if (detaching)
        detach_dev(div6);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block4.name,
    type: "if",
    source: "(145:4) {#if currentCard}",
    ctx
  });
  return block;
}
function create_if_block_23(ctx) {
  let button;
  let span0;
  let t1;
  let span1;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      button = element("button");
      span0 = element("span");
      span0.textContent = "Show Answer";
      t1 = space();
      span1 = element("span");
      span1.textContent = "Space";
      add_location(span0, file5, 159, 20, 4758);
      attr_dev(span1, "class", "shortcut svelte-1opyfa1");
      add_location(span1, file5, 160, 20, 4803);
      attr_dev(button, "class", "show-answer-button svelte-1opyfa1");
      add_location(button, file5, 158, 16, 4678);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, span0);
      append_dev(button, t1);
      append_dev(button, span1);
      if (!mounted) {
        dispose = listen_dev(
          button,
          "click",
          /*revealAnswer*/
          ctx[12],
          false,
          false,
          false,
          false
        );
        mounted = true;
      }
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      dispose();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_23.name,
    type: "if",
    source: "(158:12) {#if !showAnswer}",
    ctx
  });
  return block;
}
function create_if_block_14(ctx) {
  let div12;
  let button0;
  let div0;
  let t1;
  let div1;
  let t2_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].again.interval
    ) + ""
  );
  let t2;
  let t3;
  let div2;
  let t5;
  let button1;
  let div3;
  let t7;
  let div4;
  let t8_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].hard.interval
    ) + ""
  );
  let t8;
  let t9;
  let div5;
  let t11;
  let button2;
  let div6;
  let t13;
  let div7;
  let t14_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].good.interval
    ) + ""
  );
  let t14;
  let t15;
  let div8;
  let t17;
  let button3;
  let div9;
  let t19;
  let div10;
  let t20_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].easy.interval
    ) + ""
  );
  let t20;
  let t21;
  let div11;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div12 = element("div");
      button0 = element("button");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      div2.textContent = "1";
      t5 = space();
      button1 = element("button");
      div3 = element("div");
      div3.textContent = "Hard";
      t7 = space();
      div4 = element("div");
      t8 = text(t8_value);
      t9 = space();
      div5 = element("div");
      div5.textContent = "2";
      t11 = space();
      button2 = element("button");
      div6 = element("div");
      div6.textContent = "Good";
      t13 = space();
      div7 = element("div");
      t14 = text(t14_value);
      t15 = space();
      div8 = element("div");
      div8.textContent = "3";
      t17 = space();
      button3 = element("button");
      div9 = element("div");
      div9.textContent = "Easy";
      t19 = space();
      div10 = element("div");
      t20 = text(t20_value);
      t21 = space();
      div11 = element("div");
      div11.textContent = "4";
      attr_dev(div0, "class", "button-label svelte-1opyfa1");
      add_location(div0, file5, 171, 24, 5222);
      attr_dev(div1, "class", "interval svelte-1opyfa1");
      add_location(div1, file5, 172, 24, 5284);
      attr_dev(div2, "class", "shortcut svelte-1opyfa1");
      add_location(div2, file5, 175, 24, 5442);
      attr_dev(button0, "class", "difficulty-button again svelte-1opyfa1");
      button0.disabled = /*isLoading*/
      ctx[6];
      add_location(button0, file5, 166, 20, 5e3);
      attr_dev(div3, "class", "button-label svelte-1opyfa1");
      add_location(div3, file5, 183, 24, 5743);
      attr_dev(div4, "class", "interval svelte-1opyfa1");
      add_location(div4, file5, 184, 24, 5804);
      attr_dev(div5, "class", "shortcut svelte-1opyfa1");
      add_location(div5, file5, 187, 24, 5961);
      attr_dev(button1, "class", "difficulty-button hard svelte-1opyfa1");
      button1.disabled = /*isLoading*/
      ctx[6];
      add_location(button1, file5, 178, 20, 5523);
      attr_dev(div6, "class", "button-label svelte-1opyfa1");
      add_location(div6, file5, 195, 24, 6262);
      attr_dev(div7, "class", "interval svelte-1opyfa1");
      add_location(div7, file5, 196, 24, 6323);
      attr_dev(div8, "class", "shortcut svelte-1opyfa1");
      add_location(div8, file5, 199, 24, 6480);
      attr_dev(button2, "class", "difficulty-button good svelte-1opyfa1");
      button2.disabled = /*isLoading*/
      ctx[6];
      add_location(button2, file5, 190, 20, 6042);
      attr_dev(div9, "class", "button-label svelte-1opyfa1");
      add_location(div9, file5, 207, 24, 6781);
      attr_dev(div10, "class", "interval svelte-1opyfa1");
      add_location(div10, file5, 208, 24, 6842);
      attr_dev(div11, "class", "shortcut svelte-1opyfa1");
      add_location(div11, file5, 211, 24, 6999);
      attr_dev(button3, "class", "difficulty-button easy svelte-1opyfa1");
      button3.disabled = /*isLoading*/
      ctx[6];
      add_location(button3, file5, 202, 20, 6561);
      attr_dev(div12, "class", "difficulty-buttons svelte-1opyfa1");
      add_location(div12, file5, 165, 16, 4947);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div12, anchor);
      append_dev(div12, button0);
      append_dev(button0, div0);
      append_dev(button0, t1);
      append_dev(button0, div1);
      append_dev(div1, t2);
      append_dev(button0, t3);
      append_dev(button0, div2);
      append_dev(div12, t5);
      append_dev(div12, button1);
      append_dev(button1, div3);
      append_dev(button1, t7);
      append_dev(button1, div4);
      append_dev(div4, t8);
      append_dev(button1, t9);
      append_dev(button1, div5);
      append_dev(div12, t11);
      append_dev(div12, button2);
      append_dev(button2, div6);
      append_dev(button2, t13);
      append_dev(button2, div7);
      append_dev(div7, t14);
      append_dev(button2, t15);
      append_dev(button2, div8);
      append_dev(div12, t17);
      append_dev(div12, button3);
      append_dev(button3, div9);
      append_dev(button3, t19);
      append_dev(button3, div10);
      append_dev(div10, t20);
      append_dev(button3, t21);
      append_dev(button3, div11);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[21],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[22],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button2,
            "click",
            /*click_handler_2*/
            ctx[23],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button3,
            "click",
            /*click_handler_3*/
            ctx[24],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty & /*schedulingInfo*/
      512 && t2_value !== (t2_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].again.interval
      ) + ""))
        set_data_dev(t2, t2_value);
      if (dirty & /*isLoading*/
      64) {
        prop_dev(
          button0,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty & /*schedulingInfo*/
      512 && t8_value !== (t8_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].hard.interval
      ) + ""))
        set_data_dev(t8, t8_value);
      if (dirty & /*isLoading*/
      64) {
        prop_dev(
          button1,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty & /*schedulingInfo*/
      512 && t14_value !== (t14_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].good.interval
      ) + ""))
        set_data_dev(t14, t14_value);
      if (dirty & /*isLoading*/
      64) {
        prop_dev(
          button2,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty & /*schedulingInfo*/
      512 && t20_value !== (t20_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].easy.interval
      ) + ""))
        set_data_dev(t20, t20_value);
      if (dirty & /*isLoading*/
      64) {
        prop_dev(
          button3,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div12);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_14.name,
    type: "if",
    source: "(165:12) {#if showAnswer && schedulingInfo}",
    ctx
  });
  return block;
}
function create_fragment5(ctx) {
  var _a, _b;
  let div2;
  let div1;
  let h3;
  let t0;
  let t1_value = (
    /*deck*/
    ctx[2].name + ""
  );
  let t1;
  let t2;
  let div0;
  let span0;
  let t3_value = (
    /*currentIndex*/
    ctx[0] + 1 + ""
  );
  let t3;
  let t4;
  let t5_value = (
    /*flashcards*/
    ctx[1].length + ""
  );
  let t5;
  let t6;
  let span1;
  let t7;
  let t8;
  let t9;
  let t10;
  let t11;
  let if_block0 = (
    /*settings*/
    ((_b = (_a = ctx[3]) == null ? void 0 : _a.review) == null ? void 0 : _b.showProgress) !== false && create_if_block_33(ctx)
  );
  function select_block_type(ctx2, dirty) {
    if (
      /*currentCard*/
      ctx2[4]
    )
      return create_if_block4;
    return create_else_block4;
  }
  let current_block_type = select_block_type(ctx, -1);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div2 = element("div");
      div1 = element("div");
      h3 = element("h3");
      t0 = text("Review Session - ");
      t1 = text(t1_value);
      t2 = space();
      div0 = element("div");
      span0 = element("span");
      t3 = text(t3_value);
      t4 = text(" / ");
      t5 = text(t5_value);
      t6 = space();
      span1 = element("span");
      t7 = text("(");
      t8 = text(
        /*remainingCards*/
        ctx[10]
      );
      t9 = text(" remaining)");
      t10 = space();
      if (if_block0)
        if_block0.c();
      t11 = space();
      if_block1.c();
      attr_dev(h3, "class", "svelte-1opyfa1");
      add_location(h3, file5, 131, 8, 3753);
      add_location(span0, file5, 133, 12, 3839);
      attr_dev(span1, "class", "remaining svelte-1opyfa1");
      add_location(span1, file5, 134, 12, 3905);
      attr_dev(div0, "class", "progress-info svelte-1opyfa1");
      add_location(div0, file5, 132, 8, 3799);
      attr_dev(div1, "class", "modal-header svelte-1opyfa1");
      add_location(div1, file5, 130, 4, 3718);
      attr_dev(div2, "class", "review-modal svelte-1opyfa1");
      add_location(div2, file5, 129, 0, 3687);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div1);
      append_dev(div1, h3);
      append_dev(h3, t0);
      append_dev(h3, t1);
      append_dev(div1, t2);
      append_dev(div1, div0);
      append_dev(div0, span0);
      append_dev(span0, t3);
      append_dev(span0, t4);
      append_dev(span0, t5);
      append_dev(div0, t6);
      append_dev(div0, span1);
      append_dev(span1, t7);
      append_dev(span1, t8);
      append_dev(span1, t9);
      append_dev(div2, t10);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div2, t11);
      if_block1.m(div2, null);
    },
    p: function update2(ctx2, [dirty]) {
      var _a2, _b2;
      if (dirty & /*deck*/
      4 && t1_value !== (t1_value = /*deck*/
      ctx2[2].name + ""))
        set_data_dev(t1, t1_value);
      if (dirty & /*currentIndex*/
      1 && t3_value !== (t3_value = /*currentIndex*/
      ctx2[0] + 1 + ""))
        set_data_dev(t3, t3_value);
      if (dirty & /*flashcards*/
      2 && t5_value !== (t5_value = /*flashcards*/
      ctx2[1].length + ""))
        set_data_dev(t5, t5_value);
      if (dirty & /*remainingCards*/
      1024)
        set_data_dev(
          t8,
          /*remainingCards*/
          ctx2[10]
        );
      if (
        /*settings*/
        ((_b2 = (_a2 = ctx2[3]) == null ? void 0 : _a2.review) == null ? void 0 : _b2.showProgress) !== false
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_33(ctx2);
          if_block0.c();
          if_block0.m(div2, t11);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div2, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      if (if_block0)
        if_block0.d();
      if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment5.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance5($$self, $$props, $$invalidate) {
  let currentCard;
  let progress;
  let remainingCards;
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("FlashcardReviewModal", slots, []);
  let { flashcards = [] } = $$props;
  let { deck } = $$props;
  let { currentIndex = 0 } = $$props;
  let { onClose } = $$props;
  let { onReview } = $$props;
  let { renderMarkdown } = $$props;
  let { settings } = $$props;
  let { onCardReviewed = void 0 } = $$props;
  const dispatch = createEventDispatcher();
  const fsrs = new FSRS();
  let showAnswer = false;
  let isLoading = false;
  let frontEl;
  let backEl;
  let schedulingInfo = null;
  let reviewedCount = 0;
  let cardStartTime = 0;
  function loadCard() {
    if (!currentCard)
      return;
    $$invalidate(5, showAnswer = false);
    $$invalidate(9, schedulingInfo = fsrs.getSchedulingInfo(currentCard));
    cardStartTime = Date.now();
    if (frontEl) {
      frontEl.empty();
      renderMarkdown(currentCard.front, frontEl);
    }
    tick().then(() => {
      if (backEl) {
        backEl.empty();
        renderMarkdown(currentCard.back, backEl);
      }
    });
  }
  function revealAnswer() {
    $$invalidate(5, showAnswer = true);
    tick().then(() => {
      if (backEl && currentCard) {
        backEl.empty();
        renderMarkdown(currentCard.back, backEl);
      }
    });
  }
  function handleDifficulty(difficulty) {
    return __awaiter(this, void 0, void 0, function* () {
      if (!currentCard || isLoading)
        return;
      $$invalidate(6, isLoading = true);
      try {
        const timeElapsed = Date.now() - cardStartTime;
        yield onReview(currentCard, difficulty, timeElapsed);
        reviewedCount++;
        if (onCardReviewed) {
          yield onCardReviewed(currentCard);
        }
        if (currentIndex < flashcards.length - 1) {
          $$invalidate(0, currentIndex++, currentIndex);
          loadCard();
        } else {
          dispatch("complete", {
            reason: "no-more-cards",
            reviewed: reviewedCount
          });
          onClose();
        }
      } catch (error) {
        console.error("Error reviewing card:", error);
      } finally {
        $$invalidate(6, isLoading = false);
      }
    });
  }
  function getIntervalDisplay(minutes) {
    return FSRS.getIntervalDisplay(minutes);
  }
  function handleKeydown(event) {
    if (isLoading)
      return;
    if (!showAnswer && event.key === " ") {
      event.preventDefault();
      revealAnswer();
    } else if (showAnswer) {
      switch (event.key) {
        case "1":
          handleDifficulty("again");
          break;
        case "2":
          handleDifficulty("hard");
          break;
        case "3":
        case " ":
          handleDifficulty("good");
          break;
        case "4":
          handleDifficulty("easy");
          break;
      }
    }
  }
  onMount(() => {
    loadCard();
    window.addEventListener("keydown", handleKeydown);
    return () => {
      window.removeEventListener("keydown", handleKeydown);
    };
  });
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'deck'");
    }
    if (onClose === void 0 && !("onClose" in $$props || $$self.$$.bound[$$self.$$.props["onClose"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onClose'");
    }
    if (onReview === void 0 && !("onReview" in $$props || $$self.$$.bound[$$self.$$.props["onReview"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onReview'");
    }
    if (renderMarkdown === void 0 && !("renderMarkdown" in $$props || $$self.$$.bound[$$self.$$.props["renderMarkdown"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'renderMarkdown'");
    }
    if (settings === void 0 && !("settings" in $$props || $$self.$$.bound[$$self.$$.props["settings"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'settings'");
    }
  });
  const writable_props = [
    "flashcards",
    "deck",
    "currentIndex",
    "onClose",
    "onReview",
    "renderMarkdown",
    "settings",
    "onCardReviewed"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_14.warn(`<FlashcardReviewModal> was created with unknown prop '${key}'`);
  });
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      frontEl = $$value;
      $$invalidate(7, frontEl);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      backEl = $$value;
      $$invalidate(8, backEl);
    });
  }
  const click_handler = () => handleDifficulty("again");
  const click_handler_1 = () => handleDifficulty("hard");
  const click_handler_2 = () => handleDifficulty("good");
  const click_handler_3 = () => handleDifficulty("easy");
  $$self.$$set = ($$props2) => {
    if ("flashcards" in $$props2)
      $$invalidate(1, flashcards = $$props2.flashcards);
    if ("deck" in $$props2)
      $$invalidate(2, deck = $$props2.deck);
    if ("currentIndex" in $$props2)
      $$invalidate(0, currentIndex = $$props2.currentIndex);
    if ("onClose" in $$props2)
      $$invalidate(15, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(16, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(17, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(3, settings = $$props2.settings);
    if ("onCardReviewed" in $$props2)
      $$invalidate(18, onCardReviewed = $$props2.onCardReviewed);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    createEventDispatcher,
    tick,
    FSRS,
    flashcards,
    deck,
    currentIndex,
    onClose,
    onReview,
    renderMarkdown,
    settings,
    onCardReviewed,
    dispatch,
    fsrs,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    reviewedCount,
    cardStartTime,
    loadCard,
    revealAnswer,
    handleDifficulty,
    getIntervalDisplay,
    handleKeydown,
    currentCard,
    remainingCards,
    progress
  });
  $$self.$inject_state = ($$props2) => {
    if ("flashcards" in $$props2)
      $$invalidate(1, flashcards = $$props2.flashcards);
    if ("deck" in $$props2)
      $$invalidate(2, deck = $$props2.deck);
    if ("currentIndex" in $$props2)
      $$invalidate(0, currentIndex = $$props2.currentIndex);
    if ("onClose" in $$props2)
      $$invalidate(15, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(16, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(17, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(3, settings = $$props2.settings);
    if ("onCardReviewed" in $$props2)
      $$invalidate(18, onCardReviewed = $$props2.onCardReviewed);
    if ("showAnswer" in $$props2)
      $$invalidate(5, showAnswer = $$props2.showAnswer);
    if ("isLoading" in $$props2)
      $$invalidate(6, isLoading = $$props2.isLoading);
    if ("frontEl" in $$props2)
      $$invalidate(7, frontEl = $$props2.frontEl);
    if ("backEl" in $$props2)
      $$invalidate(8, backEl = $$props2.backEl);
    if ("schedulingInfo" in $$props2)
      $$invalidate(9, schedulingInfo = $$props2.schedulingInfo);
    if ("reviewedCount" in $$props2)
      reviewedCount = $$props2.reviewedCount;
    if ("cardStartTime" in $$props2)
      cardStartTime = $$props2.cardStartTime;
    if ("currentCard" in $$props2)
      $$invalidate(4, currentCard = $$props2.currentCard);
    if ("remainingCards" in $$props2)
      $$invalidate(10, remainingCards = $$props2.remainingCards);
    if ("progress" in $$props2)
      $$invalidate(11, progress = $$props2.progress);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(4, currentCard = flashcards[currentIndex] || null);
    }
    if ($$self.$$.dirty & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(11, progress = flashcards.length > 0 ? currentIndex / flashcards.length * 100 : 0);
    }
    if ($$self.$$.dirty & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(10, remainingCards = flashcards.length - currentIndex);
    }
    if ($$self.$$.dirty & /*currentCard*/
    16) {
      $:
        if (currentCard) {
          loadCard();
        }
    }
  };
  return [
    currentIndex,
    flashcards,
    deck,
    settings,
    currentCard,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    remainingCards,
    progress,
    revealAnswer,
    handleDifficulty,
    getIntervalDisplay,
    onClose,
    onReview,
    renderMarkdown,
    onCardReviewed,
    div0_binding,
    div3_binding,
    click_handler,
    click_handler_1,
    click_handler_2,
    click_handler_3
  ];
}
var FlashcardReviewModal = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance5, create_fragment5, safe_not_equal, {
      flashcards: 1,
      deck: 2,
      currentIndex: 0,
      onClose: 15,
      onReview: 16,
      renderMarkdown: 17,
      settings: 3,
      onCardReviewed: 18
    });
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "FlashcardReviewModal",
      options,
      id: create_fragment5.name
    });
  }
  get flashcards() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set flashcards(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get deck() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get currentIndex() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set currentIndex(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onClose() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onClose(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onReview() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onReview(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get renderMarkdown() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set renderMarkdown(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get settings() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set settings(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onCardReviewed() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onCardReviewed(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var FlashcardReviewModal_default = FlashcardReviewModal;

// src/components/FlashcardReviewModalWrapper.ts
var FlashcardReviewModalWrapper = class extends import_obsidian5.Modal {
  constructor(app, plugin, deck, flashcards) {
    super(app);
    this.component = null;
    this.markdownComponents = [];
    this.plugin = plugin;
    this.deck = deck;
    this.flashcards = flashcards;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("deck-review-modal");
    const container = contentEl.createDiv();
    this.component = new FlashcardReviewModal_default({
      target: container,
      props: {
        flashcards: this.flashcards,
        deck: this.deck,
        currentIndex: 0,
        onClose: () => this.close(),
        onReview: async (card, difficulty, timeElapsed) => {
          await this.plugin.reviewFlashcard(card, difficulty, timeElapsed);
        },
        renderMarkdown: (content, el) => {
          const component = this.plugin.renderMarkdown(content, el);
          if (component) {
            this.markdownComponents.push(component);
          }
        },
        settings: this.plugin.settings,
        onCardReviewed: async (reviewedCard) => {
          if (this.plugin.view && reviewedCard) {
            await this.plugin.view.refreshStatsById(reviewedCard.deckId);
          }
        }
      }
    });
    this.component.$on("complete", (event) => {
      const { reason, reviewed } = event.detail;
      let message = `Review session complete for ${this.deck.name}!`;
      if (reason === "no-more-cards") {
        message = `All available cards reviewed! Completed ${reviewed} cards from ${this.deck.name}.`;
      }
      new import_obsidian5.Notice(message);
      if (this.plugin.view) {
        this.plugin.view.refresh();
      }
    });
  }
  onClose() {
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    if (this.plugin.view) {
      this.plugin.view.refresh();
    }
  }
};

// src/main.ts
var VIEW_TYPE_DECKS = "decks-view";
var DecksPlugin = class extends import_obsidian6.Plugin {
  constructor() {
    super(...arguments);
    this.view = null;
    this.isSyncing = false;
    this.progressNotice = null;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  // Debug logging utility
  debugLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.enableLogging) {
      console.log(`[Decks Debug] ${message}`, ...args);
    }
  }
  // Performance logging utility
  performanceLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.performanceLogs) {
      console.log(`[Decks Performance] ${message}`, ...args);
    }
  }
  // Progress tracking utility
  updateProgress(message, progress = 0) {
    if (this.progressNotice) {
      const progressBar = this.createProgressBar(progress);
      this.progressNotice.setMessage(`${message}
${progressBar}`);
    }
  }
  createProgressBar(progress) {
    const width = 25;
    const filled = Math.round(progress / 100 * width);
    const empty2 = width - filled;
    const bar = "\u2588".repeat(filled) + "\u2591".repeat(empty2);
    const percentage = Math.round(progress);
    return `[${bar}] ${percentage}%`;
  }
  showProgressNotice(message) {
    this.progressNotice = new import_obsidian6.Notice(message, 0);
  }
  hideProgressNotice() {
    if (this.progressNotice) {
      this.progressNotice.hide();
      this.progressNotice = null;
    }
  }
  async onload() {
    this.debugLog("Loading Decks plugin");
    await this.loadSettings();
    try {
      const adapter = this.app.vault.adapter;
      const pluginDir = `${this.app.vault.configDir}/plugins/decks`;
      if (!await adapter.exists(pluginDir)) {
        await adapter.mkdir(pluginDir);
      }
      this.fsrs = new FSRS({
        requestRetention: this.settings.fsrs.requestRetention,
        maximumInterval: this.settings.fsrs.maximumInterval,
        easyBonus: this.settings.fsrs.easyBonus,
        hardInterval: this.settings.fsrs.hardInterval,
        w: this.settings.fsrs.weights
      });
      const databasePath = `${this.app.vault.configDir}/plugins/decks/flashcards.db`;
      this.db = new DatabaseService(
        databasePath,
        adapter,
        this.debugLog.bind(this)
      );
      await this.db.initialize();
      this.deckManager = new DeckManager(
        this.app.vault,
        this.app.metadataCache,
        this.db,
        this
      );
      this.registerView(VIEW_TYPE_DECKS, (leaf) => new DecksView(leaf, this));
      this.app.workspace.onLayoutReady(() => {
        setTimeout(() => {
          this.performInitialSync();
        }, 5e3);
      });
      this.addRibbonIcon("brain", "Flashcards", () => {
        this.activateView();
      });
      this.addCommand({
        id: "show-flashcards-panel",
        name: "Show Flashcards Panel",
        callback: () => {
          this.activateView();
        }
      });
      this.registerEvent(
        this.app.vault.on("modify", async (file6) => {
          if (file6 instanceof import_obsidian6.TFile && file6.extension === "md") {
            await this.handleFileChange(file6);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("delete", async (file6) => {
          if (file6 instanceof import_obsidian6.TFile && file6.extension === "md") {
            await this.handleFileDelete(file6);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("rename", async (file6, oldPath) => {
          if (file6 instanceof import_obsidian6.TFile && file6.extension === "md") {
            await this.handleFileRename(file6, oldPath);
          }
        })
      );
      this.addSettingTab(new DecksSettingTab(this.app, this));
      this.debugLog("Decks plugin loaded successfully");
    } catch (error) {
      console.error("Error loading Decks plugin:", error);
      new import_obsidian6.Notice("Failed to load Decks plugin. Check console for details.");
    }
  }
  async onunload() {
    this.debugLog("Unloading Decks plugin");
    if (this.db) {
      await this.db.close();
    }
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, loadedData);
    if (!this.settings.debug) {
      this.settings.debug = DEFAULT_SETTINGS.debug;
      await this.saveSettings();
    }
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.fsrs = new FSRS({
      requestRetention: this.settings.fsrs.requestRetention,
      maximumInterval: this.settings.fsrs.maximumInterval,
      easyBonus: this.settings.fsrs.easyBonus,
      hardInterval: this.settings.fsrs.hardInterval,
      w: this.settings.fsrs.weights
    });
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_DECKS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (leaf) {
        await leaf.setViewState({
          type: VIEW_TYPE_DECKS,
          active: true
        });
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
      const decks = await this.db.getAllDecks();
      if (decks.length === 0) {
        this.debugLog("No decks found, scheduling background sync...");
        setTimeout(() => {
          this.performInitialSync();
        }, 1e3);
      }
    }
  }
  async handleFileChange(file6) {
    const metadata = this.app.metadataCache.getFileCache(file6);
    this.debugLog(`File changed: ${file6.path}, metadata:`, metadata);
    if (!metadata)
      return;
    const allTags = [];
    if (metadata.tags) {
      allTags.push(...metadata.tags.map((t) => t.tag));
    }
    if (metadata.frontmatter && metadata.frontmatter.tags) {
      const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
      allTags.push(
        ...frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        )
      );
    }
    const hasFlashcardsTag = allTags.some(
      (tag) => tag.startsWith("#flashcards")
    );
    this.debugLog(`File ${file6.path} has flashcards tag:`, hasFlashcardsTag);
    if (hasFlashcardsTag) {
      const existingDeck = await this.db.getDeckByFilepath(file6.path);
      if (existingDeck) {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        if (existingDeck.tag !== newTag) {
          this.debugLog(
            `Updating deck tag from ${existingDeck.tag} to ${newTag}`
          );
          await this.db.updateDeck(existingDeck.id, { tag: newTag });
        }
        await this.deckManager.syncFlashcardsForDeck(file6.path);
        if (this.view) {
          await this.view.refreshStatsById(existingDeck.id);
        }
      } else {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        await this.deckManager.createDeckForFile(file6.path, newTag);
        await this.deckManager.syncFlashcardsForDeck(file6.path);
        if (this.view) {
          await this.view.refreshStats();
        }
      }
    }
  }
  async performInitialSync() {
    let notice = null;
    try {
      const startTime = performance.now();
      this.debugLog("Performing initial background sync...");
      notice = new import_obsidian6.Notice("\u{1F504} Syncing flashcards in background...", 0);
      await new Promise((resolve) => setTimeout(resolve, 100));
      await this.performSync(false);
      const totalTime = performance.now() - startTime;
      this.performanceLog(
        `Initial sync completed successfully in ${this.formatTime(totalTime)}`
      );
      if (notice) {
        notice.setMessage(
          `\u2705 Flashcard sync completed (${this.formatTime(totalTime)})`
        );
        setTimeout(() => notice == null ? void 0 : notice.hide(), 3e3);
      }
    } catch (error) {
      console.error("Error during initial sync:", error);
      if (notice) {
        notice.setMessage("\u26A0\uFE0F Flashcard sync failed - check console");
        setTimeout(() => notice == null ? void 0 : notice.hide(), 5e3);
      }
    }
  }
  async performSync(forceSync = false) {
    if (this.isSyncing) {
      this.debugLog("Sync already in progress, skipping...");
      return;
    }
    this.isSyncing = true;
    const syncStartTime = performance.now();
    if (forceSync) {
      this.showProgressNotice(
        "\u{1F504} Force refreshing flashcards...\n" + this.createProgressBar(0)
      );
    }
    try {
      this.debugLog(
        `Performing ${forceSync ? "forced " : ""}sync of decks and flashcards...`
      );
      if (forceSync)
        this.updateProgress("\u{1F50D} Discovering decks...", 10);
      const decksStartTime = performance.now();
      await this.deckManager.syncDecks();
      const decksTime = performance.now() - decksStartTime;
      this.performanceLog(
        `Deck discovery completed in ${this.formatTime(decksTime)}`
      );
      const decks = await this.db.getAllDecks();
      this.debugLog(
        `Found ${decks.length} decks after sync:`,
        decks.map((d) => d.name)
      );
      if (forceSync)
        this.updateProgress(`\u{1F4DA} Processing ${decks.length} decks...`, 20);
      let totalFlashcards = 0;
      const flashcardSyncStartTime = performance.now();
      for (let i = 0; i < decks.length; i++) {
        const deck = decks[i];
        const deckStartTime = performance.now();
        if (forceSync) {
          const deckProgress = 20 + i / decks.length * 70;
          this.updateProgress(
            `\u{1F4C4} Processing deck: ${deck.name} (${i + 1}/${decks.length})`,
            deckProgress
          );
        }
        this.debugLog(
          `${forceSync ? "Force s" : "S"}yncing flashcards for deck: ${deck.name} (${deck.filepath})`
        );
        await this.deckManager.syncFlashcardsForDeck(deck.filepath, forceSync);
        const flashcards = await this.db.getFlashcardsByDeck(deck.id);
        const deckTime = performance.now() - deckStartTime;
        totalFlashcards += flashcards.length;
        this.performanceLog(
          `Deck ${deck.name} processed in ${this.formatTime(deckTime)} - ${flashcards.length} flashcards`
        );
        if (i % 5 === 4) {
          await new Promise((resolve) => setTimeout(resolve, 10));
        }
      }
      if (forceSync)
        this.updateProgress("\u2705 Finalizing sync...", 95);
      const flashcardSyncTime = performance.now() - flashcardSyncStartTime;
      const totalSyncTime = performance.now() - syncStartTime;
      this.performanceLog(
        `Flashcard processing completed in ${this.formatTime(flashcardSyncTime)}`
      );
      this.performanceLog(
        `Total sync completed in ${this.formatTime(totalSyncTime)} - ${totalFlashcards} flashcards across ${decks.length} decks`
      );
      if (decks.length > 0) {
        const avgDeckTime = flashcardSyncTime / decks.length;
        const avgFlashcardTime = totalFlashcards > 0 ? flashcardSyncTime / totalFlashcards : 0;
        this.performanceLog(
          `Performance: ${this.formatTime(avgDeckTime)}/deck, ${this.formatTime(avgFlashcardTime)}/flashcard`
        );
      }
      if (forceSync) {
        this.updateProgress(
          `\u2705 Sync complete! Processed ${totalFlashcards} flashcards across ${decks.length} decks in ${this.formatTime(totalSyncTime)}`,
          100
        );
        setTimeout(() => this.hideProgressNotice(), 3e3);
      }
    } catch (error) {
      console.error("Error during sync:", error);
      if (forceSync) {
        this.updateProgress("\u274C Sync failed - check console for details", 0);
        setTimeout(() => this.hideProgressNotice(), 5e3);
      }
      throw error;
    } finally {
      this.isSyncing = false;
    }
  }
  async handleFileDelete(file6) {
    await this.db.deleteDeckByFilepath(file6.path);
    if (this.view) {
      await this.view.refreshStats();
    }
  }
  async handleFileRename(file6, oldPath) {
    const oldDeck = await this.db.getDeckByFilepath(oldPath);
    if (oldDeck) {
      const oldDeckId = oldDeck.id;
      const newDeckId = this.deckManager.generateDeckId(file6.path);
      this.debugLog(`File renamed from ${oldPath} to ${file6.path}`);
      this.debugLog(`Updating deck ID from ${oldDeckId} to ${newDeckId}`);
      await this.db.renameDeck(oldDeckId, newDeckId, file6.basename, file6.path);
      await this.deckManager.updateFlashcardDeckIds(oldDeckId, newDeckId);
      if (this.view) {
        await this.view.refreshStats();
      }
    }
  }
  async syncDecks() {
    await this.deckManager.syncDecks();
  }
  async syncFlashcardsForDeck(deckName) {
    await this.deckManager.syncFlashcardsForDeckByName(deckName);
  }
  async getReviewCounts(days = 365) {
    return await this.db.getReviewCountsByDate(days);
  }
  async getDecks() {
    return await this.db.getAllDecks();
  }
  async getDeckStats() {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    const stats = await this.db.getAllDeckStatsFiltered(headerLevel);
    const statsMap = /* @__PURE__ */ new Map();
    for (const stat of stats) {
      statsMap.set(stat.deckId, stat);
    }
    return statsMap;
  }
  async getDueFlashcards(deckId) {
    return await this.db.getDueFlashcards(deckId);
  }
  async getFlashcardsByDeck(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    return await this.db.getFlashcardsByDeckFiltered(deckId, headerLevel);
  }
  async getReviewableFlashcards(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    return await this.db.getReviewableFlashcardsFiltered(deckId, headerLevel);
  }
  async getDailyReviewCounts(deckId) {
    return await this.db.getDailyReviewCounts(deckId);
  }
  async getDeckStatsById(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    const stats = await this.db.getDeckStatsFiltered(deckId, headerLevel);
    return {
      deckId,
      ...stats
    };
  }
  async updateDeckConfig(deckId, config) {
    await this.db.updateDeck(deckId, { config });
    if (this.view) {
      await this.view.refreshStatsById(deckId);
    }
  }
  async reviewFlashcard(flashcard, difficulty, timeElapsed) {
    const updatedCard = this.fsrs.updateCard(flashcard, difficulty);
    await this.db.updateFlashcard(updatedCard.id, {
      state: updatedCard.state,
      dueDate: updatedCard.dueDate,
      interval: updatedCard.interval,
      repetitions: updatedCard.repetitions,
      easeFactor: updatedCard.easeFactor,
      stability: updatedCard.stability,
      lapses: updatedCard.lapses,
      lastReviewed: updatedCard.lastReviewed
    });
    await this.db.createReviewLog({
      flashcardId: flashcard.id,
      reviewedAt: (/* @__PURE__ */ new Date()).toISOString(),
      difficulty,
      oldInterval: flashcard.interval,
      newInterval: updatedCard.interval,
      oldEaseFactor: flashcard.easeFactor,
      newEaseFactor: updatedCard.easeFactor,
      timeElapsed: timeElapsed != null ? timeElapsed : 0,
      newState: updatedCard.state,
      newRepetitions: updatedCard.repetitions,
      newLapses: updatedCard.lapses,
      newStability: updatedCard.stability
    });
    await this.db.updateDeckLastReviewed(flashcard.deckId);
    if (this.view) {
      await this.view.refreshStatsById(flashcard.deckId);
      await this.view.refreshHeatmap();
    }
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    return await this.db.getOverallStatistics(deckFilter, timeframe);
  }
  openStatisticsModal() {
    const modal = new StatisticsModal(this);
    modal.open();
  }
  renderMarkdown(content, el) {
    const component = new import_obsidian6.Component();
    component.load();
    import_obsidian6.MarkdownRenderer.renderMarkdown(content, el, "", component);
    return component;
  }
};
var DecksView = class extends import_obsidian6.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.component = null;
    this.markdownComponents = [];
    this.statsRefreshTimeout = null;
    this.backgroundRefreshInterval = null;
    this.plugin = plugin;
    this.plugin.view = this;
  }
  getViewType() {
    return VIEW_TYPE_DECKS;
  }
  getDisplayText() {
    return "Decks";
  }
  getIcon() {
    return "brain";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("decks-view");
    this.component = new DeckListPanel_default({
      target: container,
      props: {
        onDeckClick: (deck) => this.startReview(deck),
        onRefresh: async () => {
          this.plugin.debugLog("onRefresh callback invoked");
          await this.refresh(true);
        },
        getReviewCounts: async (days) => {
          return await this.plugin.getReviewCounts(days);
        },
        onUpdateDeckConfig: async (deckId, config) => {
          await this.plugin.updateDeckConfig(deckId, config);
        },
        onOpenStatistics: () => {
          this.plugin.openStatisticsModal();
        },
        plugin: this.plugin
      }
    });
    await this.refresh(true);
    if (this.plugin.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async onClose() {
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    if (this.statsRefreshTimeout) {
      clearTimeout(this.statsRefreshTimeout);
      this.statsRefreshTimeout = null;
    }
    this.stopBackgroundRefresh();
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    if (this.plugin.view === this) {
      this.plugin.view = null;
    }
  }
  async update(updatedDecks, deckStats) {
    var _a, _b;
    (_a = this.component) == null ? void 0 : _a.updateDecks(updatedDecks);
    (_b = this.component) == null ? void 0 : _b.updateStats(deckStats);
  }
  async refresh(force = false) {
    this.plugin.debugLog("DecksView.refresh() called");
    try {
      await this.plugin.performSync(force);
      const updatedDecks = await this.plugin.getDecks();
      const deckStats = await this.plugin.getDeckStats();
      this.update(updatedDecks, deckStats);
      this.plugin.debugLog("Refresh complete");
    } catch (error) {
      console.error("Error refreshing decks:", error);
      new import_obsidian6.Notice("Error refreshing decks. Check console for details.");
    }
  }
  async refreshStats() {
    this.plugin.debugLog("DecksView.refreshStats() executing");
    try {
      const deckStats = await this.plugin.getDeckStats();
      this.plugin.debugLog("Updated deck stats:", deckStats);
      if (this.component) {
        this.component.updateStats(deckStats);
      }
    } catch (error) {
      console.error("Error refreshing deck stats:", error);
    }
  }
  async refreshStatsById(deckId) {
    this.plugin.debugLog(
      `DecksView.refreshStatsById() executing for deck: ${deckId}`
    );
    try {
      const deckStats = await this.plugin.getDeckStatsById(deckId);
      this.plugin.debugLog("Updated all deck stats");
      if (this.component && deckStats) {
        this.component.updateStatsById(deckId, deckStats);
      }
    } catch (error) {
      console.error(`Error refreshing stats for deck ${deckId}:`, error);
    }
  }
  startBackgroundRefresh() {
    if (!this.plugin.settings.ui.enableBackgroundRefresh) {
      return;
    }
    this.stopBackgroundRefresh();
    this.plugin.debugLog(
      `Starting background refresh job (every ${this.plugin.settings.ui.backgroundRefreshInterval} seconds)`
    );
    this.backgroundRefreshInterval = setInterval(async () => {
      this.plugin.debugLog("Background refresh tick");
      this.refresh();
    }, this.plugin.settings.ui.backgroundRefreshInterval * 1e3);
  }
  stopBackgroundRefresh() {
    if (this.backgroundRefreshInterval) {
      this.plugin.debugLog("Stopping background refresh job");
      clearInterval(this.backgroundRefreshInterval);
      this.backgroundRefreshInterval = null;
    }
  }
  restartBackgroundRefresh() {
    this.stopBackgroundRefresh();
    if (this.plugin.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async refreshHeatmap() {
    if (this.component) {
      await this.component.refreshHeatmap();
    }
  }
  // Test method to check if background job is running
  checkBackgroundJobStatus() {
    this.plugin.debugLog("Background job status:", {
      isRunning: !!this.backgroundRefreshInterval,
      intervalId: this.backgroundRefreshInterval,
      componentExists: !!this.component,
      refreshInterval: this.plugin.settings.ui.backgroundRefreshInterval
    });
    return !!this.backgroundRefreshInterval;
  }
  async startReview(deck) {
    try {
      this.plugin.debugLog(
        `Syncing cards for deck before review: ${deck.name}`
      );
      await this.plugin.syncFlashcardsForDeck(deck.name);
      const dailyCounts = await this.plugin.getDailyReviewCounts(deck.id);
      const config = deck.config;
      const remainingNew = config.enableNewCardsLimit ? Math.max(0, config.newCardsLimit - dailyCounts.newCount) : "unlimited";
      const remainingReview = config.enableReviewCardsLimit ? Math.max(0, config.reviewCardsLimit - dailyCounts.reviewCount) : "unlimited";
      const flashcards = await this.plugin.getReviewableFlashcards(deck.id);
      if (flashcards.length === 0) {
        let message = `No cards due for review in ${deck.name}`;
        const newLimitReached = config.enableNewCardsLimit && remainingNew === 0;
        const reviewLimitReached = config.enableReviewCardsLimit && remainingReview === 0;
        if (newLimitReached && reviewLimitReached) {
          message += `

Daily limits reached:`;
          message += `
New cards: ${config.newCardsLimit}/${config.newCardsLimit}`;
          message += `
Review cards: ${config.reviewCardsLimit}/${config.reviewCardsLimit}`;
        } else if (newLimitReached) {
          message += `

Daily new cards limit reached: ${config.newCardsLimit}/${config.newCardsLimit}`;
        } else if (reviewLimitReached) {
          message += `

Daily review cards limit reached: ${config.reviewCardsLimit}/${config.reviewCardsLimit}`;
        }
        new import_obsidian6.Notice(message);
        return;
      }
      if (config.enableNewCardsLimit || config.enableReviewCardsLimit) {
        let limitInfo = `Daily progress for ${deck.name}:
`;
        if (config.enableNewCardsLimit) {
          if (dailyCounts.newCount >= config.newCardsLimit) {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsLimit} (LIMIT EXCEEDED)
`;
          } else {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsLimit} (${remainingNew} remaining)
`;
          }
        }
        if (config.enableReviewCardsLimit) {
          if (dailyCounts.reviewCount >= config.reviewCardsLimit) {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsLimit} (LIMIT EXCEEDED)`;
          } else {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsLimit} (${remainingReview} remaining)`;
          }
        }
        const newLimitExceeded = config.enableNewCardsLimit && dailyCounts.newCount >= config.newCardsLimit;
        const reviewLimitExceeded = config.enableReviewCardsLimit && dailyCounts.reviewCount >= config.reviewCardsLimit;
        if (newLimitExceeded || reviewLimitExceeded) {
          limitInfo += `

Note: Only learning cards will be shown (limits exceeded)`;
        }
        new import_obsidian6.Notice(limitInfo, 5e3);
      }
      new FlashcardReviewModalWrapper(
        this.app,
        this.plugin,
        deck,
        flashcards
      ).open();
    } catch (error) {
      console.error("Error starting review:", error);
      new import_obsidian6.Notice("Error starting review. Check console for details.");
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NxbC5qcy9kaXN0L3NxbC13YXNtLmpzIiwgIi4uLy4uLy4uLy4uL3NyYy9zZXR0aW5ncy50cyIsICIuLi8uLi8uLi8uLi9zcmMvbWFpbi50cyIsICIuLi8uLi8uLi8uLi9zcmMvZGF0YWJhc2UvRGF0YWJhc2VTZXJ2aWNlLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS90eXBlcy50cyIsICIuLi8uLi8uLi8uLi9zcmMvc2VydmljZXMvRGVja01hbmFnZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2FsZ29yaXRobS9mc3JzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1NldHRpbmdzVGFiLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1Jldmlld0hlYXRtYXAuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tDb25maWdNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9EZWNrQ29uZmlnVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tMaXN0UGFuZWwuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1N0YXRpc3RpY3NNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9TdGF0aXN0aWNzVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0ZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9GbGFzaGNhcmRSZXZpZXdNb2RhbC5zdmVsdGUiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxuLy8gV2UgYXJlIG1vZHVsYXJpemluZyB0aGlzIG1hbnVhbGx5IGJlY2F1c2UgdGhlIGN1cnJlbnQgbW9kdWxhcml6ZSBzZXR0aW5nIGluIEVtc2NyaXB0ZW4gaGFzIHNvbWUgaXNzdWVzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXBrZW4vZW1zY3JpcHRlbi9pc3N1ZXMvNTgyMFxuLy8gSW4gYWRkaXRpb24sIFdoZW4geW91IHVzZSBlbWNjJ3MgbW9kdWxhcml6YXRpb24sIGl0IHN0aWxsIGV4cGVjdHMgdG8gZXhwb3J0IGEgZ2xvYmFsIG9iamVjdCBjYWxsZWQgYE1vZHVsZWAsXG4vLyB3aGljaCBpcyBhYmxlIHRvIGJlIHVzZWQvY2FsbGVkIGJlZm9yZSB0aGUgV0FTTSBpcyBsb2FkZWQuXG4vLyBUaGUgbW9kdWxhcml6YXRpb24gYmVsb3cgZXhwb3J0cyBhIHByb21pc2UgdGhhdCBsb2FkcyBhbmQgcmVzb2x2ZXMgdG8gdGhlIGFjdHVhbCBzcWwuanMgbW9kdWxlLlxuLy8gVGhhdCB3YXksIHRoaXMgbW9kdWxlIGNhbid0IGJlIHVzZWQgYmVmb3JlIHRoZSBXQVNNIGlzIGZpbmlzaGVkIGxvYWRpbmcuXG5cbi8vIFdlIGFyZSBnb2luZyB0byBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IGEgdXNlciB3aWxsIGNhbGwgdG8gc3RhcnQgbG9hZGluZyBpbml0aWFsaXppbmcgb3VyIFNxbC5qcyBsaWJyYXJ5XG4vLyBIb3dldmVyLCB0aGF0IGZ1bmN0aW9uIG1pZ2h0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIG9uIHN1YnNlcXVlbnQgY2FsbHMsIHdlIGRvbid0IGFjdHVhbGx5IHdhbnQgaXQgdG8gaW5zdGFudGlhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIE1vZHVsZVxuLy8gSW5zdGVhZCwgd2Ugd2FudCB0byByZXR1cm4gdGhlIHByZXZpb3VzbHkgbG9hZGVkIG1vZHVsZVxuXG4vLyBUT0RPOiBNYWtlIHRoaXMgbm90IGRlY2xhcmUgYSBnbG9iYWwgaWYgdXNlZCBpbiB0aGUgYnJvd3NlclxudmFyIGluaXRTcWxKc1Byb21pc2UgPSB1bmRlZmluZWQ7XG5cbnZhciBpbml0U3FsSnMgPSBmdW5jdGlvbiAobW9kdWxlQ29uZmlnKSB7XG5cbiAgICBpZiAoaW5pdFNxbEpzUHJvbWlzZSl7XG4gICAgICByZXR1cm4gaW5pdFNxbEpzUHJvbWlzZTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgaGVyZSwgd2UndmUgbmV2ZXIgY2FsbGVkIHRoaXMgZnVuY3Rpb24gYmVmb3JlXG4gICAgaW5pdFNxbEpzUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlTW9kdWxlLCByZWplY3QpIHtcblxuICAgICAgICAvLyBXZSBhcmUgbW9kdWxhcml6aW5nIHRoaXMgbWFudWFsbHkgYmVjYXVzZSB0aGUgY3VycmVudCBtb2R1bGFyaXplIHNldHRpbmcgaW4gRW1zY3JpcHRlbiBoYXMgc29tZSBpc3N1ZXM6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlwa2VuL2Vtc2NyaXB0ZW4vaXNzdWVzLzU4MjBcblxuICAgICAgICAvLyBUaGUgd2F5IHRvIGFmZmVjdCB0aGUgbG9hZGluZyBvZiBlbWNjIGNvbXBpbGVkIG1vZHVsZXMgaXMgdG8gY3JlYXRlIGEgdmFyaWFibGUgY2FsbGVkIGBNb2R1bGVgIGFuZCBhZGRcbiAgICAgICAgLy8gcHJvcGVydGllcyB0byBpdCwgbGlrZSBgcHJlUnVuYCwgYHBvc3RSdW5gLCBldGNcbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIHRoYXQgdG8gZ2V0IG5vdGlmaWVkIHdoZW4gdGhlIFdBU00gaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICAgIC8vIE9ubHkgdGhlbiB3aWxsIHdlIHJldHVybiBvdXIgcHJvbWlzZVxuXG4gICAgICAgIC8vIElmIHRoZXkgcGFzc2VkIGluIGEgbW9kdWxlQ29uZmlnIG9iamVjdCwgdXNlIHRoYXRcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpbml0aWFsaXplIE1vZHVsZSB0byB0aGUgZW1wdHkgb2JqZWN0XG4gICAgICAgIHZhciBNb2R1bGUgPSB0eXBlb2YgbW9kdWxlQ29uZmlnICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZUNvbmZpZyA6IHt9O1xuXG4gICAgICAgIC8vIEVNQ0Mgb25seSBhbGxvd3MgZm9yIGEgc2luZ2xlIG9uQWJvcnQgZnVuY3Rpb24gKG5vdCBhbiBhcnJheSBvZiBmdW5jdGlvbnMpXG4gICAgICAgIC8vIFNvIGlmIHRoZSB1c2VyIGRlZmluZWQgdGhlaXIgb3duIG9uQWJvcnQgZnVuY3Rpb24sIHdlIHJlbWVtYmVyIGl0IGFuZCBjYWxsIGl0XG4gICAgICAgIHZhciBvcmlnaW5hbE9uQWJvcnRGdW5jdGlvbiA9IE1vZHVsZVsnb25BYm9ydCddO1xuICAgICAgICBNb2R1bGVbJ29uQWJvcnQnXSA9IGZ1bmN0aW9uIChlcnJvclRoYXRDYXVzZWRBYm9ydCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvclRoYXRDYXVzZWRBYm9ydCkpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsT25BYm9ydEZ1bmN0aW9uKXtcbiAgICAgICAgICAgICAgb3JpZ2luYWxPbkFib3J0RnVuY3Rpb24oZXJyb3JUaGF0Q2F1c2VkQWJvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gTW9kdWxlWydwb3N0UnVuJ10gfHwgW107XG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gV2hlbiBFbXNjcmlwdGVkIGNhbGxzIHBvc3RSdW4sIHRoaXMgcHJvbWlzZSByZXNvbHZlcyB3aXRoIHRoZSBidWlsdCBNb2R1bGVcbiAgICAgICAgICAgIHJlc29sdmVNb2R1bGUoTW9kdWxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBzZWN0aW9uIG9mIGNvZGUgaW4gdGhlIGVtY2MtZ2VuZXJhdGVkIGNvZGUgYmVsb3cgdGhhdCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIChOb3RlIHRoYXQgdGhpcyBpcyBsb3dlcmNhc2UgYG1vZHVsZWApXG4gICAgICAgIC8vIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBNb2R1bGU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gV2hlbiB0aGF0IHJ1bnMsIGl0J3MgZ29pbmcgdG8gb3ZlcndyaXRlIG91ciBvd24gbW9kdWxhcml6YXRpb24gZXhwb3J0IGVmZm9ydHMgaW4gc2hlbGwtcG9zdC5qcyFcbiAgICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHRlbGwgZW1jYyBub3QgdG8gZW1pdCBpdCBpcyB0byBwYXNzIHRoZSBNT0RVTEFSSVpFPTEgb3IgTU9EVUxBUklaRV9JTlNUQU5DRT0xIGZsYWdzLFxuICAgICAgICAvLyBidXQgdGhhdCBjYXJyaWVzIHdpdGggaXQgYWRkaXRpb25hbCB1bm5lY2Vzc2FyeSBiYWdnYWdlL2J1Z3Mgd2UgZG9uJ3Qgd2FudCBlaXRoZXIuXG4gICAgICAgIC8vIFNvLCB3ZSBoYXZlIHRocmVlIG9wdGlvbnM6XG4gICAgICAgIC8vIDEpIFdlIHVuZGVmaW5lIGBtb2R1bGVgXG4gICAgICAgIC8vIDIpIFdlIHJlbWVtYmVyIHdoYXQgYG1vZHVsZVsnZXhwb3J0cyddYCB3YXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGZ1bmN0aW9uIGFuZCB3ZSByZXN0b3JlIGl0IGxhdGVyXG4gICAgICAgIC8vIDMpIFdlIHdyaXRlIGEgc2NyaXB0IHRvIHJlbW92ZSB0aG9zZSBsaW5lcyBvZiBjb2RlIGFzIHBhcnQgb2YgdGhlIE1ha2UgcHJvY2Vzcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2luY2UgdGhvc2UgYXJlIHRoZSBvbmx5IGxpbmVzIG9mIGNvZGUgdGhhdCBjYXJlIGFib3V0IG1vZHVsZSwgd2Ugd2lsbCB1bmRlZmluZSBpdC4gSXQncyB0aGUgbW9zdCBzdHJhaWdodGZvcndhcmRcbiAgICAgICAgLy8gb2YgdGhlIG9wdGlvbnMsIGFuZCBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIHJlZHVjaW5nIGVtY2MncyBlZmZvcnRzIHRvIG1vZGlmeSB0aGUgbW9kdWxlIGlmIGl0cyBvdXRwdXQgd2VyZSB0byBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgLy8gVGhhdCdzIGEgbmljZSBzaWRlIGVmZmVjdCBzaW5jZSB3ZSdyZSBoYW5kbGluZyB0aGUgbW9kdWxhcml6YXRpb24gZWZmb3J0cyBvdXJzZWx2ZXNcbiAgICAgICAgbW9kdWxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRoZSBlbWNjLWdlbmVyYXRlZCBjb2RlIGFuZCBzaGVsbC1wb3N0LmpzIGNvZGUgZ29lcyBiZWxvdyxcbiAgICAgICAgLy8gbWVhbmluZyB0aGF0IGFsbCBvZiBpdCBydW5zIGluc2lkZSBvZiB0aGlzIHByb21pc2UuIElmIGFueXRoaW5nIHRocm93cyBhbiBleGNlcHRpb24sIG91ciBwcm9taXNlIHdpbGwgYWJvcnRcbnZhciBmO2Z8fD10eXBlb2YgTW9kdWxlICE9ICd1bmRlZmluZWQnID8gTW9kdWxlIDoge307dmFyIGFhPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3csYmE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlLGNhPVwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcIm9iamVjdFwiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmXCJzdHJpbmdcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSYmXCJyZW5kZXJlclwiIT1wcm9jZXNzLnR5cGU7XCJ1c2Ugc3RyaWN0XCI7XG5mLm9uUnVudGltZUluaXRpYWxpemVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnLGwpe3N3aXRjaCh0eXBlb2YgbCl7Y2FzZSBcImJvb2xlYW5cIjpkYyhnLGw/MTowKTticmVhaztjYXNlIFwibnVtYmVyXCI6ZWMoZyxsKTticmVhaztjYXNlIFwic3RyaW5nXCI6ZmMoZyxsLC0xLC0xKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09PWwpbGIoZyk7ZWxzZSBpZihudWxsIT1sLmxlbmd0aCl7dmFyIG49ZGEobCxlYSk7Z2MoZyxuLGwubGVuZ3RoLC0xKTtmYShuKX1lbHNlIHZhKGcsXCJXcm9uZyBBUEkgdXNlIDogdHJpZWQgdG8gcmV0dXJuIGEgdmFsdWUgb2YgYW4gdW5rbm93biB0eXBlIChcIitsK1wiKS5cIiwtMSk7YnJlYWs7ZGVmYXVsdDpsYihnKX19ZnVuY3Rpb24gYihnLGwpe2Zvcih2YXIgbj1bXSxyPTA7cjxnO3IrPTEpe3ZhciB0PW0obCs0KnIsXCJpMzJcIikseT1oYyh0KTtpZigxPT09eXx8Mj09PXkpdD1pYyh0KTtlbHNlIGlmKDM9PT15KXQ9amModCk7ZWxzZSBpZig0PT09eSl7eT10O1xudD1rYyh5KTt5PWxjKHkpO2Zvcih2YXIgTD1uZXcgVWludDhBcnJheSh0KSxKPTA7Sjx0O0orPTEpTFtKXT1wW3krSl07dD1MfWVsc2UgdD1udWxsO24ucHVzaCh0KX1yZXR1cm4gbn1mdW5jdGlvbiBjKGcsbCl7dGhpcy5RYT1nO3RoaXMuZGI9bDt0aGlzLk9hPTE7dGhpcy5sYj1bXX1mdW5jdGlvbiBkKGcsbCl7dGhpcy5kYj1sO2w9aGEoZykrMTt0aGlzLmViPWlhKGwpO2lmKG51bGw9PT10aGlzLmViKXRocm93IEVycm9yKFwiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIFNRTCBzdHJpbmdcIik7dShnLHgsdGhpcy5lYixsKTt0aGlzLmtiPXRoaXMuZWI7dGhpcy5aYT10aGlzLnBiPW51bGx9ZnVuY3Rpb24gZShnKXt0aGlzLmZpbGVuYW1lPVwiZGJmaWxlX1wiKyg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCk+Pj4wKTtpZihudWxsIT1nKXt2YXIgbD10aGlzLmZpbGVuYW1lLG49XCIvXCIscj1sO24mJihuPVwic3RyaW5nXCI9PXR5cGVvZiBuP246amEobikscj1sP2thKG4rXCIvXCIrbCk6XG5uKTtsPWxhKCEwLCEwKTtyPW1hKHIsbCk7aWYoZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGcpe249QXJyYXkoZy5sZW5ndGgpO2Zvcih2YXIgdD0wLHk9Zy5sZW5ndGg7dDx5OysrdCluW3RdPWcuY2hhckNvZGVBdCh0KTtnPW59bmEocixsfDE0Nik7bj1vYShyLDU3Nyk7cGEobixnLDAsZy5sZW5ndGgsMCk7cWEobik7bmEocixsKX19dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsaCkpO3RoaXMuZGI9bShoLFwiaTMyXCIpO29iKHRoaXMuZGIpO3RoaXMuZmI9e307dGhpcy5TYT17fX12YXIgaD16KDQpLGs9Zi5jd3JhcCxxPWsoXCJzcWxpdGUzX29wZW5cIixcIm51bWJlclwiLFtcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx3PWsoXCJzcWxpdGUzX2Nsb3NlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHY9ayhcInNxbGl0ZTNfZXhlY1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLEM9ayhcInNxbGl0ZTNfY2hhbmdlc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxcbkc9ayhcInNxbGl0ZTNfcHJlcGFyZV92MlwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHBiPWsoXCJzcWxpdGUzX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxuYz1rKFwic3FsaXRlM19ub3JtYWxpemVkX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxxYj1rKFwic3FsaXRlM19wcmVwYXJlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSksb2M9ayhcInNxbGl0ZTNfYmluZF90ZXh0XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscmI9ayhcInNxbGl0ZTNfYmluZF9ibG9iXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscGM9ayhcInNxbGl0ZTNfYmluZF9kb3VibGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHFjPWsoXCJzcWxpdGUzX2JpbmRfaW50XCIsXG5cIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHJjPWsoXCJzcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2luZGV4XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiXSksc2M9ayhcInNxbGl0ZTNfc3RlcFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yz1rKFwic3FsaXRlM19lcnJtc2dcIixcInN0cmluZ1wiLFtcIm51bWJlclwiXSksdWM9ayhcInNxbGl0ZTNfY29sdW1uX2NvdW50XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZjPWsoXCJzcWxpdGUzX2RhdGFfY291bnRcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksd2M9ayhcInNxbGl0ZTNfY29sdW1uX2RvdWJsZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIl0pLHNiPWsoXCJzcWxpdGUzX2NvbHVtbl90ZXh0XCIsXCJzdHJpbmdcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSkseGM9ayhcInNxbGl0ZTNfY29sdW1uX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSx5Yz1rKFwic3FsaXRlM19jb2x1bW5fYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFxuXCJudW1iZXJcIl0pLHpjPWsoXCJzcWxpdGUzX2NvbHVtbl90eXBlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksQWM9ayhcInNxbGl0ZTNfY29sdW1uX25hbWVcIixcInN0cmluZ1wiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxCYz1rKFwic3FsaXRlM19yZXNldFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxDYz1rKFwic3FsaXRlM19jbGVhcl9iaW5kaW5nc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxEYz1rKFwic3FsaXRlM19maW5hbGl6ZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yj1rKFwic3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjJcIixcIm51bWJlclwiLFwibnVtYmVyIHN0cmluZyBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXJcIi5zcGxpdChcIiBcIikpLGhjPWsoXCJzcWxpdGUzX3ZhbHVlX3R5cGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksa2M9ayhcInNxbGl0ZTNfdmFsdWVfYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksamM9ayhcInNxbGl0ZTNfdmFsdWVfdGV4dFwiLFxuXCJzdHJpbmdcIixbXCJudW1iZXJcIl0pLGxjPWsoXCJzcWxpdGUzX3ZhbHVlX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksaWM9ayhcInNxbGl0ZTNfdmFsdWVfZG91YmxlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLGVjPWsoXCJzcWxpdGUzX3Jlc3VsdF9kb3VibGVcIixcIlwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxsYj1rKFwic3FsaXRlM19yZXN1bHRfbnVsbFwiLFwiXCIsW1wibnVtYmVyXCJdKSxmYz1rKFwic3FsaXRlM19yZXN1bHRfdGV4dFwiLFwiXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxnYz1rKFwic3FsaXRlM19yZXN1bHRfYmxvYlwiLFwiXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxkYz1rKFwic3FsaXRlM19yZXN1bHRfaW50XCIsXCJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksdmE9ayhcInNxbGl0ZTNfcmVzdWx0X2Vycm9yXCIsXCJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx1Yj1rKFwic3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dFwiLFwibnVtYmVyXCIsXG5bXCJudW1iZXJcIixcIm51bWJlclwiXSksb2I9ayhcIlJlZ2lzdGVyRXh0ZW5zaW9uRnVuY3Rpb25zXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZiPWsoXCJzcWxpdGUzX3VwZGF0ZV9ob29rXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKTtjLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGcpe2lmKCF0aGlzLlFhKXRocm93XCJTdGF0ZW1lbnQgY2xvc2VkXCI7dGhpcy5yZXNldCgpO3JldHVybiBBcnJheS5pc0FycmF5KGcpP3RoaXMuQ2IoZyk6bnVsbCE9ZyYmXCJvYmplY3RcIj09PXR5cGVvZiBnP3RoaXMuRGIoZyk6ITB9O2MucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24oKXtpZighdGhpcy5RYSl0aHJvd1wiU3RhdGVtZW50IGNsb3NlZFwiO3RoaXMuT2E9MTt2YXIgZz1zYyh0aGlzLlFhKTtzd2l0Y2goZyl7Y2FzZSAxMDA6cmV0dXJuITA7Y2FzZSAxMDE6cmV0dXJuITE7ZGVmYXVsdDp0aHJvdyB0aGlzLmRiLmhhbmRsZUVycm9yKGcpO319O2MucHJvdG90eXBlLndiPWZ1bmN0aW9uKGcpe251bGw9PVxuZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtyZXR1cm4gd2ModGhpcy5RYSxnKX07Yy5wcm90b3R5cGUuR2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtnPXNiKHRoaXMuUWEsZyk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIEJpZ0ludCl0aHJvdyBFcnJvcihcIkJpZ0ludCBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBCaWdJbnQoZyl9O2MucHJvdG90eXBlLkhiPWZ1bmN0aW9uKGcpe251bGw9PWcmJihnPXRoaXMuT2EsdGhpcy5PYSs9MSk7cmV0dXJuIHNiKHRoaXMuUWEsZyl9O2MucHJvdG90eXBlLmdldEJsb2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTt2YXIgbD15Yyh0aGlzLlFhLGcpO2c9eGModGhpcy5RYSxnKTtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkobCkscj0wO3I8bDtyKz0xKW5bcl09cFtnK3JdO3JldHVybiBufTtjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZyxsKXtsPWx8fHt9O251bGwhPWcmJlxudGhpcy5iaW5kKGcpJiZ0aGlzLnN0ZXAoKTtnPVtdO2Zvcih2YXIgbj12Yyh0aGlzLlFhKSxyPTA7cjxuO3IrPTEpc3dpdGNoKHpjKHRoaXMuUWEscikpe2Nhc2UgMTp2YXIgdD1sLnVzZUJpZ0ludD90aGlzLkdiKHIpOnRoaXMud2Iocik7Zy5wdXNoKHQpO2JyZWFrO2Nhc2UgMjpnLnB1c2godGhpcy53YihyKSk7YnJlYWs7Y2FzZSAzOmcucHVzaCh0aGlzLkhiKHIpKTticmVhaztjYXNlIDQ6Zy5wdXNoKHRoaXMuZ2V0QmxvYihyKSk7YnJlYWs7ZGVmYXVsdDpnLnB1c2gobnVsbCl9cmV0dXJuIGd9O2MucHJvdG90eXBlLmdldENvbHVtbk5hbWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBnPVtdLGw9dWModGhpcy5RYSksbj0wO248bDtuKz0xKWcucHVzaChBYyh0aGlzLlFhLG4pKTtyZXR1cm4gZ307Yy5wcm90b3R5cGUuZ2V0QXNPYmplY3Q9ZnVuY3Rpb24oZyxsKXtnPXRoaXMuZ2V0KGcsbCk7bD10aGlzLmdldENvbHVtbk5hbWVzKCk7Zm9yKHZhciBuPXt9LHI9MDtyPGwubGVuZ3RoO3IrPVxuMSluW2xbcl1dPWdbcl07cmV0dXJuIG59O2MucHJvdG90eXBlLmdldFNRTD1mdW5jdGlvbigpe3JldHVybiBwYih0aGlzLlFhKX07Yy5wcm90b3R5cGUuZ2V0Tm9ybWFsaXplZFNRTD1mdW5jdGlvbigpe3JldHVybiBuYyh0aGlzLlFhKX07Yy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcpe251bGwhPWcmJnRoaXMuYmluZChnKTt0aGlzLnN0ZXAoKTtyZXR1cm4gdGhpcy5yZXNldCgpfTtjLnByb3RvdHlwZS5zYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7Zz1yYShnKTt2YXIgbj1kYShnLGVhKTt0aGlzLmxiLnB1c2gobik7dGhpcy5kYi5oYW5kbGVFcnJvcihvYyh0aGlzLlFhLGwsbixnLmxlbmd0aC0xLDApKX07Yy5wcm90b3R5cGUuQmI9ZnVuY3Rpb24oZyxsKXtudWxsPT1sJiYobD10aGlzLk9hLHRoaXMuT2ErPTEpO3ZhciBuPWRhKGcsZWEpO3RoaXMubGIucHVzaChuKTt0aGlzLmRiLmhhbmRsZUVycm9yKHJiKHRoaXMuUWEsbCxuLGcubGVuZ3RoLFxuMCkpfTtjLnByb3RvdHlwZS5yYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7dGhpcy5kYi5oYW5kbGVFcnJvcigoZz09PShnfDApP3FjOnBjKSh0aGlzLlFhLGwsZykpfTtjLnByb3RvdHlwZS5FYj1mdW5jdGlvbihnKXtudWxsPT1nJiYoZz10aGlzLk9hLHRoaXMuT2ErPTEpO3JiKHRoaXMuUWEsZywwLDAsMCl9O2MucHJvdG90eXBlLnRiPWZ1bmN0aW9uKGcsbCl7bnVsbD09bCYmKGw9dGhpcy5PYSx0aGlzLk9hKz0xKTtzd2l0Y2godHlwZW9mIGcpe2Nhc2UgXCJzdHJpbmdcIjp0aGlzLnNiKGcsbCk7cmV0dXJuO2Nhc2UgXCJudW1iZXJcIjp0aGlzLnJiKGcsbCk7cmV0dXJuO2Nhc2UgXCJiaWdpbnRcIjp0aGlzLnNiKGcudG9TdHJpbmcoKSxsKTtyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjp0aGlzLnJiKGcrMCxsKTtyZXR1cm47Y2FzZSBcIm9iamVjdFwiOmlmKG51bGw9PT1nKXt0aGlzLkViKGwpO3JldHVybn1pZihudWxsIT1nLmxlbmd0aCl7dGhpcy5CYihnLFxubCk7cmV0dXJufX10aHJvd1wiV3JvbmcgQVBJIHVzZSA6IHRyaWVkIHRvIGJpbmQgYSB2YWx1ZSBvZiBhbiB1bmtub3duIHR5cGUgKFwiK2crXCIpLlwiO307Yy5wcm90b3R5cGUuRGI9ZnVuY3Rpb24oZyl7dmFyIGw9dGhpcztPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXJjKGwuUWEsbik7MCE9PXImJmwudGIoZ1tuXSxyKX0pO3JldHVybiEwfTtjLnByb3RvdHlwZS5DYj1mdW5jdGlvbihnKXtmb3IodmFyIGw9MDtsPGcubGVuZ3RoO2wrPTEpdGhpcy50YihnW2xdLGwrMSk7cmV0dXJuITB9O2MucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mcmVlbWVtKCk7cmV0dXJuIDA9PT1DYyh0aGlzLlFhKSYmMD09PUJjKHRoaXMuUWEpfTtjLnByb3RvdHlwZS5mcmVlbWVtPWZ1bmN0aW9uKCl7Zm9yKHZhciBnO3ZvaWQgMCE9PShnPXRoaXMubGIucG9wKCkpOylmYShnKX07Yy5wcm90b3R5cGUuZnJlZT1mdW5jdGlvbigpe3RoaXMuZnJlZW1lbSgpO3ZhciBnPVxuMD09PURjKHRoaXMuUWEpO2RlbGV0ZSB0aGlzLmRiLmZiW3RoaXMuUWFdO3RoaXMuUWE9MDtyZXR1cm4gZ307ZC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmViKXJldHVybntkb25lOiEwfTtudWxsIT09dGhpcy5aYSYmKHRoaXMuWmEuZnJlZSgpLHRoaXMuWmE9bnVsbCk7aWYoIXRoaXMuZGIuZGIpdGhyb3cgdGhpcy5tYigpLEVycm9yKFwiRGF0YWJhc2UgY2xvc2VkXCIpO3ZhciBnPXNhKCksbD16KDQpO3RhKGgpO3RhKGwpO3RyeXt0aGlzLmRiLmhhbmRsZUVycm9yKHFiKHRoaXMuZGIuZGIsdGhpcy5rYiwtMSxoLGwpKTt0aGlzLmtiPW0obCxcImkzMlwiKTt2YXIgbj1tKGgsXCJpMzJcIik7aWYoMD09PW4pcmV0dXJuIHRoaXMubWIoKSx7ZG9uZTohMH07dGhpcy5aYT1uZXcgYyhuLHRoaXMuZGIpO3RoaXMuZGIuZmJbbl09dGhpcy5aYTtyZXR1cm57dmFsdWU6dGhpcy5aYSxkb25lOiExfX1jYXRjaChyKXt0aHJvdyB0aGlzLnBiPXVhKHRoaXMua2IpLHRoaXMubWIoKSxcbnI7fWZpbmFsbHl7d2EoZyl9fTtkLnByb3RvdHlwZS5tYj1mdW5jdGlvbigpe2ZhKHRoaXMuZWIpO3RoaXMuZWI9bnVsbH07ZC5wcm90b3R5cGUuZ2V0UmVtYWluaW5nU1FMPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnBiP3RoaXMucGI6dWEodGhpcy5rYil9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yJiYoZC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSk7ZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcsbCl7aWYoIXRoaXMuZGIpdGhyb3dcIkRhdGFiYXNlIGNsb3NlZFwiO2lmKGwpe2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2cuc3RlcCgpfWZpbmFsbHl7Zy5mcmVlKCl9fWVsc2UgdGhpcy5oYW5kbGVFcnJvcih2KHRoaXMuZGIsZywwLDAsaCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGcsbCxuKXtpZighdGhpcy5kYil0aHJvd1wiRGF0YWJhc2UgY2xvc2VkXCI7XG52YXIgcj1zYSgpLHQ9bnVsbDt0cnl7dmFyIHk9eGEoZyksTD16KDQpO2ZvcihnPVtdOzAhPT1tKHksXCJpOFwiKTspe3RhKGgpO3RhKEwpO3RoaXMuaGFuZGxlRXJyb3IocWIodGhpcy5kYix5LC0xLGgsTCkpO3ZhciBKPW0oaCxcImkzMlwiKTt5PW0oTCxcImkzMlwiKTtpZigwIT09Sil7dmFyIEk9bnVsbDt0PW5ldyBjKEosdGhpcyk7Zm9yKG51bGwhPWwmJnQuYmluZChsKTt0LnN0ZXAoKTspbnVsbD09PUkmJihJPXtjb2x1bW5zOnQuZ2V0Q29sdW1uTmFtZXMoKSx2YWx1ZXM6W119LGcucHVzaChJKSksSS52YWx1ZXMucHVzaCh0LmdldChudWxsLG4pKTt0LmZyZWUoKX19cmV0dXJuIGd9Y2F0Y2goTSl7dGhyb3cgdCYmdC5mcmVlKCksTTt9ZmluYWxseXt3YShyKX19O2UucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24oZyxsLG4scix0KXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgbCYmKHI9bixuPWwsbD12b2lkIDApO2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2Zvcig7Zy5zdGVwKCk7KW4oZy5nZXRBc09iamVjdChudWxsLFxudCkpfWZpbmFsbHl7Zy5mcmVlKCl9aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHIpcmV0dXJuIHIoKX07ZS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbihnLGwpe3RhKGgpO3RoaXMuaGFuZGxlRXJyb3IoRyh0aGlzLmRiLGcsLTEsaCwwKSk7Zz1tKGgsXCJpMzJcIik7aWYoMD09PWcpdGhyb3dcIk5vdGhpbmcgdG8gcHJlcGFyZVwiO3ZhciBuPW5ldyBjKGcsdGhpcyk7bnVsbCE9bCYmbi5iaW5kKGwpO3JldHVybiB0aGlzLmZiW2ddPW59O2UucHJvdG90eXBlLml0ZXJhdGVTdGF0ZW1lbnRzPWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgZChnLHRoaXMpfTtlLnByb3RvdHlwZVtcImV4cG9ydFwiXT1mdW5jdGlvbigpe09iamVjdC52YWx1ZXModGhpcy5mYikuZm9yRWFjaChmdW5jdGlvbihsKXtsLmZyZWUoKX0pO09iamVjdC52YWx1ZXModGhpcy5TYSkuZm9yRWFjaChBKTt0aGlzLlNhPXt9O3RoaXMuaGFuZGxlRXJyb3Iodyh0aGlzLmRiKSk7dmFyIGc9eWEodGhpcy5maWxlbmFtZSk7dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsXG5oKSk7dGhpcy5kYj1tKGgsXCJpMzJcIik7b2IodGhpcy5kYik7cmV0dXJuIGd9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuZGImJihPYmplY3QudmFsdWVzKHRoaXMuZmIpLmZvckVhY2goZnVuY3Rpb24oZyl7Zy5mcmVlKCl9KSxPYmplY3QudmFsdWVzKHRoaXMuU2EpLmZvckVhY2goQSksdGhpcy5TYT17fSx0aGlzLllhJiYoQSh0aGlzLllhKSx0aGlzLllhPXZvaWQgMCksdGhpcy5oYW5kbGVFcnJvcih3KHRoaXMuZGIpKSx6YShcIi9cIit0aGlzLmZpbGVuYW1lKSx0aGlzLmRiPW51bGwpfTtlLnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbihnKXtpZigwPT09ZylyZXR1cm4gbnVsbDtnPXRjKHRoaXMuZGIpO3Rocm93IEVycm9yKGcpO307ZS5wcm90b3R5cGUuZ2V0Um93c01vZGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuIEModGhpcy5kYil9O2UucHJvdG90eXBlLmNyZWF0ZV9mdW5jdGlvbj1mdW5jdGlvbihnLGwpe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLlNhLFxuZykmJihBKHRoaXMuU2FbZ10pLGRlbGV0ZSB0aGlzLlNhW2ddKTt2YXIgbj1BYShmdW5jdGlvbihyLHQseSl7dD1iKHQseSk7dHJ5e3ZhciBMPWwuYXBwbHkobnVsbCx0KX1jYXRjaChKKXt2YShyLEosLTEpO3JldHVybn1hKHIsTCl9LFwidmlpaVwiKTt0aGlzLlNhW2ddPW47dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsbC5sZW5ndGgsMSwwLG4sMCwwLDApKTtyZXR1cm4gdGhpc307ZS5wcm90b3R5cGUuY3JlYXRlX2FnZ3JlZ2F0ZT1mdW5jdGlvbihnLGwpe3ZhciBuPWwuaW5pdHx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scj1sLmZpbmFsaXplfHxmdW5jdGlvbihJKXtyZXR1cm4gSX0sdD1sLnN0ZXA7aWYoIXQpdGhyb3dcIkFuIGFnZ3JlZ2F0ZSBmdW5jdGlvbiBtdXN0IGhhdmUgYSBzdGVwIGZ1bmN0aW9uIGluIFwiK2c7dmFyIHk9e307T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5TYSxnKSYmKEEodGhpcy5TYVtnXSksZGVsZXRlIHRoaXMuU2FbZ10pO2w9ZytcIl9fZmluYWxpemVcIjtcbk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuU2EsbCkmJihBKHRoaXMuU2FbbF0pLGRlbGV0ZSB0aGlzLlNhW2xdKTt2YXIgTD1BYShmdW5jdGlvbihJLE0sUmEpe3ZhciBYPXViKEksMSk7T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoeSxYKXx8KHlbWF09bigpKTtNPWIoTSxSYSk7TT1beVtYXV0uY29uY2F0KE0pO3RyeXt5W1hdPXQuYXBwbHkobnVsbCxNKX1jYXRjaChGYyl7ZGVsZXRlIHlbWF0sdmEoSSxGYywtMSl9fSxcInZpaWlcIiksSj1BYShmdW5jdGlvbihJKXt2YXIgTT11YihJLDEpO3RyeXt2YXIgUmE9cih5W01dKX1jYXRjaChYKXtkZWxldGUgeVtNXTt2YShJLFgsLTEpO3JldHVybn1hKEksUmEpO2RlbGV0ZSB5W01dfSxcInZpXCIpO3RoaXMuU2FbZ109TDt0aGlzLlNhW2xdPUo7dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsdC5sZW5ndGgtMSwxLDAsMCxMLEosMCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS51cGRhdGVIb29rPWZ1bmN0aW9uKGcpe3RoaXMuWWEmJlxuKHZiKHRoaXMuZGIsMCwwKSxBKHRoaXMuWWEpLHRoaXMuWWE9dm9pZCAwKTtnJiYodGhpcy5ZYT1BYShmdW5jdGlvbihsLG4scix0LHkpe3N3aXRjaChuKXtjYXNlIDE4Omw9XCJpbnNlcnRcIjticmVhaztjYXNlIDIzOmw9XCJ1cGRhdGVcIjticmVhaztjYXNlIDk6bD1cImRlbGV0ZVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3dcInVua25vd24gb3BlcmF0aW9uQ29kZSBpbiB1cGRhdGVIb29rIGNhbGxiYWNrOiBcIituO31yPXI/Qih4LHIpOlwiXCI7dD10P0IoeCx0KTpcIlwiO2lmKHk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpdGhyb3dcInJvd0lkIHRvbyBiaWcgdG8gZml0IGluc2lkZSBhIE51bWJlclwiO2cobCxyLHQsTnVtYmVyKHkpKX0sXCJ2aWlpaWpcIiksdmIodGhpcy5kYix0aGlzLllhLDApKX07Zi5EYXRhYmFzZT1lfTt2YXIgQmE9ey4uLmZ9LENhPVwiLi90aGlzLnByb2dyYW1cIixEYT0oYSxiKT0+e3Rocm93IGI7fSxEPVwiXCIsRWEsRmE7XG5pZihjYSl7dmFyIGZzPXJlcXVpcmUoXCJmc1wiKTtyZXF1aXJlKFwicGF0aFwiKTtEPV9fZGlybmFtZStcIi9cIjtGYT1hPT57YT1HYShhKT9uZXcgVVJMKGEpOmE7cmV0dXJuIGZzLnJlYWRGaWxlU3luYyhhKX07RWE9YXN5bmMgYT0+e2E9R2EoYSk/bmV3IFVSTChhKTphO3JldHVybiBmcy5yZWFkRmlsZVN5bmMoYSx2b2lkIDApfTshZi50aGlzUHJvZ3JhbSYmMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoQ2E9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikpO3Byb2Nlc3MuYXJndi5zbGljZSgyKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9Zik7RGE9KGEsYik9Pntwcm9jZXNzLmV4aXRDb2RlPWE7dGhyb3cgYjt9fWVsc2UgaWYoYWF8fGJhKWJhP0Q9c2VsZi5sb2NhdGlvbi5ocmVmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEQ9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLEQ9RC5zdGFydHNXaXRoKFwiYmxvYjpcIik/XG5cIlwiOkQuc2xpY2UoMCxELnJlcGxhY2UoL1s/I10uKi8sXCJcIikubGFzdEluZGV4T2YoXCIvXCIpKzEpLGJhJiYoRmE9YT0+e3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJHRVRcIixhLCExKTtiLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7Yi5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheShiLnJlc3BvbnNlKX0pLEVhPWFzeW5jIGE9PntpZihHYShhKSlyZXR1cm4gbmV3IFByb21pc2UoKGMsZCk9Pnt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYSwhMCk7ZS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2Uub25sb2FkPSgpPT57MjAwPT1lLnN0YXR1c3x8MD09ZS5zdGF0dXMmJmUucmVzcG9uc2U/YyhlLnJlc3BvbnNlKTpkKGUuc3RhdHVzKX07ZS5vbmVycm9yPWQ7ZS5zZW5kKG51bGwpfSk7dmFyIGI9YXdhaXQgZmV0Y2goYSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSk7aWYoYi5vaylyZXR1cm4gYi5hcnJheUJ1ZmZlcigpO3Rocm93IEVycm9yKGIuc3RhdHVzK1xuXCIgOiBcIitiLnVybCk7fTt2YXIgSGE9Zi5wcmludHx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxJYT1mLnByaW50RXJyfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihmLEJhKTtCYT1udWxsO2YudGhpc1Byb2dyYW0mJihDYT1mLnRoaXNQcm9ncmFtKTt2YXIgSmE9Zi53YXNtQmluYXJ5LEthLExhPSExLE1hLHAseCxOYSxFLEYsT2EsSCxQYSxHYT1hPT5hLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpO1xuZnVuY3Rpb24gUWEoKXt2YXIgYT1LYS5idWZmZXI7Zi5IRUFQOD1wPW5ldyBJbnQ4QXJyYXkoYSk7Zi5IRUFQMTY9TmE9bmV3IEludDE2QXJyYXkoYSk7Zi5IRUFQVTg9eD1uZXcgVWludDhBcnJheShhKTtmLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGEpO2YuSEVBUDMyPUU9bmV3IEludDMyQXJyYXkoYSk7Zi5IRUFQVTMyPUY9bmV3IFVpbnQzMkFycmF5KGEpO2YuSEVBUEYzMj1PYT1uZXcgRmxvYXQzMkFycmF5KGEpO2YuSEVBUEY2ND1QYT1uZXcgRmxvYXQ2NEFycmF5KGEpO2YuSEVBUDY0PUg9bmV3IEJpZ0ludDY0QXJyYXkoYSk7Zi5IRUFQVTY0PW5ldyBCaWdVaW50NjRBcnJheShhKX12YXIgSz0wLFNhPW51bGw7ZnVuY3Rpb24gVGEoYSl7Zi5vbkFib3J0Py4oYSk7YT1cIkFib3J0ZWQoXCIrYStcIilcIjtJYShhKTtMYT0hMDt0aHJvdyBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGErXCIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uXCIpO312YXIgVWE7XG5hc3luYyBmdW5jdGlvbiBWYShhKXtpZighSmEpdHJ5e3ZhciBiPWF3YWl0IEVhKGEpO3JldHVybiBuZXcgVWludDhBcnJheShiKX1jYXRjaHt9aWYoYT09VWEmJkphKWE9bmV3IFVpbnQ4QXJyYXkoSmEpO2Vsc2UgaWYoRmEpYT1GYShhKTtlbHNlIHRocm93XCJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZFwiO3JldHVybiBhfWFzeW5jIGZ1bmN0aW9uIFdhKGEsYil7dHJ5e3ZhciBjPWF3YWl0IFZhKGEpO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShjLGIpfWNhdGNoKGQpe0lhKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke2R9YCksVGEoZCl9fVxuYXN5bmMgZnVuY3Rpb24gWGEoYSl7dmFyIGI9VWE7aWYoIUphJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyYmIUdhKGIpJiYhY2EpdHJ5e3ZhciBjPWZldGNoKGIse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhjLGEpfWNhdGNoKGQpe0lhKGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtkfWApLElhKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIil9cmV0dXJuIFdhKGIsYSl9Y2xhc3MgWWF7bmFtZT1cIkV4aXRTdGF0dXNcIjtjb25zdHJ1Y3RvcihhKXt0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHthfSlgO3RoaXMuc3RhdHVzPWF9fVxudmFyIFphPWE9Pntmb3IoOzA8YS5sZW5ndGg7KWEuc2hpZnQoKShmKX0sJGE9W10sYWI9W10sYmI9KCk9Pnt2YXIgYT1mLnByZVJ1bi5zaGlmdCgpO2FiLnVuc2hpZnQoYSl9O2Z1bmN0aW9uIG0oYSxiPVwiaThcIil7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cmV0dXJuIHBbYV07Y2FzZSBcImk4XCI6cmV0dXJuIHBbYV07Y2FzZSBcImkxNlwiOnJldHVybiBOYVthPj4xXTtjYXNlIFwiaTMyXCI6cmV0dXJuIEVbYT4+Ml07Y2FzZSBcImk2NFwiOnJldHVybiBIW2E+PjNdO2Nhc2UgXCJmbG9hdFwiOnJldHVybiBPYVthPj4yXTtjYXNlIFwiZG91YmxlXCI6cmV0dXJuIFBhW2E+PjNdO2Nhc2UgXCIqXCI6cmV0dXJuIEZbYT4+Ml07ZGVmYXVsdDpUYShgaW52YWxpZCB0eXBlIGZvciBnZXRWYWx1ZTogJHtifWApfX12YXIgY2I9Zi5ub0V4aXRSdW50aW1lfHwhMDtcbmZ1bmN0aW9uIHRhKGEpe3ZhciBiPVwiaTMyXCI7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cFthXT0wO2JyZWFrO2Nhc2UgXCJpOFwiOnBbYV09MDticmVhaztjYXNlIFwiaTE2XCI6TmFbYT4+MV09MDticmVhaztjYXNlIFwiaTMyXCI6RVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJpNjRcIjpIW2E+PjNdPUJpZ0ludCgwKTticmVhaztjYXNlIFwiZmxvYXRcIjpPYVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJkb3VibGVcIjpQYVthPj4zXT0wO2JyZWFrO2Nhc2UgXCIqXCI6RlthPj4yXT0wO2JyZWFrO2RlZmF1bHQ6VGEoYGludmFsaWQgdHlwZSBmb3Igc2V0VmFsdWU6ICR7Yn1gKX19XG52YXIgZGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBUZXh0RGVjb2Rlcjp2b2lkIDAsQj0oYSxiPTAsYz1OYU4pPT57dmFyIGQ9YitjO2ZvcihjPWI7YVtjXSYmIShjPj1kKTspKytjO2lmKDE2PGMtYiYmYS5idWZmZXImJmRiKXJldHVybiBkYi5kZWNvZGUoYS5zdWJhcnJheShiLGMpKTtmb3IoZD1cIlwiO2I8Yzspe3ZhciBlPWFbYisrXTtpZihlJjEyOCl7dmFyIGg9YVtiKytdJjYzO2lmKDE5Mj09KGUmMjI0KSlkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChlJjMxKTw8NnxoKTtlbHNle3ZhciBrPWFbYisrXSY2MztlPTIyND09KGUmMjQwKT8oZSYxNSk8PDEyfGg8PDZ8azooZSY3KTw8MTh8aDw8MTJ8azw8NnxhW2IrK10mNjM7NjU1MzY+ZT9kKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOihlLT02NTUzNixkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGU+PjEwLDU2MzIwfGUmMTAyMykpfX1lbHNlIGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSl9cmV0dXJuIGR9LFxudWE9KGEsYik9PmE/Qih4LGEsYik6XCJcIixlYj0oYSxiKT0+e2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXTtcIi5cIj09PWU/YS5zcGxpY2UoZCwxKTpcIi4uXCI9PT1lPyhhLnNwbGljZShkLDEpLGMrKyk6YyYmKGEuc3BsaWNlKGQsMSksYy0tKX1pZihiKWZvcig7YztjLS0pYS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGF9LGthPWE9Pnt2YXIgYj1cIi9cIj09PWEuY2hhckF0KDApLGM9XCIvXCI9PT1hLnNsaWNlKC0xKTsoYT1lYihhLnNwbGl0KFwiL1wiKS5maWx0ZXIoZD0+ISFkKSwhYikuam9pbihcIi9cIikpfHxifHwoYT1cIi5cIik7YSYmYyYmKGErPVwiL1wiKTtyZXR1cm4oYj9cIi9cIjpcIlwiKSthfSxmYj1hPT57dmFyIGI9L14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8uZXhlYyhhKS5zbGljZSgxKTthPWJbMF07Yj1iWzFdO2lmKCFhJiYhYilyZXR1cm5cIi5cIjtiJiY9Yi5zbGljZSgwLC0xKTtyZXR1cm4gYStifSxcbmdiPWE9PmEmJmEubWF0Y2goLyhbXlxcL10rfFxcLylcXC8qJC8pWzFdLGhiPSgpPT57aWYoY2Epe3ZhciBhPXJlcXVpcmUoXCJjcnlwdG9cIik7cmV0dXJuIGI9PmEucmFuZG9tRmlsbFN5bmMoYil9cmV0dXJuIGI9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYil9LGliPWE9PnsoaWI9aGIoKSkoYSl9LGpiPSguLi5hKT0+e2Zvcih2YXIgYj1cIlwiLGM9ITEsZD1hLmxlbmd0aC0xOy0xPD1kJiYhYztkLS0pe2M9MDw9ZD9hW2RdOlwiL1wiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBjKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtpZighYylyZXR1cm5cIlwiO2I9YytcIi9cIitiO2M9XCIvXCI9PT1jLmNoYXJBdCgwKX1iPWViKGIuc3BsaXQoXCIvXCIpLmZpbHRlcihlPT4hIWUpLCFjKS5qb2luKFwiL1wiKTtyZXR1cm4oYz9cIi9cIjpcIlwiKStifHxcIi5cIn0sa2I9W10saGE9YT0+e2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpO1xuMTI3Pj1kP2IrKzoyMDQ3Pj1kP2IrPTI6NTUyOTY8PWQmJjU3MzQzPj1kPyhiKz00LCsrYyk6Yis9M31yZXR1cm4gYn0sdT0oYSxiLGMsZCk9PntpZighKDA8ZCkpcmV0dXJuIDA7dmFyIGU9YztkPWMrZC0xO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7KytoKXt2YXIgaz1hLmNoYXJDb2RlQXQoaCk7aWYoNTUyOTY8PWsmJjU3MzQzPj1rKXt2YXIgcT1hLmNoYXJDb2RlQXQoKytoKTtrPTY1NTM2KygoayYxMDIzKTw8MTApfHEmMTAyM31pZigxMjc+PWspe2lmKGM+PWQpYnJlYWs7YltjKytdPWt9ZWxzZXtpZigyMDQ3Pj1rKXtpZihjKzE+PWQpYnJlYWs7YltjKytdPTE5MnxrPj42fWVsc2V7aWYoNjU1MzU+PWspe2lmKGMrMj49ZClicmVhaztiW2MrK109MjI0fGs+PjEyfWVsc2V7aWYoYyszPj1kKWJyZWFrO2JbYysrXT0yNDB8az4+MTg7YltjKytdPTEyOHxrPj4xMiY2M31iW2MrK109MTI4fGs+PjYmNjN9YltjKytdPTEyOHxrJjYzfX1iW2NdPTA7cmV0dXJuIGMtZX0scmE9KGEsYik9Plxue3ZhciBjPUFycmF5KGhhKGEpKzEpO2E9dShhLGMsMCxjLmxlbmd0aCk7YiYmKGMubGVuZ3RoPWEpO3JldHVybiBjfSxtYj1bXTtmdW5jdGlvbiBuYihhLGIpe21iW2FdPXtpbnB1dDpbXSxvdXRwdXQ6W10sY2I6Yn07d2IoYSx4Yil9XG52YXIgeGI9e29wZW4oYSl7dmFyIGI9bWJbYS5ub2RlLnJkZXZdO2lmKCFiKXRocm93IG5ldyBOKDQzKTthLnR0eT1iO2Euc2Vla2FibGU9ITF9LGNsb3NlKGEpe2EudHR5LmNiLmZzeW5jKGEudHR5KX0sZnN5bmMoYSl7YS50dHkuY2IuZnN5bmMoYS50dHkpfSxyZWFkKGEsYixjLGQpe2lmKCFhLnR0eXx8IWEudHR5LmNiLnhiKXRocm93IG5ldyBOKDYwKTtmb3IodmFyIGU9MCxoPTA7aDxkO2grKyl7dHJ5e3ZhciBrPWEudHR5LmNiLnhiKGEudHR5KX1jYXRjaChxKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PWsmJjA9PT1lKXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1rfHx2b2lkIDA9PT1rKWJyZWFrO2UrKztiW2MraF09a31lJiYoYS5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiBlfSx3cml0ZShhLGIsYyxkKXtpZighYS50dHl8fCFhLnR0eS5jYi5xYil0aHJvdyBuZXcgTig2MCk7dHJ5e2Zvcih2YXIgZT0wO2U8ZDtlKyspYS50dHkuY2IucWIoYS50dHksYltjK2VdKX1jYXRjaChoKXt0aHJvdyBuZXcgTigyOSk7XG59ZCYmKGEubm9kZS5tdGltZT1hLm5vZGUuY3RpbWU9RGF0ZS5ub3coKSk7cmV0dXJuIGV9fSx5Yj17eGIoKXthOntpZigha2IubGVuZ3RoKXt2YXIgYT1udWxsO2lmKGNhKXt2YXIgYj1CdWZmZXIuYWxsb2MoMjU2KSxjPTAsZD1wcm9jZXNzLnN0ZGluLmZkO3RyeXtjPWZzLnJlYWRTeW5jKGQsYiwwLDI1Nil9Y2F0Y2goZSl7aWYoZS50b1N0cmluZygpLmluY2x1ZGVzKFwiRU9GXCIpKWM9MDtlbHNlIHRocm93IGU7fTA8YyYmKGE9Yi5zbGljZSgwLGMpLnRvU3RyaW5nKFwidXRmLThcIikpfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucHJvbXB0JiYoYT13aW5kb3cucHJvbXB0KFwiSW5wdXQ6IFwiKSxudWxsIT09YSYmKGErPVwiXFxuXCIpKTtpZighYSl7YT1udWxsO2JyZWFrIGF9a2I9cmEoYSwhMCl9YT1rYi5zaGlmdCgpfXJldHVybiBhfSxxYihhLGIpe251bGw9PT1ifHwxMD09PWI/KEhhKEIoYS5vdXRwdXQpKSxhLm91dHB1dD1bXSk6XG4wIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihIYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfSxUYigpe3JldHVybntPYjoyNTg1NixRYjo1LE5iOjE5MSxQYjozNTM4NyxNYjpbMywyOCwxMjcsMjEsNCwwLDEsMCwxNywxOSwyNiwwLDE4LDE1LDIzLDIyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfX0sVWIoKXtyZXR1cm4gMH0sVmIoKXtyZXR1cm5bMjQsODBdfX0semI9e3FiKGEsYil7bnVsbD09PWJ8fDEwPT09Yj8oSWEoQihhLm91dHB1dCkpLGEub3V0cHV0PVtdKTowIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihJYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfX0sTz17V2E6bnVsbCxYYSgpe3JldHVybiBPLmNyZWF0ZU5vZGUobnVsbCxcIi9cIiwxNjg5NSwwKX0sY3JlYXRlTm9kZShhLGIsYyxkKXtpZigyNDU3Nj09PShjJjYxNDQwKXx8NDA5Nj09PShjJjYxNDQwKSl0aHJvdyBuZXcgTig2Myk7XG5PLldhfHwoTy5XYT17ZGlyOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWEsbG9va3VwOk8uTGEubG9va3VwLGhiOk8uTGEuaGIscmVuYW1lOk8uTGEucmVuYW1lLHVubGluazpPLkxhLnVubGluayxybWRpcjpPLkxhLnJtZGlyLHJlYWRkaXI6Ty5MYS5yZWFkZGlyLHN5bWxpbms6Ty5MYS5zeW1saW5rfSxzdHJlYW06e1ZhOk8uTWEuVmF9fSxmaWxlOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTp7VmE6Ty5NYS5WYSxyZWFkOk8uTWEucmVhZCx3cml0ZTpPLk1hLndyaXRlLGliOk8uTWEuaWIsamI6Ty5NYS5qYn19LGxpbms6e25vZGU6e1RhOk8uTGEuVGEsVWE6Ty5MYS5VYSxyZWFkbGluazpPLkxhLnJlYWRsaW5rfSxzdHJlYW06e319LHViOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTpBYn19KTtjPUJiKGEsYixjLGQpO1AoYy5tb2RlKT8oYy5MYT1PLldhLmRpci5ub2RlLGMuTWE9Ty5XYS5kaXIuc3RyZWFtLGMuTmE9e30pOjMyNzY4PT09XG4oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmZpbGUubm9kZSxjLk1hPU8uV2EuZmlsZS5zdHJlYW0sYy5SYT0wLGMuTmE9bnVsbCk6NDA5NjA9PT0oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmxpbmsubm9kZSxjLk1hPU8uV2EubGluay5zdHJlYW0pOjgxOTI9PT0oYy5tb2RlJjYxNDQwKSYmKGMuTGE9Ty5XYS51Yi5ub2RlLGMuTWE9Ty5XYS51Yi5zdHJlYW0pO2MuYXRpbWU9Yy5tdGltZT1jLmN0aW1lPURhdGUubm93KCk7YSYmKGEuTmFbYl09YyxhLmF0aW1lPWEubXRpbWU9YS5jdGltZT1jLmF0aW1lKTtyZXR1cm4gY30sU2IoYSl7cmV0dXJuIGEuTmE/YS5OYS5zdWJhcnJheT9hLk5hLnN1YmFycmF5KDAsYS5SYSk6bmV3IFVpbnQ4QXJyYXkoYS5OYSk6bmV3IFVpbnQ4QXJyYXkoMCl9LExhOntUYShhKXt2YXIgYj17fTtiLmRldj04MTkyPT09KGEubW9kZSY2MTQ0MCk/YS5pZDoxO2IuaW5vPWEuaWQ7Yi5tb2RlPWEubW9kZTtiLm5saW5rPTE7Yi51aWQ9MDtiLmdpZD0wO2IucmRldj1cbmEucmRldjtQKGEubW9kZSk/Yi5zaXplPTQwOTY6MzI3Njg9PT0oYS5tb2RlJjYxNDQwKT9iLnNpemU9YS5SYTo0MDk2MD09PShhLm1vZGUmNjE0NDApP2Iuc2l6ZT1hLmxpbmsubGVuZ3RoOmIuc2l6ZT0wO2IuYXRpbWU9bmV3IERhdGUoYS5hdGltZSk7Yi5tdGltZT1uZXcgRGF0ZShhLm10aW1lKTtiLmN0aW1lPW5ldyBEYXRlKGEuY3RpbWUpO2IuYmxrc2l6ZT00MDk2O2IuYmxvY2tzPU1hdGguY2VpbChiLnNpemUvYi5ibGtzaXplKTtyZXR1cm4gYn0sVWEoYSxiKXtmb3IodmFyIGMgb2ZbXCJtb2RlXCIsXCJhdGltZVwiLFwibXRpbWVcIixcImN0aW1lXCJdKW51bGwhPWJbY10mJihhW2NdPWJbY10pO3ZvaWQgMCE9PWIuc2l6ZSYmKGI9Yi5zaXplLGEuUmEhPWImJigwPT1iPyhhLk5hPW51bGwsYS5SYT0wKTooYz1hLk5hLGEuTmE9bmV3IFVpbnQ4QXJyYXkoYiksYyYmYS5OYS5zZXQoYy5zdWJhcnJheSgwLE1hdGgubWluKGIsYS5SYSkpKSxhLlJhPWIpKSl9LGxvb2t1cCgpe3Rocm93IE8udmI7XG59LGhiKGEsYixjLGQpe3JldHVybiBPLmNyZWF0ZU5vZGUoYSxiLGMsZCl9LHJlbmFtZShhLGIsYyl7dHJ5e3ZhciBkPVEoYixjKX1jYXRjaChoKXt9aWYoZCl7aWYoUChhLm1vZGUpKWZvcih2YXIgZSBpbiBkLk5hKXRocm93IG5ldyBOKDU1KTtDYihkKX1kZWxldGUgYS5wYXJlbnQuTmFbYS5uYW1lXTtiLk5hW2NdPWE7YS5uYW1lPWM7Yi5jdGltZT1iLm10aW1lPWEucGFyZW50LmN0aW1lPWEucGFyZW50Lm10aW1lPURhdGUubm93KCl9LHVubGluayhhLGIpe2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxybWRpcihhLGIpe3ZhciBjPVEoYSxiKSxkO2ZvcihkIGluIGMuTmEpdGhyb3cgbmV3IE4oNTUpO2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxyZWFkZGlyKGEpe3JldHVybltcIi5cIixcIi4uXCIsLi4uT2JqZWN0LmtleXMoYS5OYSldfSxzeW1saW5rKGEsYixjKXthPU8uY3JlYXRlTm9kZShhLGIsNDE0NzEsMCk7YS5saW5rPVxuYztyZXR1cm4gYX0scmVhZGxpbmsoYSl7aWYoNDA5NjAhPT0oYS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7cmV0dXJuIGEubGlua319LE1hOntyZWFkKGEsYixjLGQsZSl7dmFyIGg9YS5ub2RlLk5hO2lmKGU+PWEubm9kZS5SYSlyZXR1cm4gMDthPU1hdGgubWluKGEubm9kZS5SYS1lLGQpO2lmKDg8YSYmaC5zdWJhcnJheSliLnNldChoLnN1YmFycmF5KGUsZSthKSxjKTtlbHNlIGZvcihkPTA7ZDxhO2QrKyliW2MrZF09aFtlK2RdO3JldHVybiBhfSx3cml0ZShhLGIsYyxkLGUsaCl7Yi5idWZmZXI9PT1wLmJ1ZmZlciYmKGg9ITEpO2lmKCFkKXJldHVybiAwO2E9YS5ub2RlO2EubXRpbWU9YS5jdGltZT1EYXRlLm5vdygpO2lmKGIuc3ViYXJyYXkmJighYS5OYXx8YS5OYS5zdWJhcnJheSkpe2lmKGgpcmV0dXJuIGEuTmE9Yi5zdWJhcnJheShjLGMrZCksYS5SYT1kO2lmKDA9PT1hLlJhJiYwPT09ZSlyZXR1cm4gYS5OYT1iLnNsaWNlKGMsYytkKSxhLlJhPWQ7aWYoZStkPD1hLlJhKXJldHVybiBhLk5hLnNldChiLnN1YmFycmF5KGMsXG5jK2QpLGUpLGR9aD1lK2Q7dmFyIGs9YS5OYT9hLk5hLmxlbmd0aDowO2s+PWh8fChoPU1hdGgubWF4KGgsayooMTA0ODU3Nj5rPzI6MS4xMjUpPj4+MCksMCE9ayYmKGg9TWF0aC5tYXgoaCwyNTYpKSxrPWEuTmEsYS5OYT1uZXcgVWludDhBcnJheShoKSwwPGEuUmEmJmEuTmEuc2V0KGsuc3ViYXJyYXkoMCxhLlJhKSwwKSk7aWYoYS5OYS5zdWJhcnJheSYmYi5zdWJhcnJheSlhLk5hLnNldChiLnN1YmFycmF5KGMsYytkKSxlKTtlbHNlIGZvcihoPTA7aDxkO2grKylhLk5hW2UraF09YltjK2hdO2EuUmE9TWF0aC5tYXgoYS5SYSxlK2QpO3JldHVybiBkfSxWYShhLGIsYyl7MT09PWM/Yis9YS5wb3NpdGlvbjoyPT09YyYmMzI3Njg9PT0oYS5ub2RlLm1vZGUmNjE0NDApJiYoYis9YS5ub2RlLlJhKTtpZigwPmIpdGhyb3cgbmV3IE4oMjgpO3JldHVybiBifSxpYihhLGIsYyxkLGUpe2lmKDMyNzY4IT09KGEubm9kZS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTig0Myk7YT1hLm5vZGUuTmE7XG5pZihlJjJ8fCFhfHxhLmJ1ZmZlciE9PXAuYnVmZmVyKXtlPSEwO2Q9NjU1MzYqTWF0aC5jZWlsKGIvNjU1MzYpO3ZhciBoPURiKDY1NTM2LGQpO2gmJnguZmlsbCgwLGgsaCtkKTtkPWg7aWYoIWQpdGhyb3cgbmV3IE4oNDgpO2lmKGEpe2lmKDA8Y3x8YytiPGEubGVuZ3RoKWEuc3ViYXJyYXk/YT1hLnN1YmFycmF5KGMsYytiKTphPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsYyxjK2IpO3Auc2V0KGEsZCl9fWVsc2UgZT0hMSxkPWEuYnl0ZU9mZnNldDtyZXR1cm57S2I6ZCxBYjplfX0samIoYSxiLGMsZCl7Ty5NYS53cml0ZShhLGIsMCxkLGMsITEpO3JldHVybiAwfX19LGxhPShhLGIpPT57dmFyIGM9MDthJiYoY3w9MzY1KTtiJiYoY3w9MTQ2KTtyZXR1cm4gY30sRWI9bnVsbCxGYj17fSxHYj1bXSxIYj0xLFI9bnVsbCxJYj0hMSxKYj0hMCxLYj17fSxOPWNsYXNze25hbWU9XCJFcnJub0Vycm9yXCI7Y29uc3RydWN0b3IoYSl7dGhpcy5QYT1hfX0sTGI9Y2xhc3N7Z2I9e307bm9kZT1udWxsO2dldCBmbGFncygpe3JldHVybiB0aGlzLmdiLmZsYWdzfXNldCBmbGFncyhhKXt0aGlzLmdiLmZsYWdzPVxuYX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5nYi5wb3NpdGlvbn1zZXQgcG9zaXRpb24oYSl7dGhpcy5nYi5wb3NpdGlvbj1hfX0sTWI9Y2xhc3N7TGE9e307TWE9e307YWI9bnVsbDtjb25zdHJ1Y3RvcihhLGIsYyxkKXthfHw9dGhpczt0aGlzLnBhcmVudD1hO3RoaXMuWGE9YS5YYTt0aGlzLmlkPUhiKys7dGhpcy5uYW1lPWI7dGhpcy5tb2RlPWM7dGhpcy5yZGV2PWQ7dGhpcy5hdGltZT10aGlzLm10aW1lPXRoaXMuY3RpbWU9RGF0ZS5ub3coKX1nZXQgcmVhZCgpe3JldHVybiAzNjU9PT0odGhpcy5tb2RlJjM2NSl9c2V0IHJlYWQoYSl7YT90aGlzLm1vZGV8PTM2NTp0aGlzLm1vZGUmPS0zNjZ9Z2V0IHdyaXRlKCl7cmV0dXJuIDE0Nj09PSh0aGlzLm1vZGUmMTQ2KX1zZXQgd3JpdGUoYSl7YT90aGlzLm1vZGV8PTE0Njp0aGlzLm1vZGUmPS0xNDd9fTtcbmZ1bmN0aW9uIFMoYSxiPXt9KXtpZighYSl0aHJvdyBuZXcgTig0NCk7Yi5uYj8/KGIubmI9ITApO1wiL1wiPT09YS5jaGFyQXQoMCl8fChhPVwiLy9cIithKTt2YXIgYz0wO2E6Zm9yKDs0MD5jO2MrKyl7YT1hLnNwbGl0KFwiL1wiKS5maWx0ZXIocT0+ISFxKTtmb3IodmFyIGQ9RWIsZT1cIi9cIixoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBrPWg9PT1hLmxlbmd0aC0xO2lmKGsmJmIucGFyZW50KWJyZWFrO2lmKFwiLlwiIT09YVtoXSlpZihcIi4uXCI9PT1hW2hdKWU9ZmIoZSksZD1kLnBhcmVudDtlbHNle2U9a2EoZStcIi9cIithW2hdKTt0cnl7ZD1RKGQsYVtoXSl9Y2F0Y2gocSl7aWYoNDQ9PT1xPy5QYSYmayYmYi5KYilyZXR1cm57cGF0aDplfTt0aHJvdyBxO30hZC5hYnx8ayYmIWIubmJ8fChkPWQuYWIucm9vdCk7aWYoNDA5NjA9PT0oZC5tb2RlJjYxNDQwKSYmKCFrfHxiLiRhKSl7aWYoIWQuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oNTIpO2Q9ZC5MYS5yZWFkbGluayhkKTtcIi9cIj09PWQuY2hhckF0KDApfHxcbihkPWZiKGUpK1wiL1wiK2QpO2E9ZCtcIi9cIithLnNsaWNlKGgrMSkuam9pbihcIi9cIik7Y29udGludWUgYX19fXJldHVybntwYXRoOmUsbm9kZTpkfX10aHJvdyBuZXcgTigzMik7fWZ1bmN0aW9uIGphKGEpe2Zvcih2YXIgYjs7KXtpZihhPT09YS5wYXJlbnQpcmV0dXJuIGE9YS5YYS56YixiP1wiL1wiIT09YVthLmxlbmd0aC0xXT9gJHthfS8ke2J9YDphK2I6YTtiPWI/YCR7YS5uYW1lfS8ke2J9YDphLm5hbWU7YT1hLnBhcmVudH19ZnVuY3Rpb24gTmIoYSxiKXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0oYzw8NSktYytiLmNoYXJDb2RlQXQoZCl8MDtyZXR1cm4oYStjPj4+MCklUi5sZW5ndGh9ZnVuY3Rpb24gQ2IoYSl7dmFyIGI9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTtpZihSW2JdPT09YSlSW2JdPWEuYmI7ZWxzZSBmb3IoYj1SW2JdO2I7KXtpZihiLmJiPT09YSl7Yi5iYj1hLmJiO2JyZWFrfWI9Yi5iYn19XG5mdW5jdGlvbiBRKGEsYil7dmFyIGM9UChhLm1vZGUpPyhjPU9iKGEsXCJ4XCIpKT9jOmEuTGEubG9va3VwPzA6Mjo1NDtpZihjKXRocm93IG5ldyBOKGMpO2ZvcihjPVJbTmIoYS5pZCxiKV07YztjPWMuYmIpe3ZhciBkPWMubmFtZTtpZihjLnBhcmVudC5pZD09PWEuaWQmJmQ9PT1iKXJldHVybiBjfXJldHVybiBhLkxhLmxvb2t1cChhLGIpfWZ1bmN0aW9uIEJiKGEsYixjLGQpe2E9bmV3IE1iKGEsYixjLGQpO2I9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTthLmJiPVJbYl07cmV0dXJuIFJbYl09YX1mdW5jdGlvbiBQKGEpe3JldHVybiAxNjM4ND09PShhJjYxNDQwKX1mdW5jdGlvbiBQYihhKXt2YXIgYj1bXCJyXCIsXCJ3XCIsXCJyd1wiXVthJjNdO2EmNTEyJiYoYis9XCJ3XCIpO3JldHVybiBifVxuZnVuY3Rpb24gT2IoYSxiKXtpZihKYilyZXR1cm4gMDtpZighYi5pbmNsdWRlcyhcInJcIil8fGEubW9kZSYyOTIpe2lmKGIuaW5jbHVkZXMoXCJ3XCIpJiYhKGEubW9kZSYxNDYpfHxiLmluY2x1ZGVzKFwieFwiKSYmIShhLm1vZGUmNzMpKXJldHVybiAyfWVsc2UgcmV0dXJuIDI7cmV0dXJuIDB9ZnVuY3Rpb24gUWIoYSxiKXtpZighUChhLm1vZGUpKXJldHVybiA1NDt0cnl7cmV0dXJuIFEoYSxiKSwyMH1jYXRjaChjKXt9cmV0dXJuIE9iKGEsXCJ3eFwiKX1mdW5jdGlvbiBSYihhLGIsYyl7dHJ5e3ZhciBkPVEoYSxiKX1jYXRjaChlKXtyZXR1cm4gZS5QYX1pZihhPU9iKGEsXCJ3eFwiKSlyZXR1cm4gYTtpZihjKXtpZighUChkLm1vZGUpKXJldHVybiA1NDtpZihkPT09ZC5wYXJlbnR8fFwiL1wiPT09amEoZCkpcmV0dXJuIDEwfWVsc2UgaWYoUChkLm1vZGUpKXJldHVybiAzMTtyZXR1cm4gMH1mdW5jdGlvbiBTYihhKXtpZighYSl0aHJvdyBuZXcgTig2Myk7cmV0dXJuIGF9XG5mdW5jdGlvbiBUKGEpe2E9R2JbYV07aWYoIWEpdGhyb3cgbmV3IE4oOCk7cmV0dXJuIGF9ZnVuY3Rpb24gVGIoYSxiPS0xKXthPU9iamVjdC5hc3NpZ24obmV3IExiLGEpO2lmKC0xPT1iKWE6e2ZvcihiPTA7NDA5Nj49YjtiKyspaWYoIUdiW2JdKWJyZWFrIGE7dGhyb3cgbmV3IE4oMzMpO31hLmZkPWI7cmV0dXJuIEdiW2JdPWF9ZnVuY3Rpb24gVWIoYSxiPS0xKXthPVRiKGEsYik7YS5NYT8uUmI/LihhKTtyZXR1cm4gYX1mdW5jdGlvbiBWYihhLGIsYyl7dmFyIGQ9YT8uTWEuVWE7YT1kP2E6YjtkPz89Yi5MYS5VYTtTYihkKTtkKGEsYyl9dmFyIEFiPXtvcGVuKGEpe2EuTWE9RmJbYS5ub2RlLnJkZXZdLk1hO2EuTWEub3Blbj8uKGEpfSxWYSgpe3Rocm93IG5ldyBOKDcwKTt9fTtmdW5jdGlvbiB3YihhLGIpe0ZiW2FdPXtNYTpifX1cbmZ1bmN0aW9uIFdiKGEsYil7dmFyIGM9XCIvXCI9PT1iO2lmKGMmJkViKXRocm93IG5ldyBOKDEwKTtpZighYyYmYil7dmFyIGQ9UyhiLHtuYjohMX0pO2I9ZC5wYXRoO2Q9ZC5ub2RlO2lmKGQuYWIpdGhyb3cgbmV3IE4oMTApO2lmKCFQKGQubW9kZSkpdGhyb3cgbmV3IE4oNTQpO31iPXt0eXBlOmEsV2I6e30semI6YixJYjpbXX07YT1hLlhhKGIpO2EuWGE9YjtiLnJvb3Q9YTtjP0ViPWE6ZCYmKGQuYWI9YixkLlhhJiZkLlhhLkliLnB1c2goYikpfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZD1TKGEse3BhcmVudDohMH0pLm5vZGU7YT1nYihhKTtpZighYSl0aHJvdyBuZXcgTigyOCk7aWYoXCIuXCI9PT1hfHxcIi4uXCI9PT1hKXRocm93IG5ldyBOKDIwKTt2YXIgZT1RYihkLGEpO2lmKGUpdGhyb3cgbmV3IE4oZSk7aWYoIWQuTGEuaGIpdGhyb3cgbmV3IE4oNjMpO3JldHVybiBkLkxhLmhiKGQsYSxiLGMpfVxuZnVuY3Rpb24gbWEoYSxiPTQzOCl7cmV0dXJuIFhiKGEsYiY0MDk1fDMyNzY4LDApfWZ1bmN0aW9uIFUoYSxiPTUxMSl7cmV0dXJuIFhiKGEsYiYxMDIzfDE2Mzg0LDApfWZ1bmN0aW9uIFliKGEsYixjKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgYyYmKGM9YixiPTQzOCk7WGIoYSxifDgxOTIsYyl9ZnVuY3Rpb24gWmIoYSxiKXtpZighamIoYSkpdGhyb3cgbmV3IE4oNDQpO3ZhciBjPVMoYix7cGFyZW50OiEwfSkubm9kZTtpZighYyl0aHJvdyBuZXcgTig0NCk7Yj1nYihiKTt2YXIgZD1RYihjLGIpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWMuTGEuc3ltbGluayl0aHJvdyBuZXcgTig2Myk7Yy5MYS5zeW1saW5rKGMsYixhKX1cbmZ1bmN0aW9uICRiKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTthPWdiKGEpO3ZhciBjPVEoYixhKSxkPVJiKGIsYSwhMCk7aWYoZCl0aHJvdyBuZXcgTihkKTtpZighYi5MYS5ybWRpcil0aHJvdyBuZXcgTig2Myk7aWYoYy5hYil0aHJvdyBuZXcgTigxMCk7Yi5MYS5ybWRpcihiLGEpO0NiKGMpfWZ1bmN0aW9uIHphKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTtpZighYil0aHJvdyBuZXcgTig0NCk7YT1nYihhKTt2YXIgYz1RKGIsYSksZD1SYihiLGEsITEpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWIuTGEudW5saW5rKXRocm93IG5ldyBOKDYzKTtpZihjLmFiKXRocm93IG5ldyBOKDEwKTtiLkxhLnVubGluayhiLGEpO0NiKGMpfWZ1bmN0aW9uIGFjKGEsYil7YT1TKGEseyRhOiFifSkubm9kZTtyZXR1cm4gU2IoYS5MYS5UYSkoYSl9XG5mdW5jdGlvbiBiYyhhLGIsYyxkKXtWYihhLGIse21vZGU6YyY0MDk1fGIubW9kZSYtNDA5NixjdGltZTpEYXRlLm5vdygpLEZiOmR9KX1mdW5jdGlvbiBuYShhLGIpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/UyhhLHskYTohMH0pLm5vZGU6YTtiYyhudWxsLGEsYil9ZnVuY3Rpb24gY2MoYSxiLGMpe2lmKFAoYi5tb2RlKSl0aHJvdyBuZXcgTigzMSk7aWYoMzI3NjghPT0oYi5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7dmFyIGQ9T2IoYixcIndcIik7aWYoZCl0aHJvdyBuZXcgTihkKTtWYihhLGIse3NpemU6Yyx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfVxuZnVuY3Rpb24gb2EoYSxiLGM9NDM4KXtpZihcIlwiPT09YSl0aHJvdyBuZXcgTig0NCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe3ZhciBkPXtyOjAsXCJyK1wiOjIsdzo1NzcsXCJ3K1wiOjU3OCxhOjEwODksXCJhK1wiOjEwOTB9W2JdO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKXRocm93IEVycm9yKGBVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAke2J9YCk7Yj1kfWM9YiY2ND9jJjQwOTV8MzI3Njg6MDtpZihcIm9iamVjdFwiPT10eXBlb2YgYSlkPWE7ZWxzZXt2YXIgZT1hLmVuZHNXaXRoKFwiL1wiKTthPVMoYSx7JGE6IShiJjEzMTA3MiksSmI6ITB9KTtkPWEubm9kZTthPWEucGF0aH12YXIgaD0hMTtpZihiJjY0KWlmKGQpe2lmKGImMTI4KXRocm93IG5ldyBOKDIwKTt9ZWxzZXtpZihlKXRocm93IG5ldyBOKDMxKTtkPVhiKGEsY3w1MTEsMCk7aD0hMH1pZighZCl0aHJvdyBuZXcgTig0NCk7ODE5Mj09PShkLm1vZGUmNjE0NDApJiYoYiY9LTUxMyk7aWYoYiY2NTUzNiYmIVAoZC5tb2RlKSl0aHJvdyBuZXcgTig1NCk7XG5pZighaCYmKGU9ZD80MDk2MD09PShkLm1vZGUmNjE0NDApPzMyOlAoZC5tb2RlKSYmKFwiclwiIT09UGIoYil8fGImNTc2KT8zMTpPYihkLFBiKGIpKTo0NCkpdGhyb3cgbmV3IE4oZSk7YiY1MTImJiFoJiYoZT1kLGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/UyhlLHskYTohMH0pLm5vZGU6ZSxjYyhudWxsLGUsMCkpO2ImPS0xMzE3MTM7ZT1UYih7bm9kZTpkLHBhdGg6amEoZCksZmxhZ3M6YixzZWVrYWJsZTohMCxwb3NpdGlvbjowLE1hOmQuTWEsTGI6W10sZXJyb3I6ITF9KTtlLk1hLm9wZW4mJmUuTWEub3BlbihlKTtoJiZuYShkLGMmNTExKTshZi5sb2dSZWFkRmlsZXN8fGImMXx8YSBpbiBLYnx8KEtiW2FdPTEpO3JldHVybiBlfWZ1bmN0aW9uIHFhKGEpe2lmKG51bGw9PT1hLmZkKXRocm93IG5ldyBOKDgpO2Eub2ImJihhLm9iPW51bGwpO3RyeXthLk1hLmNsb3NlJiZhLk1hLmNsb3NlKGEpfWNhdGNoKGIpe3Rocm93IGI7fWZpbmFsbHl7R2JbYS5mZF09bnVsbH1hLmZkPW51bGx9XG5mdW5jdGlvbiBtYyhhLGIsYyl7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoIWEuc2Vla2FibGV8fCFhLk1hLlZhKXRocm93IG5ldyBOKDcwKTtpZigwIT1jJiYxIT1jJiYyIT1jKXRocm93IG5ldyBOKDI4KTthLnBvc2l0aW9uPWEuTWEuVmEoYSxiLGMpO2EuTGI9W119ZnVuY3Rpb24gRWMoYSxiLGMsZCxlKXtpZigwPmR8fDA+ZSl0aHJvdyBuZXcgTigyOCk7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoMT09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDgpO2lmKFAoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOKDMxKTtpZighYS5NYS5yZWFkKXRocm93IG5ldyBOKDI4KTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLnJlYWQoYSxiLGMsZCxlKTtofHwoYS5wb3NpdGlvbis9Yik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBwYShhLGIsYyxkLGUpe2lmKDA+ZHx8MD5lKXRocm93IG5ldyBOKDI4KTtpZihudWxsPT09YS5mZCl0aHJvdyBuZXcgTig4KTtpZigwPT09KGEuZmxhZ3MmMjA5NzE1NSkpdGhyb3cgbmV3IE4oOCk7aWYoUChhLm5vZGUubW9kZSkpdGhyb3cgbmV3IE4oMzEpO2lmKCFhLk1hLndyaXRlKXRocm93IG5ldyBOKDI4KTthLnNlZWthYmxlJiZhLmZsYWdzJjEwMjQmJm1jKGEsMCwyKTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLndyaXRlKGEsYixjLGQsZSx2b2lkIDApO2h8fChhLnBvc2l0aW9uKz1iKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIHlhKGEpe3ZhciBiPVwiYmluYXJ5XCI7aWYoXCJ1dGY4XCIhPT1iJiZcImJpbmFyeVwiIT09Yil0aHJvdyBFcnJvcihgSW52YWxpZCBlbmNvZGluZyB0eXBlIFwiJHtifVwiYCk7dmFyIGM7dmFyIGQ9b2EoYSxkfHwwKTthPWFjKGEpLnNpemU7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoYSk7RWMoZCxlLDAsYSwwKTtcInV0ZjhcIj09PWI/Yz1CKGUpOlwiYmluYXJ5XCI9PT1iJiYoYz1lKTtxYShkKTtyZXR1cm4gY31cbmZ1bmN0aW9uIFYoYSxiLGMpe2E9a2EoXCIvZGV2L1wiK2EpO3ZhciBkPWxhKCEhYiwhIWMpO1YueWI/PyhWLnliPTY0KTt2YXIgZT1WLnliKys8PDh8MDt3YihlLHtvcGVuKGgpe2guc2Vla2FibGU9ITF9LGNsb3NlKCl7Yz8uYnVmZmVyPy5sZW5ndGgmJmMoMTApfSxyZWFkKGgsayxxLHcpe2Zvcih2YXIgdj0wLEM9MDtDPHc7QysrKXt0cnl7dmFyIEc9YigpfWNhdGNoKHBiKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PUcmJjA9PT12KXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1HfHx2b2lkIDA9PT1HKWJyZWFrO3YrKztrW3ErQ109R312JiYoaC5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiB2fSx3cml0ZShoLGsscSx3KXtmb3IodmFyIHY9MDt2PHc7disrKXRyeXtjKGtbcSt2XSl9Y2F0Y2goQyl7dGhyb3cgbmV3IE4oMjkpO313JiYoaC5ub2RlLm10aW1lPWgubm9kZS5jdGltZT1EYXRlLm5vdygpKTtyZXR1cm4gdn19KTtZYihhLGQsZSl9dmFyIFc9e307XG5mdW5jdGlvbiBHYyhhLGIsYyl7aWYoXCIvXCI9PT1iLmNoYXJBdCgwKSlyZXR1cm4gYjthPS0xMDA9PT1hP1wiL1wiOlQoYSkucGF0aDtpZigwPT1iLmxlbmd0aCl7aWYoIWMpdGhyb3cgbmV3IE4oNDQpO3JldHVybiBhfXJldHVybiBhK1wiL1wiK2J9XG5mdW5jdGlvbiBIYyhhLGIpe0VbYT4+Ml09Yi5kZXY7RVthKzQ+PjJdPWIubW9kZTtGW2ErOD4+Ml09Yi5ubGluaztFW2ErMTI+PjJdPWIudWlkO0VbYSsxNj4+Ml09Yi5naWQ7RVthKzIwPj4yXT1iLnJkZXY7SFthKzI0Pj4zXT1CaWdJbnQoYi5zaXplKTtFW2ErMzI+PjJdPTQwOTY7RVthKzM2Pj4yXT1iLmJsb2Nrczt2YXIgYz1iLmF0aW1lLmdldFRpbWUoKSxkPWIubXRpbWUuZ2V0VGltZSgpLGU9Yi5jdGltZS5nZXRUaW1lKCk7SFthKzQwPj4zXT1CaWdJbnQoTWF0aC5mbG9vcihjLzFFMykpO0ZbYSs0OD4+Ml09YyUxRTMqMUU2O0hbYSs1Nj4+M109QmlnSW50KE1hdGguZmxvb3IoZC8xRTMpKTtGW2ErNjQ+PjJdPWQlMUUzKjFFNjtIW2ErNzI+PjNdPUJpZ0ludChNYXRoLmZsb29yKGUvMUUzKSk7RlthKzgwPj4yXT1lJTFFMyoxRTY7SFthKzg4Pj4zXT1CaWdJbnQoYi5pbm8pO3JldHVybiAwfVxudmFyIEljPXZvaWQgMCxKYz0oKT0+e3ZhciBhPUVbK0ljPj4yXTtJYys9NDtyZXR1cm4gYX0sS2M9MCxMYz1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSxNYz1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxOYz17fSxPYz1hPT57TWE9YTtjYnx8MDxLY3x8KGYub25FeGl0Py4oYSksTGE9ITApO0RhKGEsbmV3IFlhKGEpKX0sUGM9YT0+e2lmKCFMYSl0cnl7aWYoYSgpLCEoY2J8fDA8S2MpKXRyeXtNYT1hPU1hLE9jKGEpfWNhdGNoKGIpe2IgaW5zdGFuY2VvZiBZYXx8XCJ1bndpbmRcIj09Ynx8RGEoMSxiKX19Y2F0Y2goYil7YiBpbnN0YW5jZW9mIFlhfHxcInVud2luZFwiPT1ifHxEYSgxLGIpfX0sUWM9e30sU2M9KCk9PntpZighUmMpe3ZhciBhPXtVU0VSOlwid2ViX3VzZXJcIixMT0dOQU1FOlwid2ViX3VzZXJcIixQQVRIOlwiL1wiLFBXRDpcIi9cIixIT01FOlwiL2hvbWUvd2ViX3VzZXJcIixMQU5HOihcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiZcbm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fFwiQ1wiKS5yZXBsYWNlKFwiLVwiLFwiX1wiKStcIi5VVEYtOFwiLF86Q2F8fFwiLi90aGlzLnByb2dyYW1cIn0sYjtmb3IoYiBpbiBRYyl2b2lkIDA9PT1RY1tiXT9kZWxldGUgYVtiXTphW2JdPVFjW2JdO3ZhciBjPVtdO2ZvcihiIGluIGEpYy5wdXNoKGAke2J9PSR7YVtiXX1gKTtSYz1jfXJldHVybiBSY30sUmMseGE9YT0+e3ZhciBiPWhhKGEpKzEsYz16KGIpO3UoYSx4LGMsYik7cmV0dXJuIGN9LFRjPShhLGIsYyxkKT0+e3ZhciBlPXtzdHJpbmc6dj0+e3ZhciBDPTA7bnVsbCE9PXYmJnZvaWQgMCE9PXYmJjAhPT12JiYoQz14YSh2KSk7cmV0dXJuIEN9LGFycmF5OnY9Pnt2YXIgQz16KHYubGVuZ3RoKTtwLnNldCh2LEMpO3JldHVybiBDfX07YT1mW1wiX1wiK2FdO3ZhciBoPVtdLGs9MDtpZihkKWZvcih2YXIgcT0wO3E8ZC5sZW5ndGg7cSsrKXt2YXIgdz1lW2NbcV1dO3c/KDA9PT1rJiYoaz1zYSgpKSxoW3FdPXcoZFtxXSkpOlxuaFtxXT1kW3FdfWM9YSguLi5oKTtyZXR1cm4gYz1mdW5jdGlvbih2KXswIT09ayYmd2Eoayk7cmV0dXJuXCJzdHJpbmdcIj09PWI/dj9CKHgsdik6XCJcIjpcImJvb2xlYW5cIj09PWI/ISF2OnZ9KGMpfSxlYT0wLGRhPShhLGIpPT57Yj0xPT1iP3ooYS5sZW5ndGgpOmlhKGEubGVuZ3RoKTthLnN1YmFycmF5fHxhLnNsaWNlfHwoYT1uZXcgVWludDhBcnJheShhKSk7eC5zZXQoYSxiKTtyZXR1cm4gYn0sVWMsVmM9W10sWSxBPWE9PntVYy5kZWxldGUoWS5nZXQoYSkpO1kuc2V0KGEsbnVsbCk7VmMucHVzaChhKX0sQWE9KGEsYik9PntpZighVWMpe1VjPW5ldyBXZWFrTWFwO3ZhciBjPVkubGVuZ3RoO2lmKFVjKWZvcih2YXIgZD0wO2Q8MCtjO2QrKyl7dmFyIGU9WS5nZXQoZCk7ZSYmVWMuc2V0KGUsZCl9fWlmKGM9VWMuZ2V0KGEpfHwwKXJldHVybiBjO2lmKFZjLmxlbmd0aCljPVZjLnBvcCgpO2Vsc2V7dHJ5e1kuZ3JvdygxKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyB3O1xudGhyb3dcIlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguXCI7fWM9WS5sZW5ndGgtMX10cnl7WS5zZXQoYyxhKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKXRocm93IHc7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgV2ViQXNzZW1ibHkuRnVuY3Rpb24pe3ZhciBoPVdlYkFzc2VtYmx5LkZ1bmN0aW9uO2Q9e2k6XCJpMzJcIixqOlwiaTY0XCIsZjpcImYzMlwiLGQ6XCJmNjRcIixlOlwiZXh0ZXJucmVmXCIscDpcImkzMlwifTtlPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6XCJ2XCI9PWJbMF0/W106W2RbYlswXV1dfTtmb3IodmFyIGs9MTtrPGIubGVuZ3RoOysrayllLnBhcmFtZXRlcnMucHVzaChkW2Jba11dKTtiPW5ldyBoKGUsYSl9ZWxzZXtkPVsxXTtlPWIuc2xpY2UoMCwxKTtiPWIuc2xpY2UoMSk7az17aToxMjcscDoxMjcsajoxMjYsZjoxMjUsZDoxMjQsZToxMTF9O2QucHVzaCg5Nik7dmFyIHE9Yi5sZW5ndGg7MTI4PnE/ZC5wdXNoKHEpOmQucHVzaChxJVxuMTI4fDEyOCxxPj43KTtmb3IoaCBvZiBiKWQucHVzaChrW2hdKTtcInZcIj09ZT9kLnB1c2goMCk6ZC5wdXNoKDEsa1tlXSk7Yj1bMCw5NywxMTUsMTA5LDEsMCwwLDAsMV07aD1kLmxlbmd0aDsxMjg+aD9iLnB1c2goaCk6Yi5wdXNoKGglMTI4fDEyOCxoPj43KTtiLnB1c2goLi4uZCk7Yi5wdXNoKDIsNywxLDEsMTAxLDEsMTAyLDAsMCw3LDUsMSwxLDEwMiwwLDApO2I9bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShiKSk7Yj0obmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGIse2U6e2Y6YX19KSkuZXhwb3J0cy5mfVkuc2V0KGMsYil9VWMuc2V0KGEsYyk7cmV0dXJuIGN9O1I9QXJyYXkoNDA5Nik7V2IoTyxcIi9cIik7VShcIi90bXBcIik7VShcIi9ob21lXCIpO1UoXCIvaG9tZS93ZWJfdXNlclwiKTtcbihmdW5jdGlvbigpe1UoXCIvZGV2XCIpO3diKDI1OSx7cmVhZDooKT0+MCx3cml0ZTooZCxlLGgsayk9PmssVmE6KCk9PjB9KTtZYihcIi9kZXYvbnVsbFwiLDI1OSk7bmIoMTI4MCx5Yik7bmIoMTUzNix6Yik7WWIoXCIvZGV2L3R0eVwiLDEyODApO1liKFwiL2Rldi90dHkxXCIsMTUzNik7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoMTAyNCksYj0wLGM9KCk9PnswPT09YiYmKGliKGEpLGI9YS5ieXRlTGVuZ3RoKTtyZXR1cm4gYVstLWJdfTtWKFwicmFuZG9tXCIsYyk7VihcInVyYW5kb21cIixjKTtVKFwiL2Rldi9zaG1cIik7VShcIi9kZXYvc2htL3RtcFwiKX0pKCk7XG4oZnVuY3Rpb24oKXtVKFwiL3Byb2NcIik7dmFyIGE9VShcIi9wcm9jL3NlbGZcIik7VShcIi9wcm9jL3NlbGYvZmRcIik7V2Ioe1hhKCl7dmFyIGI9QmIoYSxcImZkXCIsMTY4OTUsNzMpO2IuTWE9e1ZhOk8uTWEuVmF9O2IuTGE9e2xvb2t1cChjLGQpe2M9K2Q7dmFyIGU9VChjKTtjPXtwYXJlbnQ6bnVsbCxYYTp7emI6XCJmYWtlXCJ9LExhOntyZWFkbGluazooKT0+ZS5wYXRofSxpZDpjKzF9O3JldHVybiBjLnBhcmVudD1jfSxyZWFkZGlyKCl7cmV0dXJuIEFycmF5LmZyb20oR2IuZW50cmllcygpKS5maWx0ZXIoKFssY10pPT5jKS5tYXAoKFtjXSk9PmMudG9TdHJpbmcoKSl9fTtyZXR1cm4gYn19LFwiL3Byb2Mvc2VsZi9mZFwiKX0pKCk7Ty52Yj1uZXcgTig0NCk7Ty52Yi5zdGFjaz1cIjxnZW5lcmljIGVycm9yLCBubyBzdGFjaz5cIjtcbnZhciBYYz17YTooYSxiLGMsZCk9PlRhKGBBc3NlcnRpb24gZmFpbGVkOiAke2E/Qih4LGEpOlwiXCJ9LCBhdDogYCtbYj9iP0IoeCxiKTpcIlwiOlwidW5rbm93biBmaWxlbmFtZVwiLGMsZD9kP0IoeCxkKTpcIlwiOlwidW5rbm93biBmdW5jdGlvblwiXSksaTpmdW5jdGlvbihhLGIpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLG5hKGEsYiksMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LEw6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKGMmLTgpcmV0dXJuLTI4O3ZhciBkPVMoYix7JGE6ITB9KS5ub2RlO2lmKCFkKXJldHVybi00NDthPVwiXCI7YyY0JiYoYSs9XCJyXCIpO2MmMiYmKGErPVwid1wiKTtjJjEmJihhKz1cInhcIik7cmV0dXJuIGEmJk9iKGQsYSk/LTI6MH1jYXRjaChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1lLm5hbWUpdGhyb3cgZTtcbnJldHVybi1lLlBhfX0sajpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO2JjKGMsYy5ub2RlLGIsITEpO3JldHVybiAwfWNhdGNoKGQpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWQubmFtZSl0aHJvdyBkO3JldHVybi1kLlBhfX0saDpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtWYihiLGIubm9kZSx7dGltZXN0YW1wOkRhdGUubm93KCksRmI6ITF9KTtyZXR1cm4gMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LGI6ZnVuY3Rpb24oYSxiLGMpe0ljPWM7dHJ5e3ZhciBkPVQoYSk7c3dpdGNoKGIpe2Nhc2UgMDp2YXIgZT1KYygpO2lmKDA+ZSlicmVhaztmb3IoO0diW2VdOyllKys7cmV0dXJuIFViKGQsZSkuZmQ7Y2FzZSAxOmNhc2UgMjpyZXR1cm4gMDtjYXNlIDM6cmV0dXJuIGQuZmxhZ3M7Y2FzZSA0OnJldHVybiBlPUpjKCksZC5mbGFnc3w9ZSwwO1xuY2FzZSAxMjpyZXR1cm4gZT1KYygpLE5hW2UrMD4+MV09MiwwO2Nhc2UgMTM6Y2FzZSAxNDpyZXR1cm4gMH1yZXR1cm4tMjh9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSxnOmZ1bmN0aW9uKGEsYil7dHJ5e3ZhciBjPVQoYSksZD1jLm5vZGUsZT1jLk1hLlRhO2E9ZT9jOmQ7ZT8/PWQuTGEuVGE7U2IoZSk7dmFyIGg9ZShhKTtyZXR1cm4gSGMoYixoKX1jYXRjaChrKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1rLm5hbWUpdGhyb3cgaztyZXR1cm4tay5QYX19LEg6ZnVuY3Rpb24oYSxiKXtiPS05MDA3MTk5MjU0NzQwOTkyPmJ8fDkwMDcxOTkyNTQ3NDA5OTI8Yj9OYU46TnVtYmVyKGIpO3RyeXtpZihpc05hTihiKSlyZXR1cm4gNjE7dmFyIGM9VChhKTtpZigwPmJ8fDA9PT0oYy5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyOCk7Y2MoYyxjLm5vZGUsYik7XG5yZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEc6ZnVuY3Rpb24oYSxiKXt0cnl7aWYoMD09PWIpcmV0dXJuLTI4O3ZhciBjPWhhKFwiL1wiKSsxO2lmKGI8YylyZXR1cm4tNjg7dShcIi9cIix4LGEsYik7cmV0dXJuIGN9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09ZC5uYW1lKXRocm93IGQ7cmV0dXJuLWQuUGF9fSxLOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhLCEwKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxDOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksVShiLGMpLDB9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09XG5kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEo6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2I9Yj9CKHgsYik6XCJcIjt2YXIgZT1kJjI1NjtiPUdjKGEsYixkJjQwOTYpO3JldHVybiBIYyhjLGU/YWMoYiwhMCk6YWMoYikpfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybi1oLlBhfX0seDpmdW5jdGlvbihhLGIsYyxkKXtJYz1kO3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO3ZhciBlPWQ/SmMoKTowO3JldHVybiBvYShiLGMsZSkuZmR9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSx2OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKDA+PWQpcmV0dXJuLTI4O3ZhciBlPVMoYikubm9kZTtpZighZSl0aHJvdyBuZXcgTig0NCk7aWYoIWUuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oMjgpO1xudmFyIGg9ZS5MYS5yZWFkbGluayhlKTt2YXIgaz1NYXRoLm1pbihkLGhhKGgpKSxxPXBbYytrXTt1KGgseCxjLGQrMSk7cFtjK2tdPXE7cmV0dXJuIGt9Y2F0Y2godyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09dy5uYW1lKXRocm93IHc7cmV0dXJuLXcuUGF9fSx1OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLCRiKGEpLDB9Y2F0Y2goYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yi5uYW1lKXRocm93IGI7cmV0dXJuLWIuUGF9fSxmOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxyOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksMD09PWM/emEoYik6NTEyPT09Yz8kYihiKTpcblRhKFwiSW52YWxpZCBmbGFncyBwYXNzZWQgdG8gdW5saW5rYXRcIiksMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LHE6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIsITApO3ZhciBkPURhdGUubm93KCksZSxoO2lmKGMpe3ZhciBrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml0scT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9lPWQ6MTA3Mzc0MTgyMj09cT9lPW51bGw6ZT0xRTMqaytxLzFFNjtjKz0xNjtrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml07cT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9oPWQ6MTA3Mzc0MTgyMj09cT9oPW51bGw6aD0xRTMqaytxLzFFNn1lbHNlIGg9ZT1kO2lmKG51bGwhPT0oaD8/ZSkpe2E9ZTt2YXIgdz1TKGIseyRhOiEwfSkubm9kZTtTYih3LkxhLlVhKSh3LHthdGltZTphLG10aW1lOmh9KX1yZXR1cm4gMH1jYXRjaCh2KXtpZihcInVuZGVmaW5lZFwiPT1cbnR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXYubmFtZSl0aHJvdyB2O3JldHVybi12LlBhfX0sbTooKT0+VGEoXCJcIiksbDooKT0+e2NiPSExO0tjPTB9LEE6ZnVuY3Rpb24oYSxiKXthPS05MDA3MTk5MjU0NzQwOTkyPmF8fDkwMDcxOTkyNTQ3NDA5OTI8YT9OYU46TnVtYmVyKGEpO2E9bmV3IERhdGUoMUUzKmEpO0VbYj4+Ml09YS5nZXRTZWNvbmRzKCk7RVtiKzQ+PjJdPWEuZ2V0TWludXRlcygpO0VbYis4Pj4yXT1hLmdldEhvdXJzKCk7RVtiKzEyPj4yXT1hLmdldERhdGUoKTtFW2IrMTY+PjJdPWEuZ2V0TW9udGgoKTtFW2IrMjA+PjJdPWEuZ2V0RnVsbFllYXIoKS0xOTAwO0VbYisyND4+Ml09YS5nZXREYXkoKTt2YXIgYz1hLmdldEZ1bGxZZWFyKCk7RVtiKzI4Pj4yXT0oMCE9PWMlNHx8MD09PWMlMTAwJiYwIT09YyU0MDA/TWM6TGMpW2EuZ2V0TW9udGgoKV0rYS5nZXREYXRlKCktMXwwO0VbYiszNj4+Ml09LSg2MCphLmdldFRpbWV6b25lT2Zmc2V0KCkpO2M9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxcbjYsMSkpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGQ9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO0VbYiszMj4+Ml09KGMhPWQmJmEuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oZCxjKSl8MH0seTpmdW5jdGlvbihhLGIsYyxkLGUsaCxrKXtlPS05MDA3MTk5MjU0NzQwOTkyPmV8fDkwMDcxOTkyNTQ3NDA5OTI8ZT9OYU46TnVtYmVyKGUpO3RyeXtpZihpc05hTihlKSlyZXR1cm4gNjE7dmFyIHE9VChkKTtpZigwIT09KGImMikmJjA9PT0oYyYyKSYmMiE9PShxLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDIpO2lmKDE9PT0ocS5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyKTtpZighcS5NYS5pYil0aHJvdyBuZXcgTig0Myk7aWYoIWEpdGhyb3cgbmV3IE4oMjgpO3ZhciB3PXEuTWEuaWIocSxhLGUsYixjKTt2YXIgdj13LktiO0VbaD4+Ml09dy5BYjtGW2s+PjJdPXY7cmV0dXJuIDB9Y2F0Y2goQyl7aWYoXCJ1bmRlZmluZWRcIj09XG50eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1DLm5hbWUpdGhyb3cgQztyZXR1cm4tQy5QYX19LHo6ZnVuY3Rpb24oYSxiLGMsZCxlLGgpe2g9LTkwMDcxOTkyNTQ3NDA5OTI+aHx8OTAwNzE5OTI1NDc0MDk5MjxoP05hTjpOdW1iZXIoaCk7dHJ5e3ZhciBrPVQoZSk7aWYoYyYyKXtjPWg7aWYoMzI3NjghPT0oay5ub2RlLm1vZGUmNjE0NDApKXRocm93IG5ldyBOKDQzKTtpZighKGQmMikpe3ZhciBxPXguc2xpY2UoYSxhK2IpO2suTWEuamImJmsuTWEuamIoayxxLGMsYixkKX19fWNhdGNoKHcpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXcubmFtZSl0aHJvdyB3O3JldHVybi13LlBhfX0sbjooYSxiKT0+e05jW2FdJiYoY2xlYXJUaW1lb3V0KE5jW2FdLmlkKSxkZWxldGUgTmNbYV0pO2lmKCFiKXJldHVybiAwO3ZhciBjPXNldFRpbWVvdXQoKCk9PntkZWxldGUgTmNbYV07UGMoKCk9PldjKGEscGVyZm9ybWFuY2Uubm93KCkpKX0sYik7TmNbYV09e2lkOmMsXG5YYjpifTtyZXR1cm4gMH0sQjooYSxiLGMsZCk9Pnt2YXIgZT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksaD0obmV3IERhdGUoZSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO2U9KG5ldyBEYXRlKGUsNiwxKSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtGW2E+PjJdPTYwKk1hdGgubWF4KGgsZSk7RVtiPj4yXT1OdW1iZXIoaCE9ZSk7Yj1rPT57dmFyIHE9TWF0aC5hYnMoayk7cmV0dXJuYFVUQyR7MDw9az9cIi1cIjpcIitcIn0ke1N0cmluZyhNYXRoLmZsb29yKHEvNjApKS5wYWRTdGFydCgyLFwiMFwiKX0ke1N0cmluZyhxJTYwKS5wYWRTdGFydCgyLFwiMFwiKX1gfTthPWIoaCk7Yj1iKGUpO2U8aD8odShhLHgsYywxNyksdShiLHgsZCwxNykpOih1KGEseCxkLDE3KSx1KGIseCxjLDE3KSl9LGQ6KCk9PkRhdGUubm93KCksczooKT0+MjE0NzQ4MzY0OCxjOigpPT5wZXJmb3JtYW5jZS5ub3coKSxvOmE9Pnt2YXIgYj14Lmxlbmd0aDthPj4+PTA7aWYoMjE0NzQ4MzY0ODxhKXJldHVybiExO2Zvcih2YXIgYz1cbjE7ND49YztjKj0yKXt2YXIgZD1iKigxKy4yL2MpO2Q9TWF0aC5taW4oZCxhKzEwMDY2MzI5Nik7YTp7ZD0oTWF0aC5taW4oMjE0NzQ4MzY0OCw2NTUzNipNYXRoLmNlaWwoTWF0aC5tYXgoYSxkKS82NTUzNikpLUthLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNnwwO3RyeXtLYS5ncm93KGQpO1FhKCk7dmFyIGU9MTticmVhayBhfWNhdGNoKGgpe31lPXZvaWQgMH1pZihlKXJldHVybiEwfXJldHVybiExfSxFOihhLGIpPT57dmFyIGM9MDtTYygpLmZvckVhY2goKGQsZSk9Pnt2YXIgaD1iK2M7ZT1GW2ErNCplPj4yXT1oO2ZvcihoPTA7aDxkLmxlbmd0aDsrK2gpcFtlKytdPWQuY2hhckNvZGVBdChoKTtwW2VdPTA7Yys9ZC5sZW5ndGgrMX0pO3JldHVybiAwfSxGOihhLGIpPT57dmFyIGM9U2MoKTtGW2E+PjJdPWMubGVuZ3RoO3ZhciBkPTA7Yy5mb3JFYWNoKGU9PmQrPWUubGVuZ3RoKzEpO0ZbYj4+Ml09ZDtyZXR1cm4gMH0sZTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtcbnFhKGIpO3JldHVybiAwfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO3JldHVybiBjLlBhfX0scDpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO3BbYl09Yy50dHk/MjpQKGMubW9kZSk/Mzo0MDk2MD09PShjLm1vZGUmNjE0NDApPzc6NDtOYVtiKzI+PjFdPTA7SFtiKzg+PjNdPUJpZ0ludCgwKTtIW2IrMTY+PjNdPUJpZ0ludCgwKTtyZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4gZC5QYX19LHc6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2E6e3ZhciBlPVQoYSk7YT1iO2Zvcih2YXIgaCxrPWI9MDtrPGM7aysrKXt2YXIgcT1GW2E+PjJdLHc9RlthKzQ+PjJdO2ErPTg7dmFyIHY9RWMoZSxwLHEsdyxoKTtpZigwPnYpe3ZhciBDPS0xO2JyZWFrIGF9Yis9djtpZih2PHcpYnJlYWs7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGgmJlxuKGgrPXYpfUM9Yn1GW2Q+PjJdPUM7cmV0dXJuIDB9Y2F0Y2goRyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Ry5uYW1lKXRocm93IEc7cmV0dXJuIEcuUGF9fSxEOmZ1bmN0aW9uKGEsYixjLGQpe2I9LTkwMDcxOTkyNTQ3NDA5OTI+Ynx8OTAwNzE5OTI1NDc0MDk5MjxiP05hTjpOdW1iZXIoYik7dHJ5e2lmKGlzTmFOKGIpKXJldHVybiA2MTt2YXIgZT1UKGEpO21jKGUsYixjKTtIW2Q+PjNdPUJpZ0ludChlLnBvc2l0aW9uKTtlLm9iJiYwPT09YiYmMD09PWMmJihlLm9iPW51bGwpO3JldHVybiAwfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybiBoLlBhfX0sSTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtyZXR1cm4gYi5NYT8uZnN5bmM/Yi5NYS5mc3luYyhiKTowfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO1xucmV0dXJuIGMuUGF9fSx0OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXthOnt2YXIgZT1UKGEpO2E9Yjtmb3IodmFyIGgsaz1iPTA7azxjO2srKyl7dmFyIHE9RlthPj4yXSx3PUZbYSs0Pj4yXTthKz04O3ZhciB2PXBhKGUscCxxLHcsaCk7aWYoMD52KXt2YXIgQz0tMTticmVhayBhfWIrPXY7aWYodjx3KWJyZWFrO1widW5kZWZpbmVkXCIhPXR5cGVvZiBoJiYoaCs9dil9Qz1ifUZbZD4+Ml09QztyZXR1cm4gMH1jYXRjaChHKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1HLm5hbWUpdGhyb3cgRztyZXR1cm4gRy5QYX19LGs6T2N9LFo7XG4oYXN5bmMgZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe1o9Yy5leHBvcnRzO0thPVouTTtRYSgpO1k9Wi5PO0stLTtmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTswPT1LJiZTYSYmKGM9U2EsU2E9bnVsbCxjKCkpO3JldHVybiBafUsrKztmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTt2YXIgYj17YTpYY307aWYoZi5pbnN0YW50aWF0ZVdhc20pcmV0dXJuIG5ldyBQcm9taXNlKGM9PntmLmluc3RhbnRpYXRlV2FzbShiLChkLGUpPT57YShkLGUpO2MoZC5leHBvcnRzKX0pfSk7VWE/Pz1mLmxvY2F0ZUZpbGU/Zi5sb2NhdGVGaWxlKFwic3FsLXdhc20ud2FzbVwiLEQpOkQrXCJzcWwtd2FzbS53YXNtXCI7cmV0dXJuIGEoKGF3YWl0IFhhKGIpKS5pbnN0YW5jZSl9KSgpO2YuX3NxbGl0ZTNfZnJlZT1hPT4oZi5fc3FsaXRlM19mcmVlPVouUCkoYSk7Zi5fc3FsaXRlM192YWx1ZV90ZXh0PWE9PihmLl9zcWxpdGUzX3ZhbHVlX3RleHQ9Wi5RKShhKTtcbmYuX3NxbGl0ZTNfcHJlcGFyZV92Mj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfcHJlcGFyZV92Mj1aLlIpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19zdGVwPWE9PihmLl9zcWxpdGUzX3N0ZXA9Wi5TKShhKTtmLl9zcWxpdGUzX3Jlc2V0PWE9PihmLl9zcWxpdGUzX3Jlc2V0PVouVCkoYSk7Zi5fc3FsaXRlM19leGVjPShhLGIsYyxkLGUpPT4oZi5fc3FsaXRlM19leGVjPVouVSkoYSxiLGMsZCxlKTtmLl9zcWxpdGUzX2ZpbmFsaXplPWE9PihmLl9zcWxpdGUzX2ZpbmFsaXplPVouVikoYSk7Zi5fc3FsaXRlM19jb2x1bW5fbmFtZT0oYSxiKT0+KGYuX3NxbGl0ZTNfY29sdW1uX25hbWU9Wi5XKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX3RleHQ9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl90ZXh0PVouWCkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl90eXBlPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fdHlwZT1aLlkpKGEsYik7XG5mLl9zcWxpdGUzX2Vycm1zZz1hPT4oZi5fc3FsaXRlM19lcnJtc2c9Wi5aKShhKTtmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPWE9PihmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPVouXykoYSk7Zi5fc3FsaXRlM192YWx1ZV9ibG9iPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2Jsb2I9Wi4kKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPVouYWEpKGEpO2YuX3NxbGl0ZTNfdmFsdWVfZG91YmxlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2RvdWJsZT1aLmJhKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2ludD1hPT4oZi5fc3FsaXRlM192YWx1ZV9pbnQ9Wi5jYSkoYSk7Zi5fc3FsaXRlM192YWx1ZV90eXBlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX3R5cGU9Wi5kYSkoYSk7Zi5fc3FsaXRlM19yZXN1bHRfYmxvYj0oYSxiLGMsZCk9PihmLl9zcWxpdGUzX3Jlc3VsdF9ibG9iPVouZWEpKGEsYixjLGQpO1xuZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPShhLGIpPT4oZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPVouZmEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfZXJyb3I9KGEsYixjKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2Vycm9yPVouZ2EpKGEsYixjKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9KGEsYik9PihmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9Wi5oYSkoYSxiKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ2ND0oYSxiKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2ludDY0PVouaWEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfbnVsbD1hPT4oZi5fc3FsaXRlM19yZXN1bHRfbnVsbD1aLmphKShhKTtmLl9zcWxpdGUzX3Jlc3VsdF90ZXh0PShhLGIsYyxkKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X3RleHQ9Wi5rYSkoYSxiLGMsZCk7Zi5fc3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dD0oYSxiKT0+KGYuX3NxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQ9Wi5sYSkoYSxiKTtcbmYuX3NxbGl0ZTNfY29sdW1uX2NvdW50PWE9PihmLl9zcWxpdGUzX2NvbHVtbl9jb3VudD1aLm1hKShhKTtmLl9zcWxpdGUzX2RhdGFfY291bnQ9YT0+KGYuX3NxbGl0ZTNfZGF0YV9jb3VudD1aLm5hKShhKTtmLl9zcWxpdGUzX2NvbHVtbl9ibG9iPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYmxvYj1aLm9hKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX2J5dGVzPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYnl0ZXM9Wi5wYSkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9Wi5xYSkoYSxiKTtmLl9zcWxpdGUzX2JpbmRfYmxvYj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF9ibG9iPVoucmEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX2RvdWJsZT0oYSxiLGMpPT4oZi5fc3FsaXRlM19iaW5kX2RvdWJsZT1aLnNhKShhLGIsYyk7XG5mLl9zcWxpdGUzX2JpbmRfaW50PShhLGIsYyk9PihmLl9zcWxpdGUzX2JpbmRfaW50PVoudGEpKGEsYixjKTtmLl9zcWxpdGUzX2JpbmRfdGV4dD0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF90ZXh0PVoudWEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleD0oYSxiKT0+KGYuX3NxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXg9Wi52YSkoYSxiKTtmLl9zcWxpdGUzX3NxbD1hPT4oZi5fc3FsaXRlM19zcWw9Wi53YSkoYSk7Zi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1hPT4oZi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1aLnhhKShhKTtmLl9zcWxpdGUzX2NoYW5nZXM9YT0+KGYuX3NxbGl0ZTNfY2hhbmdlcz1aLnlhKShhKTtmLl9zcWxpdGUzX2Nsb3NlX3YyPWE9PihmLl9zcWxpdGUzX2Nsb3NlX3YyPVouemEpKGEpO1xuZi5fc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjI9KGEsYixjLGQsZSxoLGsscSx3KT0+KGYuX3NxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyPVouQWEpKGEsYixjLGQsZSxoLGsscSx3KTtmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPShhLGIsYyk9PihmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPVouQmEpKGEsYixjKTtmLl9zcWxpdGUzX29wZW49KGEsYik9PihmLl9zcWxpdGUzX29wZW49Wi5DYSkoYSxiKTt2YXIgaWE9Zi5fbWFsbG9jPWE9PihpYT1mLl9tYWxsb2M9Wi5EYSkoYSksZmE9Zi5fZnJlZT1hPT4oZmE9Zi5fZnJlZT1aLkVhKShhKTtmLl9SZWdpc3RlckV4dGVuc2lvbkZ1bmN0aW9ucz1hPT4oZi5fUmVnaXN0ZXJFeHRlbnNpb25GdW5jdGlvbnM9Wi5GYSkoYSk7dmFyIERiPShhLGIpPT4oRGI9Wi5HYSkoYSxiKSxXYz0oYSxiKT0+KFdjPVouSGEpKGEsYiksd2E9YT0+KHdhPVouSWEpKGEpLHo9YT0+KHo9Wi5KYSkoYSksc2E9KCk9PihzYT1aLkthKSgpO1xuZi5zdGFja1NhdmU9KCk9PnNhKCk7Zi5zdGFja1Jlc3RvcmU9YT0+d2EoYSk7Zi5zdGFja0FsbG9jPWE9PnooYSk7Zi5jd3JhcD0oYSxiLGMsZCk9Pnt2YXIgZT0hY3x8Yy5ldmVyeShoPT5cIm51bWJlclwiPT09aHx8XCJib29sZWFuXCI9PT1oKTtyZXR1cm5cInN0cmluZ1wiIT09YiYmZSYmIWQ/ZltcIl9cIithXTooLi4uaCk9PlRjKGEsYixjLGgpfTtmLmFkZEZ1bmN0aW9uPUFhO2YucmVtb3ZlRnVuY3Rpb249QTtmLlVURjhUb1N0cmluZz11YTtmLkFMTE9DX05PUk1BTD1lYTtmLmFsbG9jYXRlPWRhO2YuYWxsb2NhdGVVVEY4T25TdGFjaz14YTtcbmZ1bmN0aW9uIFljKCl7ZnVuY3Rpb24gYSgpe2YuY2FsbGVkUnVuPSEwO2lmKCFMYSl7aWYoIWYubm9GU0luaXQmJiFJYil7dmFyIGIsYztJYj0hMDtkPz89Zi5zdGRpbjtiPz89Zi5zdGRvdXQ7Yz8/PWYuc3RkZXJyO2Q/VihcInN0ZGluXCIsZCk6WmIoXCIvZGV2L3R0eVwiLFwiL2Rldi9zdGRpblwiKTtiP1YoXCJzdGRvdXRcIixudWxsLGIpOlpiKFwiL2Rldi90dHlcIixcIi9kZXYvc3Rkb3V0XCIpO2M/VihcInN0ZGVyclwiLG51bGwsYyk6WmIoXCIvZGV2L3R0eTFcIixcIi9kZXYvc3RkZXJyXCIpO29hKFwiL2Rldi9zdGRpblwiLDApO29hKFwiL2Rldi9zdGRvdXRcIiwxKTtvYShcIi9kZXYvc3RkZXJyXCIsMSl9Wi5OKCk7SmI9ITE7Zi5vblJ1bnRpbWVJbml0aWFsaXplZD8uKCk7aWYoZi5wb3N0UnVuKWZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnBvc3RSdW4mJihmLnBvc3RSdW49W2YucG9zdFJ1bl0pO2YucG9zdFJ1bi5sZW5ndGg7KXt2YXIgZD1mLnBvc3RSdW4uc2hpZnQoKTskYS51bnNoaWZ0KGQpfVphKCRhKX19XG5pZigwPEspU2E9WWM7ZWxzZXtpZihmLnByZVJ1bilmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVSdW4mJihmLnByZVJ1bj1bZi5wcmVSdW5dKTtmLnByZVJ1bi5sZW5ndGg7KWJiKCk7WmEoYWIpOzA8Sz9TYT1ZYzpmLnNldFN0YXR1cz8oZi5zZXRTdGF0dXMoXCJSdW5uaW5nLi4uXCIpLHNldFRpbWVvdXQoKCk9PntzZXRUaW1lb3V0KCgpPT5mLnNldFN0YXR1cyhcIlwiKSwxKTthKCl9LDEpKTphKCl9fWlmKGYucHJlSW5pdClmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVJbml0JiYoZi5wcmVJbml0PVtmLnByZUluaXRdKTswPGYucHJlSW5pdC5sZW5ndGg7KWYucHJlSW5pdC5wb3AoKSgpO1ljKCk7XG5cblxuICAgICAgICAvLyBUaGUgc2hlbGwtcHJlLmpzIGFuZCBlbWNjLWdlbmVyYXRlZCBjb2RlIGdvZXMgYWJvdmVcbiAgICAgICAgcmV0dXJuIE1vZHVsZTtcbiAgICB9KTsgLy8gVGhlIGVuZCBvZiB0aGUgcHJvbWlzZSBiZWluZyByZXR1cm5lZFxuXG4gIHJldHVybiBpbml0U3FsSnNQcm9taXNlO1xufSAvLyBUaGUgZW5kIG9mIG91ciBpbml0U3FsSnMgZnVuY3Rpb25cblxuLy8gVGhpcyBiaXQgYmVsb3cgaXMgY29waWVkIGFsbW9zdCBleGFjdGx5IGZyb20gd2hhdCB5b3UgZ2V0IHdoZW4geW91IHVzZSB0aGUgTU9EVUxBUklaRT0xIGZsYWcgd2l0aCBlbWNjXG4vLyBIb3dldmVyLCB3ZSBkb24ndCB3YW50IHRvIHVzZSB0aGUgZW1jYyBtb2R1bGFyaXphdGlvbi4gU2VlIHNoZWxsLXByZS5qc1xuaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jyl7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbml0U3FsSnM7XG4gICAgLy8gVGhpcyB3aWxsIGFsbG93IHRoZSBtb2R1bGUgdG8gYmUgdXNlZCBpbiBFUzYgb3IgQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gaW5pdFNxbEpzO1xufVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGluaXRTcWxKczsgfSk7XG59XG5lbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xuICAgIGV4cG9ydHNbXCJNb2R1bGVcIl0gPSBpbml0U3FsSnM7XG59XG4iLCAiZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmRzU2V0dGluZ3Mge1xuICAvLyBGU1JTIEFsZ29yaXRobSBTZXR0aW5nc1xuICBmc3JzOiB7XG4gICAgcmVxdWVzdFJldGVudGlvbjogbnVtYmVyO1xuICAgIG1heGltdW1JbnRlcnZhbDogbnVtYmVyO1xuICAgIGVhc3lCb251czogbnVtYmVyO1xuICAgIGhhcmRJbnRlcnZhbDogbnVtYmVyO1xuICAgIHdlaWdodHM6IG51bWJlcltdO1xuICB9O1xuXG4gIC8vIFJldmlldyBTZXNzaW9uIFNldHRpbmdzXG4gIHJldmlldzoge1xuICAgIHNob3dQcm9ncmVzczogYm9vbGVhbjtcbiAgICBlbmFibGVLZXlib2FyZFNob3J0Y3V0czogYm9vbGVhbjtcbiAgfTtcblxuICAvLyBQYXJzaW5nIFNldHRpbmdzXG4gIHBhcnNpbmc6IHtcbiAgICBoZWFkZXJMZXZlbDogbnVtYmVyOyAvLyAxLTYsIHdoaWNoIGhlYWRlciBsZXZlbCB0byBwYXJzZSBmb3IgaGVhZGVyLXBhcmFncmFwaCBmbGFzaGNhcmRzXG4gIH07XG5cbiAgLy8gVUkgU2V0dGluZ3NcbiAgdWk6IHtcbiAgICBlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaDogYm9vbGVhbjtcbiAgICBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiBudW1iZXI7IC8vIHNlY29uZHNcbiAgfTtcblxuICAvLyBEZWJ1ZyBTZXR0aW5nc1xuICBkZWJ1Zzoge1xuICAgIGVuYWJsZUxvZ2dpbmc6IGJvb2xlYW47XG4gICAgcGVyZm9ybWFuY2VMb2dzOiBib29sZWFuO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRmxhc2hjYXJkc1NldHRpbmdzID0ge1xuICBmc3JzOiB7XG4gICAgcmVxdWVzdFJldGVudGlvbjogMC45LFxuICAgIG1heGltdW1JbnRlcnZhbDogMzY1MDAsIC8vIDEwMCB5ZWFyc1xuICAgIGVhc3lCb251czogMS4zLFxuICAgIGhhcmRJbnRlcnZhbDogMS4yLFxuICAgIHdlaWdodHM6IFtcbiAgICAgIDAuNDA3MiwgMS4xODI5LCAzLjEyNjIsIDE1LjQ3MjIsIDcuMjEwMiwgMC41MzE2LCAxLjA2NTEsIDAuMDIzNCwgMS42MTYsXG4gICAgICAwLjE1NDQsIDEuMDgyNCwgMS45ODEzLCAwLjA5NTMsIDAuMjk3NSwgMi4yMDQyLCAwLjI0MDcsIDIuOTQ2NixcbiAgICBdLFxuICB9LFxuXG4gIHJldmlldzoge1xuICAgIHNob3dQcm9ncmVzczogdHJ1ZSxcbiAgICBlbmFibGVLZXlib2FyZFNob3J0Y3V0czogdHJ1ZSxcbiAgfSxcblxuICBwYXJzaW5nOiB7XG4gICAgaGVhZGVyTGV2ZWw6IDIsIC8vIERlZmF1bHQgdG8gSDIgaGVhZGVyc1xuICB9LFxuXG4gIHVpOiB7XG4gICAgZW5hYmxlQmFja2dyb3VuZFJlZnJlc2g6IHRydWUsXG4gICAgYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbDogNSxcbiAgfSxcblxuICBkZWJ1Zzoge1xuICAgIGVuYWJsZUxvZ2dpbmc6IGZhbHNlLFxuICAgIHBlcmZvcm1hbmNlTG9nczogZmFsc2UsXG4gIH0sXG59O1xuIiwgImltcG9ydCB7XG4gIFBsdWdpbixcbiAgVEZpbGUsXG4gIFdvcmtzcGFjZUxlYWYsXG4gIE5vdGljZSxcbiAgTWFya2Rvd25SZW5kZXJlcixcbiAgQ29tcG9uZW50LFxuICBNb2RhbCxcbiAgSXRlbVZpZXcsXG4gIFZpZXdTdGF0ZSxcbiAgTWVudSxcbiAgVEFic3RyYWN0RmlsZSxcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmltcG9ydCB7IERhdGFiYXNlU2VydmljZSB9IGZyb20gXCIuL2RhdGFiYXNlL0RhdGFiYXNlU2VydmljZVwiO1xuaW1wb3J0IHsgRGVja01hbmFnZXIgfSBmcm9tIFwiLi9zZXJ2aWNlcy9EZWNrTWFuYWdlclwiO1xuaW1wb3J0IHsgRlNSUywgdHlwZSBEaWZmaWN1bHR5IH0gZnJvbSBcIi4vYWxnb3JpdGhtL2ZzcnNcIjtcbmltcG9ydCB7XG4gIERlY2ssXG4gIEZsYXNoY2FyZCxcbiAgRGVja1N0YXRzLFxuICBEZWNrQ29uZmlnLFxuICBTdGF0aXN0aWNzLFxufSBmcm9tIFwiLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHsgRmxhc2hjYXJkc1NldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IERlY2tzU2V0dGluZ1RhYiB9IGZyb20gXCIuL2NvbXBvbmVudHMvU2V0dGluZ3NUYWJcIjtcbmltcG9ydCBEZWNrTGlzdFBhbmVsIGZyb20gXCIuL2NvbXBvbmVudHMvRGVja0xpc3RQYW5lbC5zdmVsdGVcIjtcbmltcG9ydCB7IERlY2tDb25maWdNb2RhbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvRGVja0NvbmZpZ01vZGFsXCI7XG5pbXBvcnQgeyBTdGF0aXN0aWNzTW9kYWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL1N0YXRpc3RpY3NNb2RhbFwiO1xuaW1wb3J0IERlY2tDb25maWdVSSBmcm9tIFwiLi9jb21wb25lbnRzL0RlY2tDb25maWdVSS5zdmVsdGVcIjtcbmltcG9ydCB7IEZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRmxhc2hjYXJkUmV2aWV3TW9kYWxXcmFwcGVyXCI7XG5cbmNvbnN0IFZJRVdfVFlQRV9ERUNLUyA9IFwiZGVja3Mtdmlld1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWNrc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHByaXZhdGUgZGI6IERhdGFiYXNlU2VydmljZTtcbiAgcHVibGljIGRlY2tNYW5hZ2VyOiBEZWNrTWFuYWdlcjtcbiAgcHJpdmF0ZSBmc3JzOiBGU1JTO1xuICBwdWJsaWMgdmlldzogRGVja3NWaWV3IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzO1xuICBwcml2YXRlIGlzU3luY2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHByb2dyZXNzTm90aWNlOiBOb3RpY2UgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCBmb3IgdGltaW5nIG9wZXJhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0VGltZShtczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAobXMgPCAxMDAwKSB7XG4gICAgICByZXR1cm4gYCR7bXMudG9GaXhlZCgyKX1tc2A7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHsobXMgLyAxMDAwKS50b0ZpeGVkKDIpfXNgO1xuICAgIH1cbiAgfVxuXG4gIC8vIERlYnVnIGxvZ2dpbmcgdXRpbGl0eVxuICBkZWJ1Z0xvZyhtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3M/LmRlYnVnPy5lbmFibGVMb2dnaW5nKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0RlY2tzIERlYnVnXSAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUGVyZm9ybWFuY2UgbG9nZ2luZyB1dGlsaXR5XG4gIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8uZGVidWc/LnBlcmZvcm1hbmNlTG9ncykge1xuICAgICAgY29uc29sZS5sb2coYFtEZWNrcyBQZXJmb3JtYW5jZV0gJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2dyZXNzIHRyYWNraW5nIHV0aWxpdHlcbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzcyhtZXNzYWdlOiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NOb3RpY2UpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gdGhpcy5jcmVhdGVQcm9ncmVzc0Jhcihwcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzTm90aWNlLnNldE1lc3NhZ2UoYCR7bWVzc2FnZX1cXG4ke3Byb2dyZXNzQmFyfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3NCYXIocHJvZ3Jlc3M6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgd2lkdGggPSAyNTtcbiAgICBjb25zdCBmaWxsZWQgPSBNYXRoLnJvdW5kKChwcm9ncmVzcyAvIDEwMCkgKiB3aWR0aCk7XG4gICAgY29uc3QgZW1wdHkgPSB3aWR0aCAtIGZpbGxlZDtcbiAgICBjb25zdCBiYXIgPSBcIlx1MjU4OFwiLnJlcGVhdChmaWxsZWQpICsgXCJcdTI1OTFcIi5yZXBlYXQoZW1wdHkpO1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKHByb2dyZXNzKTtcbiAgICByZXR1cm4gYFske2Jhcn1dICR7cGVyY2VudGFnZX0lYDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1Byb2dyZXNzTm90aWNlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucHJvZ3Jlc3NOb3RpY2UgPSBuZXcgTm90aWNlKG1lc3NhZ2UsIDApO1xuICB9XG5cbiAgcHJpdmF0ZSBoaWRlUHJvZ3Jlc3NOb3RpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NOb3RpY2UpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NOb3RpY2UuaGlkZSgpO1xuICAgICAgdGhpcy5wcm9ncmVzc05vdGljZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIHRoaXMuZGVidWdMb2coXCJMb2FkaW5nIERlY2tzIHBsdWdpblwiKTtcblxuICAgIC8vIExvYWQgc2V0dGluZ3NcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBwbHVnaW4gZGlyZWN0b3J5IGV4aXN0c1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICBjb25zdCBwbHVnaW5EaXIgPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvZGVja3NgO1xuICAgICAgaWYgKCEoYXdhaXQgYWRhcHRlci5leGlzdHMocGx1Z2luRGlyKSkpIHtcbiAgICAgICAgYXdhaXQgYWRhcHRlci5ta2RpcihwbHVnaW5EaXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJbml0aWFsaXplIEZTUlMgZmlyc3RcbiAgICAgIHRoaXMuZnNycyA9IG5ldyBGU1JTKHtcbiAgICAgICAgcmVxdWVzdFJldGVudGlvbjogdGhpcy5zZXR0aW5ncy5mc3JzLnJlcXVlc3RSZXRlbnRpb24sXG4gICAgICAgIG1heGltdW1JbnRlcnZhbDogdGhpcy5zZXR0aW5ncy5mc3JzLm1heGltdW1JbnRlcnZhbCxcbiAgICAgICAgZWFzeUJvbnVzOiB0aGlzLnNldHRpbmdzLmZzcnMuZWFzeUJvbnVzLFxuICAgICAgICBoYXJkSW50ZXJ2YWw6IHRoaXMuc2V0dGluZ3MuZnNycy5oYXJkSW50ZXJ2YWwsXG4gICAgICAgIHc6IHRoaXMuc2V0dGluZ3MuZnNycy53ZWlnaHRzLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgZGF0YWJhc2VcbiAgICAgIGNvbnN0IGRhdGFiYXNlUGF0aCA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9kZWNrcy9mbGFzaGNhcmRzLmRiYDtcbiAgICAgIHRoaXMuZGIgPSBuZXcgRGF0YWJhc2VTZXJ2aWNlKFxuICAgICAgICBkYXRhYmFzZVBhdGgsXG4gICAgICAgIGFkYXB0ZXIsXG4gICAgICAgIHRoaXMuZGVidWdMb2cuYmluZCh0aGlzKSxcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLmRiLmluaXRpYWxpemUoKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBkZWNrIG1hbmFnZXJcbiAgICAgIHRoaXMuZGVja01hbmFnZXIgPSBuZXcgRGVja01hbmFnZXIoXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0LFxuICAgICAgICB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLFxuICAgICAgICB0aGlzLmRiLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcblxuICAgICAgLy8gUmVnaXN0ZXIgdGhlIHNpZGUgcGFuZWwgdmlld1xuICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0RFQ0tTLCAobGVhZikgPT4gbmV3IERlY2tzVmlldyhsZWFmLCB0aGlzKSk7XG5cbiAgICAgIC8vIFNjaGVkdWxlIGluaXRpYWwgc3luYyBhZnRlciB3b3Jrc3BhY2UgaXMgcmVhZHlcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcbiAgICAgICAgLy8gQWRkaXRpb25hbCBkZWxheSB0byBlbnN1cmUgbWV0YWRhdGEgY2FjaGUgaXMgZnVsbHkgcG9wdWxhdGVkIGFuZCBhcHAgaXMgcmVzcG9uc2l2ZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBlcmZvcm1Jbml0aWFsU3luYygpO1xuICAgICAgICB9LCA1MDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgcmliYm9uIGljb25cbiAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcImJyYWluXCIsIFwiRmxhc2hjYXJkc1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIGNvbW1hbmQgdG8gc2hvdyBmbGFzaGNhcmRzIHBhbmVsXG4gICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICBpZDogXCJzaG93LWZsYXNoY2FyZHMtcGFuZWxcIixcbiAgICAgICAgbmFtZTogXCJTaG93IEZsYXNoY2FyZHMgUGFuZWxcIixcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgZmlsZSBjaGFuZ2VzIHRvIHVwZGF0ZSBkZWNrc1xuICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICB0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwibWRcIikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlQ2hhbmdlKGZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKFwiZGVsZXRlXCIsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gXCJtZFwiKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVEZWxldGUoZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgdGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgYXN5bmMgKGZpbGUsIG9sZFBhdGgpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUuZXh0ZW5zaW9uID09PSBcIm1kXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZVJlbmFtZShmaWxlLCBvbGRQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy8gQWRkIHNldHRpbmdzIHRhYlxuICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEZWNrc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIkRlY2tzIHBsdWdpbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBEZWNrcyBwbHVnaW46XCIsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gbG9hZCBEZWNrcyBwbHVnaW4uIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIHRoaXMuZGVidWdMb2coXCJVbmxvYWRpbmcgRGVja3MgcGx1Z2luXCIpO1xuXG4gICAgLy8gQ2xvc2UgZGF0YWJhc2UgY29ubmVjdGlvblxuICAgIGlmICh0aGlzLmRiKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIGNvbnN0IGxvYWRlZERhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGxvYWRlZERhdGEpO1xuXG4gICAgLy8gRW5zdXJlIGRlYnVnIHNlY3Rpb24gZXhpc3RzIGZvciBleGlzdGluZyB1c2Vyc1xuICAgIGlmICghdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgdGhpcy5zZXR0aW5ncy5kZWJ1ZyA9IERFRkFVTFRfU0VUVElOR1MuZGVidWc7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgLy8gVXBkYXRlIEZTUlMgaW5zdGFuY2Ugd2l0aCBuZXcgc2V0dGluZ3NcbiAgICB0aGlzLmZzcnMgPSBuZXcgRlNSUyh7XG4gICAgICByZXF1ZXN0UmV0ZW50aW9uOiB0aGlzLnNldHRpbmdzLmZzcnMucmVxdWVzdFJldGVudGlvbixcbiAgICAgIG1heGltdW1JbnRlcnZhbDogdGhpcy5zZXR0aW5ncy5mc3JzLm1heGltdW1JbnRlcnZhbCxcbiAgICAgIGVhc3lCb251czogdGhpcy5zZXR0aW5ncy5mc3JzLmVhc3lCb251cyxcbiAgICAgIGhhcmRJbnRlcnZhbDogdGhpcy5zZXR0aW5ncy5mc3JzLmhhcmRJbnRlcnZhbCxcbiAgICAgIHc6IHRoaXMuc2V0dGluZ3MuZnNycy53ZWlnaHRzLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblxuICAgIGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XG4gICAgY29uc3QgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfREVDS1MpO1xuXG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBWaWV3IGFscmVhZHkgb3BlblxuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3BlbiBpbiByaWdodCBzaWRlYmFyXG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICBpZiAobGVhZikge1xuICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgdHlwZTogVklFV19UWVBFX0RFQ0tTLFxuICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXG4gICAgICAvLyBPcHRpb25hbCBiYWNrZ3JvdW5kIHN5bmMgaWYgbm8gZGVja3MgZXhpc3QgKG5vbi1ibG9ja2luZylcbiAgICAgIGNvbnN0IGRlY2tzID0gYXdhaXQgdGhpcy5kYi5nZXRBbGxEZWNrcygpO1xuICAgICAgaWYgKGRlY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFwiTm8gZGVja3MgZm91bmQsIHNjaGVkdWxpbmcgYmFja2dyb3VuZCBzeW5jLi4uXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBlcmZvcm1Jbml0aWFsU3luYygpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVGaWxlQ2hhbmdlKGZpbGU6IFRGaWxlKSB7XG4gICAgLy8gQ2hlY2sgaWYgZmlsZSBoYXMgZmxhc2hjYXJkcyB0YWdcbiAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgIHRoaXMuZGVidWdMb2coYEZpbGUgY2hhbmdlZDogJHtmaWxlLnBhdGh9LCBtZXRhZGF0YTpgLCBtZXRhZGF0YSk7XG5cbiAgICBpZiAoIW1ldGFkYXRhKSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBib3RoIGlubGluZSB0YWdzIGFuZCBmcm9udG1hdHRlciB0YWdzXG4gICAgY29uc3QgYWxsVGFnczogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAobWV0YWRhdGEudGFncykge1xuICAgICAgYWxsVGFncy5wdXNoKC4uLm1ldGFkYXRhLnRhZ3MubWFwKCh0KSA9PiB0LnRhZykpO1xuICAgIH1cbiAgICBpZiAobWV0YWRhdGEuZnJvbnRtYXR0ZXIgJiYgbWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFncykge1xuICAgICAgY29uc3QgZnJvbnRtYXR0ZXJUYWdzID0gQXJyYXkuaXNBcnJheShtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKVxuICAgICAgICA/IG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NcbiAgICAgICAgOiBbbWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFnc107XG4gICAgICBhbGxUYWdzLnB1c2goXG4gICAgICAgIC4uLmZyb250bWF0dGVyVGFncy5tYXAoKHRhZykgPT5cbiAgICAgICAgICB0YWcuc3RhcnRzV2l0aChcIiNcIikgPyB0YWcgOiBgIyR7dGFnfWAsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc0ZsYXNoY2FyZHNUYWcgPSBhbGxUYWdzLnNvbWUoKHRhZykgPT5cbiAgICAgIHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIiksXG4gICAgKTtcblxuICAgIHRoaXMuZGVidWdMb2coYEZpbGUgJHtmaWxlLnBhdGh9IGhhcyBmbGFzaGNhcmRzIHRhZzpgLCBoYXNGbGFzaGNhcmRzVGFnKTtcblxuICAgIGlmIChoYXNGbGFzaGNhcmRzVGFnKSB7XG4gICAgICAvLyBDaGVjayBpZiBkZWNrIGV4aXN0cyBmb3IgdGhpcyBmaWxlXG4gICAgICBjb25zdCBleGlzdGluZ0RlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUZpbGVwYXRoKGZpbGUucGF0aCk7XG4gICAgICBpZiAoZXhpc3RpbmdEZWNrKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBkZWNrIHRhZyBpZiBpdCBjaGFuZ2VkXG4gICAgICAgIGNvbnN0IG5ld1RhZyA9XG4gICAgICAgICAgYWxsVGFncy5maW5kKCh0YWcpID0+IHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIikpIHx8IFwiI2ZsYXNoY2FyZHNcIjtcbiAgICAgICAgaWYgKGV4aXN0aW5nRGVjay50YWcgIT09IG5ld1RhZykge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgVXBkYXRpbmcgZGVjayB0YWcgZnJvbSAke2V4aXN0aW5nRGVjay50YWd9IHRvICR7bmV3VGFnfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZURlY2soZXhpc3RpbmdEZWNrLmlkLCB7IHRhZzogbmV3VGFnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3luYyBmbGFzaGNhcmRzIGZvciB0aGlzIHNwZWNpZmljIGRlY2sgb25seVxuICAgICAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLnN5bmNGbGFzaGNhcmRzRm9yRGVjayhmaWxlLnBhdGgpO1xuXG4gICAgICAgIC8vIFJlZnJlc2ggb25seSB0aGlzIHNwZWNpZmljIGRlY2sncyBzdGF0cyAoZmFzdGVzdCBvcHRpb24pXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzQnlJZChleGlzdGluZ0RlY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOZXcgZmlsZSB3aXRoIGZsYXNoY2FyZHMgdGFnIC0gY3JlYXRlIGRlY2sgZm9yIHRoaXMgZmlsZSBvbmx5XG4gICAgICAgIGNvbnN0IG5ld1RhZyA9XG4gICAgICAgICAgYWxsVGFncy5maW5kKCh0YWcpID0+IHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIikpIHx8IFwiI2ZsYXNoY2FyZHNcIjtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5jcmVhdGVEZWNrRm9yRmlsZShmaWxlLnBhdGgsIG5ld1RhZyk7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGZpbGUucGF0aCk7XG5cbiAgICAgICAgLy8gRm9yIG5ldyBkZWNrcywgcmVmcmVzaCBhbGwgc3RhdHMgdG8gc2hvdyB0aGUgbmV3IGRlY2tcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm1Jbml0aWFsU3luYygpIHtcbiAgICBsZXQgbm90aWNlOiBOb3RpY2UgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiUGVyZm9ybWluZyBpbml0aWFsIGJhY2tncm91bmQgc3luYy4uLlwiKTtcblxuICAgICAgLy8gU2hvdyBwcm9ncmVzcyBub3RpY2UgZm9yIGxhcmdlIHN5bmNzXG4gICAgICBub3RpY2UgPSBuZXcgTm90aWNlKFwiXHVEODNEXHVERDA0IFN5bmNpbmcgZmxhc2hjYXJkcyBpbiBiYWNrZ3JvdW5kLi4uXCIsIDApO1xuXG4gICAgICAvLyBVc2UgcmVxdWVzdElkbGVDYWxsYmFjayBvciBzZXRUaW1lb3V0IHRvIGVuc3VyZSBub24tYmxvY2tpbmcgZXhlY3V0aW9uXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcblxuICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU3luYyhmYWxzZSk7XG5cbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgYEluaXRpYWwgc3luYyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsVGltZSl9YCxcbiAgICAgICk7XG5cbiAgICAgIC8vIFVwZGF0ZSBub3RpY2UgdG8gc2hvdyBjb21wbGV0aW9uXG4gICAgICBpZiAobm90aWNlKSB7XG4gICAgICAgIG5vdGljZS5zZXRNZXNzYWdlKFxuICAgICAgICAgIGBcdTI3MDUgRmxhc2hjYXJkIHN5bmMgY29tcGxldGVkICgke3RoaXMuZm9ybWF0VGltZSh0b3RhbFRpbWUpfSlgLFxuICAgICAgICApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGljZT8uaGlkZSgpLCAzMDAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIHN5bmM6XCIsIGVycm9yKTtcblxuICAgICAgLy8gU2hvdyBlcnJvciBub3RpY2VcbiAgICAgIGlmIChub3RpY2UpIHtcbiAgICAgICAgbm90aWNlLnNldE1lc3NhZ2UoXCJcdTI2QTBcdUZFMEYgRmxhc2hjYXJkIHN5bmMgZmFpbGVkIC0gY2hlY2sgY29uc29sZVwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBub3RpY2U/LmhpZGUoKSwgNTAwMCk7XG4gICAgICB9XG4gICAgICAvLyBEb24ndCB0aHJvdyAtIGxldCB0aGUgYXBwIGNvbnRpbnVlIHdvcmtpbmcgZXZlbiBpZiBpbml0aWFsIHN5bmMgZmFpbHNcbiAgICB9XG4gIH1cblxuICBhc3luYyBwZXJmb3JtU3luYyhmb3JjZVN5bmM6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmlzU3luY2luZykge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlN5bmMgYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcuLi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1N5bmNpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHN5bmNTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIC8vIFNob3cgcHJvZ3Jlc3Mgbm90aWNlIGZvciBmb3JjZSByZWZyZXNoXG4gICAgaWYgKGZvcmNlU3luYykge1xuICAgICAgdGhpcy5zaG93UHJvZ3Jlc3NOb3RpY2UoXG4gICAgICAgIFwiXHVEODNEXHVERDA0IEZvcmNlIHJlZnJlc2hpbmcgZmxhc2hjYXJkcy4uLlxcblwiICsgdGhpcy5jcmVhdGVQcm9ncmVzc0JhcigwKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBQZXJmb3JtaW5nICR7Zm9yY2VTeW5jID8gXCJmb3JjZWQgXCIgOiBcIlwifXN5bmMgb2YgZGVja3MgYW5kIGZsYXNoY2FyZHMuLi5gLFxuICAgICAgKTtcblxuICAgICAgLy8gTWV0YWRhdGEgY2FjaGUgc2hvdWxkIGJlIHJlYWR5IGJ5IG5vd1xuXG4gICAgICAvLyBGaXJzdCBzeW5jIGFsbCBkZWNrc1xuICAgICAgaWYgKGZvcmNlU3luYykgdGhpcy51cGRhdGVQcm9ncmVzcyhcIlx1RDgzRFx1REQwRCBEaXNjb3ZlcmluZyBkZWNrcy4uLlwiLCAxMCk7XG4gICAgICBjb25zdCBkZWNrc1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRGVja3MoKTtcbiAgICAgIGNvbnN0IGRlY2tzVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZGVja3NTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRGVjayBkaXNjb3ZlcnkgY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKGRlY2tzVGltZSl9YCxcbiAgICAgICk7XG5cbiAgICAgIC8vIFRoZW4gc3luYyBmbGFzaGNhcmRzIGZvciBlYWNoIGRlY2tcbiAgICAgIGNvbnN0IGRlY2tzID0gYXdhaXQgdGhpcy5kYi5nZXRBbGxEZWNrcygpO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgYEZvdW5kICR7ZGVja3MubGVuZ3RofSBkZWNrcyBhZnRlciBzeW5jOmAsXG4gICAgICAgIGRlY2tzLm1hcCgoZCkgPT4gZC5uYW1lKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChmb3JjZVN5bmMpXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoYFx1RDgzRFx1RENEQSBQcm9jZXNzaW5nICR7ZGVja3MubGVuZ3RofSBkZWNrcy4uLmAsIDIwKTtcblxuICAgICAgbGV0IHRvdGFsRmxhc2hjYXJkcyA9IDA7XG4gICAgICBjb25zdCBmbGFzaGNhcmRTeW5jU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIC8vIFByb2Nlc3MgZGVja3MgaW4gY2h1bmtzIHRvIGF2b2lkIGJsb2NraW5nIHRoZSBVSVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNrID0gZGVja3NbaV07XG4gICAgICAgIGNvbnN0IGRlY2tTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgZm9yIGZvcmNlIHJlZnJlc2hcbiAgICAgICAgaWYgKGZvcmNlU3luYykge1xuICAgICAgICAgIGNvbnN0IGRlY2tQcm9ncmVzcyA9IDIwICsgKGkgLyBkZWNrcy5sZW5ndGgpICogNzA7XG4gICAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyhcbiAgICAgICAgICAgIGBcdUQ4M0RcdURDQzQgUHJvY2Vzc2luZyBkZWNrOiAke2RlY2submFtZX0gKCR7aSArIDF9LyR7ZGVja3MubGVuZ3RofSlgLFxuICAgICAgICAgICAgZGVja1Byb2dyZXNzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgIGAke2ZvcmNlU3luYyA/IFwiRm9yY2Ugc1wiIDogXCJTXCJ9eW5jaW5nIGZsYXNoY2FyZHMgZm9yIGRlY2s6ICR7ZGVjay5uYW1lfSAoJHtkZWNrLmZpbGVwYXRofSlgLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLnN5bmNGbGFzaGNhcmRzRm9yRGVjayhkZWNrLmZpbGVwYXRoLCBmb3JjZVN5bmMpO1xuXG4gICAgICAgIC8vIENoZWNrIGhvdyBtYW55IGZsYXNoY2FyZHMgd2VyZSBjcmVhdGVkXG4gICAgICAgIGNvbnN0IGZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVjay5pZCk7XG4gICAgICAgIGNvbnN0IGRlY2tUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBkZWNrU3RhcnRUaW1lO1xuICAgICAgICB0b3RhbEZsYXNoY2FyZHMgKz0gZmxhc2hjYXJkcy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgICBgRGVjayAke2RlY2submFtZX0gcHJvY2Vzc2VkIGluICR7dGhpcy5mb3JtYXRUaW1lKGRlY2tUaW1lKX0gLSAke2ZsYXNoY2FyZHMubGVuZ3RofSBmbGFzaGNhcmRzYCxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBZaWVsZCBjb250cm9sIGV2ZXJ5IDUgZGVja3MgdG8ga2VlcCBVSSByZXNwb25zaXZlXG4gICAgICAgIGlmIChpICUgNSA9PT0gNCkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZvcmNlU3luYykgdGhpcy51cGRhdGVQcm9ncmVzcyhcIlx1MjcwNSBGaW5hbGl6aW5nIHN5bmMuLi5cIiwgOTUpO1xuXG4gICAgICBjb25zdCBmbGFzaGNhcmRTeW5jVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZmxhc2hjYXJkU3luY1N0YXJ0VGltZTtcbiAgICAgIGNvbnN0IHRvdGFsU3luY1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN5bmNTdGFydFRpbWU7XG5cbiAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgIGBGbGFzaGNhcmQgcHJvY2Vzc2luZyBjb21wbGV0ZWQgaW4gJHt0aGlzLmZvcm1hdFRpbWUoZmxhc2hjYXJkU3luY1RpbWUpfWAsXG4gICAgICApO1xuICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgYFRvdGFsIHN5bmMgY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsU3luY1RpbWUpfSAtICR7dG90YWxGbGFzaGNhcmRzfSBmbGFzaGNhcmRzIGFjcm9zcyAke2RlY2tzLmxlbmd0aH0gZGVja3NgLFxuICAgICAgKTtcblxuICAgICAgLy8gUGVyZm9ybWFuY2Ugc3VtbWFyeVxuICAgICAgaWYgKGRlY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYXZnRGVja1RpbWUgPSBmbGFzaGNhcmRTeW5jVGltZSAvIGRlY2tzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYXZnRmxhc2hjYXJkVGltZSA9XG4gICAgICAgICAgdG90YWxGbGFzaGNhcmRzID4gMCA/IGZsYXNoY2FyZFN5bmNUaW1lIC8gdG90YWxGbGFzaGNhcmRzIDogMDtcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgICBgUGVyZm9ybWFuY2U6ICR7dGhpcy5mb3JtYXRUaW1lKGF2Z0RlY2tUaW1lKX0vZGVjaywgJHt0aGlzLmZvcm1hdFRpbWUoYXZnRmxhc2hjYXJkVGltZSl9L2ZsYXNoY2FyZGAsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JjZVN5bmMpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyhcbiAgICAgICAgICBgXHUyNzA1IFN5bmMgY29tcGxldGUhIFByb2Nlc3NlZCAke3RvdGFsRmxhc2hjYXJkc30gZmxhc2hjYXJkcyBhY3Jvc3MgJHtkZWNrcy5sZW5ndGh9IGRlY2tzIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsU3luY1RpbWUpfWAsXG4gICAgICAgICAgMTAwLFxuICAgICAgICApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGlkZVByb2dyZXNzTm90aWNlKCksIDMwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHN5bmM6XCIsIGVycm9yKTtcbiAgICAgIGlmIChmb3JjZVN5bmMpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyhcIlx1Mjc0QyBTeW5jIGZhaWxlZCAtIGNoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHNcIiwgMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5oaWRlUHJvZ3Jlc3NOb3RpY2UoKSwgNTAwMCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc1N5bmNpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVGaWxlRGVsZXRlKGZpbGU6IFRGaWxlKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBkZWNrIGFuZCBhbGwgYXNzb2NpYXRlZCBmbGFzaGNhcmRzL3JldmlldyBsb2dzXG4gICAgYXdhaXQgdGhpcy5kYi5kZWxldGVEZWNrQnlGaWxlcGF0aChmaWxlLnBhdGgpO1xuXG4gICAgaWYgKHRoaXMudmlldykge1xuICAgICAgLy8gSnVzdCByZWZyZXNoIHN0YXRzIHRvIHJlbW92ZSBkZWxldGVkIGRlY2sgZnJvbSBVSSAobXVjaCBmYXN0ZXIgdGhhbiBmdWxsIHN5bmMpXG4gICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlRmlsZVJlbmFtZShmaWxlOiBURmlsZSwgb2xkUGF0aDogc3RyaW5nKSB7XG4gICAgLy8gSGFuZGxlIGRlY2sgSUQgcmVnZW5lcmF0aW9uIGZvciByZW5hbWVkIGZpbGVzXG4gICAgY29uc3Qgb2xkRGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5RmlsZXBhdGgob2xkUGF0aCk7XG4gICAgaWYgKG9sZERlY2spIHtcbiAgICAgIGNvbnN0IG9sZERlY2tJZCA9IG9sZERlY2suaWQ7XG4gICAgICBjb25zdCBuZXdEZWNrSWQgPSB0aGlzLmRlY2tNYW5hZ2VyLmdlbmVyYXRlRGVja0lkKGZpbGUucGF0aCk7XG5cbiAgICAgIHRoaXMuZGVidWdMb2coYEZpbGUgcmVuYW1lZCBmcm9tICR7b2xkUGF0aH0gdG8gJHtmaWxlLnBhdGh9YCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBVcGRhdGluZyBkZWNrIElEIGZyb20gJHtvbGREZWNrSWR9IHRvICR7bmV3RGVja0lkfWApO1xuXG4gICAgICAvLyBVcGRhdGUgZGVjayB3aXRoIG5ldyBJRCwgbmFtZSwgYW5kIGZpbGVwYXRoXG4gICAgICBhd2FpdCB0aGlzLmRiLnJlbmFtZURlY2sob2xkRGVja0lkLCBuZXdEZWNrSWQsIGZpbGUuYmFzZW5hbWUsIGZpbGUucGF0aCk7XG5cbiAgICAgIC8vIFVwZGF0ZSBhbGwgZmxhc2hjYXJkIGRlY2sgSURzXG4gICAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLnVwZGF0ZUZsYXNoY2FyZERlY2tJZHMob2xkRGVja0lkLCBuZXdEZWNrSWQpO1xuXG4gICAgICAvLyBSZWZyZXNoIHZpZXcgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBzeW5jRGVja3MoKSB7XG4gICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRGVja3MoKTtcbiAgfVxuXG4gIGFzeW5jIHN5bmNGbGFzaGNhcmRzRm9yRGVjayhkZWNrTmFtZTogc3RyaW5nKSB7XG4gICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRmxhc2hjYXJkc0ZvckRlY2tCeU5hbWUoZGVja05hbWUpO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3Q291bnRzKGRheXM6IG51bWJlciA9IDM2NSk6IFByb21pc2U8TWFwPHN0cmluZywgbnVtYmVyPj4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldFJldmlld0NvdW50c0J5RGF0ZShkYXlzKTtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tzKCk6IFByb21pc2U8RGVja1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja3MoKTtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tTdGF0cygpOiBQcm9taXNlPE1hcDxzdHJpbmcsIERlY2tTdGF0cz4+IHtcbiAgICBjb25zdCBoZWFkZXJMZXZlbCA9IHRoaXMuc2V0dGluZ3M/LnBhcnNpbmc/LmhlYWRlckxldmVsO1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5kYi5nZXRBbGxEZWNrU3RhdHNGaWx0ZXJlZChoZWFkZXJMZXZlbCk7XG4gICAgY29uc3Qgc3RhdHNNYXAgPSBuZXcgTWFwPHN0cmluZywgRGVja1N0YXRzPigpO1xuXG4gICAgZm9yIChjb25zdCBzdGF0IG9mIHN0YXRzKSB7XG4gICAgICBzdGF0c01hcC5zZXQoc3RhdC5kZWNrSWQsIHN0YXQpO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0c01hcDtcbiAgfVxuXG4gIGFzeW5jIGdldER1ZUZsYXNoY2FyZHMoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0RHVlRmxhc2hjYXJkcyhkZWNrSWQpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Rmxhc2hjYXJkc0J5RGVjayhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBjb25zdCBoZWFkZXJMZXZlbCA9IHRoaXMuc2V0dGluZ3M/LnBhcnNpbmc/LmhlYWRlckxldmVsO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2tGaWx0ZXJlZChkZWNrSWQsIGhlYWRlckxldmVsKTtcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld2FibGVGbGFzaGNhcmRzKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIGNvbnN0IGhlYWRlckxldmVsID0gdGhpcy5zZXR0aW5ncz8ucGFyc2luZz8uaGVhZGVyTGV2ZWw7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHNGaWx0ZXJlZChkZWNrSWQsIGhlYWRlckxldmVsKTtcbiAgfVxuXG4gIGFzeW5jIGdldERhaWx5UmV2aWV3Q291bnRzKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHsgbmV3Q291bnQ6IG51bWJlcjsgcmV2aWV3Q291bnQ6IG51bWJlciB9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVja0lkKTtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tTdGF0c0J5SWQoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPERlY2tTdGF0cz4ge1xuICAgIGNvbnN0IGhlYWRlckxldmVsID0gdGhpcy5zZXR0aW5ncz8ucGFyc2luZz8uaGVhZGVyTGV2ZWw7XG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tTdGF0c0ZpbHRlcmVkKGRlY2tJZCwgaGVhZGVyTGV2ZWwpO1xuICAgIHJldHVybiB7XG4gICAgICBkZWNrSWQsXG4gICAgICAuLi5zdGF0cyxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVja0NvbmZpZyhkZWNrSWQ6IHN0cmluZywgY29uZmlnOiBEZWNrQ29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5kYi51cGRhdGVEZWNrKGRlY2tJZCwgeyBjb25maWcgfSk7XG5cbiAgICAvLyBSZWZyZXNoIHN0YXRzIGZvciB0aGlzIGRlY2sgc2luY2UgY29uZmlnIGNoYW5nZXMgY2FuIGFmZmVjdCBkaXNwbGF5ZWQgc3RhdHNcbiAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzQnlJZChkZWNrSWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJldmlld0ZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5LFxuICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBVcGRhdGUgZmxhc2hjYXJkIHdpdGggbmV3IHNjaGVkdWxpbmdcbiAgICBjb25zdCB1cGRhdGVkQ2FyZCA9IHRoaXMuZnNycy51cGRhdGVDYXJkKGZsYXNoY2FyZCwgZGlmZmljdWx0eSk7XG5cbiAgICAvLyBTYXZlIHRvIGRhdGFiYXNlXG4gICAgYXdhaXQgdGhpcy5kYi51cGRhdGVGbGFzaGNhcmQodXBkYXRlZENhcmQuaWQsIHtcbiAgICAgIHN0YXRlOiB1cGRhdGVkQ2FyZC5zdGF0ZSxcbiAgICAgIGR1ZURhdGU6IHVwZGF0ZWRDYXJkLmR1ZURhdGUsXG4gICAgICBpbnRlcnZhbDogdXBkYXRlZENhcmQuaW50ZXJ2YWwsXG4gICAgICByZXBldGl0aW9uczogdXBkYXRlZENhcmQucmVwZXRpdGlvbnMsXG4gICAgICBlYXNlRmFjdG9yOiB1cGRhdGVkQ2FyZC5lYXNlRmFjdG9yLFxuICAgICAgc3RhYmlsaXR5OiB1cGRhdGVkQ2FyZC5zdGFiaWxpdHksXG4gICAgICBsYXBzZXM6IHVwZGF0ZWRDYXJkLmxhcHNlcyxcbiAgICAgIGxhc3RSZXZpZXdlZDogdXBkYXRlZENhcmQubGFzdFJldmlld2VkLFxuICAgIH0pO1xuXG4gICAgLy8gTG9nIHRoZSByZXZpZXdcbiAgICBhd2FpdCB0aGlzLmRiLmNyZWF0ZVJldmlld0xvZyh7XG4gICAgICBmbGFzaGNhcmRJZDogZmxhc2hjYXJkLmlkLFxuICAgICAgcmV2aWV3ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgZGlmZmljdWx0eSxcbiAgICAgIG9sZEludGVydmFsOiBmbGFzaGNhcmQuaW50ZXJ2YWwsXG4gICAgICBuZXdJbnRlcnZhbDogdXBkYXRlZENhcmQuaW50ZXJ2YWwsXG4gICAgICBvbGRFYXNlRmFjdG9yOiBmbGFzaGNhcmQuZWFzZUZhY3RvcixcbiAgICAgIG5ld0Vhc2VGYWN0b3I6IHVwZGF0ZWRDYXJkLmVhc2VGYWN0b3IsXG4gICAgICB0aW1lRWxhcHNlZDogdGltZUVsYXBzZWQgPz8gMCxcbiAgICAgIG5ld1N0YXRlOiB1cGRhdGVkQ2FyZC5zdGF0ZSxcbiAgICAgIG5ld1JlcGV0aXRpb25zOiB1cGRhdGVkQ2FyZC5yZXBldGl0aW9ucyxcbiAgICAgIG5ld0xhcHNlczogdXBkYXRlZENhcmQubGFwc2VzLFxuICAgICAgbmV3U3RhYmlsaXR5OiB1cGRhdGVkQ2FyZC5zdGFiaWxpdHksXG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgZGVjayBsYXN0IHJldmlld2VkXG4gICAgYXdhaXQgdGhpcy5kYi51cGRhdGVEZWNrTGFzdFJldmlld2VkKGZsYXNoY2FyZC5kZWNrSWQpO1xuXG4gICAgLy8gUmVmcmVzaCBzdGF0cyBmb3IgdGhpcyBzcGVjaWZpYyBkZWNrIGlmIHZpZXcgZXhpc3RzXG4gICAgaWYgKHRoaXMudmlldykge1xuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0c0J5SWQoZmxhc2hjYXJkLmRlY2tJZCk7XG4gICAgICAvLyBBbHNvIHJlZnJlc2ggaGVhdG1hcCBzaW5jZSBhIG5ldyByZXZpZXcgd2FzIGNvbXBsZXRlZFxuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hIZWF0bWFwKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0T3ZlcmFsbFN0YXRpc3RpY3MoXG4gICAgZGVja0ZpbHRlcjogc3RyaW5nID0gXCJhbGxcIixcbiAgICB0aW1lZnJhbWU6IHN0cmluZyA9IFwiMTJtb250aHNcIixcbiAgKTogUHJvbWlzZTxTdGF0aXN0aWNzPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0T3ZlcmFsbFN0YXRpc3RpY3MoZGVja0ZpbHRlciwgdGltZWZyYW1lKTtcbiAgfVxuXG4gIG9wZW5TdGF0aXN0aWNzTW9kYWwoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgU3RhdGlzdGljc01vZGFsKHRoaXMpO1xuICAgIG1vZGFsLm9wZW4oKTtcbiAgfVxuXG4gIHJlbmRlck1hcmtkb3duKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudCgpO1xuICAgIGNvbXBvbmVudC5sb2FkKCk7XG4gICAgTWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bihjb250ZW50LCBlbCwgXCJcIiwgY29tcG9uZW50KTtcbiAgICAvLyBSZXR1cm4gY29tcG9uZW50IGZvciBjYWxsZXIgdG8gbWFuYWdlXG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgfVxufVxuXG5jbGFzcyBEZWNrc1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IERlY2tMaXN0UGFuZWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZG93bkNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG4gIHByaXZhdGUgc3RhdHNSZWZyZXNoVGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogRGVja3NQbHVnaW4pIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAvLyBTZXQgcmVmZXJlbmNlIGluIHBsdWdpbiBzbyB3ZSBjYW4gYWNjZXNzIHRoaXMgdmlldyBpbnN0YW5jZVxuICAgIHRoaXMucGx1Z2luLnZpZXcgPSB0aGlzO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gVklFV19UWVBFX0RFQ0tTO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJEZWNrc1wiO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImJyYWluXCI7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJkZWNrcy12aWV3XCIpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBtb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgRGVja0xpc3RQYW5lbCh7XG4gICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIG9uRGVja0NsaWNrOiAoZGVjazogRGVjaykgPT4gdGhpcy5zdGFydFJldmlldyhkZWNrKSxcbiAgICAgICAgb25SZWZyZXNoOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uZGVidWdMb2coXCJvblJlZnJlc2ggY2FsbGJhY2sgaW52b2tlZFwiKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2godHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJldmlld0NvdW50czogYXN5bmMgKGRheXM6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBsdWdpbi5nZXRSZXZpZXdDb3VudHMoZGF5cyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlRGVja0NvbmZpZzogYXN5bmMgKGRlY2tJZDogc3RyaW5nLCBjb25maWc6IERlY2tDb25maWcpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEZWNrQ29uZmlnKGRlY2tJZCwgY29uZmlnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25PcGVuU3RhdGlzdGljczogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLm9wZW5TdGF0aXN0aWNzTW9kYWwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGx1Z2luOiB0aGlzLnBsdWdpbixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBJbml0aWFsIHJlZnJlc2hcbiAgICBhd2FpdCB0aGlzLnJlZnJlc2godHJ1ZSk7XG5cbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIHJlZnJlc2ggam9iIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpIHtcbiAgICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIHRpbWVvdXRzXG4gICAgaWYgKHRoaXMuc3RhdHNSZWZyZXNoVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdHNSZWZyZXNoVGltZW91dCk7XG4gICAgICB0aGlzLnN0YXRzUmVmcmVzaFRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIGJhY2tncm91bmQgcmVmcmVzaFxuICAgIHRoaXMuc3RvcEJhY2tncm91bmRSZWZyZXNoKCk7XG5cbiAgICAvLyBDbGVhbiB1cCBtYXJrZG93biBjb21wb25lbnRzXG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4gY29tcC51bmxvYWQoKSk7XG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMgPSBbXTtcblxuICAgIC8vIENsZWFyIHJlZmVyZW5jZSBpbiBwbHVnaW5cbiAgICBpZiAodGhpcy5wbHVnaW4udmlldyA9PT0gdGhpcykge1xuICAgICAgdGhpcy5wbHVnaW4udmlldyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlKHVwZGF0ZWREZWNrczogRGVja1tdLCBkZWNrU3RhdHM6IE1hcDxzdHJpbmcsIERlY2tTdGF0cz4pIHtcbiAgICB0aGlzLmNvbXBvbmVudD8udXBkYXRlRGVja3ModXBkYXRlZERlY2tzKTtcbiAgICB0aGlzLmNvbXBvbmVudD8udXBkYXRlU3RhdHMoZGVja1N0YXRzKTtcbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2goZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFwiRGVja3NWaWV3LnJlZnJlc2goKSBjYWxsZWRcIik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFBlcmZvcm0gc3luYyB3aXRoIGZvcmNlIHBhcmFtZXRlclxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4ucGVyZm9ybVN5bmMoZm9yY2UpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHZpZXcgd2l0aCByZWZyZXNoZWQgZGF0YVxuICAgICAgY29uc3QgdXBkYXRlZERlY2tzID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0RGVja3MoKTtcbiAgICAgIGNvbnN0IGRlY2tTdGF0cyA9IGF3YWl0IHRoaXMucGx1Z2luLmdldERlY2tTdGF0cygpO1xuICAgICAgdGhpcy51cGRhdGUodXBkYXRlZERlY2tzLCBkZWNrU3RhdHMpO1xuXG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhcIlJlZnJlc2ggY29tcGxldGVcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIGRlY2tzOlwiLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKFwiRXJyb3IgcmVmcmVzaGluZyBkZWNrcy4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5cIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVmcmVzaFN0YXRzKCkge1xuICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFwiRGVja3NWaWV3LnJlZnJlc2hTdGF0cygpIGV4ZWN1dGluZ1wiKTtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVwZGF0ZWQgc3RhdHMgb25seSAoZmFzdGVyIHRoYW4gZnVsbCByZWZyZXNoKVxuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0RGVja1N0YXRzKCk7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhcIlVwZGF0ZWQgZGVjayBzdGF0czpcIiwgZGVja1N0YXRzKTtcblxuICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudCB3aXRoIG5ldyBzdGF0cyAtIHNhbWUgcGF0dGVybiBhcyByZWZyZXNoKClcbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC51cGRhdGVTdGF0cyhkZWNrU3RhdHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVmcmVzaGluZyBkZWNrIHN0YXRzOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVmcmVzaFN0YXRzQnlJZChkZWNrSWQ6IHN0cmluZykge1xuICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFxuICAgICAgYERlY2tzVmlldy5yZWZyZXNoU3RhdHNCeUlkKCkgZXhlY3V0aW5nIGZvciBkZWNrOiAke2RlY2tJZH1gLFxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgc3RhdHMgKHNhbWUgYXMgcmVmcmVzaCgpIG1ldGhvZCBmb3IgY29uc2lzdGVuY3kpXG4gICAgICBjb25zdCBkZWNrU3RhdHMgPSBhd2FpdCB0aGlzLnBsdWdpbi5nZXREZWNrU3RhdHNCeUlkKGRlY2tJZCk7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhcIlVwZGF0ZWQgYWxsIGRlY2sgc3RhdHNcIik7XG5cbiAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnQgdXNpbmcgc2FtZSBwYXR0ZXJuIGFzIHJlZnJlc2goKVxuICAgICAgaWYgKHRoaXMuY29tcG9uZW50ICYmIGRlY2tTdGF0cykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC51cGRhdGVTdGF0c0J5SWQoZGVja0lkLCBkZWNrU3RhdHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWZyZXNoaW5nIHN0YXRzIGZvciBkZWNrICR7ZGVja0lkfTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICAvLyBEb24ndCBzdGFydCBpZiBiYWNrZ3JvdW5kIHJlZnJlc2ggaXMgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGludGVydmFsXG4gICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2goKTtcblxuICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFxuICAgICAgYFN0YXJ0aW5nIGJhY2tncm91bmQgcmVmcmVzaCBqb2IgKGV2ZXJ5ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MudWkuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbH0gc2Vjb25kcylgLFxuICAgICk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5wbHVnaW4uZGVidWdMb2coXCJCYWNrZ3JvdW5kIHJlZnJlc2ggdGlja1wiKTtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH0sIHRoaXMucGx1Z2luLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgKiAxMDAwKTtcbiAgfVxuXG4gIHN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICBpZiAodGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsKSB7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhcIlN0b3BwaW5nIGJhY2tncm91bmQgcmVmcmVzaCBqb2JcIik7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICB0aGlzLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICB0aGlzLnN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51aS5lbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCkge1xuICAgICAgdGhpcy5zdGFydEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVmcmVzaEhlYXRtYXAoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICBhd2FpdCB0aGlzLmNvbXBvbmVudC5yZWZyZXNoSGVhdG1hcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRlc3QgbWV0aG9kIHRvIGNoZWNrIGlmIGJhY2tncm91bmQgam9iIGlzIHJ1bm5pbmdcbiAgY2hlY2tCYWNrZ3JvdW5kSm9iU3RhdHVzKCkge1xuICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFwiQmFja2dyb3VuZCBqb2Igc3RhdHVzOlwiLCB7XG4gICAgICBpc1J1bm5pbmc6ICEhdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgICAgaW50ZXJ2YWxJZDogdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgICAgY29tcG9uZW50RXhpc3RzOiAhIXRoaXMuY29tcG9uZW50LFxuICAgICAgcmVmcmVzaEludGVydmFsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy51aS5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgIH0pO1xuICAgIHJldHVybiAhIXRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbDtcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0UmV2aWV3KGRlY2s6IERlY2spIHtcbiAgICB0cnkge1xuICAgICAgLy8gRmlyc3Qgc3luYyBmbGFzaGNhcmRzIGZvciB0aGlzIHNwZWNpZmljIGRlY2tcbiAgICAgIHRoaXMucGx1Z2luLmRlYnVnTG9nKFxuICAgICAgICBgU3luY2luZyBjYXJkcyBmb3IgZGVjayBiZWZvcmUgcmV2aWV3OiAke2RlY2submFtZX1gLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnN5bmNGbGFzaGNhcmRzRm9yRGVjayhkZWNrLm5hbWUpO1xuXG4gICAgICAvLyBHZXQgZGFpbHkgcmV2aWV3IGNvdW50cyB0byBzaG93IHJlbWFpbmluZyBhbGxvd2FuY2VcbiAgICAgIGNvbnN0IGRhaWx5Q291bnRzID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVjay5pZCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgZGFpbHkgYWxsb3dhbmNlXG4gICAgICBjb25zdCBjb25maWcgPSBkZWNrLmNvbmZpZztcbiAgICAgIGNvbnN0IHJlbWFpbmluZ05ldyA9IGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0XG4gICAgICAgID8gTWF0aC5tYXgoMCwgY29uZmlnLm5ld0NhcmRzTGltaXQgLSBkYWlseUNvdW50cy5uZXdDb3VudClcbiAgICAgICAgOiBcInVubGltaXRlZFwiO1xuICAgICAgY29uc3QgcmVtYWluaW5nUmV2aWV3ID0gY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXRcbiAgICAgICAgPyBNYXRoLm1heCgwLCBjb25maWcucmV2aWV3Q2FyZHNMaW1pdCAtIGRhaWx5Q291bnRzLnJldmlld0NvdW50KVxuICAgICAgICA6IFwidW5saW1pdGVkXCI7XG5cbiAgICAgIC8vIEdldCBhbGwgZmxhc2hjYXJkcyB0aGF0IGFyZSBkdWUgZm9yIHJldmlldyAocmVzcGVjdGluZyBkYWlseSBsaW1pdHMpXG4gICAgICBjb25zdCBmbGFzaGNhcmRzID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHMoZGVjay5pZCk7XG5cbiAgICAgIGlmIChmbGFzaGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGBObyBjYXJkcyBkdWUgZm9yIHJldmlldyBpbiAke2RlY2submFtZX1gO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGxpbWl0cyBhcmUgdGhlIHJlYXNvbiBubyBjYXJkcyBhcmUgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IG5ld0xpbWl0UmVhY2hlZCA9XG4gICAgICAgICAgY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgJiYgcmVtYWluaW5nTmV3ID09PSAwO1xuICAgICAgICBjb25zdCByZXZpZXdMaW1pdFJlYWNoZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmIHJlbWFpbmluZ1JldmlldyA9PT0gMDtcblxuICAgICAgICBpZiAobmV3TGltaXRSZWFjaGVkICYmIHJldmlld0xpbWl0UmVhY2hlZCkge1xuICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcblxcbkRhaWx5IGxpbWl0cyByZWFjaGVkOmA7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuTmV3IGNhcmRzOiAke2NvbmZpZy5uZXdDYXJkc0xpbWl0fS8ke2NvbmZpZy5uZXdDYXJkc0xpbWl0fWA7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuUmV2aWV3IGNhcmRzOiAke2NvbmZpZy5yZXZpZXdDYXJkc0xpbWl0fS8ke2NvbmZpZy5yZXZpZXdDYXJkc0xpbWl0fWA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3TGltaXRSZWFjaGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuXFxuRGFpbHkgbmV3IGNhcmRzIGxpbWl0IHJlYWNoZWQ6ICR7Y29uZmlnLm5ld0NhcmRzTGltaXR9LyR7Y29uZmlnLm5ld0NhcmRzTGltaXR9YDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXZpZXdMaW1pdFJlYWNoZWQpIHtcbiAgICAgICAgICBtZXNzYWdlICs9IGBcXG5cXG5EYWlseSByZXZpZXcgY2FyZHMgbGltaXQgcmVhY2hlZDogJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH0vJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3IE5vdGljZShtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IGRhaWx5IGxpbWl0IGluZm8gYmVmb3JlIHN0YXJ0aW5nIHJldmlldyBpZiBsaW1pdHMgYXJlIGFjdGl2ZVxuICAgICAgaWYgKGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0IHx8IGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0KSB7XG4gICAgICAgIGxldCBsaW1pdEluZm8gPSBgRGFpbHkgcHJvZ3Jlc3MgZm9yICR7ZGVjay5uYW1lfTpcXG5gO1xuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQpIHtcbiAgICAgICAgICBpZiAoZGFpbHlDb3VudHMubmV3Q291bnQgPj0gY29uZmlnLm5ld0NhcmRzTGltaXQpIHtcbiAgICAgICAgICAgIGxpbWl0SW5mbyArPSBgTmV3IGNhcmRzOiAke2RhaWx5Q291bnRzLm5ld0NvdW50fS8ke2NvbmZpZy5uZXdDYXJkc0xpbWl0fSAoTElNSVQgRVhDRUVERUQpXFxuYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBOZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMubmV3Q291bnR9LyR7Y29uZmlnLm5ld0NhcmRzTGltaXR9ICgke3JlbWFpbmluZ05ld30gcmVtYWluaW5nKVxcbmA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCkge1xuICAgICAgICAgIGlmIChkYWlseUNvdW50cy5yZXZpZXdDb3VudCA+PSBjb25maWcucmV2aWV3Q2FyZHNMaW1pdCkge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBSZXZpZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMucmV2aWV3Q291bnR9LyR7Y29uZmlnLnJldmlld0NhcmRzTGltaXR9IChMSU1JVCBFWENFRURFRClgO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW1pdEluZm8gKz0gYFJldmlldyBjYXJkczogJHtkYWlseUNvdW50cy5yZXZpZXdDb3VudH0vJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH0gKCR7cmVtYWluaW5nUmV2aWV3fSByZW1haW5pbmcpYDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZXhwbGFuYXRpb24gd2hlbiBsaW1pdHMgYXJlIGV4Y2VlZGVkIGJ1dCBsZWFybmluZyBjYXJkcyBhcmUgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IG5ld0xpbWl0RXhjZWVkZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ICYmXG4gICAgICAgICAgZGFpbHlDb3VudHMubmV3Q291bnQgPj0gY29uZmlnLm5ld0NhcmRzTGltaXQ7XG4gICAgICAgIGNvbnN0IHJldmlld0xpbWl0RXhjZWVkZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmXG4gICAgICAgICAgZGFpbHlDb3VudHMucmV2aWV3Q291bnQgPj0gY29uZmlnLnJldmlld0NhcmRzTGltaXQ7XG5cbiAgICAgICAgaWYgKG5ld0xpbWl0RXhjZWVkZWQgfHwgcmV2aWV3TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgIGxpbWl0SW5mbyArPSBgXFxuXFxuTm90ZTogT25seSBsZWFybmluZyBjYXJkcyB3aWxsIGJlIHNob3duIChsaW1pdHMgZXhjZWVkZWQpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ldyBOb3RpY2UobGltaXRJbmZvLCA1MDAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3BlbiByZXZpZXcgbW9kYWxcbiAgICAgIG5ldyBGbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXIoXG4gICAgICAgIHRoaXMuYXBwLFxuICAgICAgICB0aGlzLnBsdWdpbixcbiAgICAgICAgZGVjayxcbiAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICkub3BlbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc3RhcnRpbmcgcmV2aWV3OlwiLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKFwiRXJyb3Igc3RhcnRpbmcgcmV2aWV3LiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgaW5pdFNxbEpzLCB7IERhdGFiYXNlLCBTcWxKc1N0YXRpYyB9IGZyb20gXCJzcWwuanNcIjtcbmltcG9ydCB7IERhdGFBZGFwdGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1xuICBEZWNrLFxuICBGbGFzaGNhcmQsXG4gIFJldmlld0xvZyxcbiAgRGVja1N0YXRzLFxuICBERUZBVUxUX0RFQ0tfQ09ORklHLFxuICBTdGF0aXN0aWNzLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBTUUw6IFNxbEpzU3RhdGljIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZGJQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgYWRhcHRlcjogRGF0YUFkYXB0ZXI7XG4gIHByaXZhdGUgZGVidWdMb2c6IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRiUGF0aDogc3RyaW5nLFxuICAgIGFkYXB0ZXI6IERhdGFBZGFwdGVyLFxuICAgIGRlYnVnTG9nOiAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgKSB7XG4gICAgdGhpcy5kYlBhdGggPSBkYlBhdGg7XG4gICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICB0aGlzLmRlYnVnTG9nID0gZGVidWdMb2c7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBJbml0aWFsaXplIHNxbC5qc1xuICAgICAgdGhpcy5TUUwgPSBhd2FpdCBpbml0U3FsSnMoe1xuICAgICAgICBsb2NhdGVGaWxlOiAoZmlsZSkgPT4gYGh0dHBzOi8vc3FsLmpzLm9yZy9kaXN0LyR7ZmlsZX1gLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyeSB0byBsb2FkIGV4aXN0aW5nIGRhdGFiYXNlIG9yIGNyZWF0ZSBuZXcgb25lXG4gICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCB0aGlzLmxvYWREYXRhYmFzZUZpbGUoKTtcbiAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgdGhpcy5kYiA9IG5ldyB0aGlzLlNRTC5EYXRhYmFzZShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlU2NoZW1hSWZOZWVkZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGIgPSBuZXcgdGhpcy5TUUwuRGF0YWJhc2UoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVUYWJsZXMoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWREYXRhYmFzZUZpbGUoKTogUHJvbWlzZTxBcnJheUJ1ZmZlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGF3YWl0IHRoaXMuYWRhcHRlci5leGlzdHModGhpcy5kYlBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFkYXB0ZXIucmVhZEJpbmFyeSh0aGlzLmRiUGF0aCk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBmaWxlIGRvZXNuJ3QgZXhpc3QgeWV0LCB3aWxsIGNyZWF0ZSBuZXcgb25lXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5kYi5leHBvcnQoKTtcblxuICAgICAgLy8gRW5zdXJlIGRpcmVjdG9yeSBleGlzdHNcbiAgICAgIGNvbnN0IGRpciA9IHRoaXMuZGJQYXRoLnN1YnN0cmluZygwLCB0aGlzLmRiUGF0aC5sYXN0SW5kZXhPZihcIi9cIikpO1xuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5hZGFwdGVyLmV4aXN0cyhkaXIpKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFkYXB0ZXIubWtkaXIoZGlyKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5hZGFwdGVyLndyaXRlQmluYXJ5KHRoaXMuZGJQYXRoLCBCdWZmZXIuZnJvbShkYXRhKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBkYXRhYmFzZTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVUYWJsZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICAvLyBGaXJzdCwgY3JlYXRlIHRhYmxlIHdpdGggbmV3IHNjaGVtYVxuICAgIGNvbnN0IHNxbCA9IGBcbiAgICAgIC0tIERlY2tzIHRhYmxlXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBkZWNrcyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZmlsZXBhdGggVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgICAgIHRhZyBURVhUIE5PVCBOVUxMLFxuICAgICAgICBsYXN0X3Jldmlld2VkIFRFWFQsXG4gICAgICAgIGNvbmZpZyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ3tcIm5ld0NhcmRzTGltaXRcIjoyMCxcInJldmlld0NhcmRzTGltaXRcIjoxMDAsXCJlbmFibGVOZXdDYXJkc0xpbWl0XCI6ZmFsc2UsXCJlbmFibGVSZXZpZXdDYXJkc0xpbWl0XCI6ZmFsc2UsXCJyZXZpZXdPcmRlclwiOlwiZHVlLWRhdGVcIn0nLFxuICAgICAgICBjcmVhdGVkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIG1vZGlmaWVkIFRFWFQgTk9UIE5VTExcbiAgICAgICk7XG5cbiAgICAgIC0tIEZsYXNoY2FyZHMgdGFibGVcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGZsYXNoY2FyZHMgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBkZWNrX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGZyb250IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGJhY2sgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgdHlwZSBURVhUIE5PVCBOVUxMIENIRUNLICh0eXBlIElOICgnaGVhZGVyLXBhcmFncmFwaCcsICd0YWJsZScpKSxcbiAgICAgICAgc291cmNlX2ZpbGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgY29udGVudF9oYXNoIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGhlYWRlcl9sZXZlbCBJTlRFR0VSIENIRUNLIChoZWFkZXJfbGV2ZWwgPj0gMSBBTkQgaGVhZGVyX2xldmVsIDw9IDYpLFxuICAgICAgICBzdGF0ZSBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ25ldycgQ0hFQ0sgKHN0YXRlIElOICgnbmV3JywgJ2xlYXJuaW5nJywgJ3JldmlldycpKSxcbiAgICAgICAgZHVlX2RhdGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgaW50ZXJ2YWwgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgICAgIHJlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgICBlYXNlX2ZhY3RvciBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMi41LFxuICAgICAgICBzdGFiaWxpdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDIuNSxcbiAgICAgICAgbGFwc2VzIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgICAgICBsYXN0X3Jldmlld2VkIFRFWFQsXG4gICAgICAgIGNyZWF0ZWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgbW9kaWZpZWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKGRlY2tfaWQpIFJFRkVSRU5DRVMgZGVja3MoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApO1xuXG4gICAgICAtLSBSZXZpZXcgbG9ncyB0YWJsZVxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcmV2aWV3X2xvZ3MgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBmbGFzaGNhcmRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgcmV2aWV3ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZGlmZmljdWx0eSBURVhUIE5PVCBOVUxMIENIRUNLIChkaWZmaWN1bHR5IElOICgnYWdhaW4nLCAnaGFyZCcsICdnb29kJywgJ2Vhc3knKSksXG4gICAgICAgIG9sZF9pbnRlcnZhbCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgICBuZXdfaW50ZXJ2YWwgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgb2xkX2Vhc2VfZmFjdG9yIFJFQUwgTk9UIE5VTEwsXG4gICAgICAgIG5ld19lYXNlX2ZhY3RvciBSRUFMIE5PVCBOVUxMLFxuICAgICAgICB0aW1lX2VsYXBzZWQgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgICAgIG5ld19zdGF0ZSBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ25ldycgQ0hFQ0sgKG5ld19zdGF0ZSBJTiAoJ25ldycsICdsZWFybmluZycsICdyZXZpZXcnKSksXG4gICAgICAgIG5ld19yZXBldGl0aW9ucyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgICAgbmV3X2xhcHNlcyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgICAgbmV3X3N0YWJpbGl0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMi41LFxuICAgICAgICBGT1JFSUdOIEtFWSAoZmxhc2hjYXJkX2lkKSBSRUZFUkVOQ0VTIGZsYXNoY2FyZHMoaWQpXG4gICAgICApO1xuXG4gICAgICAtLSBJbmRleGVzIGZvciBwZXJmb3JtYW5jZVxuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2ZsYXNoY2FyZHNfZGVja19pZCBPTiBmbGFzaGNhcmRzKGRlY2tfaWQpO1xuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2ZsYXNoY2FyZHNfZHVlX2RhdGUgT04gZmxhc2hjYXJkcyhkdWVfZGF0ZSk7XG4gICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfZmxhc2hjYXJkX2lkIE9OIHJldmlld19sb2dzKGZsYXNoY2FyZF9pZCk7XG4gICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfcmV2aWV3ZWRfYXQgT04gcmV2aWV3X2xvZ3MocmV2aWV3ZWRfYXQpO1xuICAgIGA7XG5cbiAgICB0aGlzLmRiLnJ1bihzcWwpO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBwYXJzZSBkZWNrIHJvd3NcbiAgcHJpdmF0ZSBwYXJzZURlY2tSb3cocm93OiBhbnlbXSk6IERlY2sge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgIG5hbWU6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmaWxlcGF0aDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIHRhZzogcm93WzNdIGFzIHN0cmluZyxcbiAgICAgIGxhc3RSZXZpZXdlZDogcm93WzRdIGFzIHN0cmluZyB8IG51bGwsXG4gICAgICBjb25maWc6IHJvd1s1XSA/IEpTT04ucGFyc2Uocm93WzVdIGFzIHN0cmluZykgOiBERUZBVUxUX0RFQ0tfQ09ORklHLFxuICAgICAgY3JlYXRlZDogcm93WzZdIGFzIHN0cmluZyxcbiAgICAgIG1vZGlmaWVkOiByb3dbN10gYXMgc3RyaW5nLFxuICAgIH07XG4gIH1cblxuICAvLyBEZWNrIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlRGVjayhkZWNrOiBPbWl0PERlY2ssIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPik6IFByb21pc2U8RGVjaz4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGZ1bGxEZWNrOiBEZWNrID0ge1xuICAgICAgLi4uZGVjayxcbiAgICAgIGNyZWF0ZWQ6IG5vdyxcbiAgICAgIG1vZGlmaWVkOiBub3csXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBkZWNrcyAoXG4gICAgICAgICAgaWQsIG5hbWUsIGZpbGVwYXRoLCB0YWcsIGxhc3RfcmV2aWV3ZWQsIGNvbmZpZywgY3JlYXRlZCwgbW9kaWZpZWRcbiAgICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgICBgKTtcblxuICAgICAgc3RtdC5ydW4oW1xuICAgICAgICBmdWxsRGVjay5pZCxcbiAgICAgICAgZnVsbERlY2submFtZSxcbiAgICAgICAgZnVsbERlY2suZmlsZXBhdGgsXG4gICAgICAgIGZ1bGxEZWNrLnRhZyxcbiAgICAgICAgZnVsbERlY2subGFzdFJldmlld2VkLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShmdWxsRGVjay5jb25maWcpLFxuICAgICAgICBmdWxsRGVjay5jcmVhdGVkLFxuICAgICAgICBmdWxsRGVjay5tb2RpZmllZCxcbiAgICAgIF0pO1xuICAgICAgc3RtdC5mcmVlKCk7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgICAgcmV0dXJuIGZ1bGxEZWNrO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXREZWNrQnlUYWcodGFnOiBzdHJpbmcpOiBQcm9taXNlPERlY2sgfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFwiU0VMRUNUICogRlJPTSBkZWNrcyBXSEVSRSB0YWcgPSA/XCIpO1xuICAgIHN0bXQuYmluZChbdGFnXSk7XG5cbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQuZ2V0KCk7XG4gICAgICBzdG10LmZyZWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVja1JvdyhyZXN1bHQpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja0J5RmlsZXBhdGgoZmlsZXBhdGg6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoXCJTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIGZpbGVwYXRoID0gP1wiKTtcbiAgICBzdG10LmJpbmQoW2ZpbGVwYXRoXSk7XG5cbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQuZ2V0KCk7XG4gICAgICBzdG10LmZyZWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVja1JvdyhyZXN1bHQpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja0J5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoXCJTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIGlkID0gP1wiKTtcbiAgICBzdG10LmJpbmQoW2lkXSk7XG5cbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQuZ2V0KCk7XG4gICAgICBzdG10LmZyZWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVja1JvdyhyZXN1bHQpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVjayhcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPFBpY2s8RGVjaywgXCJuYW1lXCIgfCBcInRhZ1wiIHwgXCJsYXN0UmV2aWV3ZWRcIiB8IFwiY29uZmlnXCI+PixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAvLyBIYW5kbGUgZW1wdHkgdXBkYXRlcyBvYmplY3QgLSBubyBkYXRhYmFzZSBjaGFuZ2VzIG5lZWRlZFxuICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVGaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKVxuICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRiRmllbGQgPSBrZXkgPT09IFwibGFzdFJldmlld2VkXCIgPyBcImxhc3RfcmV2aWV3ZWRcIiA6IGtleTtcbiAgICAgICAgcmV0dXJuIGAke2RiRmllbGR9ID0gP2A7XG4gICAgICB9KVxuICAgICAgLmpvaW4oXCIsIFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgVVBEQVRFIGRlY2tzXG4gICAgICBTRVQgJHt1cGRhdGVGaWVsZHN9LCBtb2RpZmllZCA9ID9cbiAgICAgIFdIRVJFIGlkID0gP1xuICAgIGApO1xuXG4gICAgY29uc3QgdmFsdWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IE9iamVjdC52YWx1ZXModXBkYXRlcykubWFwKFxuICAgICAgKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyh1cGRhdGVzKVtpbmRleF07XG4gICAgICAgIHJldHVybiBrZXkgPT09IFwiY29uZmlnXCJcbiAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgICAgICAgIDogKHZhbHVlIGFzIHN0cmluZyB8IG51bGwpO1xuICAgICAgfSxcbiAgICApO1xuICAgIHZhbHVlcy5wdXNoKG5vdywgZGVja0lkKTtcbiAgICBzdG10LnJ1bih2YWx1ZXMpO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVja1RpbWVzdGFtcChkZWNrSWQ6IHN0cmluZywgdGltZXN0YW1wOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgVVBEQVRFIGRlY2tzXG4gICAgICBTRVQgbW9kaWZpZWQgPSA/XG4gICAgICBXSEVSRSBpZCA9ID9cbiAgICBgKTtcbiAgICBzdG10LnJ1bihbdGltZXN0YW1wLCBkZWNrSWRdKTtcbiAgICBzdG10LmZyZWUoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbERlY2tzKCk6IFByb21pc2U8RGVja1tdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFwiU0VMRUNUICogRlJPTSBkZWNrcyBPUkRFUiBCWSBuYW1lXCIpO1xuICAgIGNvbnN0IGRlY2tzOiBEZWNrW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGRlY2tzLnB1c2godGhpcy5wYXJzZURlY2tSb3cocm93KSk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIGRlY2tzO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRGVja0xhc3RSZXZpZXdlZChkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBVUERBVEUgZGVja3NcbiAgICAgIFNFVCBsYXN0X3Jldmlld2VkID0gPywgbW9kaWZpZWQgPSA/XG4gICAgICBXSEVSRSBpZCA9ID9cbiAgICBgKTtcblxuICAgIHN0bXQucnVuKFtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgZGVja0lkXSk7XG4gICAgc3RtdC5mcmVlKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBhc3luYyByZW5hbWVEZWNrKFxuICAgIG9sZERlY2tJZDogc3RyaW5nLFxuICAgIG5ld0RlY2tJZDogc3RyaW5nLFxuICAgIG5ld05hbWU6IHN0cmluZyxcbiAgICBuZXdGaWxlcGF0aDogc3RyaW5nLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgZGVjayB3aXRoIG5ldyBJRCwgbmFtZSwgYW5kIGZpbGVwYXRoXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBVUERBVEUgZGVja3NcbiAgICAgIFNFVCBpZCA9ID8sIG5hbWUgPSA/LCBmaWxlcGF0aCA9ID8sIG1vZGlmaWVkID0gP1xuICAgICAgV0hFUkUgaWQgPSA/XG4gICAgYCk7XG5cbiAgICBzdG10LnJ1bihbbmV3RGVja0lkLCBuZXdOYW1lLCBuZXdGaWxlcGF0aCwgbm93LCBvbGREZWNrSWRdKTtcbiAgICBzdG10LmZyZWUoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZURlY2tCeUZpbGVwYXRoKGZpbGVwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIC8vIEZpcnN0IGdldCB0aGUgZGVjayB0byBmaW5kIGl0cyBJRFxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUZpbGVwYXRoKGZpbGVwYXRoKTtcbiAgICBpZiAoIWRlY2spIHJldHVybjsgLy8gRGVjayBkb2Vzbid0IGV4aXN0XG5cbiAgICAvLyBEb24ndCBkZWxldGUgZmxhc2hjYXJkcyB0byBwcmVzZXJ2ZSBwcm9ncmVzcyAtIHRoZXkgd2lsbCBiZSBvcnBoYW5lZCBidXQgY2FuIGJlIHJlYXNzaWduZWQgbGF0ZXJcbiAgICAvLyBPbmx5IHJldmlldyBsb2dzIGFyZSBwcmVzZXJ2ZWQgZm9yIGhpc3RvcmljYWwgZGF0YVxuXG4gICAgLy8gRmluYWxseSBkZWxldGUgdGhlIGRlY2tcbiAgICBjb25zdCBkZWNrU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcIkRFTEVURSBGUk9NIGRlY2tzIFdIRVJFIGZpbGVwYXRoID0gP1wiKTtcbiAgICBkZWNrU3RtdC5ydW4oW2ZpbGVwYXRoXSk7XG4gICAgZGVja1N0bXQuZnJlZSgpO1xuXG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBhc3luYyBkZWxldGVEZWNrKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICAvLyBEb24ndCBkZWxldGUgZmxhc2hjYXJkcyB0byBwcmVzZXJ2ZSBwcm9ncmVzcyAtIHRoZXkgd2lsbCBiZSBvcnBoYW5lZCBidXQgY2FuIGJlIHJlYXNzaWduZWQgbGF0ZXJcbiAgICAvLyBPbmx5IHJldmlldyBsb2dzIGFyZSBwcmVzZXJ2ZWQgZm9yIGhpc3RvcmljYWwgZGF0YVxuXG4gICAgLy8gRmluYWxseSBkZWxldGUgdGhlIGRlY2tcbiAgICBjb25zdCBkZWNrU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcIkRFTEVURSBGUk9NIGRlY2tzIFdIRVJFIGlkID0gP1wiKTtcbiAgICBkZWNrU3RtdC5ydW4oW2RlY2tJZF0pO1xuICAgIGRlY2tTdG10LmZyZWUoKTtcblxuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLy8gRmxhc2hjYXJkIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlRmxhc2hjYXJkKFxuICAgIGZsYXNoY2FyZDogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPixcbiAgKTogUHJvbWlzZTxGbGFzaGNhcmQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBmdWxsRmxhc2hjYXJkOiBGbGFzaGNhcmQgPSB7XG4gICAgICAuLi5mbGFzaGNhcmQsXG4gICAgICBjcmVhdGVkOiBub3csXG4gICAgICBtb2RpZmllZDogbm93LFxuICAgIH07XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gZmxhc2hjYXJkcyAoXG4gICAgICAgIGlkLCBkZWNrX2lkLCBmcm9udCwgYmFjaywgdHlwZSwgc291cmNlX2ZpbGUsIGNvbnRlbnRfaGFzaCwgaGVhZGVyX2xldmVsLFxuICAgICAgICBzdGF0ZSwgZHVlX2RhdGUsIGludGVydmFsLCByZXBldGl0aW9ucywgZWFzZV9mYWN0b3IsIHN0YWJpbGl0eSwgbGFwc2VzLCBsYXN0X3Jldmlld2VkLCBjcmVhdGVkLCBtb2RpZmllZFxuICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgYCk7XG5cbiAgICBzdG10LnJ1bihbXG4gICAgICBmdWxsRmxhc2hjYXJkLmlkLFxuICAgICAgZnVsbEZsYXNoY2FyZC5kZWNrSWQsXG4gICAgICBmdWxsRmxhc2hjYXJkLmZyb250LFxuICAgICAgZnVsbEZsYXNoY2FyZC5iYWNrLFxuICAgICAgZnVsbEZsYXNoY2FyZC50eXBlLFxuICAgICAgZnVsbEZsYXNoY2FyZC5zb3VyY2VGaWxlLFxuICAgICAgZnVsbEZsYXNoY2FyZC5jb250ZW50SGFzaCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuaGVhZGVyTGV2ZWwgfHwgbnVsbCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuc3RhdGUsXG4gICAgICBmdWxsRmxhc2hjYXJkLmR1ZURhdGUsXG4gICAgICBmdWxsRmxhc2hjYXJkLmludGVydmFsLFxuICAgICAgZnVsbEZsYXNoY2FyZC5yZXBldGl0aW9ucyxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuZWFzZUZhY3RvcixcbiAgICAgIGZ1bGxGbGFzaGNhcmQuc3RhYmlsaXR5LFxuICAgICAgZnVsbEZsYXNoY2FyZC5sYXBzZXMsXG4gICAgICBmdWxsRmxhc2hjYXJkLmxhc3RSZXZpZXdlZCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuY3JlYXRlZCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQubW9kaWZpZWQsXG4gICAgXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICByZXR1cm4gZnVsbEZsYXNoY2FyZDtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmRJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8XG4gICAgICBQaWNrPFxuICAgICAgICBGbGFzaGNhcmQsXG4gICAgICAgIHwgXCJmcm9udFwiXG4gICAgICAgIHwgXCJiYWNrXCJcbiAgICAgICAgfCBcInR5cGVcIlxuICAgICAgICB8IFwiY29udGVudEhhc2hcIlxuICAgICAgICB8IFwiaGVhZGVyTGV2ZWxcIlxuICAgICAgICB8IFwic3RhdGVcIlxuICAgICAgICB8IFwiZHVlRGF0ZVwiXG4gICAgICAgIHwgXCJpbnRlcnZhbFwiXG4gICAgICAgIHwgXCJyZXBldGl0aW9uc1wiXG4gICAgICAgIHwgXCJlYXNlRmFjdG9yXCJcbiAgICAgICAgfCBcInN0YWJpbGl0eVwiXG4gICAgICAgIHwgXCJsYXBzZXNcIlxuICAgICAgICB8IFwibGFzdFJldmlld2VkXCJcbiAgICAgID5cbiAgICA+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCB1cGRhdGVGaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKVxuICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRiRmllbGQgPVxuICAgICAgICAgIGtleSA9PT0gXCJjb250ZW50SGFzaFwiXG4gICAgICAgICAgICA/IFwiY29udGVudF9oYXNoXCJcbiAgICAgICAgICAgIDoga2V5ID09PSBcInNvdXJjZUZpbGVcIlxuICAgICAgICAgICAgICA/IFwic291cmNlX2ZpbGVcIlxuICAgICAgICAgICAgICA6IGtleSA9PT0gXCJkdWVEYXRlXCJcbiAgICAgICAgICAgICAgICA/IFwiZHVlX2RhdGVcIlxuICAgICAgICAgICAgICAgIDoga2V5ID09PSBcImVhc2VGYWN0b3JcIlxuICAgICAgICAgICAgICAgICAgPyBcImVhc2VfZmFjdG9yXCJcbiAgICAgICAgICAgICAgICAgIDoga2V5ID09PSBcImxhc3RSZXZpZXdlZFwiXG4gICAgICAgICAgICAgICAgICAgID8gXCJsYXN0X3Jldmlld2VkXCJcbiAgICAgICAgICAgICAgICAgICAgOiBrZXkgPT09IFwiaGVhZGVyTGV2ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgID8gXCJoZWFkZXJfbGV2ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgIDoga2V5LnJlcGxhY2UoLyhbQS1aXSkvZywgXCJfJDFcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIGAke2RiRmllbGR9ID0gP2A7XG4gICAgICB9KVxuICAgICAgLmpvaW4oXCIsIFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgVVBEQVRFIGZsYXNoY2FyZHNcbiAgICAgIFNFVCAke3VwZGF0ZUZpZWxkc30sIG1vZGlmaWVkID0gP1xuICAgICAgV0hFUkUgaWQgPSA/XG4gICAgYCk7XG5cbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHVwZGF0ZXMpO1xuICAgIHZhbHVlcy5wdXNoKG5vdywgZmxhc2hjYXJkSWQpO1xuICAgIHN0bXQucnVuKHZhbHVlcyk7XG4gICAgc3RtdC5mcmVlKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBhc3luYyBkZWxldGVGbGFzaGNhcmQoZmxhc2hjYXJkSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShcIkRFTEVURSBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgaWQgPSA/XCIpO1xuICAgIHN0bXQucnVuKFtmbGFzaGNhcmRJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRmxhc2hjYXJkRGVja0lkcyhcbiAgICBvbGREZWNrSWQ6IHN0cmluZyxcbiAgICBuZXdEZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFxuICAgICAgXCJVUERBVEUgZmxhc2hjYXJkcyBTRVQgZGVja19pZCA9ID8gV0hFUkUgZGVja19pZCA9ID9cIixcbiAgICApO1xuICAgIHN0bXQucnVuKFtuZXdEZWNrSWQsIG9sZERlY2tJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Rmxhc2hjYXJkc0J5RGVjayhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoXCJTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgZGVja19pZCA9ID9cIik7XG4gICAgc3RtdC5iaW5kKFtkZWNrSWRdKTtcbiAgICBjb25zdCBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuXG4gICAgd2hpbGUgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgZmxhc2hjYXJkcy5wdXNoKHRoaXMucm93VG9GbGFzaGNhcmQocm93KSk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICBhc3luYyBnZXRGbGFzaGNhcmRzQnlEZWNrRmlsdGVyZWQoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw/OiBudW1iZXIsXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGxldCBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzIFdIRVJFIGRlY2tfaWQgPSA/XCI7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZF07XG5cbiAgICBpZiAoaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcXVlcnkgKz0gXCIgQU5EICh0eXBlID0gJ3RhYmxlJyBPUiBoZWFkZXJfbGV2ZWwgPSA/KVwiO1xuICAgICAgcGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShxdWVyeSk7XG4gICAgc3RtdC5iaW5kKHBhcmFtcyk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RHVlRmxhc2hjYXJkcyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gP1xuICAgICAgT1JERVIgQlkgZHVlX2RhdGVcbiAgICBgKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBzdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RHVlRmxhc2hjYXJkc0ZpbHRlcmVkKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIGhlYWRlckxldmVsPzogbnVtYmVyLFxuICApOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBsZXQgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/XG4gICAgYDtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZCwgbm93XTtcblxuICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSArPSBcIiBBTkQgKHR5cGUgPSAndGFibGUnIE9SIGhlYWRlcl9sZXZlbCA9ID8pXCI7XG4gICAgICBwYXJhbXMucHVzaChoZWFkZXJMZXZlbC50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBxdWVyeSArPSBcIiBPUkRFUiBCWSBkdWVfZGF0ZVwiO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShxdWVyeSk7XG4gICAgc3RtdC5iaW5kKHBhcmFtcyk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGFpbHlSZXZpZXdDb3VudHMoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8eyBuZXdDb3VudDogbnVtYmVyOyByZXZpZXdDb3VudDogbnVtYmVyIH0+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTsgLy8gWVlZWS1NTS1ERCBmb3JtYXRcbiAgICBjb25zdCB0b2RheVN0YXJ0ID0gYCR7dG9kYXl9VDAwOjAwOjAwLjAwMFpgO1xuICAgIGNvbnN0IHRvZGF5RW5kID0gYCR7dG9kYXl9VDIzOjU5OjU5Ljk5OVpgO1xuXG4gICAgLy8gQ291bnQgbmV3IGNhcmRzIHJldmlld2VkIHRvZGF5IChyZXZpZXdzIHdoZXJlIG9sZF9yZXBldGl0aW9ucyB3YXMgMClcbiAgICBjb25zdCBuZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICAgIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWRcbiAgICAgIFdIRVJFIGYuZGVja19pZCA9ID9cbiAgICAgICAgQU5EIHJsLnJldmlld2VkX2F0ID49ID9cbiAgICAgICAgQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICAgICAgQU5EIChybC5vbGRfaW50ZXJ2YWwgPSAwIE9SIGYucmVwZXRpdGlvbnMgPSAxKVxuICAgIGApO1xuICAgIG5ld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIHRvZGF5U3RhcnQsIHRvZGF5RW5kXSk7XG4gICAgY29uc3QgbmV3UmVzdWx0ID0gbmV3Q2FyZHNTdG10LnN0ZXAoKSA/IG5ld0NhcmRzU3RtdC5nZXQoKSA6IFswXTtcbiAgICBjb25zdCBuZXdDb3VudCA9IE51bWJlcihuZXdSZXN1bHRbMF0pIHx8IDA7XG4gICAgbmV3Q2FyZHNTdG10LmZyZWUoKTtcblxuICAgIC8vIENvdW50IHJldmlldyBjYXJkcyByZXZpZXdlZCB0b2RheSAocmV2aWV3cyB3aGVyZSBvbGRfaW50ZXJ2YWwgPiAwKVxuICAgIGNvbnN0IHJldmlld0NhcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgICAgSk9JTiBmbGFzaGNhcmRzIGYgT04gcmwuZmxhc2hjYXJkX2lkID0gZi5pZFxuICAgICAgV0hFUkUgZi5kZWNrX2lkID0gP1xuICAgICAgICBBTkQgcmwucmV2aWV3ZWRfYXQgPj0gP1xuICAgICAgICBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1xuICAgICAgICBBTkQgcmwub2xkX2ludGVydmFsID4gMFxuICAgIGApO1xuICAgIHJldmlld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIHRvZGF5U3RhcnQsIHRvZGF5RW5kXSk7XG4gICAgY29uc3QgcmV2aWV3UmVzdWx0ID0gcmV2aWV3Q2FyZHNTdG10LnN0ZXAoKSA/IHJldmlld0NhcmRzU3RtdC5nZXQoKSA6IFswXTtcbiAgICBjb25zdCByZXZpZXdDb3VudCA9IE51bWJlcihyZXZpZXdSZXN1bHRbMF0pIHx8IDA7XG4gICAgcmV2aWV3Q2FyZHNTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7IG5ld0NvdW50LCByZXZpZXdDb3VudCB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHMoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAvLyBHZXQgZGVjayBjb25maWcgdG8gY2hlY2sgbGltaXRzXG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZ2V0RGVja0J5SWQoZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVjayBub3QgZm91bmQ6ICR7ZGVja0lkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZyA9IGRlY2suY29uZmlnO1xuICAgIGNvbnN0IGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdID0gW107XG5cbiAgICAvLyBHZXQgdG9kYXkncyByZXZpZXcgY291bnRzIHRvIGNhbGN1bGF0ZSByZW1haW5pbmcgZGFpbHkgYWxsb3dhbmNlXG4gICAgY29uc3QgZGFpbHlDb3VudHMgPSBhd2FpdCB0aGlzLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG5cbiAgICAvLyAxLiBBbHdheXMgZ2V0IEFMTCBsZWFybmluZyBjYXJkcyAobm90IHN1YmplY3QgdG8gbGltaXRzIHBlciBBbmtpIGJlaGF2aW9yKVxuICAgIGNvbnN0IGxlYXJuaW5nU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/IEFORCBzdGF0ZSA9ICdsZWFybmluZydcbiAgICAgIE9SREVSIEJZIGR1ZV9kYXRlXG4gICAgYCk7XG4gICAgbGVhcm5pbmdTdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgd2hpbGUgKGxlYXJuaW5nU3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9IGxlYXJuaW5nU3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cbiAgICBsZWFybmluZ1N0bXQuZnJlZSgpO1xuXG4gICAgLy8gMi4gR2V0IG5ldyBjYXJkcyB3aXRoIHJlbWFpbmluZyBkYWlseSBsaW1pdFxuICAgIGNvbnN0IG5ld0NhcmRzTGltaXQgPSBOdW1iZXIoY29uZmlnLm5ld0NhcmRzTGltaXQpIHx8IDA7XG4gICAgY29uc3QgbmV3Q291bnRUb2RheSA9IE51bWJlcihkYWlseUNvdW50cy5uZXdDb3VudCkgfHwgMDtcbiAgICBjb25zdCByZW1haW5pbmdOZXdDYXJkcyA9XG4gICAgICBjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdCAmJiBuZXdDYXJkc0xpbWl0ID4gMFxuICAgICAgICA/IE1hdGgubWF4KDAsIG5ld0NhcmRzTGltaXQgLSBuZXdDb3VudFRvZGF5KVxuICAgICAgICA6IGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ICYmIG5ld0NhcmRzTGltaXQgPT09IDBcbiAgICAgICAgICA/IDBcbiAgICAgICAgICA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgaWYgKHJlbWFpbmluZ05ld0NhcmRzID4gMCkge1xuICAgICAgY29uc3QgbmV3Q2FyZHNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/IEFORCBzdGF0ZSA9ICduZXcnXG4gICAgICAgIE9SREVSIEJZIGR1ZV9kYXRlXG4gICAgICAgICR7Y29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgPyBgTElNSVQgJHtyZW1haW5pbmdOZXdDYXJkc31gIDogXCJcIn1cbiAgICAgIGApO1xuICAgICAgbmV3Q2FyZHNTdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgICB3aGlsZSAobmV3Q2FyZHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBuZXdDYXJkc1N0bXQuZ2V0KCk7XG4gICAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgICAgfVxuICAgICAgbmV3Q2FyZHNTdG10LmZyZWUoKTtcbiAgICB9XG5cbiAgICAvLyAzLiBHZXQgcmV2aWV3IGNhcmRzIHdpdGggcmVtYWluaW5nIGRhaWx5IGxpbWl0XG4gICAgY29uc3QgcmV2aWV3Q2FyZHNMaW1pdCA9IE51bWJlcihjb25maWcucmV2aWV3Q2FyZHNMaW1pdCkgfHwgMDtcbiAgICBjb25zdCByZXZpZXdDb3VudFRvZGF5ID0gTnVtYmVyKGRhaWx5Q291bnRzLnJldmlld0NvdW50KSB8fCAwO1xuICAgIGNvbnN0IHJlbWFpbmluZ1Jldmlld0NhcmRzID1cbiAgICAgIGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmIHJldmlld0NhcmRzTGltaXQgPiAwXG4gICAgICAgID8gTWF0aC5tYXgoMCwgcmV2aWV3Q2FyZHNMaW1pdCAtIHJldmlld0NvdW50VG9kYXkpXG4gICAgICAgIDogY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXQgJiYgcmV2aWV3Q2FyZHNMaW1pdCA9PT0gMFxuICAgICAgICAgID8gMFxuICAgICAgICAgIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgICBpZiAocmVtYWluaW5nUmV2aWV3Q2FyZHMgPiAwKSB7XG4gICAgICBjb25zdCByZXZpZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ3JldmlldydcbiAgICAgICAgT1JERVIgQlkgZHVlX2RhdGVcbiAgICAgICAgJHtjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCA/IGBMSU1JVCAke3JlbWFpbmluZ1Jldmlld0NhcmRzfWAgOiBcIlwifVxuICAgICAgYCk7XG4gICAgICByZXZpZXdDYXJkc1N0bXQuYmluZChbZGVja0lkLCBub3ddKTtcbiAgICAgIHdoaWxlIChyZXZpZXdDYXJkc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHJldmlld0NhcmRzU3RtdC5nZXQoKTtcbiAgICAgICAgZmxhc2hjYXJkcy5wdXNoKHRoaXMucm93VG9GbGFzaGNhcmQocm93KSk7XG4gICAgICB9XG4gICAgICByZXZpZXdDYXJkc1N0bXQuZnJlZSgpO1xuICAgIH1cblxuICAgIC8vIFNvcnQgZmluYWwgcmVzdWx0OiBBbmtpIG9yZGVyIC0gbGVhcm5pbmcgZmlyc3QsIHRoZW4gcmV2aWV3LCB0aGVuIG5ld1xuICAgIGZsYXNoY2FyZHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3Qgc3RhdGVPcmRlciA9IHsgbGVhcm5pbmc6IDEsIHJldmlldzogMiwgbmV3OiAzIH07XG4gICAgICBjb25zdCBhT3JkZXIgPSBzdGF0ZU9yZGVyW2Euc3RhdGVdO1xuICAgICAgY29uc3QgYk9yZGVyID0gc3RhdGVPcmRlcltiLnN0YXRlXTtcblxuICAgICAgaWYgKGFPcmRlciAhPT0gYk9yZGVyKSB7XG4gICAgICAgIHJldHVybiBhT3JkZXIgLSBiT3JkZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpdGhpbiBzYW1lIHN0YXRlLCBhcHBseSBzcGVjaWZpYyBvcmRlcmluZyBydWxlc1xuICAgICAgaWYgKGEuc3RhdGUgPT09IFwibGVhcm5pbmdcIikge1xuICAgICAgICAvLyBMZWFybmluZyBjYXJkczogYWx3YXlzIGJ5IGR1ZSBkYXRlIChlYXJsaWVzdCBmaXJzdClcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEuZHVlRGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5kdWVEYXRlKS5nZXRUaW1lKCk7XG4gICAgICB9IGVsc2UgaWYgKGEuc3RhdGUgPT09IFwicmV2aWV3XCIpIHtcbiAgICAgICAgLy8gUmV2aWV3IGNhcmRzOiBmb2xsb3cgZGVjayBjb25maWcgcHJlZmVyZW5jZVxuICAgICAgICBpZiAoY29uZmlnLnJldmlld09yZGVyID09PSBcInJhbmRvbVwiKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAwLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRGVmYXVsdDogb2xkZXN0IGR1ZSBmaXJzdFxuICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmR1ZURhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZHVlRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOZXcgY2FyZHM6IGJ5IGR1ZSBkYXRlIChjcmVhdGlvbiBvcmRlcilcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEuZHVlRGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5kdWVEYXRlKS5nZXRUaW1lKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld2FibGVGbGFzaGNhcmRzRmlsdGVyZWQoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw/OiBudW1iZXIsXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IGRlY2suY29uZmlnO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuXG4gICAgLy8gSGVhZGVyIGxldmVsIGZpbHRlciBjbGF1c2VcbiAgICBjb25zdCBoZWFkZXJGaWx0ZXIgPVxuICAgICAgaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFwiIEFORCAodHlwZSA9ICd0YWJsZScgT1IgaGVhZGVyX2xldmVsID0gPylcIlxuICAgICAgICA6IFwiXCI7XG5cbiAgICAvLyAxLiBHZXQgbGVhcm5pbmcgY2FyZHMgKGhpZ2hlc3QgcHJpb3JpdHkpXG4gICAgbGV0IGxlYXJuaW5nUXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/IEFORCBzdGF0ZSA9ICdsZWFybmluZycke2hlYWRlckZpbHRlcn1cbiAgICAgIE9SREVSIEJZIGR1ZV9kYXRlXG4gICAgYDtcbiAgICBjb25zdCBsZWFybmluZ1N0bXQgPSB0aGlzLmRiLnByZXBhcmUobGVhcm5pbmdRdWVyeSk7XG4gICAgY29uc3QgbGVhcm5pbmdQYXJhbXMgPSBbZGVja0lkLCBub3ddO1xuICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKSBsZWFybmluZ1BhcmFtcy5wdXNoKGhlYWRlckxldmVsLnRvU3RyaW5nKCkpO1xuICAgIGxlYXJuaW5nU3RtdC5iaW5kKGxlYXJuaW5nUGFyYW1zKTtcblxuICAgIHdoaWxlIChsZWFybmluZ1N0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBsZWFybmluZ1N0bXQuZ2V0KCk7XG4gICAgICBmbGFzaGNhcmRzLnB1c2godGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgICB9XG4gICAgbGVhcm5pbmdTdG10LmZyZWUoKTtcblxuICAgIC8vIDIuIEdldCBkYWlseSByZXZpZXcgY291bnRzIHRvIGNoZWNrIGxpbWl0c1xuICAgIGNvbnN0IGRhaWx5Q291bnRzID0gYXdhaXQgdGhpcy5nZXREYWlseVJldmlld0NvdW50cyhkZWNrSWQpO1xuXG4gICAgLy8gMy4gR2V0IG5ldyBjYXJkcyAoaWYgbGltaXQgYWxsb3dzKVxuICAgIGlmIChcbiAgICAgICFjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdCB8fFxuICAgICAgZGFpbHlDb3VudHMubmV3Q291bnQgPCBjb25maWcubmV3Q2FyZHNMaW1pdFxuICAgICkge1xuICAgICAgY29uc3QgcmVtYWluaW5nTmV3Q2FyZHMgPSBjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdFxuICAgICAgICA/IGNvbmZpZy5uZXdDYXJkc0xpbWl0IC0gZGFpbHlDb3VudHMubmV3Q291bnRcbiAgICAgICAgOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgICAgbGV0IG5ld0NhcmRzUXVlcnkgPSBgXG4gICAgICAgIFNFTEVDVCAqIEZST00gZmxhc2hjYXJkc1xuICAgICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gPyBBTkQgc3RhdGUgPSAnbmV3JyR7aGVhZGVyRmlsdGVyfVxuICAgICAgICBPUkRFUiBCWSBkdWVfZGF0ZVxuICAgICAgICAke2NvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ID8gYExJTUlUICR7cmVtYWluaW5nTmV3Q2FyZHN9YCA6IFwiXCJ9XG4gICAgICBgO1xuICAgICAgY29uc3QgbmV3Q2FyZHNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKG5ld0NhcmRzUXVlcnkpO1xuICAgICAgY29uc3QgbmV3Q2FyZHNQYXJhbXMgPSBbZGVja0lkLCBub3ddO1xuICAgICAgaWYgKGhlYWRlckxldmVsICE9PSB1bmRlZmluZWQpXG4gICAgICAgIG5ld0NhcmRzUGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgICBuZXdDYXJkc1N0bXQuYmluZChuZXdDYXJkc1BhcmFtcyk7XG5cbiAgICAgIHdoaWxlIChuZXdDYXJkc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IG5ld0NhcmRzU3RtdC5nZXQoKTtcbiAgICAgICAgZmxhc2hjYXJkcy5wdXNoKHRoaXMucm93VG9GbGFzaGNhcmQocm93KSk7XG4gICAgICB9XG4gICAgICBuZXdDYXJkc1N0bXQuZnJlZSgpO1xuICAgIH1cblxuICAgIC8vIDQuIEdldCByZXZpZXcgY2FyZHMgKGlmIGxpbWl0IGFsbG93cylcbiAgICBpZiAoXG4gICAgICAhY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXQgfHxcbiAgICAgIGRhaWx5Q291bnRzLnJldmlld0NvdW50IDwgY29uZmlnLnJldmlld0NhcmRzTGltaXRcbiAgICApIHtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1Jldmlld0NhcmRzID0gY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXRcbiAgICAgICAgPyBjb25maWcucmV2aWV3Q2FyZHNMaW1pdCAtIGRhaWx5Q291bnRzLnJldmlld0NvdW50XG4gICAgICAgIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgICAgIGxldCByZXZpZXdDYXJkc1F1ZXJ5ID0gYFxuICAgICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ3Jldmlldycke2hlYWRlckZpbHRlcn1cbiAgICAgICAgT1JERVIgQlkgZHVlX2RhdGVcbiAgICAgICAgJHtjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCA/IGBMSU1JVCAke3JlbWFpbmluZ1Jldmlld0NhcmRzfWAgOiBcIlwifVxuICAgICAgYDtcbiAgICAgIGNvbnN0IHJldmlld0NhcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShyZXZpZXdDYXJkc1F1ZXJ5KTtcbiAgICAgIGNvbnN0IHJldmlld0NhcmRzUGFyYW1zID0gW2RlY2tJZCwgbm93XTtcbiAgICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXZpZXdDYXJkc1BhcmFtcy5wdXNoKGhlYWRlckxldmVsLnRvU3RyaW5nKCkpO1xuICAgICAgcmV2aWV3Q2FyZHNTdG10LmJpbmQocmV2aWV3Q2FyZHNQYXJhbXMpO1xuXG4gICAgICB3aGlsZSAocmV2aWV3Q2FyZHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSByZXZpZXdDYXJkc1N0bXQuZ2V0KCk7XG4gICAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgICAgfVxuICAgICAgcmV2aWV3Q2FyZHNTdG10LmZyZWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIGFzeW5jIGdldExhdGVzdFJldmlld0xvZ0ZvckZsYXNoY2FyZChmbGFzaGNhcmRJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgc3RhdGU6IFwibmV3XCIgfCBcImxlYXJuaW5nXCIgfCBcInJldmlld1wiO1xuICAgIGR1ZURhdGU6IHN0cmluZztcbiAgICBpbnRlcnZhbDogbnVtYmVyO1xuICAgIHJlcGV0aXRpb25zOiBudW1iZXI7XG4gICAgZWFzZUZhY3RvcjogbnVtYmVyO1xuICAgIHN0YWJpbGl0eTogbnVtYmVyO1xuICAgIGxhcHNlczogbnVtYmVyO1xuICAgIGxhc3RSZXZpZXdlZDogc3RyaW5nO1xuICB9IHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1RcbiAgICAgICAgcmwubmV3X3N0YXRlLCBybC5uZXdfaW50ZXJ2YWwsIHJsLm5ld19lYXNlX2ZhY3RvcixcbiAgICAgICAgcmwubmV3X3JlcGV0aXRpb25zLCBybC5uZXdfbGFwc2VzLCBybC5uZXdfc3RhYmlsaXR5LCBybC5yZXZpZXdlZF9hdFxuICAgICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgICAgV0hFUkUgcmwuZmxhc2hjYXJkX2lkID0gP1xuICAgICAgT1JERVIgQlkgcmwucmV2aWV3ZWRfYXQgREVTQ1xuICAgICAgTElNSVQgMVxuICAgIGApO1xuXG4gICAgc3RtdC5iaW5kKFtmbGFzaGNhcmRJZF0pO1xuXG4gICAgaWYgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgICBjb25zdCByZXZpZXdlZEF0ID0gbmV3IERhdGUocm93WzZdIGFzIHN0cmluZyk7XG4gICAgICBjb25zdCBpbnRlcnZhbE1pbnV0ZXMgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgY29uc3QgZHVlRGF0ZSA9IG5ldyBEYXRlKFxuICAgICAgICByZXZpZXdlZEF0LmdldFRpbWUoKSArIGludGVydmFsTWludXRlcyAqIDYwICogMTAwMCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlcGV0aXRpb25zID0gcm93WzNdIGFzIG51bWJlcjtcbiAgICAgIGNvbnN0IGxhcHNlcyA9IHJvd1s0XSBhcyBudW1iZXI7XG4gICAgICBjb25zdCBzdGFiaWxpdHkgPSByb3dbNV0gYXMgbnVtYmVyO1xuICAgICAgY29uc3QgbGFzdFJldmlld2VkID0gcm93WzZdIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGVhc2VGYWN0b3IgPSByb3dbMl0gYXMgbnVtYmVyO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZTogcm93WzBdIGFzIFwibmV3XCIgfCBcImxlYXJuaW5nXCIgfCBcInJldmlld1wiLFxuICAgICAgICBkdWVEYXRlOiBkdWVEYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGludGVydmFsOiBpbnRlcnZhbE1pbnV0ZXMsXG4gICAgICAgIHJlcGV0aXRpb25zOiByZXBldGl0aW9ucyxcbiAgICAgICAgZWFzZUZhY3RvcjogZWFzZUZhY3RvcixcbiAgICAgICAgc3RhYmlsaXR5OiBzdGFiaWxpdHksXG4gICAgICAgIGxhcHNlczogbGFwc2VzLFxuICAgICAgICBsYXN0UmV2aWV3ZWQ6IGxhc3RSZXZpZXdlZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBkZWxldGVGbGFzaGNhcmRzQnlGaWxlKHNvdXJjZUZpbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgIFwiREVMRVRFIEZST00gZmxhc2hjYXJkcyBXSEVSRSBzb3VyY2VfZmlsZSA9ID9cIixcbiAgICApO1xuICAgIHN0bXQucnVuKFtzb3VyY2VGaWxlXSk7XG4gICAgc3RtdC5mcmVlKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICAvLyBSZXZpZXcgbG9nIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlUmV2aWV3TG9nKGxvZzogT21pdDxSZXZpZXdMb2csIFwiaWRcIj4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGlkID0gYHJldmlld18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBJTlRPIHJldmlld19sb2dzIChcbiAgICAgICAgaWQsIGZsYXNoY2FyZF9pZCwgcmV2aWV3ZWRfYXQsIGRpZmZpY3VsdHksXG4gICAgICAgIG9sZF9pbnRlcnZhbCwgbmV3X2ludGVydmFsLCBvbGRfZWFzZV9mYWN0b3IsIG5ld19lYXNlX2ZhY3RvciwgdGltZV9lbGFwc2VkLFxuICAgICAgICBuZXdfc3RhdGUsIG5ld19yZXBldGl0aW9ucywgbmV3X2xhcHNlcywgbmV3X3N0YWJpbGl0eVxuICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgYCk7XG5cbiAgICBzdG10LnJ1bihbXG4gICAgICBpZCxcbiAgICAgIGxvZy5mbGFzaGNhcmRJZCxcbiAgICAgIGxvZy5yZXZpZXdlZEF0LFxuICAgICAgbG9nLmRpZmZpY3VsdHksXG4gICAgICBsb2cub2xkSW50ZXJ2YWwsXG4gICAgICBsb2cubmV3SW50ZXJ2YWwsXG4gICAgICBsb2cub2xkRWFzZUZhY3RvcixcbiAgICAgIGxvZy5uZXdFYXNlRmFjdG9yLFxuICAgICAgbG9nLnRpbWVFbGFwc2VkLFxuICAgICAgbG9nLm5ld1N0YXRlLFxuICAgICAgbG9nLm5ld1JlcGV0aXRpb25zLFxuICAgICAgbG9nLm5ld0xhcHNlcyxcbiAgICAgIGxvZy5uZXdTdGFiaWxpdHksXG4gICAgXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIC8vIFN0YXRpc3RpY3Mgb3BlcmF0aW9uc1xuICBhc3luYyBnZXREZWNrU3RhdHMoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPERlY2tTdGF0cz4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgLy8gR2V0IGRlY2sgY29uZmlnIHRvIGNoZWNrIGxpbWl0c1xuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maWcgPSBkZWNrLmNvbmZpZztcblxuICAgIC8vIEdldCB0b2RheSdzIHJldmlldyBjb3VudHMgdG8gY2FsY3VsYXRlIHJlbWFpbmluZyBkYWlseSBhbGxvd2FuY2VcbiAgICBjb25zdCBkYWlseUNvdW50cyA9IGF3YWl0IHRoaXMuZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVja0lkKTtcblxuICAgIC8vIENvdW50IG5ldyBjYXJkcyAoc3RhdGUgPSAnbmV3JyBhbmQgZHVlIGZvciBmaXJzdCByZXZpZXcpXG4gICAgY29uc3QgbmV3U3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgc3RhdGUgPSAnbmV3JyBBTkQgZHVlX2RhdGUgPD0gP1xuICAgIGApO1xuICAgIG5ld1N0bXQuYmluZChbZGVja0lkLCBub3ddKTtcbiAgICBuZXdTdG10LnN0ZXAoKTtcbiAgICBjb25zdCB0b3RhbE5ld0NhcmRzID0gKG5ld1N0bXQuZ2V0KClbMF0gYXMgbnVtYmVyKSB8fCAwO1xuICAgIG5ld1N0bXQuZnJlZSgpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHJlbWFpbmluZyBuZXcgY2FyZHMgYmFzZWQgb24gZGFpbHkgbGltaXRcbiAgICBsZXQgbmV3Q291bnQgPSB0b3RhbE5ld0NhcmRzO1xuICAgIGNvbnN0IG5ld0NhcmRzTGltaXQgPSBOdW1iZXIoY29uZmlnLm5ld0NhcmRzTGltaXQpIHx8IDA7XG4gICAgY29uc3QgbmV3Q291bnRUb2RheSA9IE51bWJlcihkYWlseUNvdW50cy5uZXdDb3VudCkgfHwgMDtcbiAgICBpZiAoY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgJiYgbmV3Q2FyZHNMaW1pdCA+IDApIHtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ05ldyA9IE1hdGgubWF4KDAsIG5ld0NhcmRzTGltaXQgLSBuZXdDb3VudFRvZGF5KTtcbiAgICAgIG5ld0NvdW50ID0gTWF0aC5taW4odG90YWxOZXdDYXJkcywgcmVtYWluaW5nTmV3KTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ICYmIG5ld0NhcmRzTGltaXQgPT09IDApIHtcbiAgICAgIG5ld0NvdW50ID0gMDsgLy8gTm8gbmV3IGNhcmRzIGFsbG93ZWQgd2hlbiBsaW1pdCBpcyAwXG4gICAgfVxuXG4gICAgLy8gQ291bnQgbGVhcm5pbmcgY2FyZHMgKHN0YXRlID0gJ2xlYXJuaW5nJyBhbmQgZHVlKVxuICAgIGNvbnN0IGxlYXJuaW5nU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgc3RhdGUgPSAnbGVhcm5pbmcnIEFORCBkdWVfZGF0ZSA8PSA/XG4gICAgYCk7XG4gICAgbGVhcm5pbmdTdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgbGVhcm5pbmdTdG10LnN0ZXAoKTtcbiAgICBjb25zdCBsZWFybmluZ0NvdW50ID0gKGxlYXJuaW5nU3RtdC5nZXQoKVswXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgbGVhcm5pbmdTdG10LmZyZWUoKTtcblxuICAgIC8vIENvdW50IHJldmlldyBjYXJkcyAoc3RhdGUgPSAncmV2aWV3JyBhbmQgZHVlKVxuICAgIGNvbnN0IGR1ZVN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkc1xuICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIHN0YXRlID0gJ3JldmlldycgQU5EIGR1ZV9kYXRlIDw9ID9cbiAgICBgKTtcbiAgICBkdWVTdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgZHVlU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgdG90YWxEdWVDYXJkcyA9IChkdWVTdG10LmdldCgpWzBdIGFzIG51bWJlcikgfHwgMDtcbiAgICBkdWVTdG10LmZyZWUoKTtcblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgcmV2aWV3IGNhcmRzIGJhc2VkIG9uIGRhaWx5IGxpbWl0XG4gICAgbGV0IGR1ZUNvdW50ID0gdG90YWxEdWVDYXJkcztcbiAgICBjb25zdCByZXZpZXdDYXJkc0xpbWl0ID0gTnVtYmVyKGNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0KSB8fCAwO1xuICAgIGNvbnN0IHJldmlld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMucmV2aWV3Q291bnQpIHx8IDA7XG4gICAgaWYgKGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmIHJldmlld0NhcmRzTGltaXQgPiAwKSB7XG4gICAgICBjb25zdCByZW1haW5pbmdSZXZpZXcgPSBNYXRoLm1heCgwLCByZXZpZXdDYXJkc0xpbWl0IC0gcmV2aWV3Q291bnRUb2RheSk7XG4gICAgICBkdWVDb3VudCA9IE1hdGgubWluKHRvdGFsRHVlQ2FyZHMsIHJlbWFpbmluZ1Jldmlldyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCAmJiByZXZpZXdDYXJkc0xpbWl0ID09PSAwKSB7XG4gICAgICBkdWVDb3VudCA9IDA7IC8vIE5vIHJldmlldyBjYXJkcyBhbGxvd2VkIHdoZW4gbGltaXQgaXMgMFxuICAgIH1cblxuICAgIC8vIFRvdGFsIGNvdW50XG4gICAgY29uc3QgdG90YWxTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIFNFTEVDVCBDT1VOVCgqKSBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgZGVja19pZCA9ID9cbiAgICBgKTtcbiAgICB0b3RhbFN0bXQuYmluZChbZGVja0lkXSk7XG4gICAgdG90YWxTdG10LnN0ZXAoKTtcbiAgICBjb25zdCB0b3RhbENvdW50ID0gKHRvdGFsU3RtdC5nZXQoKVswXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgdG90YWxTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkZWNrSWQsXG4gICAgICBuZXdDb3VudCxcbiAgICAgIGxlYXJuaW5nQ291bnQsXG4gICAgICBkdWVDb3VudCxcbiAgICAgIHRvdGFsQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tTdGF0c0ZpbHRlcmVkKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIGhlYWRlckxldmVsPzogbnVtYmVyLFxuICApOiBQcm9taXNlPHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbmV3Q291bnQ6IG51bWJlcjtcbiAgICBsZWFybmluZ0NvdW50OiBudW1iZXI7XG4gICAgZHVlQ291bnQ6IG51bWJlcjtcbiAgICB0b3RhbENvdW50OiBudW1iZXI7XG4gIH0+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgaGVhZGVyRmlsdGVyID1cbiAgICAgIGhlYWRlckxldmVsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBcIiBBTkQgKHR5cGUgPSAndGFibGUnIE9SIGhlYWRlcl9sZXZlbCA9ID8pXCJcbiAgICAgICAgOiBcIlwiO1xuXG4gICAgLy8gTmV3IGNhcmRzIGNvdW50XG4gICAgY29uc3QgbmV3UXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzXG4gICAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgc3RhdGUgPSAnbmV3JyBBTkQgZHVlX2RhdGUgPD0gPyR7aGVhZGVyRmlsdGVyfVxuICAgIGA7XG4gICAgY29uc3QgbmV3U3RtdCA9IHRoaXMuZGIucHJlcGFyZShuZXdRdWVyeSk7XG4gICAgY29uc3QgbmV3UGFyYW1zID0gW2RlY2tJZCwgbm93XTtcbiAgICBpZiAoaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZCkgbmV3UGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgbmV3U3RtdC5iaW5kKG5ld1BhcmFtcyk7XG4gICAgbmV3U3RtdC5zdGVwKCk7XG4gICAgY29uc3QgbmV3Q291bnQgPSBuZXdTdG10LmdldCgpWzBdIGFzIG51bWJlcjtcbiAgICBuZXdTdG10LmZyZWUoKTtcblxuICAgIC8vIExlYXJuaW5nIGNhcmRzIGNvdW50XG4gICAgY29uc3QgbGVhcm5pbmdRdWVyeSA9IGBcbiAgICAgIFNFTEVDVCBDT1VOVCgqKSBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBzdGF0ZSA9ICdsZWFybmluZycgQU5EIGR1ZV9kYXRlIDw9ID8ke2hlYWRlckZpbHRlcn1cbiAgICBgO1xuICAgIGNvbnN0IGxlYXJuaW5nU3RtdCA9IHRoaXMuZGIucHJlcGFyZShsZWFybmluZ1F1ZXJ5KTtcbiAgICBjb25zdCBsZWFybmluZ1BhcmFtcyA9IFtkZWNrSWQsIG5vd107XG4gICAgaWYgKGhlYWRlckxldmVsICE9PSB1bmRlZmluZWQpIGxlYXJuaW5nUGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgbGVhcm5pbmdTdG10LmJpbmQobGVhcm5pbmdQYXJhbXMpO1xuICAgIGxlYXJuaW5nU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgbGVhcm5pbmdDb3VudCA9IGxlYXJuaW5nU3RtdC5nZXQoKVswXSBhcyBudW1iZXI7XG4gICAgbGVhcm5pbmdTdG10LmZyZWUoKTtcblxuICAgIC8vIER1ZSBjYXJkcyBjb3VudCAocmV2aWV3IGNhcmRzIHRoYXQgYXJlIGR1ZSlcbiAgICBjb25zdCBkdWVRdWVyeSA9IGBcbiAgICAgIFNFTEVDVCBDT1VOVCgqKSBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBzdGF0ZSA9ICdyZXZpZXcnIEFORCBkdWVfZGF0ZSA8PSA/JHtoZWFkZXJGaWx0ZXJ9XG4gICAgYDtcbiAgICBjb25zdCBkdWVTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGR1ZVF1ZXJ5KTtcbiAgICBjb25zdCBkdWVQYXJhbXMgPSBbZGVja0lkLCBub3ddO1xuICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKSBkdWVQYXJhbXMucHVzaChoZWFkZXJMZXZlbC50b1N0cmluZygpKTtcbiAgICBkdWVTdG10LmJpbmQoZHVlUGFyYW1zKTtcbiAgICBkdWVTdG10LnN0ZXAoKTtcbiAgICBjb25zdCBkdWVDb3VudCA9IGR1ZVN0bXQuZ2V0KClbMF0gYXMgbnVtYmVyO1xuICAgIGR1ZVN0bXQuZnJlZSgpO1xuXG4gICAgLy8gVG90YWwgY2FyZHMgY291bnRcbiAgICBjb25zdCB0b3RhbFF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkcyBXSEVSRSBkZWNrX2lkID0gPyR7aGVhZGVyRmlsdGVyfVxuICAgIGA7XG4gICAgY29uc3QgdG90YWxTdG10ID0gdGhpcy5kYi5wcmVwYXJlKHRvdGFsUXVlcnkpO1xuICAgIGNvbnN0IHRvdGFsUGFyYW1zID0gW2RlY2tJZF07XG4gICAgaWYgKGhlYWRlckxldmVsICE9PSB1bmRlZmluZWQpIHRvdGFsUGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgdG90YWxTdG10LmJpbmQodG90YWxQYXJhbXMpO1xuICAgIHRvdGFsU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgdG90YWxDb3VudCA9IHRvdGFsU3RtdC5nZXQoKVswXSBhcyBudW1iZXI7XG4gICAgdG90YWxTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBkZWNrLm5hbWUsXG4gICAgICBuZXdDb3VudCxcbiAgICAgIGxlYXJuaW5nQ291bnQsXG4gICAgICBkdWVDb3VudCxcbiAgICAgIHRvdGFsQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbERlY2tTdGF0cygpOiBQcm9taXNlPERlY2tTdGF0c1tdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRGVja3MoKTtcbiAgICBjb25zdCBzdGF0czogRGVja1N0YXRzW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgZGVjayBvZiBkZWNrcykge1xuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHMoZGVjay5pZCk7XG4gICAgICBzdGF0cy5wdXNoKGRlY2tTdGF0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsRGVja1N0YXRzRmlsdGVyZWQoaGVhZGVyTGV2ZWw/OiBudW1iZXIpOiBQcm9taXNlPERlY2tTdGF0c1tdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZ2V0QWxsRGVja3MoKTtcbiAgICBjb25zdCBzdGF0czogRGVja1N0YXRzW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgZGVjayBvZiBkZWNrcykge1xuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHNGaWx0ZXJlZChkZWNrLmlkLCBoZWFkZXJMZXZlbCk7XG4gICAgICBzdGF0cy5wdXNoKHtcbiAgICAgICAgZGVja0lkOiBkZWNrLmlkLFxuICAgICAgICBuZXdDb3VudDogZGVja1N0YXRzLm5ld0NvdW50LFxuICAgICAgICBsZWFybmluZ0NvdW50OiBkZWNrU3RhdHMubGVhcm5pbmdDb3VudCxcbiAgICAgICAgZHVlQ291bnQ6IGRlY2tTdGF0cy5kdWVDb3VudCxcbiAgICAgICAgdG90YWxDb3VudDogZGVja1N0YXRzLnRvdGFsQ291bnQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cblxuICBhc3luYyBnZXRSZXZpZXdDb3VudHNCeURhdGUoXG4gICAgZGF5czogbnVtYmVyID0gMzY1LFxuICApOiBQcm9taXNlPE1hcDxzdHJpbmcsIG51bWJlcj4+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgc3RhcnREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUIERBVEUocmV2aWV3ZWRfYXQpIGFzIHJldmlld19kYXRlLCBDT1VOVCgqKSBhcyBjb3VudFxuICAgICAgRlJPTSByZXZpZXdfbG9nc1xuICAgICAgV0hFUkUgcmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmV2aWV3ZWRfYXQgPD0gP1xuICAgICAgR1JPVVAgQlkgREFURShyZXZpZXdlZF9hdClcbiAgICAgIE9SREVSIEJZIHJldmlld19kYXRlXG4gICAgYCk7XG5cbiAgICBzdG10LmJpbmQoW3N0YXJ0RGF0ZS50b0lTT1N0cmluZygpLCBlbmREYXRlLnRvSVNPU3RyaW5nKCldKTtcbiAgICBjb25zdCByZXZpZXdDb3VudHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuXG4gICAgd2hpbGUgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgY29uc3QgZGF0ZSA9IHJvd1swXSBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBjb3VudCA9IHJvd1sxXSBhcyBudW1iZXI7XG4gICAgICByZXZpZXdDb3VudHMuc2V0KGRhdGUsIGNvdW50KTtcbiAgICB9XG5cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gcmV2aWV3Q291bnRzO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtaWdyYXRlU2NoZW1hSWZOZWVkZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGFibGVzIGV4aXN0IGZpcnN0XG4gICAgICBjb25zdCB0YWJsZXNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgICAgU0VMRUNUIG5hbWUgRlJPTSBzcWxpdGVfbWFzdGVyXG4gICAgICAgIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZSBJTiAoJ2RlY2tzJywgJ2ZsYXNoY2FyZHMnLCAncmV2aWV3X2xvZ3MnKVxuICAgICAgYCk7XG5cbiAgICAgIGNvbnN0IGV4aXN0aW5nVGFibGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgd2hpbGUgKHRhYmxlc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlc1N0bXQuZ2V0KCk7XG4gICAgICAgIGV4aXN0aW5nVGFibGVzLnB1c2gocm93WzBdIGFzIHN0cmluZyk7XG4gICAgICB9XG4gICAgICB0YWJsZXNTdG10LmZyZWUoKTtcblxuICAgICAgLy8gSWYgbm8gdGFibGVzIGV4aXN0LCBjcmVhdGUgdGhlbSBhbmQgcmV0dXJuXG4gICAgICBpZiAoZXhpc3RpbmdUYWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJObyBleGlzdGluZyB0YWJsZXMgZm91bmQuIENyZWF0aW5nIGluaXRpYWwgc2NoZW1hLi4uXCIpO1xuICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVRhYmxlcygpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHRoZSBvbGQgc2NoZW1hICh0YWcgVU5JUVVFIGNvbnN0cmFpbnQpXG4gICAgICBsZXQgaGFzRmlsZXBhdGggPSB0cnVlO1xuICAgICAgbGV0IGhhc0NvbmZpZyA9IHRydWU7XG4gICAgICBsZXQgaGFzVGltZUVsYXBzZWQgPSB0cnVlO1xuICAgICAgbGV0IGhhc0hlYWRlckxldmVsID0gdHJ1ZTtcbiAgICAgIGxldCBoYXNOZXdSZXZpZXdMb2dDb2x1bW5zID0gdHJ1ZTtcblxuICAgICAgLy8gQ2hlY2sgZGVja3MgdGFibGUgY29sdW1ucyBpZiBpdCBleGlzdHNcbiAgICAgIGlmIChleGlzdGluZ1RhYmxlcy5pbmNsdWRlcyhcImRlY2tzXCIpKSB7XG4gICAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoXCJQUkFHTUEgdGFibGVfaW5mbyhkZWNrcylcIik7XG4gICAgICAgIGNvbnN0IGNvbHVtbnM6IGFueVtdID0gW107XG5cbiAgICAgICAgd2hpbGUgKHN0bXQuc3RlcCgpKSB7XG4gICAgICAgICAgY29sdW1ucy5wdXNoKHN0bXQuZ2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHN0bXQuZnJlZSgpO1xuXG4gICAgICAgIGhhc0ZpbGVwYXRoID0gY29sdW1ucy5zb21lKChjb2wpID0+IGNvbFsxXSA9PT0gXCJmaWxlcGF0aFwiKTtcbiAgICAgICAgaGFzQ29uZmlnID0gY29sdW1ucy5zb21lKChjb2wpID0+IGNvbFsxXSA9PT0gXCJjb25maWdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNGaWxlcGF0aCA9IGZhbHNlO1xuICAgICAgICBoYXNDb25maWcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZmxhc2hjYXJkcyB0YWJsZSBjb2x1bW5zIGlmIGl0IGV4aXN0c1xuICAgICAgaWYgKGV4aXN0aW5nVGFibGVzLmluY2x1ZGVzKFwiZmxhc2hjYXJkc1wiKSkge1xuICAgICAgICBjb25zdCBmbGFzaGNhcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcIlBSQUdNQSB0YWJsZV9pbmZvKGZsYXNoY2FyZHMpXCIpO1xuICAgICAgICBjb25zdCBmbGFzaGNhcmRzQ29sdW1uczogYW55W10gPSBbXTtcbiAgICAgICAgd2hpbGUgKGZsYXNoY2FyZHNTdG10LnN0ZXAoKSkge1xuICAgICAgICAgIGZsYXNoY2FyZHNDb2x1bW5zLnB1c2goZmxhc2hjYXJkc1N0bXQuZ2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGZsYXNoY2FyZHNTdG10LmZyZWUoKTtcbiAgICAgICAgaGFzSGVhZGVyTGV2ZWwgPSBmbGFzaGNhcmRzQ29sdW1ucy5zb21lKFxuICAgICAgICAgIChjb2wpID0+IGNvbFsxXSA9PT0gXCJoZWFkZXJfbGV2ZWxcIixcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc0hlYWRlckxldmVsID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHJldmlld19sb2dzIHRhYmxlIGNvbHVtbnMgaWYgaXQgZXhpc3RzXG4gICAgICBpZiAoZXhpc3RpbmdUYWJsZXMuaW5jbHVkZXMoXCJyZXZpZXdfbG9nc1wiKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJldmlld0xvZ3NTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFxuICAgICAgICAgICAgXCJQUkFHTUEgdGFibGVfaW5mbyhyZXZpZXdfbG9ncylcIixcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHJldmlld0xvZ3NDb2x1bW5zOiBhbnlbXSA9IFtdO1xuICAgICAgICAgIHdoaWxlIChyZXZpZXdMb2dzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgICAgIHJldmlld0xvZ3NDb2x1bW5zLnB1c2gocmV2aWV3TG9nc1N0bXQuZ2V0KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXZpZXdMb2dzU3RtdC5mcmVlKCk7XG5cbiAgICAgICAgICBjb25zdCBjb2x1bW5OYW1lcyA9IHJldmlld0xvZ3NDb2x1bW5zLm1hcCgoY29sKSA9PiBjb2xbMV0pO1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coYFJldmlldyBsb2dzIGNvbHVtbnM6ICR7Y29sdW1uTmFtZXMuam9pbihcIiwgXCIpfWApO1xuXG4gICAgICAgICAgaGFzVGltZUVsYXBzZWQgPSByZXZpZXdMb2dzQ29sdW1ucy5zb21lKFxuICAgICAgICAgICAgKGNvbCkgPT4gY29sWzFdID09PSBcInRpbWVfZWxhcHNlZFwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgaGFzTmV3U3RhdGUgPSByZXZpZXdMb2dzQ29sdW1ucy5zb21lKFxuICAgICAgICAgICAgKGNvbCkgPT4gY29sWzFdID09PSBcIm5ld19zdGF0ZVwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgaGFzTmV3U3RhYmlsaXR5ID0gcmV2aWV3TG9nc0NvbHVtbnMuc29tZShcbiAgICAgICAgICAgIChjb2wpID0+IGNvbFsxXSA9PT0gXCJuZXdfc3RhYmlsaXR5XCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBoYXNOZXdSZXZpZXdMb2dDb2x1bW5zID0gaGFzTmV3U3RhdGUgJiYgaGFzTmV3U3RhYmlsaXR5O1xuXG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBNaWdyYXRpb24gY2hlY2sgLSBoYXNUaW1lRWxhcHNlZDogJHtoYXNUaW1lRWxhcHNlZH0sIGhhc05ld1N0YXRlOiAke2hhc05ld1N0YXRlfSwgaGFzTmV3U3RhYmlsaXR5OiAke2hhc05ld1N0YWJpbGl0eX0sIGhhc05ld1Jldmlld0xvZ0NvbHVtbnM6ICR7aGFzTmV3UmV2aWV3TG9nQ29sdW1uc31gLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgRXJyb3IgY2hlY2tpbmcgcmV2aWV3X2xvZ3MgY29sdW1uczogJHtlcnJvcn1gKTtcbiAgICAgICAgICBoYXNUaW1lRWxhcHNlZCA9IGZhbHNlO1xuICAgICAgICAgIGhhc05ld1Jldmlld0xvZ0NvbHVtbnMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzVGltZUVsYXBzZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAhaGFzRmlsZXBhdGggfHxcbiAgICAgICAgIWhhc0NvbmZpZyB8fFxuICAgICAgICAhaGFzVGltZUVsYXBzZWQgfHxcbiAgICAgICAgIWhhc0hlYWRlckxldmVsIHx8XG4gICAgICAgICFoYXNOZXdSZXZpZXdMb2dDb2x1bW5zXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBcIk1pZ3JhdGluZyBkYXRhYmFzZSBzY2hlbWEgdG8gc3VwcG9ydCBmaWxlcGF0aCwgY29uZmlnLCB0aW1lX2VsYXBzZWQsIGhlYWRlcl9sZXZlbCwgYW5kIG5ldyByZXZpZXcgbG9nIGNvbHVtbnMuLi5cIixcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBZGQgbWlzc2luZyBjb2x1bW5zIHRvIGV4aXN0aW5nIHRhYmxlcyBpbnN0ZWFkIG9mIGRyb3BwaW5nIHRoZW1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBFbnN1cmUgYWxsIHRhYmxlcyBleGlzdCBmaXJzdFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFleGlzdGluZ1RhYmxlcy5pbmNsdWRlcyhcImRlY2tzXCIpIHx8XG4gICAgICAgICAgICAhZXhpc3RpbmdUYWJsZXMuaW5jbHVkZXMoXCJmbGFzaGNhcmRzXCIpIHx8XG4gICAgICAgICAgICAhZXhpc3RpbmdUYWJsZXMuaW5jbHVkZXMoXCJyZXZpZXdfbG9nc1wiKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgICAgXCJNaXNzaW5nIHRhYmxlcyBkZXRlY3RlZC4gQ3JlYXRpbmcgbWlzc2luZyB0YWJsZXMuLi5cIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVRhYmxlcygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgbWlzc2luZyBjb2x1bW5zIHRvIGV4aXN0aW5nIHRhYmxlc1xuICAgICAgICAgICAgaWYgKCFoYXNGaWxlcGF0aCkge1xuICAgICAgICAgICAgICB0aGlzLmRlYnVnTG9nKFwiQWRkaW5nIGZpbGVwYXRoIGNvbHVtbiB0byBkZWNrcyB0YWJsZS4uLlwiKTtcbiAgICAgICAgICAgICAgdGhpcy5kYi5leGVjKGBBTFRFUiBUQUJMRSBkZWNrcyBBREQgQ09MVU1OIGZpbGVwYXRoIFRFWFRgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoYXNDb25maWcpIHtcbiAgICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcIkFkZGluZyBjb25maWcgY29sdW1uIHRvIGRlY2tzIHRhYmxlLi4uXCIpO1xuICAgICAgICAgICAgICB0aGlzLmRiLmV4ZWMoXG4gICAgICAgICAgICAgICAgYEFMVEVSIFRBQkxFIGRlY2tzIEFERCBDT0xVTU4gY29uZmlnIFRFWFQgREVGQVVMVCAne30nYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoYXNUaW1lRWxhcHNlZCkge1xuICAgICAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgICAgIFwiQWRkaW5nIHRpbWVfZWxhcHNlZCBjb2x1bW4gdG8gcmV2aWV3X2xvZ3MgdGFibGUuLi5cIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5kYi5leGVjKFxuICAgICAgICAgICAgICAgIGBBTFRFUiBUQUJMRSByZXZpZXdfbG9ncyBBREQgQ09MVU1OIHRpbWVfZWxhcHNlZCBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMGAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGFzSGVhZGVyTGV2ZWwpIHtcbiAgICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgICAgICBcIkFkZGluZyBoZWFkZXJfbGV2ZWwgY29sdW1uIHRvIGZsYXNoY2FyZHMgdGFibGUuLi5cIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5kYi5leGVjKFxuICAgICAgICAgICAgICAgIGBBTFRFUiBUQUJMRSBmbGFzaGNhcmRzIEFERCBDT0xVTU4gaGVhZGVyX2xldmVsIElOVEVHRVIgQ0hFQ0sgKGhlYWRlcl9sZXZlbCA+PSAxIEFORCBoZWFkZXJfbGV2ZWwgPD0gNilgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBhbmQgYWRkIGluZGl2aWR1YWwgcmV2aWV3X2xvZ3MgY29sdW1uc1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFibGVzLmluY2x1ZGVzKFwicmV2aWV3X2xvZ3NcIikpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmV2aWV3TG9nc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoXG4gICAgICAgICAgICAgICAgXCJQUkFHTUEgdGFibGVfaW5mbyhyZXZpZXdfbG9ncylcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb2x1bW5zID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICAgIHdoaWxlIChyZXZpZXdMb2dzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSByZXZpZXdMb2dzU3RtdC5nZXQoKTtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHVtbnMuYWRkKHJvd1sxXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldmlld0xvZ3NTdG10LmZyZWUoKTtcblxuICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZENvbHVtbnMgPSBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBcIm9sZF9pbnRlcnZhbFwiLCB0eXBlOiBcIklOVEVHRVIgREVGQVVMVCAwXCIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwibmV3X2ludGVydmFsXCIsIHR5cGU6IFwiSU5URUdFUiBERUZBVUxUIDBcIiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJvbGRfZWFzZV9mYWN0b3JcIiwgdHlwZTogXCJSRUFMIERFRkFVTFQgMi41XCIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwibmV3X2Vhc2VfZmFjdG9yXCIsIHR5cGU6IFwiUkVBTCBERUZBVUxUIDIuNVwiIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJuZXdfc3RhdGVcIixcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiVEVYVCBERUZBVUxUICduZXcnIENIRUNLIChuZXdfc3RhdGUgSU4gKCduZXcnLCAnbGVhcm5pbmcnLCAncmV2aWV3JykpXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwibmV3X3JlcGV0aXRpb25zXCIsIHR5cGU6IFwiSU5URUdFUiBERUZBVUxUIDBcIiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJuZXdfbGFwc2VzXCIsIHR5cGU6IFwiSU5URUdFUiBERUZBVUxUIDBcIiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogXCJuZXdfc3RhYmlsaXR5XCIsIHR5cGU6IFwiUkVBTCBERUZBVUxUIDIuNVwiIH0sXG4gICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBjb2x1bW4gb2YgcmVxdWlyZWRDb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ0NvbHVtbnMuaGFzKGNvbHVtbi5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgQWRkaW5nIG1pc3NpbmcgY29sdW1uOiAke2NvbHVtbi5uYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRiLmV4ZWMoXG4gICAgICAgICAgICAgICAgICAgICAgYEFMVEVSIFRBQkxFIHJldmlld19sb2dzIEFERCBDT0xVTU4gJHtjb2x1bW4ubmFtZX0gJHtjb2x1bW4udHlwZX1gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBgRmFpbGVkIHRvIGFkZCBjb2x1bW4gJHtjb2x1bW4ubmFtZX06YCxcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgXCJEYXRhYmFzZSBzY2hlbWEgbWlncmF0aW9uIGNvbXBsZXRlZC4gQWxsIHVzZXIgZGF0YSBwcmVzZXJ2ZWQuXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIGNvbHVtbiBtaWdyYXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFwiRmFsbGluZyBiYWNrIHRvIHRhYmxlIHJlY3JlYXRpb24uLi5cIik7XG5cbiAgICAgICAgICAvLyBPbmx5IGlmIEFMVEVSIFRBQkxFIGZhaWxzLCByZWNyZWF0ZSB0YWJsZXNcbiAgICAgICAgICB0aGlzLmRiLmV4ZWMoYFxuICAgICAgICAgICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgcmV2aWV3X2xvZ3M7XG4gICAgICAgICAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBmbGFzaGNhcmRzO1xuICAgICAgICAgICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgZGVja3M7XG4gICAgICAgICAgYCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVUYWJsZXMoKTtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgXCJEYXRhYmFzZSByZWNyZWF0ZWQuIERhdGEgd2lsbCBiZSByZWJ1aWx0IGZyb20gdmF1bHQgZmlsZXMuXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHNjaGVtYSBtaWdyYXRpb246XCIsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IC0gbGV0IHRoZSBhcHAgY29udGludWUgd2l0aCBwb3RlbnRpYWxseSBvbGQgc2NoZW1hXG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSByb3dUb0ZsYXNoY2FyZChyb3c6IGFueVtdKTogRmxhc2hjYXJkIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICBkZWNrSWQ6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmcm9udDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIGJhY2s6IHJvd1szXSBhcyBzdHJpbmcsXG4gICAgICB0eXBlOiByb3dbNF0gYXMgXCJoZWFkZXItcGFyYWdyYXBoXCIgfCBcInRhYmxlXCIsXG4gICAgICBzb3VyY2VGaWxlOiByb3dbNV0gYXMgc3RyaW5nLFxuICAgICAgY29udGVudEhhc2g6IHJvd1s2XSBhcyBzdHJpbmcsXG4gICAgICBoZWFkZXJMZXZlbDogKHJvd1s3XSBhcyBudW1iZXIgfCBudWxsKSB8fCB1bmRlZmluZWQsXG4gICAgICBzdGF0ZTogcm93WzhdIGFzIFwibmV3XCIgfCBcImxlYXJuaW5nXCIgfCBcInJldmlld1wiLFxuICAgICAgZHVlRGF0ZTogcm93WzldIGFzIHN0cmluZyxcbiAgICAgIGludGVydmFsOiByb3dbMTBdIGFzIG51bWJlcixcbiAgICAgIHJlcGV0aXRpb25zOiByb3dbMTFdIGFzIG51bWJlcixcbiAgICAgIGVhc2VGYWN0b3I6IHJvd1sxMl0gYXMgbnVtYmVyLFxuICAgICAgc3RhYmlsaXR5OiByb3dbMTNdIGFzIG51bWJlcixcbiAgICAgIGxhcHNlczogcm93WzE0XSBhcyBudW1iZXIsXG4gICAgICBsYXN0UmV2aWV3ZWQ6IHJvd1sxNV0gYXMgc3RyaW5nIHwgbnVsbCxcbiAgICAgIGNyZWF0ZWQ6IHJvd1sxNl0gYXMgc3RyaW5nLFxuICAgICAgbW9kaWZpZWQ6IHJvd1sxN10gYXMgc3RyaW5nLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBnZXRPdmVyYWxsU3RhdGlzdGljcyhcbiAgICBkZWNrRmlsdGVyOiBzdHJpbmcgPSBcImFsbFwiLFxuICAgIHRpbWVmcmFtZTogc3RyaW5nID0gXCIxMm1vbnRoc1wiLFxuICApOiBQcm9taXNlPFN0YXRpc3RpY3M+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBEZXRlcm1pbmUgZGF0ZSByYW5nZSBiYXNlZCBvbiB0aW1lZnJhbWVcbiAgICAgIGNvbnN0IGN1dG9mZkRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKHRpbWVmcmFtZSA9PT0gXCIxMm1vbnRoc1wiKSB7XG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RnVsbFllYXIoY3V0b2ZmRGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgXCJhbGxcIiwgZ28gYmFjayAxMCB5ZWFycyAoZWZmZWN0aXZlbHkgYWxsIGRhdGEpXG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RnVsbFllYXIoY3V0b2ZmRGF0ZS5nZXRGdWxsWWVhcigpIC0gMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBCdWlsZCBkZWNrIGZpbHRlciBjb25kaXRpb25zXG4gICAgICBsZXQgZGVja0ZpbHRlckNvbmRpdGlvbiA9IFwiXCI7XG4gICAgICBsZXQgZGVja0ZpbHRlclBhcmFtczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgaWYgKGRlY2tGaWx0ZXIuc3RhcnRzV2l0aChcImRlY2s6XCIpKSB7XG4gICAgICAgIGNvbnN0IGRlY2tJZCA9IGRlY2tGaWx0ZXIuc3Vic3RyaW5nKDUpO1xuICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uID0gXCJBTkQgZi5kZWNrX2lkID0gP1wiO1xuICAgICAgICBkZWNrRmlsdGVyUGFyYW1zLnB1c2goZGVja0lkKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVja0ZpbHRlci5zdGFydHNXaXRoKFwidGFnOlwiKSkge1xuICAgICAgICBjb25zdCB0YWcgPSBkZWNrRmlsdGVyLnN1YnN0cmluZyg0KTtcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvbiA9IFwiQU5EIGQudGFnID0gP1wiO1xuICAgICAgICBkZWNrRmlsdGVyUGFyYW1zLnB1c2godGFnKTtcbiAgICAgIH1cbiAgICAgIC8vIEZvciBcImFsbFwiLCBubyBhZGRpdGlvbmFsIGZpbHRlciBuZWVkZWRcblxuICAgICAgY29uc3QgZGFpbHlTdGF0c1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUXG4gICAgICAgIERBVEUocmV2aWV3ZWRfYXQpIGFzIGRhdGUsXG4gICAgICAgIENPVU5UKCopIGFzIHJldmlld3MsXG4gICAgICAgIENPVU5UKENBU0UgV0hFTiBkaWZmaWN1bHR5ICE9ICdhZ2FpbicgVEhFTiAxIEVORCkgYXMgY29ycmVjdCxcbiAgICAgICAgQ09VTlQoQ0FTRSBXSEVOIGYuc3RhdGUgPSAnbmV3JyBUSEVOIDEgRU5EKSBhcyBuZXdfY2FyZHMsXG4gICAgICAgIENPVU5UKENBU0UgV0hFTiBmLnN0YXRlID0gJ2xlYXJuaW5nJyBUSEVOIDEgRU5EKSBhcyBsZWFybmluZ19jYXJkcyxcbiAgICAgICAgQ09VTlQoQ0FTRSBXSEVOIGYuc3RhdGUgPSAncmV2aWV3JyBUSEVOIDEgRU5EKSBhcyByZXZpZXdfY2FyZHNcbiAgICAgIEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICAgIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWRcbiAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbiA/IFwiSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIiA6IFwiXCJ9XG4gICAgICBXSEVSRSBEQVRFKHJldmlld2VkX2F0KSA+PSBEQVRFKD8pXG4gICAgICAke2RlY2tGaWx0ZXJDb25kaXRpb259XG4gICAgICBHUk9VUCBCWSBEQVRFKHJldmlld2VkX2F0KVxuICAgICAgT1JERVIgQlkgZGF0ZSBERVNDXG4gICAgYCk7XG5cbiAgICAgIGRhaWx5U3RhdHNTdG10LmJpbmQoW1xuICAgICAgICBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxuICAgICAgICAuLi5kZWNrRmlsdGVyUGFyYW1zLFxuICAgICAgXSk7XG4gICAgICBjb25zdCBkYWlseVN0YXRzID0gW107XG5cbiAgICAgIHdoaWxlIChkYWlseVN0YXRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gZGFpbHlTdGF0c1N0bXQuZ2V0KCk7XG4gICAgICAgIGNvbnN0IHJldmlld3MgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgICBjb25zdCBjb3JyZWN0ID0gcm93WzJdIGFzIG51bWJlcjtcbiAgICAgICAgZGFpbHlTdGF0cy5wdXNoKHtcbiAgICAgICAgICBkYXRlOiByb3dbMF0gYXMgc3RyaW5nLFxuICAgICAgICAgIHJldmlld3M6IHJldmlld3MsXG4gICAgICAgICAgdGltZVNwZW50OiByZXZpZXdzICogMzAsIC8vIEVzdGltYXRlIDMwIHNlY29uZHMgcGVyIHJldmlld1xuICAgICAgICAgIG5ld0NhcmRzOiByb3dbM10gYXMgbnVtYmVyLFxuICAgICAgICAgIGxlYXJuaW5nQ2FyZHM6IHJvd1s0XSBhcyBudW1iZXIsXG4gICAgICAgICAgcmV2aWV3Q2FyZHM6IHJvd1s1XSBhcyBudW1iZXIsXG4gICAgICAgICAgY29ycmVjdFJhdGU6IHJldmlld3MgPiAwID8gKGNvcnJlY3QgLyByZXZpZXdzKSAqIDEwMCA6IDAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGFpbHlTdGF0c1N0bXQuZnJlZSgpO1xuXG4gICAgICAvLyBHZXQgY2FyZCBzdGF0cyBieSBzdGF0dXNcbiAgICAgIGNvbnN0IGNhcmRTdGF0c1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgU0VMRUNUXG4gICAgICAgIGYuc3RhdGUsXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50XG4gICAgICBGUk9NIGZsYXNoY2FyZHMgZlxuICAgICAgJHtkZWNrRmlsdGVyQ29uZGl0aW9uID8gXCJKT0lOIGRlY2tzIGQgT04gZi5kZWNrX2lkID0gZC5pZFwiIDogXCJcIn1cbiAgICAgIFdIRVJFIDE9MVxuICAgICAgJHtkZWNrRmlsdGVyQ29uZGl0aW9ufVxuICAgICAgR1JPVVAgQlkgZi5zdGF0ZVxuICAgIGApO1xuXG4gICAgICBjb25zdCBjYXJkU3RhdHMgPSB7XG4gICAgICAgIG5ldzogMCxcbiAgICAgICAgbGVhcm5pbmc6IDAsXG4gICAgICAgIG1hdHVyZTogMCxcbiAgICAgIH07XG5cbiAgICAgIGlmIChkZWNrRmlsdGVyQ29uZGl0aW9uKSB7XG4gICAgICAgIGNhcmRTdGF0c1N0bXQuYmluZChkZWNrRmlsdGVyUGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGNhcmRTdGF0c1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGNhcmRTdGF0c1N0bXQuZ2V0KCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gcm93WzBdIGFzIHN0cmluZztcbiAgICAgICAgY29uc3QgY291bnQgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgICBpZiAoc3RhdGUgPT09IFwibmV3XCIpIGNhcmRTdGF0cy5uZXcgPSBjb3VudDtcbiAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09IFwibGVhcm5pbmdcIikgY2FyZFN0YXRzLmxlYXJuaW5nID0gY291bnQ7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSBcInJldmlld1wiKSBjYXJkU3RhdHMubWF0dXJlID0gY291bnQ7XG4gICAgICB9XG4gICAgICBjYXJkU3RhdHNTdG10LmZyZWUoKTtcblxuICAgICAgLy8gR2V0IGFuc3dlciBidXR0b24gc3RhdHNcbiAgICAgIGNvbnN0IGFuc3dlckJ1dHRvbnNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBybC5kaWZmaWN1bHR5LFxuICAgICAgICBDT1VOVCgqKSBhcyBjb3VudFxuICAgICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgICAgSk9JTiBmbGFzaGNhcmRzIGYgT04gcmwuZmxhc2hjYXJkX2lkID0gZi5pZFxuICAgICAgJHtkZWNrRmlsdGVyQ29uZGl0aW9uID8gXCJKT0lOIGRlY2tzIGQgT04gZi5kZWNrX2lkID0gZC5pZFwiIDogXCJcIn1cbiAgICAgIFdIRVJFIERBVEUocmwucmV2aWV3ZWRfYXQpID49IERBVEUoPylcbiAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1cbiAgICAgIEdST1VQIEJZIHJsLmRpZmZpY3VsdHlcbiAgICBgKTtcblxuICAgICAgY29uc3QgYW5zd2VyQnV0dG9ucyA9IHtcbiAgICAgICAgYWdhaW46IDAsXG4gICAgICAgIGhhcmQ6IDAsXG4gICAgICAgIGdvb2Q6IDAsXG4gICAgICAgIGVhc3k6IDAsXG4gICAgICB9O1xuXG4gICAgICBhbnN3ZXJCdXR0b25zU3RtdC5iaW5kKFtcbiAgICAgICAgY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcbiAgICAgICAgLi4uZGVja0ZpbHRlclBhcmFtcyxcbiAgICAgIF0pO1xuXG4gICAgICB3aGlsZSAoYW5zd2VyQnV0dG9uc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGFuc3dlckJ1dHRvbnNTdG10LmdldCgpO1xuICAgICAgICBjb25zdCBkaWZmaWN1bHR5ID0gcm93WzBdIGFzIHN0cmluZztcbiAgICAgICAgY29uc3QgY291bnQgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgICBhbnN3ZXJCdXR0b25zW2RpZmZpY3VsdHkgYXMga2V5b2YgdHlwZW9mIGFuc3dlckJ1dHRvbnNdID0gY291bnQ7XG4gICAgICB9XG4gICAgICBhbnN3ZXJCdXR0b25zU3RtdC5mcmVlKCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSByZXRlbnRpb24gcmF0ZVxuICAgICAgY29uc3QgdG90YWxSZXZpZXdzID0gT2JqZWN0LnZhbHVlcyhhbnN3ZXJCdXR0b25zKS5yZWR1Y2UoXG4gICAgICAgIChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjb3JyZWN0UmV2aWV3cyA9IHRvdGFsUmV2aWV3cyAtIGFuc3dlckJ1dHRvbnMuYWdhaW47XG4gICAgICBjb25zdCByZXRlbnRpb25SYXRlID1cbiAgICAgICAgdG90YWxSZXZpZXdzID4gMCA/IChjb3JyZWN0UmV2aWV3cyAvIHRvdGFsUmV2aWV3cykgKiAxMDAgOiAwO1xuXG4gICAgICAvLyBHZXQgaW50ZXJ2YWwgZGlzdHJpYnV0aW9uXG4gICAgICBjb25zdCBpbnRlcnZhbHNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBDQVNFXG4gICAgICAgICAgV0hFTiBmLmludGVydmFsIDwgMTQ0MCBUSEVOIENBU1QoZi5pbnRlcnZhbCAvIDYwIEFTIElOVEVHRVIpIHx8ICdoJ1xuICAgICAgICAgIFdIRU4gZi5pbnRlcnZhbCA8IDQzMjAwIFRIRU4gQ0FTVChmLmludGVydmFsIC8gMTQ0MCBBUyBJTlRFR0VSKSB8fCAnZCdcbiAgICAgICAgICBFTFNFIENBU1QoZi5pbnRlcnZhbCAvIDQzMjAwIEFTIElOVEVHRVIpIHx8ICdtJ1xuICAgICAgICBFTkQgYXMgaW50ZXJ2YWxfZ3JvdXAsXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50XG4gICAgICBGUk9NIGZsYXNoY2FyZHMgZlxuICAgICAgJHtkZWNrRmlsdGVyQ29uZGl0aW9uID8gXCJKT0lOIGRlY2tzIGQgT04gZi5kZWNrX2lkID0gZC5pZFwiIDogXCJcIn1cbiAgICAgIFdIRVJFIGYuc3RhdGUgIT0gJ25ldydcbiAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1cbiAgICAgIEdST1VQIEJZIGludGVydmFsX2dyb3VwXG4gICAgICBPUkRFUiBCWSBmLmludGVydmFsXG4gICAgYCk7XG5cbiAgICAgIGlmIChkZWNrRmlsdGVyQ29uZGl0aW9uKSB7XG4gICAgICAgIGludGVydmFsc1N0bXQuYmluZChkZWNrRmlsdGVyUGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW50ZXJ2YWxzID0gW107XG4gICAgICB3aGlsZSAoaW50ZXJ2YWxzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gaW50ZXJ2YWxzU3RtdC5nZXQoKTtcbiAgICAgICAgaW50ZXJ2YWxzLnB1c2goe1xuICAgICAgICAgIGludGVydmFsOiByb3dbMF0gYXMgc3RyaW5nLFxuICAgICAgICAgIGNvdW50OiByb3dbMV0gYXMgbnVtYmVyLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGludGVydmFsc1N0bXQuZnJlZSgpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBmb3JlY2FzdCBmb3IgbmV4dCA5MCBkYXlzXG4gICAgICBjb25zdCBmb3JlY2FzdCA9IFtdO1xuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDkwOyBpKyspIHtcbiAgICAgICAgY29uc3QgZm9yZWNhc3REYXRlID0gbmV3IERhdGUodG9kYXkpO1xuICAgICAgICBmb3JlY2FzdERhdGUuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyBpKTtcbiAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGZvcmVjYXN0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblxuICAgICAgICBjb25zdCBmb3JlY2FzdFN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgICBTRUxFQ1QgQ09VTlQoKikgYXMgZHVlX2NvdW50XG4gICAgICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbiA/IFwiSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIiA6IFwiXCJ9XG4gICAgICAgIFdIRVJFIERBVEUoZi5kdWVfZGF0ZSkgPSBEQVRFKD8pXG4gICAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1cbiAgICAgIGApO1xuXG4gICAgICAgIGZvcmVjYXN0U3RtdC5iaW5kKFtkYXRlU3RyLCAuLi5kZWNrRmlsdGVyUGFyYW1zXSk7XG4gICAgICAgIGxldCBkdWVDb3VudCA9IDA7XG4gICAgICAgIGlmIChmb3JlY2FzdFN0bXQuc3RlcCgpKSB7XG4gICAgICAgICAgY29uc3Qgcm93ID0gZm9yZWNhc3RTdG10LmdldCgpO1xuICAgICAgICAgIGR1ZUNvdW50ID0gcm93WzBdIGFzIG51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBmb3JlY2FzdFN0bXQuZnJlZSgpO1xuXG4gICAgICAgIGZvcmVjYXN0LnB1c2goe1xuICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXG4gICAgICAgICAgZHVlQ291bnQ6IGR1ZUNvdW50LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIHBhY2Ugc3RhdGlzdGljcyBmcm9tIHRpbWVfZWxhcHNlZCBkYXRhXG4gICAgICBjb25zdCBwYWNlU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1RcbiAgICAgICAgQVZHKHJsLnRpbWVfZWxhcHNlZCAvIDEwMDAuMCkgYXMgYXZnX3BhY2UsXG4gICAgICAgIFNVTShybC50aW1lX2VsYXBzZWQgLyAxMDAwLjApIGFzIHRvdGFsX3RpbWVcbiAgICAgIEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICAgIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWRcbiAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbiA/IFwiSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIiA6IFwiXCJ9XG4gICAgICBXSEVSRSBybC5yZXZpZXdlZF9hdCA+PSA/XG4gICAgICAke2RlY2tGaWx0ZXJDb25kaXRpb259XG4gICAgYCk7XG5cbiAgICAgIGlmIChkZWNrRmlsdGVyQ29uZGl0aW9uKSB7XG4gICAgICAgIHBhY2VTdG10LmJpbmQoW2N1dG9mZkRhdGUudG9JU09TdHJpbmcoKSwgLi4uZGVja0ZpbHRlclBhcmFtc10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFjZVN0bXQuYmluZChbY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpXSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBhdmVyYWdlUGFjZSA9IDA7XG4gICAgICBsZXQgdG90YWxSZXZpZXdUaW1lID0gMDtcbiAgICAgIGlmIChwYWNlU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcGFjZVN0bXQuZ2V0KCk7XG4gICAgICAgIGF2ZXJhZ2VQYWNlID0gKHJvd1swXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgICAgIHRvdGFsUmV2aWV3VGltZSA9IChyb3dbMV0gYXMgbnVtYmVyKSB8fCAwO1xuICAgICAgfVxuICAgICAgcGFjZVN0bXQuZnJlZSgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYWlseVN0YXRzLFxuICAgICAgICBjYXJkU3RhdHMsXG4gICAgICAgIGFuc3dlckJ1dHRvbnMsXG4gICAgICAgIHJldGVudGlvblJhdGUsXG4gICAgICAgIGludGVydmFscyxcbiAgICAgICAgZm9yZWNhc3QsXG4gICAgICAgIGF2ZXJhZ2VQYWNlLFxuICAgICAgICB0b3RhbFJldmlld1RpbWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZ2V0T3ZlcmFsbFN0YXRpc3RpY3M6XCIsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBlbXB0eSBkYXRhIHN0cnVjdHVyZSBpbnN0ZWFkIG9mIHRocm93aW5nXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYWlseVN0YXRzOiBbXSxcbiAgICAgICAgY2FyZFN0YXRzOiB7IG5ldzogMCwgbGVhcm5pbmc6IDAsIG1hdHVyZTogMCB9LFxuICAgICAgICBhbnN3ZXJCdXR0b25zOiB7IGFnYWluOiAwLCBoYXJkOiAwLCBnb29kOiAwLCBlYXN5OiAwIH0sXG4gICAgICAgIHJldGVudGlvblJhdGU6IDAsXG4gICAgICAgIGludGVydmFsczogW10sXG4gICAgICAgIGZvcmVjYXN0OiBbXSxcbiAgICAgICAgYXZlcmFnZVBhY2U6IDAsXG4gICAgICAgIHRvdGFsUmV2aWV3VGltZTogMCxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICAgIHRoaXMuZGIgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgImV4cG9ydCB0eXBlIFJldmlld09yZGVyID0gXCJkdWUtZGF0ZVwiIHwgXCJyYW5kb21cIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZWNrQ29uZmlnIHtcbiAgbmV3Q2FyZHNMaW1pdDogbnVtYmVyOyAvLyBNYXggbmV3IGNhcmRzIHBlciBkYXlcbiAgcmV2aWV3Q2FyZHNMaW1pdDogbnVtYmVyOyAvLyBNYXggcmV2aWV3IGNhcmRzIHBlciBkYXlcbiAgZW5hYmxlTmV3Q2FyZHNMaW1pdDogYm9vbGVhbjsgLy8gV2hldGhlciB0byBlbmZvcmNlIG5ldyBjYXJkcyBsaW1pdFxuICBlbmFibGVSZXZpZXdDYXJkc0xpbWl0OiBib29sZWFuOyAvLyBXaGV0aGVyIHRvIGVuZm9yY2UgcmV2aWV3IGNhcmRzIGxpbWl0XG4gIHJldmlld09yZGVyOiBSZXZpZXdPcmRlcjsgLy8gT3JkZXIgZm9yIHJldmlldyBjYXJkczogb2xkZXN0IGR1ZSBmaXJzdCBvciByYW5kb21cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNrIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBmaWxlcGF0aDogc3RyaW5nO1xuICB0YWc6IHN0cmluZztcbiAgbGFzdFJldmlld2VkOiBzdHJpbmcgfCBudWxsO1xuICBjb25maWc6IERlY2tDb25maWc7XG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgbW9kaWZpZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgRmxhc2hjYXJkU3RhdGUgPSBcIm5ld1wiIHwgXCJsZWFybmluZ1wiIHwgXCJyZXZpZXdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmQge1xuICBpZDogc3RyaW5nO1xuICBkZWNrSWQ6IHN0cmluZztcbiAgZnJvbnQ6IHN0cmluZztcbiAgYmFjazogc3RyaW5nO1xuICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIiB8IFwidGFibGVcIjtcbiAgc291cmNlRmlsZTogc3RyaW5nO1xuICBjb250ZW50SGFzaDogc3RyaW5nOyAvLyBIYXNoIG9mIGJhY2sgY29udGVudCBvbmx5IChmcm9udCBpcyB1c2VkIGZvciBJRClcbiAgaGVhZGVyTGV2ZWw/OiBudW1iZXI7IC8vIEhlYWRlciBsZXZlbCAoMS02KSBmb3IgaGVhZGVyLXBhcmFncmFwaCBjYXJkcywgbnVsbCBmb3IgdGFibGUgY2FyZHNcbiAgc3RhdGU6IEZsYXNoY2FyZFN0YXRlO1xuICBkdWVEYXRlOiBzdHJpbmc7XG4gIGludGVydmFsOiBudW1iZXI7IC8vIGluIG1pbnV0ZXNcbiAgcmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgZWFzZUZhY3RvcjogbnVtYmVyOyAvLyBVc2VkIHRvIHN0b3JlIEZTUlMgZGlmZmljdWx0eVxuICBzdGFiaWxpdHk6IG51bWJlcjsgLy8gRlNSUyBzdGFiaWxpdHkgdmFsdWVcbiAgbGFwc2VzOiBudW1iZXI7IC8vIE51bWJlciBvZiB0aW1lcyBjYXJkIHdhcyBmb3Jnb3R0ZW5cbiAgbGFzdFJldmlld2VkOiBzdHJpbmcgfCBudWxsOyAvLyBMYXN0IHJldmlldyBkYXRlXG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgbW9kaWZpZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXdMb2cge1xuICBpZDogc3RyaW5nO1xuICBmbGFzaGNhcmRJZDogc3RyaW5nO1xuICByZXZpZXdlZEF0OiBzdHJpbmc7XG4gIGRpZmZpY3VsdHk6IFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIjtcbiAgb2xkSW50ZXJ2YWw6IG51bWJlcjtcbiAgbmV3SW50ZXJ2YWw6IG51bWJlcjtcbiAgb2xkRWFzZUZhY3RvcjogbnVtYmVyO1xuICBuZXdFYXNlRmFjdG9yOiBudW1iZXI7XG4gIHRpbWVFbGFwc2VkOiBudW1iZXI7IC8vIFRpbWUgaW4gbWlsbGlzZWNvbmRzIGZyb20gY2FyZCBkaXNwbGF5IHRvIGRpZmZpY3VsdHkgc2VsZWN0aW9uXG4gIC8vIEVzc2VudGlhbCBzdGF0ZSB0aGF0IGNhbm5vdCBiZSBjYWxjdWxhdGVkXG4gIG5ld1N0YXRlOiBcIm5ld1wiIHwgXCJsZWFybmluZ1wiIHwgXCJyZXZpZXdcIjtcbiAgbmV3UmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgbmV3TGFwc2VzOiBudW1iZXI7XG4gIG5ld1N0YWJpbGl0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2tTdGF0cyB7XG4gIGRlY2tJZDogc3RyaW5nO1xuICBuZXdDb3VudDogbnVtYmVyO1xuICBsZWFybmluZ0NvdW50OiBudW1iZXI7XG4gIGR1ZUNvdW50OiBudW1iZXI7XG4gIHRvdGFsQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZVNjaGVtYSB7XG4gIGRlY2tzOiBEZWNrO1xuICBmbGFzaGNhcmRzOiBGbGFzaGNhcmQ7XG4gIHJldmlld19sb2dzOiBSZXZpZXdMb2c7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlTdGF0cyB7XG4gIGRhdGU6IHN0cmluZztcbiAgcmV2aWV3czogbnVtYmVyO1xuICB0aW1lU3BlbnQ6IG51bWJlcjtcbiAgbmV3Q2FyZHM6IG51bWJlcjtcbiAgbGVhcm5pbmdDYXJkczogbnVtYmVyO1xuICByZXZpZXdDYXJkczogbnVtYmVyO1xuICBjb3JyZWN0UmF0ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRTdGF0cyB7XG4gIG5ldzogbnVtYmVyO1xuICBsZWFybmluZzogbnVtYmVyO1xuICBtYXR1cmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbnN3ZXJCdXR0b25zIHtcbiAgYWdhaW46IG51bWJlcjtcbiAgaGFyZDogbnVtYmVyO1xuICBnb29kOiBudW1iZXI7XG4gIGVhc3k6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcnZhbERhdGEge1xuICBpbnRlcnZhbDogc3RyaW5nO1xuICBjb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcmVjYXN0RGF0YSB7XG4gIGRhdGU6IHN0cmluZztcbiAgZHVlQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNzIHtcbiAgZGFpbHlTdGF0czogRGFpbHlTdGF0c1tdO1xuICBjYXJkU3RhdHM6IENhcmRTdGF0cztcbiAgYW5zd2VyQnV0dG9uczogQW5zd2VyQnV0dG9ucztcbiAgcmV0ZW50aW9uUmF0ZTogbnVtYmVyO1xuICBpbnRlcnZhbHM6IEludGVydmFsRGF0YVtdO1xuICBmb3JlY2FzdDogRm9yZWNhc3REYXRhW107XG4gIGF2ZXJhZ2VQYWNlOiBudW1iZXI7IC8vIEF2ZXJhZ2Ugc2Vjb25kcyBwZXIgY2FyZFxuICB0b3RhbFJldmlld1RpbWU6IG51bWJlcjsgLy8gVG90YWwgdGltZSBzcGVudCByZXZpZXdpbmcgaW4gc2Vjb25kc1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9ERUNLX0NPTkZJRzogRGVja0NvbmZpZyA9IHtcbiAgbmV3Q2FyZHNMaW1pdDogMjAsXG4gIHJldmlld0NhcmRzTGltaXQ6IDEwMCxcbiAgZW5hYmxlTmV3Q2FyZHNMaW1pdDogZmFsc2UsXG4gIGVuYWJsZVJldmlld0NhcmRzTGltaXQ6IGZhbHNlLFxuICByZXZpZXdPcmRlcjogXCJkdWUtZGF0ZVwiLFxufTtcbiIsICJpbXBvcnQgeyBURmlsZSwgVmF1bHQsIE1ldGFkYXRhQ2FjaGUsIENhY2hlZE1ldGFkYXRhLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IERlY2ssIEZsYXNoY2FyZCwgREVGQVVMVF9ERUNLX0NPTkZJRyB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSBcIi4uL2RhdGFiYXNlL0RhdGFiYXNlU2VydmljZVwiO1xuaW1wb3J0IERlY2tzUGx1Z2luIGZyb20gXCJAL21haW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRGbGFzaGNhcmQge1xuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmc7XG4gIHR5cGU6IFwiaGVhZGVyLXBhcmFncmFwaFwiIHwgXCJ0YWJsZVwiO1xuICBoZWFkZXJMZXZlbD86IG51bWJlcjsgLy8gSGVhZGVyIGxldmVsICgxLTYpIGZvciBoZWFkZXItcGFyYWdyYXBoIGNhcmRzLCBudWxsIGZvciB0YWJsZSBjYXJkc1xufVxuXG5leHBvcnQgY2xhc3MgRGVja01hbmFnZXIge1xuICBwcml2YXRlIHZhdWx0OiBWYXVsdDtcbiAgcHJpdmF0ZSBtZXRhZGF0YUNhY2hlOiBNZXRhZGF0YUNhY2hlO1xuICBwcml2YXRlIGRiOiBEYXRhYmFzZVNlcnZpY2U7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbiB8IHVuZGVmaW5lZDsgLy8gUGx1Z2luIHJlZmVyZW5jZSBmb3IgZGVidWcgbG9nZ2luZ1xuXG4gIC8vIFByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEhFQURFUl9SRUdFWCA9IC9eKCN7MSw2fSlcXHMrLztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFCTEVfUk9XX1JFR0VYID0gL15cXHwuKlxcfCQvO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUJMRV9TRVBBUkFUT1JfUkVHRVggPSAvXlxcfFtcXHMtXStcXHxbXFxzLV0rXFx8JC87XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmF1bHQ6IFZhdWx0LFxuICAgIG1ldGFkYXRhQ2FjaGU6IE1ldGFkYXRhQ2FjaGUsXG4gICAgZGI6IERhdGFiYXNlU2VydmljZSxcbiAgICBwbHVnaW4/OiBEZWNrc1BsdWdpbixcbiAgKSB7XG4gICAgdGhpcy52YXVsdCA9IHZhdWx0O1xuICAgIHRoaXMubWV0YWRhdGFDYWNoZSA9IG1ldGFkYXRhQ2FjaGU7XG4gICAgdGhpcy5kYiA9IGRiO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHRpbWluZyBvcGVyYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRpbWUobXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1zIDwgMTAwMCkge1xuICAgICAgcmV0dXJuIGAke21zLnRvRml4ZWQoMil9bXNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7KG1zIC8gMTAwMCkudG9GaXhlZCgyKX1zYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LmRlYnVnTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LnBlcmZvcm1hbmNlTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5wZXJmb3JtYW5jZUxvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NhbiB2YXVsdCBmb3IgYWxsIGRlY2tzIChmaWxlcyB3aXRoICNmbGFzaGNhcmRzIHRhZ3MpXG4gICAqL1xuICBhc3luYyBzY2FuVmF1bHRGb3JEZWNrcygpOiBQcm9taXNlPE1hcDxzdHJpbmcsIFRGaWxlW10+PiB7XG4gICAgY29uc3QgZGVja3NNYXAgPSBuZXcgTWFwPHN0cmluZywgVEZpbGVbXT4oKTtcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgIHRoaXMuZGVidWdMb2coYFNjYW5uaW5nICR7ZmlsZXMubGVuZ3RofSBtYXJrZG93biBmaWxlcyBmb3IgZmxhc2hjYXJkIHRhZ3NgKTtcblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBObyBtZXRhZGF0YSBmb3IgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQ2hlY2tpbmcgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cbiAgICAgIGNvbnN0IGFsbFRhZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIC8vIENoZWNrIGlubGluZSB0YWdzXG4gICAgICBpZiAobWV0YWRhdGEudGFncykge1xuICAgICAgICBjb25zdCBpbmxpbmVUYWdzID0gbWV0YWRhdGEudGFncy5tYXAoKHQpID0+IHQudGFnKTtcbiAgICAgICAgYWxsVGFncy5wdXNoKC4uLmlubGluZVRhZ3MpO1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBGaWxlICR7ZmlsZS5wYXRofSBoYXMgaW5saW5lIHRhZ3M6YCwgaW5saW5lVGFncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZyb250bWF0dGVyIHRhZ3NcbiAgICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlciAmJiBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKSB7XG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyVGFncyA9IEFycmF5LmlzQXJyYXkobWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFncylcbiAgICAgICAgICA/IG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NcbiAgICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcblxuICAgICAgICAvLyBBZGQgIyBwcmVmaXggaWYgbm90IHByZXNlbnRcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFRhZ3MgPSBmcm9udG1hdHRlclRhZ3MubWFwKCh0YWc6IHN0cmluZykgPT5cbiAgICAgICAgICB0YWcuc3RhcnRzV2l0aChcIiNcIikgPyB0YWcgOiBgIyR7dGFnfWAsXG4gICAgICAgICk7XG4gICAgICAgIGFsbFRhZ3MucHVzaCguLi5ub3JtYWxpemVkVGFncyk7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYEZpbGUgJHtmaWxlLnBhdGh9IGhhcyBmcm9udG1hdHRlciB0YWdzOmAsXG4gICAgICAgICAgbm9ybWFsaXplZFRhZ3MsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxUYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vayBmb3IgI2ZsYXNoY2FyZHMgdGFnc1xuICAgICAgY29uc3QgZmxhc2hjYXJkVGFncyA9IGFsbFRhZ3MuZmlsdGVyKCh0YWcpID0+XG4gICAgICAgIHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIiksXG4gICAgICApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQWxsIHRhZ3MgZm9yICR7ZmlsZS5wYXRofTpgLCBhbGxUYWdzKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEZsYXNoY2FyZCB0YWdzIGZvciAke2ZpbGUucGF0aH06YCwgZmxhc2hjYXJkVGFncyk7XG5cbiAgICAgIGZvciAoY29uc3QgdGFnIG9mIGZsYXNoY2FyZFRhZ3MpIHtcbiAgICAgICAgaWYgKCFkZWNrc01hcC5oYXModGFnKSkge1xuICAgICAgICAgIGRlY2tzTWFwLnNldCh0YWcsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNrc01hcC5nZXQodGFnKSEucHVzaChmaWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnTG9nKGBGb3VuZCAke2RlY2tzTWFwLnNpemV9IGRlY2tzOmAsIEFycmF5LmZyb20oZGVja3NNYXAua2V5cygpKSk7XG4gICAgcmV0dXJuIGRlY2tzTWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZGVja3Mgd2l0aCBkYXRhYmFzZVxuICAgKi9cbiAgYXN5bmMgc3luY0RlY2tzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN5bmNEZWNrc1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiU3RhcnRpbmcgZGVjayBzeW5jLi4uXCIpO1xuICAgICAgY29uc3QgZGVja3NNYXAgPSBhd2FpdCB0aGlzLnNjYW5WYXVsdEZvckRlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3MgZm91bmQgaW4gdmF1bHQ6XCIsIGRlY2tzTWFwKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3MgPSBhd2FpdCB0aGlzLmRiLmdldEFsbERlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRXhpc3RpbmcgZGVja3MgaW4gZGF0YWJhc2U6XCIsIGV4aXN0aW5nRGVja3MpO1xuXG4gICAgICAvLyBDcmVhdGUgYSBtYXAgb2YgZXhpc3RpbmcgZGVja3MgYnkgZmlsZSBwYXRoIGZvciBxdWljayBsb29rdXBcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3NCeUZpbGUgPSBuZXcgTWFwPHN0cmluZywgRGVjaz4oKTtcbiAgICAgIGZvciAoY29uc3QgZGVjayBvZiBleGlzdGluZ0RlY2tzKSB7XG4gICAgICAgIGV4aXN0aW5nRGVja3NCeUZpbGUuc2V0KGRlY2suZmlsZXBhdGgsIGRlY2spO1xuICAgICAgfVxuXG4gICAgICBsZXQgbmV3RGVja3NDcmVhdGVkID0gMDtcbiAgICAgIGxldCB0b3RhbEZpbGVzID0gMDtcblxuICAgICAgLy8gUHJvY2VzcyBlYWNoIGZpbGUgYXMgaXRzIG93biBkZWNrXG4gICAgICBmb3IgKGNvbnN0IFt0YWcsIGZpbGVzXSBvZiBkZWNrc01hcCkge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICB0b3RhbEZpbGVzKys7XG4gICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG4gICAgICAgICAgY29uc3QgZGVja05hbWUgPSBmaWxlLmJhc2VuYW1lOyAvLyBVc2UgZmlsZSBiYXNlbmFtZSBhcyBkZWNrIG5hbWVcblxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGV4aXN0aW5nRGVja3NCeUZpbGUuZ2V0KGZpbGVQYXRoKTtcblxuICAgICAgICAgIHRoaXMuZGVidWdMb2coYENoZWNraW5nIGZpbGU6ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBFeGlzdGluZyBkZWNrIGZvdW5kOmAsXG4gICAgICAgICAgICBleGlzdGluZ0RlY2sgPyBgWUVTIChJRDogJHtleGlzdGluZ0RlY2suaWR9KWAgOiBcIk5PXCIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChleGlzdGluZ0RlY2spIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBkZWNrIGlmIHRhZyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdEZWNrLnRhZyAhPT0gdGFnKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYFVwZGF0aW5nIGRlY2sgXCIke2RlY2tOYW1lfVwiIHRhZyBmcm9tICR7ZXhpc3RpbmdEZWNrLnRhZ30gdG8gJHt0YWd9YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi51cGRhdGVEZWNrKGV4aXN0aW5nRGVjay5pZCwge1xuICAgICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYERlY2sgXCIke2RlY2tOYW1lfVwiIGFscmVhZHkgZXhpc3RzIHdpdGggY29ycmVjdCB0YWcsIG5vIHVwZGF0ZSBuZWVkZWRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGRlY2sgZm9yIHRoaXMgZmlsZVxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGxldCBkZWNrTW9kVGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRlVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSk7XG4gICAgICAgICAgICAgIC8vIFVzZSB0aGUgZWFybGllciBvZiBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lIG9yIGZpbGUgY3JlYXRpb24gdGltZVxuICAgICAgICAgICAgICBkZWNrTW9kVGltZSA9XG4gICAgICAgICAgICAgICAgZmlsZU1vZFRpbWUgPCBmaWxlQ3JlYXRlVGltZSA/IGZpbGVNb2RUaW1lIDogZmlsZUNyZWF0ZVRpbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCI+ID0ge1xuICAgICAgICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZURlY2tJZChmaWxlUGF0aCksXG4gICAgICAgICAgICAgIG5hbWU6IGRlY2tOYW1lLCAvLyBTdG9yZSBjbGVhbiBmaWxlIG5hbWVcbiAgICAgICAgICAgICAgZmlsZXBhdGg6IGZpbGVQYXRoLCAvLyBTdG9yZSBmdWxsIGZpbGUgcGF0aCBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICBsYXN0UmV2aWV3ZWQ6IG51bGwsXG4gICAgICAgICAgICAgIGNvbmZpZzogREVGQVVMVF9ERUNLX0NPTkZJRyxcbiAgICAgICAgICAgICAgbW9kaWZpZWQ6IGRlY2tNb2RUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgICAgYENyZWF0aW5nIG5ldyBkZWNrOiBcIiR7ZGVja05hbWV9XCIgd2l0aCBJRDogJHtkZWNrLmlkfSwgdGFnOiAke3RhZ30sIGZpbGVwYXRoOiAke2ZpbGVQYXRofWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVEZWNrKGRlY2spO1xuICAgICAgICAgICAgbmV3RGVja3NDcmVhdGVkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwIG9ycGhhbmVkIGRlY2tzIChkZWNrcyB3aG9zZSBmaWxlcyBubyBsb25nZXIgZXhpc3QpXG4gICAgICBjb25zdCBhbGxGaWxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgZm9yIChjb25zdCBbdGFnLCBmaWxlc10gb2YgZGVja3NNYXApIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgYWxsRmlsZXMuYWRkKGZpbGUucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGRlbGV0ZWREZWNrcyA9IDA7XG4gICAgICBmb3IgKGNvbnN0IGRlY2sgb2YgZXhpc3RpbmdEZWNrcykge1xuICAgICAgICBpZiAoIWFsbEZpbGVzLmhhcyhkZWNrLmZpbGVwYXRoKSkge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgRGVsZXRpbmcgb3JwaGFuZWQgZGVjazogXCIke2RlY2submFtZX1cIiAoJHtkZWNrLmZpbGVwYXRofSlgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5kZWxldGVEZWNrQnlGaWxlcGF0aChkZWNrLmZpbGVwYXRoKTtcbiAgICAgICAgICBkZWxldGVkRGVja3MrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZC4gUHJvY2Vzc2VkICR7dG90YWxGaWxlc30gZmlsZXMsIGNyZWF0ZWQgJHtuZXdEZWNrc0NyZWF0ZWR9IG5ldyBkZWNrcywgZGVsZXRlZCAke2RlbGV0ZWREZWNrc30gb3JwaGFuZWQgZGVja3MuYCxcbiAgICAgICk7XG4gICAgICBjb25zdCBzeW5jRGVja3NUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzeW5jRGVja3NTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJHt0aGlzLmZvcm1hdFRpbWUoc3luY0RlY2tzVGltZSl9ICgke25ld0RlY2tzQ3JlYXRlZH0gY3JlYXRlZCwgJHtkZWxldGVkRGVja3N9IGRlbGV0ZWQpYCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgZGVjayBzeW5jOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IGNhbGxlciBoYW5kbGVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgZmxhc2hjYXJkcyBmcm9tIGEgZmlsZVxuICAgKi9cbiAgYXN5bmMgcGFyc2VGbGFzaGNhcmRzRnJvbUZpbGUoZmlsZTogVEZpbGUpOiBQcm9taXNlPFBhcnNlZEZsYXNoY2FyZFtdPiB7XG4gICAgY29uc3QgcGFyc2VTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIC8vIFJlYWQgYW5kIHBhcnNlIGNvbnRlbnRcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy52YXVsdC5yZWFkKGZpbGUpO1xuICAgIGNvbnN0IHJlYWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwYXJzZVN0YXJ0VGltZTtcblxuICAgIGNvbnN0IHBhcnNlQ29udGVudFN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBhcnNlRmxhc2hjYXJkc0Zyb21Db250ZW50KGNvbnRlbnQpO1xuICAgIGNvbnN0IHBhcnNlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcGFyc2VDb250ZW50U3RhcnRUaW1lO1xuXG4gICAgY29uc3QgdG90YWxUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwYXJzZVN0YXJ0VGltZTtcblxuICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICBgUGFyc2VkICR7Zmxhc2hjYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgZnJvbSAke2ZpbGUucGF0aH0gaW4gJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX0gKHJlYWQ6ICR7dGhpcy5mb3JtYXRUaW1lKHJlYWRUaW1lKX0sIHBhcnNlOiAke3RoaXMuZm9ybWF0VGltZShwYXJzZVRpbWUpfSlgLFxuICAgICk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBmbGFzaGNhcmRzIGZyb20gY29udGVudCBzdHJpbmcgKG9wdGltaXplZCBzaW5nbGUtcGFzcyBwYXJzaW5nKVxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZUZsYXNoY2FyZHNGcm9tQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBQYXJzZWRGbGFzaGNhcmRbXSB7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xuICAgIGNvbnN0IGZsYXNoY2FyZHM6IFBhcnNlZEZsYXNoY2FyZFtdID0gW107XG5cbiAgICAvLyBTaW5nbGUgcGFzcyB0aHJvdWdoIGxpbmVzIGZvciBib3RoIHRhYmxlIGFuZCBoZWFkZXIgcGFyc2luZ1xuICAgIGxldCBpblRhYmxlID0gZmFsc2U7XG4gICAgbGV0IGhlYWRlclNlZW4gPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudEhlYWRlcjogeyB0ZXh0OiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50Q29udGVudDogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaW5Gcm9udG1hdHRlciA9IGZhbHNlO1xuICAgIGxldCBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuXG4gICAgLy8gVXNlIHByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gbGluZXNbaV07XG4gICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUudHJpbSgpO1xuXG4gICAgICAvLyBIYW5kbGUgZnJvbnRtYXR0ZXJcbiAgICAgIGlmIChpID09PSAwICYmIHRyaW1tZWRMaW5lID09PSBcIi0tLVwiKSB7XG4gICAgICAgIGluRnJvbnRtYXR0ZXIgPSB0cnVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbkZyb250bWF0dGVyKSB7XG4gICAgICAgIGlmICh0cmltbWVkTGluZSA9PT0gXCItLS1cIikge1xuICAgICAgICAgIGluRnJvbnRtYXR0ZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHRhYmxlIHJvd3NcbiAgICAgIGlmIChEZWNrTWFuYWdlci5UQUJMRV9ST1dfUkVHRVgudGVzdCh0cmltbWVkTGluZSkpIHtcbiAgICAgICAgaWYgKCFpblRhYmxlKSB7XG4gICAgICAgICAgaW5UYWJsZSA9IHRydWU7XG4gICAgICAgICAgaGVhZGVyU2VlbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBoZWFkZXIgYW5kIHNlcGFyYXRvciByb3dzXG4gICAgICAgIGlmICghaGVhZGVyU2Vlbikge1xuICAgICAgICAgIGhlYWRlclNlZW4gPSB0cnVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEZWNrTWFuYWdlci5UQUJMRV9TRVBBUkFUT1JfUkVHRVgudGVzdCh0cmltbWVkTGluZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcnNlIHRhYmxlIHJvd1xuICAgICAgICBjb25zdCBjZWxscyA9IHRyaW1tZWRMaW5lXG4gICAgICAgICAgLnNsaWNlKDEsIC0xKSAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyBwaXBlc1xuICAgICAgICAgIC5zcGxpdChcInxcIilcbiAgICAgICAgICAubWFwKChjZWxsKSA9PiBjZWxsLnRyaW0oKSk7XG5cbiAgICAgICAgaWYgKGNlbGxzLmxlbmd0aCA+PSAyICYmIGNlbGxzWzBdICYmIGNlbGxzWzFdKSB7XG4gICAgICAgICAgZmxhc2hjYXJkcy5wdXNoKHtcbiAgICAgICAgICAgIGZyb250OiBjZWxsc1swXSxcbiAgICAgICAgICAgIGJhY2s6IGNlbGxzWzFdLFxuICAgICAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3QgYSB0YWJsZSByb3csIGVuZCB0YWJsZSBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChpblRhYmxlKSB7XG4gICAgICAgICAgaW5UYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhlYWRlcnNcbiAgICAgICAgY29uc3QgaGVhZGVyTWF0Y2ggPSBEZWNrTWFuYWdlci5IRUFERVJfUkVHRVguZXhlYyhsaW5lKTtcbiAgICAgICAgaWYgKGhlYWRlck1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudEhlYWRlckxldmVsID0gaGVhZGVyTWF0Y2hbMV0ubGVuZ3RoO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHRpdGxlIGhlYWRlcnMgdG8gc2tpcFxuICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eI1xccysvKSAmJiBsaW5lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJmbGFzaGNhcmRcIikpIHtcbiAgICAgICAgICAgIHNraXBOZXh0UGFyYWdyYXBoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVDdXJyZW50SGVhZGVyKFxuICAgICAgICAgICAgICBjdXJyZW50SGVhZGVyLFxuICAgICAgICAgICAgICBjdXJyZW50Q29udGVudCxcbiAgICAgICAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50SGVhZGVyID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZW50ID0gW107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGaW5hbGl6ZSBwcmV2aW91cyBoZWFkZXJcbiAgICAgICAgICB0aGlzLmZpbmFsaXplQ3VycmVudEhlYWRlcihjdXJyZW50SGVhZGVyLCBjdXJyZW50Q29udGVudCwgZmxhc2hjYXJkcyk7XG5cbiAgICAgICAgICAvLyBTdGFydCBuZXcgaGVhZGVyXG4gICAgICAgICAgY3VycmVudEhlYWRlciA9IHtcbiAgICAgICAgICAgIHRleHQ6IGxpbmUsXG4gICAgICAgICAgICBsZXZlbDogY3VycmVudEhlYWRlckxldmVsLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY3VycmVudENvbnRlbnQgPSBbXTtcbiAgICAgICAgICBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHNraXBOZXh0UGFyYWdyYXBoKSB7XG4gICAgICAgICAgaWYgKHRyaW1tZWRMaW5lID09PSBcIlwiKSB7XG4gICAgICAgICAgICBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SGVhZGVyKSB7XG4gICAgICAgICAgLy8gU2tpcCBlbXB0eSBsaW5lcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGNvbnRlbnRcbiAgICAgICAgICBpZiAodHJpbW1lZExpbmUgPT09IFwiXCIgJiYgY3VycmVudENvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudENvbnRlbnQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmFsaXplIGxhc3QgaGVhZGVyXG4gICAgdGhpcy5maW5hbGl6ZUN1cnJlbnRIZWFkZXIoY3VycmVudEhlYWRlciwgY3VycmVudENvbnRlbnQsIGZsYXNoY2FyZHMpO1xuXG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGZpbmFsaXplIGN1cnJlbnQgaGVhZGVyIGZsYXNoY2FyZFxuICAgKi9cbiAgcHJpdmF0ZSBmaW5hbGl6ZUN1cnJlbnRIZWFkZXIoXG4gICAgY3VycmVudEhlYWRlcjogeyB0ZXh0OiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfSB8IG51bGwsXG4gICAgY3VycmVudENvbnRlbnQ6IHN0cmluZ1tdLFxuICAgIGZsYXNoY2FyZHM6IFBhcnNlZEZsYXNoY2FyZFtdLFxuICApOiB2b2lkIHtcbiAgICBpZiAoY3VycmVudEhlYWRlciAmJiBjdXJyZW50Q29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICBmbGFzaGNhcmRzLnB1c2goe1xuICAgICAgICBmcm9udDogY3VycmVudEhlYWRlci50ZXh0LnJlcGxhY2UoL14jezEsNn1cXHMrLywgXCJcIiksXG4gICAgICAgIGJhY2s6IGN1cnJlbnRDb250ZW50LmpvaW4oXCJcXG5cIikudHJpbSgpLFxuICAgICAgICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIixcbiAgICAgICAgaGVhZGVyTGV2ZWw6IGN1cnJlbnRIZWFkZXIubGV2ZWwsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBiYXRjaCBkYXRhYmFzZSBvcGVyYXRpb25zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUJhdGNoT3BlcmF0aW9ucyhcbiAgICBvcGVyYXRpb25zOiBBcnJheTx7XG4gICAgICB0eXBlOiBcImNyZWF0ZVwiIHwgXCJ1cGRhdGVcIiB8IFwiZGVsZXRlXCI7XG4gICAgICBmbGFzaGNhcmRJZD86IHN0cmluZztcbiAgICAgIGZsYXNoY2FyZD86IE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj47XG4gICAgICB1cGRhdGVzPzogYW55O1xuICAgIH0+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBiYXRjaFN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IEJBVENIX1NJWkUgPSA1MDtcbiAgICBsZXQgY3JlYXRlQ291bnQgPSAwO1xuICAgIGxldCB1cGRhdGVDb3VudCA9IDA7XG4gICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BlcmF0aW9ucy5sZW5ndGg7IGkgKz0gQkFUQ0hfU0laRSkge1xuICAgICAgY29uc3QgY2h1bmsgPSBvcGVyYXRpb25zLnNsaWNlKGksIGkgKyBCQVRDSF9TSVpFKTtcbiAgICAgIGNvbnN0IGNodW5rU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIC8vIEV4ZWN1dGUgY2h1bmsgb3BlcmF0aW9uc1xuICAgICAgZm9yIChjb25zdCBvcCBvZiBjaHVuaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN3aXRjaCAob3AudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImNyZWF0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVGbGFzaGNhcmQob3AuZmxhc2hjYXJkKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInVwZGF0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkSWQgJiYgb3AudXBkYXRlcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRmxhc2hjYXJkKG9wLmZsYXNoY2FyZElkLCBvcC51cGRhdGVzKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkSWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLmRlbGV0ZUZsYXNoY2FyZChvcC5mbGFzaGNhcmRJZCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQ291bnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgJHtvcC50eXBlfSBvcGVyYXRpb246YCwgZXJyb3IpO1xuICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgb3BlcmF0aW9uc1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNodW5rVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gY2h1bmtTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgQmF0Y2ggJHtNYXRoLmZsb29yKGkgLyBCQVRDSF9TSVpFKSArIDF9OiAke2NodW5rLmxlbmd0aH0gb3BlcmF0aW9ucyBpbiAke3RoaXMuZm9ybWF0VGltZShjaHVua1RpbWUpfWAsXG4gICAgICApO1xuXG4gICAgICAvLyBZaWVsZCBjb250cm9sIGJldHdlZW4gY2h1bmtzXG4gICAgICBpZiAoaSArIEJBVENIX1NJWkUgPCBvcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsQmF0Y2hUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBiYXRjaFN0YXJ0VGltZTtcbiAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgYEJhdGNoIG9wZXJhdGlvbnMgY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsQmF0Y2hUaW1lKX0gKCR7Y3JlYXRlQ291bnR9IGNyZWF0ZWQsICR7dXBkYXRlQ291bnR9IHVwZGF0ZWQsICR7ZGVsZXRlQ291bnR9IGRlbGV0ZWQpYCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZmxhc2hjYXJkcyBmb3IgYSBzcGVjaWZpYyBkZWNrIChmaWxlKVxuICAgKi9cbiAgYXN5bmMgc3luY0ZsYXNoY2FyZHNGb3JEZWNrKFxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGVja1N5bmNTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLmRlYnVnTG9nKGBTeW5jaW5nIGZsYXNoY2FyZHMgZm9yIGRlY2s6ICR7ZmlsZVBhdGh9YCk7XG5cbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlGaWxlcGF0aChmaWxlUGF0aCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBObyBkZWNrIGZvdW5kIGZvciBmaWxlcGF0aDogJHtmaWxlUGF0aH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGb3VuZCBkZWNrIElEOiAke2RlY2suaWR9LCBuYW1lOiAke2RlY2submFtZX0sIGZpbGVwYXRoOiAke2RlY2suZmlsZXBhdGh9YCxcbiAgICApO1xuXG4gICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSByZXR1cm47XG5cbiAgICAvLyBHZXQgZmlsZSBtb2RpZmljYXRpb24gdGltZVxuICAgIGNvbnN0IGZpbGVNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuXG4gICAgLy8gQ2hlY2sgaWYgZmlsZSBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSBsYXN0IGRlY2sgdXBkYXRlICh1bmxlc3MgZm9yY2VkKVxuICAgIGlmICghZm9yY2UpIHtcbiAgICAgIGNvbnN0IGRlY2tNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShkZWNrLm1vZGlmaWVkKTtcbiAgICAgIGlmIChmaWxlTW9kaWZpZWRUaW1lIDw9IGRlY2tNb2RpZmllZFRpbWUpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgRmlsZSAke2ZpbGVQYXRofSBub3QgbW9kaWZpZWQgc2luY2UgbGFzdCBzeW5jLCBza2lwcGluZ2AsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGaWxlIG1vZGlmaWVkOiAke2ZpbGVNb2RpZmllZFRpbWUudG9JU09TdHJpbmcoKX0sIGxhc3Qgc3luYzogJHtkZWNrLm1vZGlmaWVkfWAsXG4gICAgKTtcblxuICAgIC8vIEdldCBleGlzdGluZyBmbGFzaGNhcmRzIGZvciB0aGlzIGRlY2tcbiAgICBjb25zdCBleGlzdGluZ0ZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVjay5pZCk7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGb3VuZCAke2V4aXN0aW5nRmxhc2hjYXJkcy5sZW5ndGh9IGV4aXN0aW5nIGZsYXNoY2FyZHMgZm9yIGRlY2sgJHtkZWNrLm5hbWV9YCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhpc3RpbmdCeUlkID0gbmV3IE1hcDxzdHJpbmcsIEZsYXNoY2FyZD4oKTtcbiAgICBleGlzdGluZ0ZsYXNoY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgZXhpc3RpbmdCeUlkLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEV4aXN0aW5nIGNhcmQgSUQ6ICR7Y2FyZC5pZH0sIEZyb250OiBcIiR7Y2FyZC5mcm9udH1cImApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvY2Vzc2VkSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgZHVwbGljYXRlV2FybmluZ3MgPSBuZXcgU2V0PHN0cmluZz4oKTsgLy8gVHJhY2sgZHVwbGljYXRlcyB0byB3YXJuIG9ubHkgb25jZSBwZXIgZmlsZVxuXG4gICAgLy8gUGFyc2UgZmxhc2hjYXJkcyBmcm9tIHRoZSBmaWxlXG4gICAgY29uc3QgcGFyc2VkQ2FyZHMgPSBhd2FpdCB0aGlzLnBhcnNlRmxhc2hjYXJkc0Zyb21GaWxlKGZpbGUpO1xuICAgIHRoaXMuZGVidWdMb2coYFBhcnNlZCAke3BhcnNlZENhcmRzLmxlbmd0aH0gZmxhc2hjYXJkcyBmcm9tICR7ZmlsZVBhdGh9YCk7XG5cbiAgICAvLyBCYXRjaCBvcGVyYXRpb25zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBjb25zdCBiYXRjaE9wZXJhdGlvbnM6IEFycmF5PHtcbiAgICAgIHR5cGU6IFwiY3JlYXRlXCIgfCBcInVwZGF0ZVwiIHwgXCJkZWxldGVcIjtcbiAgICAgIGZsYXNoY2FyZElkPzogc3RyaW5nO1xuICAgICAgZmxhc2hjYXJkPzogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPjtcbiAgICAgIHVwZGF0ZXM/OiBhbnk7XG4gICAgfT4gPSBbXTtcblxuICAgIC8vIFByb2Nlc3MgZmxhc2hjYXJkcyBpbiBjaHVua3MgdG8gYXZvaWQgYmxvY2tpbmcgVUkgd2l0aCBsYXJnZSBkYXRhc2V0c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlZENhcmRzW2ldO1xuICAgICAgY29uc3QgZmxhc2hjYXJkSWQgPSB0aGlzLmdlbmVyYXRlRmxhc2hjYXJkSWQocGFyc2VkLmZyb250KTtcbiAgICAgIGNvbnN0IGNvbnRlbnRIYXNoID0gdGhpcy5nZW5lcmF0ZUNvbnRlbnRIYXNoKHBhcnNlZC5iYWNrKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2FyZCA9IGV4aXN0aW5nQnlJZC5nZXQoZmxhc2hjYXJkSWQpO1xuXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIGZyb250IHRleHQgd2l0aGluIHRoZSBzYW1lIHBhcnNpbmcgc2Vzc2lvblxuICAgICAgaWYgKHByb2Nlc3NlZElkcy5oYXMoZmxhc2hjYXJkSWQpKSB7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZUtleSA9IGAke2RlY2submFtZX06JHtwYXJzZWQuZnJvbnR9YDtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVXYXJuaW5ncy5oYXMoZHVwbGljYXRlS2V5KSkge1xuICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICBgXHUyNkEwXHVGRTBGIER1cGxpY2F0ZSBmbGFzaGNhcmQgZGV0ZWN0ZWQgaW4gXCIke2RlY2submFtZX1cIjogXCIke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgNTApfSR7cGFyc2VkLmZyb250Lmxlbmd0aCA+IDUwID8gXCIuLi5cIiA6IFwiXCJ9XCIuIE9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugd2lsbCBiZSB1c2VkLmAsXG4gICAgICAgICAgICA4MDAwLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZHVwbGljYXRlV2FybmluZ3MuYWRkKGR1cGxpY2F0ZUtleSk7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBEdXBsaWNhdGUgZmxhc2hjYXJkIGRldGVjdGVkOiBcIiR7cGFyc2VkLmZyb250fVwiIGluIGRlY2sgXCIke2RlY2submFtZX1cImAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIGR1cGxpY2F0ZVxuICAgICAgfVxuXG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgUHJvY2Vzc2luZyBmbGFzaGNhcmQ6IFwiJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDUwKX0uLi5cImAsXG4gICAgICApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgYEdlbmVyYXRlZCBJRDogJHtmbGFzaGNhcmRJZH0gKGZyb20gZnJvbnQ6IFwiJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDMwKX0uLi5cIiArIGRlY2s6ICR7ZGVjay5pZH0pYCxcbiAgICAgICk7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBDb250ZW50IGhhc2g6ICR7Y29udGVudEhhc2h9YCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBFeGlzdGluZyBjYXJkIGZvdW5kOmAsIGV4aXN0aW5nQ2FyZCA/IFwiWUVTXCIgOiBcIk5PXCIpO1xuXG4gICAgICBpZiAoZXhpc3RpbmdDYXJkKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYEV4aXN0aW5nIGNhcmQgLSBJRDogJHtleGlzdGluZ0NhcmQuaWR9LCBGcm9udDogXCIke2V4aXN0aW5nQ2FyZC5mcm9udC5zdWJzdHJpbmcoMCwgMzApfS4uLlwiLCBIYXNoOiAke2V4aXN0aW5nQ2FyZC5jb250ZW50SGFzaH1gLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBwcm9jZXNzZWRJZHMuYWRkKGZsYXNoY2FyZElkKTtcblxuICAgICAgLy8gWWllbGQgY29udHJvbCBldmVyeSA1MCBmbGFzaGNhcmRzIHRvIGtlZXAgVUkgcmVzcG9uc2l2ZVxuICAgICAgaWYgKGkgJSA1MCA9PT0gNDkpIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RpbmdDYXJkKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBpZiBjb250ZW50IGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmIChleGlzdGluZ0NhcmQuY29udGVudEhhc2ggIT09IGNvbnRlbnRIYXNoKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBDb250ZW50IGNoYW5nZWQsIHVwZGF0aW5nIGZsYXNoY2FyZDogJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDMwKX0uLi5gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYmF0Y2hPcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgICAgICAgIGZsYXNoY2FyZElkOiBleGlzdGluZ0NhcmQuaWQsXG4gICAgICAgICAgICB1cGRhdGVzOiB7XG4gICAgICAgICAgICAgIGZyb250OiBwYXJzZWQuZnJvbnQsXG4gICAgICAgICAgICAgIGJhY2s6IHBhcnNlZC5iYWNrLFxuICAgICAgICAgICAgICB0eXBlOiBwYXJzZWQudHlwZSxcbiAgICAgICAgICAgICAgY29udGVudEhhc2g6IGNvbnRlbnRIYXNoLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgYE5vIGNvbnRlbnQgY2hhbmdlLCBza2lwcGluZyB1cGRhdGU6ICR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCAzMCl9Li4uYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgcmV2aWV3IGxvZ3MgdG8gcmVzdG9yZSBwcm9ncmVzc1xuICAgICAgICBjb25zdCBwcmV2aW91c1Byb2dyZXNzID1cbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLmdldExhdGVzdFJldmlld0xvZ0ZvckZsYXNoY2FyZChmbGFzaGNhcmRJZCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBmbGFzaGNhcmQgd2l0aCByZXN0b3JlZCBwcm9ncmVzcyBpZiBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkOiBPbWl0PEZsYXNoY2FyZCwgXCJjcmVhdGVkXCIgfCBcIm1vZGlmaWVkXCI+ID0ge1xuICAgICAgICAgIGlkOiBmbGFzaGNhcmRJZCxcbiAgICAgICAgICBkZWNrSWQ6IGRlY2suaWQsXG4gICAgICAgICAgZnJvbnQ6IHBhcnNlZC5mcm9udCxcbiAgICAgICAgICBiYWNrOiBwYXJzZWQuYmFjayxcbiAgICAgICAgICB0eXBlOiBwYXJzZWQudHlwZSxcbiAgICAgICAgICBzb3VyY2VGaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgY29udGVudEhhc2g6IGNvbnRlbnRIYXNoLFxuICAgICAgICAgIGhlYWRlckxldmVsOiBwYXJzZWQuaGVhZGVyTGV2ZWwsXG4gICAgICAgICAgLy8gUmVzdG9yZSBwcm9ncmVzcyBmcm9tIHJldmlldyBsb2dzIG9yIHVzZSBkZWZhdWx0c1xuICAgICAgICAgIHN0YXRlOiBwcmV2aW91c1Byb2dyZXNzPy5zdGF0ZSB8fCBcIm5ld1wiLFxuICAgICAgICAgIGR1ZURhdGU6IHByZXZpb3VzUHJvZ3Jlc3M/LmR1ZURhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGludGVydmFsOiBwcmV2aW91c1Byb2dyZXNzPy5pbnRlcnZhbCB8fCAwLFxuICAgICAgICAgIHJlcGV0aXRpb25zOiBwcmV2aW91c1Byb2dyZXNzPy5yZXBldGl0aW9ucyB8fCAwLFxuICAgICAgICAgIGVhc2VGYWN0b3I6IHByZXZpb3VzUHJvZ3Jlc3M/LmVhc2VGYWN0b3IgfHwgNS4wLCAvLyBGU1JTIGluaXRpYWwgZGlmZmljdWx0eVxuICAgICAgICAgIHN0YWJpbGl0eTogcHJldmlvdXNQcm9ncmVzcz8uc3RhYmlsaXR5IHx8IDIuNSwgLy8gRlNSUyBpbml0aWFsIHN0YWJpbGl0eVxuICAgICAgICAgIGxhcHNlczogcHJldmlvdXNQcm9ncmVzcz8ubGFwc2VzIHx8IDAsXG4gICAgICAgICAgbGFzdFJldmlld2VkOiBwcmV2aW91c1Byb2dyZXNzPy5sYXN0UmV2aWV3ZWQgfHwgbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocHJldmlvdXNQcm9ncmVzcykge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgUmVzdG9yaW5nIGZsYXNoY2FyZCBwcm9ncmVzcyBmcm9tIHJldmlldyBsb2dzOiAke2ZsYXNoY2FyZC5mcm9udH0gKHN0YXRlOiAke3ByZXZpb3VzUHJvZ3Jlc3Muc3RhdGV9LCBpbnRlcnZhbDogJHtwcmV2aW91c1Byb2dyZXNzLmludGVydmFsfSlgLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBOb3RpZnkgdXNlciB0aGF0IHByb2dyZXNzIHdhcyByZXN0b3JlZFxuICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICBgXHUyNzA1IFByb2dyZXNzIHJlc3RvcmVkIGZvciBmbGFzaGNhcmQ6IFwiJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDQwKX0ke3BhcnNlZC5mcm9udC5sZW5ndGggPiA0MCA/IFwiLi4uXCIgOiBcIlwifVwiICgke3ByZXZpb3VzUHJvZ3Jlc3Muc3RhdGV9LCAke3ByZXZpb3VzUHJvZ3Jlc3MucmVwZXRpdGlvbnN9IHJldmlld3MpYCxcbiAgICAgICAgICAgIDUwMDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGBDcmVhdGluZyBuZXcgZmxhc2hjYXJkOiAke2ZsYXNoY2FyZC5mcm9udH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhdGNoT3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcImNyZWF0ZVwiLFxuICAgICAgICAgIGZsYXNoY2FyZDogZmxhc2hjYXJkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWxldGUgZmxhc2hjYXJkcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdGhlIGZpbGVcbiAgICBmb3IgKGNvbnN0IFtmbGFzaGNhcmRJZCwgZXhpc3RpbmdDYXJkXSBvZiBleGlzdGluZ0J5SWQpIHtcbiAgICAgIGlmICghcHJvY2Vzc2VkSWRzLmhhcyhmbGFzaGNhcmRJZCkpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgRGVsZXRpbmcgZmxhc2hjYXJkOiAke2V4aXN0aW5nQ2FyZC5mcm9udH1gKTtcbiAgICAgICAgYmF0Y2hPcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXG4gICAgICAgICAgZmxhc2hjYXJkSWQ6IGV4aXN0aW5nQ2FyZC5pZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhbGwgYmF0Y2ggb3BlcmF0aW9uc1xuICAgIGlmIChiYXRjaE9wZXJhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgYEV4ZWN1dGluZyAke2JhdGNoT3BlcmF0aW9ucy5sZW5ndGh9IGJhdGNoIGRhdGFiYXNlIG9wZXJhdGlvbnNgLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZUJhdGNoT3BlcmF0aW9ucyhiYXRjaE9wZXJhdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBkZWNrJ3MgbW9kaWZpZWQgdGltZXN0YW1wIHRvIG1hdGNoIGZpbGUgbW9kaWZpY2F0aW9uIHRpbWVcbiAgICBjb25zdCB0aW1lc3RhbXBTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZURlY2tUaW1lc3RhbXAoZGVjay5pZCwgZmlsZU1vZGlmaWVkVGltZS50b0lTT1N0cmluZygpKTtcbiAgICBhd2FpdCB0aGlzLmNoZWNrRm9yRHVwbGljYXRlc0luRGVjayhkZWNrLmlkKTtcbiAgICBjb25zdCB0aW1lc3RhbXBUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aW1lc3RhbXBTdGFydFRpbWU7XG5cbiAgICBjb25zdCB0b3RhbERlY2tTeW5jVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZGVja1N5bmNTdGFydFRpbWU7XG4gICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgIGBTeW5jIGNvbXBsZXRlZCBmb3IgZGVjazogJHtkZWNrLm5hbWV9IGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsRGVja1N5bmNUaW1lKX0gKCR7cGFyc2VkQ2FyZHMubGVuZ3RofSBmbGFzaGNhcmRzLCAke2JhdGNoT3BlcmF0aW9ucy5sZW5ndGh9IG9wZXJhdGlvbnMsIGNsZWFudXA6ICR7dGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcFRpbWUpfSlgLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBmbGFzaGNhcmRzIGZvciBhIHNwZWNpZmljIGRlY2sgYnkgbmFtZSAoZmlsZSBwYXRoKVxuICAgKi9cbiAgYXN5bmMgc3luY0ZsYXNoY2FyZHNGb3JEZWNrQnlOYW1lKGRlY2tOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBJbiB0aGUgbmV3IHN5c3RlbSwgZGVja05hbWUgaXMgYWN0dWFsbHkgdGhlIGZpbGUgcGF0aFxuICAgIGF3YWl0IHRoaXMuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGRlY2tOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZGVjayBmb3IgYSBzaW5nbGUgZmlsZSB3aXRob3V0IHJ1bm5pbmcgZnVsbCBzeW5jXG4gICAqL1xuICBhc3luYyBjcmVhdGVEZWNrRm9yRmlsZShmaWxlUGF0aDogc3RyaW5nLCB0YWc6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgaWYgKCFmaWxlIHx8ICEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGVja05hbWUgPSBmaWxlLmJhc2VuYW1lO1xuICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5RmlsZXBhdGgoZmlsZVBhdGgpO1xuXG4gICAgaWYgKCFleGlzdGluZ0RlY2spIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgZGVjayBmb3IgdGhpcyBmaWxlXG4gICAgICBjb25zdCBmaWxlTW9kVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5tdGltZSk7XG4gICAgICBjb25zdCBmaWxlQ3JlYXRlVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSk7XG5cbiAgICAgIC8vIFVzZSB0aGUgZWFybGllciBvZiBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lIG9yIGZpbGUgY3JlYXRpb24gdGltZVxuICAgICAgY29uc3QgZGVja01vZFRpbWUgPVxuICAgICAgICBmaWxlTW9kVGltZSA8IGZpbGVDcmVhdGVUaW1lID8gZmlsZU1vZFRpbWUgOiBmaWxlQ3JlYXRlVGltZTtcblxuICAgICAgY29uc3QgZGVjazogT21pdDxEZWNrLCBcImNyZWF0ZWRcIj4gPSB7XG4gICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlRGVja0lkKGZpbGVQYXRoKSxcbiAgICAgICAgbmFtZTogZGVja05hbWUsXG4gICAgICAgIGZpbGVwYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgdGFnOiB0YWcsXG4gICAgICAgIGxhc3RSZXZpZXdlZDogbnVsbCxcbiAgICAgICAgY29uZmlnOiBERUZBVUxUX0RFQ0tfQ09ORklHLFxuICAgICAgICBtb2RpZmllZDogZGVja01vZFRpbWUudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBDcmVhdGluZyBuZXcgZGVjazogXCIke2RlY2tOYW1lfVwiIHdpdGggSUQ6ICR7ZGVjay5pZH0sIHRhZzogJHt0YWd9LCBmaWxlcGF0aDogJHtmaWxlUGF0aH1gLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZGIuY3JlYXRlRGVjayhkZWNrKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29udGVudCBoYXNoIGZvciBmbGFzaGNhcmQgYmFjayBjb250ZW50IChmcm9udCBpcyB1c2VkIGZvciBJRClcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVDb250ZW50SGFzaChiYWNrOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBiYWNrLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMTYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVjayBuYW1lIGZyb20gZmlsZXMgKHVzZSB0aGUgZmlyc3QgZmlsZSdzIG5hbWUpXG4gICAqL1xuICBwdWJsaWMgZXh0cmFjdERlY2tOYW1lRnJvbUZpbGVzKGZpbGVzOiBURmlsZVtdKTogc3RyaW5nIHtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gXCJHZW5lcmFsXCI7XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSBmaXJzdCBmaWxlJ3MgYmFzZW5hbWUgKHdpdGhvdXQgZXh0ZW5zaW9uKSBhcyBkZWNrIG5hbWVcbiAgICBjb25zdCBmaXJzdEZpbGUgPSBmaWxlc1swXTtcbiAgICByZXR1cm4gZmlyc3RGaWxlLmJhc2VuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVjayBuYW1lIGZyb20gdGFnIChsZWdhY3kgbWV0aG9kIGZvciBjb21wYXRpYmlsaXR5KVxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0RGVja05hbWUodGFnOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSAjZmxhc2hjYXJkcyBwcmVmaXhcbiAgICBsZXQgbmFtZSA9IHRhZy5yZXBsYWNlKFwiI2ZsYXNoY2FyZHNcIiwgXCJcIik7XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluaW5nIHNsYXNoLCByZW1vdmUgaXRcbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIC8vIElmIGVtcHR5IChqdXN0ICNmbGFzaGNhcmRzKSwgcmV0dXJuIFwiR2VuZXJhbFwiXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gXCJHZW5lcmFsXCI7XG4gICAgfVxuXG4gICAgLy8gU3BsaXQgYnkgc2xhc2hlcyBhbmQgY29udmVydCB0byB0aXRsZSBjYXNlXG4gICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICByZXR1cm4gcGFydHNcbiAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0LnNsaWNlKDEpKVxuICAgICAgLmpvaW4oXCIgLSBcIik7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBkZWNrIElEIGJhc2VkIG9uIGZpbGVwYXRoXG4gICAqL1xuICBwdWJsaWMgZ2VuZXJhdGVEZWNrSWQoZmlsZXBhdGg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChmaWxlcGF0aCkge1xuICAgICAgLy8gR2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBJRCBiYXNlZCBvbiBmaWxlcGF0aFxuICAgICAgbGV0IGhhc2ggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyID0gZmlsZXBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgICAgfVxuICAgICAgcmV0dXJuIGBkZWNrXyR7TWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMzYpfWA7XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIHRpbWVzdGFtcC1iYXNlZCBJRCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIHJldHVybiBgZGVja18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdW5pcXVlIGZsYXNoY2FyZCBJRCB1c2luZyBoYXNoIG9mIGZyb250IHRleHQgb25seVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlRmxhc2hjYXJkSWQoZnJvbnRUZXh0OiBzdHJpbmcsIGRlY2tJZD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gVXNlIG9ubHkgZnJvbnQgdGV4dCBmb3IgSUQgZ2VuZXJhdGlvbiB0byBwcmVzZXJ2ZSBwcm9ncmVzcyBhY3Jvc3MgZGVjayBjaGFuZ2VzXG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbnRUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gZnJvbnRUZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gYGNhcmRfJHtNYXRoLmFicyhoYXNoKS50b1N0cmluZygzNil9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgZHVwbGljYXRlIGZsYXNoY2FyZHMgaW4gYSBkZWNrIGFuZCB3YXJuIHRoZSB1c2VyXG4gICAqL1xuICBhc3luYyBjaGVja0ZvckR1cGxpY2F0ZXNJbkRlY2soZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBleGlzdGluZ0ZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVja0lkKTtcbiAgICBjb25zdCBmcm9udFRleHRNYXAgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG5cbiAgICAvLyBHcm91cCBmbGFzaGNhcmRzIGJ5IGZyb250IHRleHRcbiAgICBmb3IgKGNvbnN0IGNhcmQgb2YgZXhpc3RpbmdGbGFzaGNhcmRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbnQgPSBjYXJkLmZyb250LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFmcm9udFRleHRNYXAuaGFzKG5vcm1hbGl6ZWRGcm9udCkpIHtcbiAgICAgICAgZnJvbnRUZXh0TWFwLnNldChub3JtYWxpemVkRnJvbnQsIFtdKTtcbiAgICAgIH1cbiAgICAgIGZyb250VGV4dE1hcC5nZXQobm9ybWFsaXplZEZyb250KSEucHVzaChjYXJkKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFuZCB3YXJuIGFib3V0IGR1cGxpY2F0ZXNcbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgIGNvbnN0IGRlY2tOYW1lID0gZGVjaz8ubmFtZSB8fCBcIlVua25vd24gRGVja1wiO1xuXG4gICAgZm9yIChjb25zdCBbZnJvbnRUZXh0LCBjYXJkc10gb2YgZnJvbnRUZXh0TWFwKSB7XG4gICAgICBpZiAoY2FyZHMubGVuZ3RoID4gMSkge1xuICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgIGBcdTI2QTBcdUZFMEYgRm91bmQgJHtjYXJkcy5sZW5ndGh9IGR1cGxpY2F0ZSBmbGFzaGNhcmRzIGluIFwiJHtkZWNrTmFtZX1cIjogXCIke2NhcmRzWzBdLmZyb250LnN1YnN0cmluZygwLCA1MCl9JHtjYXJkc1swXS5mcm9udC5sZW5ndGggPiA1MCA/IFwiLi4uXCIgOiBcIlwifVwiLiBDb25zaWRlciByZW1vdmluZyBkdXBsaWNhdGVzIHRvIGF2b2lkIGNvbmZ1c2lvbi5gLFxuICAgICAgICAgIDEwMDAwLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgIGBEdXBsaWNhdGUgZmxhc2hjYXJkcyBmb3VuZCBpbiBkZWNrIFwiJHtkZWNrTmFtZX1cIjogXCIke2NhcmRzWzBdLmZyb250fVwiICgke2NhcmRzLmxlbmd0aH0gY29waWVzKWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBkZWNrIElEcyBmb3IgYWxsIGZsYXNoY2FyZHMgd2hlbiBhIGRlY2sgSUQgY2hhbmdlcyAoZS5nLiwgZmlsZSByZW5hbWUpXG4gICAqL1xuICBhc3luYyB1cGRhdGVGbGFzaGNhcmREZWNrSWRzKFxuICAgIG9sZERlY2tJZDogc3RyaW5nLFxuICAgIG5ld0RlY2tJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgYFVwZGF0aW5nIGZsYXNoY2FyZCBkZWNrIElEcyBmcm9tICR7b2xkRGVja0lkfSB0byAke25ld0RlY2tJZH1gLFxuICAgICk7XG4gICAgYXdhaXQgdGhpcy5kYi51cGRhdGVGbGFzaGNhcmREZWNrSWRzKG9sZERlY2tJZCwgbmV3RGVja0lkKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEZsYXNoY2FyZCwgRmxhc2hjYXJkU3RhdGUgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgRGlmZmljdWx0eSA9IFwiYWdhaW5cIiB8IFwiaGFyZFwiIHwgXCJnb29kXCIgfCBcImVhc3lcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGU1JTUGFyYW1ldGVycyB7XG4gIHc6IG51bWJlcltdOyAvLyAxNyB3ZWlnaHRzIGZvciB0aGUgYWxnb3JpdGhtXG4gIHJlcXVlc3RSZXRlbnRpb246IG51bWJlcjsgLy8gdGFyZ2V0IHJldGVudGlvbiByYXRlXG4gIG1heGltdW1JbnRlcnZhbDogbnVtYmVyOyAvLyBtYXhpbXVtIGludGVydmFsIGluIGRheXNcbiAgZWFzeUJvbnVzOiBudW1iZXI7IC8vIGJvbnVzIGZvciBlYXN5IGNhcmRzXG4gIGhhcmRJbnRlcnZhbDogbnVtYmVyOyAvLyBpbnRlcnZhbCBtb2RpZmllciBmb3IgaGFyZCBjYXJkc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZTUlNDYXJkIHtcbiAgc3RhYmlsaXR5OiBudW1iZXI7XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgZWxhcHNlZERheXM6IG51bWJlcjtcbiAgc2NoZWR1bGVkRGF5czogbnVtYmVyO1xuICByZXBzOiBudW1iZXI7XG4gIGxhcHNlczogbnVtYmVyO1xuICBzdGF0ZTogRlNSU1N0YXRlO1xuICBsYXN0UmV2aWV3OiBEYXRlO1xufVxuXG5leHBvcnQgdHlwZSBGU1JTU3RhdGUgPSBcIk5ld1wiIHwgXCJMZWFybmluZ1wiIHwgXCJSZXZpZXdcIiB8IFwiUmVsZWFybmluZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxpbmdDYXJkIHtcbiAgZHVlRGF0ZTogc3RyaW5nO1xuICBpbnRlcnZhbDogbnVtYmVyOyAvLyBpbiBtaW51dGVzXG4gIGVhc2VGYWN0b3I6IG51bWJlcjtcbiAgcmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgc3RhYmlsaXR5OiBudW1iZXI7XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgc3RhdGU6IEZsYXNoY2FyZFN0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxpbmdJbmZvIHtcbiAgYWdhaW46IFNjaGVkdWxpbmdDYXJkO1xuICBoYXJkOiBTY2hlZHVsaW5nQ2FyZDtcbiAgZ29vZDogU2NoZWR1bGluZ0NhcmQ7XG4gIGVhc3k6IFNjaGVkdWxpbmdDYXJkO1xufVxuXG5leHBvcnQgY2xhc3MgRlNSUyB7XG4gIHByaXZhdGUgcGFyYW1zOiBGU1JTUGFyYW1ldGVycztcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM/OiBQYXJ0aWFsPEZTUlNQYXJhbWV0ZXJzPikge1xuICAgIC8vIERlZmF1bHQgRlNSUy00LjUgcGFyYW1ldGVycyBvcHRpbWl6ZWQgZm9yIGdlbmVyYWwgdXNlXG4gICAgdGhpcy5wYXJhbXMgPSB7XG4gICAgICB3OiBbXG4gICAgICAgIDAuNDA3MiwgMS4xODI5LCAzLjEyNjIsIDE1LjQ3MjIsIDcuMjEwMiwgMC41MzE2LCAxLjA2NTEsIDAuMDIzNCwgMS42MTYsXG4gICAgICAgIDAuMTU0NCwgMS4wODI0LCAxLjk4MTMsIDAuMDk1MywgMC4yOTc1LCAyLjIwNDIsIDAuMjQwNywgMi45NDY2LFxuICAgICAgXSxcbiAgICAgIHJlcXVlc3RSZXRlbnRpb246IDAuOSxcbiAgICAgIG1heGltdW1JbnRlcnZhbDogNjAsIC8vIDEwMCB5ZWFyc1xuICAgICAgZWFzeUJvbnVzOiAxLjMsXG4gICAgICBoYXJkSW50ZXJ2YWw6IDEuMixcbiAgICAgIC4uLnBhcmFtcyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBGU1JTIHBhcmFtZXRlcnNcbiAgICovXG4gIHVwZGF0ZVBhcmFtZXRlcnMocGFyYW1zOiBQYXJ0aWFsPEZTUlNQYXJhbWV0ZXJzPikge1xuICAgIHRoaXMucGFyYW1zID0geyAuLi50aGlzLnBhcmFtcywgLi4ucGFyYW1zIH07XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBuZXh0IHNjaGVkdWxpbmcgaW5mbyBmb3IgYSBmbGFzaGNhcmQgYmFzZWQgb24gcmV2aWV3IGRpZmZpY3VsdHlcbiAgICovXG4gIGdldFNjaGVkdWxpbmdJbmZvKGNhcmQ6IEZsYXNoY2FyZCk6IFNjaGVkdWxpbmdJbmZvIHtcbiAgICBjb25zdCBmc3JzQ2FyZCA9IHRoaXMuZmxhc2hjYXJkVG9GU1JTKGNhcmQpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWdhaW46IHRoaXMuY2FsY3VsYXRlU2NoZWR1bGVGb3JSYXRpbmcoZnNyc0NhcmQsIDEsIG5vdyksXG4gICAgICBoYXJkOiB0aGlzLmNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKGZzcnNDYXJkLCAyLCBub3cpLFxuICAgICAgZ29vZDogdGhpcy5jYWxjdWxhdGVTY2hlZHVsZUZvclJhdGluZyhmc3JzQ2FyZCwgMywgbm93KSxcbiAgICAgIGVhc3k6IHRoaXMuY2FsY3VsYXRlU2NoZWR1bGVGb3JSYXRpbmcoZnNyc0NhcmQsIDQsIG5vdyksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBmbGFzaGNhcmQgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGRpZmZpY3VsdHlcbiAgICovXG4gIHVwZGF0ZUNhcmQoY2FyZDogRmxhc2hjYXJkLCBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5KTogRmxhc2hjYXJkIHtcbiAgICBjb25zdCByYXRpbmcgPSB0aGlzLmRpZmZpY3VsdHlUb1JhdGluZyhkaWZmaWN1bHR5KTtcbiAgICBjb25zdCBmc3JzQ2FyZCA9IHRoaXMuZmxhc2hjYXJkVG9GU1JTKGNhcmQpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgc2NoZWR1bGUgPSB0aGlzLmNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKGZzcnNDYXJkLCByYXRpbmcsIG5vdyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY2FyZCxcbiAgICAgIHN0YXRlOiBzY2hlZHVsZS5zdGF0ZSxcbiAgICAgIGR1ZURhdGU6IHNjaGVkdWxlLmR1ZURhdGUsXG4gICAgICBpbnRlcnZhbDogc2NoZWR1bGUuaW50ZXJ2YWwsXG4gICAgICBlYXNlRmFjdG9yOiBzY2hlZHVsZS5kaWZmaWN1bHR5LCAvLyBTdG9yZSBGU1JTIGRpZmZpY3VsdHkgaW4gZWFzZUZhY3RvciBmaWVsZFxuICAgICAgcmVwZXRpdGlvbnM6IHNjaGVkdWxlLnJlcGV0aXRpb25zLFxuICAgICAgbW9kaWZpZWQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKFxuICAgIGNhcmQ6IEZTUlNDYXJkLFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIG5vdzogRGF0ZSxcbiAgKTogU2NoZWR1bGluZ0NhcmQge1xuICAgIGxldCBuZXdDYXJkOiBGU1JTQ2FyZDtcblxuICAgIGlmIChjYXJkLnN0YXRlID09PSBcIk5ld1wiKSB7XG4gICAgICBuZXdDYXJkID0gdGhpcy5pbml0RFMoY2FyZCk7XG4gICAgICBuZXdDYXJkLmVsYXBzZWREYXlzID0gMDtcbiAgICAgIG5ld0NhcmQuc2NoZWR1bGVkRGF5cyA9IDA7XG4gICAgICBuZXdDYXJkLnJlcHMgPSAxO1xuICAgICAgbmV3Q2FyZC5sYXBzZXMgPSByYXRpbmcgPT09IDEgPyAxIDogMDtcbiAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIkxlYXJuaW5nXCI7IC8vIEFsd2F5cyBzdGFydCBpbiBsZWFybmluZyBwaGFzZVxuXG4gICAgICAvLyBVc2UgbWludXRlLWJhc2VkIGludGVydmFscyBmb3IgbmV3IGNhcmRzXG4gICAgICBjb25zdCBtaW51dGVJbnRlcnZhbCA9IHRoaXMuZ2V0TmV3Q2FyZEludGVydmFsKHJhdGluZyk7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVTY2hlZHVsaW5nQ2FyZChcbiAgICAgICAgbm93LFxuICAgICAgICBtaW51dGVJbnRlcnZhbCxcbiAgICAgICAgbmV3Q2FyZCxcbiAgICAgICAgXCJsZWFybmluZ1wiLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNhcmQuc3RhdGUgPT09IFwiTGVhcm5pbmdcIiB8fCBjYXJkLnN0YXRlID09PSBcIlJlbGVhcm5pbmdcIikge1xuICAgICAgLy8gSGFuZGxlIGxlYXJuaW5nL3JlbGVhcm5pbmcgcGhhc2Ugd2l0aCBtaW51dGUtYmFzZWQgaW50ZXJ2YWxzXG4gICAgICBuZXdDYXJkID0geyAuLi5jYXJkIH07XG4gICAgICBuZXdDYXJkLnJlcHMgKz0gMTtcblxuICAgICAgaWYgKHJhdGluZyA9PT0gMSkge1xuICAgICAgICAvLyBGYWlsZWQgLSByZXN0YXJ0IGxlYXJuaW5nXG4gICAgICAgIG5ld0NhcmQubGFwc2VzICs9IDE7XG4gICAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIkxlYXJuaW5nXCI7XG4gICAgICAgIGNvbnN0IG1pbnV0ZUludGVydmFsID0gMTsgLy8gQmFjayB0byAxIG1pbnV0ZVxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTY2hlZHVsaW5nQ2FyZChcbiAgICAgICAgICBub3csXG4gICAgICAgICAgbWludXRlSW50ZXJ2YWwsXG4gICAgICAgICAgbmV3Q2FyZCxcbiAgICAgICAgICBcImxlYXJuaW5nXCIsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHJhdGluZyA9PT0gMikge1xuICAgICAgICAvLyBIYXJkIC0gcmVwZWF0IGN1cnJlbnQgc3RlcFxuICAgICAgICBuZXdDYXJkLnN0YXRlID0gXCJMZWFybmluZ1wiO1xuICAgICAgICBjb25zdCBtaW51dGVJbnRlcnZhbCA9IE1hdGgubWF4KFxuICAgICAgICAgIDYsXG4gICAgICAgICAgTWF0aC5yb3VuZChjYXJkLnNjaGVkdWxlZERheXMgKiAxNDQwICogMS4yKSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2NoZWR1bGluZ0NhcmQoXG4gICAgICAgICAgbm93LFxuICAgICAgICAgIG1pbnV0ZUludGVydmFsLFxuICAgICAgICAgIG5ld0NhcmQsXG4gICAgICAgICAgXCJsZWFybmluZ1wiLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChyYXRpbmcgPT09IDMpIHtcbiAgICAgICAgLy8gR29vZCAtIGFkdmFuY2UgdG8gbmV4dCBzdGVwIG9yIGdyYWR1YXRlXG4gICAgICAgIGlmIChjYXJkLnNjaGVkdWxlZERheXMgKiAxNDQwIDwgMTQ0MCkge1xuICAgICAgICAgIC8vIFN0aWxsIGluIGxlYXJuaW5nICg8IDEgZGF5KVxuICAgICAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIkxlYXJuaW5nXCI7XG4gICAgICAgICAgY29uc3QgbWludXRlSW50ZXJ2YWwgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIDE0NDAsXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGNhcmQuc2NoZWR1bGVkRGF5cyAqIDE0NDAgKiAyLjUpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZmluYWxTdGF0ZSA9IG1pbnV0ZUludGVydmFsID49IDE0NDAgPyBcInJldmlld1wiIDogXCJsZWFybmluZ1wiO1xuICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNjaGVkdWxpbmdDYXJkKFxuICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgbWludXRlSW50ZXJ2YWwsXG4gICAgICAgICAgICBuZXdDYXJkLFxuICAgICAgICAgICAgZmluYWxTdGF0ZSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEdyYWR1YXRlIHRvIHJldmlld1xuICAgICAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIlJldmlld1wiO1xuICAgICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5pbml0U3RhYmlsaXR5KDMpO1xuICAgICAgICAgIG5ld0NhcmQuZGlmZmljdWx0eSA9IHRoaXMuaW5pdERpZmZpY3VsdHkoMyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVhc3kgLSBncmFkdWF0ZSBpbW1lZGlhdGVseSB0byByZXZpZXdcbiAgICAgICAgbmV3Q2FyZC5zdGF0ZSA9IFwiUmV2aWV3XCI7XG4gICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5pbml0U3RhYmlsaXR5KDQpO1xuICAgICAgICBuZXdDYXJkLmRpZmZpY3VsdHkgPSB0aGlzLmluaXREaWZmaWN1bHR5KDQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBIYW5kbGUgcmV2aWV3IHBoYXNlIHdpdGggRlNSUyBhbGdvcml0aG1cbiAgICAgIG5ld0NhcmQgPSB7IC4uLmNhcmQgfTtcbiAgICAgIG5ld0NhcmQuZWxhcHNlZERheXMgPSB0aGlzLmdldEVsYXBzZWREYXlzKGNhcmQubGFzdFJldmlldywgbm93KTtcbiAgICAgIG5ld0NhcmQucmVwcyArPSAxO1xuXG4gICAgICBpZiAocmF0aW5nID09PSAxKSB7XG4gICAgICAgIG5ld0NhcmQubGFwc2VzICs9IDE7XG4gICAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIkxlYXJuaW5nXCI7IC8vIEJhY2sgdG8gbGVhcm5pbmdcbiAgICAgICAgY29uc3QgbWludXRlSW50ZXJ2YWwgPSAxOyAvLyBTdGFydCBsZWFybmluZyBvdmVyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNjaGVkdWxpbmdDYXJkKFxuICAgICAgICAgIG5vdyxcbiAgICAgICAgICBtaW51dGVJbnRlcnZhbCxcbiAgICAgICAgICBuZXdDYXJkLFxuICAgICAgICAgIFwibGVhcm5pbmdcIixcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmV0cmlldmFiaWxpdHkgPSB0aGlzLmZvcmdldHRpbmdDdXJ2ZShcbiAgICAgICAgbmV3Q2FyZC5lbGFwc2VkRGF5cyxcbiAgICAgICAgbmV3Q2FyZC5zdGFiaWxpdHksXG4gICAgICApO1xuXG4gICAgICBuZXdDYXJkLmRpZmZpY3VsdHkgPSB0aGlzLm5leHREaWZmaWN1bHR5KG5ld0NhcmQuZGlmZmljdWx0eSwgcmF0aW5nKTtcbiAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5uZXh0U3RhYmlsaXR5KFxuICAgICAgICBuZXdDYXJkLmRpZmZpY3VsdHksXG4gICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5LFxuICAgICAgICByZXRyaWV2YWJpbGl0eSxcbiAgICAgICAgcmF0aW5nLFxuICAgICAgKTtcbiAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIlJldmlld1wiO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVydmFsRGF5cyA9IHRoaXMubmV4dEludGVydmFsKG5ld0NhcmQuc3RhYmlsaXR5KTtcbiAgICBuZXdDYXJkLnNjaGVkdWxlZERheXMgPSBpbnRlcnZhbERheXM7XG4gICAgbmV3Q2FyZC5sYXN0UmV2aWV3ID0gbm93O1xuXG4gICAgLy8gQ29udmVydCBkYXlzIHRvIG1pbnV0ZXMgZm9yIG1hdHVyZSBjYXJkc1xuICAgIGNvbnN0IGludGVydmFsTWludXRlcyA9IE1hdGgucm91bmQoaW50ZXJ2YWxEYXlzICogMTQ0MCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2NoZWR1bGluZ0NhcmQoXG4gICAgICBub3csXG4gICAgICBpbnRlcnZhbE1pbnV0ZXMsXG4gICAgICBuZXdDYXJkLFxuICAgICAgdGhpcy5mc3JzU3RhdGVUb0ZsYXNoY2FyZFN0YXRlKG5ld0NhcmQuc3RhdGUpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGdldE5ld0NhcmRJbnRlcnZhbChyYXRpbmc6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gUmV0dXJuIG1pbnV0ZS1iYXNlZCBpbnRlcnZhbHMgZm9yIG5ldyBjYXJkc1xuICAgIHN3aXRjaCAocmF0aW5nKSB7XG4gICAgICBjYXNlIDE6IC8vIEFnYWluXG4gICAgICAgIHJldHVybiAxOyAvLyAxIG1pbnV0ZVxuICAgICAgY2FzZSAyOiAvLyBIYXJkXG4gICAgICAgIHJldHVybiA2OyAvLyA2IG1pbnV0ZXNcbiAgICAgIGNhc2UgMzogLy8gR29vZFxuICAgICAgICByZXR1cm4gMTA7IC8vIDEwIG1pbnV0ZXNcbiAgICAgIGNhc2UgNDogLy8gRWFzeVxuICAgICAgICByZXR1cm4gNCAqIDE0NDA7IC8vIDQgZGF5cyAoZ3JhZHVhdGUgdG8gcmV2aWV3IGltbWVkaWF0ZWx5KVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDEwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU2NoZWR1bGluZ0NhcmQoXG4gICAgbm93OiBEYXRlLFxuICAgIGludGVydmFsTWludXRlczogbnVtYmVyLFxuICAgIGNhcmQ6IEZTUlNDYXJkLFxuICAgIHN0YXRlOiBGbGFzaGNhcmRTdGF0ZSxcbiAgKTogU2NoZWR1bGluZ0NhcmQge1xuICAgIGNvbnN0IGR1ZURhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgaW50ZXJ2YWxNaW51dGVzICogNjAgKiAxMDAwKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkdWVEYXRlOiBkdWVEYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICBpbnRlcnZhbDogaW50ZXJ2YWxNaW51dGVzLFxuICAgICAgZWFzZUZhY3RvcjogTnVtYmVyKGNhcmQuZGlmZmljdWx0eS50b0ZpeGVkKDIpKSxcbiAgICAgIHJlcGV0aXRpb25zOiBjYXJkLnJlcHMsXG4gICAgICBzdGFiaWxpdHk6IE51bWJlcihjYXJkLnN0YWJpbGl0eS50b0ZpeGVkKDIpKSxcbiAgICAgIGRpZmZpY3VsdHk6IE51bWJlcihjYXJkLmRpZmZpY3VsdHkudG9GaXhlZCgyKSksXG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdERTKGNhcmQ6IEZTUlNDYXJkKTogRlNSU0NhcmQge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jYXJkLFxuICAgICAgc3RhYmlsaXR5OiAwLFxuICAgICAgZGlmZmljdWx0eTogMCxcbiAgICAgIGVsYXBzZWREYXlzOiAwLFxuICAgICAgc2NoZWR1bGVkRGF5czogMCxcbiAgICAgIHJlcHM6IDAsXG4gICAgICBsYXBzZXM6IDAsXG4gICAgICBzdGF0ZTogXCJOZXdcIixcbiAgICAgIGxhc3RSZXZpZXc6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdFN0YWJpbGl0eShyYXRpbmc6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMucGFyYW1zLndbcmF0aW5nIC0gMV0sIDAuMSk7XG4gIH1cblxuICBwcml2YXRlIGluaXREaWZmaWN1bHR5KHJhdGluZzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heCh0aGlzLnBhcmFtcy53WzRdIC0gdGhpcy5wYXJhbXMud1s1XSAqIChyYXRpbmcgLSAzKSwgMSksXG4gICAgICAxMCxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JnZXR0aW5nQ3VydmUoZWxhcHNlZERheXM6IG51bWJlciwgc3RhYmlsaXR5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnBvdygxICsgZWxhcHNlZERheXMgLyAoOSAqIHN0YWJpbGl0eSksIC0xKTtcbiAgfVxuXG4gIHByaXZhdGUgbmV4dERpZmZpY3VsdHkoZGlmZmljdWx0eTogbnVtYmVyLCByYXRpbmc6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgbmV4dEQgPSBkaWZmaWN1bHR5IC0gdGhpcy5wYXJhbXMud1s2XSAqIChyYXRpbmcgLSAzKTtcbiAgICByZXR1cm4gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heCh0aGlzLm1lYW5SZXZlcnNpb24odGhpcy5wYXJhbXMud1s0XSwgbmV4dEQpLCAxKSxcbiAgICAgIDEwLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIG1lYW5SZXZlcnNpb24oaW5pdDogbnVtYmVyLCBjdXJyZW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy53WzddICogaW5pdCArICgxIC0gdGhpcy5wYXJhbXMud1s3XSkgKiBjdXJyZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBuZXh0U3RhYmlsaXR5KFxuICAgIGRpZmZpY3VsdHk6IG51bWJlcixcbiAgICBzdGFiaWxpdHk6IG51bWJlcixcbiAgICByZXRyaWV2YWJpbGl0eTogbnVtYmVyLFxuICAgIHJhdGluZzogbnVtYmVyLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGhhcmRQZW5hbHR5ID0gcmF0aW5nID09PSAyID8gdGhpcy5wYXJhbXMud1sxNV0gOiAxO1xuICAgIGNvbnN0IGVhc3lCb251cyA9IHJhdGluZyA9PT0gNCA/IHRoaXMucGFyYW1zLndbMTZdIDogMTtcblxuICAgIHJldHVybiAoXG4gICAgICBzdGFiaWxpdHkgKlxuICAgICAgKDEgK1xuICAgICAgICBNYXRoLmV4cCh0aGlzLnBhcmFtcy53WzhdKSAqXG4gICAgICAgICAgKDExIC0gZGlmZmljdWx0eSkgKlxuICAgICAgICAgIE1hdGgucG93KHN0YWJpbGl0eSwgLXRoaXMucGFyYW1zLndbOV0pICpcbiAgICAgICAgICAoTWF0aC5leHAoKDEgLSByZXRyaWV2YWJpbGl0eSkgKiB0aGlzLnBhcmFtcy53WzEwXSkgLSAxKSAqXG4gICAgICAgICAgaGFyZFBlbmFsdHkgKlxuICAgICAgICAgIGVhc3lCb251cylcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXh0SW50ZXJ2YWwoc3RhYmlsaXR5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGludGVydmFsID1cbiAgICAgIHN0YWJpbGl0eSAqIChNYXRoLmxvZyh0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9uKSAvIE1hdGgubG9nKDAuOSkpO1xuICAgIHJldHVybiBNYXRoLm1pbihcbiAgICAgIE1hdGgubWF4KE1hdGgucm91bmQoaW50ZXJ2YWwpLCAxKSxcbiAgICAgIHRoaXMucGFyYW1zLm1heGltdW1JbnRlcnZhbCxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRFbGFwc2VkRGF5cyhsYXN0UmV2aWV3OiBEYXRlLCBub3c6IERhdGUpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICAobm93LmdldFRpbWUoKSAtIGxhc3RSZXZpZXcuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBmbGFzaGNhcmRUb0ZTUlMoY2FyZDogRmxhc2hjYXJkKTogRlNSU0NhcmQge1xuICAgIGNvbnN0IGxhc3RSZXZpZXcgPSBjYXJkLm1vZGlmaWVkID8gbmV3IERhdGUoY2FyZC5tb2RpZmllZCkgOiBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGVsYXBzZWREYXlzID0gdGhpcy5nZXRFbGFwc2VkRGF5cyhsYXN0UmV2aWV3LCBuZXcgRGF0ZSgpKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFiaWxpdHk6IGNhcmQuZWFzZUZhY3RvciB8fCAyLjUsIC8vIFVzZSBlYXNlRmFjdG9yIGFzIHN0YWJpbGl0eSBzdG9yYWdlXG4gICAgICBkaWZmaWN1bHR5OiBjYXJkLmVhc2VGYWN0b3IgfHwgNS4wLCAvLyBEZWZhdWx0IGRpZmZpY3VsdHlcbiAgICAgIGVsYXBzZWREYXlzLFxuICAgICAgc2NoZWR1bGVkRGF5czogY2FyZC5pbnRlcnZhbCAvIDE0NDAsIC8vIENvbnZlcnQgbWludXRlcyB0byBkYXlzXG4gICAgICByZXBzOiBjYXJkLnJlcGV0aXRpb25zLFxuICAgICAgbGFwc2VzOiAwLCAvLyBXZSBkb24ndCB0cmFjayBsYXBzZXMgaW4gY3VycmVudCBtb2RlbFxuICAgICAgc3RhdGU6IHRoaXMuZmxhc2hjYXJkU3RhdGVUb0ZTUlNTdGF0ZShjYXJkLnN0YXRlKSxcbiAgICAgIGxhc3RSZXZpZXcsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZmxhc2hjYXJkU3RhdGVUb0ZTUlNTdGF0ZShzdGF0ZTogRmxhc2hjYXJkU3RhdGUpOiBGU1JTU3RhdGUge1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJuZXdcIjpcbiAgICAgICAgcmV0dXJuIFwiTmV3XCI7XG4gICAgICBjYXNlIFwibGVhcm5pbmdcIjpcbiAgICAgICAgcmV0dXJuIFwiTGVhcm5pbmdcIjtcbiAgICAgIGNhc2UgXCJyZXZpZXdcIjpcbiAgICAgICAgcmV0dXJuIFwiUmV2aWV3XCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJOZXdcIjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZzcnNTdGF0ZVRvRmxhc2hjYXJkU3RhdGUoc3RhdGU6IEZTUlNTdGF0ZSk6IEZsYXNoY2FyZFN0YXRlIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlIFwiTmV3XCI6XG4gICAgICAgIHJldHVybiBcIm5ld1wiO1xuICAgICAgY2FzZSBcIkxlYXJuaW5nXCI6XG4gICAgICBjYXNlIFwiUmVsZWFybmluZ1wiOlxuICAgICAgICByZXR1cm4gXCJsZWFybmluZ1wiO1xuICAgICAgY2FzZSBcIlJldmlld1wiOlxuICAgICAgICByZXR1cm4gXCJyZXZpZXdcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIm5ld1wiO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGlmZmljdWx0eVRvUmF0aW5nKGRpZmZpY3VsdHk6IERpZmZpY3VsdHkpOiBudW1iZXIge1xuICAgIHN3aXRjaCAoZGlmZmljdWx0eSkge1xuICAgICAgY2FzZSBcImFnYWluXCI6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBcImhhcmRcIjpcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICBjYXNlIFwiZ29vZFwiOlxuICAgICAgICByZXR1cm4gMztcbiAgICAgIGNhc2UgXCJlYXN5XCI6XG4gICAgICAgIHJldHVybiA0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXNwbGF5IHRleHQgZm9yIGludGVydmFsc1xuICAgKi9cbiAgc3RhdGljIGdldEludGVydmFsRGlzcGxheShtaW51dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChtaW51dGVzIDwgNjApIHtcbiAgICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKG1pbnV0ZXMpfW1gO1xuICAgIH0gZWxzZSBpZiAobWludXRlcyA8IDE0NDApIHtcbiAgICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKG1pbnV0ZXMgLyA2MCl9aGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRheXMgPSBNYXRoLnJvdW5kKG1pbnV0ZXMgLyAxNDQwKTtcbiAgICAgIGlmIChkYXlzIDwgMzApIHtcbiAgICAgICAgcmV0dXJuIGAke2RheXN9ZGA7XG4gICAgICB9IGVsc2UgaWYgKGRheXMgPCAzNjUpIHtcbiAgICAgICAgcmV0dXJuIGAke01hdGgucm91bmQoZGF5cyAvIDMwKX1tb2A7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7KGRheXMgLyAzNjUpLnRvRml4ZWQoMSl9eWA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7IEZsYXNoY2FyZHNTZXR0aW5ncyB9IGZyb20gXCIuLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgRGVja3NTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogRGVja3NQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRGVja3NQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkRlY2tzIFBsdWdpbiBTZXR0aW5nc1wiIH0pO1xuXG4gICAgLy8gRlNSUyBBbGdvcml0aG0gU2V0dGluZ3NcbiAgICB0aGlzLmFkZEZTUlNTZXR0aW5ncyhjb250YWluZXJFbCk7XG5cbiAgICAvLyBSZXZpZXcgU2Vzc2lvbiBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUmV2aWV3U2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXG4gICAgLy8gUGFyc2luZyBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUGFyc2luZ1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIFVJIFNldHRpbmdzXG4gICAgdGhpcy5hZGRVSVNldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIERlYnVnIFNldHRpbmdzXG4gICAgdGhpcy5hZGREZWJ1Z1NldHRpbmdzKGNvbnRhaW5lckVsKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkRlNSU1NldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIkZTUlMgQWxnb3JpdGhtXCIgfSk7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgIHRleHQ6IFwiQ29uZmlndXJlIHRoZSBGcmVlIFNwYWNlZCBSZXBldGl0aW9uIFNjaGVkdWxlciBhbGdvcml0aG0gcGFyYW1ldGVycy5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJUYXJnZXQgUmV0ZW50aW9uXCIpXG4gICAgICAuc2V0RGVzYyhcIkRlc2lyZWQgcmV0ZW50aW9uIHJhdGUgZm9yIGZsYXNoY2FyZHMgKDAuOCA9IDgwJSlcIilcbiAgICAgIC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cbiAgICAgICAgc2xpZGVyXG4gICAgICAgICAgLnNldExpbWl0cygwLjcsIDAuOTgsIDAuMDEpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZzcnMucmVxdWVzdFJldGVudGlvbilcbiAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZzcnMucmVxdWVzdFJldGVudGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIk1heGltdW0gSW50ZXJ2YWxcIilcbiAgICAgIC5zZXREZXNjKFwiTWF4aW11bSBudW1iZXIgb2YgZGF5cyBiZXR3ZWVuIHJldmlld3NcIilcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiMzY1MDBcIilcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZnNycy5tYXhpbXVtSW50ZXJ2YWwudG9TdHJpbmcoKSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkgJiYgbnVtID4gMCkge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mc3JzLm1heGltdW1JbnRlcnZhbCA9IG51bTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkVhc3kgQm9udXNcIilcbiAgICAgIC5zZXREZXNjKFwiTXVsdGlwbGllciBmb3IgZWFzeSBjYXJkcyAoaGlnaGVyID0gbG9uZ2VyIGludGVydmFscylcIilcbiAgICAgIC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cbiAgICAgICAgc2xpZGVyXG4gICAgICAgICAgLnNldExpbWl0cygxLjEsIDIuMCwgMC4xKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mc3JzLmVhc3lCb251cylcbiAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZzcnMuZWFzeUJvbnVzID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiSGFyZCBJbnRlcnZhbFwiKVxuICAgICAgLnNldERlc2MoXCJNdWx0aXBsaWVyIGZvciBoYXJkIGNhcmRzIGluIGxlYXJuaW5nIHBoYXNlXCIpXG4gICAgICAuYWRkU2xpZGVyKChzbGlkZXIpID0+XG4gICAgICAgIHNsaWRlclxuICAgICAgICAgIC5zZXRMaW1pdHMoMS4wLCAyLjAsIDAuMSlcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZnNycy5oYXJkSW50ZXJ2YWwpXG4gICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mc3JzLmhhcmRJbnRlcnZhbCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlJlc2V0IHRvIERlZmF1bHRzXCIpXG4gICAgICAuc2V0RGVzYyhcIlJlc2V0IEZTUlMgcGFyYW1ldGVycyB0byBkZWZhdWx0IHZhbHVlc1wiKVxuICAgICAgLmFkZEJ1dHRvbigoYnV0dG9uKSA9PlxuICAgICAgICBidXR0b25cbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlJlc2V0XCIpXG4gICAgICAgICAgLnNldFdhcm5pbmcoKVxuICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IChhd2FpdCBpbXBvcnQoXCIuLi9zZXR0aW5nc1wiKSlcbiAgICAgICAgICAgICAgLkRFRkFVTFRfU0VUVElOR1M7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mc3JzID0geyAuLi5kZWZhdWx0U2V0dGluZ3MuZnNycyB9O1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgc2V0dGluZ3MgdGFiXG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRSZXZpZXdTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJSZXZpZXcgU2Vzc2lvbnNcIiB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTaG93IFByb2dyZXNzXCIpXG4gICAgICAuc2V0RGVzYyhcIkRpc3BsYXkgcHJvZ3Jlc3MgYmFyIGR1cmluZyByZXZpZXcgc2Vzc2lvbnNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmlldy5zaG93UHJvZ3Jlc3MpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmV2aWV3LnNob3dQcm9ncmVzcyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIktleWJvYXJkIFNob3J0Y3V0c1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUga2V5Ym9hcmQgc2hvcnRjdXRzIGluIHJldmlldyBtb2RhbCAoMS00IGZvciBkaWZmaWN1bHR5KVwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmV2aWV3LmVuYWJsZUtleWJvYXJkU2hvcnRjdXRzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmlldy5lbmFibGVLZXlib2FyZFNob3J0Y3V0cyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQYXJzaW5nU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiUGFyc2luZyBTZXR0aW5nc1wiIH0pO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiBcIkNvbmZpZ3VyZSBob3cgZmxhc2hjYXJkcyBhcmUgcGFyc2VkIGZyb20geW91ciBub3Rlcy5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJIZWFkZXIgTGV2ZWwgZm9yIEZsYXNoY2FyZHNcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIldoaWNoIGhlYWRlciBsZXZlbCB0byB1c2UgZm9yIGhlYWRlci1wYXJhZ3JhcGggZmxhc2hjYXJkcyAoSDEgPSAxLCBIMiA9IDIsIGV0Yy4pXCIsXG4gICAgICApXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICBkcm9wZG93blxuICAgICAgICAgIC5hZGRPcHRpb24oXCIxXCIsIFwiSDEgKCMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjJcIiwgXCJIMiAoIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjNcIiwgXCJIMyAoIyMjKVwiKVxuICAgICAgICAgIC5hZGRPcHRpb24oXCI0XCIsIFwiSDQgKCMjIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjVcIiwgXCJINSAoIyMjIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjZcIiwgXCJINiAoIyMjIyMjKVwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXJzaW5nLmhlYWRlckxldmVsLnRvU3RyaW5nKCkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGFyc2luZy5oZWFkZXJMZXZlbCA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAvLyBGb3JjZSBzeW5jIGFsbCBkZWNrcyB0byBlbnN1cmUgYWxsIGhlYWRlciBsZXZlbHMgYXJlIHBhcnNlZCBhbmQgc3RvcmVkXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5wZXJmb3JtU3luYyh0cnVlKTtcblxuICAgICAgICAgICAgLy8gUmVmcmVzaCB0aGUgdmlldyB0byBzaG93IGZsYXNoY2FyZHMgZm9yIHRoZSBuZXcgaGVhZGVyIGxldmVsXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udmlldykge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hTdGF0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkVUlTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJVc2VyIEludGVyZmFjZVwiIH0pO1xuXG4gICAgY29uc3QgaW50ZXJ2YWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkJhY2tncm91bmQgUmVmcmVzaCBJbnRlcnZhbFwiKVxuICAgICAgLnNldERlc2MoXCJIb3cgb2Z0ZW4gdG8gcmVmcmVzaCBkZWNrIHN0YXRzIGluIHRoZSBzaWRlIHBhbmVsIChpbiBzZWNvbmRzKVwiKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCI1XCIpXG4gICAgICAgICAgLnNldFZhbHVlKFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudWkuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbC50b1N0cmluZygpLFxuICAgICAgICAgIClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkgJiYgbnVtID49IDEgJiYgbnVtIDw9IDYwKSB7XG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgPSBudW07XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAvLyBSZXN0YXJ0IGJhY2tncm91bmQgcmVmcmVzaCB3aXRoIG5ldyBpbnRlcnZhbFxuICAgICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzdGFydEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRW5hYmxlIEJhY2tncm91bmQgUmVmcmVzaFwiKVxuICAgICAgLnNldERlc2MoXCJBdXRvbWF0aWNhbGx5IHJlZnJlc2ggZGVjayBzdGF0cyBpbiB0aGUgc2lkZSBwYW5lbFwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2ggPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAvLyBFbmFibGUvZGlzYWJsZSBpbnRlcnZhbCBzZXR0aW5nIGJhc2VkIG9uIHRvZ2dsZVxuICAgICAgICAgICAgaW50ZXJ2YWxTZXR0aW5nLnNldERpc2FibGVkKCF2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IG9yIHN0b3AgYmFja2dyb3VuZCByZWZyZXNoIGJhc2VkIG9uIHNldHRpbmdcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi52aWV3KSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcuc3RvcEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZSBvZiBpbnRlcnZhbCBzZXR0aW5nXG4gICAgaW50ZXJ2YWxTZXR0aW5nLnNldERpc2FibGVkKFxuICAgICAgIXRoaXMucGx1Z2luLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGFkZERlYnVnU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiRGVidWdcIiB9KTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xuICAgICAgdGV4dDogXCJEZWJ1ZyBzZXR0aW5ncyBmb3IgdHJvdWJsZXNob290aW5nIGFuZCBkZXZlbG9wbWVudC5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJFbmFibGUgRGVidWcgTG9nZ2luZ1wiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiU2hvdyBkZXRhaWxlZCBsb2dnaW5nIGluIHRoZSBjb25zb2xlIGZvciBzeW5jIG9wZXJhdGlvbnMgYW5kIGZsYXNoY2FyZCBwcm9jZXNzaW5nXCIsXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Zz8uZW5hYmxlTG9nZ2luZyB8fCBmYWxzZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnID0ge1xuICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlTG9nczogZmFsc2UsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Zy5lbmFibGVMb2dnaW5nID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRW5hYmxlIFBlcmZvcm1hbmNlIExvZ3NcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIlNob3cgcGVyZm9ybWFuY2UgdGltaW5nIG1ldHJpY3MgaW4gdGhlIGNvbnNvbGUgKHN5bmMgdGltZXMsIHBhcnNpbmcgcGVyZm9ybWFuY2UsIGV0Yy4pXCIsXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Zz8ucGVyZm9ybWFuY2VMb2dzIHx8IGZhbHNlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWcgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VMb2dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnLnBlcmZvcm1hbmNlTG9ncyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG59XG4iLCAiZnVuY3Rpb24gbm9vcCgpIHsgfVxuY29uc3QgaWRlbnRpdHkgPSB4ID0+IHg7XG5mdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZm9yIChjb25zdCBrIGluIHNyYylcbiAgICAgICAgdGFyW2tdID0gc3JjW2tdO1xuICAgIHJldHVybiB0YXI7XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG5mdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcbiAgICBlbGVtZW50Ll9fc3ZlbHRlX21ldGEgPSB7XG4gICAgICAgIGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuICAgIH07XG59XG5mdW5jdGlvbiBydW4oZm4pIHtcbiAgICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cbmZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG4gICAgZm5zLmZvckVhY2gocnVuKTtcbn1cbmZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5sZXQgc3JjX3VybF9lcXVhbF9hbmNob3I7XG5mdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcbiAgICBpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG4gICAgICAgIHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cbiAgICBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmID0gdXJsO1xuICAgIHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cbmZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5mdW5jdGlvbiBpc19lbXB0eShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuICAgIGlmIChzdG9yZSAhPSBudWxsICYmIHR5cGVvZiBzdG9yZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHN1YnNjcmliZShzdG9yZSwgLi4uY2FsbGJhY2tzKSB7XG4gICAgaWYgKHN0b3JlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgfVxuICAgIGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKC4uLmNhbGxiYWNrcyk7XG4gICAgcmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIHN1YnNjcmliZShzdG9yZSwgXyA9PiB2YWx1ZSA9IF8pKCk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuICAgIGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goc3Vic2NyaWJlKHN0b3JlLCBjYWxsYmFjaykpO1xufVxuZnVuY3Rpb24gY3JlYXRlX3Nsb3QoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuICAgIGlmIChkZWZpbml0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY3R4ID0gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKTtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuICAgIHJldHVybiBkZWZpbml0aW9uWzFdICYmIGZuXG4gICAgICAgID8gYXNzaWduKCQkc2NvcGUuY3R4LnNsaWNlKCksIGRlZmluaXRpb25bMV0oZm4oY3R4KSkpXG4gICAgICAgIDogJCRzY29wZS5jdHg7XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBmbikge1xuICAgIGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG4gICAgICAgIGNvbnN0IGxldHMgPSBkZWZpbml0aW9uWzJdKGZuKGRpcnR5KSk7XG4gICAgICAgIGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZXRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGV0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gTWF0aC5tYXgoJCRzY29wZS5kaXJ0eS5sZW5ndGgsIGxldHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuICAgIH1cbiAgICByZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbikge1xuICAgIGlmIChzbG90X2NoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG4gICAgICAgIHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3Qoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgY29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcbiAgICB1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pO1xufVxuZnVuY3Rpb24gZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlKCQkc2NvcGUpIHtcbiAgICBpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcbiAgICAgICAgY29uc3QgZGlydHkgPSBbXTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRpcnR5W2ldID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpcnR5O1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrIGluIHByb3BzKVxuICAgICAgICBpZiAoa1swXSAhPT0gJyQnKVxuICAgICAgICAgICAgcmVzdWx0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuICAgIGNvbnN0IHJlc3QgPSB7fTtcbiAgICBrZXlzID0gbmV3IFNldChrZXlzKTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKVxuICAgICAgICAgICAgcmVzdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9zbG90cyhzbG90cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICBsZXQgcmFuID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGlmIChyYW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICAgIGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG51bGxfdG9fZW1wdHkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcbiAgICBzdG9yZS5zZXQodmFsdWUpO1xuICAgIHJldHVybiByZXQ7XG59XG5jb25zdCBoYXNfcHJvcCA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xuZnVuY3Rpb24gYWN0aW9uX2Rlc3Ryb3llcihhY3Rpb25fcmVzdWx0KSB7XG4gICAgcmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5mdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuICAgIGNvbnN0IHNwbGl0ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5tYXRjaCgvXlxccyooLT9bXFxkLl0rKShbXlxcc10qKVxccyokLyk7XG4gICAgcmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFt2YWx1ZSwgJ3B4J107XG59XG5jb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG5cbmNvbnN0IGlzX2NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xubGV0IG5vdyA9IGlzX2NsaWVudFxuICAgID8gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiAoKSA9PiBEYXRlLm5vdygpO1xubGV0IHJhZiA9IGlzX2NsaWVudCA/IGNiID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYikgOiBub29wO1xuLy8gdXNlZCBpbnRlcm5hbGx5IGZvciB0ZXN0aW5nXG5mdW5jdGlvbiBzZXRfbm93KGZuKSB7XG4gICAgbm93ID0gZm47XG59XG5mdW5jdGlvbiBzZXRfcmFmKGZuKSB7XG4gICAgcmFmID0gZm47XG59XG5cbmNvbnN0IHRhc2tzID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gcnVuX3Rhc2tzKG5vdykge1xuICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgIGlmICghdGFzay5jKG5vdykpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgICAgIHRhc2suZigpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRhc2tzLnNpemUgIT09IDApXG4gICAgICAgIHJhZihydW5fdGFza3MpO1xufVxuLyoqXG4gKiBGb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5IVxuICovXG5mdW5jdGlvbiBjbGVhcl9sb29wcygpIHtcbiAgICB0YXNrcy5jbGVhcigpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHRhc2sgdGhhdCBydW5zIG9uIGVhY2ggcmFmIGZyYW1lXG4gKiB1bnRpbCBpdCByZXR1cm5zIGEgZmFsc3kgdmFsdWUgb3IgaXMgYWJvcnRlZFxuICovXG5mdW5jdGlvbiBsb29wKGNhbGxiYWNrKSB7XG4gICAgbGV0IHRhc2s7XG4gICAgaWYgKHRhc2tzLnNpemUgPT09IDApXG4gICAgICAgIHJhZihydW5fdGFza3MpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IG5ldyBQcm9taXNlKGZ1bGZpbGwgPT4ge1xuICAgICAgICAgICAgdGFza3MuYWRkKHRhc2sgPSB7IGM6IGNhbGxiYWNrLCBmOiBmdWxmaWxsIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgYWJvcnQoKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5jb25zdCBnbG9iYWxzID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgOiBnbG9iYWwpO1xuXG4vKipcbiAqIFJlc2l6ZSBvYnNlcnZlciBzaW5nbGV0b24uXG4gKiBPbmUgbGlzdGVuZXIgcGVyIGVsZW1lbnQgb25seSFcbiAqIGh0dHBzOi8vZ3JvdXBzLmdvb2dsZS5jb20vYS9jaHJvbWl1bS5vcmcvZy9ibGluay1kZXYvYy96Nmllbk9OVWI1QS9tL0Y1LVZjVVp0QkFBSlxuICovXG5jbGFzcyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSAnV2Vha01hcCcgaW4gZ2xvYmFscyA/IG5ldyBXZWFrTWFwKCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG9ic2VydmUoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldChlbGVtZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuX2dldE9ic2VydmVyKCkub2JzZXJ2ZShlbGVtZW50LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuX29ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTsgLy8gdGhpcyBsaW5lIGNhbiBwcm9iYWJseSBiZSByZW1vdmVkXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9nZXRPYnNlcnZlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fb2JzZXJ2ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLl9vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uZW50cmllcy5zZXQoZW50cnkudGFyZ2V0LCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5fbGlzdGVuZXJzLmdldChlbnRyeS50YXJnZXQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuLy8gTmVlZHMgdG8gYmUgd3JpdHRlbiBsaWtlIHRoaXMgdG8gcGFzcyB0aGUgdHJlZS1zaGFrZS10ZXN0XG5SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5lbnRyaWVzID0gJ1dlYWtNYXAnIGluIGdsb2JhbHMgPyBuZXcgV2Vha01hcCgpIDogdW5kZWZpbmVkO1xuXG4vLyBUcmFjayB3aGljaCBub2RlcyBhcmUgY2xhaW1lZCBkdXJpbmcgaHlkcmF0aW9uLiBVbmNsYWltZWQgbm9kZXMgY2FuIHRoZW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbi8vIGF0IHRoZSBlbmQgb2YgaHlkcmF0aW9uIHdpdGhvdXQgdG91Y2hpbmcgdGhlIHJlbWFpbmluZyBub2Rlcy5cbmxldCBpc19oeWRyYXRpbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIHN0YXJ0X2h5ZHJhdGluZygpIHtcbiAgICBpc19oeWRyYXRpbmcgPSB0cnVlO1xufVxuZnVuY3Rpb24gZW5kX2h5ZHJhdGluZygpIHtcbiAgICBpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwcGVyX2JvdW5kKGxvdywgaGlnaCwga2V5LCB2YWx1ZSkge1xuICAgIC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICBjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuICAgICAgICBpZiAoa2V5KG1pZCkgPD0gdmFsdWUpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG59XG5mdW5jdGlvbiBpbml0X2h5ZHJhdGUodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5oeWRyYXRlX2luaXQpXG4gICAgICAgIHJldHVybjtcbiAgICB0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcbiAgICAvLyBXZSBrbm93IHRoYXQgYWxsIGNoaWxkcmVuIGhhdmUgY2xhaW1fb3JkZXIgdmFsdWVzIHNpbmNlIHRoZSB1bmNsYWltZWQgaGF2ZSBiZWVuIGRldGFjaGVkIGlmIHRhcmdldCBpcyBub3QgPGhlYWQ+XG4gICAgbGV0IGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkTm9kZXM7XG4gICAgLy8gSWYgdGFyZ2V0IGlzIDxoZWFkPiwgdGhlcmUgbWF5IGJlIGNoaWxkcmVuIHdpdGhvdXQgY2xhaW1fb3JkZXJcbiAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcbiAgICAgICAgY29uc3QgbXlDaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbXlDaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuID0gbXlDaGlsZHJlbjtcbiAgICB9XG4gICAgLypcbiAgICAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG4gICAgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG4gICAgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuICAgICogc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcbiAgICAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG4gICAgKlxuICAgICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG4gICAgKiBwb3NzaWJsZS5cbiAgICAqXG4gICAgKiBQcm9vZjpcbiAgICAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuICAgICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG4gICAgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuICAgICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cbiAgICAqL1xuICAgIC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgLy8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuICAgIGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcbiAgICAvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuICAgIGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuICAgIG1bMF0gPSAtMTtcbiAgICBsZXQgbG9uZ2VzdCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG4gICAgICAgIC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG4gICAgICAgIC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG4gICAgICAgIC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG4gICAgICAgIGNvbnN0IHNlcUxlbiA9ICgobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudCkgPyBsb25nZXN0ICsgMSA6IHVwcGVyX2JvdW5kKDEsIGxvbmdlc3QsIGlkeCA9PiBjaGlsZHJlblttW2lkeF1dLmNsYWltX29yZGVyLCBjdXJyZW50KSkgLSAxO1xuICAgICAgICBwW2ldID0gbVtzZXFMZW5dICsgMTtcbiAgICAgICAgY29uc3QgbmV3TGVuID0gc2VxTGVuICsgMTtcbiAgICAgICAgLy8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuICAgICAgICBtW25ld0xlbl0gPSBpO1xuICAgICAgICBsb25nZXN0ID0gTWF0aC5tYXgobmV3TGVuLCBsb25nZXN0KTtcbiAgICB9XG4gICAgLy8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuICAgIGNvbnN0IGxpcyA9IFtdO1xuICAgIC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG4gICAgY29uc3QgdG9Nb3ZlID0gW107XG4gICAgbGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGN1ciA9IG1bbG9uZ2VzdF0gKyAxOyBjdXIgIT0gMDsgY3VyID0gcFtjdXIgLSAxXSkge1xuICAgICAgICBsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG4gICAgICAgIGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG4gICAgICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdC0tO1xuICAgIH1cbiAgICBmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcbiAgICAgICAgdG9Nb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuICAgIH1cbiAgICBsaXMucmV2ZXJzZSgpO1xuICAgIC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuICAgIHRvTW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG4gICAgLy8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b01vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd2hpbGUgKGogPCBsaXMubGVuZ3RoICYmIHRvTW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUodG9Nb3ZlW2ldLCBhbmNob3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuICAgIGNvbnN0IGFwcGVuZF9zdHlsZXNfdG8gPSBnZXRfcm9vdF9mb3Jfc3R5bGUodGFyZ2V0KTtcbiAgICBpZiAoIWFwcGVuZF9zdHlsZXNfdG8uZ2V0RWxlbWVudEJ5SWQoc3R5bGVfc2hlZXRfaWQpKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XG4gICAgICAgIGFwcGVuZF9zdHlsZXNoZWV0KGFwcGVuZF9zdHlsZXNfdG8sIHN0eWxlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuICAgIGlmICghbm9kZSlcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgIGNvbnN0IHJvb3QgPSBub2RlLmdldFJvb3ROb2RlID8gbm9kZS5nZXRSb290Tm9kZSgpIDogbm9kZS5vd25lckRvY3VtZW50O1xuICAgIGlmIChyb290ICYmIHJvb3QuaG9zdCkge1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcbiAgICBhcHBlbmRfc3R5bGVzaGVldChnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSksIHN0eWxlX2VsZW1lbnQpO1xuICAgIHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcbiAgICBhcHBlbmQobm9kZS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcbiAgICByZXR1cm4gc3R5bGUuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSkge1xuICAgIGlmIChpc19oeWRyYXRpbmcpIHtcbiAgICAgICAgaW5pdF9oeWRyYXRlKHRhcmdldCk7XG4gICAgICAgIGlmICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPT09IHVuZGVmaW5lZCkgfHwgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCkgJiYgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLnBhcmVudE5vZGUgIT09IHRhcmdldCkpKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNraXAgbm9kZXMgb2YgdW5kZWZpbmVkIG9yZGVyaW5nXG4gICAgICAgIHdoaWxlICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5jbGFpbV9vcmRlciA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgaW5zZXJ0IGlmIHRoZSBvcmRlcmluZyBvZiB0aGlzIG5vZGUgc2hvdWxkIGJlIG1vZGlmaWVkIG9yIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdGFyZ2V0XG4gICAgICAgICAgICBpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPT0gbnVsbCkge1xuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5mdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgaWYgKGlzX2h5ZHJhdGluZyAmJiAhYW5jaG9yKSB7XG4gICAgICAgIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPSBhbmNob3IpIHtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChpdGVyYXRpb25zW2ldKVxuICAgICAgICAgICAgaXRlcmF0aW9uc1tpXS5kKGRldGFjaGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZWxlbWVudChuYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5mdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSwgeyBpcyB9KTtcbn1cbmZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgZm9yIChjb25zdCBrIGluIG9iaikge1xuICAgICAgICBpZiAoaGFzX3Byb3Aob2JqLCBrKVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgJiYgZXhjbHVkZS5pbmRleE9mKGspID09PSAtMSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGFyZ2V0W2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBzdmdfZWxlbWVudChuYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHRleHQoZGF0YSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhKTtcbn1cbmZ1bmN0aW9uIHNwYWNlKCkge1xuICAgIHJldHVybiB0ZXh0KCcgJyk7XG59XG5mdW5jdGlvbiBlbXB0eSgpIHtcbiAgICByZXR1cm4gdGV4dCgnJyk7XG59XG5mdW5jdGlvbiBjb21tZW50KGNvbnRlbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjb250ZW50KTtcbn1cbmZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlbGYoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcylcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChldmVudC5pc1RydXN0ZWQpXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuLyoqXG4gKiBMaXN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYWx3YXlzIGJlIHNldCB0aHJvdWdoIHRoZSBhdHRyIG1ldGhvZCxcbiAqIGJlY2F1c2UgdXBkYXRpbmcgdGhlbSB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBzZXR0ZXIgZG9lc24ndCB3b3JrIHJlbGlhYmx5LlxuICogSW4gdGhlIGV4YW1wbGUgb2YgYHdpZHRoYC9gaGVpZ2h0YCwgdGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgc2V0dGVyIG9ubHlcbiAqIGFjY2VwdHMgbnVtZXJpYyB2YWx1ZXMsIGJ1dCB0aGUgYXR0cmlidXRlIGNhbiBhbHNvIGJlIHNldCB0byBhIHN0cmluZyBsaWtlIGA1MCVgLlxuICogSWYgdGhpcyBsaXN0IGJlY29tZXMgdG9vIGJpZywgcmV0aGluayB0aGlzIGFwcHJvYWNoLlxuICovXG5jb25zdCBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZSA9IFsnd2lkdGgnLCAnaGVpZ2h0J107XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQgJiYgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfc3ZnX2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwKG5vZGUsIGRhdGFfbWFwKSB7XG4gICAgT2JqZWN0LmtleXMoZGF0YV9tYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBrZXksIGRhdGFfbWFwW2tleV0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBpZiAocHJvcCBpbiBub2RlKSB7XG4gICAgICAgIG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcbiAgICByZXR1cm4gKC8tLy50ZXN0KHRhZykpID8gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwIDogc2V0X2F0dHJpYnV0ZXM7XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuICAgIGxldCBfaW5wdXRzO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcbiAgICAgICAgICAgIF9pbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgICAgICBfaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gZ3JvdXAucHVzaChpbnB1dCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKiByZW1vdmUgKi8gcigpIHtcbiAgICAgICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuICAgIGxldCBfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG4gICAgbGV0IF9pbnB1dHM7XG4gICAgZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBncm91cCA9IGdyb3VwW2luZGV4ZXNbaV1dID0gZ3JvdXBbaW5kZXhlc1tpXV0gfHwgW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKCkge1xuICAgICAgICBfaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gX2dyb3VwLnB1c2goaW5wdXQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBfaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gX2dyb3VwLnNwbGljZShfZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcbiAgICAgICAgICAgIGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcbiAgICAgICAgICAgIGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcbiAgICAgICAgICAgIGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIF9ncm91cCA9IG5ld19ncm91cDtcbiAgICAgICAgICAgICAgICBwdXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcbiAgICAgICAgICAgIF9pbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgICAgICBwdXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qIHJlbW92ZSAqLyByOiByZW1vdmVcbiAgICB9O1xufVxuZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5mdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGFycmF5LnB1c2goeyBzdGFydDogcmFuZ2VzLnN0YXJ0KGkpLCBlbmQ6IHJhbmdlcy5lbmQoaSkgfSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpO1xufVxuZnVuY3Rpb24gaW5pdF9jbGFpbV9pbmZvKG5vZGVzKSB7XG4gICAgaWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2Rlcy5jbGFpbV9pbmZvID0geyBsYXN0X2luZGV4OiAwLCB0b3RhbF9jbGFpbWVkOiAwIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY2xhaW1fbm9kZShub2RlcywgcHJlZGljYXRlLCBwcm9jZXNzTm9kZSwgY3JlYXRlTm9kZSwgZG9udFVwZGF0ZUxhc3RJbmRleCA9IGZhbHNlKSB7XG4gICAgLy8gVHJ5IHRvIGZpbmQgbm9kZXMgaW4gYW4gb3JkZXIgc3VjaCB0aGF0IHdlIGxlbmd0aGVuIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICBpbml0X2NsYWltX2luZm8obm9kZXMpO1xuICAgIGNvbnN0IHJlc3VsdE5vZGUgPSAoKCkgPT4ge1xuICAgICAgICAvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzTm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0cnkgdG8gZmluZCBvbmUgYmVmb3JlXG4gICAgICAgIC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuICAgICAgICBmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICByZXR1cm4gY3JlYXRlTm9kZSgpO1xuICAgIH0pKCk7XG4gICAgcmVzdWx0Tm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcbiAgICBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcbiAgICByZXR1cm4gcmVzdWx0Tm9kZTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcbiAgICByZXR1cm4gY2xhaW1fbm9kZShub2RlcywgKG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsIChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW1vdmUuZm9yRWFjaCh2ID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LCAoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKSk7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5mdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGNsYWltX3RleHQobm9kZXMsIGRhdGEpIHtcbiAgICByZXR1cm4gY2xhaW1fbm9kZShub2RlcywgKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDMsIChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFTdHIgPSAnJyArIGRhdGE7XG4gICAgICAgIGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aChkYXRhU3RyKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUuZGF0YS5sZW5ndGggIT09IGRhdGFTdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFTdHIubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IGRhdGFTdHI7XG4gICAgICAgIH1cbiAgICB9LCAoKSA9PiB0ZXh0KGRhdGEpLCB0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuICAgICk7XG59XG5mdW5jdGlvbiBjbGFpbV9zcGFjZShub2Rlcykge1xuICAgIHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuZnVuY3Rpb24gY2xhaW1fY29tbWVudChub2RlcywgZGF0YSkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCwgKG5vZGUpID0+IHtcbiAgICAgICAgbm9kZS5kYXRhID0gJycgKyBkYXRhO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sICgpID0+IGNvbW1lbnQoZGF0YSksIHRydWUpO1xufVxuZnVuY3Rpb24gZmluZF9jb21tZW50KG5vZGVzLCB0ZXh0LCBzdGFydCkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZXMubGVuZ3RoO1xufVxuZnVuY3Rpb24gY2xhaW1faHRtbF90YWcobm9kZXMsIGlzX3N2Zykge1xuICAgIC8vIGZpbmQgaHRtbCBvcGVuaW5nIHRhZ1xuICAgIGNvbnN0IHN0YXJ0X2luZGV4ID0gZmluZF9jb21tZW50KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcbiAgICBjb25zdCBlbmRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19FTkQnLCBzdGFydF9pbmRleCk7XG4gICAgaWYgKHN0YXJ0X2luZGV4ID09PSBlbmRfaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKHVuZGVmaW5lZCwgaXNfc3ZnKTtcbiAgICB9XG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcbiAgICBkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1todG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuICAgIGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG4gICAgICAgIG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgICAgIG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oY2xhaW1lZF9ub2RlcywgaXNfc3ZnKTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuICAgIGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuICAgICAgICBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlLCBpbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUsIG1vdW50aW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW1vdW50aW5nIHx8IHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuICAgIGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuICAgIHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5mdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG4gICAgcmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCBvcHRpb24gPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5sZXQgY3Jvc3NvcmlnaW47XG5mdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcbiAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjcm9zc29yaWdpbiA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjcm9zc29yaWdpbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuZnVuY3Rpb24gYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcbiAgICBjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG4gICAgY29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcbiAgICAgICAgJ292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOycpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBpZnJhbWUudGFiSW5kZXggPSAtMTtcbiAgICBjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG4gICAgbGV0IHVuc3Vic2NyaWJlO1xuICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICBpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4od2luZG93LCAnbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpXG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFuIGluaXRpYWwgcmVzaXplIGV2ZW50IGlzIGZpcmVkIF9hZnRlcl8gdGhlIGlmcmFtZSBpcyBsb2FkZWQgKHdoaWNoIGlzIGFzeW5jaHJvbm91cylcbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy80MjMzXG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhcHBlbmQobm9kZSwgaWZyYW1lKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWNoKGlmcmFtZSk7XG4gICAgfTtcbn1cbmNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oeyBib3g6ICdjb250ZW50LWJveCcgfSk7XG5jb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oeyBib3g6ICdib3JkZXItYm94JyB9KTtcbmNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9kZXZpY2VfcGl4ZWxfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9KTtcbmZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdFt0b2dnbGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcbn1cbmZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuZnVuY3Rpb24gaGVhZF9zZWxlY3Rvcihub2RlSWQsIGhlYWQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgc3RhcnRlZCA9IDA7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIGhlYWQuY2hpbGROb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fRU5EYCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgLT0gMTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9TVEFSVGApIHtcbiAgICAgICAgICAgICAgICBzdGFydGVkICs9IDE7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmlzX3N2ZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzX3N2ZyA9IGlzX3N2ZztcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICB9XG4gICAgYyhodG1sKSB7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICB9XG4gICAgbShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzX3N2ZylcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBzdmdfZWxlbWVudCh0YXJnZXQubm9kZU5hbWUpO1xuICAgICAgICAgICAgLyoqICM3MzY0ICB0YXJnZXQgZm9yIDx0ZW1wbGF0ZT4gbWF5IGJlIHByb3ZpZGVkIGFzICNkb2N1bWVudC1mcmFnbWVudCgxMSkgKi9cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBlbGVtZW50KCh0YXJnZXQubm9kZVR5cGUgPT09IDExID8gJ1RFTVBMQVRFJyA6IHRhcmdldC5ub2RlTmFtZSkpO1xuICAgICAgICAgICAgdGhpcy50ID0gdGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURScgPyB0YXJnZXQgOiB0YXJnZXQuY29udGVudDtcbiAgICAgICAgICAgIHRoaXMuYyhodG1sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmkoYW5jaG9yKTtcbiAgICB9XG4gICAgaChodG1sKSB7XG4gICAgICAgIHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB0aGlzLm4gPSBBcnJheS5mcm9tKHRoaXMuZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJyA/IHRoaXMuZS5jb250ZW50LmNoaWxkTm9kZXMgOiB0aGlzLmUuY2hpbGROb2Rlcyk7XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIHRoaXMuaSh0aGlzLmEpO1xuICAgIH1cbiAgICBkKCkge1xuICAgICAgICB0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuICAgIH1cbn1cbmNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3RvcihjbGFpbWVkX25vZGVzLCBpc19zdmcgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihpc19zdmcpO1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgICAgICB0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuICAgIH1cbiAgICBjKGh0bWwpIHtcbiAgICAgICAgaWYgKHRoaXMubCkge1xuICAgICAgICAgICAgdGhpcy5uID0gdGhpcy5sO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIuYyhodG1sKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpKGFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICByZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8vIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGZvciBtdWx0aXBsZSBkb2N1bWVudHMgYmVjYXVzZSBhIFN2ZWx0ZSBhcHBsaWNhdGlvbiBjb3VsZCBhbHNvIGNvbnRhaW4gaWZyYW1lc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMzYyNFxuY29uc3QgbWFuYWdlZF9zdHlsZXMgPSBuZXcgTWFwKCk7XG5sZXQgYWN0aXZlID0gMDtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKSB7XG4gICAgY29uc3QgaW5mbyA9IHsgc3R5bGVzaGVldDogYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSksIHJ1bGVzOiB7fSB9O1xuICAgIG1hbmFnZWRfc3R5bGVzLnNldChkb2MsIGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xufVxuZnVuY3Rpb24gY3JlYXRlX3J1bGUobm9kZSwgYSwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNlLCBmbiwgdWlkID0gMCkge1xuICAgIGNvbnN0IHN0ZXAgPSAxNi42NjYgLyBkdXJhdGlvbjtcbiAgICBsZXQga2V5ZnJhbWVzID0gJ3tcXG4nO1xuICAgIGZvciAobGV0IHAgPSAwOyBwIDw9IDE7IHAgKz0gc3RlcCkge1xuICAgICAgICBjb25zdCB0ID0gYSArIChiIC0gYSkgKiBlYXNlKHApO1xuICAgICAgICBrZXlmcmFtZXMgKz0gcCAqIDEwMCArIGAleyR7Zm4odCwgMSAtIHQpfX1cXG5gO1xuICAgIH1cbiAgICBjb25zdCBydWxlID0ga2V5ZnJhbWVzICsgYDEwMCUgeyR7Zm4oYiwgMSAtIGIpfX1cXG59YDtcbiAgICBjb25zdCBuYW1lID0gYF9fc3ZlbHRlXyR7aGFzaChydWxlKX1fJHt1aWR9YDtcbiAgICBjb25zdCBkb2MgPSBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSk7XG4gICAgY29uc3QgeyBzdHlsZXNoZWV0LCBydWxlcyB9ID0gbWFuYWdlZF9zdHlsZXMuZ2V0KGRvYykgfHwgY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSk7XG4gICAgaWYgKCFydWxlc1tuYW1lXSkge1xuICAgICAgICBydWxlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnO1xuICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnfSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuICAgIGFjdGl2ZSArPSAxO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZGVsZXRlX3J1bGUobm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKG5hbWVcbiAgICAgICAgPyBhbmltID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuICAgICAgICA6IGFuaW0gPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG4gICAgKTtcbiAgICBjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG4gICAgICAgIGFjdGl2ZSAtPSBkZWxldGVkO1xuICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgIGNsZWFyX3J1bGVzKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG4gICAgcmFmKCgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuZm9yRWFjaChpbmZvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3duZXJOb2RlIH0gPSBpbmZvLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBvd25lck5vZGUgaWYgaXQgcnVucyBvbiBqc2RvbS5cbiAgICAgICAgICAgIGlmIChvd25lck5vZGUpXG4gICAgICAgICAgICAgICAgZGV0YWNoKG93bmVyTm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtYW5hZ2VkX3N0eWxlcy5jbGVhcigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfYW5pbWF0aW9uKG5vZGUsIGZyb20sIGZuLCBwYXJhbXMpIHtcbiAgICBpZiAoIWZyb20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoZnJvbS5sZWZ0ID09PSB0by5sZWZ0ICYmIGZyb20ucmlnaHQgPT09IHRvLnJpZ2h0ICYmIGZyb20udG9wID09PSB0by50b3AgJiYgZnJvbS5ib3R0b20gPT09IHRvLmJvdHRvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBzaG91bGQgdGhpcyBiZSBzZXBhcmF0ZWQgZnJvbSBkZXN0cnVjdHVyaW5nPyBPciBzdGFydC9lbmQgYWRkZWQgdG8gcHVibGljIGFwaSBhbmQgZG9jdW1lbnRhdGlvbj9cbiAgICBzdGFydDogc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzpcbiAgICBlbmQgPSBzdGFydF90aW1lICsgZHVyYXRpb24sIHRpY2sgPSBub29wLCBjc3MgfSA9IGZuKG5vZGUsIHsgZnJvbSwgdG8gfSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBsZXQgbmFtZTtcbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXkpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBuYW1lKTtcbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgIGlmICghc3RhcnRlZCAmJiBub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQgJiYgbm93ID49IGVuZCkge1xuICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCkge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHN0YXJ0X3RpbWU7XG4gICAgICAgICAgICBjb25zdCB0ID0gMCArIDEgKiBlYXNpbmcocCAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHN0YXJ0KCk7XG4gICAgdGljaygwLCAxKTtcbiAgICByZXR1cm4gc3RvcDtcbn1cbmZ1bmN0aW9uIGZpeF9wb3NpdGlvbihub2RlKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChzdHlsZS5wb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyAmJiBzdHlsZS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHN0eWxlO1xuICAgICAgICBjb25zdCBhID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGFkZF90cmFuc2Zvcm0obm9kZSwgYSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkX3RyYW5zZm9ybShub2RlLCBhKSB7XG4gICAgY29uc3QgYiA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGEubGVmdCAhPT0gYi5sZWZ0IHx8IGEudG9wICE9PSBiLnRvcCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHthLmxlZnQgLSBiLmxlZnR9cHgsICR7YS50b3AgLSBiLnRvcH1weClgO1xuICAgIH1cbn1cblxubGV0IGN1cnJlbnRfY29tcG9uZW50O1xuZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuICAgIGlmICghY3VycmVudF9jb21wb25lbnQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uJyk7XG4gICAgcmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1iZWZvcmV1cGRhdGVcbiAqL1xuZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtb25tb3VudFxuICovXG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHVwZGF0ZWQuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBhZnRlciB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqL1xuZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtb25kZXN0cm95XG4gKi9cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXSgvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1jcmVhdGVldmVudGRpc3BhdGNoZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgIHJldHVybiAodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG4gICAgICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtc2V0Y29udGV4dFxuICovXG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1nZXRjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWdldGFsbGNvbnRleHRzXG4gKi9cbmZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1oYXNjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5sZXQgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcbiAgICBpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcbiAgICAgICAgdXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGljaygpIHtcbiAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcbiAgICByZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG4gICAgZmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIC8vIERvIG5vdCByZWVudGVyIGZsdXNoIHdoaWxlIGRpcnR5IGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGFzIHRoaXMgY2FuXG4gICAgLy8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuICAgIC8vIFJlZW50cmFuY3kgaXMgb2sgYWZ0ZXJ3YXJkcyBmb3IgYmluZGluZ3MgZXRjLlxuICAgIGlmIChmbHVzaGlkeCAhPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tmbHVzaGlkeF07XG4gICAgICAgICAgICAgICAgZmx1c2hpZHgrKztcbiAgICAgICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoY29tcG9uZW50LiQkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgZGlydHkgc3RhdGUgdG8gbm90IGVuZCB1cCBpbiBhIGRlYWRsb2NrZWQgc3RhdGUgYW5kIHRoZW4gcmV0aHJvd1xuICAgICAgICAgICAgZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZmx1c2hpZHggPSAwO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgZmx1c2hpZHggPSAwO1xuICAgICAgICB3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKVxuICAgICAgICAgICAgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcbiAgICAgICAgLy8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG4gICAgICAgIC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2VcbiAgICAgICAgLy8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuICAgICAgICAgICAgaWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgICAgICAgIHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgfSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuICAgIHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgIH1cbiAgICB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgc2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAkJC51cGRhdGUoKTtcbiAgICAgICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAgICAgY29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcbiAgICAgICAgJCQuZGlydHkgPSBbLTFdO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuICAgICAgICAkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbiAgICB9XG59XG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqL1xuZnVuY3Rpb24gZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyhmbnMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IFtdO1xuICAgIGNvbnN0IHRhcmdldHMgPSBbXTtcbiAgICByZW5kZXJfY2FsbGJhY2tzLmZvckVhY2goKGMpID0+IGZucy5pbmRleE9mKGMpID09PSAtMSA/IGZpbHRlcmVkLnB1c2goYykgOiB0YXJnZXRzLnB1c2goYykpO1xuICAgIHRhcmdldHMuZm9yRWFjaCgoYykgPT4gYygpKTtcbiAgICByZW5kZXJfY2FsbGJhY2tzID0gZmlsdGVyZWQ7XG59XG5cbmxldCBwcm9taXNlO1xuZnVuY3Rpb24gd2FpdCgpIHtcbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xubGV0IG91dHJvcztcbmZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcbiAgICBvdXRyb3MgPSB7XG4gICAgICAgIHI6IDAsXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcbiAgICBpZiAoIW91dHJvcy5yKSB7XG4gICAgICAgIHJ1bl9hbGwob3V0cm9zLmMpO1xuICAgIH1cbiAgICBvdXRyb3MgPSBvdXRyb3MucDtcbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcbiAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgYmxvY2suaShsb2NhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcbiAgICAgICAgaWYgKG91dHJvaW5nLmhhcyhibG9jaykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG91dHJvaW5nLmFkZChibG9jayk7XG4gICAgICAgIG91dHJvcy5jLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmQoMSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrLm8obG9jYWwpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbn1cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcbmZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdpbicgfTtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICBsZXQgcnVubmluZyA9IGZhbHNlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBsZXQgdGFzaztcbiAgICBsZXQgdWlkID0gMDtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG4gICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuICAgICAgICBjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcbiAgICAgICAgaWYgKHRhc2spXG4gICAgICAgICAgICB0YXNrLmFib3J0KCk7XG4gICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIHRydWUsICdzdGFydCcpKTtcbiAgICAgICAgdGFzayA9IGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCB0cnVlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oZ28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnb3V0JyB9O1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgY29uc3QgZ3JvdXAgPSBvdXRyb3M7XG4gICAgZ3JvdXAuciArPSAxO1xuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG4gICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tZ3JvdXAucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxIC0gdCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG4gICAgICAgICAgICBnbygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdvKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGVuZChyZXNldCkge1xuICAgICAgICAgICAgaWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnRpY2soMSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMsIGludHJvKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnYm90aCcgfTtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICBsZXQgdCA9IGludHJvID8gMCA6IDE7XG4gICAgbGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBkID0gKHByb2dyYW0uYiAtIHQpO1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IG5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuICAgICAgICAgICAgLy8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiKVxuICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuICAgICAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIHJ1bm5pbmdfcHJvZ3JhbS5iLCBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sIDAsIGVhc2luZywgY29uZmlnLmNzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iLCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludHJvIFx1MjAxNCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91dHJvIFx1MjAxNCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJ1bihiKSB7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZV9wcm9taXNlKHByb21pc2UsIGluZm8pIHtcbiAgICBjb25zdCB0b2tlbiA9IGluZm8udG9rZW4gPSB7fTtcbiAgICBmdW5jdGlvbiB1cGRhdGUodHlwZSwgaW5kZXgsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGluZm8udG9rZW4gIT09IHRva2VuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpbmZvLnJlc29sdmVkID0gdmFsdWU7XG4gICAgICAgIGxldCBjaGlsZF9jdHggPSBpbmZvLmN0eDtcbiAgICAgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGlsZF9jdHggPSBjaGlsZF9jdHguc2xpY2UoKTtcbiAgICAgICAgICAgIGNoaWxkX2N0eFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvY2sgPSB0eXBlICYmIChpbmZvLmN1cnJlbnQgPSB0eXBlKShjaGlsZF9jdHgpO1xuICAgICAgICBsZXQgbmVlZHNfZmx1c2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKGluZm8uYmxvY2spIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmJsb2Nrcykge1xuICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpbmRleCAmJiBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfb3V0cm9zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLmJsb2Nrc1tpXSA9PT0gYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5ibG9ja3NbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tfb3V0cm9zKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZm8uYmxvY2suZCgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICAgICAgYmxvY2subShpbmZvLm1vdW50KCksIGluZm8uYW5jaG9yKTtcbiAgICAgICAgICAgIG5lZWRzX2ZsdXNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLmJsb2NrID0gYmxvY2s7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrcylcbiAgICAgICAgICAgIGluZm8uYmxvY2tzW2luZGV4XSA9IGJsb2NrO1xuICAgICAgICBpZiAobmVlZHNfZmx1c2gpIHtcbiAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzX3Byb21pc2UocHJvbWlzZSkpIHtcbiAgICAgICAgY29uc3QgY3VycmVudF9jb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjdXJyZW50X2NvbXBvbmVudCk7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCB2YWx1ZSk7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjdXJyZW50X2NvbXBvbmVudCk7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby5jYXRjaCwgMiwgaW5mby5lcnJvciwgZXJyb3IpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICAgICAgaWYgKCFpbmZvLmhhc0NhdGNoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpZiB3ZSBwcmV2aW91c2x5IGhhZCBhIHRoZW4vY2F0Y2ggYmxvY2ssIGRlc3Ryb3kgaXRcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby5wZW5kaW5nKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby5wZW5kaW5nLCAwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnRoZW4pIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHByb21pc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHByb21pc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaChpbmZvLCBjdHgsIGRpcnR5KSB7XG4gICAgY29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG4gICAgY29uc3QgeyByZXNvbHZlZCB9ID0gaW5mbztcbiAgICBpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLnRoZW4pIHtcbiAgICAgICAgY2hpbGRfY3R4W2luZm8udmFsdWVdID0gcmVzb2x2ZWQ7XG4gICAgfVxuICAgIGlmIChpbmZvLmN1cnJlbnQgPT09IGluZm8uY2F0Y2gpIHtcbiAgICAgICAgY2hpbGRfY3R4W2luZm8uZXJyb3JdID0gcmVzb2x2ZWQ7XG4gICAgfVxuICAgIGluZm8uYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KTtcbn1cblxuZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZCgxKTtcbiAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5mdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKG9sZF9ibG9ja3MsIGRpcnR5LCBnZXRfa2V5LCBkeW5hbWljLCBjdHgsIGxpc3QsIGxvb2t1cCwgbm9kZSwgZGVzdHJveSwgY3JlYXRlX2VhY2hfYmxvY2ssIG5leHQsIGdldF9jb250ZXh0KSB7XG4gICAgbGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcbiAgICBsZXQgbiA9IGxpc3QubGVuZ3RoO1xuICAgIGxldCBpID0gbztcbiAgICBjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIG9sZF9pbmRleGVzW29sZF9ibG9ja3NbaV0ua2V5XSA9IGk7XG4gICAgY29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuICAgIGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGVsdGFzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICAvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG4gICAgICAgICAgICB1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2xvb2t1cC5zZXQoa2V5LCBuZXdfYmxvY2tzW2ldID0gYmxvY2spO1xuICAgICAgICBpZiAoa2V5IGluIG9sZF9pbmRleGVzKVxuICAgICAgICAgICAgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG4gICAgfVxuICAgIGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcbiAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgIGJsb2NrLm0obm9kZSwgbmV4dCk7XG4gICAgICAgIGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG4gICAgICAgIG5leHQgPSBibG9jay5maXJzdDtcbiAgICAgICAgbi0tO1xuICAgIH1cbiAgICB3aGlsZSAobyAmJiBuKSB7XG4gICAgICAgIGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcbiAgICAgICAgY29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG4gICAgICAgIGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuICAgICAgICBpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgIG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgICAgICBuLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGJsb2NrXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuICAgICAgICAgICAgZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChvLS0pIHtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcbiAgICAgICAgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSlcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgIH1cbiAgICB3aGlsZSAobilcbiAgICAgICAgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcbiAgICBydW5fYWxsKHVwZGF0ZXMpO1xuICAgIHJldHVybiBuZXdfYmxvY2tzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcbiAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuICAgICAgICBpZiAoa2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2gnKTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0X3NwcmVhZF91cGRhdGUobGV2ZWxzLCB1cGRhdGVzKSB7XG4gICAgY29uc3QgdXBkYXRlID0ge307XG4gICAgY29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcbiAgICBjb25zdCBhY2NvdW50ZWRfZm9yID0geyAkJHNjb3BlOiAxIH07XG4gICAgbGV0IGkgPSBsZXZlbHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgbyA9IGxldmVsc1tpXTtcbiAgICAgICAgY29uc3QgbiA9IHVwZGF0ZXNbaV07XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG4pKVxuICAgICAgICAgICAgICAgICAgICB0b19udWxsX291dFtrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFjY291bnRlZF9mb3Jba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVba2V5XSA9IG5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbHNbaV0gPSBuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9fbnVsbF9vdXQpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHVwZGF0ZSkpXG4gICAgICAgICAgICB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZTtcbn1cbmZ1bmN0aW9uIGdldF9zcHJlYWRfb2JqZWN0KHNwcmVhZF9wcm9wcykge1xuICAgIHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cblxuY29uc3QgX2Jvb2xlYW5fYXR0cmlidXRlcyA9IFtcbiAgICAnYWxsb3dmdWxsc2NyZWVuJyxcbiAgICAnYWxsb3dwYXltZW50cmVxdWVzdCcsXG4gICAgJ2FzeW5jJyxcbiAgICAnYXV0b2ZvY3VzJyxcbiAgICAnYXV0b3BsYXknLFxuICAgICdjaGVja2VkJyxcbiAgICAnY29udHJvbHMnLFxuICAgICdkZWZhdWx0JyxcbiAgICAnZGVmZXInLFxuICAgICdkaXNhYmxlZCcsXG4gICAgJ2Zvcm1ub3ZhbGlkYXRlJyxcbiAgICAnaGlkZGVuJyxcbiAgICAnaW5lcnQnLFxuICAgICdpc21hcCcsXG4gICAgJ2xvb3AnLFxuICAgICdtdWx0aXBsZScsXG4gICAgJ211dGVkJyxcbiAgICAnbm9tb2R1bGUnLFxuICAgICdub3ZhbGlkYXRlJyxcbiAgICAnb3BlbicsXG4gICAgJ3BsYXlzaW5saW5lJyxcbiAgICAncmVhZG9ubHknLFxuICAgICdyZXF1aXJlZCcsXG4gICAgJ3JldmVyc2VkJyxcbiAgICAnc2VsZWN0ZWQnXG5dO1xuLyoqXG4gKiBMaXN0IG9mIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzIChlLmcuIGA8aW5wdXQgZGlzYWJsZWQ+YCkuXG4gKiBTb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuICovXG5jb25zdCBib29sZWFuX2F0dHJpYnV0ZXMgPSBuZXcgU2V0KFsuLi5fYm9vbGVhbl9hdHRyaWJ1dGVzXSk7XG5cbi8qKiByZWdleCBvZiBhbGwgaHRtbCB2b2lkIGVsZW1lbnQgbmFtZXMgKi9cbmNvbnN0IHZvaWRfZWxlbWVudF9uYW1lcyA9IC9eKD86YXJlYXxiYXNlfGJyfGNvbHxjb21tYW5kfGVtYmVkfGhyfGltZ3xpbnB1dHxrZXlnZW58bGlua3xtZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpJC87XG5mdW5jdGlvbiBpc192b2lkKG5hbWUpIHtcbiAgICByZXR1cm4gdm9pZF9lbGVtZW50X25hbWVzLnRlc3QobmFtZSkgfHwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSAnIWRvY3R5cGUnO1xufVxuXG5jb25zdCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IC9bXFxzJ1wiPi89XFx1e0ZERDB9LVxcdXtGREVGfVxcdXtGRkZFfVxcdXtGRkZGfVxcdXsxRkZGRX1cXHV7MUZGRkZ9XFx1ezJGRkZFfVxcdXsyRkZGRn1cXHV7M0ZGRkV9XFx1ezNGRkZGfVxcdXs0RkZGRX1cXHV7NEZGRkZ9XFx1ezVGRkZFfVxcdXs1RkZGRn1cXHV7NkZGRkV9XFx1ezZGRkZGfVxcdXs3RkZGRX1cXHV7N0ZGRkZ9XFx1ezhGRkZFfVxcdXs4RkZGRn1cXHV7OUZGRkV9XFx1ezlGRkZGfVxcdXtBRkZGRX1cXHV7QUZGRkZ9XFx1e0JGRkZFfVxcdXtCRkZGRn1cXHV7Q0ZGRkV9XFx1e0NGRkZGfVxcdXtERkZGRX1cXHV7REZGRkZ9XFx1e0VGRkZFfVxcdXtFRkZGRn1cXHV7RkZGRkV9XFx1e0ZGRkZGfVxcdXsxMEZGRkV9XFx1ezEwRkZGRn1dL3U7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNub25jaGFyYWN0ZXJcbmZ1bmN0aW9uIHNwcmVhZChhcmdzLCBhdHRyc190b19hZGQpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgLi4uYXJncyk7XG4gICAgaWYgKGF0dHJzX3RvX2FkZCkge1xuICAgICAgICBjb25zdCBjbGFzc2VzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5jbGFzc2VzO1xuICAgICAgICBjb25zdCBzdHlsZXNfdG9fYWRkID0gYXR0cnNfdG9fYWRkLnN0eWxlcztcbiAgICAgICAgaWYgKGNsYXNzZXNfdG9fYWRkKSB7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5jbGFzcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyArPSAnICcgKyBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuc3R5bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKHN0eWxlc190b19hZGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5zdHlsZSA9IHN0eWxlX29iamVjdF90b19zdHJpbmcobWVyZ2Vfc3NyX3N0eWxlcyhhdHRyaWJ1dGVzLnN0eWxlLCBzdHlsZXNfdG9fYWRkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3Rlci50ZXN0KG5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICBlbHNlIGlmIChib29sZWFuX2F0dHJpYnV0ZXMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgKz0gYCAke25hbWV9PVwiJHt2YWx1ZX1cImA7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuZnVuY3Rpb24gbWVyZ2Vfc3NyX3N0eWxlcyhzdHlsZV9hdHRyaWJ1dGUsIHN0eWxlX2RpcmVjdGl2ZSkge1xuICAgIGNvbnN0IHN0eWxlX29iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3QgaW5kaXZpZHVhbF9zdHlsZSBvZiBzdHlsZV9hdHRyaWJ1dGUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBjb2xvbl9pbmRleCA9IGluZGl2aWR1YWxfc3R5bGUuaW5kZXhPZignOicpO1xuICAgICAgICBjb25zdCBuYW1lID0gaW5kaXZpZHVhbF9zdHlsZS5zbGljZSgwLCBjb2xvbl9pbmRleCkudHJpbSgpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoY29sb25faW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBzdHlsZV9vYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHN0eWxlX2RpcmVjdGl2ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlX2RpcmVjdGl2ZVtuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBzdHlsZV9vYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdHlsZV9vYmplY3RbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlX29iamVjdDtcbn1cbmNvbnN0IEFUVFJfUkVHRVggPSAvWyZcIl0vZztcbmNvbnN0IENPTlRFTlRfUkVHRVggPSAvWyY8XS9nO1xuLyoqXG4gKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyBwZXJmb3JtYW5jZSBzZW5zaXRpdmUgYW5kIGhhcyBiZWVuIG9wdGltaXplZFxuICogaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9wdWxsLzU3MDFcbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHZhbHVlLCBpc19hdHRyID0gZmFsc2UpIHtcbiAgICBjb25zdCBzdHIgPSBTdHJpbmcodmFsdWUpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBpc19hdHRyID8gQVRUUl9SRUdFWCA6IENPTlRFTlRfUkVHRVg7XG4gICAgcGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgIGxldCBlc2NhcGVkID0gJyc7XG4gICAgbGV0IGxhc3QgPSAwO1xuICAgIHdoaWxlIChwYXR0ZXJuLnRlc3Qoc3RyKSkge1xuICAgICAgICBjb25zdCBpID0gcGF0dGVybi5sYXN0SW5kZXggLSAxO1xuICAgICAgICBjb25zdCBjaCA9IHN0cltpXTtcbiAgICAgICAgZXNjYXBlZCArPSBzdHIuc3Vic3RyaW5nKGxhc3QsIGkpICsgKGNoID09PSAnJicgPyAnJmFtcDsnIDogKGNoID09PSAnXCInID8gJyZxdW90OycgOiAnJmx0OycpKTtcbiAgICAgICAgbGFzdCA9IGkgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gZXNjYXBlZCArIHN0ci5zdWJzdHJpbmcobGFzdCk7XG59XG5mdW5jdGlvbiBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKHZhbHVlKSB7XG4gICAgLy8ga2VlcCBib29sZWFucywgbnVsbCwgYW5kIHVuZGVmaW5lZCBmb3IgdGhlIHNha2Ugb2YgYHNwcmVhZGBcbiAgICBjb25zdCBzaG91bGRfZXNjYXBlID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jyk7XG4gICAgcmV0dXJuIHNob3VsZF9lc2NhcGUgPyBlc2NhcGUodmFsdWUsIHRydWUpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBlc2NhcGVfb2JqZWN0KG9iaikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICByZXN1bHRba2V5XSA9IGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUob2JqW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZWFjaChpdGVtcywgZm4pIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzdHIgKz0gZm4oaXRlbXNbaV0sIGkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgbWlzc2luZ19jb21wb25lbnQgPSB7XG4gICAgJCRyZW5kZXI6ICgpID0+ICcnXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVfY29tcG9uZW50KGNvbXBvbmVudCwgbmFtZSkge1xuICAgIGlmICghY29tcG9uZW50IHx8ICFjb21wb25lbnQuJCRyZW5kZXIpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdmVsdGU6Y29tcG9uZW50JylcbiAgICAgICAgICAgIG5hbWUgKz0gJyB0aGlzPXsuLi59JztcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGA8JHtuYW1lfT4gaXMgbm90IGEgdmFsaWQgU1NSIGNvbXBvbmVudC4gWW91IG1heSBuZWVkIHRvIHJldmlldyB5b3VyIGJ1aWxkIGNvbmZpZyB0byBlbnN1cmUgdGhhdCBkZXBlbmRlbmNpZXMgYXJlIGNvbXBpbGVkLCByYXRoZXIgdGhhbiBpbXBvcnRlZCBhcyBwcmUtY29tcGlsZWQgbW9kdWxlcy4gT3RoZXJ3aXNlIHlvdSBtYXkgbmVlZCB0byBmaXggYSA8JHtuYW1lfT4uYCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBkZWJ1ZyhmaWxlLCBsaW5lLCBjb2x1bW4sIHZhbHVlcykge1xuICAgIGNvbnNvbGUubG9nKGB7QGRlYnVnfSAke2ZpbGUgPyBmaWxlICsgJyAnIDogJyd9KCR7bGluZX06JHtjb2x1bW59KWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyh2YWx1ZXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICByZXR1cm4gJyc7XG59XG5sZXQgb25fZGVzdHJveTtcbmZ1bmN0aW9uIGNyZWF0ZV9zc3JfY29tcG9uZW50KGZuKSB7XG4gICAgZnVuY3Rpb24gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICAgICAgY29uc3QgJCQgPSB7XG4gICAgICAgICAgICBvbl9kZXN0cm95LFxuICAgICAgICAgICAgY29udGV4dDogbmV3IE1hcChjb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcbiAgICAgICAgICAgIC8vIHRoZXNlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZGlzY2FyZGVkXG4gICAgICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpXG4gICAgICAgIH07XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudCh7ICQkIH0pO1xuICAgICAgICBjb25zdCBodG1sID0gZm4ocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzKTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyOiAocHJvcHMgPSB7fSwgeyAkJHNsb3RzID0ge30sIGNvbnRleHQgPSBuZXcgTWFwKCkgfSA9IHt9KSA9PiB7XG4gICAgICAgICAgICBvbl9kZXN0cm95ID0gW107XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHRpdGxlOiAnJywgaGVhZDogJycsIGNzczogbmV3IFNldCgpIH07XG4gICAgICAgICAgICBjb25zdCBodG1sID0gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywge30sICQkc2xvdHMsIGNvbnRleHQpO1xuICAgICAgICAgICAgcnVuX2FsbChvbl9kZXN0cm95KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaHRtbCxcbiAgICAgICAgICAgICAgICBjc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogQXJyYXkuZnJvbShyZXN1bHQuY3NzKS5tYXAoY3NzID0+IGNzcy5jb2RlKS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBudWxsIC8vIFRPRE9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhlYWQ6IHJlc3VsdC50aXRsZSArIHJlc3VsdC5oZWFkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAkJHJlbmRlclxuICAgIH07XG59XG5mdW5jdGlvbiBhZGRfYXR0cmlidXRlKG5hbWUsIHZhbHVlLCBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgKGJvb2xlYW4gJiYgIXZhbHVlKSlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIGNvbnN0IGFzc2lnbm1lbnQgPSAoYm9vbGVhbiAmJiB2YWx1ZSA9PT0gdHJ1ZSkgPyAnJyA6IGA9XCIke2VzY2FwZSh2YWx1ZSwgdHJ1ZSl9XCJgO1xuICAgIHJldHVybiBgICR7bmFtZX0ke2Fzc2lnbm1lbnR9YDtcbn1cbmZ1bmN0aW9uIGFkZF9jbGFzc2VzKGNsYXNzZXMpIHtcbiAgICByZXR1cm4gY2xhc3NlcyA/IGAgY2xhc3M9XCIke2NsYXNzZXN9XCJgIDogJyc7XG59XG5mdW5jdGlvbiBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKHN0eWxlX29iamVjdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZV9vYmplY3QpXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IHN0eWxlX29iamVjdFtrZXldKVxuICAgICAgICAubWFwKGtleSA9PiBgJHtrZXl9OiAke2VzY2FwZV9hdHRyaWJ1dGVfdmFsdWUoc3R5bGVfb2JqZWN0W2tleV0pfTtgKVxuICAgICAgICAuam9pbignICcpO1xufVxuZnVuY3Rpb24gYWRkX3N0eWxlcyhzdHlsZV9vYmplY3QpIHtcbiAgICBjb25zdCBzdHlsZXMgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKHN0eWxlX29iamVjdCk7XG4gICAgcmV0dXJuIHN0eWxlcyA/IGAgc3R5bGU9XCIke3N0eWxlc31cImAgOiAnJztcbn1cblxuZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgaW5kZXggPSBjb21wb25lbnQuJCQucHJvcHNbbmFtZV07XG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29tcG9uZW50LiQkLmJvdW5kW2luZGV4XSA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuICAgIGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG4gICAgYmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IsIGN1c3RvbUVsZW1lbnQpIHtcbiAgICBjb25zdCB7IGZyYWdtZW50LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcbiAgICBmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcbiAgICBpZiAoIWN1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgLy8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld19vbl9kZXN0cm95ID0gY29tcG9uZW50LiQkLm9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cbiAgICAgICAgICAgIC8vIHRoZSBkZXN0cnVjdHVyZWQgb25fZGVzdHJveSBtYXkgc3RpbGwgcmVmZXJlbmNlIHRvIHRoZSBvbGQgYXJyYXlcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuJCQub25fZGVzdHJveSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoJCQuYWZ0ZXJfdXBkYXRlKTtcbiAgICAgICAgcnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuICAgICAgICAvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG4gICAgICAgIC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcbiAgICAgICAgJCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgJCQuY3R4ID0gW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcbiAgICBpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgICAgIGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuICAgIH1cbiAgICBjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAoMSA8PCAoaSAlIDMxKSk7XG59XG5mdW5jdGlvbiBpbml0KGNvbXBvbmVudCwgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgbm90X2VxdWFsLCBwcm9wcywgYXBwZW5kX3N0eWxlcywgZGlydHkgPSBbLTFdKSB7XG4gICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkID0ge1xuICAgICAgICBmcmFnbWVudDogbnVsbCxcbiAgICAgICAgY3R4OiBbXSxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBvbl9kaXNjb25uZWN0OiBbXSxcbiAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgIGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBza2lwX2JvdW5kOiBmYWxzZSxcbiAgICAgICAgcm9vdDogb3B0aW9ucy50YXJnZXQgfHwgcGFyZW50X2NvbXBvbmVudC4kJC5yb290XG4gICAgfTtcbiAgICBhcHBlbmRfc3R5bGVzICYmIGFwcGVuZF9zdHlsZXMoJCQucm9vdCk7XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuICAgICAgICAgICAgaWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAkJC5jdHhbaV0gPSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pXG4gICAgICAgICAgICAgICAgICAgICQkLmJvdW5kW2ldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pXG4gICAgICAgIDogW107XG4gICAgJCQudXBkYXRlKCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgLy8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG4gICAgJCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICBpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgICAgICBzdGFydF9oeWRyYXRpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yLCBvcHRpb25zLmN1c3RvbUVsZW1lbnQpO1xuICAgICAgICBlbmRfaHlkcmF0aW5nKCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgfVxuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cbmxldCBTdmVsdGVFbGVtZW50O1xuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uX21vdW50IH0gPSB0aGlzLiQkO1xuICAgICAgICAgICAgdGhpcy4kJC5vbl9kaXNjb25uZWN0ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBydW5fYWxsKHRoaXMuJCQub25fZGlzY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgaWYgKCFpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSkpO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkoJCRwcm9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgIH1cbiAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCFpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSkpO1xuICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICBpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkoJCRwcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoX2Rldih0eXBlLCBkZXRhaWwpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudCh0eXBlLCBPYmplY3QuYXNzaWduKHsgdmVyc2lvbjogJzMuNTkuMicgfSwgZGV0YWlsKSwgeyBidWJibGVzOiB0cnVlIH0pKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmQodGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb25fZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbl9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBkZXRhY2hfZGV2KG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZScsIHsgbm9kZSB9KTtcbiAgICBkZXRhY2gobm9kZSk7XG59XG5mdW5jdGlvbiBkZXRhY2hfYmV0d2Vlbl9kZXYoYmVmb3JlLCBhZnRlcikge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcgJiYgYmVmb3JlLm5leHRTaWJsaW5nICE9PSBhZnRlcikge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2JlZm9yZV9kZXYoYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYWZ0ZXJfZGV2KGJlZm9yZSkge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpc3Rlbl9kZXYobm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMsIGhhc19wcmV2ZW50X2RlZmF1bHQsIGhhc19zdG9wX3Byb3BhZ2F0aW9uLCBoYXNfc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24pIHtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBvcHRpb25zID09PSB0cnVlID8gWydjYXB0dXJlJ10gOiBvcHRpb25zID8gQXJyYXkuZnJvbShPYmplY3Qua2V5cyhvcHRpb25zKSkgOiBbXTtcbiAgICBpZiAoaGFzX3ByZXZlbnRfZGVmYXVsdClcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3ByZXZlbnREZWZhdWx0Jyk7XG4gICAgaWYgKGhhc19zdG9wX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcFByb3BhZ2F0aW9uJyk7XG4gICAgaWYgKGhhc19zdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbicpO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NQWRkRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICBjb25zdCBkaXNwb3NlID0gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cl9kZXYobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlQXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUgfSk7XG4gICAgZWxzZVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldEF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlLCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHByb3BfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRQcm9wZXJ0eScsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gZGF0YXNldF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZS5kYXRhc2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YXNldCcsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGEnLCB7IG5vZGU6IHRleHQsIGRhdGEgfSk7XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGVfZGV2KHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcbiAgICBpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcbiAgICAgICAgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlX2Rldih0ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldF9kYXRhX2Rldih0ZXh0LCBkYXRhKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50KGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnc3RyaW5nJyAmJiAhKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBhcmcpKSB7XG4gICAgICAgIGxldCBtc2cgPSAneyNlYWNofSBvbmx5IGl0ZXJhdGVzIG92ZXIgYXJyYXktbGlrZSBvYmplY3RzLic7XG4gICAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIGFyZyAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gYXJnKSB7XG4gICAgICAgICAgICBtc2cgKz0gJyBZb3UgY2FuIHVzZSBhIHNwcmVhZCB0byBjb252ZXJ0IHRoaXMgaXRlcmFibGUgaW50byBhbiBhcnJheS4nO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3Nsb3RzKG5hbWUsIHNsb3QsIGtleXMpIHtcbiAgICBmb3IgKGNvbnN0IHNsb3Rfa2V5IG9mIE9iamVjdC5rZXlzKHNsb3QpKSB7XG4gICAgICAgIGlmICghfmtleXMuaW5kZXhPZihzbG90X2tleSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgPCR7bmFtZX0+IHJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgc2xvdCBcIiR7c2xvdF9rZXl9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQodGFnKSB7XG4gICAgY29uc3QgaXNfc3RyaW5nID0gdHlwZW9mIHRhZyA9PT0gJ3N0cmluZyc7XG4gICAgaWYgKHRhZyAmJiAhaXNfc3RyaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignPHN2ZWx0ZTplbGVtZW50PiBleHBlY3RzIFwidGhpc1wiIGF0dHJpYnV0ZSB0byBiZSBhIHN0cmluZy4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCh0YWcpIHtcbiAgICBpZiAodGFnICYmIGlzX3ZvaWQodGFnKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYDxzdmVsdGU6ZWxlbWVudCB0aGlzPVwiJHt0YWd9XCI+IGlzIHNlbGYtY2xvc2luZyBhbmQgY2Fubm90IGhhdmUgY29udGVudC5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudF9kZXYoY29tcG9uZW50LCBwcm9wcykge1xuICAgIGNvbnN0IGVycm9yX21lc3NhZ2UgPSAndGhpcz17Li4ufSBvZiA8c3ZlbHRlOmNvbXBvbmVudD4gc2hvdWxkIHNwZWNpZnkgYSBTdmVsdGUgY29tcG9uZW50Lic7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgY29tcG9uZW50KHByb3BzKTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS4kJCB8fCAhaW5zdGFuY2UuJHNldCB8fCAhaW5zdGFuY2UuJG9uIHx8ICFpbnN0YW5jZS4kZGVzdHJveSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yX21lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVycjtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJiBtZXNzYWdlLmluZGV4T2YoJ2lzIG5vdCBhIGNvbnN0cnVjdG9yJykgIT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzIHdpdGggc29tZSBtaW5vciBkZXYtZW5oYW5jZW1lbnRzLiBVc2VkIHdoZW4gZGV2PXRydWUuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudERldiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFvcHRpb25zLnRhcmdldCAmJiAhb3B0aW9ucy4kJGlubGluZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIid0YXJnZXQnIGlzIGEgcmVxdWlyZWQgb3B0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAkY2FwdHVyZV9zdGF0ZSgpIHsgfVxuICAgICRpbmplY3Rfc3RhdGUoKSB7IH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyB0byBjcmVhdGUgc3Ryb25nbHkgdHlwZWQgU3ZlbHRlIGNvbXBvbmVudHMuXG4gKiBUaGlzIG9ubHkgZXhpc3RzIGZvciB0eXBpbmcgcHVycG9zZXMgYW5kIHNob3VsZCBiZSB1c2VkIGluIGAuZC50c2AgZmlsZXMuXG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogWW91IGhhdmUgY29tcG9uZW50IGxpYnJhcnkgb24gbnBtIGNhbGxlZCBgY29tcG9uZW50LWxpYnJhcnlgLCBmcm9tIHdoaWNoXG4gKiB5b3UgZXhwb3J0IGEgY29tcG9uZW50IGNhbGxlZCBgTXlDb21wb25lbnRgLiBGb3IgU3ZlbHRlK1R5cGVTY3JpcHQgdXNlcnMsXG4gKiB5b3Ugd2FudCB0byBwcm92aWRlIHR5cGluZ3MuIFRoZXJlZm9yZSB5b3UgY3JlYXRlIGEgYGluZGV4LmQudHNgOlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFN2ZWx0ZUNvbXBvbmVudFR5cGVkIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50VHlwZWQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGBgYFxuICogVHlwaW5nIHRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIElERXMgbGlrZSBWUyBDb2RlIHdpdGggdGhlIFN2ZWx0ZSBleHRlbnNpb25cbiAqIHRvIHByb3ZpZGUgaW50ZWxsaXNlbnNlIGFuZCB0byB1c2UgdGhlIGNvbXBvbmVudCBsaWtlIHRoaXMgaW4gYSBTdmVsdGUgZmlsZVxuICogd2l0aCBUeXBlU2NyaXB0OlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICogXHRpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gXCJjb21wb25lbnQtbGlicmFyeVwiO1xuICogPC9zY3JpcHQ+XG4gKiA8TXlDb21wb25lbnQgZm9vPXsnYmFyJ30gLz5cbiAqIGBgYFxuICpcbiAqICMjIyMgV2h5IG5vdCBtYWtlIHRoaXMgcGFydCBvZiBgU3ZlbHRlQ29tcG9uZW50KERldilgP1xuICogQmVjYXVzZVxuICogYGBgdHNcbiAqIGNsYXNzIEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50PHtmb286IHN0cmluZ30+IHt9XG4gKiBjb25zdCBjb21wb25lbnQ6IHR5cGVvZiBTdmVsdGVDb21wb25lbnQgPSBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudDtcbiAqIGBgYFxuICogd2lsbCB0aHJvdyBhIHR5cGUgZXJyb3IsIHNvIHdlIG5lZWQgdG8gc2VwYXJhdGUgdGhlIG1vcmUgc3RyaWN0bHkgdHlwZWQgY2xhc3MuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvb3BfZ3VhcmQodGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gdGltZW91dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgeyBIdG1sVGFnLCBIdG1sVGFnSHlkcmF0aW9uLCBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiwgU3ZlbHRlQ29tcG9uZW50LCBTdmVsdGVDb21wb25lbnREZXYsIFN2ZWx0ZUNvbXBvbmVudFR5cGVkLCBTdmVsdGVFbGVtZW50LCBhY3Rpb25fZGVzdHJveWVyLCBhZGRfYXR0cmlidXRlLCBhZGRfY2xhc3NlcywgYWRkX2ZsdXNoX2NhbGxiYWNrLCBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lciwgYWRkX2xvY2F0aW9uLCBhZGRfcmVuZGVyX2NhbGxiYWNrLCBhZGRfc3R5bGVzLCBhZGRfdHJhbnNmb3JtLCBhZnRlclVwZGF0ZSwgYXBwZW5kLCBhcHBlbmRfZGV2LCBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldCwgYXBwZW5kX2h5ZHJhdGlvbiwgYXBwZW5kX2h5ZHJhdGlvbl9kZXYsIGFwcGVuZF9zdHlsZXMsIGFzc2lnbiwgYXR0ciwgYXR0cl9kZXYsIGF0dHJpYnV0ZV90b19vYmplY3QsIGJlZm9yZVVwZGF0ZSwgYmluZCwgYmluZGluZ19jYWxsYmFja3MsIGJsYW5rX29iamVjdCwgYnViYmxlLCBjaGVja19vdXRyb3MsIGNoaWxkcmVuLCBjbGFpbV9jb21tZW50LCBjbGFpbV9jb21wb25lbnQsIGNsYWltX2VsZW1lbnQsIGNsYWltX2h0bWxfdGFnLCBjbGFpbV9zcGFjZSwgY2xhaW1fc3ZnX2VsZW1lbnQsIGNsYWltX3RleHQsIGNsZWFyX2xvb3BzLCBjb21tZW50LCBjb21wb25lbnRfc3Vic2NyaWJlLCBjb21wdXRlX3Jlc3RfcHJvcHMsIGNvbXB1dGVfc2xvdHMsIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50LCBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudF9kZXYsIGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIGNyZWF0ZV9hbmltYXRpb24sIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24sIGNyZWF0ZV9jb21wb25lbnQsIGNyZWF0ZV9pbl90cmFuc2l0aW9uLCBjcmVhdGVfb3V0X3RyYW5zaXRpb24sIGNyZWF0ZV9zbG90LCBjcmVhdGVfc3NyX2NvbXBvbmVudCwgY3VycmVudF9jb21wb25lbnQsIGN1c3RvbV9ldmVudCwgZGF0YXNldF9kZXYsIGRlYnVnLCBkZXN0cm95X2Jsb2NrLCBkZXN0cm95X2NvbXBvbmVudCwgZGVzdHJveV9lYWNoLCBkZXRhY2gsIGRldGFjaF9hZnRlcl9kZXYsIGRldGFjaF9iZWZvcmVfZGV2LCBkZXRhY2hfYmV0d2Vlbl9kZXYsIGRldGFjaF9kZXYsIGRpcnR5X2NvbXBvbmVudHMsIGRpc3BhdGNoX2RldiwgZWFjaCwgZWxlbWVudCwgZWxlbWVudF9pcywgZW1wdHksIGVuZF9oeWRyYXRpbmcsIGVzY2FwZSwgZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSwgZXNjYXBlX29iamVjdCwgZXhjbHVkZV9pbnRlcm5hbF9wcm9wcywgZml4X2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfcG9zaXRpb24sIGZsdXNoLCBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLCBnZXRBbGxDb250ZXh0cywgZ2V0Q29udGV4dCwgZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlLCBnZXRfYmluZGluZ19ncm91cF92YWx1ZSwgZ2V0X2N1cnJlbnRfY29tcG9uZW50LCBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLCBnZXRfcm9vdF9mb3Jfc3R5bGUsIGdldF9zbG90X2NoYW5nZXMsIGdldF9zcHJlYWRfb2JqZWN0LCBnZXRfc3ByZWFkX3VwZGF0ZSwgZ2V0X3N0b3JlX3ZhbHVlLCBnbG9iYWxzLCBncm91cF9vdXRyb3MsIGhhbmRsZV9wcm9taXNlLCBoYXNDb250ZXh0LCBoYXNfcHJvcCwgaGVhZF9zZWxlY3RvciwgaWRlbnRpdHksIGluaXQsIGluaXRfYmluZGluZ19ncm91cCwgaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMsIGluc2VydCwgaW5zZXJ0X2RldiwgaW5zZXJ0X2h5ZHJhdGlvbiwgaW5zZXJ0X2h5ZHJhdGlvbl9kZXYsIGludHJvcywgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIsIGlzX2NsaWVudCwgaXNfY3Jvc3NvcmlnaW4sIGlzX2VtcHR5LCBpc19mdW5jdGlvbiwgaXNfcHJvbWlzZSwgaXNfdm9pZCwgbGlzdGVuLCBsaXN0ZW5fZGV2LCBsb29wLCBsb29wX2d1YXJkLCBtZXJnZV9zc3Jfc3R5bGVzLCBtaXNzaW5nX2NvbXBvbmVudCwgbW91bnRfY29tcG9uZW50LCBub29wLCBub3RfZXF1YWwsIG5vdywgbnVsbF90b19lbXB0eSwgb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcywgb25EZXN0cm95LCBvbk1vdW50LCBvbmNlLCBvdXRyb19hbmRfZGVzdHJveV9ibG9jaywgcHJldmVudF9kZWZhdWx0LCBwcm9wX2RldiwgcXVlcnlfc2VsZWN0b3JfYWxsLCByYWYsIHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94LCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3gsIHJlc2l6ZV9vYnNlcnZlcl9kZXZpY2VfcGl4ZWxfY29udGVudF9ib3gsIHJ1biwgcnVuX2FsbCwgc2FmZV9ub3RfZXF1YWwsIHNjaGVkdWxlX3VwZGF0ZSwgc2VsZWN0X211bHRpcGxlX3ZhbHVlLCBzZWxlY3Rfb3B0aW9uLCBzZWxlY3Rfb3B0aW9ucywgc2VsZWN0X3ZhbHVlLCBzZWxmLCBzZXRDb250ZXh0LCBzZXRfYXR0cmlidXRlcywgc2V0X2N1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YSwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwLCBzZXRfZGF0YSwgc2V0X2RhdGFfY29udGVudGVkaXRhYmxlLCBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGVfZGV2LCBzZXRfZGF0YV9kZXYsIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSwgc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlX2Rldiwgc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhLCBzZXRfaW5wdXRfdHlwZSwgc2V0X2lucHV0X3ZhbHVlLCBzZXRfbm93LCBzZXRfcmFmLCBzZXRfc3RvcmVfdmFsdWUsIHNldF9zdHlsZSwgc2V0X3N2Z19hdHRyaWJ1dGVzLCBzcGFjZSwgc3BsaXRfY3NzX3VuaXQsIHNwcmVhZCwgc3JjX3VybF9lcXVhbCwgc3RhcnRfaHlkcmF0aW5nLCBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbiwgc3RvcF9wcm9wYWdhdGlvbiwgc3Vic2NyaWJlLCBzdmdfZWxlbWVudCwgdGV4dCwgdGljaywgdGltZV9yYW5nZXNfdG9fYXJyYXksIHRvX251bWJlciwgdG9nZ2xlX2NsYXNzLCB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCwgdHJ1c3RlZCwgdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaCwgdXBkYXRlX2tleWVkX2VhY2gsIHVwZGF0ZV9zbG90LCB1cGRhdGVfc2xvdF9iYXNlLCB2YWxpZGF0ZV9jb21wb25lbnQsIHZhbGlkYXRlX2R5bmFtaWNfZWxlbWVudCwgdmFsaWRhdGVfZWFjaF9hcmd1bWVudCwgdmFsaWRhdGVfZWFjaF9rZXlzLCB2YWxpZGF0ZV9zbG90cywgdmFsaWRhdGVfc3RvcmUsIHZhbGlkYXRlX3ZvaWRfZHluYW1pY19lbGVtZW50LCB4bGlua19hdHRyIH07XG4iLCAiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sLCBJdGVyYXRvciAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGcgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xuICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gIHRyeSB7XG4gICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICByW2tdID0gYVtqXTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICByZXR1cm4gaSA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBBc3luY0l0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBBc3luY0l0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpLCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiBhd2FpdFJldHVybihmKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZiwgcmVqZWN0KTsgfTsgfVxuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5cbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gIG9bXCJkZWZhdWx0XCJdID0gdjtcbn07XG5cbnZhciBvd25LZXlzID0gZnVuY3Rpb24obykge1xuICBvd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICB2YXIgYXIgPSBbXTtcbiAgICBmb3IgKHZhciBrIGluIG8pIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgaykpIGFyW2FyLmxlbmd0aF0gPSBrO1xuICAgIHJldHVybiBhcjtcbiAgfTtcbiAgcmV0dXJuIG93bktleXMobyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayA9IG93bktleXMobW9kKSwgaSA9IDA7IGkgPCBrLmxlbmd0aDsgaSsrKSBpZiAoa1tpXSAhPT0gXCJkZWZhdWx0XCIpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwga1tpXSk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcbiAgICBpZiAoYXN5bmMpIHtcbiAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICAgIGlmIChhc3luYykgaW5uZXIgPSBkaXNwb3NlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgaWYgKGlubmVyKSBkaXNwb3NlID0gZnVuY3Rpb24oKSB7IHRyeSB7IGlubmVyLmNhbGwodGhpcyk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpOyB9IH07XG4gICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcbiAgfVxuICBlbHNlIGlmIChhc3luYykge1xuICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XG4gIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICB9XG4gIHZhciByLCBzID0gMDtcbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAociA9IGVudi5zdGFjay5wb3AoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFyLmFzeW5jICYmIHMgPT09IDEpIHJldHVybiBzID0gMCwgZW52LnN0YWNrLnB1c2gociksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4obmV4dCk7XG4gICAgICAgIGlmIChyLmRpc3Bvc2UpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gci5kaXNwb3NlLmNhbGwoci52YWx1ZSk7XG4gICAgICAgICAgaWYgKHIuYXN5bmMpIHJldHVybiBzIHw9IDIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHMgfD0gMTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzID09PSAxKSByZXR1cm4gZW52Lmhhc0Vycm9yID8gUHJvbWlzZS5yZWplY3QoZW52LmVycm9yKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24ocGF0aCwgcHJlc2VydmVKc3gpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiICYmIC9eXFwuXFwuP1xcLy8udGVzdChwYXRoKSkge1xuICAgICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwuKHRzeCkkfCgoPzpcXC5kKT8pKCg/OlxcLlteLi9dKz8pPylcXC4oW2NtXT8pdHMkL2ksIGZ1bmN0aW9uIChtLCB0c3gsIGQsIGV4dCwgY20pIHtcbiAgICAgICAgICByZXR1cm4gdHN4ID8gcHJlc2VydmVKc3ggPyBcIi5qc3hcIiA6IFwiLmpzXCIgOiBkICYmICghZXh0IHx8ICFjbSkgPyBtIDogKGQgKyBleHQgKyBcIi5cIiArIGNtLnRvTG93ZXJDYXNlKCkgKyBcImpzXCIpO1xuICAgICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX2VzRGVjb3JhdGUsXG4gIF9fcnVuSW5pdGlhbGl6ZXJzLFxuICBfX3Byb3BLZXksXG4gIF9fc2V0RnVuY3Rpb25OYW1lLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbiAgX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24sXG59O1xuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95IH0gZnJvbSBcInN2ZWx0ZVwiO1xuXG4gICAgZXhwb3J0IGxldCBnZXRSZXZpZXdDb3VudHM6IChkYXlzOiBudW1iZXIpID0+IFByb21pc2U8TWFwPHN0cmluZywgbnVtYmVyPj47XG5cbiAgICBsZXQgcmV2aWV3Q291bnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBsZXQgZGF5czogQXJyYXk8eyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGRheU9mV2VlazogbnVtYmVyIH0+ID0gW107XG4gICAgbGV0IHdlZWtzOiBBcnJheTxcbiAgICAgICAgQXJyYXk8eyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGRheU9mV2VlazogbnVtYmVyIH0+XG4gICAgPiA9IFtdO1xuICAgIGxldCBtYXhDb3VudCA9IDA7XG4gICAgbGV0IGlzTG9hZGluZyA9IHRydWU7XG4gICAgbGV0IGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIGxldCBtYXhXZWVrcyA9IDUyOyAvLyBEZWZhdWx0IHRvIGZ1bGwgeWVhclxuICAgIGxldCBjb250YWluZXJXaWR0aCA9IDA7XG4gICAgbGV0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXG4gICAgY29uc3QgbW9udGhzID0gW1xuICAgICAgICBcIkphblwiLFxuICAgICAgICBcIkZlYlwiLFxuICAgICAgICBcIk1hclwiLFxuICAgICAgICBcIkFwclwiLFxuICAgICAgICBcIk1heVwiLFxuICAgICAgICBcIkp1blwiLFxuICAgICAgICBcIkp1bFwiLFxuICAgICAgICBcIkF1Z1wiLFxuICAgICAgICBcIlNlcFwiLFxuICAgICAgICBcIk9jdFwiLFxuICAgICAgICBcIk5vdlwiLFxuICAgICAgICBcIkRlY1wiLFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZURheXMoKSB7XG4gICAgICAgIC8vIEFsd2F5cyBzaG93IGZ1bGwgeWVhciBmcm9tIEphbnVhcnkgMSB0byBEZWNlbWJlciAzMVxuICAgICAgICBjb25zdCB5ZWFyU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgMCwgMSk7IC8vIEphbnVhcnkgMXN0XG4gICAgICAgIGNvbnN0IHllYXJFbmQgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgMTEsIDMxKTsgLy8gRGVjZW1iZXIgMzFzdFxuXG4gICAgICAgIC8vIFN0YXJ0IGZyb20gU3VuZGF5IG9mIHRoZSB3ZWVrIGNvbnRhaW5pbmcgSmFudWFyeSAxc3RcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoeWVhclN0YXJ0KTtcbiAgICAgICAgY29uc3Qgc3RhcnREYXlPZldlZWsgPSBzdGFydERhdGUuZ2V0RGF5KCk7XG4gICAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKHN0YXJ0RGF0ZS5nZXREYXRlKCkgLSBzdGFydERheU9mV2Vlayk7XG5cbiAgICAgICAgLy8gRW5kIG9uIFNhdHVyZGF5IG9mIHRoZSB3ZWVrIGNvbnRhaW5pbmcgRGVjZW1iZXIgMzFzdFxuICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoeWVhckVuZCk7XG4gICAgICAgIGNvbnN0IGVuZERheU9mV2VlayA9IGVuZERhdGUuZ2V0RGF5KCk7XG4gICAgICAgIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArICg2IC0gZW5kRGF5T2ZXZWVrKSk7XG5cbiAgICAgICAgY29uc3QgZGF5c0FycmF5OiBBcnJheTx7XG4gICAgICAgICAgICBkYXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBjb3VudDogbnVtYmVyO1xuICAgICAgICAgICAgZGF5T2ZXZWVrOiBudW1iZXI7XG4gICAgICAgIH0+ID0gW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGNvbXBsZXRlIHdlZWtzIGJ1dCBvbmx5IGluY2x1ZGUgZGF5cyB3aXRoaW4gdGhlIHNlbGVjdGVkIHllYXJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgPD0gZW5kRGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGN1cnJlbnQudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZVllYXIgPSBjdXJyZW50LmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBkYXlzIHRoYXQgYmVsb25nIHRvIHRoZSBzZWxlY3RlZCB5ZWFyXG4gICAgICAgICAgICBpZiAoY3VycmVudERhdGVZZWFyID09PSBjdXJyZW50WWVhcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gcmV2aWV3Q291bnRzLmdldChkYXRlU3RyKSB8fCAwO1xuXG4gICAgICAgICAgICAgICAgZGF5c0FycmF5LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlU3RyLFxuICAgICAgICAgICAgICAgICAgICBjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrOiBjdXJyZW50LmdldERheSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gbWF4Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4Q291bnQgPSBjb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBwbGFjZWhvbGRlciBmb3IgZGF5cyBvdXRzaWRlIHRoZSB5ZWFyIHRvIG1haW50YWluIGdyaWQgc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgZGF5c0FycmF5LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlU3RyLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrOiBjdXJyZW50LmdldERheSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRheXMgPSBkYXlzQXJyYXk7XG5cbiAgICAgICAgLy8gR3JvdXAgaW50byB3ZWVrc1xuICAgICAgICB3ZWVrcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRheXMubGVuZ3RoOyBpICs9IDcpIHtcbiAgICAgICAgICAgIHdlZWtzLnB1c2goZGF5cy5zbGljZShpLCBpICsgNykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SW50ZW5zaXR5Q2xhc3MoY291bnQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkgcmV0dXJuIFwiaW50ZW5zaXR5LTBcIjtcbiAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gTWF0aC5taW4oTWF0aC5jZWlsKChjb3VudCAvIG1heENvdW50KSAqIDQpLCA0KTtcbiAgICAgICAgcmV0dXJuIGBpbnRlbnNpdHktJHtpbnRlbnNpdHl9YDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgIG1vbnRoOiBcImxvbmdcIixcbiAgICAgICAgICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVG9kYXkoZGF0ZVN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcbiAgICAgICAgcmV0dXJuIGRhdGVTdHIgPT09IHRvZGF5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE1vbnRoTGFiZWxzKCk6IEFycmF5PHsgbW9udGg6IHN0cmluZzsgb2Zmc2V0OiBudW1iZXIgfT4ge1xuICAgICAgICBpZiAod2Vla3MubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cbiAgICAgICAgY29uc3QgbGFiZWxzOiBBcnJheTx7IG1vbnRoOiBzdHJpbmc7IG9mZnNldDogbnVtYmVyIH0+ID0gW107XG4gICAgICAgIGxldCBjdXJyZW50TW9udGggPSAtMTtcblxuICAgICAgICB3ZWVrcy5mb3JFYWNoKCh3ZWVrLCB3ZWVrSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0RGF5ID0gd2Vla1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdERheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShmaXJzdERheS5kYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gT25seSBzaG93IG1vbnRoIGxhYmVscyBmb3IgZGF5cyB3aXRoaW4gdGhlIHNlbGVjdGVkIHllYXJcbiAgICAgICAgICAgICAgICBpZiAoeWVhciA9PT0gY3VycmVudFllYXIgJiYgbW9udGggIT09IGN1cnJlbnRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGggPSBtb250aDtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoc1ttb250aF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHdlZWtJbmRleCAqIDEyLCAvLyAxMnB4IHBlciB3ZWVrICgxMHB4IHNxdWFyZSArIDJweCBnYXApXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVscztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVNYXhXZWVrcyh3aWR0aDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCkgcmV0dXJuIDIwOyAvLyBOb3QgeWV0IHJlbmRlcmVkXG5cbiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSB3aWR0aCAtIDUwOyAvLyBBY2NvdW50IGZvciBwYWRkaW5nIGFuZCBkYXkgbGFiZWxzXG4gICAgICAgIGNvbnN0IHdlZWtXaWR0aCA9IDEyOyAvLyAxMHB4IHNxdWFyZSArIDJweCBnYXBcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZFdlZWtzID0gTWF0aC5mbG9vcihhdmFpbGFibGVXaWR0aCAvIHdlZWtXaWR0aCk7XG5cbiAgICAgICAgLy8gRW5zdXJlIHdlIHNob3cgYXQgbGVhc3QgOCB3ZWVrcyAoMiBtb250aHMpIGFuZCBhdCBtb3N0IDUyIHdlZWtzICgxIHllYXIpXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChjYWxjdWxhdGVkV2Vla3MsIDgpLCA1Mik7XG4gICAgfVxuXG4gICAgLy8gUmVhY3RpdmUgc3RhdGVtZW50IHRvIHVwZGF0ZSBtYXhXZWVrcyB3aGVuIGNvbnRhaW5lciB3aWR0aCBjaGFuZ2VzXG4gICAgJDogaWYgKGNvbnRhaW5lcldpZHRoID4gMCkge1xuICAgICAgICBjb25zdCBuZXdNYXhXZWVrcyA9IGNhbGN1bGF0ZU1heFdlZWtzKGNvbnRhaW5lcldpZHRoKTtcbiAgICAgICAgaWYgKG5ld01heFdlZWtzICE9PSBtYXhXZWVrcykge1xuICAgICAgICAgICAgbWF4V2Vla3MgPSBuZXdNYXhXZWVrcztcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggd2l0aCBuZXcgd2VlayBjb3VudFxuICAgICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVyV2lkdGgoKSB7XG4gICAgICAgIGlmIChjb250YWluZXJFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lckVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZVllYXIoZGlyZWN0aW9uOiBcInByZXZcIiB8IFwibmV4dFwiKSB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwicHJldlwiKSB7XG4gICAgICAgICAgICBjdXJyZW50WWVhci0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFllYXIrKztcbiAgICAgICAgfVxuICAgICAgICByZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgIGlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBGZXRjaCBmdWxsIHllYXIgZGF0YSAoMzY1LTM2NiBkYXlzKVxuICAgICAgICAgICAgcmV2aWV3Q291bnRzID0gYXdhaXQgZ2V0UmV2aWV3Q291bnRzKDM2Nik7XG4gICAgICAgICAgICBtYXhDb3VudCA9IDA7XG4gICAgICAgICAgICBnZW5lcmF0ZURheXMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCByZXZpZXcgY291bnRzOlwiLCBlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91bnQoKCkgPT4ge1xuICAgICAgICAvLyBJbml0aWFsIHNldHVwIHdpdGggcHJvcGVyIHRpbWluZ1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUNvbnRhaW5lcldpZHRoKCk7XG4gICAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImhlYXRtYXAtY29udGFpbmVyXCIgYmluZDp0aGlzPXtjb250YWluZXJFbGVtZW50fT5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhdG1hcC1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlci1sZWZ0XCI+XG4gICAgICAgICAgICA8aDQ+UmV2aWV3IEFjdGl2aXR5PC9oND5cbiAgICAgICAgICAgIHsjaWYgIWlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRvdGFsLXJldmlld3NcIj5cbiAgICAgICAgICAgICAgICAgICAge0FycmF5LmZyb20ocmV2aWV3Q291bnRzLnZhbHVlcygpKS5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICApfSByZXZpZXdzXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ5ZWFyLW5hdmlnYXRpb25cIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJuYXYtYnV0dG9uXCIgb246Y2xpY2s9eygpID0+IG5hdmlnYXRlWWVhcihcInByZXZcIil9PlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjEyXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyelwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY3VycmVudC15ZWFyXCI+e2N1cnJlbnRZZWFyfTwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJuYXYtYnV0dG9uXCIgb246Y2xpY2s9eygpID0+IG5hdmlnYXRlWWVhcihcIm5leHRcIil9PlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjEyXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnpcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiBpc0xvYWRpbmd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2PlxuICAgIHs6ZWxzZX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYXRtYXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWF0bWFwLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9udGgtbGFiZWxzXCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBnZXRNb250aExhYmVscygpIGFzIHsgbW9udGgsIG9mZnNldCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtb250aC1sYWJlbFwiIHN0eWxlPVwibGVmdDoge29mZnNldH1weFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPnttb250aH08L3NwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRheS1sYWJlbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXktbGFiZWxcIiBzdHlsZT1cInRvcDogMHB4XCI+Uzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXktbGFiZWxcIiBzdHlsZT1cInRvcDogMThweFwiPlQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF5LWxhYmVsXCIgc3R5bGU9XCJ0b3A6IDM2cHhcIj5UPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRheS1sYWJlbFwiIHN0eWxlPVwidG9wOiA1NHB4XCI+Uzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWF0bWFwLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoIHdlZWtzIGFzIHdlZWt9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2Vla1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCB3ZWVrIGFzIGRheX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBkYXlZZWFyID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXkuZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXRGdWxsWWVhcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRheSB7Z2V0SW50ZW5zaXR5Q2xhc3MoZGF5LmNvdW50KX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6dG9kYXk9e2lzVG9kYXkoZGF5LmRhdGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6b3V0c2lkZS15ZWFyPXtkYXlZZWFyICE9PSBjdXJyZW50WWVhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwie2RheS5jb3VudH0gcmV2aWV3cyBvbiB7Zm9ybWF0RGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXkuZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtbGFiZWxcIj5MZXNzPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLXNxdWFyZSBpbnRlbnNpdHktMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtc3F1YXJlIGludGVuc2l0eS0xXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1zcXVhcmUgaW50ZW5zaXR5LTJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLXNxdWFyZSBpbnRlbnNpdHktM1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtc3F1YXJlIGludGVuc2l0eS00XCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGVnZW5kLWxhYmVsXCI+TW9yZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmhlYXRtYXAtY29udGFpbmVyIHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgfVxuXG4gICAgLmhlYXRtYXAtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICAuaGVhZGVyLWxlZnQge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICB9XG5cbiAgICAueWVhci1uYXZpZ2F0aW9uIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgfVxuXG4gICAgLm5hdi1idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgcGFkZGluZzogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgfVxuXG4gICAgLm5hdi1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuY3VycmVudC15ZWFyIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuaGVhdG1hcC1oZWFkZXIgaDQge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAudG90YWwtcmV2aWV3cyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5sb2FkaW5nIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIC8qanVzdGlmeS1jb250ZW50OiBjZW50ZXI7Ki9cbiAgICB9XG5cbiAgICAuaGVhdG1hcC1jb250ZW50IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLm1vbnRoLWxhYmVscyB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgIH1cblxuICAgIC5tb250aC1sYWJlbCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuZGF5LWxhYmVscyB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogLTE4cHg7XG4gICAgICAgIHRvcDogMTZweDtcbiAgICB9XG5cbiAgICAuZGF5LWxhYmVsIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgfVxuXG4gICAgLmhlYXRtYXAtZ3JpZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMnB4O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4O1xuICAgIH1cblxuICAgIC53ZWVrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAycHg7XG4gICAgfVxuXG4gICAgLmRheSB7XG4gICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG5cbiAgICAuZGF5OmhvdmVyIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMpO1xuICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuXG4gICAgLmRheS50b2RheSB7XG4gICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBvdXRsaW5lLW9mZnNldDogMXB4O1xuICAgIH1cblxuICAgIC5kYXkudG9kYXk6aG92ZXIge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDFweDtcbiAgICB9XG5cbiAgICAvKiBJbnRlbnNpdHkgY29sb3JzIC0gR2l0SHViIHN0eWxlICovXG4gICAgLmludGVuc2l0eS0wIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5pbnRlbnNpdHktMSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwZTQ0Mjk7XG4gICAgfVxuXG4gICAgLmludGVuc2l0eS0yIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNmQzMjtcbiAgICB9XG5cbiAgICAuaW50ZW5zaXR5LTMge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZhNjQxO1xuICAgIH1cblxuICAgIC5pbnRlbnNpdHktNCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzOWQzNTM7XG4gICAgfVxuXG4gICAgLmxlZ2VuZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDNweDtcbiAgICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIH1cblxuICAgIC5sZWdlbmQtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDhweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5sZWdlbmQtY29sb3JzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAycHg7XG4gICAgfVxuXG4gICAgLmxlZ2VuZC1zcXVhcmUge1xuICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgfVxuXG4gICAgLmRheS5vdXRzaWRlLXllYXIge1xuICAgICAgICBvcGFjaXR5OiAwLjM7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC8qIEN1c3RvbSBzY3JvbGxiYXIgc3R5bGluZyAqL1xuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIGhlaWdodDogOHB4O1xuICAgIH1cblxuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IERlY2ssIERlY2tDb25maWcgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB0eXBlIERlY2tzUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5pbXBvcnQgRGVja0NvbmZpZ1VJIGZyb20gXCIuL0RlY2tDb25maWdVSS5zdmVsdGVcIjtcblxuZXhwb3J0IGNsYXNzIERlY2tDb25maWdNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBkZWNrOiBEZWNrO1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgb25TYXZlOiAoY29uZmlnOiBEZWNrQ29uZmlnKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGNvbmZpZzogRGVja0NvbmZpZztcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IERlY2tDb25maWdVSSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBsdWdpbjogRGVja3NQbHVnaW4sXG4gICAgZGVjazogRGVjayxcbiAgICBvblNhdmU6IChjb25maWc6IERlY2tDb25maWcpID0+IFByb21pc2U8dm9pZD4sXG4gICkge1xuICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMuZGVjayA9IGRlY2s7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG4gICAgdGhpcy5jb25maWcgPSB7IC4uLmRlY2suY29uZmlnIH07XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBNb2RhbCB0aXRsZVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogYENvbmZpZ3VyZSBEZWNrOiAke3RoaXMuZGVjay5uYW1lfWAgfSk7XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBTdmVsdGUgY29tcG9uZW50XG4gICAgY29uc3QgY29tcG9uZW50Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcImRlY2stY29uZmlnLWNvbnRhaW5lclwiKTtcblxuICAgIC8vIEFkZCBDU1MgY2xhc3MgZm9yIHN0eWxpbmdcbiAgICBjb21wb25lbnRDb250YWluZXIuYWRkQ2xhc3MoXCJkZWNrLWNvbmZpZy1jb250YWluZXJcIik7XG5cbiAgICAvLyBNb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgRGVja0NvbmZpZ1VJKHtcbiAgICAgIHRhcmdldDogY29tcG9uZW50Q29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZGVjazogdGhpcy5kZWNrLFxuICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byBjb21wb25lbnQgZXZlbnRzXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwic2F2ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlU2F2ZShldmVudC5kZXRhaWwpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwiY2FuY2VsXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNvbmZpZ0NoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuY29uZmlnID0gZXZlbnQuZGV0YWlsO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTYXZlKGNvbmZpZzogRGVja0NvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLm9uU2F2ZShjb25maWcpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRlY2sgY29uZmlndXJhdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgLy8gQ291bGQgYWRkIGEgbm90aWNlIGhlcmUgaWYgbmVlZGVkXG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuICAgIC8vIERlc3Ryb3kgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB0eXBlIHsgRGVjaywgRGVja0NvbmZpZywgUmV2aWV3T3JkZXIgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcblxuICAgIGV4cG9ydCBsZXQgZGVjazogRGVjaztcbiAgICBleHBvcnQgbGV0IGNvbmZpZzogRGVja0NvbmZpZztcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAgICAgICAgc2F2ZTogRGVja0NvbmZpZztcbiAgICAgICAgY2FuY2VsOiB2b2lkO1xuICAgICAgICBjb25maWdDaGFuZ2U6IERlY2tDb25maWc7XG4gICAgfT4oKTtcblxuICAgIGxldCBuZXdDYXJkc0xpbWl0ID0gY29uZmlnLm5ld0NhcmRzTGltaXQ7XG4gICAgbGV0IHJldmlld0NhcmRzTGltaXQgPSBjb25maWcucmV2aWV3Q2FyZHNMaW1pdDtcbiAgICBsZXQgZW5hYmxlTmV3Q2FyZHNMaW1pdCA9IGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0O1xuICAgIGxldCBlbmFibGVSZXZpZXdDYXJkc0xpbWl0ID0gY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXQ7XG4gICAgbGV0IHJldmlld09yZGVyOiBSZXZpZXdPcmRlciA9IGNvbmZpZy5yZXZpZXdPcmRlcjtcbiAgICBsZXQgc2F2aW5nID0gZmFsc2U7XG5cbiAgICAvLyBSZWFjdGl2ZSBzdGF0ZW1lbnQgdG8gdXBkYXRlIGNvbmZpZyB3aGVuIHZhbHVlcyBjaGFuZ2VcbiAgICAkOiB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAgICAgICAgIG5ld0NhcmRzTGltaXQ6IE51bWJlcihuZXdDYXJkc0xpbWl0KSB8fCAwLFxuICAgICAgICAgICAgcmV2aWV3Q2FyZHNMaW1pdDogTnVtYmVyKHJldmlld0NhcmRzTGltaXQpIHx8IDAsXG4gICAgICAgICAgICBlbmFibGVOZXdDYXJkc0xpbWl0LFxuICAgICAgICAgICAgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCxcbiAgICAgICAgICAgIHJldmlld09yZGVyLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcImNvbmZpZ0NoYW5nZVwiLCBuZXdDb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7XG4gICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29uZmlnOiBEZWNrQ29uZmlnID0ge1xuICAgICAgICAgICAgbmV3Q2FyZHNMaW1pdDogTnVtYmVyKG5ld0NhcmRzTGltaXQpIHx8IDAsXG4gICAgICAgICAgICByZXZpZXdDYXJkc0xpbWl0OiBOdW1iZXIocmV2aWV3Q2FyZHNMaW1pdCkgfHwgMCxcbiAgICAgICAgICAgIGVuYWJsZU5ld0NhcmRzTGltaXQsXG4gICAgICAgICAgICBlbmFibGVSZXZpZXdDYXJkc0xpbWl0LFxuICAgICAgICAgICAgcmV2aWV3T3JkZXIsXG4gICAgICAgIH07XG4gICAgICAgIGRpc3BhdGNoKFwic2F2ZVwiLCBmaW5hbENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkge1xuICAgICAgICBkaXNwYXRjaChcImNhbmNlbFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSkge1xuICAgICAgICAgICAgaGFuZGxlU2F2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxzdmVsdGU6d2luZG93IG9uOmtleWRvd249e2hhbmRsZUtleWRvd259IC8+XG5cbjxkaXYgY2xhc3M9XCJkZWNrLWNvbmZpZy11aVwiPlxuICAgIDwhLS0gRGVjayBJbmZvcm1hdGlvbiBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLWluZm8tc2VjdGlvblwiPlxuICAgICAgICA8aDM+RGVjayBJbmZvcm1hdGlvbjwvaDM+XG4gICAgICAgIDx1bCBjbGFzcz1cImRlY2staW5mby1saXN0XCI+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5OYW1lOjwvc3Ryb25nPiB7ZGVjay5uYW1lfTwvbGk+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5UYWc6PC9zdHJvbmc+IHtkZWNrLnRhZ308L2xpPlxuICAgICAgICAgICAgPGxpPjxzdHJvbmc+RmlsZTo8L3N0cm9uZz4ge2RlY2suZmlsZXBhdGh9PC9saT5cbiAgICAgICAgPC91bD5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gU2V0dGluZ3MgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiZGVjay1zZXR0aW5ncy1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5EYWlseSBDYXJkIExpbWl0czwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsXCI+XG4gICAgICAgICAgICBMZWFybmluZy9yZWxlYXJuaW5nIGNhcmRzIGFyZSBhbHdheXMgc2hvd24gYW5kIG5vdCBzdWJqZWN0IHRvIHRoZXNlXG4gICAgICAgICAgICBsaW1pdHMuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gTmV3IENhcmRzIFNlY3Rpb24gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0taW5mb1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tbmFtZVwiPkVuYWJsZSBOZXcgQ2FyZHMgTGltaXQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIExpbWl0IGhvdyBtYW55IG5ldyBjYXJkcyAobmV2ZXIgc2VlbiBiZWZvcmUpIGNhbiBiZSBzaG93blxuICAgICAgICAgICAgICAgICAgICBwZXIgZGF5XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kOmNoZWNrZWQ9e2VuYWJsZU5ld0NhcmRzTGltaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNoZWNrYm94LWlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrYm94LXNsaWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbVwiIGNsYXNzOmRpc2FibGVkPXshZW5hYmxlTmV3Q2FyZHNMaW1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLWluZm9cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLW5hbWVcIj5OZXcgQ2FyZHMgcGVyIERheTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgbmV3IGNhcmRzIHRvIGludHJvZHVjZSBwZXIgZGF5XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIG1heD1cIjk5OVwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshZW5hYmxlTmV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZXNzaW9uLWxpbWl0LWlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIyMFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFJldmlldyBDYXJkcyBTZWN0aW9uIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLWluZm9cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtLW5hbWVcIj5FbmFibGUgUmV2aWV3IENhcmRzIExpbWl0PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBMaW1pdCBob3cgbWFueSByZXZpZXcgY2FyZHMgKGR1ZSBmb3IgcmVwZXRpdGlvbikgY2FuIGJlXG4gICAgICAgICAgICAgICAgICAgIHNob3duIHBlciBkYXlcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbS1jb250cm9sXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY2hlY2tib3gtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Y2hlY2tlZD17ZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2hlY2tib3gtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tib3gtc2xpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtXCIgY2xhc3M6ZGlzYWJsZWQ9eyFlbmFibGVSZXZpZXdDYXJkc0xpbWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0taW5mb1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tbmFtZVwiPlJldmlldyBDYXJkcyBwZXIgRGF5PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBNYXhpbXVtIG51bWJlciBvZiByZXZpZXcgY2FyZHMgdG8gc2hvdyBwZXIgZGF5XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17cmV2aWV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIG1heD1cIjk5OTlcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWVuYWJsZVJldmlld0NhcmRzTGltaXR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2Vzc2lvbi1saW1pdC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMTAwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gUmV2aWV3IE9yZGVyIFNlY3Rpb24gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0taW5mb1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tbmFtZVwiPlJldmlldyBPcmRlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgT3JkZXIgaW4gd2hpY2ggcmV2aWV3IGNhcmRzIGFyZSBwcmVzZW50ZWQgZHVyaW5nIHN0dWR5XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgYmluZDp2YWx1ZT17cmV2aWV3T3JkZXJ9IGNsYXNzPVwicmV2aWV3LW9yZGVyLXNlbGVjdFwiPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZHVlLWRhdGVcIj5PbGRlc3QgZHVlIGZpcnN0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyYW5kb21cIj5SYW5kb20gb3JkZXI8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kLWN0YVwiIG9uOmNsaWNrPXtoYW5kbGVTYXZlfSBkaXNhYmxlZD17c2F2aW5nfT5cbiAgICAgICAgICAgIHtzYXZpbmcgPyBcIlNhdmluZy4uLlwiIDogXCJTYXZlXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtoYW5kbGVDYW5jZWx9IGRpc2FibGVkPXtzYXZpbmd9PkNhbmNlbDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgICAuZGVjay1jb25maWctdWkge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTJweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3QgbGkge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCBsaTpsYXN0LWNoaWxkIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3Qgc3Ryb25nIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuZGVjay1zZXR0aW5ncy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICB9XG5cbiAgICAuZGVjay1zZXR0aW5ncy1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMTZweCAwO1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDA7XG4gICAgfVxuXG4gICAgLnNldHRpbmctaXRlbTpsYXN0LWNoaWxkIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB9XG5cbiAgICAuc2V0dGluZy1pdGVtLmRpc2FibGVkIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0taW5mbyB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcbiAgICB9XG5cbiAgICAuc2V0dGluZy1pdGVtLW5hbWUge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgfVxuXG4gICAgLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICB9XG5cbiAgICAuc2V0dGluZy1pdGVtLWNvbnRyb2wge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG5cbiAgICAuY2hlY2tib3gtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAuY2hlY2tib3gtaW5wdXQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAuY2hlY2tib3gtc2xpZGVyIHtcbiAgICAgICAgd2lkdGg6IDQycHg7XG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlO1xuICAgIH1cblxuICAgIC5jaGVja2JveC1zbGlkZXI6OmJlZm9yZSB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDE4cHg7XG4gICAgICAgIGhlaWdodDogMThweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgdG9wOiAzcHg7XG4gICAgICAgIGxlZnQ6IDNweDtcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZTtcbiAgICB9XG5cbiAgICAuY2hlY2tib3gtY29udGFpbmVyOjphZnRlciB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAuY2hlY2tib3gtaW5wdXQ6Y2hlY2tlZCArIC5jaGVja2JveC1zbGlkZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5jaGVja2JveC1pbnB1dDpjaGVja2VkICsgLmNoZWNrYm94LXNsaWRlcjo6YmVmb3JlIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE4cHgpO1xuICAgIH1cblxuICAgIC5zZXNzaW9uLWxpbWl0LWlucHV0IHtcbiAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgIHBhZGRpbmc6IDZweCA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgIH1cblxuICAgIC5zZXNzaW9uLWxpbWl0LWlucHV0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAycHggdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICB9XG5cbiAgICAuc2Vzc2lvbi1saW1pdC1pbnB1dDpkaXNhYmxlZCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXItaG92ZXIpO1xuICAgIH1cblxuICAgIC5yZXZpZXctb3JkZXItc2VsZWN0IHtcbiAgICAgICAgcGFkZGluZzogNnB4IDhweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIG1pbi13aWR0aDogMTQwcHg7XG4gICAgfVxuXG4gICAgLnJldmlldy1vcmRlci1zZWxlY3Q6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDI0cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxNnB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbi5tb2QtY3RhIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uLm1vZC1jdGE6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDJweDtcbiAgICB9XG48L3N0eWxlPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xuICAgIGltcG9ydCB0eXBlIHsgRGVjaywgRGVja1N0YXRzLCBEZWNrQ29uZmlnIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IFJldmlld0hlYXRtYXAgZnJvbSBcIi4vUmV2aWV3SGVhdG1hcC5zdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBEZWNrQ29uZmlnTW9kYWwgfSBmcm9tIFwiLi9EZWNrQ29uZmlnTW9kYWxcIjtcblxuICAgIGxldCBkZWNrczogRGVja1tdID0gW107XG4gICAgbGV0IGFsbERlY2tzOiBEZWNrW10gPSBbXTtcbiAgICBsZXQgc3RhdHMgPSBuZXcgTWFwPHN0cmluZywgRGVja1N0YXRzPigpO1xuICAgIGxldCBmaWx0ZXJUZXh0ID0gXCJcIjtcbiAgICBsZXQgaGVhdG1hcENvbXBvbmVudDogYW55O1xuICAgIGxldCBzaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICBsZXQgYXZhaWxhYmxlVGFnczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRTdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaW5wdXRGb2N1c2VkID0gZmFsc2U7XG5cbiAgICBleHBvcnQgbGV0IG9uRGVja0NsaWNrOiAoZGVjazogRGVjaykgPT4gdm9pZDtcbiAgICBleHBvcnQgbGV0IG9uUmVmcmVzaDogKCkgPT4gdm9pZDtcbiAgICBleHBvcnQgbGV0IGdldFJldmlld0NvdW50czogKGRheXM6IG51bWJlcikgPT4gUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PjtcbiAgICBleHBvcnQgbGV0IG9uVXBkYXRlRGVja0NvbmZpZzogKFxuICAgICAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICAgICAgY29uZmlnOiBEZWNrQ29uZmlnLFxuICAgICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IG9uT3BlblN0YXRpc3RpY3M6ICgpID0+IHZvaWQ7XG4gICAgZXhwb3J0IGxldCBwbHVnaW46IGFueTsgLy8gRGVja3NQbHVnaW4gcmVmZXJlbmNlXG5cbiAgICBsZXQgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgbGV0IGlzVXBkYXRpbmdTdGF0cyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZ2V0RGVja1N0YXRzKGRlY2tJZDogc3RyaW5nKTogRGVja1N0YXRzIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0YXRzLmdldChkZWNrSWQpID8/IHtcbiAgICAgICAgICAgICAgICBkZWNrSWQsXG4gICAgICAgICAgICAgICAgbmV3Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgbGVhcm5pbmdDb3VudDogMCxcbiAgICAgICAgICAgICAgICBkdWVDb3VudDogMCxcbiAgICAgICAgICAgICAgICB0b3RhbENvdW50OiAwLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdERlY2tOYW1lKGRlY2s6IERlY2spOiBzdHJpbmcge1xuICAgICAgICAvLyBkZWNrLm5hbWUgbm93IGNvbnRhaW5zIHRoZSBjbGVhbiBmaWxlbmFtZSB3aXRob3V0IGV4dGVuc2lvblxuICAgICAgICByZXR1cm4gZGVjay5uYW1lO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2goKSB7XG4gICAgICAgIGlzUmVmcmVzaGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBvblJlZnJlc2goKTtcbiAgICAgICAgICAgIHJlZnJlc2hIZWF0bWFwKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHJlZnJlc2g6XCIsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzUmVmcmVzaGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN0YXRzQnlJZChkZWNrSWQ6IHN0cmluZywgbmV3U3RhdHM6IERlY2tTdGF0cykge1xuICAgICAgICBpc1VwZGF0aW5nU3RhdHMgPSB0cnVlO1xuICAgICAgICBzdGF0cy5zZXQoZGVja0lkLCBuZXdTdGF0cyk7XG4gICAgICAgIGRlY2tzID0gZGVja3M7XG4gICAgICAgIGlzVXBkYXRpbmdTdGF0cyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBGdW5jdGlvbiB0byBmb3JjZSBVSSB1cGRhdGUgd2hlbiBzdGF0cyBjaGFuZ2VcbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlU3RhdHMobmV3U3RhdHM6IE1hcDxzdHJpbmcsIERlY2tTdGF0cz4pIHtcbiAgICAgICAgaXNVcGRhdGluZ1N0YXRzID0gdHJ1ZTtcbiAgICAgICAgc3RhdHMgPSBuZXdTdGF0cztcbiAgICAgICAgZGVja3MgPSBkZWNrcztcbiAgICAgICAgaXNVcGRhdGluZ1N0YXRzID0gZmFsc2U7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEZWNrcyhuZXdEZWNrczogRGVja1tdKSB7XG4gICAgICAgIGFsbERlY2tzID0gbmV3RGVja3M7XG4gICAgICAgIC8vIEV4dHJhY3QgdW5pcXVlIHRhZ3NcbiAgICAgICAgYXZhaWxhYmxlVGFncyA9IFsuLi5uZXcgU2V0KG5ld0RlY2tzLm1hcCgoZGVjaykgPT4gZGVjay50YWcpKV0uZmlsdGVyKFxuICAgICAgICAgICAgKHRhZykgPT4gdGFnLFxuICAgICAgICApO1xuICAgICAgICBhcHBseUZpbHRlcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5RmlsdGVyKCkge1xuICAgICAgICBpZiAoIWZpbHRlclRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICBkZWNrcyA9IGFsbERlY2tzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gZmlsdGVyVGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZGVja3MgPSBhbGxEZWNrcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGRlY2spID0+XG4gICAgICAgICAgICAgICAgICAgIGRlY2submFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcikgfHxcbiAgICAgICAgICAgICAgICAgICAgZGVjay50YWcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbHRlcklucHV0KGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgZmlsdGVyVGV4dCA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgdXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgYXBwbHlGaWx0ZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVTdWdnZXN0aW9ucygpIHtcbiAgICAgICAgaWYgKCFmaWx0ZXJUZXh0LnRyaW0oKSkge1xuICAgICAgICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGZpbHRlcmVkU3VnZ2VzdGlvbnMgPSBhdmFpbGFibGVUYWdzLmZpbHRlcihcbiAgICAgICAgICAgICh0YWcpID0+XG4gICAgICAgICAgICAgICAgdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyKSAmJlxuICAgICAgICAgICAgICAgIHRhZy50b0xvd2VyQ2FzZSgpICE9PSBmaWx0ZXIsXG4gICAgICAgICk7XG4gICAgICAgIHNob3dTdWdnZXN0aW9ucyA9IGZpbHRlcmVkU3VnZ2VzdGlvbnMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RTdWdnZXN0aW9uKHRhZzogc3RyaW5nKSB7XG4gICAgICAgIGZpbHRlclRleHQgPSB0YWc7XG4gICAgICAgIHNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgICAgICBhcHBseUZpbHRlcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbHRlckZvY3VzKCkge1xuICAgICAgICBpbnB1dEZvY3VzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoZmlsdGVyVGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgIHVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXZhaWxhYmxlVGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzaG93U3VnZ2VzdGlvbnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRmlsdGVyQmx1cigpIHtcbiAgICAgICAgaW5wdXRGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIC8vIERlbGF5IGhpZGluZyBzdWdnZXN0aW9ucyB0byBhbGxvdyBjbGlja3NcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVEZWNrQ2xpY2soZGVjazogRGVjaykge1xuICAgICAgICBvbkRlY2tDbGljayhkZWNrKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVmcmVzaEhlYXRtYXAoKSB7XG4gICAgICAgIGlmIChoZWF0bWFwQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBoZWF0bWFwQ29tcG9uZW50LnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbmZpZ0NsaWNrKGRlY2s6IERlY2ssIGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBEZWNrQ29uZmlnTW9kYWwoXG4gICAgICAgICAgICBwbHVnaW4sXG4gICAgICAgICAgICBkZWNrLFxuICAgICAgICAgICAgYXN5bmMgKGNvbmZpZzogRGVja0NvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvblVwZGF0ZURlY2tDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25VcGRhdGVEZWNrQ29uZmlnKGRlY2suaWQsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbG9jYWwgZGVjayBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVja0luZGV4ID0gYWxsRGVja3MuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgKGQpID0+IGQuaWQgPT09IGRlY2suaWQsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNrSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZWNrc1tkZWNrSW5kZXhdLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlY2tzID0gWy4uLmFsbERlY2tzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgLy8gSW5pdGlhbCBsb2FkXG4gICAgICAgIGhhbmRsZVJlZnJlc2goKTtcbiAgICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZGVjay1saXN0LXBhbmVsXCI+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRlclwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiPkZsYXNoY2FyZCBEZWNrczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItYnV0dG9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwic3RhdHMtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17b25PcGVuU3RhdGlzdGljc31cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlZpZXcgT3ZlcmFsbCBTdGF0aXN0aWNzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE0XCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTRcIlxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyAzdjE4aDE4XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE4IDE3VjlcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMgMTdWNVwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk04IDE3di0zXCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJyZWZyZXNoLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3M6cmVmcmVzaGluZz17aXNSZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtoYW5kbGVSZWZyZXNofVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1JlZnJlc2hpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxNFwiXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE0XCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIzIDR2NmgtNlwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xIDIwdi02aDZcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTMuNTEgOWE5IDkgMCAwIDEgMTQuODUtMy4zNkwyMyAxME0xIDE0bDQuNjQgNC4zNkE5IDkgMCAwIDAgMjAuNDkgMTVcIlxuICAgICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImZpbHRlci1zZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmaWx0ZXItaW5wdXRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRmlsdGVyIGJ5IG5hbWUgb3IgdGFnLi4uIChlLmcuLCAnc3BhbmlzaCcsICcjZmxhc2hjYXJkcycpXCJcbiAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtmaWx0ZXJUZXh0fVxuICAgICAgICAgICAgICAgIG9uOmlucHV0PXtoYW5kbGVGaWx0ZXJJbnB1dH1cbiAgICAgICAgICAgICAgICBvbjpmb2N1cz17aGFuZGxlRmlsdGVyRm9jdXN9XG4gICAgICAgICAgICAgICAgb246Ymx1cj17aGFuZGxlRmlsdGVyQmx1cn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7I2lmIHNob3dTdWdnZXN0aW9ucyAmJiBmaWx0ZXJlZFN1Z2dlc3Rpb25zLmxlbmd0aCA+IDB9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Z2dlc3Rpb25zLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWdnZXN0aW9ucy1oZWFkZXJcIj5BdmFpbGFibGUgdGFnczo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGZpbHRlcmVkU3VnZ2VzdGlvbnMgYXMgdGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic3VnZ2VzdGlvbi1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjptb3VzZWRvd258cHJldmVudERlZmF1bHQ9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN1Z2dlc3Rpb24odGFnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZSBpZiAhZmlsdGVyVGV4dC50cmltKCkgJiYgYXZhaWxhYmxlVGFncy5sZW5ndGggPiAwICYmIGlucHV0Rm9jdXNlZH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Z2dlc3Rpb25zLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQXZhaWxhYmxlIHRhZ3MgKGNsaWNrIHRvIGZpbHRlcik6XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYXZhaWxhYmxlVGFncy5zbGljZSgwLCA1KSBhcyB0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdWdnZXN0aW9uLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOm1vdXNlZG93bnxwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3VnZ2VzdGlvbih0YWcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIGFsbERlY2tzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICA8cD5ObyBmbGFzaGNhcmQgZGVja3MgZm91bmQuPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJoZWxwLXRleHRcIj5cbiAgICAgICAgICAgICAgICBUYWcgeW91ciBub3RlcyB3aXRoICNmbGFzaGNhcmRzIHRvIGNyZWF0ZSBkZWNrcy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlIGlmIGRlY2tzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICA8cD5ObyBkZWNrcyBtYXRjaCB5b3VyIGZpbHRlci48L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlRyeSBhZGp1c3RpbmcgeW91ciBzZWFyY2ggdGVybXMuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZWNrLXRhYmxlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1kZWNrXCI+RGVjazwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc3RhdFwiPk5ldzwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc3RhdFwiPkxlYXJuPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zdGF0XCI+RHVlPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1jb25maWdcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtYm9keVwiPlxuICAgICAgICAgICAgICAgIHsjZWFjaCBkZWNrcyBhcyBkZWNrfVxuICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IHN0YXRzID0gZ2V0RGVja1N0YXRzKGRlY2suaWQpfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVjay1yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtZGVja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGVjay1uYW1lLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlRGVja0NsaWNrKGRlY2spfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUua2V5ID09PSBcIkVudGVyXCIgJiYgaGFuZGxlRGVja0NsaWNrKGRlY2spfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbGljayB0byByZXZpZXcge2RlY2submFtZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERlY2tOYW1lKGRlY2spfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXN0YXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1jYXJkcz17c3RhdHMubmV3Q291bnQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnVwZGF0aW5nPXtpc1VwZGF0aW5nU3RhdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWxpbWl0PXtkZWNrLmNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtkZWNrLmNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7c3RhdHMubmV3Q291bnR9IG5ldyBjYXJkcyBhdmFpbGFibGUgdG9kYXkgKGxpbWl0OiAke2RlY2suY29uZmlnLm5ld0NhcmRzTGltaXR9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtzdGF0cy5uZXdDb3VudH0gbmV3IGNhcmRzIGR1ZWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRzLm5ld0NvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZGVjay5jb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaW1pdC1pbmRpY2F0b3JcIj7wn5OFPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zdGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczpoYXMtY2FyZHM9e3N0YXRzLmxlYXJuaW5nQ291bnQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnVwZGF0aW5nPXtpc1VwZGF0aW5nU3RhdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRzLmxlYXJuaW5nQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zdGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczpoYXMtY2FyZHM9e3N0YXRzLmR1ZUNvdW50ID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczp1cGRhdGluZz17aXNVcGRhdGluZ1N0YXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1saW1pdD17ZGVjay5jb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZGVjay5jb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke3N0YXRzLmR1ZUNvdW50fSByZXZpZXcgY2FyZHMgYXZhaWxhYmxlIHRvZGF5IChsaW1pdDogJHtkZWNrLmNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0fSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7c3RhdHMuZHVlQ291bnR9IHJldmlldyBjYXJkcyBkdWVgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0cy5kdWVDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGRlY2suY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGltaXQtaW5kaWNhdG9yXCI+8J+ThTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWNvbmZpZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZWNrLWNvbmZpZy1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZUNvbmZpZ0NsaWNrKGRlY2ssIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkNvbmZpZ3VyZSBkZWNrIHNldHRpbmdzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNvbmZpZ3VyZSB7ZGVjay5uYW1lfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIzXCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTkuNCAxNWExLjY1IDEuNjUgMCAwIDAgLjMzIDEuODJsLjA2LjA2YTIgMiAwIDAgMSAwIDIuODMgMiAyIDAgMCAxLTIuODMgMGwtLjA2LS4wNmExLjY1IDEuNjUgMCAwIDAtMS44Mi0uMzMgMS42NSAxLjY1IDAgMCAwLTEgMS41MVYyMWEyIDIgMCAwIDEtMiAyIDIgMiAwIDAgMS0yLTJ2LS4wOUExLjY1IDEuNjUgMCAwIDAgOSAxOS40YTEuNjUgMS42NSAwIDAgMC0xLjgyLjMzbC0uMDYuMDZhMiAyIDAgMCAxLTIuODMgMCAyIDIgMCAwIDEgMC0yLjgzbC4wNi0uMDZhMS42NSAxLjY1IDAgMCAwIC4zMy0xLjgyIDEuNjUgMS42NSAwIDAgMC0xLjUxLTFIM2EyIDIgMCAwIDEtMi0yIDIgMiAwIDAgMSAyLTJoLjA5QTEuNjUgMS42NSAwIDAgMCA0LjYgOWExLjY1IDEuNjUgMCAwIDAtLjMzLTEuODJsLS4wNi0uMDZhMiAyIDAgMCAxIDAtMi44MyAyIDIgMCAwIDEgMi44MyAwbC4wNi4wNmExLjY1IDEuNjUgMCAwIDAgMS44Mi4zM0g5YTEuNjUgMS42NSAwIDAgMCAxIDEuNTFWM2EyIDIgMCAwIDEgMi0yIDIgMiAwIDAgMSAyIDJ2LjA5YTEuNjUgMS42NSAwIDAgMCAxIDEuNTEgMS42NSAxLjY1IDAgMCAwIDEuODItLjMzbC4wNi0uMDZhMiAyIDAgMCAxIDIuODMgMCAyIDIgMCAwIDEgMCAyLjgzbC0uMDYuMDZhMS42NSAxLjY1IDAgMCAwLS4zMyAxLjgyVjlhMS42NSAxLjY1IDAgMCAwIDEuNTEgMUgyMWEyIDIgMCAwIDEgMiAyIDIgMiAwIDAgMS0yIDJoLS4wOWExLjY1IDEuNjUgMCAwIDAtMS41MSAxelwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cblxuICAgIDxSZXZpZXdIZWF0bWFwIGJpbmQ6dGhpcz17aGVhdG1hcENvbXBvbmVudH0ge2dldFJldmlld0NvdW50c30gLz5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmRlY2stbGlzdC1wYW5lbCB7XG4gICAgICAgIG1pbi13aWR0aDogNDc5cHg7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAucGFuZWwtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmhlYWRlci1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmZpbHRlci1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWlucHV0IHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9ucy1kcm9wZG93biB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxMDAlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItdG9wOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgNHB4IDRweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgfVxuXG4gICAgLnN1Z2dlc3Rpb25zLWhlYWRlciB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9uLWl0ZW0ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG4gICAgfVxuXG4gICAgLnN1Z2dlc3Rpb24taXRlbTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIH1cblxuICAgIC5maWx0ZXItaW5wdXQ6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgfVxuXG4gICAgLmZpbHRlci1pbnB1dDo6cGxhY2Vob2xkZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLnBhbmVsLXRpdGxlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLnN0YXRzLWJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgIH1cblxuICAgIC5zdGF0cy1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ob3Zlcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICAucmVmcmVzaC1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAucmVmcmVzaC1idXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uLnJlZnJlc2hpbmcgc3ZnIHtcbiAgICAgICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgICBmcm9tIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICB9XG4gICAgICAgIHRvIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZW1wdHktc3RhdGUge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMzJweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIC5lbXB0eS1zdGF0ZSBwIHtcbiAgICAgICAgbWFyZ2luOiA4cHggMDtcbiAgICB9XG5cbiAgICAuaGVscC10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmRlY2stdGFibGUge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIC50YWJsZS1oZWFkZXIge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA2MHB4IDYwcHggNjBweCA0MHB4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC50YWJsZS1ib2R5IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICB9XG5cbiAgICAuZGVjay1yb3cge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA2MHB4IDYwcHggNjBweCA0MHB4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5kZWNrLW5hbWUtbGluayB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbi1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIHRyYW5zaXRpb246IHRleHQtZGVjb3JhdGlvbi1jb2xvciAwLjJzIGVhc2U7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1heC13aWR0aDogMjUwcHg7XG4gICAgfVxuXG4gICAgLmRlY2stbmFtZS1saW5rOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgfVxuXG4gICAgLmRlY2stbmFtZS1saW5rOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICB9XG5cbiAgICAuY29sLWNvbmZpZyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC5kZWNrLWNvbmZpZy1idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgIH1cblxuICAgIC5kZWNrLWNvbmZpZy1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuZGVjay1jb25maWctYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgfVxuXG4gICAgLmNvbC1kZWNrIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0O1xuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0IHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnRhYmxlLWhlYWRlciAuY29sLWRlY2sge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGp1c3RpZnktc2VsZjogc3RhcnQ7XG4gICAgfVxuXG4gICAgLnRhYmxlLWhlYWRlciAuY29sLXN0YXQge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0Lmhhcy1jYXJkcyB7XG4gICAgICAgIGNvbG9yOiAjNGFhM2RmO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5jb2wtc3RhdC51cGRhdGluZyB7XG4gICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2U7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0Lmhhcy1saW1pdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICB9XG5cbiAgICAubGltaXQtaW5kaWNhdG9yIHtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgd2lkdGg6IDhweDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgfVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCBTdGF0aXN0aWNzVUkgZnJvbSBcIi4vU3RhdGlzdGljc1VJLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGlzdGljc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgY29tcG9uZW50OiBTdGF0aXN0aWNzVUkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwbHVnaW46IERlY2tzUGx1Z2luKSB7XG4gICAgc3VwZXIocGx1Z2luLmFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBBZGQgQ1NTIGNsYXNzZXMgZm9yIHN0eWxpbmdcbiAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgIGlmIChtb2RhbEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lckVsLmFkZENsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1jb250YWluZXJcIik7XG4gICAgY29udGVudEVsLmFkZENsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1jb250ZW50XCIpO1xuXG4gICAgLy8gTW9kYWwgdGl0bGVcbiAgICBjb25zdCB0aXRsZUVsID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIk92ZXJhbGwgU3RhdGlzdGljc1wiIH0pO1xuICAgIHRpdGxlRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLXRpdGxlXCIpO1xuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbXBvbmVudENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoXCJzdGF0aXN0aWNzLWNvbnRhaW5lclwiKTtcbiAgICBjb21wb25lbnRDb250YWluZXIuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLWNvbXBvbmVudC1jb250YWluZXJcIik7XG5cbiAgICAvLyBNb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgU3RhdGlzdGljc1VJKHtcbiAgICAgIHRhcmdldDogY29tcG9uZW50Q29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgcGx1Z2luOiB0aGlzLnBsdWdpbixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gY29tcG9uZW50IGV2ZW50c1xuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNsb3NlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICAvLyBEZXN0cm95IFN2ZWx0ZSBjb21wb25lbnRcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB0eXBlIERlY2tzUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG4gICAgaW1wb3J0IHsgb25Nb3VudCwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCBSZXZpZXdIZWF0bWFwIGZyb20gXCIuL1Jldmlld0hlYXRtYXAuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBTdGF0aXN0aWNzIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG5cbiAgICBleHBvcnQgbGV0IHBsdWdpbjogRGVja3NQbHVnaW47XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gICAgbGV0IGxvYWRpbmcgPSB0cnVlO1xuICAgIGxldCBzdGF0aXN0aWNzOiBTdGF0aXN0aWNzIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHNlbGVjdGVkRGVja0ZpbHRlciA9IFwiYWxsXCI7IC8vIFwiYWxsXCIsIFwidGFnOnRhZ25hbWVcIiwgb3IgXCJkZWNrOmRlY2tpZFwiXG4gICAgbGV0IHNlbGVjdGVkVGltZWZyYW1lID0gXCIxMm1vbnRoc1wiOyAvLyBcIjEybW9udGhzXCIgb3IgXCJhbGxcIlxuICAgIGxldCBhdmFpbGFibGVEZWNrczogYW55W10gPSBbXTtcbiAgICBsZXQgYXZhaWxhYmxlVGFnczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaGVhdG1hcENvbXBvbmVudDogUmV2aWV3SGVhdG1hcDtcblxuICAgIC8vIERlcml2ZWQgc3RhdGlzdGljcyAtIGNvbXB1dGVkIGFmdGVyIGxvYWRpbmdcbiAgICBsZXQgdG9kYXlTdGF0czogYW55ID0gbnVsbDtcbiAgICBsZXQgd2Vla1N0YXRzOiBhbnkgPSBudWxsO1xuICAgIGxldCBtb250aFN0YXRzOiBhbnkgPSBudWxsO1xuICAgIGxldCB5ZWFyU3RhdHM6IGFueSA9IG51bGw7XG5cbiAgICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgICAgIGF3YWl0IGxvYWREZWNrc0FuZFRhZ3MoKTtcbiAgICAgICAgYXdhaXQgbG9hZFN0YXRpc3RpY3MoKTtcbiAgICB9KTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWREZWNrc0FuZFRhZ3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhdmFpbGFibGVEZWNrcyA9IGF3YWl0IHBsdWdpbi5nZXREZWNrcygpO1xuICAgICAgICAgICAgYXZhaWxhYmxlVGFncyA9IFtcbiAgICAgICAgICAgICAgICAuLi5uZXcgU2V0KGF2YWlsYWJsZURlY2tzLm1hcCgoZGVjaykgPT4gZGVjay50YWcpKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBkZWNrcyBhbmQgdGFnczpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZFN0YXRpc3RpY3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0aXN0aWNzID0gYXdhaXQgcGx1Z2luLmdldE92ZXJhbGxTdGF0aXN0aWNzKFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGVja0ZpbHRlcixcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFRpbWVmcmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwbHVnaW4uZGVidWdMb2coXCJMb2FkZWQgc3RhdGlzdGljczpcIiwgc3RhdGlzdGljcyk7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgZGVyaXZlZCBzdGF0aXN0aWNzIG9uY2UgZGF0YSBpcyBsb2FkZWRcbiAgICAgICAgICAgIHRvZGF5U3RhdHMgPSBnZXRUb2RheVN0YXRzKCk7XG4gICAgICAgICAgICB3ZWVrU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cyg3KTtcbiAgICAgICAgICAgIG1vbnRoU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cygzMCk7XG4gICAgICAgICAgICB5ZWFyU3RhdHMgPSBnZXRUaW1lZnJhbWVTdGF0cygzNjUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgc3RhdGlzdGljczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgc3RhdGlzdGljcyA9IHtcbiAgICAgICAgICAgICAgICBkYWlseVN0YXRzOiBbXSxcbiAgICAgICAgICAgICAgICBjYXJkU3RhdHM6IHsgbmV3OiAwLCBsZWFybmluZzogMCwgbWF0dXJlOiAwIH0sXG4gICAgICAgICAgICAgICAgYW5zd2VyQnV0dG9uczogeyBhZ2FpbjogMCwgaGFyZDogMCwgZ29vZDogMCwgZWFzeTogMCB9LFxuICAgICAgICAgICAgICAgIHJldGVudGlvblJhdGU6IDAsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiBbXSxcbiAgICAgICAgICAgICAgICBmb3JlY2FzdDogW10sXG4gICAgICAgICAgICAgICAgYXZlcmFnZVBhY2U6IDAsXG4gICAgICAgICAgICAgICAgdG90YWxSZXZpZXdUaW1lOiAwLFxuICAgICAgICAgICAgfSBhcyBTdGF0aXN0aWNzO1xuXG4gICAgICAgICAgICAvLyBTZXQgZW1wdHkgZGVyaXZlZCBzdGF0cyBvbiBlcnJvclxuICAgICAgICAgICAgdG9kYXlTdGF0cyA9IG51bGw7XG4gICAgICAgICAgICB3ZWVrU3RhdHMgPSBudWxsO1xuICAgICAgICAgICAgbW9udGhTdGF0cyA9IG51bGw7XG4gICAgICAgICAgICB5ZWFyU3RhdHMgPSBudWxsO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgbG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmlsdGVyQ2hhbmdlKCkge1xuICAgICAgICBhd2FpdCBsb2FkU3RhdGlzdGljcygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXRUaW1lKHNlY29uZHM6IG51bWJlcikge1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTtcbiAgICAgICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzICUgNjB9bWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bWA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0UGFjZShzZWNvbmRzOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHNlY29uZHMgPCA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3NlY29uZHMudG9GaXhlZCgxKX1zYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gTWF0aC5yb3VuZChzZWNvbmRzICUgNjApO1xuICAgICAgICByZXR1cm4gYCR7bWludXRlc31tICR7cmVtYWluaW5nU2Vjb25kc31zYDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUb2RheVN0YXRzKCkge1xuICAgICAgICBpZiAoIXN0YXRpc3RpY3M/LmRhaWx5U3RhdHMgfHwgc3RhdGlzdGljcy5kYWlseVN0YXRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIC8vIEZpcnN0IHRyeSB0byBmaW5kIHRvZGF5J3Mgc3RhdHMsIGlmIG5vdCBhdmFpbGFibGUgdXNlIHRoZSBtb3N0IHJlY2VudFxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3RhdGlzdGljcy5kYWlseVN0YXRzLmZpbmQoKGRheSkgPT4gZGF5LmRhdGUgPT09IHRvZGF5KSB8fFxuICAgICAgICAgICAgc3RhdGlzdGljcy5kYWlseVN0YXRzWzBdIHx8XG4gICAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGltZWZyYW1lU3RhdHMoZGF5czogbnVtYmVyKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uZGFpbHlTdGF0cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIHJldmlld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgY3V0b2ZmRGF0ZS5zZXREYXRlKGN1dG9mZkRhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG4gICAgICAgIGNvbnN0IGN1dG9mZlN0ciA9IGN1dG9mZkRhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG5cbiAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0cyA9IHN0YXRpc3RpY3MuZGFpbHlTdGF0cy5maWx0ZXIoXG4gICAgICAgICAgICAoZGF5KSA9PiBkYXkuZGF0ZSA+PSBjdXRvZmZTdHIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGZpbHRlcmVkU3RhdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJldmlld3M6IDAsXG4gICAgICAgICAgICAgICAgdGltZVNwZW50OiAwLFxuICAgICAgICAgICAgICAgIG5ld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGxlYXJuaW5nQ2FyZHM6IDAsXG4gICAgICAgICAgICAgICAgcmV2aWV3Q2FyZHM6IDAsXG4gICAgICAgICAgICAgICAgY29ycmVjdFJhdGU6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkU3RhdHMucmVkdWNlKFxuICAgICAgICAgICAgKGFjYywgZGF5KSA9PiAoe1xuICAgICAgICAgICAgICAgIHJldmlld3M6IGFjYy5yZXZpZXdzICsgZGF5LnJldmlld3MsXG4gICAgICAgICAgICAgICAgdGltZVNwZW50OiBhY2MudGltZVNwZW50ICsgZGF5LnRpbWVTcGVudCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogYWNjLm5ld0NhcmRzICsgZGF5Lm5ld0NhcmRzLFxuICAgICAgICAgICAgICAgIGxlYXJuaW5nQ2FyZHM6IGFjYy5sZWFybmluZ0NhcmRzICsgZGF5LmxlYXJuaW5nQ2FyZHMsXG4gICAgICAgICAgICAgICAgcmV2aWV3Q2FyZHM6IGFjYy5yZXZpZXdDYXJkcyArIGRheS5yZXZpZXdDYXJkcyxcbiAgICAgICAgICAgICAgICBjb3JyZWN0UmF0ZTpcbiAgICAgICAgICAgICAgICAgICAgYWNjLnJldmlld3MgKyBkYXkucmV2aWV3cyA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGFjYy5jb3JyZWN0UmF0ZSAqIGFjYy5yZXZpZXdzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheS5jb3JyZWN0UmF0ZSAqIGRheS5yZXZpZXdzKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChhY2MucmV2aWV3cyArIGRheS5yZXZpZXdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV2aWV3czogMCxcbiAgICAgICAgICAgICAgICB0aW1lU3BlbnQ6IDAsXG4gICAgICAgICAgICAgICAgbmV3Q2FyZHM6IDAsXG4gICAgICAgICAgICAgICAgbGVhcm5pbmdDYXJkczogMCxcbiAgICAgICAgICAgICAgICByZXZpZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlQXZlcmFnZUVhc2UoKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uYW5zd2VyQnV0dG9ucykgcmV0dXJuIFwiMC4wMFwiO1xuICAgICAgICBjb25zdCB7IGFnYWluLCBoYXJkLCBnb29kLCBlYXN5IH0gPSBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnM7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gYWdhaW4gKyBoYXJkICsgZ29vZCArIGVhc3k7XG4gICAgICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuIFwiMC4wMFwiO1xuICAgICAgICAvLyBNYXAgYnV0dG9ucyB0byB2YWx1ZXM6IEFnYWluPTEsIEhhcmQ9MiwgR29vZD0zLCBFYXN5PTRcbiAgICAgICAgY29uc3Qgd2VpZ2h0ZWRTdW0gPSBhZ2FpbiAqIDEgKyBoYXJkICogMiArIGdvb2QgKiAzICsgZWFzeSAqIDQ7XG4gICAgICAgIHJldHVybiAod2VpZ2h0ZWRTdW0gLyB0b3RhbCkudG9GaXhlZCgyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlSW50ZXJ2YWwoKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uaW50ZXJ2YWxzIHx8IHN0YXRpc3RpY3MuaW50ZXJ2YWxzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgdG90YWxJbnRlcnZhbCA9IDA7XG4gICAgICAgIGxldCB0b3RhbENhcmRzID0gMDtcblxuICAgICAgICBzdGF0aXN0aWNzLmludGVydmFscy5mb3JFYWNoKChpbnRlcnZhbCkgPT4ge1xuICAgICAgICAgICAgLy8gQ29udmVydCBpbnRlcnZhbCBzdHJpbmcgdG8gbWludXRlc1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWxTdHIgPSBpbnRlcnZhbC5pbnRlcnZhbDtcbiAgICAgICAgICAgIGxldCBtaW51dGVzID0gMDtcblxuICAgICAgICAgICAgaWYgKGludGVydmFsU3RyLmVuZHNXaXRoKFwiaFwiKSkge1xuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludChpbnRlcnZhbFN0cikgKiA2MDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWxTdHIuZW5kc1dpdGgoXCJkXCIpKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KGludGVydmFsU3RyKSAqIDE0NDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGludGVydmFsU3RyLmVuZHNXaXRoKFwibVwiKSkge1xuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludChpbnRlcnZhbFN0cikgKiA0MzIwMDsgLy8gbW9udGhzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvdGFsSW50ZXJ2YWwgKz0gbWludXRlcyAqIGludGVydmFsLmNvdW50O1xuICAgICAgICAgICAgdG90YWxDYXJkcyArPSBpbnRlcnZhbC5jb3VudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRvdGFsQ2FyZHMgPT09IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCBhdmdNaW51dGVzID0gdG90YWxJbnRlcnZhbCAvIHRvdGFsQ2FyZHM7XG5cbiAgICAgICAgLy8gQ29udmVydCBiYWNrIHRvIGRheXMgZm9yIGRpc3BsYXlcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYXZnTWludXRlcyAvIDE0NDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldER1ZVRvZGF5KCkge1xuICAgICAgICBpZiAoIXN0YXRpc3RpY3M/LmZvcmVjYXN0IHx8IHN0YXRpc3RpY3MuZm9yZWNhc3QubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICBjb25zdCB0b2RheUZvcmVjYXN0ID0gc3RhdGlzdGljcy5mb3JlY2FzdC5maW5kKFxuICAgICAgICAgICAgKGRheSkgPT4gZGF5LmRhdGUgPT09IHRvZGF5LFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdG9kYXlGb3JlY2FzdCA/IHRvZGF5Rm9yZWNhc3QuZHVlQ291bnQgOiAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldER1ZVRvbW9ycm93KCkge1xuICAgICAgICBpZiAoIXN0YXRpc3RpY3M/LmZvcmVjYXN0IHx8IHN0YXRpc3RpY3MuZm9yZWNhc3QubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93LmdldERhdGUoKSArIDEpO1xuICAgICAgICBjb25zdCB0b21vcnJvd1N0ciA9IHRvbW9ycm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICBjb25zdCB0b21vcnJvd0ZvcmVjYXN0ID0gc3RhdGlzdGljcy5mb3JlY2FzdC5maW5kKFxuICAgICAgICAgICAgKGRheSkgPT4gZGF5LmRhdGUgPT09IHRvbW9ycm93U3RyLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdG9tb3Jyb3dGb3JlY2FzdCA/IHRvbW9ycm93Rm9yZWNhc3QuZHVlQ291bnQgOiAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUJhckhlaWdodChkdWVDb3VudDogbnVtYmVyLCBtYXhEdWVDb3VudDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gNDAwOyAvLyBNYXhpbXVtIGhlaWdodCBpbiBwaXhlbHMgKGxlYXZpbmcgcm9vbSBpbiAxNTBweCBjb250YWluZXIpXG5cbiAgICAgICAgaWYgKG1heER1ZUNvdW50ID09PSAwKSByZXR1cm4gMDtcblxuICAgICAgICBjb25zdCBwcm9wb3J0aW9uID0gZHVlQ291bnQgLyBtYXhEdWVDb3VudDtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHByb3BvcnRpb24gKiBiYXJIZWlnaHQgLSA4MCwgMTApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE1hdHVyaXR5UmF0aW8oKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uY2FyZFN0YXRzKSByZXR1cm4gXCIwLjBcIjtcbiAgICAgICAgY29uc3QgeyBuZXc6IG5ld0NhcmRzLCBsZWFybmluZywgbWF0dXJlIH0gPSBzdGF0aXN0aWNzLmNhcmRTdGF0cztcbiAgICAgICAgY29uc3QgdG90YWwgPSBuZXdDYXJkcyArIGxlYXJuaW5nICsgbWF0dXJlO1xuICAgICAgICBpZiAodG90YWwgPT09IDApIHJldHVybiBcIjAuMFwiO1xuICAgICAgICByZXR1cm4gKChtYXR1cmUgLyB0b3RhbCkgKiAxMDApLnRvRml4ZWQoMSk7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJzdGF0aXN0aWNzLWNvbnRhaW5lclwiPlxuICAgIHsjaWYgbG9hZGluZ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdcIj5Mb2FkaW5nIHN0YXRpc3RpY3MuLi48L2Rpdj5cbiAgICB7OmVsc2UgaWYgIXN0YXRpc3RpY3N9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvclwiPlxuICAgICAgICAgICAgPHA+RmFpbGVkIHRvIGxvYWQgc3RhdGlzdGljczwvcD5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXRyeS1idXR0b25cIiBvbjpjbGljaz17bG9hZFN0YXRpc3RpY3N9PlxuICAgICAgICAgICAgICAgIFJldHJ5XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkZWNrLWZpbHRlclwiPlNob3cgZGF0YSBmb3I6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZGVjay1maWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtzZWxlY3RlZERlY2tGaWx0ZXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17aGFuZGxlRmlsdGVyQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSkgIWltcG9ydGFudDsgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKSAhaW1wb3J0YW50O1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cImFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSkgIWltcG9ydGFudDsgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKSAhaW1wb3J0YW50O1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+QWxsIERlY2tzPC9vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYXZhaWxhYmxlVGFncyBhcyB0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJ0YWc6e3RhZ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KSAhaW1wb3J0YW50OyBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpICFpbXBvcnRhbnQ7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+VGFnOiB7dGFnfTwvb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGF2YWlsYWJsZURlY2tzIGFzIGRlY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJkZWNrOntkZWNrLmlkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpICFpbXBvcnRhbnQ7IGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCkgIWltcG9ydGFudDtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID57ZGVjay5uYW1lfTwvb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0aW1lZnJhbWUtZmlsdGVyXCI+VGltZWZyYW1lOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBpZD1cInRpbWVmcmFtZS1maWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtzZWxlY3RlZFRpbWVmcmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlPXtoYW5kbGVGaWx0ZXJDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KSAhaW1wb3J0YW50OyBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpICFpbXBvcnRhbnQ7XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiMTJtb250aHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpICFpbXBvcnRhbnQ7IGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCkgIWltcG9ydGFudDtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPkxhc3QgMTIgTW9udGhzPC9vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cImFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSkgIWltcG9ydGFudDsgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKSAhaW1wb3J0YW50O1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+QWxsIEhpc3Rvcnk8L29wdGlvblxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBDdXJyZW50IFN0YXR1cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5DdXJyZW50IFN0YXR1czwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5sZWFybmluZyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5MZWFybmluZzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm1hdHVyZSB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5NYXR1cmU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e2dldER1ZVRvZGF5KCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+RHVlIFRvZGF5PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBQYWNlIFN0YXRpc3RpY3MgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDM+UmV2aWV3IFBhY2U8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uYXZlcmFnZVBhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdFBhY2Uoc3RhdGlzdGljcy5hdmVyYWdlUGFjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiTi9BXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkF2ZXJhZ2UgcGVyIENhcmQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8udG90YWxSZXZpZXdUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXRUaW1lKHN0YXRpc3RpY3MudG90YWxSZXZpZXdUaW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJOL0FcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+VG90YWwgUmV2aWV3IFRpbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFRvZGF5J3MgU3RhdGlzdGljcyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5Ub2RheSdzIFN0YXRpc3RpY3M8L2gzPlxuICAgICAgICAgICAgeyNpZiB0b2RheVN0YXRzfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3RvZGF5U3RhdHMucmV2aWV3c308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+Q2FyZHMgU3R1ZGllZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZSh0b2RheVN0YXRzLnRpbWVTcGVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+VGltZSBTcGVudDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxoND5CcmVha2Rvd24gYnkgQ2FyZCBUeXBlPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnt0b2RheVN0YXRzLm5ld0NhcmRzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3RvZGF5U3RhdHMubGVhcm5pbmdDYXJkc308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TGVhcm5pbmc8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3RvZGF5U3RhdHMucmV2aWV3Q2FyZHN9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlJldmlldzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm8tZGF0YS1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIHJldmlld3MgdG9kYXkgeWV0LjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJoZWxwLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IHJldmlld2luZyBmbGFzaGNhcmRzIHRvIHNlZSB5b3VyIGRhaWx5IHN0YXRpc3RpY3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcmUhXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gV2Vlay9Nb250aC9ZZWFyIFN0YXRpc3RpY3MgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDM+VGhpcyBXZWVrPC9oMz5cbiAgICAgICAgICAgIHsjaWYgd2Vla1N0YXRzICYmIHdlZWtTdGF0cy5yZXZpZXdzID4gMH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnt3ZWVrU3RhdHMucmV2aWV3c308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+Q2FyZHMgU3R1ZGllZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZSh3ZWVrU3RhdHMudGltZVNwZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5UaW1lIFNwZW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt3ZWVrU3RhdHMuY29ycmVjdFJhdGUudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+U3VjY2VzcyBSYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gcmV2aWV3cyB0aGlzIHdlZWsgeWV0LjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG5cbiAgICAgICAgICAgIDxoMz5UaGlzIE1vbnRoPC9oMz5cbiAgICAgICAgICAgIHsjaWYgbW9udGhTdGF0cyAmJiBtb250aFN0YXRzLnJldmlld3MgPiAwfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e21vbnRoU3RhdHMucmV2aWV3c308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+Q2FyZHMgU3R1ZGllZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZShtb250aFN0YXRzLnRpbWVTcGVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+VGltZSBTcGVudDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9udGhTdGF0cy5jb3JyZWN0UmF0ZS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5TdWNjZXNzIFJhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyByZXZpZXdzIHRoaXMgbW9udGggeWV0LjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG5cbiAgICAgICAgICAgIDxoMz5UaGlzIFllYXI8L2gzPlxuICAgICAgICAgICAgeyNpZiB5ZWFyU3RhdHMgJiYgeWVhclN0YXRzLnJldmlld3MgPiAwfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+e3llYXJTdGF0cy5yZXZpZXdzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5DYXJkcyBTdHVkaWVkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKHllYXJTdGF0cy50aW1lU3BlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlRpbWUgU3BlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3llYXJTdGF0cy5jb3JyZWN0UmF0ZS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5TdWNjZXNzIFJhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyByZXZpZXdzIHRoaXMgeWVhciB5ZXQuPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBEZWNrIFN0YXRpc3RpY3MgJiBNZXRyaWNzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPkRlY2sgU3RhdGlzdGljcyAmIE1ldHJpY3M8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpY3MtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KHN0YXRpc3RpY3M/LnJldGVudGlvblJhdGUgfHwgMCkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+UmV0ZW50aW9uIFJhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJSBvZiByZXZpZXdzIGFuc3dlcmVkIGNvcnJlY3RseSAoZXhjbHVkaW5nIFwiQWdhaW5cIilcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj57Y2FsY3VsYXRlQXZlcmFnZUVhc2UoKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkF2ZXJhZ2UgRWFzZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBNZWFuIG9mIGVhc2UgYnV0dG9uIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NhbGN1bGF0ZUF2ZXJhZ2VJbnRlcnZhbCgpfWRcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5BdmcgSW50ZXJ2YWw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTWVhbiBpbnRlcnZhbCBvZiBhbGwgcmV2aWV3IGNhcmRzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+e2dldER1ZVRvZGF5KCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5EdWUgVG9kYXk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGNhcmRzIGR1ZSB0b2RheVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPntnZXREdWVUb21vcnJvdygpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+RHVlIFRvbW9ycm93PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBjYXJkcyBkdWUgdG9tb3Jyb3dcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/LmxlYXJuaW5nIHx8IDB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+TGVhcm5pbmcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGNhcmRzIGluIHRoZSBsZWFybmluZyBxdWV1ZVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPntnZXRNYXR1cml0eVJhdGlvKCl9JTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+TWF0dXJpdHkgUmF0aW88L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0dXJlIGNhcmRzIMO3IHRvdGFsIGNhcmRzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KHN0YXRpc3RpY3M/LmNhcmRTdGF0cz8ubmV3IHx8IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcz8uY2FyZFN0YXRzPy5sZWFybmluZyB8fCAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3M/LmNhcmRTdGF0cz8ubWF0dXJlIHx8IDApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPlRvdGFsIENhcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbCBjYXJkcyBpbiBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxoND5DYXJkIFN0YXR1cyBCcmVha2Rvd248L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5uZXcgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TmV3IENhcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3M/LmNhcmRTdGF0cz8ubGVhcm5pbmcgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TGVhcm5pbmc8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TWF0dXJlPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBBbnN3ZXIgQnV0dG9uIFVzYWdlIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPkFuc3dlciBCdXR0b24gVXNhZ2U8L2gzPlxuICAgICAgICAgICAgeyNpZiBzdGF0aXN0aWNzPy5hbnN3ZXJCdXR0b25zICYmIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gPiAwIHx8IHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkID4gMCB8fCBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCA+IDAgfHwgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kgPiAwKX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGFnYWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+QWdhaW48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGhhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5IYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5hZ2FpbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5nb29kICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeSkpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1iYXIgZ29vZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2R9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tcGVyY2VudGFnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuaGFyZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2QgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5KSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWJhciBlYXN5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+RWFzeTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1jb3VudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1wZXJjZW50YWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyBhbnN3ZXIgYnV0dG9uIGRhdGEgYXZhaWxhYmxlIHlldC48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiaGVscC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZSBzb21lIHJldmlld3MgdG8gc2VlIGFuc3dlciBidXR0b24gc3RhdGlzdGljcy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBGb3JlY2FzdCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5SZXZpZXcgTG9hZCBGb3JlY2FzdDwvaDM+XG4gICAgICAgICAgICB7I2lmIHN0YXRpc3RpY3M/LmZvcmVjYXN0ICYmIHN0YXRpc3RpY3MuZm9yZWNhc3QubGVuZ3RoID4gMCAmJiBzdGF0aXN0aWNzLmZvcmVjYXN0LnNvbWUoKGRheSkgPT4gZGF5LmR1ZUNvdW50ID4gMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBmaWx0ZXJlZEZvcmVjYXN0ID0gc3RhdGlzdGljcy5mb3JlY2FzdFxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChkYXkpID0+IGRheS5kdWVDb3VudCA+IDApXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAyMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBtYXhEdWVDb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAuLi5maWx0ZXJlZEZvcmVjYXN0Lm1hcCgoZGF5KSA9PiBkYXkuZHVlQ291bnQpLFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LWNoYXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBmaWx0ZXJlZEZvcmVjYXN0IGFzIGRheSwgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IG9yaWdpbmFsSW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuZm9yZWNhc3QuaW5kZXhPZihkYXkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9yZWNhc3QtYmFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIntvcmlnaW5hbEluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1RvZGF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9yaWdpbmFsSW5kZXggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdUb21vcnJvdydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBEYXkgJHtvcmlnaW5hbEluZGV4fSAoaW4gJHtvcmlnaW5hbEluZGV4fSBkYXlzKWB9OiB7ZGF5LmR1ZUNvdW50fSBjYXJke2RheS5kdWVDb3VudCAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9IGR1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OiB7Y2FsY3VsYXRlQmFySGVpZ2h0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmR1ZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RHVlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW5hbEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYXItdmFsdWVcIj57ZGF5LmR1ZUNvdW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvcmVjYXN0LW5vdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgU2hvd2luZyBkYXlzIHdpdGggc2NoZWR1bGVkIHJldmlld3MgYmFzZWQgb24gRlNSUyBpbnRlcnZhbHMuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gdXBjb21pbmcgcmV2aWV3cyBzY2hlZHVsZWQuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIGZsYXNoY2FyZHMgdG8geW91ciBkZWNrcyB0byBzZWUgZnV0dXJlIHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWNhc3RzLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFJldmlldyBIZWF0bWFwIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlJldmlldyBIZWF0bWFwPC9oMz5cbiAgICAgICAgICAgIDxwPkRhaWx5IHJldmlldyBhY3Rpdml0eSBvdmVyIHRpbWU8L3A+XG4gICAgICAgICAgICA8UmV2aWV3SGVhdG1hcFxuICAgICAgICAgICAgICAgIGJpbmQ6dGhpcz17aGVhdG1hcENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICBnZXRSZXZpZXdDb3VudHM9e2FzeW5jIChkYXlzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwbHVnaW4uZ2V0UmV2aWV3Q291bnRzKGRheXMpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsb3NlLWJ1dHRvblwiIG9uOmNsaWNrPXsoKSA9PiBkaXNwYXRjaChcImNsb3NlXCIpfT5cbiAgICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG4gICAgPGRpdiBjbGFzcz1cImJ1eW1lYWNvZmZlZS1iYWRnZVwiPlxuICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly93d3cuYnV5bWVhY29mZmVlLmNvbS9kc2NoZXJkaWwwXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgc3JjPVwiaHR0cHM6Ly9jZG4uYnV5bWVhY29mZmVlLmNvbS9idXR0b25zL3YyL2RlZmF1bHQteWVsbG93LnBuZ1wiXG4gICAgICAgICAgICAgICAgYWx0PVwiQnV5IE1lIEEgQ29mZmVlXCJcbiAgICAgICAgICAgICAgICBoZWlnaHQ9XCI0MFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2E+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5zdGF0aXN0aWNzLWNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWludGVyZmFjZSk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgfVxuXG4gICAgLmxvYWRpbmcsXG4gICAgLmVycm9yIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiA0MHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmZpbHRlcnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDI0cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgfVxuXG4gICAgLmZpbHRlci1ncm91cCBsYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5maWx0ZXItZ3JvdXAgc2VsZWN0IHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgbWluLXdpZHRoOiAxODBweDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAvKiBGb3JjZSB2aXNpYmlsaXR5ICovXG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgIH1cblxuICAgIC5maWx0ZXItZ3JvdXAgc2VsZWN0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5maWx0ZXItZ3JvdXAgc2VsZWN0IG9wdGlvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAvKiBGb3JjZSB2aXNpYmlsaXR5IGluIGRyb3Bkb3duICovXG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgfVxuXG4gICAgLnN0YXRzLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMnB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjRweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAuc3RhdHMtc2VjdGlvbjpsYXN0LW9mLXR5cGUge1xuICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgIH1cblxuICAgIC5zdGF0cy1zZWN0aW9uIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgMjBweCAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLnN0YXRzLXNlY3Rpb24gaDQge1xuICAgICAgICBtYXJnaW46IDI0cHggMCAxMnB4IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAuc3RhdHMtZ3JpZCB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgfVxuXG4gICAgLnN0YXQtY2FyZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgbWluLWhlaWdodDogODBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnN0YXQtdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICB9XG5cbiAgICAuc3RhdC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gICAgfVxuXG4gICAgLm1ldHJpY3MtZ3JpZCB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgfVxuXG4gICAgLm1ldHJpYy1jYXJkIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgbWluLWhlaWdodDogMTAwcHg7XG4gICAgfVxuXG4gICAgLm1ldHJpYy12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjhweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICB9XG5cbiAgICAubWV0cmljLWRlc2NyaXB0aW9uIHtcbiAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjM7XG4gICAgfVxuXG4gICAgLmZvcmVjYXN0LWNoYXJ0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGhlaWdodDogNDAwcHg7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1iYXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDZweDtcbiAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG5cbiAgICAuYmFyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGV4dC1hY2NlbnQpO1xuICAgICAgICB3aWR0aDogMjRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycztcbiAgICB9XG5cbiAgICAuYmFyLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLmJhci12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAuZm9yZWNhc3Qtbm90ZSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuYnV0dG9uLXN0YXRzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1iYXIuYWdhaW4ge1xuICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNlZjQ0NDQ7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1iYXIuaGFyZCB7XG4gICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2Y5NzMxNjtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWJhci5nb29kIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMjJjNTVlO1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyLmVhc3kge1xuICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICMzYjgyZjY7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1sYWJlbCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1jb3VudCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICB9XG5cbiAgICAuYnV0dG9uLXBlcmNlbnRhZ2Uge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuaW50ZXJ2YWxzLWNoYXJ0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICB9XG5cbiAgICAuaW50ZXJ2YWwtYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTJweCA4cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgbWluLXdpZHRoOiA2MHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLmludGVydmFsLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICB9XG5cbiAgICAuaW50ZXJ2YWwtdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjRweDtcbiAgICAgICAgcGFkZGluZzogMTZweCAyMHB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtMjBweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAtMjBweDtcbiAgICB9XG5cbiAgICAuY2xvc2UtYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLmNsb3NlLWJ1dHRvbjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuXG4gICAgLmZvcmVjYXN0LWJhciB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1iYXI6aG92ZXIgLmJhciB7XG4gICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2U7XG4gICAgfVxuXG4gICAgLm5vLWRhdGEtbWVzc2FnZSB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAubm8tZGF0YS1tZXNzYWdlIHAge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5oZWxwLXRleHQge1xuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5yZXRyeS1idXR0b24ge1xuICAgICAgICBtYXJnaW4tdG9wOiAxMnB4O1xuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgIC5yZXRyeS1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cbiAgICAuYnV5bWVhY29mZmVlLWJhZGdlIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBNb2RhbCwgQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgRGVjaywgRmxhc2hjYXJkIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IERpZmZpY3VsdHkgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnNcIjtcbmltcG9ydCB0eXBlIERlY2tzUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5pbXBvcnQgRmxhc2hjYXJkUmV2aWV3TW9kYWwgZnJvbSBcIi4vRmxhc2hjYXJkUmV2aWV3TW9kYWwuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjbGFzcyBGbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXIgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBkZWNrOiBEZWNrO1xuICBwcml2YXRlIGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdO1xuICBwcml2YXRlIGNvbXBvbmVudDogRmxhc2hjYXJkUmV2aWV3TW9kYWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZG93bkNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBhbnksXG4gICAgcGx1Z2luOiBEZWNrc1BsdWdpbixcbiAgICBkZWNrOiBEZWNrLFxuICAgIGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdLFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMuZGVjayA9IGRlY2s7XG4gICAgdGhpcy5mbGFzaGNhcmRzID0gZmxhc2hjYXJkcztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbFwiKTtcblxuICAgIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIFN2ZWx0ZSBjb21wb25lbnRcbiAgICBjb25zdCBjb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBGbGFzaGNhcmRSZXZpZXdNb2RhbCh7XG4gICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGZsYXNoY2FyZHM6IHRoaXMuZmxhc2hjYXJkcyxcbiAgICAgICAgZGVjazogdGhpcy5kZWNrLFxuICAgICAgICBjdXJyZW50SW5kZXg6IDAsXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHRoaXMuY2xvc2UoKSxcbiAgICAgICAgb25SZXZpZXc6IGFzeW5jIChcbiAgICAgICAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgICAgICAgZGlmZmljdWx0eTogRGlmZmljdWx0eSxcbiAgICAgICAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4ucmV2aWV3Rmxhc2hjYXJkKGNhcmQsIGRpZmZpY3VsdHksIHRpbWVFbGFwc2VkKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyTWFya2Rvd246IChjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMucGx1Z2luLnJlbmRlck1hcmtkb3duKGNvbnRlbnQsIGVsKTtcbiAgICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtkb3duQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczogdGhpcy5wbHVnaW4uc2V0dGluZ3MsXG4gICAgICAgIG9uQ2FyZFJldmlld2VkOiBhc3luYyAocmV2aWV3ZWRDYXJkOiBGbGFzaGNhcmQpID0+IHtcbiAgICAgICAgICAvLyBSZWZyZXNoIHN0YXRzIGZvciB0aGUgc3BlY2lmaWMgZGVjayBiZWluZyByZXZpZXdlZCAobW9yZSBlZmZpY2llbnQpXG4gICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnZpZXcgJiYgcmV2aWV3ZWRDYXJkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hTdGF0c0J5SWQocmV2aWV3ZWRDYXJkLmRlY2tJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNvbXBsZXRlXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgeyByZWFzb24sIHJldmlld2VkIH0gPSBldmVudC5kZXRhaWw7XG4gICAgICBsZXQgbWVzc2FnZSA9IGBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZSBmb3IgJHt0aGlzLmRlY2submFtZX0hYDtcblxuICAgICAgaWYgKHJlYXNvbiA9PT0gXCJuby1tb3JlLWNhcmRzXCIpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBBbGwgYXZhaWxhYmxlIGNhcmRzIHJldmlld2VkISBDb21wbGV0ZWQgJHtyZXZpZXdlZH0gY2FyZHMgZnJvbSAke3RoaXMuZGVjay5uYW1lfS5gO1xuICAgICAgfVxuXG4gICAgICBuZXcgTm90aWNlKG1lc3NhZ2UpO1xuXG4gICAgICAvLyBSZWZyZXNoIHRoZSB2aWV3IHRvIHVwZGF0ZSBzdGF0c1xuICAgICAgaWYgKHRoaXMucGx1Z2luLnZpZXcpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCBtYXJrZG93biBjb21wb25lbnRzXG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4gY29tcC51bmxvYWQoKSk7XG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMgPSBbXTtcblxuICAgIC8vIFJlZnJlc2ggdmlldyB3aGVuIGNsb3NpbmdcbiAgICBpZiAodGhpcy5wbHVnaW4udmlldykge1xuICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG59XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBvbk1vdW50LCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIHRpY2sgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBGbGFzaGNhcmQsIERlY2sgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbiAgICBpbXBvcnQge1xuICAgICAgICBGU1JTLFxuICAgICAgICB0eXBlIFNjaGVkdWxpbmdJbmZvLFxuICAgICAgICB0eXBlIERpZmZpY3VsdHksXG4gICAgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnNcIjtcblxuICAgIGV4cG9ydCBsZXQgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcbiAgICBleHBvcnQgbGV0IGRlY2s6IERlY2s7XG4gICAgZXhwb3J0IGxldCBjdXJyZW50SW5kZXg6IG51bWJlciA9IDA7XG4gICAgZXhwb3J0IGxldCBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIGV4cG9ydCBsZXQgb25SZXZpZXc6IChcbiAgICAgICAgY2FyZDogRmxhc2hjYXJkLFxuICAgICAgICBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5LFxuICAgICAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgICApID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCByZW5kZXJNYXJrZG93bjogKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAgIGV4cG9ydCBsZXQgc2V0dGluZ3M6IGFueTtcbiAgICBleHBvcnQgbGV0IG9uQ2FyZFJldmlld2VkOlxuICAgICAgICB8ICgoY2FyZDogRmxhc2hjYXJkKSA9PiBQcm9taXNlPHZvaWQ+KVxuICAgICAgICB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG4gICAgY29uc3QgZnNycyA9IG5ldyBGU1JTKCk7XG5cbiAgICBsZXQgc2hvd0Fuc3dlciA9IGZhbHNlO1xuICAgIGxldCBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBsZXQgZnJvbnRFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGJhY2tFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHNjaGVkdWxpbmdJbmZvOiBTY2hlZHVsaW5nSW5mbyB8IG51bGwgPSBudWxsO1xuICAgIGxldCByZXZpZXdlZENvdW50ID0gMDtcbiAgICBsZXQgY2FyZFN0YXJ0VGltZTogbnVtYmVyID0gMDtcblxuICAgICQ6IGN1cnJlbnRDYXJkID0gZmxhc2hjYXJkc1tjdXJyZW50SW5kZXhdIHx8IG51bGw7XG4gICAgJDogcHJvZ3Jlc3MgPVxuICAgICAgICBmbGFzaGNhcmRzLmxlbmd0aCA+IDAgPyAoY3VycmVudEluZGV4IC8gZmxhc2hjYXJkcy5sZW5ndGgpICogMTAwIDogMDtcbiAgICAkOiByZW1haW5pbmdDYXJkcyA9IGZsYXNoY2FyZHMubGVuZ3RoIC0gY3VycmVudEluZGV4O1xuXG4gICAgZnVuY3Rpb24gbG9hZENhcmQoKSB7XG4gICAgICAgIGlmICghY3VycmVudENhcmQpIHJldHVybjtcblxuICAgICAgICBzaG93QW5zd2VyID0gZmFsc2U7XG4gICAgICAgIHNjaGVkdWxpbmdJbmZvID0gZnNycy5nZXRTY2hlZHVsaW5nSW5mbyhjdXJyZW50Q2FyZCk7XG4gICAgICAgIGNhcmRTdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBUcmFjayB3aGVuIGNhcmQgaXMgZGlzcGxheWVkXG5cbiAgICAgICAgLy8gUmVuZGVyIGZyb250IHNpZGVcbiAgICAgICAgaWYgKGZyb250RWwpIHtcbiAgICAgICAgICAgIGZyb250RWwuZW1wdHkoKTtcbiAgICAgICAgICAgIHJlbmRlck1hcmtkb3duKGN1cnJlbnRDYXJkLmZyb250LCBmcm9udEVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZS1yZW5kZXIgYmFjayBzaWRlIGJ1dCBrZWVwIGl0IGhpZGRlblxuICAgICAgICAvLyBVc2UgdGljaygpIHRvIGVuc3VyZSBET00gaXMgdXBkYXRlZCBiZWZvcmUgcmVuZGVyaW5nXG4gICAgICAgIHRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChiYWNrRWwpIHtcbiAgICAgICAgICAgICAgICBiYWNrRWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICByZW5kZXJNYXJrZG93bihjdXJyZW50Q2FyZC5iYWNrLCBiYWNrRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZlYWxBbnN3ZXIoKSB7XG4gICAgICAgIHNob3dBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAvLyBFbnN1cmUgYmFjayBlbGVtZW50IGlzIHJlbmRlcmVkIGFmdGVyIHNob3dBbnN3ZXIgYmVjb21lcyB0cnVlXG4gICAgICAgIHRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChiYWNrRWwgJiYgY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgICAgICBiYWNrRWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICByZW5kZXJNYXJrZG93bihjdXJyZW50Q2FyZC5iYWNrLCBiYWNrRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEaWZmaWN1bHR5KGRpZmZpY3VsdHk6IERpZmZpY3VsdHkpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50Q2FyZCB8fCBpc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gY2FyZFN0YXJ0VGltZTtcbiAgICAgICAgICAgIGF3YWl0IG9uUmV2aWV3KGN1cnJlbnRDYXJkLCBkaWZmaWN1bHR5LCB0aW1lRWxhcHNlZCk7XG4gICAgICAgICAgICByZXZpZXdlZENvdW50Kys7XG5cbiAgICAgICAgICAgIC8vIFRyaWdnZXIgc3RhdHMgcmVmcmVzaCBhZnRlciBlYWNoIGNhcmQgcmV2aWV3XG4gICAgICAgICAgICBpZiAob25DYXJkUmV2aWV3ZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBvbkNhcmRSZXZpZXdlZChjdXJyZW50Q2FyZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjYXJkIG9yIGNvbXBsZXRlIHNlc3Npb25cbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBmbGFzaGNhcmRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICBsb2FkQ2FyZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFwiY29tcGxldGVcIiwge1xuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibm8tbW9yZS1jYXJkc1wiLFxuICAgICAgICAgICAgICAgICAgICByZXZpZXdlZDogcmV2aWV3ZWRDb3VudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV2aWV3aW5nIGNhcmQ6XCIsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SW50ZXJ2YWxEaXNwbGF5KG1pbnV0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBGU1JTLmdldEludGVydmFsRGlzcGxheShtaW51dGVzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICBpZiAoIXNob3dBbnN3ZXIgJiYgZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldmVhbEFuc3dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3dBbnN3ZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGlmZmljdWx0eShcImFnYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEaWZmaWN1bHR5KFwiaGFyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEaWZmaWN1bHR5KFwiZ29vZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGlmZmljdWx0eShcImVhc3lcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIGxvYWRDYXJkKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlkb3duKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleWRvd24pO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgJDogaWYgKGN1cnJlbnRDYXJkKSB7XG4gICAgICAgIGxvYWRDYXJkKCk7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJyZXZpZXctbW9kYWxcIj5cbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgIDxoMz5SZXZpZXcgU2Vzc2lvbiAtIHtkZWNrLm5hbWV9PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWluZm9cIj5cbiAgICAgICAgICAgIDxzcGFuPntjdXJyZW50SW5kZXggKyAxfSAvIHtmbGFzaGNhcmRzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlbWFpbmluZ1wiPih7cmVtYWluaW5nQ2FyZHN9IHJlbWFpbmluZyk8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiBzZXR0aW5ncz8ucmV2aWV3Py5zaG93UHJvZ3Jlc3MgIT09IGZhbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwicmV2aWV3LXByb2dyZXNzLWJhclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiB7cHJvZ3Jlc3N9JVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiBjdXJyZW50Q2FyZH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1zaWRlIGZyb250XCIgYmluZDp0aGlzPXtmcm9udEVsfT48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5zd2VyLXNlY3Rpb25cIiBjbGFzczpoaWRkZW49eyFzaG93QW5zd2VyfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VwYXJhdG9yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtc2lkZSBiYWNrXCIgYmluZDp0aGlzPXtiYWNrRWx9PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tYnV0dG9uc1wiPlxuICAgICAgICAgICAgeyNpZiAhc2hvd0Fuc3dlcn1cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvdy1hbnN3ZXItYnV0dG9uXCIgb246Y2xpY2s9e3JldmVhbEFuc3dlcn0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlNob3cgQW5zd2VyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNob3J0Y3V0XCI+U3BhY2U8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7L2lmfVxuXG4gICAgICAgICAgICB7I2lmIHNob3dBbnN3ZXIgJiYgc2NoZWR1bGluZ0luZm99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpZmZpY3VsdHktYnV0dG9uc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRpZmZpY3VsdHktYnV0dG9uIGFnYWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVEaWZmaWN1bHR5KFwiYWdhaW5cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+QWdhaW48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcnZhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnRlcnZhbERpc3BsYXkoc2NoZWR1bGluZ0luZm8uYWdhaW4uaW50ZXJ2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXRcIj4xPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGlmZmljdWx0eS1idXR0b24gaGFyZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlRGlmZmljdWx0eShcImhhcmRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+SGFyZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludGVydmFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEludGVydmFsRGlzcGxheShzY2hlZHVsaW5nSW5mby5oYXJkLmludGVydmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3J0Y3V0XCI+MjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRpZmZpY3VsdHktYnV0dG9uIGdvb2RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IGhhbmRsZURpZmZpY3VsdHkoXCJnb29kXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcnZhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnRlcnZhbERpc3BsYXkoc2NoZWR1bGluZ0luZm8uZ29vZC5pbnRlcnZhbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9ydGN1dFwiPjM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkaWZmaWN1bHR5LWJ1dHRvbiBlYXN5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVEaWZmaWN1bHR5KFwiZWFzeVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5FYXN5PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJ2YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW50ZXJ2YWxEaXNwbGF5KHNjaGVkdWxpbmdJbmZvLmVhc3kuaW50ZXJ2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXRcIj40PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgIDxwPk5vIGNhcmRzIHRvIHJldmlldzwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLnJldmlldy1tb2RhbCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLm1vZGFsLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgcGFkZGluZzogMTZweCAyMHB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1oZWFkZXIgaDMge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAucHJvZ3Jlc3MtaW5mbyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuXG4gICAgLnJlbWFpbmluZyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAucmV2aWV3LXByb2dyZXNzLWJhciB7XG4gICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAucHJvZ3Jlc3MtZmlsbCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xuICAgIH1cblxuICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgIHBhZGRpbmc6IDMycHggMTZweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICBnYXA6IDI0cHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBtaW4taGVpZ2h0OiAwO1xuICAgIH1cblxuICAgIC5xdWVzdGlvbi1zZWN0aW9uLFxuICAgIC5hbnN3ZXItc2VjdGlvbiB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuY2FyZC1zaWRlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgbWluLWhlaWdodDogMTAwcHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgfVxuXG4gICAgLmNhcmQtc2lkZS5mcm9udCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5jYXJkLXNpZGUuYmFjayB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICB9XG5cbiAgICAuYW5zd2VyLXNlY3Rpb24ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmFuc3dlci1zZWN0aW9uLmhpZGRlbiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgLnNlcGFyYXRvciB7XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1hcmdpbjogMTZweCBhdXRvO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICB9XG5cbiAgICAuYWN0aW9uLWJ1dHRvbnMge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuXG4gICAgLnNob3ctYW5zd2VyLWJ1dHRvbiB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgcGFkZGluZzogMTJweCAyNHB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAuc2hvdy1hbnN3ZXItYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICB9XG5cbiAgICAuc2hvcnRjdXQge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgcGFkZGluZzogMnB4IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDZweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbjpob3ZlciB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uOmRpc2FibGVkIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmFnYWluIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjZTc0YzNjO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbi5hZ2Fpbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNlNzRjM2M7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uaGFyZCB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogI2YzOWMxMjtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uaGFyZDpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmMzljMTI7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZ29vZCB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogIzI3YWU2MDtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZ29vZDpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMyN2FlNjA7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZWFzeSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogIzM0OThkYjtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZWFzeTpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMzNDk4ZGI7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWxhYmVsIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgIH1cblxuICAgIC5pbnRlcnZhbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbjpob3ZlciAuaW50ZXJ2YWwge1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24gLnNob3J0Y3V0IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDJweDtcbiAgICAgICAgcmlnaHQ6IDJweDtcbiAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIHBhZGRpbmc6IDFweCAzcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgfVxuXG4gICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDMycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAvKiBNYXJrZG93biBjb250ZW50IHN0eWxpbmcgKi9cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDEpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoMiksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGgzKSxcbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDQpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoNSksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGg2KSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIHApIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgcDpsYXN0LWNoaWxkKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlID4gKjpmaXJzdC1jaGlsZCkge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSB1bCksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIG9sKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgY29kZSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2RlLWJhY2tncm91bmQpO1xuICAgICAgICBwYWRkaW5nOiAycHggNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIHByZSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2RlLWJhY2tncm91bmQpO1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgYmxvY2txdW90ZSkge1xuICAgICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWJsb2NrcXVvdGUtYm9yZGVyKTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLyogUmVzcG9uc2l2ZSBhZGp1c3RtZW50cyAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1MDBweCkge1xuICAgICAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmludGVydmFsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kaWZmaWN1bHR5LWJ1dHRvbiAuc2hvcnRjdXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxcHggMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4IDhweDtcbiAgICAgICAgfVxuICAgIH1cbjwvc3R5bGU+XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLGtEQUFBQSxTQUFBO0FBYUEsUUFBSSxtQkFBbUI7QUFFdkIsUUFBSUMsYUFBWSxTQUFVLGNBQWM7QUFFcEMsVUFBSSxrQkFBaUI7QUFDbkIsZUFBTztBQUFBLE1BQ1Q7QUFFQSx5QkFBbUIsSUFBSSxRQUFRLFNBQVUsZUFBZSxRQUFRO0FBWTVELFlBQUksU0FBUyxPQUFPLGlCQUFpQixjQUFjLGVBQWUsQ0FBQztBQUluRSxZQUFJLDBCQUEwQixPQUFPLFNBQVM7QUFDOUMsZUFBTyxTQUFTLElBQUksU0FBVSxzQkFBc0I7QUFDaEQsaUJBQU8sSUFBSSxNQUFNLG9CQUFvQixDQUFDO0FBQ3RDLGNBQUkseUJBQXdCO0FBQzFCLG9DQUF3QixvQkFBb0I7QUFBQSxVQUM5QztBQUFBLFFBQ0o7QUFFQSxlQUFPLFNBQVMsSUFBSSxPQUFPLFNBQVMsS0FBSyxDQUFDO0FBQzFDLGVBQU8sU0FBUyxFQUFFLEtBQUssV0FBWTtBQUUvQix3QkFBYyxNQUFNO0FBQUEsUUFDeEIsQ0FBQztBQWtCRCxR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QUFDLEdBQUUsSUFBRSxFQUFDLElBQUcsTUFBSyxLQUFJO0FBQUMsaUJBQU8sRUFBRSxXQUFXLE1BQUssS0FBSSxPQUFNLENBQUM7QUFBQSxRQUFDLEdBQUUsV0FBVyxHQUFFLEdBQUUsR0FBRSxHQUFFO0FBQUMsY0FBRyxXQUFTLElBQUUsVUFBUSxVQUFRLElBQUU7QUFBTyxrQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUNwZ0IsWUFBRSxPQUFLLEVBQUUsS0FBRyxFQUFDLEtBQUksRUFBQyxNQUFLLEVBQUMsSUFBRyxFQUFFLEdBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRyxJQUFHLFFBQU8sRUFBRSxHQUFHLFFBQU8sSUFBRyxFQUFFLEdBQUcsSUFBRyxRQUFPLEVBQUUsR0FBRyxRQUFPLFFBQU8sRUFBRSxHQUFHLFFBQU8sT0FBTSxFQUFFLEdBQUcsT0FBTSxTQUFRLEVBQUUsR0FBRyxTQUFRLFNBQVEsRUFBRSxHQUFHLFFBQU8sR0FBRSxRQUFPLEVBQUMsSUFBRyxFQUFFLEdBQUcsR0FBRSxFQUFDLEdBQUUsTUFBSyxFQUFDLE1BQUssRUFBQyxJQUFHLEVBQUUsR0FBRyxJQUFHLElBQUcsRUFBRSxHQUFHLEdBQUUsR0FBRSxRQUFPLEVBQUMsSUFBRyxFQUFFLEdBQUcsSUFBRyxNQUFLLEVBQUUsR0FBRyxNQUFLLE9BQU0sRUFBRSxHQUFHLE9BQU0sSUFBRyxFQUFFLEdBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRyxHQUFFLEVBQUMsR0FBRSxNQUFLLEVBQUMsTUFBSyxFQUFDLElBQUcsRUFBRSxHQUFHLElBQUcsSUFBRyxFQUFFLEdBQUcsSUFBRyxVQUFTLEVBQUUsR0FBRyxTQUFRLEdBQUUsUUFBTyxDQUFDLEVBQUMsR0FBRSxJQUFHLEVBQUMsTUFBSyxFQUFDLElBQUcsRUFBRSxHQUFHLElBQUcsSUFBRyxFQUFFLEdBQUcsR0FBRSxHQUFFLFFBQU8sR0FBRSxFQUFDO0FBQUcsY0FBRSxHQUFHLEdBQUUsR0FBRSxHQUFFLENBQUM7QUFBRSxZQUFFLEVBQUUsSUFBSSxLQUFHLEVBQUUsS0FBRyxFQUFFLEdB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RyxLQUFHLEVBQUUsUUFBTztBQUFDLGdCQUFHLENBQUM7QUFBRSxvQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUFFLG1CQUFPO0FBQUEsVUFBQztBQUFDLGlCQUFPLElBQUUsTUFBSTtBQUFBLFFBQUM7QUFDdkksaUJBQVMsR0FBRyxHQUFFLEdBQUU7QUFBQyxZQUFFLEtBQUcsQ0FBQyxJQUFFLEVBQUU7QUFBSSxZQUFFLElBQUUsS0FBRyxDQUFDLElBQUUsRUFBRTtBQUFLLFlBQUUsSUFBRSxLQUFHLENBQUMsSUFBRSxFQUFFO0FBQU0sWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFLEVBQUU7QUFBSSxZQUFFLElBQUUsTUFBSSxDQUFDLElBQUUsRUFBRTtBQUFJLFlBQUUsSUFBRSxNQUFJLENBQUMsSUFBRSxFQUFFO0FBQUssWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFLE9BQU8sRUFBRSxJQUFJO0FBQUUsWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFO0FBQUssWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFLEVBQUU7QUFBTyxjQUFJLElBQUUsRUFBRSxNQUFNLFFBQVEsR0FBRSxJQUFFLEVBQUUsTUFBTSxRQUFRLEdBQUUsSUFBRSxFQUFFLE1BQU0sUUFBUTtBQUFFLFlBQUUsSUFBRSxNQUFJLENBQUMsSUFBRSxPQUFPLEtBQUssTUFBTSxJQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUUsSUFBRSxNQUFJLENBQUMsSUFBRSxJQUFFLE1BQUk7QUFBSSxZQUFFLElBQUUsTUFBSSxDQUFDLElBQUUsT0FBTyxLQUFLLE1BQU0sSUFBRSxHQUFHLENBQUM7QUFBRSxZQUFFLElBQUUsTUFBSSxDQUFDLElBQUUsSUFBRSxNQUFJO0FBQUksWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFLE9BQU8sS0FBSyxNQUFNLElBQUUsR0FBRyxDQUFDO0FBQUUsWUFBRSxJQUFFLE1BQUksQ0FBQyxJQUFFLElBQUUsTUFBSTtBQUFJLFlBQUUsSUFBRSxNQUFJLENBQUMsSUFBRSxPQUFPLEVBQUUsR0FBRztBQUFFLGlCQUFPO0FBQUEsUUFBQztB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QSxJQUNoRTtBQUFBLEVBQ0Y7QUFDRjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgImluaXRTcWxKcyIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW5pdFNxbEpzIiwgImZpbGUiLCAiZmlsZSIsICJpbml0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0ZXh0IiwgImVsZW1lbnQiLCAiZmlsZSIsICJlbGVtZW50IiwgIl9hIiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJkZXRhY2giLCAiaW5zdGFuY2UiLCAiY3JlYXRlX2ZyYWdtZW50IiwgImF0dHIiLCAidGV4dCIsICJjdHgiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJjdHgiLCAiY3JlYXRlX2lmX2Jsb2NrIiwgImNyZWF0ZV9pZl9ibG9ja18xIiwgImltcG9ydF9vYnNpZGlhbiIsICJjdHgiLCAiY3JlYXRlX2lmX2Jsb2NrXzUiLCAiY3JlYXRlX2lmX2Jsb2NrXzQiLCAiX2EiLCAiY3JlYXRlX2lmX2Jsb2NrXzMiLCAiZnVuYyIsICJfYiIsICJfZCIsICJfYyIsICJfZiIsICJfZSIsICJfZyIsICJfaCIsICJfaSIsICJfayIsICJfaiIsICJfbSIsICJfbCIsICJfbyIsICJfbiIsICJfcSIsICJfcCIsICJfcyIsICJfciIsICJfdSIsICJfdCIsICJfdyIsICJfdiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3R4IiwgImNyZWF0ZV9pZl9ibG9ja18yIiwgImNyZWF0ZV9pZl9ibG9ja18xIiwgImNyZWF0ZV9pZl9ibG9ja18zIiwgImNyZWF0ZV9pZl9ibG9jayIsICJfYiIsICJfYSIsICJlbXB0eSIsICJmaWxlIl0KfQo=
