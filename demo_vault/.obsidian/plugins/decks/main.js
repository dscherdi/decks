/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/sql.js/dist/sql-wasm.js
var require_sql_wasm = __commonJS({
  "node_modules/sql.js/dist/sql-wasm.js"(exports, module2) {
    var initSqlJsPromise = void 0;
    var initSqlJs2 = function(moduleConfig) {
      if (initSqlJsPromise) {
        return initSqlJsPromise;
      }
      initSqlJsPromise = new Promise(function(resolveModule, reject) {
        var Module = typeof moduleConfig !== "undefined" ? moduleConfig : {};
        var originalOnAbortFunction = Module["onAbort"];
        Module["onAbort"] = function(errorThatCausedAbort) {
          reject(new Error(errorThatCausedAbort));
          if (originalOnAbortFunction) {
            originalOnAbortFunction(errorThatCausedAbort);
          }
        };
        Module["postRun"] = Module["postRun"] || [];
        Module["postRun"].push(function() {
          resolveModule(Module);
        });
        module2 = void 0;
        var f;
        f || (f = typeof Module != "undefined" ? Module : {});
        var aa = "object" == typeof window, ba = "undefined" != typeof WorkerGlobalScope, ca = "object" == typeof process && "object" == typeof process.versions && "string" == typeof process.versions.node && "renderer" != process.type;
        "use strict";
        f.onRuntimeInitialized = function() {
          function a(g, l) {
            switch (typeof l) {
              case "boolean":
                dc(g, l ? 1 : 0);
                break;
              case "number":
                ec(g, l);
                break;
              case "string":
                fc(g, l, -1, -1);
                break;
              case "object":
                if (null === l)
                  lb(g);
                else if (null != l.length) {
                  var n = da(l, ea);
                  gc(g, n, l.length, -1);
                  fa(n);
                } else
                  va(g, "Wrong API use : tried to return a value of an unknown type (" + l + ").", -1);
                break;
              default:
                lb(g);
            }
          }
          function b(g, l) {
            for (var n = [], r = 0; r < g; r += 1) {
              var t = m(l + 4 * r, "i32"), y = hc(t);
              if (1 === y || 2 === y)
                t = ic(t);
              else if (3 === y)
                t = jc(t);
              else if (4 === y) {
                y = t;
                t = kc(y);
                y = lc(y);
                for (var L = new Uint8Array(t), J = 0; J < t; J += 1)
                  L[J] = p[y + J];
                t = L;
              } else
                t = null;
              n.push(t);
            }
            return n;
          }
          function c(g, l) {
            this.Qa = g;
            this.db = l;
            this.Oa = 1;
            this.lb = [];
          }
          function d(g, l) {
            this.db = l;
            l = ha(g) + 1;
            this.eb = ia(l);
            if (null === this.eb)
              throw Error("Unable to allocate memory for the SQL string");
            u(g, x, this.eb, l);
            this.kb = this.eb;
            this.Za = this.pb = null;
          }
          function e(g) {
            this.filename = "dbfile_" + (4294967295 * Math.random() >>> 0);
            if (null != g) {
              var l = this.filename, n = "/", r = l;
              n && (n = "string" == typeof n ? n : ja(n), r = l ? ka(n + "/" + l) : n);
              l = la(true, true);
              r = ma(r, l);
              if (g) {
                if ("string" == typeof g) {
                  n = Array(g.length);
                  for (var t = 0, y = g.length; t < y; ++t)
                    n[t] = g.charCodeAt(t);
                  g = n;
                }
                na(r, l | 146);
                n = oa(r, 577);
                pa(n, g, 0, g.length, 0);
                qa(n);
                na(r, l);
              }
            }
            this.handleError(q(this.filename, h));
            this.db = m(h, "i32");
            ob(this.db);
            this.fb = {};
            this.Sa = {};
          }
          var h = z(4), k = f.cwrap, q = k("sqlite3_open", "number", ["string", "number"]), w = k("sqlite3_close_v2", "number", ["number"]), v = k("sqlite3_exec", "number", ["number", "string", "number", "number", "number"]), C = k("sqlite3_changes", "number", ["number"]), G = k("sqlite3_prepare_v2", "number", ["number", "string", "number", "number", "number"]), pb = k("sqlite3_sql", "string", ["number"]), nc = k("sqlite3_normalized_sql", "string", ["number"]), qb = k("sqlite3_prepare_v2", "number", ["number", "number", "number", "number", "number"]), oc = k("sqlite3_bind_text", "number", ["number", "number", "number", "number", "number"]), rb = k("sqlite3_bind_blob", "number", ["number", "number", "number", "number", "number"]), pc = k("sqlite3_bind_double", "number", ["number", "number", "number"]), qc = k(
            "sqlite3_bind_int",
            "number",
            ["number", "number", "number"]
          ), rc = k("sqlite3_bind_parameter_index", "number", ["number", "string"]), sc = k("sqlite3_step", "number", ["number"]), tc = k("sqlite3_errmsg", "string", ["number"]), uc = k("sqlite3_column_count", "number", ["number"]), vc = k("sqlite3_data_count", "number", ["number"]), wc = k("sqlite3_column_double", "number", ["number", "number"]), sb = k("sqlite3_column_text", "string", ["number", "number"]), xc = k("sqlite3_column_blob", "number", ["number", "number"]), yc = k("sqlite3_column_bytes", "number", [
            "number",
            "number"
          ]), zc = k("sqlite3_column_type", "number", ["number", "number"]), Ac = k("sqlite3_column_name", "string", ["number", "number"]), Bc = k("sqlite3_reset", "number", ["number"]), Cc = k("sqlite3_clear_bindings", "number", ["number"]), Dc = k("sqlite3_finalize", "number", ["number"]), tb = k("sqlite3_create_function_v2", "number", "number string number number number number number number number".split(" ")), hc = k("sqlite3_value_type", "number", ["number"]), kc = k("sqlite3_value_bytes", "number", ["number"]), jc = k(
            "sqlite3_value_text",
            "string",
            ["number"]
          ), lc = k("sqlite3_value_blob", "number", ["number"]), ic = k("sqlite3_value_double", "number", ["number"]), ec = k("sqlite3_result_double", "", ["number", "number"]), lb = k("sqlite3_result_null", "", ["number"]), fc = k("sqlite3_result_text", "", ["number", "string", "number", "number"]), gc = k("sqlite3_result_blob", "", ["number", "number", "number", "number"]), dc = k("sqlite3_result_int", "", ["number", "number"]), va = k("sqlite3_result_error", "", ["number", "string", "number"]), ub = k(
            "sqlite3_aggregate_context",
            "number",
            ["number", "number"]
          ), ob = k("RegisterExtensionFunctions", "number", ["number"]), vb = k("sqlite3_update_hook", "number", ["number", "number", "number"]);
          c.prototype.bind = function(g) {
            if (!this.Qa)
              throw "Statement closed";
            this.reset();
            return Array.isArray(g) ? this.Cb(g) : null != g && "object" === typeof g ? this.Db(g) : true;
          };
          c.prototype.step = function() {
            if (!this.Qa)
              throw "Statement closed";
            this.Oa = 1;
            var g = sc(this.Qa);
            switch (g) {
              case 100:
                return true;
              case 101:
                return false;
              default:
                throw this.db.handleError(g);
            }
          };
          c.prototype.wb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return wc(this.Qa, g);
          };
          c.prototype.Gb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            g = sb(this.Qa, g);
            if ("function" !== typeof BigInt)
              throw Error("BigInt is not supported");
            return BigInt(g);
          };
          c.prototype.Hb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            return sb(this.Qa, g);
          };
          c.prototype.getBlob = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            var l = yc(this.Qa, g);
            g = xc(this.Qa, g);
            for (var n = new Uint8Array(l), r = 0; r < l; r += 1)
              n[r] = p[g + r];
            return n;
          };
          c.prototype.get = function(g, l) {
            l = l || {};
            null != g && this.bind(g) && this.step();
            g = [];
            for (var n = vc(this.Qa), r = 0; r < n; r += 1)
              switch (zc(this.Qa, r)) {
                case 1:
                  var t = l.useBigInt ? this.Gb(r) : this.wb(r);
                  g.push(t);
                  break;
                case 2:
                  g.push(this.wb(r));
                  break;
                case 3:
                  g.push(this.Hb(r));
                  break;
                case 4:
                  g.push(this.getBlob(r));
                  break;
                default:
                  g.push(null);
              }
            return g;
          };
          c.prototype.getColumnNames = function() {
            for (var g = [], l = uc(this.Qa), n = 0; n < l; n += 1)
              g.push(Ac(this.Qa, n));
            return g;
          };
          c.prototype.getAsObject = function(g, l) {
            g = this.get(g, l);
            l = this.getColumnNames();
            for (var n = {}, r = 0; r < l.length; r += 1)
              n[l[r]] = g[r];
            return n;
          };
          c.prototype.getSQL = function() {
            return pb(this.Qa);
          };
          c.prototype.getNormalizedSQL = function() {
            return nc(this.Qa);
          };
          c.prototype.run = function(g) {
            null != g && this.bind(g);
            this.step();
            return this.reset();
          };
          c.prototype.sb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            g = ra(g);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(oc(this.Qa, l, n, g.length - 1, 0));
          };
          c.prototype.Bb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            var n = da(g, ea);
            this.lb.push(n);
            this.db.handleError(rb(
              this.Qa,
              l,
              n,
              g.length,
              0
            ));
          };
          c.prototype.rb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            this.db.handleError((g === (g | 0) ? qc : pc)(this.Qa, l, g));
          };
          c.prototype.Eb = function(g) {
            null == g && (g = this.Oa, this.Oa += 1);
            rb(this.Qa, g, 0, 0, 0);
          };
          c.prototype.tb = function(g, l) {
            null == l && (l = this.Oa, this.Oa += 1);
            switch (typeof g) {
              case "string":
                this.sb(g, l);
                return;
              case "number":
                this.rb(g, l);
                return;
              case "bigint":
                this.sb(g.toString(), l);
                return;
              case "boolean":
                this.rb(g + 0, l);
                return;
              case "object":
                if (null === g) {
                  this.Eb(l);
                  return;
                }
                if (null != g.length) {
                  this.Bb(
                    g,
                    l
                  );
                  return;
                }
            }
            throw "Wrong API use : tried to bind a value of an unknown type (" + g + ").";
          };
          c.prototype.Db = function(g) {
            var l = this;
            Object.keys(g).forEach(function(n) {
              var r = rc(l.Qa, n);
              0 !== r && l.tb(g[n], r);
            });
            return true;
          };
          c.prototype.Cb = function(g) {
            for (var l = 0; l < g.length; l += 1)
              this.tb(g[l], l + 1);
            return true;
          };
          c.prototype.reset = function() {
            this.freemem();
            return 0 === Cc(this.Qa) && 0 === Bc(this.Qa);
          };
          c.prototype.freemem = function() {
            for (var g; void 0 !== (g = this.lb.pop()); )
              fa(g);
          };
          c.prototype.free = function() {
            this.freemem();
            var g = 0 === Dc(this.Qa);
            delete this.db.fb[this.Qa];
            this.Qa = 0;
            return g;
          };
          d.prototype.next = function() {
            if (null === this.eb)
              return { done: true };
            null !== this.Za && (this.Za.free(), this.Za = null);
            if (!this.db.db)
              throw this.mb(), Error("Database closed");
            var g = sa(), l = z(4);
            ta(h);
            ta(l);
            try {
              this.db.handleError(qb(this.db.db, this.kb, -1, h, l));
              this.kb = m(l, "i32");
              var n = m(h, "i32");
              if (0 === n)
                return this.mb(), { done: true };
              this.Za = new c(n, this.db);
              this.db.fb[n] = this.Za;
              return { value: this.Za, done: false };
            } catch (r) {
              throw this.pb = ua(this.kb), this.mb(), r;
            } finally {
              wa(g);
            }
          };
          d.prototype.mb = function() {
            fa(this.eb);
            this.eb = null;
          };
          d.prototype.getRemainingSQL = function() {
            return null !== this.pb ? this.pb : ua(this.kb);
          };
          "function" === typeof Symbol && "symbol" === typeof Symbol.iterator && (d.prototype[Symbol.iterator] = function() {
            return this;
          });
          e.prototype.run = function(g, l) {
            if (!this.db)
              throw "Database closed";
            if (l) {
              g = this.prepare(g, l);
              try {
                g.step();
              } finally {
                g.free();
              }
            } else
              this.handleError(v(this.db, g, 0, 0, h));
            return this;
          };
          e.prototype.exec = function(g, l, n) {
            if (!this.db)
              throw "Database closed";
            var r = sa(), t = null;
            try {
              var y = xa(g), L = z(4);
              for (g = []; 0 !== m(y, "i8"); ) {
                ta(h);
                ta(L);
                this.handleError(qb(this.db, y, -1, h, L));
                var J = m(h, "i32");
                y = m(L, "i32");
                if (0 !== J) {
                  var I = null;
                  t = new c(J, this);
                  for (null != l && t.bind(l); t.step(); )
                    null === I && (I = { columns: t.getColumnNames(), values: [] }, g.push(I)), I.values.push(t.get(null, n));
                  t.free();
                }
              }
              return g;
            } catch (M) {
              throw t && t.free(), M;
            } finally {
              wa(r);
            }
          };
          e.prototype.each = function(g, l, n, r, t) {
            "function" === typeof l && (r = n, n = l, l = void 0);
            g = this.prepare(g, l);
            try {
              for (; g.step(); )
                n(g.getAsObject(
                  null,
                  t
                ));
            } finally {
              g.free();
            }
            if ("function" === typeof r)
              return r();
          };
          e.prototype.prepare = function(g, l) {
            ta(h);
            this.handleError(G(this.db, g, -1, h, 0));
            g = m(h, "i32");
            if (0 === g)
              throw "Nothing to prepare";
            var n = new c(g, this);
            null != l && n.bind(l);
            return this.fb[g] = n;
          };
          e.prototype.iterateStatements = function(g) {
            return new d(g, this);
          };
          e.prototype["export"] = function() {
            Object.values(this.fb).forEach(function(l) {
              l.free();
            });
            Object.values(this.Sa).forEach(A);
            this.Sa = {};
            this.handleError(w(this.db));
            var g = ya(this.filename);
            this.handleError(q(
              this.filename,
              h
            ));
            this.db = m(h, "i32");
            ob(this.db);
            return g;
          };
          e.prototype.close = function() {
            null !== this.db && (Object.values(this.fb).forEach(function(g) {
              g.free();
            }), Object.values(this.Sa).forEach(A), this.Sa = {}, this.Ya && (A(this.Ya), this.Ya = void 0), this.handleError(w(this.db)), za("/" + this.filename), this.db = null);
          };
          e.prototype.handleError = function(g) {
            if (0 === g)
              return null;
            g = tc(this.db);
            throw Error(g);
          };
          e.prototype.getRowsModified = function() {
            return C(this.db);
          };
          e.prototype.create_function = function(g, l) {
            Object.prototype.hasOwnProperty.call(
              this.Sa,
              g
            ) && (A(this.Sa[g]), delete this.Sa[g]);
            var n = Aa(function(r, t, y) {
              t = b(t, y);
              try {
                var L = l.apply(null, t);
              } catch (J) {
                va(r, J, -1);
                return;
              }
              a(r, L);
            }, "viii");
            this.Sa[g] = n;
            this.handleError(tb(this.db, g, l.length, 1, 0, n, 0, 0, 0));
            return this;
          };
          e.prototype.create_aggregate = function(g, l) {
            var n = l.init || function() {
              return null;
            }, r = l.finalize || function(I) {
              return I;
            }, t = l.step;
            if (!t)
              throw "An aggregate function must have a step function in " + g;
            var y = {};
            Object.hasOwnProperty.call(this.Sa, g) && (A(this.Sa[g]), delete this.Sa[g]);
            l = g + "__finalize";
            Object.hasOwnProperty.call(this.Sa, l) && (A(this.Sa[l]), delete this.Sa[l]);
            var L = Aa(function(I, M, Ra) {
              var X = ub(I, 1);
              Object.hasOwnProperty.call(y, X) || (y[X] = n());
              M = b(M, Ra);
              M = [y[X]].concat(M);
              try {
                y[X] = t.apply(null, M);
              } catch (Fc) {
                delete y[X], va(I, Fc, -1);
              }
            }, "viii"), J = Aa(function(I) {
              var M = ub(I, 1);
              try {
                var Ra = r(y[M]);
              } catch (X) {
                delete y[M];
                va(I, X, -1);
                return;
              }
              a(I, Ra);
              delete y[M];
            }, "vi");
            this.Sa[g] = L;
            this.Sa[l] = J;
            this.handleError(tb(this.db, g, t.length - 1, 1, 0, 0, L, J, 0));
            return this;
          };
          e.prototype.updateHook = function(g) {
            this.Ya && (vb(this.db, 0, 0), A(this.Ya), this.Ya = void 0);
            g && (this.Ya = Aa(function(l, n, r, t, y) {
              switch (n) {
                case 18:
                  l = "insert";
                  break;
                case 23:
                  l = "update";
                  break;
                case 9:
                  l = "delete";
                  break;
                default:
                  throw "unknown operationCode in updateHook callback: " + n;
              }
              r = r ? B(x, r) : "";
              t = t ? B(x, t) : "";
              if (y > Number.MAX_SAFE_INTEGER)
                throw "rowId too big to fit inside a Number";
              g(l, r, t, Number(y));
            }, "viiiij"), vb(this.db, this.Ya, 0));
          };
          f.Database = e;
        };
        var Ba = { ...f }, Ca = "./this.program", Da = (a, b) => {
          throw b;
        }, D = "", Ea, Fa;
        if (ca) {
          var fs = require("fs");
          require("path");
          D = __dirname + "/";
          Fa = (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a);
          };
          Ea = async (a) => {
            a = Ga(a) ? new URL(a) : a;
            return fs.readFileSync(a, void 0);
          };
          !f.thisProgram && 1 < process.argv.length && (Ca = process.argv[1].replace(/\\/g, "/"));
          process.argv.slice(2);
          "undefined" != typeof module2 && (module2.exports = f);
          Da = (a, b) => {
            process.exitCode = a;
            throw b;
          };
        } else if (aa || ba)
          ba ? D = self.location.href : "undefined" != typeof document && document.currentScript && (D = document.currentScript.src), D = D.startsWith("blob:") ? "" : D.slice(0, D.replace(/[?#].*/, "").lastIndexOf("/") + 1), ba && (Fa = (a) => {
            var b = new XMLHttpRequest();
            b.open("GET", a, false);
            b.responseType = "arraybuffer";
            b.send(null);
            return new Uint8Array(b.response);
          }), Ea = async (a) => {
            if (Ga(a))
              return new Promise((c, d) => {
                var e = new XMLHttpRequest();
                e.open("GET", a, true);
                e.responseType = "arraybuffer";
                e.onload = () => {
                  200 == e.status || 0 == e.status && e.response ? c(e.response) : d(e.status);
                };
                e.onerror = d;
                e.send(null);
              });
            var b = await fetch(a, { credentials: "same-origin" });
            if (b.ok)
              return b.arrayBuffer();
            throw Error(b.status + " : " + b.url);
          };
        var Ha = f.print || console.log.bind(console), Ia = f.printErr || console.error.bind(console);
        Object.assign(f, Ba);
        Ba = null;
        f.thisProgram && (Ca = f.thisProgram);
        var Ja = f.wasmBinary, Ka, La = false, Ma, p, x, Na, E, F, Oa, H, Pa, Ga = (a) => a.startsWith("file://");
        function Qa() {
          var a = Ka.buffer;
          f.HEAP8 = p = new Int8Array(a);
          f.HEAP16 = Na = new Int16Array(a);
          f.HEAPU8 = x = new Uint8Array(a);
          f.HEAPU16 = new Uint16Array(a);
          f.HEAP32 = E = new Int32Array(a);
          f.HEAPU32 = F = new Uint32Array(a);
          f.HEAPF32 = Oa = new Float32Array(a);
          f.HEAPF64 = Pa = new Float64Array(a);
          f.HEAP64 = H = new BigInt64Array(a);
          f.HEAPU64 = new BigUint64Array(a);
        }
        var K = 0, Sa = null;
        function Ta(a) {
          var _a;
          (_a = f.onAbort) == null ? void 0 : _a.call(f, a);
          a = "Aborted(" + a + ")";
          Ia(a);
          La = true;
          throw new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");
        }
        var Ua;
        async function Va(a) {
          if (!Ja)
            try {
              var b = await Ea(a);
              return new Uint8Array(b);
            } catch (e) {
            }
          if (a == Ua && Ja)
            a = new Uint8Array(Ja);
          else if (Fa)
            a = Fa(a);
          else
            throw "both async and sync fetching of the wasm failed";
          return a;
        }
        async function Wa(a, b) {
          try {
            var c = await Va(a);
            return await WebAssembly.instantiate(c, b);
          } catch (d) {
            Ia(`failed to asynchronously prepare wasm: ${d}`), Ta(d);
          }
        }
        async function Xa(a) {
          var b = Ua;
          if (!Ja && "function" == typeof WebAssembly.instantiateStreaming && !Ga(b) && !ca)
            try {
              var c = fetch(b, { credentials: "same-origin" });
              return await WebAssembly.instantiateStreaming(c, a);
            } catch (d) {
              Ia(`wasm streaming compile failed: ${d}`), Ia("falling back to ArrayBuffer instantiation");
            }
          return Wa(b, a);
        }
        class Ya {
          constructor(a) {
            __publicField(this, "name", "ExitStatus");
            this.message = `Program terminated with exit(${a})`;
            this.status = a;
          }
        }
        var Za = (a) => {
          for (; 0 < a.length; )
            a.shift()(f);
        }, $a = [], ab = [], bb = () => {
          var a = f.preRun.shift();
          ab.unshift(a);
        };
        function m(a, b = "i8") {
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              return p[a];
            case "i8":
              return p[a];
            case "i16":
              return Na[a >> 1];
            case "i32":
              return E[a >> 2];
            case "i64":
              return H[a >> 3];
            case "float":
              return Oa[a >> 2];
            case "double":
              return Pa[a >> 3];
            case "*":
              return F[a >> 2];
            default:
              Ta(`invalid type for getValue: ${b}`);
          }
        }
        var cb = f.noExitRuntime || true;
        function ta(a) {
          var b = "i32";
          b.endsWith("*") && (b = "*");
          switch (b) {
            case "i1":
              p[a] = 0;
              break;
            case "i8":
              p[a] = 0;
              break;
            case "i16":
              Na[a >> 1] = 0;
              break;
            case "i32":
              E[a >> 2] = 0;
              break;
            case "i64":
              H[a >> 3] = BigInt(0);
              break;
            case "float":
              Oa[a >> 2] = 0;
              break;
            case "double":
              Pa[a >> 3] = 0;
              break;
            case "*":
              F[a >> 2] = 0;
              break;
            default:
              Ta(`invalid type for setValue: ${b}`);
          }
        }
        var db = "undefined" != typeof TextDecoder ? new TextDecoder() : void 0, B = (a, b = 0, c = NaN) => {
          var d = b + c;
          for (c = b; a[c] && !(c >= d); )
            ++c;
          if (16 < c - b && a.buffer && db)
            return db.decode(a.subarray(b, c));
          for (d = ""; b < c; ) {
            var e = a[b++];
            if (e & 128) {
              var h = a[b++] & 63;
              if (192 == (e & 224))
                d += String.fromCharCode((e & 31) << 6 | h);
              else {
                var k = a[b++] & 63;
                e = 224 == (e & 240) ? (e & 15) << 12 | h << 6 | k : (e & 7) << 18 | h << 12 | k << 6 | a[b++] & 63;
                65536 > e ? d += String.fromCharCode(e) : (e -= 65536, d += String.fromCharCode(55296 | e >> 10, 56320 | e & 1023));
              }
            } else
              d += String.fromCharCode(e);
          }
          return d;
        }, ua = (a, b) => a ? B(x, a, b) : "", eb = (a, b) => {
          for (var c = 0, d = a.length - 1; 0 <= d; d--) {
            var e = a[d];
            "." === e ? a.splice(d, 1) : ".." === e ? (a.splice(d, 1), c++) : c && (a.splice(d, 1), c--);
          }
          if (b)
            for (; c; c--)
              a.unshift("..");
          return a;
        }, ka = (a) => {
          var b = "/" === a.charAt(0), c = "/" === a.slice(-1);
          (a = eb(a.split("/").filter((d) => !!d), !b).join("/")) || b || (a = ".");
          a && c && (a += "/");
          return (b ? "/" : "") + a;
        }, fb = (a) => {
          var b = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);
          a = b[0];
          b = b[1];
          if (!a && !b)
            return ".";
          b && (b = b.slice(0, -1));
          return a + b;
        }, gb = (a) => a && a.match(/([^\/]+|\/)\/*$/)[1], hb = () => {
          if (ca) {
            var a = require("crypto");
            return (b) => a.randomFillSync(b);
          }
          return (b) => crypto.getRandomValues(b);
        }, ib = (a) => {
          (ib = hb())(a);
        }, jb = (...a) => {
          for (var b = "", c = false, d = a.length - 1; -1 <= d && !c; d--) {
            c = 0 <= d ? a[d] : "/";
            if ("string" != typeof c)
              throw new TypeError("Arguments to path.resolve must be strings");
            if (!c)
              return "";
            b = c + "/" + b;
            c = "/" === c.charAt(0);
          }
          b = eb(b.split("/").filter((e) => !!e), !c).join("/");
          return (c ? "/" : "") + b || ".";
        }, kb = [], ha = (a) => {
          for (var b = 0, c = 0; c < a.length; ++c) {
            var d = a.charCodeAt(c);
            127 >= d ? b++ : 2047 >= d ? b += 2 : 55296 <= d && 57343 >= d ? (b += 4, ++c) : b += 3;
          }
          return b;
        }, u = (a, b, c, d) => {
          if (!(0 < d))
            return 0;
          var e = c;
          d = c + d - 1;
          for (var h = 0; h < a.length; ++h) {
            var k = a.charCodeAt(h);
            if (55296 <= k && 57343 >= k) {
              var q = a.charCodeAt(++h);
              k = 65536 + ((k & 1023) << 10) | q & 1023;
            }
            if (127 >= k) {
              if (c >= d)
                break;
              b[c++] = k;
            } else {
              if (2047 >= k) {
                if (c + 1 >= d)
                  break;
                b[c++] = 192 | k >> 6;
              } else {
                if (65535 >= k) {
                  if (c + 2 >= d)
                    break;
                  b[c++] = 224 | k >> 12;
                } else {
                  if (c + 3 >= d)
                    break;
                  b[c++] = 240 | k >> 18;
                  b[c++] = 128 | k >> 12 & 63;
                }
                b[c++] = 128 | k >> 6 & 63;
              }
              b[c++] = 128 | k & 63;
            }
          }
          b[c] = 0;
          return c - e;
        }, ra = (a, b) => {
          var c = Array(ha(a) + 1);
          a = u(a, c, 0, c.length);
          b && (c.length = a);
          return c;
        }, mb = [];
        function nb(a, b) {
          mb[a] = { input: [], output: [], cb: b };
          wb(a, xb);
        }
        var xb = { open(a) {
          var b = mb[a.node.rdev];
          if (!b)
            throw new N(43);
          a.tty = b;
          a.seekable = false;
        }, close(a) {
          a.tty.cb.fsync(a.tty);
        }, fsync(a) {
          a.tty.cb.fsync(a.tty);
        }, read(a, b, c, d) {
          if (!a.tty || !a.tty.cb.xb)
            throw new N(60);
          for (var e = 0, h = 0; h < d; h++) {
            try {
              var k = a.tty.cb.xb(a.tty);
            } catch (q) {
              throw new N(29);
            }
            if (void 0 === k && 0 === e)
              throw new N(6);
            if (null === k || void 0 === k)
              break;
            e++;
            b[c + h] = k;
          }
          e && (a.node.atime = Date.now());
          return e;
        }, write(a, b, c, d) {
          if (!a.tty || !a.tty.cb.qb)
            throw new N(60);
          try {
            for (var e = 0; e < d; e++)
              a.tty.cb.qb(a.tty, b[c + e]);
          } catch (h) {
            throw new N(29);
          }
          d && (a.node.mtime = a.node.ctime = Date.now());
          return e;
        } }, yb = { xb() {
          a: {
            if (!kb.length) {
              var a = null;
              if (ca) {
                var b = Buffer.alloc(256), c = 0, d = process.stdin.fd;
                try {
                  c = fs.readSync(d, b, 0, 256);
                } catch (e) {
                  if (e.toString().includes("EOF"))
                    c = 0;
                  else
                    throw e;
                }
                0 < c && (a = b.slice(0, c).toString("utf-8"));
              } else
                "undefined" != typeof window && "function" == typeof window.prompt && (a = window.prompt("Input: "), null !== a && (a += "\n"));
              if (!a) {
                a = null;
                break a;
              }
              kb = ra(a, true);
            }
            a = kb.shift();
          }
          return a;
        }, qb(a, b) {
          null === b || 10 === b ? (Ha(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ha(B(a.output)), a.output = []);
        }, Tb() {
          return { Ob: 25856, Qb: 5, Nb: 191, Pb: 35387, Mb: [3, 28, 127, 21, 4, 0, 1, 0, 17, 19, 26, 0, 18, 15, 23, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] };
        }, Ub() {
          return 0;
        }, Vb() {
          return [24, 80];
        } }, zb = { qb(a, b) {
          null === b || 10 === b ? (Ia(B(a.output)), a.output = []) : 0 != b && a.output.push(b);
        }, fsync(a) {
          var _a;
          0 < ((_a = a.output) == null ? void 0 : _a.length) && (Ia(B(a.output)), a.output = []);
        } }, O = { Wa: null, Xa() {
          return O.createNode(null, "/", 16895, 0);
        }, createNode(a, b, c, d) {
          if (24576 === (c & 61440) || 4096 === (c & 61440))
            throw new N(63);
          O.Wa || (O.Wa = { dir: { node: { Ta: O.La.Ta, Ua: O.La.Ua, lookup: O.La.lookup, hb: O.La.hb, rename: O.La.rename, unlink: O.La.unlink, rmdir: O.La.rmdir, readdir: O.La.readdir, symlink: O.La.symlink }, stream: { Va: O.Ma.Va } }, file: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: { Va: O.Ma.Va, read: O.Ma.read, write: O.Ma.write, ib: O.Ma.ib, jb: O.Ma.jb } }, link: { node: { Ta: O.La.Ta, Ua: O.La.Ua, readlink: O.La.readlink }, stream: {} }, ub: { node: { Ta: O.La.Ta, Ua: O.La.Ua }, stream: Ab } });
          c = Bb(a, b, c, d);
          P(c.mode) ? (c.La = O.Wa.dir.node, c.Ma = O.Wa.dir.stream, c.Na = {}) : 32768 === (c.mode & 61440) ? (c.La = O.Wa.file.node, c.Ma = O.Wa.file.stream, c.Ra = 0, c.Na = null) : 40960 === (c.mode & 61440) ? (c.La = O.Wa.link.node, c.Ma = O.Wa.link.stream) : 8192 === (c.mode & 61440) && (c.La = O.Wa.ub.node, c.Ma = O.Wa.ub.stream);
          c.atime = c.mtime = c.ctime = Date.now();
          a && (a.Na[b] = c, a.atime = a.mtime = a.ctime = c.atime);
          return c;
        }, Sb(a) {
          return a.Na ? a.Na.subarray ? a.Na.subarray(0, a.Ra) : new Uint8Array(a.Na) : new Uint8Array(0);
        }, La: { Ta(a) {
          var b = {};
          b.dev = 8192 === (a.mode & 61440) ? a.id : 1;
          b.ino = a.id;
          b.mode = a.mode;
          b.nlink = 1;
          b.uid = 0;
          b.gid = 0;
          b.rdev = a.rdev;
          P(a.mode) ? b.size = 4096 : 32768 === (a.mode & 61440) ? b.size = a.Ra : 40960 === (a.mode & 61440) ? b.size = a.link.length : b.size = 0;
          b.atime = new Date(a.atime);
          b.mtime = new Date(a.mtime);
          b.ctime = new Date(a.ctime);
          b.blksize = 4096;
          b.blocks = Math.ceil(b.size / b.blksize);
          return b;
        }, Ua(a, b) {
          for (var c of ["mode", "atime", "mtime", "ctime"])
            null != b[c] && (a[c] = b[c]);
          void 0 !== b.size && (b = b.size, a.Ra != b && (0 == b ? (a.Na = null, a.Ra = 0) : (c = a.Na, a.Na = new Uint8Array(b), c && a.Na.set(c.subarray(0, Math.min(b, a.Ra))), a.Ra = b)));
        }, lookup() {
          throw O.vb;
        }, hb(a, b, c, d) {
          return O.createNode(a, b, c, d);
        }, rename(a, b, c) {
          try {
            var d = Q(b, c);
          } catch (h) {
          }
          if (d) {
            if (P(a.mode))
              for (var e in d.Na)
                throw new N(55);
            Cb(d);
          }
          delete a.parent.Na[a.name];
          b.Na[c] = a;
          a.name = c;
          b.ctime = b.mtime = a.parent.ctime = a.parent.mtime = Date.now();
        }, unlink(a, b) {
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, rmdir(a, b) {
          var c = Q(a, b), d;
          for (d in c.Na)
            throw new N(55);
          delete a.Na[b];
          a.ctime = a.mtime = Date.now();
        }, readdir(a) {
          return [".", "..", ...Object.keys(a.Na)];
        }, symlink(a, b, c) {
          a = O.createNode(a, b, 41471, 0);
          a.link = c;
          return a;
        }, readlink(a) {
          if (40960 !== (a.mode & 61440))
            throw new N(28);
          return a.link;
        } }, Ma: { read(a, b, c, d, e) {
          var h = a.node.Na;
          if (e >= a.node.Ra)
            return 0;
          a = Math.min(a.node.Ra - e, d);
          if (8 < a && h.subarray)
            b.set(h.subarray(e, e + a), c);
          else
            for (d = 0; d < a; d++)
              b[c + d] = h[e + d];
          return a;
        }, write(a, b, c, d, e, h) {
          b.buffer === p.buffer && (h = false);
          if (!d)
            return 0;
          a = a.node;
          a.mtime = a.ctime = Date.now();
          if (b.subarray && (!a.Na || a.Na.subarray)) {
            if (h)
              return a.Na = b.subarray(c, c + d), a.Ra = d;
            if (0 === a.Ra && 0 === e)
              return a.Na = b.slice(c, c + d), a.Ra = d;
            if (e + d <= a.Ra)
              return a.Na.set(b.subarray(
                c,
                c + d
              ), e), d;
          }
          h = e + d;
          var k = a.Na ? a.Na.length : 0;
          k >= h || (h = Math.max(h, k * (1048576 > k ? 2 : 1.125) >>> 0), 0 != k && (h = Math.max(h, 256)), k = a.Na, a.Na = new Uint8Array(h), 0 < a.Ra && a.Na.set(k.subarray(0, a.Ra), 0));
          if (a.Na.subarray && b.subarray)
            a.Na.set(b.subarray(c, c + d), e);
          else
            for (h = 0; h < d; h++)
              a.Na[e + h] = b[c + h];
          a.Ra = Math.max(a.Ra, e + d);
          return d;
        }, Va(a, b, c) {
          1 === c ? b += a.position : 2 === c && 32768 === (a.node.mode & 61440) && (b += a.node.Ra);
          if (0 > b)
            throw new N(28);
          return b;
        }, ib(a, b, c, d, e) {
          if (32768 !== (a.node.mode & 61440))
            throw new N(43);
          a = a.node.Na;
          if (e & 2 || !a || a.buffer !== p.buffer) {
            e = true;
            d = 65536 * Math.ceil(b / 65536);
            var h = Db(65536, d);
            h && x.fill(0, h, h + d);
            d = h;
            if (!d)
              throw new N(48);
            if (a) {
              if (0 < c || c + b < a.length)
                a.subarray ? a = a.subarray(c, c + b) : a = Array.prototype.slice.call(a, c, c + b);
              p.set(a, d);
            }
          } else
            e = false, d = a.byteOffset;
          return { Kb: d, Ab: e };
        }, jb(a, b, c, d) {
          O.Ma.write(a, b, 0, d, c, false);
          return 0;
        } } }, la = (a, b) => {
          var c = 0;
          a && (c |= 365);
          b && (c |= 146);
          return c;
        }, Eb = null, Fb = {}, Gb = [], Hb = 1, R = null, Ib = false, Jb = true, Kb = {}, N = class {
          constructor(a) {
            __publicField(this, "name", "ErrnoError");
            this.Pa = a;
          }
        }, Lb = class {
          constructor() {
            __publicField(this, "gb", {});
            __publicField(this, "node", null);
          }
          get flags() {
            return this.gb.flags;
          }
          set flags(a) {
            this.gb.flags = a;
          }
          get position() {
            return this.gb.position;
          }
          set position(a) {
            this.gb.position = a;
          }
        }, Mb = class {
          constructor(a, b, c, d) {
            __publicField(this, "La", {});
            __publicField(this, "Ma", {});
            __publicField(this, "ab", null);
            a || (a = this);
            this.parent = a;
            this.Xa = a.Xa;
            this.id = Hb++;
            this.name = b;
            this.mode = c;
            this.rdev = d;
            this.atime = this.mtime = this.ctime = Date.now();
          }
          get read() {
            return 365 === (this.mode & 365);
          }
          set read(a) {
            a ? this.mode |= 365 : this.mode &= -366;
          }
          get write() {
            return 146 === (this.mode & 146);
          }
          set write(a) {
            a ? this.mode |= 146 : this.mode &= -147;
          }
        };
        function S(a, b = {}) {
          var _a;
          if (!a)
            throw new N(44);
          (_a = b.nb) != null ? _a : b.nb = true;
          "/" === a.charAt(0) || (a = "//" + a);
          var c = 0;
          a:
            for (; 40 > c; c++) {
              a = a.split("/").filter((q) => !!q);
              for (var d = Eb, e = "/", h = 0; h < a.length; h++) {
                var k = h === a.length - 1;
                if (k && b.parent)
                  break;
                if ("." !== a[h])
                  if (".." === a[h])
                    e = fb(e), d = d.parent;
                  else {
                    e = ka(e + "/" + a[h]);
                    try {
                      d = Q(d, a[h]);
                    } catch (q) {
                      if (44 === (q == null ? void 0 : q.Pa) && k && b.Jb)
                        return { path: e };
                      throw q;
                    }
                    !d.ab || k && !b.nb || (d = d.ab.root);
                    if (40960 === (d.mode & 61440) && (!k || b.$a)) {
                      if (!d.La.readlink)
                        throw new N(52);
                      d = d.La.readlink(d);
                      "/" === d.charAt(0) || (d = fb(e) + "/" + d);
                      a = d + "/" + a.slice(h + 1).join("/");
                      continue a;
                    }
                  }
              }
              return { path: e, node: d };
            }
          throw new N(32);
        }
        function ja(a) {
          for (var b; ; ) {
            if (a === a.parent)
              return a = a.Xa.zb, b ? "/" !== a[a.length - 1] ? `${a}/${b}` : a + b : a;
            b = b ? `${a.name}/${b}` : a.name;
            a = a.parent;
          }
        }
        function Nb(a, b) {
          for (var c = 0, d = 0; d < b.length; d++)
            c = (c << 5) - c + b.charCodeAt(d) | 0;
          return (a + c >>> 0) % R.length;
        }
        function Cb(a) {
          var b = Nb(a.parent.id, a.name);
          if (R[b] === a)
            R[b] = a.bb;
          else
            for (b = R[b]; b; ) {
              if (b.bb === a) {
                b.bb = a.bb;
                break;
              }
              b = b.bb;
            }
        }
        function Q(a, b) {
          var c = P(a.mode) ? (c = Ob(a, "x")) ? c : a.La.lookup ? 0 : 2 : 54;
          if (c)
            throw new N(c);
          for (c = R[Nb(a.id, b)]; c; c = c.bb) {
            var d = c.name;
            if (c.parent.id === a.id && d === b)
              return c;
          }
          return a.La.lookup(a, b);
        }
        function Bb(a, b, c, d) {
          a = new Mb(a, b, c, d);
          b = Nb(a.parent.id, a.name);
          a.bb = R[b];
          return R[b] = a;
        }
        function P(a) {
          return 16384 === (a & 61440);
        }
        function Pb(a) {
          var b = ["r", "w", "rw"][a & 3];
          a & 512 && (b += "w");
          return b;
        }
        function Ob(a, b) {
          if (Jb)
            return 0;
          if (!b.includes("r") || a.mode & 292) {
            if (b.includes("w") && !(a.mode & 146) || b.includes("x") && !(a.mode & 73))
              return 2;
          } else
            return 2;
          return 0;
        }
        function Qb(a, b) {
          if (!P(a.mode))
            return 54;
          try {
            return Q(a, b), 20;
          } catch (c) {
          }
          return Ob(a, "wx");
        }
        function Rb(a, b, c) {
          try {
            var d = Q(a, b);
          } catch (e) {
            return e.Pa;
          }
          if (a = Ob(a, "wx"))
            return a;
          if (c) {
            if (!P(d.mode))
              return 54;
            if (d === d.parent || "/" === ja(d))
              return 10;
          } else if (P(d.mode))
            return 31;
          return 0;
        }
        function Sb(a) {
          if (!a)
            throw new N(63);
          return a;
        }
        function T(a) {
          a = Gb[a];
          if (!a)
            throw new N(8);
          return a;
        }
        function Tb(a, b = -1) {
          a = Object.assign(new Lb(), a);
          if (-1 == b)
            a: {
              for (b = 0; 4096 >= b; b++)
                if (!Gb[b])
                  break a;
              throw new N(33);
            }
          a.fd = b;
          return Gb[b] = a;
        }
        function Ub(a, b = -1) {
          var _a, _b;
          a = Tb(a, b);
          (_b = (_a = a.Ma) == null ? void 0 : _a.Rb) == null ? void 0 : _b.call(_a, a);
          return a;
        }
        function Vb(a, b, c) {
          var d = a == null ? void 0 : a.Ma.Ua;
          a = d ? a : b;
          d != null ? d : d = b.La.Ua;
          Sb(d);
          d(a, c);
        }
        var Ab = { open(a) {
          var _a, _b;
          a.Ma = Fb[a.node.rdev].Ma;
          (_b = (_a = a.Ma).open) == null ? void 0 : _b.call(_a, a);
        }, Va() {
          throw new N(70);
        } };
        function wb(a, b) {
          Fb[a] = { Ma: b };
        }
        function Wb(a, b) {
          var c = "/" === b;
          if (c && Eb)
            throw new N(10);
          if (!c && b) {
            var d = S(b, { nb: false });
            b = d.path;
            d = d.node;
            if (d.ab)
              throw new N(10);
            if (!P(d.mode))
              throw new N(54);
          }
          b = { type: a, Wb: {}, zb: b, Ib: [] };
          a = a.Xa(b);
          a.Xa = b;
          b.root = a;
          c ? Eb = a : d && (d.ab = b, d.Xa && d.Xa.Ib.push(b));
        }
        function Xb(a, b, c) {
          var d = S(a, { parent: true }).node;
          a = gb(a);
          if (!a)
            throw new N(28);
          if ("." === a || ".." === a)
            throw new N(20);
          var e = Qb(d, a);
          if (e)
            throw new N(e);
          if (!d.La.hb)
            throw new N(63);
          return d.La.hb(d, a, b, c);
        }
        function ma(a, b = 438) {
          return Xb(a, b & 4095 | 32768, 0);
        }
        function U(a, b = 511) {
          return Xb(a, b & 1023 | 16384, 0);
        }
        function Yb(a, b, c) {
          "undefined" == typeof c && (c = b, b = 438);
          Xb(a, b | 8192, c);
        }
        function Zb(a, b) {
          if (!jb(a))
            throw new N(44);
          var c = S(b, { parent: true }).node;
          if (!c)
            throw new N(44);
          b = gb(b);
          var d = Qb(c, b);
          if (d)
            throw new N(d);
          if (!c.La.symlink)
            throw new N(63);
          c.La.symlink(c, b, a);
        }
        function $b(a) {
          var b = S(a, { parent: true }).node;
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, true);
          if (d)
            throw new N(d);
          if (!b.La.rmdir)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.rmdir(b, a);
          Cb(c);
        }
        function za(a) {
          var b = S(a, { parent: true }).node;
          if (!b)
            throw new N(44);
          a = gb(a);
          var c = Q(b, a), d = Rb(b, a, false);
          if (d)
            throw new N(d);
          if (!b.La.unlink)
            throw new N(63);
          if (c.ab)
            throw new N(10);
          b.La.unlink(b, a);
          Cb(c);
        }
        function ac(a, b) {
          a = S(a, { $a: !b }).node;
          return Sb(a.La.Ta)(a);
        }
        function bc(a, b, c, d) {
          Vb(a, b, { mode: c & 4095 | b.mode & -4096, ctime: Date.now(), Fb: d });
        }
        function na(a, b) {
          a = "string" == typeof a ? S(a, { $a: true }).node : a;
          bc(null, a, b);
        }
        function cc(a, b, c) {
          if (P(b.mode))
            throw new N(31);
          if (32768 !== (b.mode & 61440))
            throw new N(28);
          var d = Ob(b, "w");
          if (d)
            throw new N(d);
          Vb(a, b, { size: c, timestamp: Date.now() });
        }
        function oa(a, b, c = 438) {
          if ("" === a)
            throw new N(44);
          if ("string" == typeof b) {
            var d = { r: 0, "r+": 2, w: 577, "w+": 578, a: 1089, "a+": 1090 }[b];
            if ("undefined" == typeof d)
              throw Error(`Unknown file open mode: ${b}`);
            b = d;
          }
          c = b & 64 ? c & 4095 | 32768 : 0;
          if ("object" == typeof a)
            d = a;
          else {
            var e = a.endsWith("/");
            a = S(a, { $a: !(b & 131072), Jb: true });
            d = a.node;
            a = a.path;
          }
          var h = false;
          if (b & 64)
            if (d) {
              if (b & 128)
                throw new N(20);
            } else {
              if (e)
                throw new N(31);
              d = Xb(a, c | 511, 0);
              h = true;
            }
          if (!d)
            throw new N(44);
          8192 === (d.mode & 61440) && (b &= -513);
          if (b & 65536 && !P(d.mode))
            throw new N(54);
          if (!h && (e = d ? 40960 === (d.mode & 61440) ? 32 : P(d.mode) && ("r" !== Pb(b) || b & 576) ? 31 : Ob(d, Pb(b)) : 44))
            throw new N(e);
          b & 512 && !h && (e = d, e = "string" == typeof e ? S(e, { $a: true }).node : e, cc(null, e, 0));
          b &= -131713;
          e = Tb({ node: d, path: ja(d), flags: b, seekable: true, position: 0, Ma: d.Ma, Lb: [], error: false });
          e.Ma.open && e.Ma.open(e);
          h && na(d, c & 511);
          !f.logReadFiles || b & 1 || a in Kb || (Kb[a] = 1);
          return e;
        }
        function qa(a) {
          if (null === a.fd)
            throw new N(8);
          a.ob && (a.ob = null);
          try {
            a.Ma.close && a.Ma.close(a);
          } catch (b) {
            throw b;
          } finally {
            Gb[a.fd] = null;
          }
          a.fd = null;
        }
        function mc(a, b, c) {
          if (null === a.fd)
            throw new N(8);
          if (!a.seekable || !a.Ma.Va)
            throw new N(70);
          if (0 != c && 1 != c && 2 != c)
            throw new N(28);
          a.position = a.Ma.Va(a, b, c);
          a.Lb = [];
        }
        function Ec(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (1 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.read)
            throw new N(28);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.read(a, b, c, d, e);
          h || (a.position += b);
          return b;
        }
        function pa(a, b, c, d, e) {
          if (0 > d || 0 > e)
            throw new N(28);
          if (null === a.fd)
            throw new N(8);
          if (0 === (a.flags & 2097155))
            throw new N(8);
          if (P(a.node.mode))
            throw new N(31);
          if (!a.Ma.write)
            throw new N(28);
          a.seekable && a.flags & 1024 && mc(a, 0, 2);
          var h = "undefined" != typeof e;
          if (!h)
            e = a.position;
          else if (!a.seekable)
            throw new N(70);
          b = a.Ma.write(a, b, c, d, e, void 0);
          h || (a.position += b);
          return b;
        }
        function ya(a) {
          var b = "binary";
          if ("utf8" !== b && "binary" !== b)
            throw Error(`Invalid encoding type "${b}"`);
          var c;
          var d = oa(a, d || 0);
          a = ac(a).size;
          var e = new Uint8Array(a);
          Ec(d, e, 0, a, 0);
          "utf8" === b ? c = B(e) : "binary" === b && (c = e);
          qa(d);
          return c;
        }
        function V(a, b, c) {
          var _a;
          a = ka("/dev/" + a);
          var d = la(!!b, !!c);
          (_a = V.yb) != null ? _a : V.yb = 64;
          var e = V.yb++ << 8 | 0;
          wb(e, { open(h) {
            h.seekable = false;
          }, close() {
            var _a2;
            ((_a2 = c == null ? void 0 : c.buffer) == null ? void 0 : _a2.length) && c(10);
          }, read(h, k, q, w) {
            for (var v = 0, C = 0; C < w; C++) {
              try {
                var G = b();
              } catch (pb) {
                throw new N(29);
              }
              if (void 0 === G && 0 === v)
                throw new N(6);
              if (null === G || void 0 === G)
                break;
              v++;
              k[q + C] = G;
            }
            v && (h.node.atime = Date.now());
            return v;
          }, write(h, k, q, w) {
            for (var v = 0; v < w; v++)
              try {
                c(k[q + v]);
              } catch (C) {
                throw new N(29);
              }
            w && (h.node.mtime = h.node.ctime = Date.now());
            return v;
          } });
          Yb(a, d, e);
        }
        var W = {};
        function Gc(a, b, c) {
          if ("/" === b.charAt(0))
            return b;
          a = -100 === a ? "/" : T(a).path;
          if (0 == b.length) {
            if (!c)
              throw new N(44);
            return a;
          }
          return a + "/" + b;
        }
        function Hc(a, b) {
          E[a >> 2] = b.dev;
          E[a + 4 >> 2] = b.mode;
          F[a + 8 >> 2] = b.nlink;
          E[a + 12 >> 2] = b.uid;
          E[a + 16 >> 2] = b.gid;
          E[a + 20 >> 2] = b.rdev;
          H[a + 24 >> 3] = BigInt(b.size);
          E[a + 32 >> 2] = 4096;
          E[a + 36 >> 2] = b.blocks;
          var c = b.atime.getTime(), d = b.mtime.getTime(), e = b.ctime.getTime();
          H[a + 40 >> 3] = BigInt(Math.floor(c / 1e3));
          F[a + 48 >> 2] = c % 1e3 * 1e6;
          H[a + 56 >> 3] = BigInt(Math.floor(d / 1e3));
          F[a + 64 >> 2] = d % 1e3 * 1e6;
          H[a + 72 >> 3] = BigInt(Math.floor(e / 1e3));
          F[a + 80 >> 2] = e % 1e3 * 1e6;
          H[a + 88 >> 3] = BigInt(b.ino);
          return 0;
        }
        var Ic = void 0, Jc = () => {
          var a = E[+Ic >> 2];
          Ic += 4;
          return a;
        }, Kc = 0, Lc = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335], Mc = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], Nc = {}, Oc = (a) => {
          var _a;
          Ma = a;
          cb || 0 < Kc || ((_a = f.onExit) == null ? void 0 : _a.call(f, a), La = true);
          Da(a, new Ya(a));
        }, Pc = (a) => {
          if (!La)
            try {
              if (a(), !(cb || 0 < Kc))
                try {
                  Ma = a = Ma, Oc(a);
                } catch (b) {
                  b instanceof Ya || "unwind" == b || Da(1, b);
                }
            } catch (b) {
              b instanceof Ya || "unwind" == b || Da(1, b);
            }
        }, Qc = {}, Sc = () => {
          if (!Rc) {
            var a = { USER: "web_user", LOGNAME: "web_user", PATH: "/", PWD: "/", HOME: "/home/web_user", LANG: ("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _: Ca || "./this.program" }, b;
            for (b in Qc)
              void 0 === Qc[b] ? delete a[b] : a[b] = Qc[b];
            var c = [];
            for (b in a)
              c.push(`${b}=${a[b]}`);
            Rc = c;
          }
          return Rc;
        }, Rc, xa = (a) => {
          var b = ha(a) + 1, c = z(b);
          u(a, x, c, b);
          return c;
        }, Tc = (a, b, c, d) => {
          var e = { string: (v) => {
            var C = 0;
            null !== v && void 0 !== v && 0 !== v && (C = xa(v));
            return C;
          }, array: (v) => {
            var C = z(v.length);
            p.set(v, C);
            return C;
          } };
          a = f["_" + a];
          var h = [], k = 0;
          if (d)
            for (var q = 0; q < d.length; q++) {
              var w = e[c[q]];
              w ? (0 === k && (k = sa()), h[q] = w(d[q])) : h[q] = d[q];
            }
          c = a(...h);
          return c = function(v) {
            0 !== k && wa(k);
            return "string" === b ? v ? B(x, v) : "" : "boolean" === b ? !!v : v;
          }(c);
        }, ea = 0, da = (a, b) => {
          b = 1 == b ? z(a.length) : ia(a.length);
          a.subarray || a.slice || (a = new Uint8Array(a));
          x.set(a, b);
          return b;
        }, Uc, Vc = [], Y, A = (a) => {
          Uc.delete(Y.get(a));
          Y.set(a, null);
          Vc.push(a);
        }, Aa = (a, b) => {
          if (!Uc) {
            Uc = /* @__PURE__ */ new WeakMap();
            var c = Y.length;
            if (Uc)
              for (var d = 0; d < 0 + c; d++) {
                var e = Y.get(d);
                e && Uc.set(e, d);
              }
          }
          if (c = Uc.get(a) || 0)
            return c;
          if (Vc.length)
            c = Vc.pop();
          else {
            try {
              Y.grow(1);
            } catch (w) {
              if (!(w instanceof RangeError))
                throw w;
              throw "Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";
            }
            c = Y.length - 1;
          }
          try {
            Y.set(c, a);
          } catch (w) {
            if (!(w instanceof TypeError))
              throw w;
            if ("function" == typeof WebAssembly.Function) {
              var h = WebAssembly.Function;
              d = { i: "i32", j: "i64", f: "f32", d: "f64", e: "externref", p: "i32" };
              e = { parameters: [], results: "v" == b[0] ? [] : [d[b[0]]] };
              for (var k = 1; k < b.length; ++k)
                e.parameters.push(d[b[k]]);
              b = new h(e, a);
            } else {
              d = [1];
              e = b.slice(0, 1);
              b = b.slice(1);
              k = { i: 127, p: 127, j: 126, f: 125, d: 124, e: 111 };
              d.push(96);
              var q = b.length;
              128 > q ? d.push(q) : d.push(q % 128 | 128, q >> 7);
              for (h of b)
                d.push(k[h]);
              "v" == e ? d.push(0) : d.push(1, k[e]);
              b = [0, 97, 115, 109, 1, 0, 0, 0, 1];
              h = d.length;
              128 > h ? b.push(h) : b.push(h % 128 | 128, h >> 7);
              b.push(...d);
              b.push(2, 7, 1, 1, 101, 1, 102, 0, 0, 7, 5, 1, 1, 102, 0, 0);
              b = new WebAssembly.Module(new Uint8Array(b));
              b = new WebAssembly.Instance(b, { e: { f: a } }).exports.f;
            }
            Y.set(c, b);
          }
          Uc.set(a, c);
          return c;
        };
        R = Array(4096);
        Wb(O, "/");
        U("/tmp");
        U("/home");
        U("/home/web_user");
        (function() {
          U("/dev");
          wb(259, { read: () => 0, write: (d, e, h, k) => k, Va: () => 0 });
          Yb("/dev/null", 259);
          nb(1280, yb);
          nb(1536, zb);
          Yb("/dev/tty", 1280);
          Yb("/dev/tty1", 1536);
          var a = new Uint8Array(1024), b = 0, c = () => {
            0 === b && (ib(a), b = a.byteLength);
            return a[--b];
          };
          V("random", c);
          V("urandom", c);
          U("/dev/shm");
          U("/dev/shm/tmp");
        })();
        (function() {
          U("/proc");
          var a = U("/proc/self");
          U("/proc/self/fd");
          Wb({ Xa() {
            var b = Bb(a, "fd", 16895, 73);
            b.Ma = { Va: O.Ma.Va };
            b.La = { lookup(c, d) {
              c = +d;
              var e = T(c);
              c = { parent: null, Xa: { zb: "fake" }, La: { readlink: () => e.path }, id: c + 1 };
              return c.parent = c;
            }, readdir() {
              return Array.from(Gb.entries()).filter(([, c]) => c).map(([c]) => c.toString());
            } };
            return b;
          } }, "/proc/self/fd");
        })();
        O.vb = new N(44);
        O.vb.stack = "<generic error, no stack>";
        var Xc = { a: (a, b, c, d) => Ta(`Assertion failed: ${a ? B(x, a) : ""}, at: ` + [b ? b ? B(x, b) : "" : "unknown filename", c, d ? d ? B(x, d) : "" : "unknown function"]), i: function(a, b) {
          try {
            return a = a ? B(x, a) : "", na(a, b), 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, L: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (c & -8)
              return -28;
            var d = S(b, { $a: true }).node;
            if (!d)
              return -44;
            a = "";
            c & 4 && (a += "r");
            c & 2 && (a += "w");
            c & 1 && (a += "x");
            return a && Ob(d, a) ? -2 : 0;
          } catch (e) {
            if ("undefined" == typeof W || "ErrnoError" !== e.name)
              throw e;
            return -e.Pa;
          }
        }, j: function(a, b) {
          try {
            var c = T(a);
            bc(c, c.node, b, false);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, h: function(a) {
          try {
            var b = T(a);
            Vb(b, b.node, { timestamp: Date.now(), Fb: false });
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, b: function(a, b, c) {
          Ic = c;
          try {
            var d = T(a);
            switch (b) {
              case 0:
                var e = Jc();
                if (0 > e)
                  break;
                for (; Gb[e]; )
                  e++;
                return Ub(d, e).fd;
              case 1:
              case 2:
                return 0;
              case 3:
                return d.flags;
              case 4:
                return e = Jc(), d.flags |= e, 0;
              case 12:
                return e = Jc(), Na[e + 0 >> 1] = 2, 0;
              case 13:
              case 14:
                return 0;
            }
            return -28;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, g: function(a, b) {
          try {
            var c = T(a), d = c.node, e = c.Ma.Ta;
            a = e ? c : d;
            e != null ? e : e = d.La.Ta;
            Sb(e);
            var h = e(a);
            return Hc(b, h);
          } catch (k) {
            if ("undefined" == typeof W || "ErrnoError" !== k.name)
              throw k;
            return -k.Pa;
          }
        }, H: function(a, b) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var c = T(a);
            if (0 > b || 0 === (c.flags & 2097155))
              throw new N(28);
            cc(c, c.node, b);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, G: function(a, b) {
          try {
            if (0 === b)
              return -28;
            var c = ha("/") + 1;
            if (b < c)
              return -68;
            u("/", x, a, b);
            return c;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, K: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a, true));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, C: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), U(b, c), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, J: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            var e = d & 256;
            b = Gc(a, b, d & 4096);
            return Hc(c, e ? ac(b, true) : ac(b));
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, x: function(a, b, c, d) {
          Ic = d;
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            var e = d ? Jc() : 0;
            return oa(b, c, e).fd;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return -h.Pa;
          }
        }, v: function(a, b, c, d) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b);
            if (0 >= d)
              return -28;
            var e = S(b).node;
            if (!e)
              throw new N(44);
            if (!e.La.readlink)
              throw new N(28);
            var h = e.La.readlink(e);
            var k = Math.min(d, ha(h)), q = p[c + k];
            u(h, x, c, d + 1);
            p[c + k] = q;
            return k;
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, u: function(a) {
          try {
            return a = a ? B(x, a) : "", $b(a), 0;
          } catch (b) {
            if ("undefined" == typeof W || "ErrnoError" !== b.name)
              throw b;
            return -b.Pa;
          }
        }, f: function(a, b) {
          try {
            return a = a ? B(x, a) : "", Hc(b, ac(a));
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return -c.Pa;
          }
        }, r: function(a, b, c) {
          try {
            return b = b ? B(x, b) : "", b = Gc(a, b), 0 === c ? za(b) : 512 === c ? $b(b) : Ta("Invalid flags passed to unlinkat"), 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return -d.Pa;
          }
        }, q: function(a, b, c) {
          try {
            b = b ? B(x, b) : "";
            b = Gc(a, b, true);
            var d = Date.now(), e, h;
            if (c) {
              var k = F[c >> 2] + 4294967296 * E[c + 4 >> 2], q = E[c + 8 >> 2];
              1073741823 == q ? e = d : 1073741822 == q ? e = null : e = 1e3 * k + q / 1e6;
              c += 16;
              k = F[c >> 2] + 4294967296 * E[c + 4 >> 2];
              q = E[c + 8 >> 2];
              1073741823 == q ? h = d : 1073741822 == q ? h = null : h = 1e3 * k + q / 1e6;
            } else
              h = e = d;
            if (null !== (h != null ? h : e)) {
              a = e;
              var w = S(b, { $a: true }).node;
              Sb(w.La.Ua)(w, { atime: a, mtime: h });
            }
            return 0;
          } catch (v) {
            if ("undefined" == typeof W || "ErrnoError" !== v.name)
              throw v;
            return -v.Pa;
          }
        }, m: () => Ta(""), l: () => {
          cb = false;
          Kc = 0;
        }, A: function(a, b) {
          a = -9007199254740992 > a || 9007199254740992 < a ? NaN : Number(a);
          a = new Date(1e3 * a);
          E[b >> 2] = a.getSeconds();
          E[b + 4 >> 2] = a.getMinutes();
          E[b + 8 >> 2] = a.getHours();
          E[b + 12 >> 2] = a.getDate();
          E[b + 16 >> 2] = a.getMonth();
          E[b + 20 >> 2] = a.getFullYear() - 1900;
          E[b + 24 >> 2] = a.getDay();
          var c = a.getFullYear();
          E[b + 28 >> 2] = (0 !== c % 4 || 0 === c % 100 && 0 !== c % 400 ? Mc : Lc)[a.getMonth()] + a.getDate() - 1 | 0;
          E[b + 36 >> 2] = -(60 * a.getTimezoneOffset());
          c = new Date(
            a.getFullYear(),
            6,
            1
          ).getTimezoneOffset();
          var d = new Date(a.getFullYear(), 0, 1).getTimezoneOffset();
          E[b + 32 >> 2] = (c != d && a.getTimezoneOffset() == Math.min(d, c)) | 0;
        }, y: function(a, b, c, d, e, h, k) {
          e = -9007199254740992 > e || 9007199254740992 < e ? NaN : Number(e);
          try {
            if (isNaN(e))
              return 61;
            var q = T(d);
            if (0 !== (b & 2) && 0 === (c & 2) && 2 !== (q.flags & 2097155))
              throw new N(2);
            if (1 === (q.flags & 2097155))
              throw new N(2);
            if (!q.Ma.ib)
              throw new N(43);
            if (!a)
              throw new N(28);
            var w = q.Ma.ib(q, a, e, b, c);
            var v = w.Kb;
            E[h >> 2] = w.Ab;
            F[k >> 2] = v;
            return 0;
          } catch (C) {
            if ("undefined" == typeof W || "ErrnoError" !== C.name)
              throw C;
            return -C.Pa;
          }
        }, z: function(a, b, c, d, e, h) {
          h = -9007199254740992 > h || 9007199254740992 < h ? NaN : Number(h);
          try {
            var k = T(e);
            if (c & 2) {
              c = h;
              if (32768 !== (k.node.mode & 61440))
                throw new N(43);
              if (!(d & 2)) {
                var q = x.slice(a, a + b);
                k.Ma.jb && k.Ma.jb(k, q, c, b, d);
              }
            }
          } catch (w) {
            if ("undefined" == typeof W || "ErrnoError" !== w.name)
              throw w;
            return -w.Pa;
          }
        }, n: (a, b) => {
          Nc[a] && (clearTimeout(Nc[a].id), delete Nc[a]);
          if (!b)
            return 0;
          var c = setTimeout(() => {
            delete Nc[a];
            Pc(() => Wc(a, performance.now()));
          }, b);
          Nc[a] = {
            id: c,
            Xb: b
          };
          return 0;
        }, B: (a, b, c, d) => {
          var e = (/* @__PURE__ */ new Date()).getFullYear(), h = new Date(e, 0, 1).getTimezoneOffset();
          e = new Date(e, 6, 1).getTimezoneOffset();
          F[a >> 2] = 60 * Math.max(h, e);
          E[b >> 2] = Number(h != e);
          b = (k) => {
            var q = Math.abs(k);
            return `UTC${0 <= k ? "-" : "+"}${String(Math.floor(q / 60)).padStart(2, "0")}${String(q % 60).padStart(2, "0")}`;
          };
          a = b(h);
          b = b(e);
          e < h ? (u(a, x, c, 17), u(b, x, d, 17)) : (u(a, x, d, 17), u(b, x, c, 17));
        }, d: () => Date.now(), s: () => 2147483648, c: () => performance.now(), o: (a) => {
          var b = x.length;
          a >>>= 0;
          if (2147483648 < a)
            return false;
          for (var c = 1; 4 >= c; c *= 2) {
            var d = b * (1 + 0.2 / c);
            d = Math.min(d, a + 100663296);
            a: {
              d = (Math.min(2147483648, 65536 * Math.ceil(Math.max(a, d) / 65536)) - Ka.buffer.byteLength + 65535) / 65536 | 0;
              try {
                Ka.grow(d);
                Qa();
                var e = 1;
                break a;
              } catch (h) {
              }
              e = void 0;
            }
            if (e)
              return true;
          }
          return false;
        }, E: (a, b) => {
          var c = 0;
          Sc().forEach((d, e) => {
            var h = b + c;
            e = F[a + 4 * e >> 2] = h;
            for (h = 0; h < d.length; ++h)
              p[e++] = d.charCodeAt(h);
            p[e] = 0;
            c += d.length + 1;
          });
          return 0;
        }, F: (a, b) => {
          var c = Sc();
          F[a >> 2] = c.length;
          var d = 0;
          c.forEach((e) => d += e.length + 1);
          F[b >> 2] = d;
          return 0;
        }, e: function(a) {
          try {
            var b = T(a);
            qa(b);
            return 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, p: function(a, b) {
          try {
            var c = T(a);
            p[b] = c.tty ? 2 : P(c.mode) ? 3 : 40960 === (c.mode & 61440) ? 7 : 4;
            Na[b + 2 >> 1] = 0;
            H[b + 8 >> 3] = BigInt(0);
            H[b + 16 >> 3] = BigInt(0);
            return 0;
          } catch (d) {
            if ("undefined" == typeof W || "ErrnoError" !== d.name)
              throw d;
            return d.Pa;
          }
        }, w: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = Ec(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, D: function(a, b, c, d) {
          b = -9007199254740992 > b || 9007199254740992 < b ? NaN : Number(b);
          try {
            if (isNaN(b))
              return 61;
            var e = T(a);
            mc(e, b, c);
            H[d >> 3] = BigInt(e.position);
            e.ob && 0 === b && 0 === c && (e.ob = null);
            return 0;
          } catch (h) {
            if ("undefined" == typeof W || "ErrnoError" !== h.name)
              throw h;
            return h.Pa;
          }
        }, I: function(a) {
          var _a;
          try {
            var b = T(a);
            return ((_a = b.Ma) == null ? void 0 : _a.fsync) ? b.Ma.fsync(b) : 0;
          } catch (c) {
            if ("undefined" == typeof W || "ErrnoError" !== c.name)
              throw c;
            return c.Pa;
          }
        }, t: function(a, b, c, d) {
          try {
            a: {
              var e = T(a);
              a = b;
              for (var h, k = b = 0; k < c; k++) {
                var q = F[a >> 2], w = F[a + 4 >> 2];
                a += 8;
                var v = pa(e, p, q, w, h);
                if (0 > v) {
                  var C = -1;
                  break a;
                }
                b += v;
                if (v < w)
                  break;
                "undefined" != typeof h && (h += v);
              }
              C = b;
            }
            F[d >> 2] = C;
            return 0;
          } catch (G) {
            if ("undefined" == typeof W || "ErrnoError" !== G.name)
              throw G;
            return G.Pa;
          }
        }, k: Oc }, Z;
        (async function() {
          var _a;
          function a(c) {
            var _a2;
            Z = c.exports;
            Ka = Z.M;
            Qa();
            Y = Z.O;
            K--;
            (_a2 = f.monitorRunDependencies) == null ? void 0 : _a2.call(f, K);
            0 == K && Sa && (c = Sa, Sa = null, c());
            return Z;
          }
          K++;
          (_a = f.monitorRunDependencies) == null ? void 0 : _a.call(f, K);
          var b = { a: Xc };
          if (f.instantiateWasm)
            return new Promise((c) => {
              f.instantiateWasm(b, (d, e) => {
                a(d, e);
                c(d.exports);
              });
            });
          Ua != null ? Ua : Ua = f.locateFile ? f.locateFile("sql-wasm.wasm", D) : D + "sql-wasm.wasm";
          return a((await Xa(b)).instance);
        })();
        f._sqlite3_free = (a) => (f._sqlite3_free = Z.P)(a);
        f._sqlite3_value_text = (a) => (f._sqlite3_value_text = Z.Q)(a);
        f._sqlite3_prepare_v2 = (a, b, c, d, e) => (f._sqlite3_prepare_v2 = Z.R)(a, b, c, d, e);
        f._sqlite3_step = (a) => (f._sqlite3_step = Z.S)(a);
        f._sqlite3_reset = (a) => (f._sqlite3_reset = Z.T)(a);
        f._sqlite3_exec = (a, b, c, d, e) => (f._sqlite3_exec = Z.U)(a, b, c, d, e);
        f._sqlite3_finalize = (a) => (f._sqlite3_finalize = Z.V)(a);
        f._sqlite3_column_name = (a, b) => (f._sqlite3_column_name = Z.W)(a, b);
        f._sqlite3_column_text = (a, b) => (f._sqlite3_column_text = Z.X)(a, b);
        f._sqlite3_column_type = (a, b) => (f._sqlite3_column_type = Z.Y)(a, b);
        f._sqlite3_errmsg = (a) => (f._sqlite3_errmsg = Z.Z)(a);
        f._sqlite3_clear_bindings = (a) => (f._sqlite3_clear_bindings = Z._)(a);
        f._sqlite3_value_blob = (a) => (f._sqlite3_value_blob = Z.$)(a);
        f._sqlite3_value_bytes = (a) => (f._sqlite3_value_bytes = Z.aa)(a);
        f._sqlite3_value_double = (a) => (f._sqlite3_value_double = Z.ba)(a);
        f._sqlite3_value_int = (a) => (f._sqlite3_value_int = Z.ca)(a);
        f._sqlite3_value_type = (a) => (f._sqlite3_value_type = Z.da)(a);
        f._sqlite3_result_blob = (a, b, c, d) => (f._sqlite3_result_blob = Z.ea)(a, b, c, d);
        f._sqlite3_result_double = (a, b) => (f._sqlite3_result_double = Z.fa)(a, b);
        f._sqlite3_result_error = (a, b, c) => (f._sqlite3_result_error = Z.ga)(a, b, c);
        f._sqlite3_result_int = (a, b) => (f._sqlite3_result_int = Z.ha)(a, b);
        f._sqlite3_result_int64 = (a, b) => (f._sqlite3_result_int64 = Z.ia)(a, b);
        f._sqlite3_result_null = (a) => (f._sqlite3_result_null = Z.ja)(a);
        f._sqlite3_result_text = (a, b, c, d) => (f._sqlite3_result_text = Z.ka)(a, b, c, d);
        f._sqlite3_aggregate_context = (a, b) => (f._sqlite3_aggregate_context = Z.la)(a, b);
        f._sqlite3_column_count = (a) => (f._sqlite3_column_count = Z.ma)(a);
        f._sqlite3_data_count = (a) => (f._sqlite3_data_count = Z.na)(a);
        f._sqlite3_column_blob = (a, b) => (f._sqlite3_column_blob = Z.oa)(a, b);
        f._sqlite3_column_bytes = (a, b) => (f._sqlite3_column_bytes = Z.pa)(a, b);
        f._sqlite3_column_double = (a, b) => (f._sqlite3_column_double = Z.qa)(a, b);
        f._sqlite3_bind_blob = (a, b, c, d, e) => (f._sqlite3_bind_blob = Z.ra)(a, b, c, d, e);
        f._sqlite3_bind_double = (a, b, c) => (f._sqlite3_bind_double = Z.sa)(a, b, c);
        f._sqlite3_bind_int = (a, b, c) => (f._sqlite3_bind_int = Z.ta)(a, b, c);
        f._sqlite3_bind_text = (a, b, c, d, e) => (f._sqlite3_bind_text = Z.ua)(a, b, c, d, e);
        f._sqlite3_bind_parameter_index = (a, b) => (f._sqlite3_bind_parameter_index = Z.va)(a, b);
        f._sqlite3_sql = (a) => (f._sqlite3_sql = Z.wa)(a);
        f._sqlite3_normalized_sql = (a) => (f._sqlite3_normalized_sql = Z.xa)(a);
        f._sqlite3_changes = (a) => (f._sqlite3_changes = Z.ya)(a);
        f._sqlite3_close_v2 = (a) => (f._sqlite3_close_v2 = Z.za)(a);
        f._sqlite3_create_function_v2 = (a, b, c, d, e, h, k, q, w) => (f._sqlite3_create_function_v2 = Z.Aa)(a, b, c, d, e, h, k, q, w);
        f._sqlite3_update_hook = (a, b, c) => (f._sqlite3_update_hook = Z.Ba)(a, b, c);
        f._sqlite3_open = (a, b) => (f._sqlite3_open = Z.Ca)(a, b);
        var ia = f._malloc = (a) => (ia = f._malloc = Z.Da)(a), fa = f._free = (a) => (fa = f._free = Z.Ea)(a);
        f._RegisterExtensionFunctions = (a) => (f._RegisterExtensionFunctions = Z.Fa)(a);
        var Db = (a, b) => (Db = Z.Ga)(a, b), Wc = (a, b) => (Wc = Z.Ha)(a, b), wa = (a) => (wa = Z.Ia)(a), z = (a) => (z = Z.Ja)(a), sa = () => (sa = Z.Ka)();
        f.stackSave = () => sa();
        f.stackRestore = (a) => wa(a);
        f.stackAlloc = (a) => z(a);
        f.cwrap = (a, b, c, d) => {
          var e = !c || c.every((h) => "number" === h || "boolean" === h);
          return "string" !== b && e && !d ? f["_" + a] : (...h) => Tc(a, b, c, h);
        };
        f.addFunction = Aa;
        f.removeFunction = A;
        f.UTF8ToString = ua;
        f.ALLOC_NORMAL = ea;
        f.allocate = da;
        f.allocateUTF8OnStack = xa;
        function Yc() {
          function a() {
            var _a;
            f.calledRun = true;
            if (!La) {
              if (!f.noFSInit && !Ib) {
                var b, c;
                Ib = true;
                d != null ? d : d = f.stdin;
                b != null ? b : b = f.stdout;
                c != null ? c : c = f.stderr;
                d ? V("stdin", d) : Zb("/dev/tty", "/dev/stdin");
                b ? V("stdout", null, b) : Zb("/dev/tty", "/dev/stdout");
                c ? V("stderr", null, c) : Zb("/dev/tty1", "/dev/stderr");
                oa("/dev/stdin", 0);
                oa("/dev/stdout", 1);
                oa("/dev/stderr", 1);
              }
              Z.N();
              Jb = false;
              (_a = f.onRuntimeInitialized) == null ? void 0 : _a.call(f);
              if (f.postRun)
                for ("function" == typeof f.postRun && (f.postRun = [f.postRun]); f.postRun.length; ) {
                  var d = f.postRun.shift();
                  $a.unshift(d);
                }
              Za($a);
            }
          }
          if (0 < K)
            Sa = Yc;
          else {
            if (f.preRun)
              for ("function" == typeof f.preRun && (f.preRun = [f.preRun]); f.preRun.length; )
                bb();
            Za(ab);
            0 < K ? Sa = Yc : f.setStatus ? (f.setStatus("Running..."), setTimeout(() => {
              setTimeout(() => f.setStatus(""), 1);
              a();
            }, 1)) : a();
          }
        }
        if (f.preInit)
          for ("function" == typeof f.preInit && (f.preInit = [f.preInit]); 0 < f.preInit.length; )
            f.preInit.pop()();
        Yc();
        return Module;
      });
      return initSqlJsPromise;
    };
    if (typeof exports === "object" && typeof module2 === "object") {
      module2.exports = initSqlJs2;
      module2.exports.default = initSqlJs2;
    } else if (typeof define === "function" && define["amd"]) {
      define([], function() {
        return initSqlJs2;
      });
    } else if (typeof exports === "object") {
      exports["Module"] = initSqlJs2;
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DecksPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian10 = require("obsidian");

// src/database/DatabaseService.ts
var import_sql = __toESM(require_sql_wasm());

// src/algorithm/fsrs-weights.ts
var FSRS_WEIGHTS_STANDARD = [
  0.4072,
  1.1829,
  3.1262,
  15.4722,
  7.2102,
  0.5316,
  1.0651,
  0.0234,
  1.616,
  0.1544,
  1.0824,
  1.9813,
  0.0953,
  0.2975,
  2.2042,
  0.2407,
  2.9466
];
var FSRS_WEIGHTS_SUBDAY = [
  1 / 1440,
  // w[0] - Again: 1 minute
  5 / 1440,
  // w[1] - Hard: 5 minutes
  10 / 1440,
  // w[2] - Good: 10 minutes
  40 / 1440,
  // w[3] - Easy: 40 minutes
  // Keep FSRS-4.5 defaults for remaining parameters
  7.2102,
  0.5316,
  1.0651,
  0.0234,
  1.616,
  0.1544,
  1.0824,
  1.9813,
  0.0953,
  0.2975,
  2.2042,
  0.2407,
  2.9466
];
var DEFAULT_FSRS_WEIGHTS = FSRS_WEIGHTS_STANDARD;
var PROFILE_CONFIG = {
  INTENSIVE: {
    weights: FSRS_WEIGHTS_SUBDAY,
    minMinutes: 1,
    maximumIntervalDays: 36500
  },
  STANDARD: {
    weights: FSRS_WEIGHTS_STANDARD,
    minMinutes: 1440,
    // 1 day minimum
    maximumIntervalDays: 36500
  }
};
var DEFAULT_FSRS_PARAMETERS = {
  w: DEFAULT_FSRS_WEIGHTS,
  requestRetention: 0.9,
  maximumInterval: 36500,
  minMinutes: 1440
};
function getWeightsForProfile(profile) {
  return PROFILE_CONFIG[profile].weights;
}
function getMinMinutesForProfile(profile) {
  return PROFILE_CONFIG[profile].minMinutes;
}
function getMaxIntervalDaysForProfile(profile) {
  return PROFILE_CONFIG[profile].maximumIntervalDays;
}
function validateFSRSWeights(weights) {
  if (!Array.isArray(weights) || weights.length !== 17) {
    return false;
  }
  return weights.every((w) => isFinite(w));
}
function createSubDayWeights(againMinutes = 1, hardMinutes = 6, goodMinutes = 10, easyMinutes = 1440) {
  return [
    againMinutes / 1440,
    // w[0] - Again stability
    hardMinutes / 1440,
    // w[1] - Hard stability
    goodMinutes / 1440,
    // w[2] - Good stability
    easyMinutes / 1440,
    // w[3] - Easy stability
    ...DEFAULT_FSRS_WEIGHTS.slice(4)
    // Keep remaining weights
  ];
}
function validateProfile(profile) {
  return profile === "INTENSIVE" || profile === "STANDARD";
}
function validateRequestRetention(retention) {
  return retention > 0.5 && retention < 0.995;
}
var WEIGHT_PRESETS = {
  INTENSIVE: FSRS_WEIGHTS_SUBDAY,
  STANDARD: FSRS_WEIGHTS_STANDARD,
  RELAXED: createSubDayWeights(30, 60, 180, 720),
  ORIGINAL: FSRS_WEIGHTS_STANDARD
};

// src/database/types.ts
var DEFAULT_DECK_CONFIG = {
  newCardsLimit: 20,
  reviewCardsLimit: 100,
  enableNewCardsLimit: false,
  enableReviewCardsLimit: false,
  reviewOrder: "due-date",
  fsrs: {
    requestRetention: DEFAULT_FSRS_PARAMETERS.requestRetention,
    profile: "STANDARD"
  }
};

// src/database/schemas.ts
var CURRENT_SCHEMA_VERSION = 2;
var CREATE_TABLES_SQL = `
  PRAGMA foreign_keys = OFF;
  BEGIN;

  -- Decks table
  CREATE TABLE decks (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    filepath TEXT NOT NULL UNIQUE,
    tag TEXT NOT NULL,
    last_reviewed TEXT,
    config TEXT NOT NULL DEFAULT '{"newCardsLimit":20,"reviewCardsLimit":100,"enableNewCardsLimit":false,"enableReviewCardsLimit":false,"reviewOrder":"due-date","fsrs":{"requestRetention":0.9,"profile":"STANDARD"}}',
    created TEXT NOT NULL,
    modified TEXT NOT NULL
  );

  -- Flashcards table
  CREATE TABLE flashcards (
    id TEXT PRIMARY KEY,
    deck_id TEXT NOT NULL,
    front TEXT NOT NULL,
    back TEXT NOT NULL,
    type TEXT NOT NULL CHECK (type IN ('header-paragraph', 'table')),
    source_file TEXT NOT NULL,
    content_hash TEXT NOT NULL,
    header_level INTEGER CHECK (header_level >= 1 AND header_level <= 6),
    state TEXT NOT NULL CHECK (state IN ('new', 'review')),
    due_date TEXT NOT NULL,
    interval REAL NOT NULL,
    repetitions INTEGER NOT NULL DEFAULT 0,
    difficulty REAL NOT NULL DEFAULT 5.0,
    stability REAL NOT NULL DEFAULT 0,
    lapses INTEGER NOT NULL DEFAULT 0,
    last_reviewed TEXT,
    created TEXT NOT NULL,
    modified TEXT NOT NULL,
    FOREIGN KEY (deck_id) REFERENCES decks(id) ON DELETE CASCADE
  );

  -- Review logs table
  CREATE TABLE review_logs (
    id TEXT PRIMARY KEY,
    flashcard_id TEXT NOT NULL,
    last_reviewed_at TEXT NOT NULL,
    shown_at TEXT,
    reviewed_at TEXT NOT NULL,
    rating INTEGER NOT NULL CHECK (rating IN (1, 2, 3, 4)),
    rating_label TEXT NOT NULL CHECK (rating_label IN ('again', 'hard', 'good', 'easy')),
    time_elapsed_ms INTEGER,
    old_state TEXT NOT NULL CHECK (old_state IN ('new', 'review')),
    old_repetitions INTEGER NOT NULL DEFAULT 0,
    old_lapses INTEGER NOT NULL DEFAULT 0,
    old_stability REAL NOT NULL DEFAULT 0,
    old_difficulty REAL NOT NULL DEFAULT 5.0,
    new_state TEXT NOT NULL CHECK (new_state IN ('new', 'review')),
    new_repetitions INTEGER NOT NULL DEFAULT 0,
    new_lapses INTEGER NOT NULL DEFAULT 0,
    new_stability REAL NOT NULL DEFAULT 2.5,
    new_difficulty REAL NOT NULL DEFAULT 5.0,
    old_interval_minutes INTEGER NOT NULL,
    new_interval_minutes INTEGER NOT NULL,
    old_due_at TEXT NOT NULL,
    new_due_at TEXT NOT NULL,
    elapsed_days REAL NOT NULL,
    retrievability REAL NOT NULL,
    request_retention REAL NOT NULL,
    profile TEXT NOT NULL DEFAULT 'STANDARD' CHECK (profile IN ('INTENSIVE', 'STANDARD')),
    maximum_interval_days INTEGER NOT NULL,
    min_minutes INTEGER NOT NULL,
    fsrs_weights_version TEXT NOT NULL,
    scheduler_version TEXT NOT NULL,
    note_model_id TEXT,
    card_template_id TEXT,
    content_hash TEXT,
    client TEXT,
    FOREIGN KEY (flashcard_id) REFERENCES flashcards(id) ON DELETE CASCADE
  );

  -- Create indexes
  CREATE INDEX IF NOT EXISTS idx_flashcards_deck_id ON flashcards(deck_id);
  CREATE INDEX IF NOT EXISTS idx_flashcards_due_date ON flashcards(due_date);
  CREATE INDEX IF NOT EXISTS idx_review_logs_flashcard_id ON review_logs(flashcard_id);
  CREATE INDEX IF NOT EXISTS idx_review_logs_reviewed_at ON review_logs(reviewed_at);

  -- Set schema version
  PRAGMA user_version = ${CURRENT_SCHEMA_VERSION};

  COMMIT;
  PRAGMA foreign_keys = ON;
`;
var MIGRATE_TABLES_SQL = `
  PRAGMA foreign_keys = OFF;
  BEGIN;

  -- Decks table
  CREATE TABLE decks_new (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    filepath TEXT NOT NULL UNIQUE,
    tag TEXT NOT NULL,
    last_reviewed TEXT,
    config TEXT NOT NULL DEFAULT '{"newCardsLimit":20,"reviewCardsLimit":100,"enableNewCardsLimit":false,"enableReviewCardsLimit":false,"reviewOrder":"due-date","fsrs":{"requestRetention":0.9,"profile":"STANDARD"}}',
    created TEXT NOT NULL,
    modified TEXT NOT NULL
  );

  -- Flashcards table
  CREATE TABLE flashcards_new (
    id TEXT PRIMARY KEY,
    deck_id TEXT NOT NULL,
    front TEXT NOT NULL,
    back TEXT NOT NULL,
    type TEXT NOT NULL CHECK (type IN ('header-paragraph', 'table')),
    source_file TEXT NOT NULL,
    content_hash TEXT NOT NULL,
    header_level INTEGER CHECK (header_level >= 1 AND header_level <= 6),
    state TEXT NOT NULL CHECK (state IN ('new', 'review')),
    due_date TEXT NOT NULL,
    interval REAL NOT NULL,
    repetitions INTEGER NOT NULL DEFAULT 0,
    difficulty REAL NOT NULL DEFAULT 5.0,
    stability REAL NOT NULL DEFAULT 0,
    lapses INTEGER NOT NULL DEFAULT 0,
    last_reviewed TEXT,
    created TEXT NOT NULL,
    modified TEXT NOT NULL,
    FOREIGN KEY (deck_id) REFERENCES decks(id) ON DELETE CASCADE
  );

  -- Review logs table
  CREATE TABLE review_logs_new (
    id TEXT PRIMARY KEY,
    flashcard_id TEXT NOT NULL,
    last_reviewed_at TEXT NOT NULL,
    shown_at TEXT,
    reviewed_at TEXT NOT NULL,
    rating INTEGER NOT NULL CHECK (rating IN (1, 2, 3, 4)),
    rating_label TEXT NOT NULL CHECK (rating_label IN ('again', 'hard', 'good', 'easy')),
    time_elapsed_ms INTEGER,
    old_state TEXT NOT NULL CHECK (old_state IN ('new', 'review')),
    old_repetitions INTEGER NOT NULL DEFAULT 0,
    old_lapses INTEGER NOT NULL DEFAULT 0,
    old_stability REAL NOT NULL DEFAULT 0,
    old_difficulty REAL NOT NULL DEFAULT 5.0,
    new_state TEXT NOT NULL CHECK (new_state IN ('new', 'review')),
    new_repetitions INTEGER NOT NULL DEFAULT 0,
    new_lapses INTEGER NOT NULL DEFAULT 0,
    new_stability REAL NOT NULL DEFAULT 2.5,
    new_difficulty REAL NOT NULL DEFAULT 5.0,
    old_interval_minutes INTEGER NOT NULL,
    new_interval_minutes INTEGER NOT NULL,
    old_due_at TEXT NOT NULL,
    new_due_at TEXT NOT NULL,
    elapsed_days REAL NOT NULL,
    retrievability REAL NOT NULL,
    request_retention REAL NOT NULL,
    profile TEXT NOT NULL DEFAULT 'STANDARD' CHECK (profile IN ('INTENSIVE', 'STANDARD')),
    maximum_interval_days INTEGER NOT NULL,
    min_minutes INTEGER NOT NULL,
    fsrs_weights_version TEXT NOT NULL,
    scheduler_version TEXT NOT NULL,
    note_model_id TEXT,
    card_template_id TEXT,
    content_hash TEXT,
    client TEXT,
    FOREIGN KEY (flashcard_id) REFERENCES flashcards(id) ON DELETE CASCADE
  );

  -- Copy existing data if tables exist
  INSERT OR IGNORE INTO decks_new SELECT * FROM decks WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='decks');
  INSERT OR IGNORE INTO flashcards_new SELECT * FROM flashcards WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='flashcards');
  INSERT OR IGNORE INTO review_logs_new SELECT * FROM review_logs WHERE EXISTS (SELECT 1 FROM sqlite_master WHERE type='table' AND name='review_logs');

  -- Drop old tables if they exist
  DROP TABLE IF EXISTS review_logs;
  DROP TABLE IF EXISTS flashcards;
  DROP TABLE IF EXISTS decks;

  -- Rename new tables
  ALTER TABLE decks_new RENAME TO decks;
  ALTER TABLE flashcards_new RENAME TO flashcards;
  ALTER TABLE review_logs_new RENAME TO review_logs;

  -- Create indexes
  CREATE INDEX IF NOT EXISTS idx_flashcards_deck_id ON flashcards(deck_id);
  CREATE INDEX IF NOT EXISTS idx_flashcards_due_date ON flashcards(due_date);
  CREATE INDEX IF NOT EXISTS idx_review_logs_flashcard_id ON review_logs(flashcard_id);
  CREATE INDEX IF NOT EXISTS idx_review_logs_reviewed_at ON review_logs(reviewed_at);

  -- Set schema version
  PRAGMA user_version = ${CURRENT_SCHEMA_VERSION};

  COMMIT;
  PRAGMA foreign_keys = ON;
`;
var SQL_QUERIES = {
  // Deck operations
  INSERT_DECK: `
    INSERT OR REPLACE INTO decks (
      id, name, filepath, tag, last_reviewed, config, created, modified
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  `,
  GET_DECK_BY_TAG: `SELECT * FROM decks WHERE tag = ?`,
  GET_DECK_BY_FILEPATH: `SELECT * FROM decks WHERE filepath = ?`,
  GET_DECK_BY_ID: `SELECT * FROM decks WHERE id = ?`,
  GET_ALL_DECKS: `SELECT * FROM decks ORDER BY name`,
  UPDATE_DECK_TIMESTAMP: `
    UPDATE decks
    SET modified = ?
    WHERE id = ?
  `,
  UPDATE_DECK_LAST_REVIEWED: `
    UPDATE decks
    SET last_reviewed = ?, modified = ?
    WHERE id = ?
  `,
  RENAME_DECK: `
    UPDATE decks
    SET id = ?, name = ?, filepath = ?, modified = ?
    WHERE id = ?
  `,
  DELETE_DECK_BY_FILEPATH: `DELETE FROM decks WHERE filepath = ?`,
  DELETE_DECK: `DELETE FROM decks WHERE id = ?`,
  // Flashcard operations
  INSERT_FLASHCARD: `
    INSERT OR REPLACE INTO flashcards (
      id, deck_id, front, back, type, source_file, content_hash,
      header_level, state, due_date, interval, repetitions,
      difficulty, stability, lapses, last_reviewed, created, modified
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,
  DELETE_FLASHCARD: `DELETE FROM flashcards WHERE id = ?`,
  UPDATE_FLASHCARD_DECK_IDS: `
    UPDATE flashcards SET deck_id = ? WHERE deck_id = ?
  `,
  GET_FLASHCARDS_BY_DECK: `SELECT * FROM flashcards WHERE deck_id = ? ORDER BY created`,
  GET_DUE_FLASHCARDS: `SELECT * FROM flashcards WHERE deck_id = ? AND due_date <= ? ORDER BY due_date`,
  DELETE_FLASHCARDS_BY_FILE: `DELETE FROM flashcards WHERE source_file = ?`,
  GET_NEW_CARDS_FOR_REVIEW: `
    SELECT * FROM flashcards
    WHERE deck_id = ? AND due_date <= ? AND state = 'new'
    ORDER BY due_date
  `,
  GET_REVIEW_CARDS_FOR_REVIEW: `
    SELECT * FROM flashcards
    WHERE deck_id = ? AND due_date <= ? AND state = 'review'
    ORDER BY due_date
  `,
  // Review log operations
  INSERT_REVIEW_LOG: `
    INSERT INTO review_logs (
      id, flashcard_id, last_reviewed_at, shown_at, reviewed_at,
      rating, rating_label, time_elapsed_ms,
      old_state, old_repetitions, old_lapses, old_stability, old_difficulty,
      new_state, new_repetitions, new_lapses, new_stability, new_difficulty,
      old_interval_minutes, new_interval_minutes, old_due_at, new_due_at,
      elapsed_days, retrievability,
      request_retention, profile, maximum_interval_days, min_minutes,
      fsrs_weights_version, scheduler_version,
      note_model_id, card_template_id, content_hash, client
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,
  GET_LATEST_REVIEW_LOG: `
    SELECT
      rl.id, rl.flashcard_id, rl.last_reviewed_at, rl.shown_at, rl.reviewed_at,
      rl.rating, rl.rating_label, rl.time_elapsed_ms,
      rl.old_state, rl.old_repetitions, rl.old_lapses, rl.old_stability, rl.old_difficulty,
      rl.new_state, rl.new_repetitions, rl.new_lapses, rl.new_stability, rl.new_difficulty,
      rl.old_interval_minutes, rl.new_interval_minutes, rl.old_due_at, rl.new_due_at,
      rl.elapsed_days, rl.retrievability,
      rl.request_retention, rl.profile, rl.maximum_interval_days, rl.min_minutes,
      rl.fsrs_weights_version, rl.scheduler_version,
      rl.note_model_id, rl.card_template_id, rl.content_hash, rl.client
    FROM review_logs rl
    WHERE rl.flashcard_id = ?
    ORDER BY rl.reviewed_at DESC
    LIMIT 1
  `,
  // Daily review counts
  COUNT_NEW_CARDS_TODAY: `
    SELECT COUNT(*) as count FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE f.deck_id = ?
      AND rl.reviewed_at >= ?
      AND rl.reviewed_at <= ?
      AND (rl.old_interval_minutes = 0 OR f.repetitions = 1)
  `,
  COUNT_REVIEW_CARDS_TODAY: `
    SELECT COUNT(*) as count FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE f.deck_id = ?
      AND rl.reviewed_at >= ? AND rl.reviewed_at <= ?
      AND rl.old_interval_minutes > 0
  `,
  // Statistics queries
  COUNT_NEW_CARDS: `
    SELECT COUNT(*) FROM flashcards
    WHERE deck_id = ? AND state = 'new' AND due_date <= ?
  `,
  COUNT_DUE_CARDS: `
    SELECT COUNT(*) FROM flashcards
    WHERE deck_id = ? AND state = 'review' AND due_date <= ?
  `,
  COUNT_TOTAL_CARDS: `
    SELECT COUNT(*) FROM flashcards WHERE deck_id = ?
  `,
  GET_REVIEW_COUNTS_BY_DATE: `
    SELECT DATE(reviewed_at) as review_date, COUNT(*) as count
    FROM review_logs
    WHERE reviewed_at >= ? AND reviewed_at <= ?
    GROUP BY DATE(reviewed_at)
    ORDER BY review_date
  `,
  // Migration helpers
  CHECK_EXISTING_TABLES: `
    SELECT name FROM sqlite_master
    WHERE type='table' AND name IN ('decks', 'flashcards', 'review_logs')
  `,
  // Statistics queries for overall stats
  GET_DAILY_STATS: `
    SELECT
      DATE(reviewed_at) as date,
      COUNT(*) as reviews,
      AVG(time_elapsed_ms / 1000.0) as avg_time_seconds,
      SUM(CASE WHEN old_repetitions = 0 THEN 1 ELSE 0 END) as new_cards,
      SUM(CASE WHEN old_repetitions > 0 AND old_repetitions < 3 THEN 1 ELSE 0 END) as learning_cards,
      SUM(CASE WHEN old_repetitions >= 3 THEN 1 ELSE 0 END) as review_cards,
      AVG(CASE WHEN rating >= 3 THEN 1.0 ELSE 0.0 END) as correct_rate
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
    GROUP BY DATE(reviewed_at)
    ORDER BY date
  `,
  GET_DAILY_STATS_OVERALL: `
    SELECT
      DATE(reviewed_at) as date,
      COUNT(*) as reviews,
      COUNT(CASE WHEN difficulty != 'again' THEN 1 END) as correct,
      COUNT(CASE WHEN f.state = 'new' THEN 1 END) as new_cards,
      COUNT(CASE WHEN f.state = 'review' THEN 1 END) as review_cards
    FROM review_logs rl
    JOIN flashcards f ON rl.flashcard_id = f.id
    WHERE DATE(reviewed_at) >= DATE(?)
    GROUP BY DATE(reviewed_at)
    ORDER BY date DESC
  `,
  GET_CARD_STATS: `
    SELECT
      f.state,
      COUNT(*) as count,
      AVG(f.repetitions) as avg_repetitions
    FROM flashcards f
    GROUP BY f.state
  `,
  GET_ANSWER_BUTTON_STATS: `
    SELECT
      rl.rating_label,
      COUNT(*) as count
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
    GROUP BY rl.rating_label
  `,
  GET_INTERVAL_DISTRIBUTION: `
    SELECT
      CASE
        WHEN f.interval < 1440 THEN '<1d'
        WHEN f.interval < 10080 THEN '1-7d'
        WHEN f.interval < 43200 THEN '1-4w'
        WHEN f.interval < 129600 THEN '1-3m'
        WHEN f.interval < 525600 THEN '3-12m'
        ELSE '>1y'
      END as interval_range,
      COUNT(*) as count
    FROM flashcards f
    WHERE f.state = 'review'
    GROUP BY interval_range
    ORDER BY
      CASE interval_range
        WHEN '<1d' THEN 1
        WHEN '1-7d' THEN 2
        WHEN '1-4w' THEN 3
        WHEN '1-3m' THEN 4
        WHEN '3-12m' THEN 5
        WHEN '>1y' THEN 6
      END
  `,
  GET_FORECAST_DUE_COUNT: `
    SELECT COUNT(*) as due_count
    FROM flashcards f
    WHERE DATE(f.due_date) = DATE(?)
  `,
  GET_PACE_STATS: `
    SELECT
      AVG(rl.time_elapsed_ms / 1000.0) as avg_pace,
      SUM(rl.time_elapsed_ms / 1000.0) as total_time
    FROM review_logs rl
    WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?
      AND rl.time_elapsed_ms IS NOT NULL
      AND rl.time_elapsed_ms > 0
  `
};

// src/database/migrations.ts
function getCurrentSchemaVersion(db) {
  try {
    const stmt = db.prepare(`PRAGMA user_version`);
    let version = 0;
    if (stmt.step()) {
      const row = stmt.get();
      version = Number(row[0]) || 0;
    }
    stmt.free();
    return version;
  } catch (error) {
    return 0;
  }
}
function needsMigration(db) {
  return getCurrentSchemaVersion(db) !== CURRENT_SCHEMA_VERSION;
}
function createTables(db, debugLog) {
  const log = debugLog || (() => {
  });
  try {
    log(`Creating fresh database schema (version ${CURRENT_SCHEMA_VERSION})`);
    db.run(CREATE_TABLES_SQL);
    log(`\u2705 Database schema created successfully`);
  } catch (error) {
    log(`\u274C Schema creation failed: ${error}`);
    throw new Error(`Schema creation failed: ${error}`);
  }
}
function migrate(db, debugLog) {
  const log = debugLog || (() => {
  });
  const currentVersion = getCurrentSchemaVersion(db);
  if (currentVersion === CURRENT_SCHEMA_VERSION) {
    log(`Schema is already up to date (version ${CURRENT_SCHEMA_VERSION})`);
    return;
  }
  log(
    `Migrating schema from version ${currentVersion} to ${CURRENT_SCHEMA_VERSION}`
  );
  try {
    db.run(MIGRATE_TABLES_SQL);
    log(`\u2705 Migration completed successfully`);
  } catch (error) {
    log(`\u274C Migration failed: ${error}`);
    throw new Error(`Migration failed: ${error}`);
  }
}

// src/database/DatabaseService.ts
var DatabaseService = class {
  constructor(dbPath, adapter, debugLog) {
    this.db = null;
    this.SQL = null;
    this.dbPath = dbPath;
    this.adapter = adapter;
    this.debugLog = debugLog;
  }
  async initialize() {
    try {
      this.SQL = await (0, import_sql.default)({
        locateFile: (file7) => `https://sql.js.org/dist/${file7}`
      });
      const buffer = await this.loadDatabaseFile();
      if (buffer) {
        this.db = new this.SQL.Database(new Uint8Array(buffer));
        await this.migrateSchemaIfNeeded();
      } else {
        this.db = new this.SQL.Database();
        await this.createFreshDatabase();
      }
    } catch (error) {
      console.error("Failed to initialize database:", error);
      throw error;
    }
  }
  async loadDatabaseFile() {
    try {
      if (await this.adapter.exists(this.dbPath)) {
        const data = await this.adapter.readBinary(this.dbPath);
        return data;
      }
      return null;
    } catch (error) {
      this.debugLog("Database file doesn't exist yet, will create new one");
      return null;
    }
  }
  async save() {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const data = this.db.export();
      const dir = this.dbPath.substring(0, this.dbPath.lastIndexOf("/"));
      if (!await this.adapter.exists(dir)) {
        await this.adapter.mkdir(dir);
      }
      await this.adapter.writeBinary(this.dbPath, Buffer.from(data));
    } catch (error) {
      console.error("Failed to save database:", error);
      throw error;
    }
  }
  async createFreshDatabase() {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      this.debugLog("Creating fresh database schema...");
      createTables(this.db, this.debugLog.bind(this));
      await this.save();
      this.debugLog("Fresh database created successfully");
    } catch (error) {
      this.debugLog(`Fresh database creation failed: ${error}`);
      throw new Error(`Fresh database creation failed: ${error}`);
    }
  }
  // Helper method to parse deck rows
  parseDeckRow(row) {
    let config = row[5] ? JSON.parse(row[5]) : DEFAULT_DECK_CONFIG;
    if (!config.fsrs) {
      config = {
        ...config,
        fsrs: DEFAULT_DECK_CONFIG.fsrs
      };
    }
    return {
      id: row[0],
      name: row[1],
      filepath: row[2],
      tag: row[3],
      lastReviewed: row[4],
      config,
      created: row[6],
      modified: row[7]
    };
  }
  // Deck operations
  async createDeck(deck) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullDeck = {
      ...deck,
      created: now,
      modified: now
    };
    try {
      const stmt = this.db.prepare(SQL_QUERIES.INSERT_DECK);
      stmt.run([
        fullDeck.id,
        fullDeck.name,
        fullDeck.filepath,
        fullDeck.tag,
        fullDeck.lastReviewed,
        JSON.stringify(fullDeck.config),
        fullDeck.created,
        fullDeck.modified
      ]);
      stmt.free();
      await this.save();
      return fullDeck;
    } catch (error) {
      throw error;
    }
  }
  async getDeckByTag(tag) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_DECK_BY_TAG);
    stmt.bind([tag]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async getDeckByFilepath(filepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_DECK_BY_FILEPATH);
    stmt.bind([filepath]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async getDeckById(id) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_DECK_BY_ID);
    stmt.bind([id]);
    if (stmt.step()) {
      const result = stmt.get();
      stmt.free();
      return this.parseDeckRow(result);
    }
    stmt.free();
    return null;
  }
  async updateDeck(deckId, updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    if (Object.keys(updates).length === 0) {
      return;
    }
    const updateFields = Object.keys(updates).map((key) => {
      const dbField = key === "lastReviewed" ? "last_reviewed" : key;
      return `${dbField} = ?`;
    }).join(", ");
    const sql = `UPDATE decks SET ${updateFields}, modified = ? WHERE id = ?`;
    const stmt = this.db.prepare(sql);
    const values = Object.values(updates).map(
      (value, index) => {
        const key = Object.keys(updates)[index];
        return key === "config" ? JSON.stringify(value) : value;
      }
    );
    values.push(now, deckId);
    stmt.run(values);
    stmt.free();
    await this.save();
  }
  async updateDeckTimestamp(deckId, timestamp) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.UPDATE_DECK_TIMESTAMP);
    stmt.run([timestamp, deckId]);
    stmt.free();
    await this.save();
  }
  async getAllDecks() {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_ALL_DECKS);
    const decks = [];
    while (stmt.step()) {
      const row = stmt.get();
      decks.push(this.parseDeckRow(row));
    }
    stmt.free();
    return decks;
  }
  async updateDeckLastReviewed(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.UPDATE_DECK_LAST_REVIEWED);
    stmt.run([(/* @__PURE__ */ new Date()).toISOString(), (/* @__PURE__ */ new Date()).toISOString(), deckId]);
    stmt.free();
    await this.save();
  }
  async renameDeck(oldDeckId, newDeckId, newName, newFilepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const stmt = this.db.prepare(SQL_QUERIES.RENAME_DECK);
    stmt.run([newDeckId, newName, newFilepath, now, oldDeckId]);
    stmt.free();
    await this.save();
  }
  async deleteDeckByFilepath(filepath) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckByFilepath(filepath);
    if (!deck)
      return;
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_DECK_BY_FILEPATH);
    stmt.run([filepath]);
    stmt.free();
    await this.save();
  }
  async deleteDeck(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_DECK);
    stmt.run([deckId]);
    stmt.free();
    await this.save();
  }
  // Flashcard operations
  async createFlashcard(flashcard) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const fullFlashcard = {
      ...flashcard,
      created: now,
      modified: now
    };
    const stmt = this.db.prepare(SQL_QUERIES.INSERT_FLASHCARD);
    stmt.run([
      fullFlashcard.id,
      fullFlashcard.deckId,
      fullFlashcard.front,
      fullFlashcard.back,
      fullFlashcard.type,
      fullFlashcard.sourceFile,
      fullFlashcard.contentHash,
      fullFlashcard.headerLevel || null,
      fullFlashcard.state,
      fullFlashcard.dueDate,
      flashcard.interval,
      flashcard.repetitions,
      flashcard.difficulty,
      flashcard.stability,
      flashcard.lapses,
      fullFlashcard.lastReviewed,
      fullFlashcard.created,
      fullFlashcard.modified
    ]);
    stmt.free();
    await this.save();
    return fullFlashcard;
  }
  async updateFlashcard(flashcardId, updates) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const updateFields = Object.keys(updates).map((key) => {
      const dbField = key === "contentHash" ? "content_hash" : key === "sourceFile" ? "source_file" : key === "dueDate" ? "due_date" : key === "difficulty" ? "difficulty" : key === "lastReviewed" ? "last_reviewed" : key === "headerLevel" ? "header_level" : key.replace(/([A-Z])/g, "_$1").toLowerCase();
      return `${dbField} = ?`;
    }).join(", ");
    const sql = `UPDATE flashcards SET ${updateFields}, modified = ? WHERE id = ?`;
    const stmt = this.db.prepare(sql);
    const values = Object.values(updates);
    values.push(now, flashcardId);
    stmt.run(values);
    stmt.free();
    await this.save();
  }
  async deleteFlashcard(flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_FLASHCARD);
    stmt.run([flashcardId]);
    stmt.free();
    await this.save();
  }
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.UPDATE_FLASHCARD_DECK_IDS);
    stmt.run([newDeckId, oldDeckId]);
    stmt.free();
    await this.save();
  }
  async getFlashcardsByDeck(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_FLASHCARDS_BY_DECK);
    stmt.bind([deckId]);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getFlashcardsByDeckFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    let query = "SELECT * FROM flashcards WHERE deck_id = ?";
    const params = [deckId];
    if (headerLevel !== void 0) {
      query += " AND (type = 'table' OR header_level = ?)";
      params.push(headerLevel.toString());
    }
    const stmt = this.db.prepare(query);
    stmt.bind(params);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDueFlashcards(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_DUE_FLASHCARDS);
    const now = (/* @__PURE__ */ new Date()).toISOString();
    stmt.bind([deckId, now]);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDueFlashcardsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    let query = `
      SELECT * FROM flashcards
      WHERE deck_id = ? AND due_date <= ?
    `;
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const params = [deckId, now];
    if (headerLevel !== void 0) {
      query += " AND (type = 'table' OR header_level = ?)";
      params.push(headerLevel.toString());
    }
    query += " ORDER BY due_date";
    const stmt = this.db.prepare(query);
    stmt.bind(params);
    const flashcards = [];
    while (stmt.step()) {
      const row = stmt.get();
      flashcards.push(this.rowToFlashcard(row));
    }
    stmt.free();
    return flashcards;
  }
  async getDailyReviewCounts(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayStart = `${today}T00:00:00.000Z`;
    const todayEnd = `${today}T23:59:59.999Z`;
    const newCardsStmt = this.db.prepare(SQL_QUERIES.COUNT_NEW_CARDS_TODAY);
    newCardsStmt.bind([deckId, todayStart, todayEnd]);
    const newResult = newCardsStmt.step() ? newCardsStmt.get() : [0];
    const newCount = Number(newResult[0]) || 0;
    newCardsStmt.free();
    const reviewCardsStmt = this.db.prepare(
      SQL_QUERIES.COUNT_REVIEW_CARDS_TODAY
    );
    reviewCardsStmt.bind([deckId, todayStart, todayEnd]);
    const reviewResult = reviewCardsStmt.step() ? reviewCardsStmt.get() : [0];
    const reviewCount = Number(reviewResult[0]) || 0;
    reviewCardsStmt.free();
    return { newCount, reviewCount };
  }
  async getReviewableFlashcards(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const flashcards = [];
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const newCardsLimit = Number(config.newCardsLimit) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    const remainingNewCards = config.enableNewCardsLimit && newCardsLimit > 0 ? Math.max(0, newCardsLimit - newCountToday) : config.enableNewCardsLimit && newCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingNewCards > 0) {
      const sql = `${SQL_QUERIES.GET_NEW_CARDS_FOR_REVIEW}${config.enableNewCardsLimit ? ` LIMIT ${remainingNewCards}` : ""}`;
      const newCardsStmt = this.db.prepare(sql);
      newCardsStmt.bind([deckId, now]);
      while (newCardsStmt.step()) {
        const row = newCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      newCardsStmt.free();
    }
    const reviewCardsLimit = Number(config.reviewCardsLimit) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    const remainingReviewCards = config.enableReviewCardsLimit && reviewCardsLimit > 0 ? Math.max(0, reviewCardsLimit - reviewCountToday) : config.enableReviewCardsLimit && reviewCardsLimit === 0 ? 0 : Number.MAX_SAFE_INTEGER;
    if (remainingReviewCards > 0) {
      const sql = `${SQL_QUERIES.GET_REVIEW_CARDS_FOR_REVIEW}${config.enableReviewCardsLimit ? ` LIMIT ${remainingReviewCards}` : ""}`;
      const reviewCardsStmt = this.db.prepare(sql);
      reviewCardsStmt.bind([deckId, now]);
      while (reviewCardsStmt.step()) {
        const row = reviewCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      reviewCardsStmt.free();
    }
    flashcards.sort((a, b) => {
      const stateOrder = { review: 1, new: 2 };
      const aOrder = stateOrder[a.state];
      const bOrder = stateOrder[b.state];
      if (aOrder !== bOrder) {
        return aOrder - bOrder;
      }
      if (a.state === "review") {
        if (config.reviewOrder === "random") {
          return Math.random() - 0.5;
        } else {
          return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
        }
      } else if (a.state === "new") {
        return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
      }
      return 0;
    });
    return flashcards;
  }
  async getReviewableFlashcardsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckById(deckId);
    if (!deck)
      throw new Error(`Deck not found: ${deckId}`);
    const config = deck.config;
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const flashcards = [];
    const headerFilter = headerLevel !== void 0 ? " AND (type = 'table' OR header_level = ?)" : "";
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    if (!config.enableNewCardsLimit || dailyCounts.newCount < config.newCardsLimit) {
      const remainingNewCards = config.enableNewCardsLimit ? config.newCardsLimit - dailyCounts.newCount : Number.MAX_SAFE_INTEGER;
      let newCardsQuery = `
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'new'${headerFilter}
        ORDER BY due_date
        ${config.enableNewCardsLimit ? `LIMIT ${remainingNewCards}` : ""}
      `;
      const newCardsStmt = this.db.prepare(newCardsQuery);
      const newCardsParams = [deckId, now];
      if (headerLevel !== void 0)
        newCardsParams.push(headerLevel.toString());
      newCardsStmt.bind(newCardsParams);
      while (newCardsStmt.step()) {
        const row = newCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      newCardsStmt.free();
    }
    if (!config.enableReviewCardsLimit || dailyCounts.reviewCount < config.reviewCardsLimit) {
      const remainingReviewCards = config.enableReviewCardsLimit ? config.reviewCardsLimit - dailyCounts.reviewCount : Number.MAX_SAFE_INTEGER;
      let reviewCardsQuery = `
        SELECT * FROM flashcards
        WHERE deck_id = ? AND due_date <= ? AND state = 'review'${headerFilter}
        ORDER BY due_date
        ${config.enableReviewCardsLimit ? `LIMIT ${remainingReviewCards}` : ""}
      `;
      const reviewCardsStmt = this.db.prepare(reviewCardsQuery);
      const reviewCardsParams = [deckId, now];
      if (headerLevel !== void 0)
        reviewCardsParams.push(headerLevel.toString());
      reviewCardsStmt.bind(reviewCardsParams);
      while (reviewCardsStmt.step()) {
        const row = reviewCardsStmt.get();
        flashcards.push(this.rowToFlashcard(row));
      }
      reviewCardsStmt.free();
    }
    return flashcards;
  }
  async getLatestReviewLogForFlashcard(flashcardId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.GET_LATEST_REVIEW_LOG);
    stmt.bind([flashcardId]);
    if (stmt.step()) {
      const row = stmt.get();
      stmt.free();
      return {
        id: row[0],
        flashcardId: row[1],
        lastReviewedAt: row[2],
        shownAt: row[3],
        reviewedAt: row[4],
        rating: row[5],
        ratingLabel: row[6],
        timeElapsedMs: row[7],
        oldState: row[8],
        oldRepetitions: row[9],
        oldLapses: row[10],
        oldStability: row[11],
        oldDifficulty: row[12],
        newState: row[13],
        newRepetitions: row[14],
        newLapses: row[15],
        newStability: row[16],
        newDifficulty: row[17],
        oldIntervalMinutes: row[18],
        newIntervalMinutes: row[19],
        oldDueAt: row[20],
        newDueAt: row[21],
        elapsedDays: row[22],
        retrievability: row[23],
        requestRetention: row[24],
        profile: row[25] || "STANDARD",
        maximumIntervalDays: row[26],
        minMinutes: row[27],
        fsrsWeightsVersion: row[28],
        schedulerVersion: row[29],
        noteModelId: row[30],
        cardTemplateId: row[31],
        contentHash: row[32],
        client: row[33]
      };
    }
    stmt.free();
    return null;
  }
  async deleteFlashcardsByFile(sourceFile) {
    if (!this.db)
      throw new Error("Database not initialized");
    const stmt = this.db.prepare(SQL_QUERIES.DELETE_FLASHCARDS_BY_FILE);
    stmt.run([sourceFile]);
    stmt.free();
    await this.save();
  }
  // Review log operations
  async createReviewLog(log) {
    if (!this.db)
      throw new Error("Database not initialized");
    const id = `review_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    const stmt = this.db.prepare(SQL_QUERIES.INSERT_REVIEW_LOG);
    stmt.run([
      id,
      log.flashcardId,
      log.lastReviewedAt,
      log.shownAt || null,
      log.reviewedAt,
      log.rating,
      log.ratingLabel,
      log.timeElapsedMs || null,
      log.oldState,
      log.oldRepetitions,
      log.oldLapses,
      log.oldStability,
      log.oldDifficulty,
      log.newState,
      log.newRepetitions,
      log.newLapses,
      log.newStability,
      log.newDifficulty,
      log.oldIntervalMinutes,
      log.newIntervalMinutes,
      log.oldDueAt,
      log.newDueAt,
      log.elapsedDays,
      log.retrievability,
      log.requestRetention,
      log.profile,
      log.maximumIntervalDays,
      log.minMinutes,
      log.fsrsWeightsVersion,
      log.schedulerVersion,
      log.noteModelId || null,
      log.cardTemplateId || null,
      log.contentHash || null,
      log.client || null
    ]);
    stmt.free();
    await this.save();
  }
  // Statistics operations
  async getDeckStats(deckId) {
    if (!this.db)
      throw new Error("Database not initialized");
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const config = deck.config;
    const dailyCounts = await this.getDailyReviewCounts(deckId);
    const newStmt = this.db.prepare(SQL_QUERIES.COUNT_NEW_CARDS);
    newStmt.bind([deckId, now]);
    newStmt.step();
    const totalNewCards = newStmt.get()[0] || 0;
    newStmt.free();
    let newCount = totalNewCards;
    const newCardsLimit = Number(config.newCardsLimit) || 0;
    const newCountToday = Number(dailyCounts.newCount) || 0;
    if (config.enableNewCardsLimit && newCardsLimit > 0) {
      const remainingNew = Math.max(0, newCardsLimit - newCountToday);
      newCount = Math.min(totalNewCards, remainingNew);
    } else if (config.enableNewCardsLimit && newCardsLimit === 0) {
      newCount = 0;
    }
    const learningCount = 0;
    const dueStmt = this.db.prepare(SQL_QUERIES.COUNT_DUE_CARDS);
    dueStmt.bind([deckId, now]);
    dueStmt.step();
    const totalDueCards = dueStmt.get()[0] || 0;
    dueStmt.free();
    let dueCount = totalDueCards;
    const reviewCardsLimit = Number(config.reviewCardsLimit) || 0;
    const reviewCountToday = Number(dailyCounts.reviewCount) || 0;
    if (config.enableReviewCardsLimit && reviewCardsLimit > 0) {
      const remainingReview = Math.max(0, reviewCardsLimit - reviewCountToday);
      dueCount = Math.min(totalDueCards, remainingReview);
    } else if (config.enableReviewCardsLimit && reviewCardsLimit === 0) {
      dueCount = 0;
    }
    const totalStmt = this.db.prepare(SQL_QUERIES.COUNT_TOTAL_CARDS);
    totalStmt.bind([deckId]);
    totalStmt.step();
    const totalCount = totalStmt.get()[0] || 0;
    totalStmt.free();
    return {
      deckId,
      newCount,
      dueCount,
      totalCount
    };
  }
  async getDeckStatsFiltered(deckId, headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const deck = await this.getDeckById(deckId);
    if (!deck) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const now = (/* @__PURE__ */ new Date()).toISOString();
    const headerFilter = headerLevel !== void 0 ? " AND (type = 'table' OR header_level = ?)" : "";
    const newQuery = `
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'new' AND due_date <= ?${headerFilter}
    `;
    const newStmt = this.db.prepare(newQuery);
    const newParams = [deckId, now];
    if (headerLevel !== void 0)
      newParams.push(headerLevel.toString());
    newStmt.bind(newParams);
    newStmt.step();
    const newCount = newStmt.get()[0];
    newStmt.free();
    const learningCount = 0;
    const dueQuery = `
      SELECT COUNT(*) FROM flashcards
      WHERE deck_id = ? AND state = 'review' AND due_date <= ?${headerFilter}
    `;
    const dueStmt = this.db.prepare(dueQuery);
    const dueParams = [deckId, now];
    if (headerLevel !== void 0)
      dueParams.push(headerLevel.toString());
    dueStmt.bind(dueParams);
    dueStmt.step();
    const dueCount = dueStmt.get()[0];
    dueStmt.free();
    const totalQuery = `
      SELECT COUNT(*) FROM flashcards WHERE deck_id = ?${headerFilter}
    `;
    const totalStmt = this.db.prepare(totalQuery);
    const totalParams = [deckId];
    if (headerLevel !== void 0)
      totalParams.push(headerLevel.toString());
    totalStmt.bind(totalParams);
    totalStmt.step();
    const totalCount = totalStmt.get()[0];
    totalStmt.free();
    return {
      name: deck.name,
      newCount,
      dueCount,
      totalCount
    };
  }
  async getAllDeckStats() {
    if (!this.db)
      throw new Error("Database not initialized");
    const decks = await this.getAllDecks();
    const stats = [];
    for (const deck of decks) {
      const deckStats = await this.getDeckStats(deck.id);
      stats.push(deckStats);
    }
    return stats;
  }
  async getAllDeckStatsFiltered(headerLevel) {
    if (!this.db)
      throw new Error("Database not initialized");
    const decks = await this.getAllDecks();
    const stats = [];
    for (const deck of decks) {
      const deckStats = await this.getDeckStatsFiltered(deck.id, headerLevel);
      stats.push({
        deckId: deck.id,
        newCount: deckStats.newCount,
        dueCount: deckStats.dueCount,
        totalCount: deckStats.totalCount
      });
    }
    return stats;
  }
  async getReviewCountsByDate(days = 365) {
    if (!this.db)
      throw new Error("Database not initialized");
    const endDate = /* @__PURE__ */ new Date();
    const startDate = /* @__PURE__ */ new Date();
    startDate.setDate(endDate.getDate() - days);
    const stmt = this.db.prepare(SQL_QUERIES.GET_REVIEW_COUNTS_BY_DATE);
    stmt.bind([startDate.toISOString(), endDate.toISOString()]);
    const reviewCounts = /* @__PURE__ */ new Map();
    while (stmt.step()) {
      const row = stmt.get();
      const date = row[0];
      const count = row[1];
      reviewCounts.set(date, count);
    }
    stmt.free();
    return reviewCounts;
  }
  async migrateSchemaIfNeeded() {
    if (!this.db)
      return;
    try {
      this.debugLog("Starting database migration check...");
      if (needsMigration(this.db)) {
        this.debugLog("Migration needed, applying...");
        migrate(this.db, this.debugLog.bind(this));
        await this.save();
        this.debugLog("Migration completed successfully");
      } else {
        this.debugLog("Database schema is up to date");
      }
    } catch (error) {
      this.debugLog(`Migration failed: ${error}`);
      throw new Error(`Database migration failed: ${error}`);
    }
  }
  // Helper methods
  rowToFlashcard(row) {
    return {
      id: row[0],
      deckId: row[1],
      front: row[2],
      back: row[3],
      type: row[4],
      sourceFile: row[5],
      contentHash: row[6],
      headerLevel: row[7] || void 0,
      state: row[8],
      dueDate: row[9],
      interval: row[10],
      repetitions: row[11],
      difficulty: row[12],
      stability: row[13],
      lapses: row[14],
      lastReviewed: row[15],
      created: row[16],
      modified: row[17]
    };
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    if (!this.db)
      throw new Error("Database not initialized");
    try {
      const cutoffDate = /* @__PURE__ */ new Date();
      if (timeframe === "12months") {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 1);
      } else {
        cutoffDate.setFullYear(cutoffDate.getFullYear() - 10);
      }
      let deckFilterCondition = "";
      let deckFilterParams = [];
      if (deckFilter.startsWith("deck:")) {
        const deckId = deckFilter.substring(5);
        deckFilterCondition = "AND f.deck_id = ?";
        deckFilterParams.push(deckId);
      } else if (deckFilter.startsWith("tag:")) {
        const tag = deckFilter.substring(4);
        deckFilterCondition = "AND d.tag = ?";
        deckFilterParams.push(tag);
      }
      const dailyStatsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_DAILY_STATS_OVERALL.replace(
          "FROM review_logs rl",
          "FROM review_logs rl"
        ).replace(
          "JOIN flashcards f ON rl.flashcard_id = f.id",
          "JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE DATE(reviewed_at) >= DATE(?)",
          `WHERE DATE(reviewed_at) >= DATE(?) ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_DAILY_STATS_OVERALL
      );
      dailyStatsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      const dailyStats = [];
      while (dailyStatsStmt.step()) {
        const row = dailyStatsStmt.get();
        const reviews = row[1];
        const correct = row[2];
        dailyStats.push({
          date: row[0],
          reviews,
          timeSpent: reviews * 30,
          // Estimate 30 seconds per review
          newCards: row[3],
          learningCards: 0,
          // No learning cards in pure FSRS
          reviewCards: row[4],
          correctRate: reviews > 0 ? correct / reviews * 100 : 0
        });
      }
      dailyStatsStmt.free();
      const cardStatsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_CARD_STATS.replace(
          "FROM flashcards f",
          "FROM flashcards f JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "GROUP BY f.state",
          `WHERE ${deckFilterCondition.replace("d.", "d.")} GROUP BY f.state`
        ) : SQL_QUERIES.GET_CARD_STATS
      );
      const cardStats = {
        new: 0,
        mature: 0
      };
      if (deckFilterCondition) {
        cardStatsStmt.bind(deckFilterParams);
      }
      while (cardStatsStmt.step()) {
        const row = cardStatsStmt.get();
        const state = row[0];
        const count = row[1];
        if (state === "new")
          cardStats.new = count;
        else if (state === "review")
          cardStats.mature = count;
      }
      cardStatsStmt.free();
      const answerButtonsStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_ANSWER_BUTTON_STATS.replace(
          "FROM review_logs rl",
          "FROM review_logs rl JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?",
          `WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ? ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_ANSWER_BUTTON_STATS
      );
      const answerButtons = {
        again: 0,
        hard: 0,
        good: 0,
        easy: 0
      };
      answerButtonsStmt.bind([
        cutoffDate.toISOString().split("T")[0],
        ...deckFilterParams
      ]);
      while (answerButtonsStmt.step()) {
        const row = answerButtonsStmt.get();
        const ratingLabel = row[0];
        const count = row[1];
        answerButtons[ratingLabel] = count;
      }
      answerButtonsStmt.free();
      const totalReviews = Object.values(answerButtons).reduce(
        (sum, count) => sum + count,
        0
      );
      const correctReviews = totalReviews - answerButtons.again;
      const retentionRate = totalReviews > 0 ? correctReviews / totalReviews * 100 : 0;
      const intervalsStmt = this.db.prepare(`
      SELECT
        CASE
          WHEN f.interval < 1440 THEN CAST(f.interval / 60 AS INTEGER) || 'h'
          WHEN f.interval < 43200 THEN CAST(f.interval / 1440 AS INTEGER) || 'd'
          ELSE CAST(f.interval / 43200 AS INTEGER) || 'm'
        END as interval_group,
        COUNT(*) as count
      FROM flashcards f
      ${deckFilterCondition ? "JOIN decks d ON f.deck_id = d.id" : ""}
      WHERE f.state != 'new'
      ${deckFilterCondition}
      GROUP BY interval_group
      ORDER BY f.interval
    `);
      if (deckFilterCondition) {
        intervalsStmt.bind(deckFilterParams);
      }
      const intervals = [];
      while (intervalsStmt.step()) {
        const row = intervalsStmt.get();
        intervals.push({
          interval: row[0],
          count: row[1]
        });
      }
      intervalsStmt.free();
      const forecast = [];
      const today = /* @__PURE__ */ new Date();
      for (let i = 0; i < 90; i++) {
        const forecastDate = new Date(today);
        forecastDate.setDate(today.getDate() + i);
        const dateStr = forecastDate.toISOString().split("T")[0];
        const forecastStmt = this.db.prepare(
          deckFilterCondition ? SQL_QUERIES.GET_FORECAST_DUE_COUNT.replace(
            "FROM flashcards f",
            "FROM flashcards f JOIN decks d ON f.deck_id = d.id"
          ).replace(
            "WHERE DATE(f.due_date) = DATE(?)",
            `WHERE DATE(f.due_date) = DATE(?) ${deckFilterCondition}`
          ) : SQL_QUERIES.GET_FORECAST_DUE_COUNT
        );
        forecastStmt.bind([dateStr, ...deckFilterParams]);
        let dueCount = 0;
        if (forecastStmt.step()) {
          const row = forecastStmt.get();
          dueCount = row[0];
        }
        forecastStmt.free();
        forecast.push({
          date: dateStr,
          dueCount
        });
      }
      const paceStmt = this.db.prepare(
        deckFilterCondition ? SQL_QUERIES.GET_PACE_STATS.replace(
          "FROM review_logs rl",
          "FROM review_logs rl JOIN flashcards f ON rl.flashcard_id = f.id JOIN decks d ON f.deck_id = d.id"
        ).replace(
          "WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ?",
          `WHERE rl.reviewed_at >= ? AND rl.reviewed_at <= ? ${deckFilterCondition}`
        ) : SQL_QUERIES.GET_PACE_STATS
      );
      const endDate = (/* @__PURE__ */ new Date()).toISOString();
      if (deckFilterCondition) {
        paceStmt.bind([cutoffDate.toISOString(), endDate, ...deckFilterParams]);
      } else {
        paceStmt.bind([cutoffDate.toISOString(), endDate]);
      }
      let averagePace = 0;
      let totalReviewTime = 0;
      if (paceStmt.step()) {
        const row = paceStmt.get();
        averagePace = row[0] || 0;
        totalReviewTime = row[1] || 0;
      }
      paceStmt.free();
      return {
        dailyStats,
        cardStats,
        answerButtons,
        retentionRate,
        intervals,
        forecast,
        averagePace,
        totalReviewTime
      };
    } catch (error) {
      console.error("Error in getOverallStatistics:", error);
      return {
        dailyStats: [],
        cardStats: { new: 0, mature: 0 },
        answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
        retentionRate: 0,
        intervals: [],
        forecast: [],
        averagePace: 0,
        totalReviewTime: 0
      };
    }
  }
  async purgeDatabase() {
    this.debugLog("Purging database - deleting all data");
    try {
      if (this.db) {
        this.db.exec(`
          DROP TABLE IF EXISTS review_logs;
          DROP TABLE IF EXISTS flashcards;
          DROP TABLE IF EXISTS decks;
        `);
        this.debugLog("All tables dropped, recreating schema");
        await this.createFreshDatabase();
        await this.save();
        this.debugLog("Database purged and recreated successfully");
      }
    } catch (error) {
      console.error("Error purging database:", error);
      throw error;
    }
  }
  async close() {
    if (this.db) {
      this.db.close();
      this.db = null;
    }
  }
};

// src/services/DeckManager.ts
var import_obsidian = require("obsidian");
var _DeckManager = class _DeckManager {
  constructor(vault, metadataCache, db, plugin) {
    this.vault = vault;
    this.metadataCache = metadataCache;
    this.db = db;
    this.plugin = plugin;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  debugLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.debugLog) {
      this.plugin.debugLog(message, ...args);
    }
  }
  performanceLog(message, ...args) {
    var _a;
    if ((_a = this.plugin) == null ? void 0 : _a.performanceLog) {
      this.plugin.performanceLog(message, ...args);
    }
  }
  /**
   * Scan vault for all decks (files with #flashcards tags)
   */
  async scanVaultForDecks() {
    const decksMap = /* @__PURE__ */ new Map();
    const files = this.vault.getMarkdownFiles();
    this.debugLog(`Scanning ${files.length} markdown files for flashcard tags`);
    for (const file7 of files) {
      const metadata = this.metadataCache.getFileCache(file7);
      if (!metadata) {
        this.debugLog(`No metadata for file: ${file7.path}`);
        continue;
      }
      this.debugLog(`Checking file: ${file7.path}`);
      const allTags = [];
      if (metadata.tags) {
        const inlineTags = metadata.tags.map((t) => t.tag);
        allTags.push(...inlineTags);
        this.debugLog(`File ${file7.path} has inline tags:`, inlineTags);
      }
      if (metadata.frontmatter && metadata.frontmatter.tags) {
        const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
        const normalizedTags = frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        );
        allTags.push(...normalizedTags);
        this.debugLog(
          `File ${file7.path} has frontmatter tags:`,
          normalizedTags
        );
      }
      if (allTags.length === 0) {
        continue;
      }
      const flashcardTags = allTags.filter(
        (tag) => tag.startsWith("#flashcards")
      );
      this.debugLog(`All tags for ${file7.path}:`, allTags);
      this.debugLog(`Flashcard tags for ${file7.path}:`, flashcardTags);
      for (const tag of flashcardTags) {
        if (!decksMap.has(tag)) {
          decksMap.set(tag, []);
        }
        decksMap.get(tag).push(file7);
      }
    }
    this.debugLog(`Found ${decksMap.size} decks:`, Array.from(decksMap.keys()));
    return decksMap;
  }
  /**
   * Sync decks with database
   */
  async syncDecks() {
    const syncDecksStartTime = performance.now();
    try {
      this.debugLog("Starting deck sync...");
      const decksMap = await this.scanVaultForDecks();
      this.debugLog("Decks found in vault:", decksMap);
      const existingDecks = await this.db.getAllDecks();
      this.debugLog("Existing decks in database:", existingDecks);
      const existingDecksByFile = /* @__PURE__ */ new Map();
      for (const deck of existingDecks) {
        existingDecksByFile.set(deck.filepath, deck);
      }
      let newDecksCreated = 0;
      let totalFiles = 0;
      for (const [tag, files] of decksMap) {
        for (const file7 of files) {
          totalFiles++;
          const filePath = file7.path;
          const deckName = file7.basename;
          const existingDeck = existingDecksByFile.get(filePath);
          this.debugLog(`Checking file: ${filePath}`);
          this.debugLog(
            `Existing deck found:`,
            existingDeck ? `YES (ID: ${existingDeck.id})` : "NO"
          );
          if (existingDeck) {
            if (existingDeck.tag !== tag) {
              this.debugLog(
                `Updating deck "${deckName}" tag from ${existingDeck.tag} to ${tag}`
              );
              await this.db.updateDeck(existingDeck.id, {
                tag
              });
            } else {
              this.debugLog(
                `Deck "${deckName}" already exists with correct tag, no update needed`
              );
            }
          } else {
            const file8 = this.vault.getAbstractFileByPath(filePath);
            let deckModTime = /* @__PURE__ */ new Date();
            if (file8 instanceof import_obsidian.TFile) {
              const fileModTime = new Date(file8.stat.mtime);
              const fileCreateTime = new Date(file8.stat.ctime);
              deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
            }
            const deck = {
              id: this.generateDeckId(filePath),
              name: deckName,
              // Store clean file name
              filepath: filePath,
              // Store full file path separately
              tag,
              lastReviewed: null,
              config: DEFAULT_DECK_CONFIG,
              modified: deckModTime.toISOString()
            };
            this.debugLog(
              `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
            );
            await this.db.createDeck(deck);
            newDecksCreated++;
          }
        }
      }
      const allFiles = /* @__PURE__ */ new Set();
      for (const [tag, files] of decksMap) {
        for (const file7 of files) {
          allFiles.add(file7.path);
        }
      }
      let deletedDecks = 0;
      for (const deck of existingDecks) {
        if (!allFiles.has(deck.filepath)) {
          this.debugLog(
            `Deleting orphaned deck: "${deck.name}" (${deck.filepath})`
          );
          await this.db.deleteDeckByFilepath(deck.filepath);
          deletedDecks++;
        }
      }
      this.debugLog(
        `Deck sync completed. Processed ${totalFiles} files, created ${newDecksCreated} new decks, deleted ${deletedDecks} orphaned decks.`
      );
      const syncDecksTime = performance.now() - syncDecksStartTime;
      this.performanceLog(
        `Deck sync completed successfully in ${this.formatTime(syncDecksTime)} (${newDecksCreated} created, ${deletedDecks} deleted)`
      );
    } catch (error) {
      console.error("Error during deck sync:", error);
      throw error;
    }
  }
  /**
   * Parse flashcards from a file
   */
  async parseFlashcardsFromFile(file7) {
    const parseStartTime = performance.now();
    const content = await this.vault.read(file7);
    const readTime = performance.now() - parseStartTime;
    const parseContentStartTime = performance.now();
    const flashcards = this.parseFlashcardsFromContent(content);
    const parseTime = performance.now() - parseContentStartTime;
    const totalTime = performance.now() - parseStartTime;
    this.performanceLog(
      `Parsed ${flashcards.length} flashcards from ${file7.path} in ${this.formatTime(totalTime)} (read: ${this.formatTime(readTime)}, parse: ${this.formatTime(parseTime)})`
    );
    return flashcards;
  }
  /**
   * Parse flashcards from content string (optimized single-pass parsing)
   */
  parseFlashcardsFromContent(content) {
    const lines = content.split("\n");
    const flashcards = [];
    let inTable = false;
    let headerSeen = false;
    let currentHeader = null;
    let currentContent = [];
    let inFrontmatter = false;
    let skipNextParagraph = false;
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const trimmedLine = line.trim();
      if (i === 0 && trimmedLine === "---") {
        inFrontmatter = true;
        continue;
      }
      if (inFrontmatter) {
        if (trimmedLine === "---") {
          inFrontmatter = false;
        }
        continue;
      }
      if (_DeckManager.TABLE_ROW_REGEX.test(trimmedLine)) {
        if (!inTable) {
          inTable = true;
          headerSeen = false;
        }
        if (!headerSeen) {
          headerSeen = true;
          continue;
        }
        if (_DeckManager.TABLE_SEPARATOR_REGEX.test(trimmedLine)) {
          continue;
        }
        const cells = trimmedLine.slice(1, -1).split("|").map((cell) => cell.trim());
        if (cells.length >= 2 && cells[0] && cells[1]) {
          flashcards.push({
            front: cells[0],
            back: cells[1],
            type: "table"
          });
        }
      } else {
        if (inTable) {
          inTable = false;
        }
        const headerMatch = _DeckManager.HEADER_REGEX.exec(line);
        if (headerMatch) {
          const currentHeaderLevel = headerMatch[1].length;
          if (line.match(/^#\s+/) && line.toLowerCase().includes("flashcard")) {
            skipNextParagraph = true;
            this.finalizeCurrentHeader(
              currentHeader,
              currentContent,
              flashcards
            );
            currentHeader = null;
            currentContent = [];
            continue;
          }
          this.finalizeCurrentHeader(currentHeader, currentContent, flashcards);
          currentHeader = {
            text: line,
            level: currentHeaderLevel
          };
          currentContent = [];
          skipNextParagraph = false;
        } else if (skipNextParagraph) {
          if (trimmedLine === "") {
            skipNextParagraph = false;
          }
        } else if (currentHeader) {
          if (trimmedLine === "" && currentContent.length === 0) {
            continue;
          }
          currentContent.push(line);
        }
      }
    }
    this.finalizeCurrentHeader(currentHeader, currentContent, flashcards);
    return flashcards;
  }
  /**
   * Helper to finalize current header flashcard
   */
  finalizeCurrentHeader(currentHeader, currentContent, flashcards) {
    if (currentHeader && currentContent.length > 0) {
      flashcards.push({
        front: currentHeader.text.replace(/^#{1,6}\s+/, ""),
        back: currentContent.join("\n").trim(),
        type: "header-paragraph",
        headerLevel: currentHeader.level
      });
    }
  }
  /**
   * Execute batch database operations for better performance
   */
  async executeBatchOperations(operations) {
    const batchStartTime = performance.now();
    const BATCH_SIZE = 50;
    let createCount = 0;
    let updateCount = 0;
    let deleteCount = 0;
    for (let i = 0; i < operations.length; i += BATCH_SIZE) {
      const chunk = operations.slice(i, i + BATCH_SIZE);
      const chunkStartTime = performance.now();
      for (const op of chunk) {
        try {
          switch (op.type) {
            case "create":
              if (op.flashcard) {
                await this.db.createFlashcard(op.flashcard);
                createCount++;
              }
              break;
            case "update":
              if (op.flashcardId && op.updates) {
                await this.db.updateFlashcard(op.flashcardId, op.updates);
                updateCount++;
              }
              break;
            case "delete":
              if (op.flashcardId) {
                await this.db.deleteFlashcard(op.flashcardId);
                deleteCount++;
              }
              break;
          }
        } catch (error) {
          console.error(`Failed to execute ${op.type} operation:`, error);
        }
      }
      const chunkTime = performance.now() - chunkStartTime;
      this.performanceLog(
        `Batch ${Math.floor(i / BATCH_SIZE) + 1}: ${chunk.length} operations in ${this.formatTime(chunkTime)}`
      );
      if (i + BATCH_SIZE < operations.length) {
        await new Promise((resolve) => setTimeout(resolve, 10));
      }
    }
    const totalBatchTime = performance.now() - batchStartTime;
    this.performanceLog(
      `Batch operations completed in ${this.formatTime(totalBatchTime)} (${createCount} created, ${updateCount} updated, ${deleteCount} deleted)`
    );
  }
  /**
   * Sync flashcards for a specific deck (file)
   */
  async syncFlashcardsForDeck(filePath, force = false) {
    var _a, _b, _c, _d, _e, _f;
    const deckSyncStartTime = performance.now();
    this.debugLog(`Syncing flashcards for deck: ${filePath}`);
    const deck = await this.db.getDeckByFilepath(filePath);
    if (!deck) {
      this.debugLog(`No deck found for filepath: ${filePath}`);
      return;
    }
    this.debugLog(
      `Found deck ID: ${deck.id}, name: ${deck.name}, filepath: ${deck.filepath}`
    );
    const file7 = this.vault.getAbstractFileByPath(filePath);
    if (!file7 || !(file7 instanceof import_obsidian.TFile))
      return;
    const fileModifiedTime = new Date(file7.stat.mtime);
    if (!force) {
      const deckModifiedTime = new Date(deck.modified);
      if (fileModifiedTime <= deckModifiedTime) {
        this.debugLog(
          `File ${filePath} not modified since last sync, skipping`
        );
        return;
      }
    }
    this.debugLog(
      `File modified: ${fileModifiedTime.toISOString()}, last sync: ${deck.modified}`
    );
    const existingFlashcards = await this.db.getFlashcardsByDeck(deck.id);
    this.debugLog(
      `Found ${existingFlashcards.length} existing flashcards for deck ${deck.name}`
    );
    const existingById = /* @__PURE__ */ new Map();
    existingFlashcards.forEach((card) => {
      existingById.set(card.id, card);
      this.debugLog(`Existing card ID: ${card.id}, Front: "${card.front}"`);
    });
    const processedIds = /* @__PURE__ */ new Set();
    const duplicateWarnings = /* @__PURE__ */ new Set();
    const parsedCards = await this.parseFlashcardsFromFile(file7);
    this.debugLog(`Parsed ${parsedCards.length} flashcards from ${filePath}`);
    const batchOperations = [];
    for (let i = 0; i < parsedCards.length; i++) {
      const parsed = parsedCards[i];
      const flashcardId = this.generateFlashcardId(parsed.front);
      const contentHash = this.generateContentHash(parsed.back);
      const existingCard = existingById.get(flashcardId);
      if (processedIds.has(flashcardId)) {
        const duplicateKey = `${deck.name}:${parsed.front}`;
        if (!duplicateWarnings.has(duplicateKey)) {
          if ((_c = (_b = (_a = this.plugin) == null ? void 0 : _a.settings) == null ? void 0 : _b.ui) == null ? void 0 : _c.enableNotices) {
            new import_obsidian.Notice(
              `\u26A0\uFE0F Duplicate flashcard detected in "${deck.name}": "${parsed.front.substring(0, 50)}${parsed.front.length > 50 ? "..." : ""}". Only the first occurrence will be used.`,
              8e3
            );
          }
          duplicateWarnings.add(duplicateKey);
          this.debugLog(
            `Duplicate flashcard detected: "${parsed.front}" in deck "${deck.name}"`
          );
        }
        continue;
      }
      this.debugLog(
        `Processing flashcard: "${parsed.front.substring(0, 50)}..."`
      );
      this.debugLog(
        `Generated ID: ${flashcardId} (from front: "${parsed.front.substring(0, 30)}..." + deck: ${deck.id})`
      );
      this.debugLog(`Content hash: ${contentHash}`);
      this.debugLog(`Existing card found:`, existingCard ? "YES" : "NO");
      if (existingCard) {
        this.debugLog(
          `Existing card - ID: ${existingCard.id}, Front: "${existingCard.front.substring(0, 30)}...", Hash: ${existingCard.contentHash}`
        );
      }
      processedIds.add(flashcardId);
      if (i % 50 === 49) {
        await new Promise((resolve) => setTimeout(resolve, 5));
      }
      if (existingCard) {
        if (existingCard.contentHash !== contentHash) {
          this.debugLog(
            `Content changed, updating flashcard: ${parsed.front.substring(0, 30)}...`
          );
          batchOperations.push({
            type: "update",
            flashcardId: existingCard.id,
            updates: {
              front: parsed.front,
              back: parsed.back,
              type: parsed.type,
              contentHash
            }
          });
        } else {
          this.debugLog(
            `No content change, skipping update: ${parsed.front.substring(0, 30)}...`
          );
        }
      } else {
        const previousProgress = await this.db.getLatestReviewLogForFlashcard(flashcardId);
        const flashcard = {
          id: flashcardId,
          deckId: deck.id,
          front: parsed.front,
          back: parsed.back,
          type: parsed.type,
          sourceFile: file7.path,
          contentHash,
          headerLevel: parsed.headerLevel,
          // Restore progress from review logs or use defaults
          state: (previousProgress == null ? void 0 : previousProgress.newState) || "new",
          dueDate: previousProgress ? new Date(
            new Date(previousProgress.reviewedAt).getTime() + previousProgress.newIntervalMinutes * 60 * 1e3
          ).toISOString() : (/* @__PURE__ */ new Date()).toISOString(),
          interval: (previousProgress == null ? void 0 : previousProgress.newIntervalMinutes) || 0,
          repetitions: (previousProgress == null ? void 0 : previousProgress.newRepetitions) || 0,
          difficulty: (previousProgress == null ? void 0 : previousProgress.newDifficulty) || 5,
          // FSRS initial difficulty
          stability: (previousProgress == null ? void 0 : previousProgress.newStability) || 2.5,
          // FSRS initial stability
          lapses: (previousProgress == null ? void 0 : previousProgress.newLapses) || 0,
          lastReviewed: (previousProgress == null ? void 0 : previousProgress.reviewedAt) || null
        };
        if (previousProgress) {
          this.debugLog(
            `Restoring flashcard progress from review logs: ${flashcard.front} (state: ${previousProgress.newState}, interval: ${previousProgress.newIntervalMinutes})`
          );
          if ((_f = (_e = (_d = this.plugin) == null ? void 0 : _d.settings) == null ? void 0 : _e.ui) == null ? void 0 : _f.enableNotices) {
            new import_obsidian.Notice(
              `\u2705 Progress restored for flashcard: "${parsed.front.substring(0, 40)}${parsed.front.length > 40 ? "..." : ""}" (${previousProgress.newState}, ${previousProgress.newRepetitions} reviews)`,
              5e3
            );
          }
        } else {
          this.debugLog(`Creating new flashcard: ${flashcard.front}`);
        }
        batchOperations.push({
          type: "create",
          flashcard
        });
      }
    }
    for (const [flashcardId, existingCard] of existingById) {
      if (!processedIds.has(flashcardId)) {
        this.debugLog(`Deleting flashcard: ${existingCard.front}`);
        batchOperations.push({
          type: "delete",
          flashcardId: existingCard.id
        });
      }
    }
    if (batchOperations.length > 0) {
      this.debugLog(
        `Executing ${batchOperations.length} batch database operations`
      );
      await this.executeBatchOperations(batchOperations);
    }
    const timestampStartTime = performance.now();
    await this.db.updateDeckTimestamp(deck.id, fileModifiedTime.toISOString());
    await this.checkForDuplicatesInDeck(deck.id);
    const timestampTime = performance.now() - timestampStartTime;
    const totalDeckSyncTime = performance.now() - deckSyncStartTime;
    this.performanceLog(
      `Sync completed for deck: ${deck.name} in ${this.formatTime(totalDeckSyncTime)} (${parsedCards.length} flashcards, ${batchOperations.length} operations, cleanup: ${this.formatTime(timestampTime)})`
    );
  }
  /**
   * Sync flashcards for a specific deck by name (file path)
   */
  async syncFlashcardsForDeckByName(deckName) {
    await this.syncFlashcardsForDeck(deckName);
  }
  /**
   * Create deck for a single file without running full sync
   */
  async createDeckForFile(filePath, tag) {
    const file7 = this.vault.getAbstractFileByPath(filePath);
    if (!file7 || !(file7 instanceof import_obsidian.TFile))
      return;
    const deckName = file7.basename;
    const existingDeck = await this.db.getDeckByFilepath(filePath);
    if (!existingDeck) {
      const fileModTime = new Date(file7.stat.mtime);
      const fileCreateTime = new Date(file7.stat.ctime);
      const deckModTime = fileModTime < fileCreateTime ? fileModTime : fileCreateTime;
      const deck = {
        id: this.generateDeckId(filePath),
        name: deckName,
        filepath: filePath,
        tag,
        lastReviewed: null,
        config: DEFAULT_DECK_CONFIG,
        modified: deckModTime.toISOString()
      };
      this.debugLog(
        `Creating new deck: "${deckName}" with ID: ${deck.id}, tag: ${tag}, filepath: ${filePath}`
      );
      await this.db.createDeck(deck);
    }
  }
  /**
   * Generate content hash for flashcard back content (front is used for ID)
   */
  generateContentHash(back) {
    let hash = 0;
    for (let i = 0; i < back.length; i++) {
      const char = back.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return Math.abs(hash).toString(16);
  }
  /**
   * Extract deck name from files (use the first file's name)
   */
  extractDeckNameFromFiles(files) {
    if (files.length === 0) {
      return "General";
    }
    const firstFile = files[0];
    return firstFile.basename;
  }
  /**
   * Extract deck name from tag (legacy method for compatibility)
   */
  extractDeckName(tag) {
    let name = tag.replace("#flashcards", "");
    if (name.startsWith("/")) {
      name = name.substring(1);
    }
    if (!name) {
      return "General";
    }
    const parts = name.split("/");
    return parts.map((part) => part.charAt(0).toUpperCase() + part.slice(1)).join(" - ");
  }
  /**
   * Generate deterministic deck ID based on filepath
   */
  generateDeckId(filepath) {
    if (filepath) {
      let hash = 0;
      for (let i = 0; i < filepath.length; i++) {
        const char = filepath.charCodeAt(i);
        hash = (hash << 5) - hash + char;
        hash = hash & hash;
      }
      return `deck_${Math.abs(hash).toString(36)}`;
    }
    return `deck_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * Generate unique flashcard ID using hash of front text only
   */
  generateFlashcardId(frontText, deckId) {
    let hash = 0;
    for (let i = 0; i < frontText.length; i++) {
      const char = frontText.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return `card_${Math.abs(hash).toString(36)}`;
  }
  /**
   * Check for duplicate flashcards in a deck and warn the user
   */
  async checkForDuplicatesInDeck(deckId) {
    var _a, _b, _c;
    const existingFlashcards = await this.db.getFlashcardsByDeck(deckId);
    const frontTextMap = /* @__PURE__ */ new Map();
    for (const card of existingFlashcards) {
      const normalizedFront = card.front.trim().toLowerCase();
      if (!frontTextMap.has(normalizedFront)) {
        frontTextMap.set(normalizedFront, []);
      }
      frontTextMap.get(normalizedFront).push(card);
    }
    const deck = await this.db.getDeckById(deckId);
    const deckName = (deck == null ? void 0 : deck.name) || "Unknown Deck";
    for (const [frontText, cards] of frontTextMap) {
      if (cards.length > 1) {
        if ((_c = (_b = (_a = this.plugin) == null ? void 0 : _a.settings) == null ? void 0 : _b.ui) == null ? void 0 : _c.enableNotices) {
          new import_obsidian.Notice(
            `\u26A0\uFE0F Found ${cards.length} duplicate flashcards in "${deckName}": "${cards[0].front.substring(0, 50)}${cards[0].front.length > 50 ? "..." : ""}". Consider removing duplicates to avoid confusion.`,
            1e4
          );
        }
        this.debugLog(
          `Duplicate flashcards found in deck "${deckName}": "${cards[0].front}" (${cards.length} copies)`
        );
      }
    }
  }
  /**
   * Update deck IDs for all flashcards when a deck ID changes (e.g., file rename)
   */
  async updateFlashcardDeckIds(oldDeckId, newDeckId) {
    this.debugLog(
      `Updating flashcard deck IDs from ${oldDeckId} to ${newDeckId}`
    );
    await this.db.updateFlashcardDeckIds(oldDeckId, newDeckId);
  }
};
// Plugin reference for debug logging
// Pre-compiled regex patterns for better performance
_DeckManager.HEADER_REGEX = /^(#{1,6})\s+/;
_DeckManager.TABLE_ROW_REGEX = /^\|.*\|$/;
_DeckManager.TABLE_SEPARATOR_REGEX = /^\|[\s-]+\|[\s-]+\|$/;
var DeckManager = _DeckManager;

// src/algorithm/fsrs.ts
var MILLISECONDS_PER_DAY = 864e5;
var MINUTES_PER_DAY = 1440;
var MILLISECONDS_PER_MINUTE = 6e4;
function roundForDisplay(value, decimals) {
  return value.toFixed(decimals);
}
var FSRS = class {
  constructor(params) {
    this.params = {
      requestRetention: 0.9,
      profile: "STANDARD",
      ...params
    };
    this.validateParameters();
  }
  /**
   * Update FSRS parameters
   */
  updateParameters(params) {
    this.params = { ...this.params, ...params };
    this.validateParameters();
  }
  /**
   * Get current profile weights (hardcoded, not user-editable)
   */
  getWeights() {
    return getWeightsForProfile(this.params.profile);
  }
  /**
   * Get minimum minutes for current profile (hardcoded)
   */
  getMinMinutes() {
    return getMinMinutesForProfile(this.params.profile);
  }
  /**
   * Get maximum interval days for current profile (hardcoded)
   */
  getMaxIntervalDays() {
    return getMaxIntervalDaysForProfile(this.params.profile);
  }
  /**
   * Validate FSRS parameters
   */
  validateParameters() {
    if (!validateProfile(this.params.profile)) {
      throw new Error(
        `Invalid profile: ${this.params.profile}, must be "INTENSIVE" or "STANDARD"`
      );
    }
    if (!validateRequestRetention(this.params.requestRetention)) {
      throw new Error(
        `requestRetention must be in range (0.5, 0.995), got ${this.params.requestRetention}`
      );
    }
    const weights = this.getWeights();
    if (!validateFSRSWeights(weights)) {
      throw new Error(
        `Invalid hardcoded weights for profile ${this.params.profile}`
      );
    }
  }
  /**
   * Calculate the next scheduling info for a flashcard based on review difficulty
   */
  getSchedulingInfo(card) {
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    return {
      again: this.calculateScheduleForRating(fsrsCard, 1, now),
      hard: this.calculateScheduleForRating(fsrsCard, 2, now),
      good: this.calculateScheduleForRating(fsrsCard, 3, now),
      easy: this.calculateScheduleForRating(fsrsCard, 4, now)
    };
  }
  /**
   * Update a flashcard based on the selected difficulty
   */
  updateCard(card, difficulty) {
    const rating = this.difficultyToRating(difficulty);
    const fsrsCard = this.flashcardToFSRS(card);
    const now = /* @__PURE__ */ new Date();
    const updatedFsrsCard = this.calculateUpdatedFsrsCard(
      fsrsCard,
      rating,
      now
    );
    const intervalMinutes = this.nextIntervalMinutes(updatedFsrsCard.stability);
    const schedule = this.createSchedulingCard(
      intervalMinutes,
      updatedFsrsCard,
      now
    );
    return {
      ...card,
      state: schedule.state,
      dueDate: schedule.dueDate,
      interval: schedule.interval,
      difficulty: schedule.difficulty,
      // Store FSRS difficulty with full precision
      repetitions: schedule.repetitions,
      stability: schedule.stability,
      // Store stability with full precision
      lapses: updatedFsrsCard.lapses,
      lastReviewed: now.toISOString(),
      modified: now.toISOString()
    };
  }
  calculateUpdatedFsrsCard(card, rating, now) {
    if (card.state === "New" || card.stability === 0 || card.difficulty === 0) {
      return {
        ...card,
        stability: this.initStability(rating),
        difficulty: this.initDifficulty(rating),
        reps: 1,
        lapses: rating === 1 ? 1 : 0,
        lastReview: now,
        state: "Review",
        elapsedDays: 0
      };
    } else {
      const newCard = { ...card };
      newCard.elapsedDays = this.getElapsedDays(card.lastReview, now);
      newCard.reps += 1;
      if (rating === 1) {
        newCard.lapses += 1;
      }
      if (!isFinite(newCard.stability) || newCard.stability <= 0) {
        newCard.stability = this.initStability(3);
      }
      const retrievability = this.forgettingCurve(
        newCard.elapsedDays,
        newCard.stability
      );
      newCard.difficulty = this.nextDifficulty(newCard.difficulty, rating);
      newCard.stability = this.nextStability(
        newCard.difficulty,
        newCard.stability,
        retrievability,
        rating
      );
      if (!isFinite(newCard.stability) || newCard.stability <= 0) {
        newCard.stability = this.initStability(rating);
      }
      newCard.lastReview = now;
      newCard.state = "Review";
      return newCard;
    }
  }
  calculateScheduleForRating(card, rating, now) {
    const updatedCard = this.calculateUpdatedFsrsCard(card, rating, now);
    if (!isFinite(updatedCard.stability) || updatedCard.stability <= 0) {
      updatedCard.stability = this.initStability(rating);
    }
    const intervalMinutes = this.nextIntervalMinutes(updatedCard.stability);
    return this.createSchedulingCard(intervalMinutes, updatedCard, now);
  }
  createSchedulingCard(intervalMinutes, card, now) {
    if (!isFinite(now.getTime())) {
      throw new Error("Invalid date provided to createSchedulingCard");
    }
    const intervalMilliseconds = intervalMinutes * MILLISECONDS_PER_MINUTE;
    const dueDate = new Date(now.getTime() + intervalMilliseconds);
    if (!isFinite(dueDate.getTime())) {
      throw new Error(
        `Invalid due date calculated: intervalMinutes=${intervalMinutes}, now=${now.toISOString()}`
      );
    }
    return {
      dueDate: dueDate.toISOString(),
      interval: intervalMinutes,
      // Store full precision interval
      repetitions: card.reps,
      stability: card.stability,
      // Store full precision stability
      difficulty: card.difficulty,
      // Store full precision difficulty
      state: this.fsrsStateToFlashcardState(card.state)
    };
  }
  initStability(rating) {
    const weights = this.getWeights();
    const stability = weights[rating - 1];
    const result = isFinite(stability) ? stability : 0.01;
    return result;
  }
  initDifficulty(rating) {
    const weights = this.getWeights();
    const w4 = weights[4];
    const w5 = weights[5];
    const ratingDiff = rating - 3;
    const difficulty = w4 - w5 * ratingDiff;
    const validDifficulty = isFinite(difficulty) ? difficulty : 5;
    if (validDifficulty < 1)
      return 1;
    if (validDifficulty > 10)
      return 10;
    return validDifficulty;
  }
  /**
   * Forgetting curve function with maximum precision
   */
  forgettingCurve(elapsedDays, stability) {
    if (!isFinite(elapsedDays) || !isFinite(stability) || stability <= 0) {
      return 0;
    }
    const stabilityFactor = 9 * stability;
    const elapsedToStabilityRatio = elapsedDays / stabilityFactor;
    const baseTerm = 1 + elapsedToStabilityRatio;
    if (!isFinite(baseTerm) || baseTerm <= 0) {
      return 0;
    }
    const powerTerm = Math.pow(baseTerm, -1);
    return isFinite(powerTerm) ? powerTerm : 0;
  }
  /**
   * Calculate retrievability for a flashcard at review time
   * @param card - The flashcard being reviewed
   * @param reviewedAt - When the review is happening
   * @returns Retrievability value (0-1)
   */
  getRetrievability(card, reviewedAt = /* @__PURE__ */ new Date()) {
    if (!card.lastReviewed || card.stability <= 0) {
      return 0.9;
    }
    const reviewedAtTime = reviewedAt.getTime();
    const lastReviewedTime = new Date(card.lastReviewed).getTime();
    const elapsedMilliseconds = reviewedAtTime - lastReviewedTime;
    const elapsedDays = Math.max(0, elapsedMilliseconds / MILLISECONDS_PER_DAY);
    return this.forgettingCurve(elapsedDays, card.stability);
  }
  /**
   * Calculate next difficulty with maximum precision
   */
  nextDifficulty(difficulty, rating) {
    if (!isFinite(difficulty) || !isFinite(rating)) {
      return 5;
    }
    const weights = this.getWeights();
    const w6 = weights[6];
    const ratingDiff = rating - 3;
    const difficultyChange = w6 * ratingDiff;
    const nextD = difficulty - difficultyChange;
    const w4 = weights[4];
    const revertedD = this.meanReversion(w4, nextD);
    if (revertedD < 1)
      return 1;
    if (revertedD > 10)
      return 10;
    return revertedD;
  }
  /**
   * Mean reversion calculation with maximum precision
   */
  meanReversion(init2, current) {
    if (!isFinite(init2) || !isFinite(current)) {
      return init2;
    }
    const weights = this.getWeights();
    const w7 = weights[7];
    const initWeight = w7 * init2;
    const currentWeight = (1 - w7) * current;
    return initWeight + currentWeight;
  }
  /**
   * Calculate next stability with maximum precision
   */
  nextStability(difficulty, stability, retrievability, rating) {
    if (!isFinite(difficulty) || !isFinite(stability) || !isFinite(retrievability)) {
      return Math.max(stability, 0.01);
    }
    const weights = this.getWeights();
    const w8 = isFinite(weights[8]) ? weights[8] : 0;
    const w9 = isFinite(weights[9]) ? weights[9] : 0.1;
    const w10 = isFinite(weights[10]) ? weights[10] : 0;
    const w15 = isFinite(weights[15]) ? weights[15] : 1;
    const w16 = isFinite(weights[16]) ? weights[16] : 1;
    const hardPenalty = rating === 2 ? w15 : 1;
    const easyBonus = rating === 4 ? w16 : 1;
    const expW8 = Math.exp(w8);
    const difficultyTerm = 11 - difficulty;
    const stabilityPowerTerm = stability > 0 ? Math.pow(stability, -w9) : 1;
    const retrievabilityTerm = 1 - retrievability;
    const retrievabilityProduct = retrievabilityTerm * w10;
    const expRetrievabilityTerm = Math.exp(retrievabilityProduct) - 1;
    if (!isFinite(expW8) || !isFinite(difficultyTerm) || !isFinite(stabilityPowerTerm) || !isFinite(expRetrievabilityTerm)) {
      return Math.max(stability, 0.01);
    }
    const growthFactor = expW8 * difficultyTerm * stabilityPowerTerm * expRetrievabilityTerm;
    const totalGrowthFactor = growthFactor * hardPenalty * easyBonus;
    const newStabilityFactor = 1 + totalGrowthFactor;
    const result = stability * newStabilityFactor;
    return isFinite(result) && result > 0 ? result : Math.max(stability, 0.1);
  }
  /**
   * Calculate next interval in minutes with maximum precision
   */
  nextIntervalMinutes(stability) {
    const minInterval = this.getMinMinutes();
    if (!isFinite(stability) || stability <= 0) {
      console.warn(`Invalid stability: ${stability}, using minMinutes`);
      return minInterval;
    }
    if (!isFinite(this.params.requestRetention) || this.params.requestRetention <= 0 || this.params.requestRetention >= 1) {
      console.warn(
        `Invalid requestRetention: ${this.params.requestRetention}, using minMinutes`
      );
      return minInterval;
    }
    const retentionLog = Math.log(this.params.requestRetention);
    const baseLog = Math.log(0.9);
    const k = retentionLog / baseLog;
    const intervalDays = stability * k;
    const intervalMinutes = intervalDays * MINUTES_PER_DAY;
    if (!isFinite(intervalMinutes)) {
      console.warn(
        `Invalid minutes calculation: stability=${stability}, k=${k}, using minMinutes`
      );
      return minInterval;
    }
    const maxInterval = this.getMaxIntervalDays() * MINUTES_PER_DAY;
    let result = intervalMinutes;
    if (result < minInterval)
      result = minInterval;
    if (result > maxInterval)
      result = maxInterval;
    if (!isFinite(result)) {
      console.warn(`Invalid final result: ${result}, using minMinutes`);
      return minInterval;
    }
    return result;
  }
  /**
   * Calculate elapsed days with maximum precision
   */
  getElapsedDays(lastReview, now) {
    const nowTime = now.getTime();
    const lastReviewTime = lastReview.getTime();
    const elapsedMilliseconds = nowTime - lastReviewTime;
    const elapsedDays = elapsedMilliseconds / MILLISECONDS_PER_DAY;
    return Math.max(0, elapsedDays);
  }
  flashcardToFSRS(card) {
    const lastReview = card.lastReviewed ? new Date(card.lastReviewed) : /* @__PURE__ */ new Date();
    const difficulty = card.difficulty || 5;
    return {
      stability: card.stability || 0,
      difficulty: difficulty || 0,
      elapsedDays: 0,
      // Will be calculated in scheduling
      reps: card.repetitions,
      lapses: card.lapses || 0,
      state: this.flashcardStateToFSRSState(card.state),
      lastReview
    };
  }
  flashcardStateToFSRSState(state) {
    return state === "new" ? "New" : "Review";
  }
  fsrsStateToFlashcardState(state) {
    return state === "New" ? "new" : "review";
  }
  difficultyToRating(difficulty) {
    switch (difficulty) {
      case "again":
        return 1;
      case "hard":
        return 2;
      case "good":
        return 3;
      case "easy":
        return 4;
      default:
        return 3;
    }
  }
  /**
   * Get display text for intervals - UI formatting only
   */
  static getIntervalDisplay(minutes) {
    if (minutes < 60) {
      return `${Math.round(minutes)}m`;
    } else if (minutes < MINUTES_PER_DAY) {
      const hours = Math.round(minutes / 60);
      return `${hours}h`;
    } else {
      const days = Math.round(minutes / MINUTES_PER_DAY);
      if (days < 30) {
        return `${days}d`;
      } else if (days < 365) {
        const months = Math.round(days / 30);
        return `${months}mo`;
      } else {
        const years = days / 365;
        return `${roundForDisplay(years, 1)}y`;
      }
    }
  }
};

// src/settings.ts
var DEFAULT_SETTINGS = {
  review: {
    showProgress: true,
    enableKeyboardShortcuts: true
  },
  parsing: {
    headerLevel: 2
    // Default to H2 headers
  },
  ui: {
    enableBackgroundRefresh: true,
    backgroundRefreshInterval: 5,
    enableNotices: true
  },
  debug: {
    enableLogging: false,
    performanceLogs: false
  }
};

// src/components/SettingsTab.ts
var import_obsidian2 = require("obsidian");
var DecksSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin, settings, saveSettings, performSync, refreshViewStats, restartBackgroundRefresh, startBackgroundRefresh, stopBackgroundRefresh, purgeDatabase) {
    super(app, plugin);
    this.settings = settings;
    this.saveSettings = saveSettings;
    this.performSync = performSync;
    this.refreshViewStats = refreshViewStats;
    this.restartBackgroundRefresh = restartBackgroundRefresh;
    this.startBackgroundRefresh = startBackgroundRefresh;
    this.stopBackgroundRefresh = stopBackgroundRefresh;
    this.purgeDatabase = purgeDatabase;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Decks Plugin Settings" });
    this.addReviewSettings(containerEl);
    this.addParsingSettings(containerEl);
    this.addUISettings(containerEl);
    this.addDebugSettings(containerEl);
    this.addDatabaseSettings(containerEl);
  }
  addReviewSettings(containerEl) {
    containerEl.createEl("h3", { text: "Review Sessions" });
    new import_obsidian2.Setting(containerEl).setName("Show Progress").setDesc("Display progress bar during review sessions").addToggle(
      (toggle) => toggle.setValue(this.settings.review.showProgress).onChange(async (value) => {
        this.settings.review.showProgress = value;
        await this.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Keyboard Shortcuts").setDesc("Enable keyboard shortcuts in review modal (1-4 for difficulty)").addToggle(
      (toggle) => toggle.setValue(this.settings.review.enableKeyboardShortcuts).onChange(async (value) => {
        this.settings.review.enableKeyboardShortcuts = value;
        await this.saveSettings();
      })
    );
  }
  addParsingSettings(containerEl) {
    containerEl.createEl("h3", { text: "Parsing Settings" });
    containerEl.createEl("p", {
      text: "Configure how flashcards are parsed from your notes.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Header Level for Flashcards").setDesc(
      "Which header level to use for header-paragraph flashcards (H1 = 1, H2 = 2, etc.)"
    ).addDropdown(
      (dropdown) => dropdown.addOption("1", "H1 (#)").addOption("2", "H2 (##)").addOption("3", "H3 (###)").addOption("4", "H4 (####)").addOption("5", "H5 (#####)").addOption("6", "H6 (######)").setValue(this.settings.parsing.headerLevel.toString()).onChange(async (value) => {
        this.settings.parsing.headerLevel = parseInt(value);
        await this.saveSettings();
        await this.performSync(true);
        await this.refreshViewStats();
      })
    );
  }
  addUISettings(containerEl) {
    containerEl.createEl("h3", { text: "User Interface" });
    const intervalSetting = new import_obsidian2.Setting(containerEl).setName("Background Refresh Interval").setDesc("How often to refresh deck stats in the side panel (in seconds)").addText(
      (text2) => text2.setPlaceholder("5").setValue(this.settings.ui.backgroundRefreshInterval.toString()).onChange(async (value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 1 && num <= 60) {
          this.settings.ui.backgroundRefreshInterval = num;
          await this.saveSettings();
          this.restartBackgroundRefresh();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Background Refresh").setDesc("Automatically refresh deck stats in the side panel").addToggle(
      (toggle) => toggle.setValue(this.settings.ui.enableBackgroundRefresh).onChange(async (value) => {
        this.settings.ui.enableBackgroundRefresh = value;
        await this.saveSettings();
        intervalSetting.setDisabled(!value);
        if (value) {
          this.startBackgroundRefresh();
        } else {
          this.stopBackgroundRefresh();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Notices").setDesc(
      "Show notification messages for completed review sessions and sync operations"
    ).addToggle(
      (toggle) => toggle.setValue(this.settings.ui.enableNotices).onChange(async (value) => {
        this.settings.ui.enableNotices = value;
        await this.saveSettings();
      })
    );
    intervalSetting.setDisabled(!this.settings.ui.enableBackgroundRefresh);
  }
  addDebugSettings(containerEl) {
    containerEl.createEl("h3", { text: "Debug" });
    containerEl.createEl("p", {
      text: "Debug settings for troubleshooting and development.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Enable Debug Logging").setDesc(
      "Show detailed logging in the console for sync operations and flashcard processing"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.settings.debug) == null ? void 0 : _a.enableLogging) || false).onChange(async (value) => {
          if (!this.settings.debug) {
            this.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.settings.debug.enableLogging = value;
          await this.saveSettings();
        });
      }
    );
    new import_obsidian2.Setting(containerEl).setName("Enable Performance Logs").setDesc(
      "Show performance timing metrics in the console (sync times, parsing performance, etc.)"
    ).addToggle(
      (toggle) => {
        var _a;
        return toggle.setValue(((_a = this.settings.debug) == null ? void 0 : _a.performanceLogs) || false).onChange(async (value) => {
          if (!this.settings.debug) {
            this.settings.debug = {
              enableLogging: false,
              performanceLogs: false
            };
          }
          this.settings.debug.performanceLogs = value;
          await this.saveSettings();
        });
      }
    );
  }
  addDatabaseSettings(containerEl) {
    containerEl.createEl("h3", { text: "Database Management" });
    containerEl.createEl("p", {
      text: "Manage your flashcard database. Use with caution - these actions cannot be undone.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("Purge Database").setDesc(
      "\u26A0\uFE0F Permanently delete all flashcards, review history, and deck data. This will force a clean rebuild from your vault files. All progress will be lost!"
    ).addButton(
      (button) => button.setButtonText("Purge Database").setWarning().onClick(() => {
        new DatabasePurgeModal(
          this.app,
          this.purgeDatabase,
          this.performSync,
          this.refreshViewStats
        ).open();
      })
    );
  }
};
var DatabasePurgeModal = class extends import_obsidian2.Modal {
  constructor(app, purgeDatabase, performSync, refreshViewStats) {
    super(app);
    this.purgeDatabase = purgeDatabase;
    this.performSync = performSync;
    this.refreshViewStats = refreshViewStats;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u26A0\uFE0F Purge Database" });
    const warning = contentEl.createEl("div", {
      cls: "setting-item-description"
    });
    warning.innerHTML = `
      <p><strong>This will permanently delete ALL flashcard data including:</strong></p>
      <ul>
        <li>All flashcards and their content</li>
        <li>Complete review history and progress</li>
        <li>All deck information</li>
        <li>Statistical data</li>
      </ul>
      <p><strong>This action cannot be undone!</strong></p>
      <p>The database will be rebuilt from your current vault files, but all progress will be lost.</p>
    `;
    contentEl.createEl("p", {
      text: 'Type "DELETE ALL DATA" to confirm:',
      cls: "setting-item-description"
    });
    const input = contentEl.createEl("input", {
      type: "text",
      placeholder: "DELETE ALL DATA"
    });
    input.style.width = "100%";
    input.style.marginBottom = "1rem";
    const buttonContainer = contentEl.createEl("div");
    buttonContainer.style.display = "flex";
    buttonContainer.style.gap = "0.5rem";
    buttonContainer.style.justifyContent = "flex-end";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.onclick = () => this.close();
    const confirmButton = buttonContainer.createEl("button", {
      text: "Purge Database",
      cls: "mod-warning"
    });
    confirmButton.onclick = async () => {
      if (input.value === "DELETE ALL DATA") {
        try {
          this.close();
          const notice = new import_obsidian2.Notice("Purging database...", 0);
          await this.purgeDatabase();
          await this.performSync(true);
          notice.setMessage("\u2705 Database purged and rebuilt successfully");
          setTimeout(() => notice.hide(), 3e3);
          await this.refreshViewStats();
        } catch (error) {
          console.error("Failed to purge database:", error);
          new import_obsidian2.Notice(
            "\u274C Failed to purge database. Check console for details.",
            5e3
          );
        }
      } else {
        new import_obsidian2.Notice(
          "Confirmation text doesn't match. Database purge cancelled.",
          3e3
        );
      }
    };
    input.focus();
    input.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        confirmButton.click();
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// node_modules/svelte/internal/index.mjs
function noop() {
}
function add_location(element2, file7, line, column, char) {
  element2.__svelte_meta = {
    loc: { file: file7, line, column, char }
  };
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
var src_url_equal_anchor;
function src_url_equal(element_src, url) {
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement("a");
  }
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
var globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : global;
var ResizeObserverSingleton = class _ResizeObserverSingleton {
  constructor(options) {
    this.options = options;
    this._listeners = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
  }
  observe(element2, listener) {
    this._listeners.set(element2, listener);
    this._getObserver().observe(element2, this.options);
    return () => {
      this._listeners.delete(element2);
      this._observer.unobserve(element2);
    };
  }
  _getObserver() {
    var _a;
    return (_a = this._observer) !== null && _a !== void 0 ? _a : this._observer = new ResizeObserver((entries) => {
      var _a2;
      for (const entry of entries) {
        _ResizeObserverSingleton.entries.set(entry.target, entry);
        (_a2 = this._listeners.get(entry.target)) === null || _a2 === void 0 ? void 0 : _a2(entry);
      }
    });
  }
};
ResizeObserverSingleton.entries = "WeakMap" in globals ? /* @__PURE__ */ new WeakMap() : void 0;
var is_hydrating = false;
function start_hydrating() {
  is_hydrating = true;
}
function end_hydrating() {
  is_hydrating = false;
}
function append(target, node) {
  target.appendChild(node);
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function prevent_default(fn) {
  return function(event) {
    event.preventDefault();
    return fn.call(this, event);
  };
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_input_value(input, value) {
  input.value = value == null ? "" : value;
}
function set_style(node, key, value, important) {
  if (value == null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? "important" : "");
  }
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
var current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function onDestroy(fn) {
  get_current_component().$$.on_destroy.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
var dirty_components = [];
var binding_callbacks = [];
var render_callbacks = [];
var flush_callbacks = [];
var resolved_promise = /* @__PURE__ */ Promise.resolve();
var update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function tick() {
  schedule_update();
  return resolved_promise;
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
var seen_callbacks = /* @__PURE__ */ new Set();
var flushidx = 0;
function flush() {
  if (flushidx !== 0) {
    return;
  }
  const saved_component = current_component;
  do {
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        set_current_component(component);
        update(component.$$);
      }
    } catch (e) {
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach((c) => c());
  render_callbacks = filtered;
}
var outroing = /* @__PURE__ */ new Set();
var outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
    // parent group
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}
var _boolean_attributes = [
  "allowfullscreen",
  "allowpaymentrequest",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "defer",
  "disabled",
  "formnovalidate",
  "hidden",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "selected"
];
var boolean_attributes = /* @__PURE__ */ new Set([..._boolean_attributes]);
function create_component(block) {
  block && block.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
      if (component.$$.on_destroy) {
        component.$$.on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    flush_render_callbacks($$.after_update);
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance7, create_fragment7, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance7 ? instance7(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment7 ? create_fragment7($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      start_hydrating();
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    end_hydrating();
    flush();
  }
  set_current_component(parent_component);
}
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
    }
    connectedCallback() {
      const { on_mount } = this.$$;
      this.$$.on_disconnect = on_mount.map(run).filter(is_function);
      for (const key in this.$$.slotted) {
        this.appendChild(this.$$.slotted[key]);
      }
    }
    attributeChangedCallback(attr2, _oldValue, newValue) {
      this[attr2] = newValue;
    }
    disconnectedCallback() {
      run_all(this.$$.on_disconnect);
    }
    $destroy() {
      destroy_component(this, 1);
      this.$destroy = noop;
    }
    $on(type, callback) {
      if (!is_function(callback)) {
        return noop;
      }
      const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
      callbacks.push(callback);
      return () => {
        const index = callbacks.indexOf(callback);
        if (index !== -1)
          callbacks.splice(index, 1);
      };
    }
    $set($$props) {
      if (this.$$set && !is_empty($$props)) {
        this.$$.skip_bound = true;
        this.$$set($$props);
        this.$$.skip_bound = false;
      }
    }
  };
}
var SvelteComponent = class {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
};
function dispatch_dev(type, detail) {
  document.dispatchEvent(custom_event(type, Object.assign({ version: "3.59.2" }, detail), { bubbles: true }));
}
function append_dev(target, node) {
  dispatch_dev("SvelteDOMInsert", { target, node });
  append(target, node);
}
function insert_dev(target, node, anchor) {
  dispatch_dev("SvelteDOMInsert", { target, node, anchor });
  insert(target, node, anchor);
}
function detach_dev(node) {
  dispatch_dev("SvelteDOMRemove", { node });
  detach(node);
}
function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {
  const modifiers = options === true ? ["capture"] : options ? Array.from(Object.keys(options)) : [];
  if (has_prevent_default)
    modifiers.push("preventDefault");
  if (has_stop_propagation)
    modifiers.push("stopPropagation");
  if (has_stop_immediate_propagation)
    modifiers.push("stopImmediatePropagation");
  dispatch_dev("SvelteDOMAddEventListener", { node, event, handler, modifiers });
  const dispose = listen(node, event, handler, options);
  return () => {
    dispatch_dev("SvelteDOMRemoveEventListener", { node, event, handler, modifiers });
    dispose();
  };
}
function attr_dev(node, attribute, value) {
  attr(node, attribute, value);
  if (value == null)
    dispatch_dev("SvelteDOMRemoveAttribute", { node, attribute });
  else
    dispatch_dev("SvelteDOMSetAttribute", { node, attribute, value });
}
function prop_dev(node, property, value) {
  node[property] = value;
  dispatch_dev("SvelteDOMSetProperty", { node, property, value });
}
function set_data_dev(text2, data) {
  data = "" + data;
  if (text2.data === data)
    return;
  dispatch_dev("SvelteDOMSetData", { node: text2, data });
  text2.data = data;
}
function validate_each_argument(arg) {
  if (typeof arg !== "string" && !(arg && typeof arg === "object" && "length" in arg)) {
    let msg = "{#each} only iterates over array-like objects.";
    if (typeof Symbol === "function" && arg && Symbol.iterator in arg) {
      msg += " You can use a spread to convert this iterable into an array.";
    }
    throw new Error(msg);
  }
}
function validate_slots(name, slot, keys) {
  for (const slot_key of Object.keys(slot)) {
    if (!~keys.indexOf(slot_key)) {
      console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
    }
  }
}
var SvelteComponentDev = class extends SvelteComponent {
  constructor(options) {
    if (!options || !options.target && !options.$$inline) {
      throw new Error("'target' is a required option");
    }
    super();
  }
  $destroy() {
    super.$destroy();
    this.$destroy = () => {
      console.warn("Component was already destroyed");
    };
  }
  $capture_state() {
  }
  $inject_state() {
  }
};

// node_modules/tslib/tslib.es6.mjs
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// src/components/ReviewHeatmap.svelte
var { console: console_1 } = globals;
var file = "src/components/ReviewHeatmap.svelte";
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[25] = list[i].month;
  child_ctx[26] = list[i].weeks;
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[29] = list[i];
  return child_ctx;
}
function get_each_context_2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[32] = list[i];
  const constants_0 = new Date(
    /*day*/
    child_ctx[32].date
  ).getFullYear();
  child_ctx[33] = constants_0;
  return child_ctx;
}
function create_if_block_1(ctx) {
  let span;
  let t0_value = Array.from(
    /*reviewCounts*/
    ctx[0].values()
  ).reduce(func, 0) + "";
  let t0;
  let t1;
  const block = {
    c: function create() {
      span = element("span");
      t0 = text(t0_value);
      t1 = text(" reviews");
      attr_dev(span, "class", "total-reviews svelte-10u86w0");
      add_location(span, file, 213, 16, 6558);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
      append_dev(span, t0);
      append_dev(span, t1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*reviewCounts*/
      1 && t0_value !== (t0_value = Array.from(
        /*reviewCounts*/
        ctx2[0].values()
      ).reduce(func, 0) + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_1.name,
    type: "if",
    source: "(213:12) {#if !isLoading}",
    ctx
  });
  return block;
}
function create_else_block(ctx) {
  let div1;
  let div0;
  let t0;
  let div8;
  let span0;
  let t2;
  let div7;
  let div2;
  let t3;
  let div3;
  let t4;
  let div4;
  let t5;
  let div5;
  let t6;
  let div6;
  let t7;
  let span1;
  let each_value = (
    /*getMonthsData*/
    ctx[5]()
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      div8 = element("div");
      span0 = element("span");
      span0.textContent = "Less";
      t2 = space();
      div7 = element("div");
      div2 = element("div");
      t3 = space();
      div3 = element("div");
      t4 = space();
      div4 = element("div");
      t5 = space();
      div5 = element("div");
      t6 = space();
      div6 = element("div");
      t7 = space();
      span1 = element("span");
      span1.textContent = "More";
      attr_dev(div0, "class", "months-container svelte-10u86w0");
      add_location(div0, file, 262, 12, 8228);
      attr_dev(div1, "class", "heatmap svelte-10u86w0");
      add_location(div1, file, 261, 8, 8194);
      attr_dev(span0, "class", "legend-label svelte-10u86w0");
      add_location(span0, file, 294, 12, 9792);
      attr_dev(div2, "class", "legend-square intensity-0 svelte-10u86w0");
      add_location(div2, file, 296, 16, 9887);
      attr_dev(div3, "class", "legend-square intensity-1 svelte-10u86w0");
      add_location(div3, file, 297, 16, 9949);
      attr_dev(div4, "class", "legend-square intensity-2 svelte-10u86w0");
      add_location(div4, file, 298, 16, 10011);
      attr_dev(div5, "class", "legend-square intensity-3 svelte-10u86w0");
      add_location(div5, file, 299, 16, 10073);
      attr_dev(div6, "class", "legend-square intensity-4 svelte-10u86w0");
      add_location(div6, file, 300, 16, 10135);
      attr_dev(div7, "class", "legend-colors svelte-10u86w0");
      add_location(div7, file, 295, 12, 9843);
      attr_dev(span1, "class", "legend-label svelte-10u86w0");
      add_location(span1, file, 302, 12, 10212);
      attr_dev(div8, "class", "legend svelte-10u86w0");
      add_location(div8, file, 293, 8, 9759);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div0, null);
        }
      }
      insert_dev(target, t0, anchor);
      insert_dev(target, div8, anchor);
      append_dev(div8, span0);
      append_dev(div8, t2);
      append_dev(div8, div7);
      append_dev(div7, div2);
      append_dev(div7, t3);
      append_dev(div7, div3);
      append_dev(div7, t4);
      append_dev(div7, div4);
      append_dev(div7, t5);
      append_dev(div7, div5);
      append_dev(div7, t6);
      append_dev(div7, div6);
      append_dev(div8, t7);
      append_dev(div8, span1);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, getIntensityClass, currentYear*/
      56) {
        each_value = /*getMonthsData*/
        ctx2[5]();
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div0, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t0);
      if (detaching)
        detach_dev(div8);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block.name,
    type: "else",
    source: "(261:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading...";
      attr_dev(div, "class", "loading svelte-10u86w0");
      add_location(div, file, 259, 8, 8136);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block.name,
    type: "if",
    source: "(259:4) {#if isLoading}",
    ctx
  });
  return block;
}
function create_each_block_2(ctx) {
  let div;
  let div_class_value;
  let div_title_value;
  const block = {
    c: function create() {
      div = element("div");
      attr_dev(div, "class", div_class_value = "day " + /*getIntensityClass*/
      ctx[4](
        /*day*/
        ctx[32].count
      ) + " svelte-10u86w0");
      attr_dev(div, "title", div_title_value = /*day*/
      ctx[32].count + " reviews on " + formatDate(
        /*day*/
        ctx[32].date
      ));
      toggle_class(div, "today", isToday(
        /*day*/
        ctx[32].date
      ));
      toggle_class(
        div,
        "outside-year",
        /*dayYear*/
        ctx[33] !== /*currentYear*/
        ctx[3]
      );
      add_location(div, file, 273, 40, 8874);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, currentYear*/
      40) {
        toggle_class(
          div,
          "outside-year",
          /*dayYear*/
          ctx2[33] !== /*currentYear*/
          ctx2[3]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_2.name,
    type: "each",
    source: "(270:36) {#each week as day}",
    ctx
  });
  return block;
}
function create_each_block_1(ctx) {
  let div;
  let t;
  let each_value_2 = (
    /*week*/
    ctx[29]
  );
  validate_each_argument(each_value_2);
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t = space();
      attr_dev(div, "class", "week svelte-10u86w0");
      add_location(div, file, 268, 32, 8580);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      append_dev(div, t);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getIntensityClass, getMonthsData, currentYear*/
      56) {
        each_value_2 = /*week*/
        ctx2[29];
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_2(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, t);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_2.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_1.name,
    type: "each",
    source: "(268:28) {#each monthWeeks as week}",
    ctx
  });
  return block;
}
function create_each_block(ctx) {
  let div2;
  let div0;
  let t0_value = (
    /*month*/
    ctx[25] + ""
  );
  let t0;
  let t1;
  let div1;
  let t2;
  let each_value_1 = (
    /*monthWeeks*/
    ctx[26]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t2 = space();
      attr_dev(div0, "class", "month-label svelte-10u86w0");
      add_location(div0, file, 265, 24, 8405);
      attr_dev(div1, "class", "month-grid svelte-10u86w0");
      add_location(div1, file, 266, 24, 8468);
      attr_dev(div2, "class", "month-container svelte-10u86w0");
      add_location(div2, file, 264, 20, 8351);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
      append_dev(div2, t2);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*getMonthsData, getIntensityClass, currentYear*/
      56) {
        each_value_1 = /*monthWeeks*/
        ctx2[26];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_1(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block.name,
    type: "each",
    source: "(264:16) {#each getMonthsData() as { month, weeks: monthWeeks }}",
    ctx
  });
  return block;
}
function create_fragment(ctx) {
  let div3;
  let div2;
  let div0;
  let h4;
  let t1;
  let t2;
  let div1;
  let button0;
  let svg0;
  let path0;
  let t3;
  let span;
  let t4;
  let t5;
  let button1;
  let svg1;
  let path1;
  let t6;
  let mounted;
  let dispose;
  let if_block0 = !/*isLoading*/
  ctx[1] && create_if_block_1(ctx);
  function select_block_type(ctx2, dirty) {
    if (
      /*isLoading*/
      ctx2[1]
    )
      return create_if_block;
    return create_else_block;
  }
  let current_block_type = select_block_type(ctx, [-1, -1]);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div3 = element("div");
      div2 = element("div");
      div0 = element("div");
      h4 = element("h4");
      h4.textContent = "Review Activity";
      t1 = space();
      if (if_block0)
        if_block0.c();
      t2 = space();
      div1 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      t3 = space();
      span = element("span");
      t4 = text(
        /*currentYear*/
        ctx[3]
      );
      t5 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path1 = svg_element("path");
      t6 = space();
      if_block1.c();
      attr_dev(h4, "class", "svelte-10u86w0");
      add_location(h4, file, 211, 12, 6488);
      attr_dev(div0, "class", "header-left svelte-10u86w0");
      add_location(div0, file, 210, 8, 6450);
      attr_dev(path0, "d", "M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z");
      add_location(path0, file, 235, 20, 7334);
      attr_dev(svg0, "width", "12");
      attr_dev(svg0, "height", "12");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "currentColor");
      attr_dev(svg0, "class", "svelte-10u86w0");
      add_location(svg0, file, 229, 16, 7148);
      attr_dev(button0, "class", "nav-button svelte-10u86w0");
      add_location(button0, file, 222, 12, 6868);
      attr_dev(span, "class", "current-year svelte-10u86w0");
      add_location(span, file, 238, 12, 7450);
      attr_dev(path1, "d", "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z");
      add_location(path1, file, 252, 20, 7976);
      attr_dev(svg1, "width", "12");
      attr_dev(svg1, "height", "12");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "currentColor");
      attr_dev(svg1, "class", "svelte-10u86w0");
      add_location(svg1, file, 246, 16, 7790);
      attr_dev(button1, "class", "nav-button svelte-10u86w0");
      add_location(button1, file, 239, 12, 7510);
      attr_dev(div1, "class", "year-navigation svelte-10u86w0");
      add_location(div1, file, 221, 8, 6826);
      attr_dev(div2, "class", "heatmap-header svelte-10u86w0");
      add_location(div2, file, 209, 4, 6413);
      attr_dev(div3, "class", "heatmap-container svelte-10u86w0");
      add_location(div3, file, 208, 0, 6348);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div2);
      append_dev(div2, div0);
      append_dev(div0, h4);
      append_dev(div0, t1);
      if (if_block0)
        if_block0.m(div0, null);
      append_dev(div2, t2);
      append_dev(div2, div1);
      append_dev(div1, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(div1, t3);
      append_dev(div1, span);
      append_dev(span, t4);
      append_dev(div1, t5);
      append_dev(div1, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path1);
      append_dev(div3, t6);
      if_block1.m(div3, null);
      ctx[16](div3);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[12],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[13],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[15],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (!/*isLoading*/
      ctx2[1]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_1(ctx2);
          if_block0.c();
          if_block0.m(div0, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty[0] & /*currentYear*/
      8)
        set_data_dev(
          t4,
          /*currentYear*/
          ctx2[3]
        );
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div3, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
      if (if_block0)
        if_block0.d();
      if_block1.d();
      ctx[16](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate(dateStr) {
  const date = new Date(dateStr);
  return date.toLocaleDateString("en-US", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric"
  });
}
function isToday(dateStr) {
  const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
  return dateStr === today;
}
function calculateMaxWeeks(width) {
  if (width === 0)
    return 20;
  const availableWidth = width - 50;
  const weekWidth = 12;
  const calculatedWeeks = Math.floor(availableWidth / weekWidth);
  return Math.min(Math.max(calculatedWeeks, 8), 52);
}
var func = (sum, count) => sum + count;
function instance($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("ReviewHeatmap", slots, []);
  let { getReviewCounts } = $$props;
  let reviewCounts = /* @__PURE__ */ new Map();
  let days = [];
  let weeks = [];
  let maxCount = 0;
  let isLoading = true;
  let containerElement;
  let maxWeeks = 52;
  let containerWidth = 0;
  let currentYear = (/* @__PURE__ */ new Date()).getFullYear();
  let lastEventTime = 0;
  let lastEventType = "";
  const months = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
  ];
  function generateDays() {
    const yearStart = new Date(currentYear, 0, 1);
    const yearEnd = new Date(currentYear, 11, 31);
    const startDate = new Date(yearStart);
    const startDayOfWeek = startDate.getDay();
    startDate.setDate(startDate.getDate() - startDayOfWeek);
    const endDate = new Date(yearEnd);
    const endDayOfWeek = endDate.getDay();
    endDate.setDate(endDate.getDate() + (6 - endDayOfWeek));
    const daysArray = [];
    const current = new Date(startDate);
    while (current <= endDate) {
      const dateStr = current.toISOString().split("T")[0];
      const currentDateYear = current.getFullYear();
      if (currentDateYear === currentYear) {
        const count = reviewCounts.get(dateStr) || 0;
        daysArray.push({
          date: dateStr,
          count,
          dayOfWeek: current.getDay()
        });
        if (count > maxCount) {
          maxCount = count;
        }
      } else {
        daysArray.push({
          date: dateStr,
          count: 0,
          dayOfWeek: current.getDay()
        });
      }
      current.setDate(current.getDate() + 1);
    }
    days = daysArray;
    weeks = [];
    for (let i = 0; i < days.length; i += 7) {
      weeks.push(days.slice(i, i + 7));
    }
  }
  function getIntensityClass(count) {
    if (count === 0)
      return "intensity-0";
    const intensity = Math.min(Math.ceil(count / maxCount * 4), 4);
    return `intensity-${intensity}`;
  }
  function getMonthsData() {
    if (weeks.length === 0)
      return [];
    const monthsData = [];
    let currentMonth = -1;
    let currentMonthWeeks = [];
    weeks.forEach((week) => {
      const firstDay = week[0];
      if (firstDay) {
        const date = new Date(firstDay.date);
        const month = date.getMonth();
        const year = date.getFullYear();
        if (year === currentYear) {
          if (month !== currentMonth) {
            if (currentMonth !== -1 && currentMonthWeeks.length > 0) {
              monthsData.push({
                month: months[currentMonth],
                weeks: currentMonthWeeks
              });
            }
            currentMonth = month;
            currentMonthWeeks = [week];
          } else {
            currentMonthWeeks.push(week);
          }
        }
      }
    });
    if (currentMonth !== -1 && currentMonthWeeks.length > 0) {
      monthsData.push({
        month: months[currentMonth],
        weeks: currentMonthWeeks
      });
    }
    return monthsData;
  }
  function updateContainerWidth() {
    if (containerElement) {
      $$invalidate(11, containerWidth = containerElement.clientWidth);
    }
  }
  function navigateYear(direction) {
    if (direction === "prev") {
      $$invalidate(3, currentYear--, currentYear);
    } else {
      $$invalidate(3, currentYear++, currentYear);
    }
    generateDays();
    refresh();
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function refresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(1, isLoading = true);
      try {
        $$invalidate(0, reviewCounts = yield getReviewCounts(366));
        maxCount = 0;
        generateDays();
      } catch (error) {
        console.error("Failed to load review counts:", error);
      } finally {
        $$invalidate(1, isLoading = false);
      }
    });
  }
  onMount(() => {
    setTimeout(
      () => {
        updateContainerWidth();
        refresh();
      },
      100
    );
  });
  $$self.$$.on_mount.push(function() {
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_1.warn("<ReviewHeatmap> was created without expected prop 'getReviewCounts'");
    }
  });
  const writable_props = ["getReviewCounts"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_1.warn(`<ReviewHeatmap> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(() => navigateYear("prev"), e);
  const touchend_handler = (e) => handleTouchClick(() => navigateYear("prev"), e);
  const click_handler_1 = (e) => handleTouchClick(() => navigateYear("next"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => navigateYear("next"), e);
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      containerElement = $$value;
      $$invalidate(2, containerElement);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    getReviewCounts,
    reviewCounts,
    days,
    weeks,
    maxCount,
    isLoading,
    containerElement,
    maxWeeks,
    containerWidth,
    currentYear,
    lastEventTime,
    lastEventType,
    months,
    generateDays,
    getIntensityClass,
    formatDate,
    isToday,
    getMonthsData,
    calculateMaxWeeks,
    updateContainerWidth,
    navigateYear,
    handleTouchClick,
    refresh
  });
  $$self.$inject_state = ($$props2) => {
    if ("getReviewCounts" in $$props2)
      $$invalidate(8, getReviewCounts = $$props2.getReviewCounts);
    if ("reviewCounts" in $$props2)
      $$invalidate(0, reviewCounts = $$props2.reviewCounts);
    if ("days" in $$props2)
      days = $$props2.days;
    if ("weeks" in $$props2)
      weeks = $$props2.weeks;
    if ("maxCount" in $$props2)
      maxCount = $$props2.maxCount;
    if ("isLoading" in $$props2)
      $$invalidate(1, isLoading = $$props2.isLoading);
    if ("containerElement" in $$props2)
      $$invalidate(2, containerElement = $$props2.containerElement);
    if ("maxWeeks" in $$props2)
      $$invalidate(10, maxWeeks = $$props2.maxWeeks);
    if ("containerWidth" in $$props2)
      $$invalidate(11, containerWidth = $$props2.containerWidth);
    if ("currentYear" in $$props2)
      $$invalidate(3, currentYear = $$props2.currentYear);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*containerWidth, maxWeeks*/
    3072) {
      $:
        if (containerWidth > 0) {
          const newMaxWeeks = calculateMaxWeeks(containerWidth);
          if (newMaxWeeks !== maxWeeks) {
            $$invalidate(10, maxWeeks = newMaxWeeks);
            refresh();
          }
        }
    }
  };
  return [
    reviewCounts,
    isLoading,
    containerElement,
    currentYear,
    getIntensityClass,
    getMonthsData,
    navigateYear,
    handleTouchClick,
    getReviewCounts,
    refresh,
    maxWeeks,
    containerWidth,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    div3_binding
  ];
}
var ReviewHeatmap = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance, create_fragment, safe_not_equal, { getReviewCounts: 8, refresh: 9 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "ReviewHeatmap",
      options,
      id: create_fragment.name
    });
  }
  get getReviewCounts() {
    throw new Error("<ReviewHeatmap>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refresh() {
    return this.$$.ctx[9];
  }
  set refresh(value) {
    throw new Error("<ReviewHeatmap>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var ReviewHeatmap_default = ReviewHeatmap;

// src/components/DeckConfigModal.ts
var import_obsidian4 = require("obsidian");

// src/components/DeckConfigUI.svelte
var import_obsidian3 = require("obsidian");
var file2 = "src/components/DeckConfigUI.svelte";
function create_fragment2(ctx) {
  let div14;
  let div0;
  let h30;
  let t1;
  let ul;
  let li0;
  let strong0;
  let t3;
  let t4_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t4;
  let t5;
  let li1;
  let strong1;
  let t7;
  let t8_value = (
    /*deck*/
    ctx[0].tag + ""
  );
  let t8;
  let t9;
  let li2;
  let strong2;
  let t11;
  let t12_value = (
    /*deck*/
    ctx[0].filepath + ""
  );
  let t12;
  let t13;
  let div7;
  let h31;
  let t15;
  let div1;
  let t17;
  let div2;
  let t18;
  let div3;
  let t19;
  let div4;
  let t20;
  let div5;
  let t21;
  let div6;
  let t22;
  let div12;
  let h32;
  let t24;
  let div8;
  let t26;
  let div9;
  let t27;
  let div10;
  let t28;
  let div11;
  let t29;
  let div13;
  let button0;
  let t30_value = (
    /*saving*/
    ctx[3] ? "Saving..." : "Save"
  );
  let t30;
  let t31;
  let button1;
  let t32;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div14 = element("div");
      div0 = element("div");
      h30 = element("h3");
      h30.textContent = "Deck Information";
      t1 = space();
      ul = element("ul");
      li0 = element("li");
      strong0 = element("strong");
      strong0.textContent = "Name:";
      t3 = space();
      t4 = text(t4_value);
      t5 = space();
      li1 = element("li");
      strong1 = element("strong");
      strong1.textContent = "Tag:";
      t7 = space();
      t8 = text(t8_value);
      t9 = space();
      li2 = element("li");
      strong2 = element("strong");
      strong2.textContent = "File:";
      t11 = space();
      t12 = text(t12_value);
      t13 = space();
      div7 = element("div");
      h31 = element("h3");
      h31.textContent = "Daily Card Limits";
      t15 = space();
      div1 = element("div");
      div1.textContent = "New cards are subject to daily limits when enabled.";
      t17 = space();
      div2 = element("div");
      t18 = space();
      div3 = element("div");
      t19 = space();
      div4 = element("div");
      t20 = space();
      div5 = element("div");
      t21 = space();
      div6 = element("div");
      t22 = space();
      div12 = element("div");
      h32 = element("h3");
      h32.textContent = "FSRS Algorithm Settings";
      t24 = space();
      div8 = element("div");
      div8.textContent = "These settings control the spaced repetition algorithm for this\n            deck.";
      t26 = space();
      div9 = element("div");
      t27 = space();
      div10 = element("div");
      t28 = space();
      div11 = element("div");
      t29 = space();
      div13 = element("div");
      button0 = element("button");
      t30 = text(t30_value);
      t31 = space();
      button1 = element("button");
      t32 = text("Cancel");
      attr_dev(h30, "class", "svelte-1rti94s");
      add_location(h30, file2, 183, 8, 6334);
      attr_dev(strong0, "class", "svelte-1rti94s");
      add_location(strong0, file2, 185, 16, 6412);
      attr_dev(li0, "class", "svelte-1rti94s");
      add_location(li0, file2, 185, 12, 6408);
      attr_dev(strong1, "class", "svelte-1rti94s");
      add_location(strong1, file2, 186, 16, 6468);
      attr_dev(li1, "class", "svelte-1rti94s");
      add_location(li1, file2, 186, 12, 6464);
      attr_dev(strong2, "class", "svelte-1rti94s");
      add_location(strong2, file2, 187, 16, 6522);
      attr_dev(li2, "class", "svelte-1rti94s");
      add_location(li2, file2, 187, 12, 6518);
      attr_dev(ul, "class", "deck-info-list svelte-1rti94s");
      add_location(ul, file2, 184, 8, 6368);
      attr_dev(div0, "class", "deck-info-section svelte-1rti94s");
      add_location(div0, file2, 182, 4, 6294);
      attr_dev(h31, "class", "svelte-1rti94s");
      add_location(h31, file2, 193, 8, 6670);
      attr_dev(div1, "class", "setting-item-description-global svelte-1rti94s");
      add_location(div1, file2, 194, 8, 6705);
      add_location(div2, file2, 199, 8, 6883);
      attr_dev(div3, "class", "svelte-1rti94s");
      toggle_class(div3, "disabled", !/*enableNewCardsLimit*/
      ctx[1]);
      add_location(div3, file2, 200, 8, 6939);
      add_location(div4, file2, 204, 8, 7065);
      attr_dev(div5, "class", "svelte-1rti94s");
      toggle_class(div5, "disabled", !/*enableReviewCardsLimit*/
      ctx[2]);
      add_location(div5, file2, 205, 8, 7124);
      add_location(div6, file2, 209, 8, 7256);
      attr_dev(div7, "class", "deck-settings-section svelte-1rti94s");
      add_location(div7, file2, 192, 4, 6626);
      attr_dev(h32, "class", "svelte-1rti94s");
      add_location(h32, file2, 214, 8, 7398);
      attr_dev(div8, "class", "setting-item-description-global svelte-1rti94s");
      add_location(div8, file2, 215, 8, 7439);
      add_location(div9, file2, 220, 8, 7603);
      add_location(div10, file2, 221, 8, 7661);
      add_location(div11, file2, 222, 8, 7710);
      attr_dev(div12, "class", "deck-settings-section svelte-1rti94s");
      add_location(div12, file2, 213, 4, 7354);
      attr_dev(button0, "class", "mod-cta svelte-1rti94s");
      button0.disabled = /*saving*/
      ctx[3];
      add_location(button0, file2, 227, 8, 7832);
      button1.disabled = /*saving*/
      ctx[3];
      attr_dev(button1, "class", "svelte-1rti94s");
      add_location(button1, file2, 235, 8, 8105);
      attr_dev(div13, "class", "modal-footer svelte-1rti94s");
      add_location(div13, file2, 226, 4, 7797);
      attr_dev(div14, "class", "deck-config-ui svelte-1rti94s");
      add_location(div14, file2, 180, 0, 6223);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div14, anchor);
      append_dev(div14, div0);
      append_dev(div0, h30);
      append_dev(div0, t1);
      append_dev(div0, ul);
      append_dev(ul, li0);
      append_dev(li0, strong0);
      append_dev(li0, t3);
      append_dev(li0, t4);
      append_dev(ul, t5);
      append_dev(ul, li1);
      append_dev(li1, strong1);
      append_dev(li1, t7);
      append_dev(li1, t8);
      append_dev(ul, t9);
      append_dev(ul, li2);
      append_dev(li2, strong2);
      append_dev(li2, t11);
      append_dev(li2, t12);
      append_dev(div14, t13);
      append_dev(div14, div7);
      append_dev(div7, h31);
      append_dev(div7, t15);
      append_dev(div7, div1);
      append_dev(div7, t17);
      append_dev(div7, div2);
      ctx[22](div2);
      append_dev(div7, t18);
      append_dev(div7, div3);
      ctx[23](div3);
      append_dev(div7, t19);
      append_dev(div7, div4);
      ctx[24](div4);
      append_dev(div7, t20);
      append_dev(div7, div5);
      ctx[25](div5);
      append_dev(div7, t21);
      append_dev(div7, div6);
      ctx[26](div6);
      append_dev(div14, t22);
      append_dev(div14, div12);
      append_dev(div12, h32);
      append_dev(div12, t24);
      append_dev(div12, div8);
      append_dev(div12, t26);
      append_dev(div12, div9);
      ctx[27](div9);
      append_dev(div12, t27);
      append_dev(div12, div10);
      ctx[28](div10);
      append_dev(div12, t28);
      append_dev(div12, div11);
      ctx[29](div11);
      append_dev(div14, t29);
      append_dev(div14, div13);
      append_dev(div13, button0);
      append_dev(button0, t30);
      append_dev(div13, t31);
      append_dev(div13, button1);
      append_dev(button1, t32);
      if (!mounted) {
        dispose = [
          listen_dev(
            window,
            "keydown",
            /*handleKeydown*/
            ctx[15],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[30],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[31],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[32],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[33],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*deck*/
      1 && t4_value !== (t4_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*deck*/
      1 && t8_value !== (t8_value = /*deck*/
      ctx2[0].tag + ""))
        set_data_dev(t8, t8_value);
      if (dirty[0] & /*deck*/
      1 && t12_value !== (t12_value = /*deck*/
      ctx2[0].filepath + ""))
        set_data_dev(t12, t12_value);
      if (dirty[0] & /*enableNewCardsLimit*/
      2) {
        toggle_class(div3, "disabled", !/*enableNewCardsLimit*/
        ctx2[1]);
      }
      if (dirty[0] & /*enableReviewCardsLimit*/
      4) {
        toggle_class(div5, "disabled", !/*enableReviewCardsLimit*/
        ctx2[2]);
      }
      if (dirty[0] & /*saving*/
      8 && t30_value !== (t30_value = /*saving*/
      ctx2[3] ? "Saving..." : "Save"))
        set_data_dev(t30, t30_value);
      if (dirty[0] & /*saving*/
      8) {
        prop_dev(
          button0,
          "disabled",
          /*saving*/
          ctx2[3]
        );
      }
      if (dirty[0] & /*saving*/
      8) {
        prop_dev(
          button1,
          "disabled",
          /*saving*/
          ctx2[3]
        );
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div14);
      ctx[22](null);
      ctx[23](null);
      ctx[24](null);
      ctx[25](null);
      ctx[26](null);
      ctx[27](null);
      ctx[28](null);
      ctx[29](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment2.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance2($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckConfigUI", slots, []);
  let { deck } = $$props;
  let { config } = $$props;
  const dispatch = createEventDispatcher();
  let newCardsLimit = config.newCardsLimit;
  let reviewCardsLimit = config.reviewCardsLimit;
  let enableNewCardsLimit = config.enableNewCardsLimit;
  let enableReviewCardsLimit = config.enableReviewCardsLimit;
  let reviewOrder = config.reviewOrder;
  let requestRetention = config.fsrs.requestRetention;
  let profile = config.fsrs.profile;
  let saving = false;
  let newCardsLimitContainer;
  let enableNewCardsContainer;
  let reviewCardsLimitContainer;
  let enableReviewCardsContainer;
  let enableReviewCardsLimitContainer;
  let reviewOrderContainer;
  let requestRetentionContainer;
  let profileContainer;
  let fsrsResetContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  function handleSave() {
    $$invalidate(3, saving = true);
    const finalConfig = {
      newCardsLimit: Number(newCardsLimit) || 0,
      reviewCardsLimit: Number(reviewCardsLimit) || 0,
      enableNewCardsLimit,
      enableReviewCardsLimit,
      reviewOrder,
      fsrs: {
        requestRetention: Number(requestRetention) || 0.9,
        profile
      }
    };
    dispatch("save", finalConfig);
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function handleCancel() {
    dispatch("cancel");
  }
  function handleKeydown(event) {
    if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
      handleSave();
    }
  }
  onMount(() => {
    if (enableNewCardsContainer) {
      new import_obsidian3.Setting(enableNewCardsContainer).setName("Enable New Cards Limit").setDesc("Limit how many new cards (never seen before) can be shown per day").addToggle((toggle) => toggle.setValue(enableNewCardsLimit).onChange((value) => {
        $$invalidate(1, enableNewCardsLimit = value);
      }));
    }
    if (newCardsLimitContainer) {
      new import_obsidian3.Setting(newCardsLimitContainer).setName("New Cards per Day").setDesc("Maximum number of new cards to introduce per day").addText((text2) => text2.setPlaceholder("20").setValue(newCardsLimit.toString()).onChange((value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 0) {
          $$invalidate(17, newCardsLimit = num);
        }
      }));
    }
    if (enableReviewCardsContainer) {
      new import_obsidian3.Setting(enableReviewCardsContainer).setName("Enable Review Cards Limit").setDesc("Limit how many review cards (due for repetition) can be shown per day").addToggle((toggle) => toggle.setValue(enableReviewCardsLimit).onChange((value) => {
        $$invalidate(2, enableReviewCardsLimit = value);
      }));
    }
    if (reviewCardsLimitContainer) {
      new import_obsidian3.Setting(reviewCardsLimitContainer).setName("Review Cards per Day").setDesc("Maximum number of review cards to show per day").addText((text2) => text2.setPlaceholder("100").setValue(reviewCardsLimit.toString()).onChange((value) => {
        const num = parseInt(value);
        if (!isNaN(num) && num >= 0) {
          $$invalidate(18, reviewCardsLimit = num);
        }
      }));
    }
    if (reviewOrderContainer) {
      new import_obsidian3.Setting(reviewOrderContainer).setName("Review Order").setDesc("Order in which review cards are presented during study").addDropdown((dropdown) => dropdown.addOption("due-date", "Oldest due first").addOption("random", "Random order").setValue(reviewOrder).onChange((value) => {
        $$invalidate(19, reviewOrder = value);
      }));
    }
    if (requestRetentionContainer) {
      new import_obsidian3.Setting(requestRetentionContainer).setName("Request Retention").setDesc("Target recall rate for reviews (0.5-0.995)").addSlider((slider) => slider.setLimits(0.5, 0.995, 0.01).setValue(requestRetention).setDynamicTooltip().onChange((value) => {
        $$invalidate(20, requestRetention = value);
      }));
    }
    if (profileContainer) {
      new import_obsidian3.Setting(profileContainer).setName("FSRS Profile").setDesc("INTENSIVE: Sub-day intervals (1m/5m/10m/40m). STANDARD: Day-based intervals (\u22651 day minimum)").addDropdown((dropdown) => dropdown.addOption("INTENSIVE", "Intensive (Sub-day)").addOption("STANDARD", "Standard (Day-based)").setValue(profile).onChange((value) => {
        if (value === "INTENSIVE" || value === "STANDARD") {
          $$invalidate(21, profile = value);
        }
      }));
    }
    if (fsrsResetContainer) {
      new import_obsidian3.Setting(fsrsResetContainer).setName("Reset FSRS Settings").setDesc("Reset all FSRS parameters to default values").setName("Reset to Defaults").addButton((button) => button.setButtonText("Reset to Defaults").onClick(() => {
        $$invalidate(20, requestRetention = 0.9);
        $$invalidate(21, profile = "STANDARD");
      }));
    }
  });
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'deck'");
    }
    if (config === void 0 && !("config" in $$props || $$self.$$.bound[$$self.$$.props["config"]])) {
      console.warn("<DeckConfigUI> was created without expected prop 'config'");
    }
  });
  const writable_props = ["deck", "config"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console.warn(`<DeckConfigUI> was created with unknown prop '${key}'`);
  });
  function div2_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      enableNewCardsContainer = $$value;
      $$invalidate(5, enableNewCardsContainer);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      newCardsLimitContainer = $$value;
      $$invalidate(4, newCardsLimitContainer);
    });
  }
  function div4_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      enableReviewCardsContainer = $$value;
      $$invalidate(7, enableReviewCardsContainer);
    });
  }
  function div5_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      reviewCardsLimitContainer = $$value;
      $$invalidate(6, reviewCardsLimitContainer);
    });
  }
  function div6_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      reviewOrderContainer = $$value;
      $$invalidate(8, reviewOrderContainer);
    });
  }
  function div9_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      requestRetentionContainer = $$value;
      $$invalidate(9, requestRetentionContainer);
    });
  }
  function div10_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      profileContainer = $$value;
      $$invalidate(10, profileContainer);
    });
  }
  function div11_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      fsrsResetContainer = $$value;
      $$invalidate(11, fsrsResetContainer);
    });
  }
  const click_handler = (e) => handleTouchClick(handleSave, e);
  const touchend_handler = (e) => handleTouchClick(handleSave, e);
  const click_handler_1 = (e) => handleTouchClick(handleCancel, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleCancel, e);
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(16, config = $$props2.config);
  };
  $$self.$capture_state = () => ({
    createEventDispatcher,
    onMount,
    Setting: import_obsidian3.Setting,
    deck,
    config,
    dispatch,
    newCardsLimit,
    reviewCardsLimit,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    reviewOrder,
    requestRetention,
    profile,
    saving,
    newCardsLimitContainer,
    enableNewCardsContainer,
    reviewCardsLimitContainer,
    enableReviewCardsContainer,
    enableReviewCardsLimitContainer,
    reviewOrderContainer,
    requestRetentionContainer,
    profileContainer,
    fsrsResetContainer,
    lastEventTime,
    lastEventType,
    handleSave,
    handleTouchClick,
    handleCancel,
    handleKeydown
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("config" in $$props2)
      $$invalidate(16, config = $$props2.config);
    if ("newCardsLimit" in $$props2)
      $$invalidate(17, newCardsLimit = $$props2.newCardsLimit);
    if ("reviewCardsLimit" in $$props2)
      $$invalidate(18, reviewCardsLimit = $$props2.reviewCardsLimit);
    if ("enableNewCardsLimit" in $$props2)
      $$invalidate(1, enableNewCardsLimit = $$props2.enableNewCardsLimit);
    if ("enableReviewCardsLimit" in $$props2)
      $$invalidate(2, enableReviewCardsLimit = $$props2.enableReviewCardsLimit);
    if ("reviewOrder" in $$props2)
      $$invalidate(19, reviewOrder = $$props2.reviewOrder);
    if ("requestRetention" in $$props2)
      $$invalidate(20, requestRetention = $$props2.requestRetention);
    if ("profile" in $$props2)
      $$invalidate(21, profile = $$props2.profile);
    if ("saving" in $$props2)
      $$invalidate(3, saving = $$props2.saving);
    if ("newCardsLimitContainer" in $$props2)
      $$invalidate(4, newCardsLimitContainer = $$props2.newCardsLimitContainer);
    if ("enableNewCardsContainer" in $$props2)
      $$invalidate(5, enableNewCardsContainer = $$props2.enableNewCardsContainer);
    if ("reviewCardsLimitContainer" in $$props2)
      $$invalidate(6, reviewCardsLimitContainer = $$props2.reviewCardsLimitContainer);
    if ("enableReviewCardsContainer" in $$props2)
      $$invalidate(7, enableReviewCardsContainer = $$props2.enableReviewCardsContainer);
    if ("enableReviewCardsLimitContainer" in $$props2)
      enableReviewCardsLimitContainer = $$props2.enableReviewCardsLimitContainer;
    if ("reviewOrderContainer" in $$props2)
      $$invalidate(8, reviewOrderContainer = $$props2.reviewOrderContainer);
    if ("requestRetentionContainer" in $$props2)
      $$invalidate(9, requestRetentionContainer = $$props2.requestRetentionContainer);
    if ("profileContainer" in $$props2)
      $$invalidate(10, profileContainer = $$props2.profileContainer);
    if ("fsrsResetContainer" in $$props2)
      $$invalidate(11, fsrsResetContainer = $$props2.fsrsResetContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*newCardsLimit, reviewCardsLimit, enableNewCardsLimit, enableReviewCardsLimit, reviewOrder, requestRetention, profile*/
    4063238) {
      $: {
        const newConfig = {
          newCardsLimit: Number(newCardsLimit) || 0,
          reviewCardsLimit: Number(reviewCardsLimit) || 0,
          enableNewCardsLimit,
          enableReviewCardsLimit,
          reviewOrder,
          fsrs: {
            requestRetention: Number(requestRetention) || 0.9,
            profile
          }
        };
        dispatch("configChange", newConfig);
      }
    }
  };
  return [
    deck,
    enableNewCardsLimit,
    enableReviewCardsLimit,
    saving,
    newCardsLimitContainer,
    enableNewCardsContainer,
    reviewCardsLimitContainer,
    enableReviewCardsContainer,
    reviewOrderContainer,
    requestRetentionContainer,
    profileContainer,
    fsrsResetContainer,
    handleSave,
    handleTouchClick,
    handleCancel,
    handleKeydown,
    config,
    newCardsLimit,
    reviewCardsLimit,
    reviewOrder,
    requestRetention,
    profile,
    div2_binding,
    div3_binding,
    div4_binding,
    div5_binding,
    div6_binding,
    div9_binding,
    div10_binding,
    div11_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1
  ];
}
var DeckConfigUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance2, create_fragment2, safe_not_equal, { deck: 0, config: 16 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckConfigUI",
      options,
      id: create_fragment2.name
    });
  }
  get deck() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get config() {
    throw new Error("<DeckConfigUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set config(value) {
    throw new Error("<DeckConfigUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckConfigUI_default = DeckConfigUI;

// src/components/DeckConfigModal.ts
var DeckConfigModal = class extends import_obsidian4.Modal {
  constructor(plugin, deck, onSave) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
    this.deck = deck;
    this.onSave = onSave;
    this.config = { ...deck.config };
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("deck-config-modal-mobile");
    }
    contentEl.createEl("h2", { text: `Configure Deck: ${this.deck.name}` });
    const componentContainer = contentEl.createDiv("deck-config-container");
    componentContainer.addClass("deck-config-container");
    this.component = new DeckConfigUI_default({
      target: componentContainer,
      props: {
        deck: this.deck,
        config: this.config
      }
    });
    this.component.$on("save", (event) => {
      this.handleSave(event.detail);
    });
    this.component.$on("cancel", () => {
      this.close();
    });
    this.component.$on("configChange", (event) => {
      this.config = event.detail;
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (import_obsidian4.Platform.isIosApp || import_obsidian4.Platform.isAndroidApp) {
          modalEl2.addClass("deck-config-modal-mobile");
        } else {
          modalEl2.removeClass("deck-config-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  async handleSave(config) {
    try {
      await this.onSave(config);
      this.close();
    } catch (error) {
      console.error("Error saving deck configuration:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/AnkiExportModal.ts
var import_obsidian6 = require("obsidian");

// src/components/AnkiExportUI.svelte
var import_obsidian5 = require("obsidian");
var file3 = "src/components/AnkiExportUI.svelte";
function create_fragment3(ctx) {
  let div6;
  let div0;
  let h30;
  let t1;
  let ul;
  let li0;
  let strong0;
  let t3;
  let t4_value = (
    /*deck*/
    ctx[0].name + ""
  );
  let t4;
  let t5;
  let li1;
  let strong1;
  let t7;
  let t8_value = (
    /*deck*/
    ctx[0].tag + ""
  );
  let t8;
  let t9;
  let li2;
  let strong2;
  let t11;
  let t12_value = (
    /*deck*/
    ctx[0].filepath + ""
  );
  let t12;
  let t13;
  let div1;
  let h31;
  let t15;
  let ol;
  let li3;
  let t17;
  let li4;
  let t18;
  let strong3;
  let t20;
  let li5;
  let t22;
  let li6;
  let t24;
  let li7;
  let t25;
  let strong4;
  let t27;
  let t28;
  let div4;
  let h32;
  let t30;
  let div2;
  let t31;
  let div3;
  let t32;
  let div5;
  let button0;
  let t33_value = (
    /*exporting*/
    ctx[2] ? "Exporting..." : "Export to Anki"
  );
  let t33;
  let button0_disabled_value;
  let t34;
  let button1;
  let t35;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div6 = element("div");
      div0 = element("div");
      h30 = element("h3");
      h30.textContent = "Export Information";
      t1 = space();
      ul = element("ul");
      li0 = element("li");
      strong0 = element("strong");
      strong0.textContent = "Source Deck:";
      t3 = space();
      t4 = text(t4_value);
      t5 = space();
      li1 = element("li");
      strong1 = element("strong");
      strong1.textContent = "Source Tag:";
      t7 = space();
      t8 = text(t8_value);
      t9 = space();
      li2 = element("li");
      strong2 = element("strong");
      strong2.textContent = "Source File:";
      t11 = space();
      t12 = text(t12_value);
      t13 = space();
      div1 = element("div");
      h31 = element("h3");
      h31.textContent = "How to Import";
      t15 = space();
      ol = element("ol");
      li3 = element("li");
      li3.textContent = "This will download a text file compatible with Anki";
      t17 = space();
      li4 = element("li");
      t18 = text("Open Anki and go to ");
      strong3 = element("strong");
      strong3.textContent = "File \u2192 Import";
      t20 = space();
      li5 = element("li");
      li5.textContent = "Select the downloaded file";
      t22 = space();
      li6 = element("li");
      li6.textContent = "Choose your target deck and import settings";
      t24 = space();
      li7 = element("li");
      t25 = text("Click ");
      strong4 = element("strong");
      strong4.textContent = "Import";
      t27 = text(" to add the cards");
      t28 = space();
      div4 = element("div");
      h32 = element("h3");
      h32.textContent = "Export Settings";
      t30 = space();
      div2 = element("div");
      t31 = space();
      div3 = element("div");
      t32 = space();
      div5 = element("div");
      button0 = element("button");
      t33 = text(t33_value);
      t34 = space();
      button1 = element("button");
      t35 = text("Cancel");
      attr_dev(h30, "class", "svelte-u6l6b1");
      add_location(h30, file3, 89, 8, 2712);
      attr_dev(strong0, "class", "svelte-u6l6b1");
      add_location(strong0, file3, 91, 16, 2792);
      attr_dev(li0, "class", "svelte-u6l6b1");
      add_location(li0, file3, 91, 12, 2788);
      attr_dev(strong1, "class", "svelte-u6l6b1");
      add_location(strong1, file3, 92, 16, 2855);
      attr_dev(li1, "class", "svelte-u6l6b1");
      add_location(li1, file3, 92, 12, 2851);
      attr_dev(strong2, "class", "svelte-u6l6b1");
      add_location(strong2, file3, 93, 16, 2916);
      attr_dev(li2, "class", "svelte-u6l6b1");
      add_location(li2, file3, 93, 12, 2912);
      attr_dev(ul, "class", "deck-info-list svelte-u6l6b1");
      add_location(ul, file3, 90, 8, 2748);
      attr_dev(div0, "class", "deck-info-section svelte-u6l6b1");
      add_location(div0, file3, 88, 4, 2672);
      attr_dev(h31, "class", "svelte-u6l6b1");
      add_location(h31, file3, 99, 8, 3073);
      attr_dev(li3, "class", "svelte-u6l6b1");
      add_location(li3, file3, 101, 12, 3147);
      attr_dev(strong3, "class", "svelte-u6l6b1");
      add_location(strong3, file3, 102, 36, 3244);
      attr_dev(li4, "class", "svelte-u6l6b1");
      add_location(li4, file3, 102, 12, 3220);
      attr_dev(li5, "class", "svelte-u6l6b1");
      add_location(li5, file3, 103, 12, 3292);
      attr_dev(li6, "class", "svelte-u6l6b1");
      add_location(li6, file3, 104, 12, 3340);
      attr_dev(strong4, "class", "svelte-u6l6b1");
      add_location(strong4, file3, 105, 22, 3415);
      attr_dev(li7, "class", "svelte-u6l6b1");
      add_location(li7, file3, 105, 12, 3405);
      attr_dev(ol, "class", "instructions-list svelte-u6l6b1");
      add_location(ol, file3, 100, 8, 3104);
      attr_dev(div1, "class", "instructions-section svelte-u6l6b1");
      add_location(div1, file3, 98, 4, 3030);
      attr_dev(h32, "class", "svelte-u6l6b1");
      add_location(h32, file3, 111, 8, 3574);
      add_location(div2, file3, 114, 8, 3652);
      add_location(div3, file3, 115, 8, 3702);
      attr_dev(div4, "class", "export-settings-section svelte-u6l6b1");
      add_location(div4, file3, 110, 4, 3528);
      attr_dev(button0, "class", "mod-cta svelte-u6l6b1");
      button0.disabled = button0_disabled_value = /*exporting*/
      ctx[2] || !/*ankiDeckName*/
      ctx[1].trim();
      add_location(button0, file3, 120, 8, 3824);
      button1.disabled = /*exporting*/
      ctx[2];
      attr_dev(button1, "class", "svelte-u6l6b1");
      add_location(button1, file3, 128, 8, 4144);
      attr_dev(div5, "class", "modal-footer svelte-u6l6b1");
      add_location(div5, file3, 119, 4, 3789);
      attr_dev(div6, "class", "anki-export-ui svelte-u6l6b1");
      add_location(div6, file3, 86, 0, 2601);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div0);
      append_dev(div0, h30);
      append_dev(div0, t1);
      append_dev(div0, ul);
      append_dev(ul, li0);
      append_dev(li0, strong0);
      append_dev(li0, t3);
      append_dev(li0, t4);
      append_dev(ul, t5);
      append_dev(ul, li1);
      append_dev(li1, strong1);
      append_dev(li1, t7);
      append_dev(li1, t8);
      append_dev(ul, t9);
      append_dev(ul, li2);
      append_dev(li2, strong2);
      append_dev(li2, t11);
      append_dev(li2, t12);
      append_dev(div6, t13);
      append_dev(div6, div1);
      append_dev(div1, h31);
      append_dev(div1, t15);
      append_dev(div1, ol);
      append_dev(ol, li3);
      append_dev(ol, t17);
      append_dev(ol, li4);
      append_dev(li4, t18);
      append_dev(li4, strong3);
      append_dev(ol, t20);
      append_dev(ol, li5);
      append_dev(ol, t22);
      append_dev(ol, li6);
      append_dev(ol, t24);
      append_dev(ol, li7);
      append_dev(li7, t25);
      append_dev(li7, strong4);
      append_dev(li7, t27);
      append_dev(div6, t28);
      append_dev(div6, div4);
      append_dev(div4, h32);
      append_dev(div4, t30);
      append_dev(div4, div2);
      ctx[10](div2);
      append_dev(div4, t31);
      append_dev(div4, div3);
      ctx[11](div3);
      append_dev(div6, t32);
      append_dev(div6, div5);
      append_dev(div5, button0);
      append_dev(button0, t33);
      append_dev(div5, t34);
      append_dev(div5, button1);
      append_dev(button1, t35);
      if (!mounted) {
        dispose = [
          listen_dev(
            window,
            "keydown",
            /*handleKeydown*/
            ctx[8],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[12],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[13],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[14],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[15],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, [dirty]) {
      if (dirty & /*deck*/
      1 && t4_value !== (t4_value = /*deck*/
      ctx2[0].name + ""))
        set_data_dev(t4, t4_value);
      if (dirty & /*deck*/
      1 && t8_value !== (t8_value = /*deck*/
      ctx2[0].tag + ""))
        set_data_dev(t8, t8_value);
      if (dirty & /*deck*/
      1 && t12_value !== (t12_value = /*deck*/
      ctx2[0].filepath + ""))
        set_data_dev(t12, t12_value);
      if (dirty & /*exporting*/
      4 && t33_value !== (t33_value = /*exporting*/
      ctx2[2] ? "Exporting..." : "Export to Anki"))
        set_data_dev(t33, t33_value);
      if (dirty & /*exporting, ankiDeckName*/
      6 && button0_disabled_value !== (button0_disabled_value = /*exporting*/
      ctx2[2] || !/*ankiDeckName*/
      ctx2[1].trim())) {
        prop_dev(button0, "disabled", button0_disabled_value);
      }
      if (dirty & /*exporting*/
      4) {
        prop_dev(
          button1,
          "disabled",
          /*exporting*/
          ctx2[2]
        );
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      ctx[10](null);
      ctx[11](null);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment3.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance3($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("AnkiExportUI", slots, []);
  let { deck } = $$props;
  let { plugin } = $$props;
  const dispatch = createEventDispatcher();
  let ankiDeckName = deck.name;
  let separator = "tab";
  let exporting = false;
  let deckNameContainer;
  let separatorContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  function handleExport() {
    $$invalidate(2, exporting = true);
    const separatorMap = {
      tab: "	",
      semicolon: ";",
      colon: ":",
      pipe: "|",
      comma: ",",
      space: " "
    };
    const config = {
      ankiDeckName: ankiDeckName.trim() || deck.name,
      separator: separatorMap[separator] || "	"
    };
    dispatch("export", config);
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function handleCancel() {
    dispatch("cancel");
  }
  function handleKeydown(event) {
    if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {
      handleExport();
    }
  }
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    if (deckNameContainer) {
      new import_obsidian5.Setting(deckNameContainer).setName("Anki Deck Name").setDesc("Name of the deck in Anki where cards will be imported").addText((text2) => text2.setPlaceholder("Enter deck name...").setValue(ankiDeckName).onChange((value) => {
        $$invalidate(1, ankiDeckName = value);
      }));
    }
    if (separatorContainer) {
      new import_obsidian5.Setting(separatorContainer).setName("Field Separator").setDesc("Character used to separate fields in the exported file").addDropdown((dropdown) => dropdown.addOption("tab", "Tab").addOption("semicolon", "Semicolon (;)").addOption("colon", "Colon (:)").addOption("pipe", "Pipe (|)").addOption("comma", "Comma (,)").addOption("space", "Space").setValue(separator).onChange((value) => {
        separator = value;
      }));
    }
  }));
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console.warn("<AnkiExportUI> was created without expected prop 'deck'");
    }
    if (plugin === void 0 && !("plugin" in $$props || $$self.$$.bound[$$self.$$.props["plugin"]])) {
      console.warn("<AnkiExportUI> was created without expected prop 'plugin'");
    }
  });
  const writable_props = ["deck", "plugin"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console.warn(`<AnkiExportUI> was created with unknown prop '${key}'`);
  });
  function div2_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      deckNameContainer = $$value;
      $$invalidate(3, deckNameContainer);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      separatorContainer = $$value;
      $$invalidate(4, separatorContainer);
    });
  }
  const click_handler = (e) => handleTouchClick(handleExport, e);
  const touchend_handler = (e) => handleTouchClick(handleExport, e);
  const click_handler_1 = (e) => handleTouchClick(handleCancel, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleCancel, e);
  $$self.$$set = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("plugin" in $$props2)
      $$invalidate(9, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    createEventDispatcher,
    onMount,
    Setting: import_obsidian5.Setting,
    deck,
    plugin,
    dispatch,
    ankiDeckName,
    separator,
    exporting,
    deckNameContainer,
    separatorContainer,
    lastEventTime,
    lastEventType,
    handleExport,
    handleTouchClick,
    handleCancel,
    handleKeydown
  });
  $$self.$inject_state = ($$props2) => {
    if ("deck" in $$props2)
      $$invalidate(0, deck = $$props2.deck);
    if ("plugin" in $$props2)
      $$invalidate(9, plugin = $$props2.plugin);
    if ("ankiDeckName" in $$props2)
      $$invalidate(1, ankiDeckName = $$props2.ankiDeckName);
    if ("separator" in $$props2)
      separator = $$props2.separator;
    if ("exporting" in $$props2)
      $$invalidate(2, exporting = $$props2.exporting);
    if ("deckNameContainer" in $$props2)
      $$invalidate(3, deckNameContainer = $$props2.deckNameContainer);
    if ("separatorContainer" in $$props2)
      $$invalidate(4, separatorContainer = $$props2.separatorContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    deck,
    ankiDeckName,
    exporting,
    deckNameContainer,
    separatorContainer,
    handleExport,
    handleTouchClick,
    handleCancel,
    handleKeydown,
    plugin,
    div2_binding,
    div3_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1
  ];
}
var AnkiExportUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance3, create_fragment3, safe_not_equal, { deck: 0, plugin: 9 });
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "AnkiExportUI",
      options,
      id: create_fragment3.name
    });
  }
  get deck() {
    throw new Error("<AnkiExportUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<AnkiExportUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get plugin() {
    throw new Error("<AnkiExportUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<AnkiExportUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var AnkiExportUI_default = AnkiExportUI;

// src/components/AnkiExportModal.ts
var AnkiExportModal = class extends import_obsidian6.Modal {
  constructor(plugin, deck) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
    this.deck = deck;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("anki-export-modal-mobile");
    }
    contentEl.createEl("h2", { text: `Export to Anki: ${this.deck.name}` });
    const componentContainer = contentEl.createDiv("anki-export-container");
    componentContainer.addClass("anki-export-container");
    this.component = new AnkiExportUI_default({
      target: componentContainer,
      props: {
        deck: this.deck,
        plugin: this.plugin
      }
    });
    this.component.$on("export", (event) => {
      this.handleExport(event.detail);
    });
    this.component.$on("cancel", () => {
      this.close();
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl2.addClass("anki-export-modal-mobile");
        } else {
          modalEl2.removeClass("anki-export-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  async handleExport(config) {
    try {
      const flashcards = await this.plugin.getFlashcardsByDeck(this.deck.id);
      if (flashcards.length === 0) {
        new import_obsidian6.Notice("No flashcards found in this deck to export");
        return;
      }
      const ankiData = this.generateAnkiData(flashcards, config);
      await this.downloadAnkiFile(ankiData, config.ankiDeckName);
      new import_obsidian6.Notice(
        `Successfully exported ${flashcards.length} flashcards to Anki format`
      );
      this.close();
    } catch (error) {
      console.error("Error exporting to Anki:", error);
      new import_obsidian6.Notice("Failed to export deck to Anki format");
    }
  }
  generateAnkiData(flashcards, config) {
    const headers = ["Front", "Back"];
    const rows = [headers.join(config.separator)];
    flashcards.forEach((card) => {
      const front = this.sanitizeForAnki(card.front, config.separator);
      const back = this.sanitizeForAnki(card.back, config.separator);
      rows.push([front, back].join(config.separator));
    });
    return rows.join("\n");
  }
  sanitizeForAnki(text2, separator) {
    let sanitized = text2.replace(/\*\*(.*?)\*\*/g, "<b>$1</b>").replace(/\*(.*?)\*/g, "<i>$1</i>").replace(/`(.*?)`/g, "<code>$1</code>").replace(/\n/g, "<br>").trim();
    if (separator === "	") {
      sanitized = sanitized.replace(/\t/g, " ");
    } else {
      sanitized = sanitized.replace(
        new RegExp(`\\${separator}`, "g"),
        `\\${separator}`
      );
    }
    return sanitized;
  }
  async downloadAnkiFile(data, deckName) {
    const fileName = `${deckName.replace(/[^a-zA-Z0-9-_]/g, "_")}_export.txt`;
    const blob = new Blob([data], { type: "text/plain;charset=utf-8" });
    const url = URL.createObjectURL(blob);
    const link = document.createElement("a");
    link.href = url;
    link.download = fileName;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/DeckListPanel.svelte
var { console: console_12 } = globals;
var file4 = "src/components/DeckListPanel.svelte";
function get_each_context2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[57] = list[i];
  const constants_0 = (
    /*getDeckStats*/
    child_ctx[13](
      /*deck*/
      child_ctx[57].id
    )
  );
  child_ctx[12] = constants_0;
  return child_ctx;
}
function get_each_context_22(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[60] = list[i];
  return child_ctx;
}
function get_each_context_12(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[60] = list[i];
  return child_ctx;
}
function create_if_block_5(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_2 = (
    /*availableTags*/
    ctx[7].slice(0, 5)
  );
  validate_each_argument(each_value_2);
  let each_blocks = [];
  for (let i = 0; i < each_value_2.length; i += 1) {
    each_blocks[i] = create_each_block_22(get_each_context_22(ctx, each_value_2, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags (click to filter):";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-1hyrijk");
      add_location(div0, file4, 367, 20, 12457);
      attr_dev(div1, "class", "suggestions-dropdown svelte-1hyrijk");
      add_location(div1, file4, 366, 16, 12402);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, availableTags, handleTouchClick*/
      2162816) {
        each_value_2 = /*availableTags*/
        ctx2[7].slice(0, 5);
        validate_each_argument(each_value_2);
        let i;
        for (i = 0; i < each_value_2.length; i += 1) {
          const child_ctx = get_each_context_22(ctx2, each_value_2, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_22(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_2.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_5.name,
    type: "if",
    source: "(366:85) ",
    ctx
  });
  return block;
}
function create_if_block_4(ctx) {
  let div1;
  let div0;
  let t1;
  let each_value_1 = (
    /*filteredSuggestions*/
    ctx[8]
  );
  validate_each_argument(each_value_1);
  let each_blocks = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks[i] = create_each_block_12(get_each_context_12(ctx, each_value_1, i));
  }
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      div0.textContent = "Available tags:";
      t1 = space();
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "suggestions-header svelte-1hyrijk");
      add_location(div0, file4, 344, 20, 11373);
      attr_dev(div1, "class", "suggestions-dropdown svelte-1hyrijk");
      add_location(div1, file4, 343, 16, 11318);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
      append_dev(div1, t1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div1, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*selectSuggestion, filteredSuggestions, handleTouchClick*/
      2162944) {
        each_value_1 = /*filteredSuggestions*/
        ctx2[8];
        validate_each_argument(each_value_1);
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_12(ctx2, each_value_1, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block_12(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div1, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value_1.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_4.name,
    type: "if",
    source: "(343:12) {#if showSuggestions && filteredSuggestions.length > 0}",
    ctx
  });
  return block;
}
function create_each_block_22(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[60] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler_1() {
    return (
      /*mousedown_handler_1*/
      ctx[38](
        /*tag*/
        ctx[60]
      )
    );
  }
  function click_handler_3(...args) {
    return (
      /*click_handler_3*/
      ctx[39](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  function touchend_handler_3(...args) {
    return (
      /*touchend_handler_3*/
      ctx[40](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-1hyrijk");
      add_location(button, file4, 371, 24, 12660);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = [
          listen_dev(button, "mousedown", prevent_default(mousedown_handler_1), false, true, false, false),
          listen_dev(button, "click", click_handler_3, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_3, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*availableTags*/
      128 && t0_value !== (t0_value = /*tag*/
      ctx[60] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_22.name,
    type: "each",
    source: "(371:20) {#each availableTags.slice(0, 5) as tag}",
    ctx
  });
  return block;
}
function create_each_block_12(ctx) {
  let button;
  let t0_value = (
    /*tag*/
    ctx[60] + ""
  );
  let t0;
  let t1;
  let mounted;
  let dispose;
  function mousedown_handler() {
    return (
      /*mousedown_handler*/
      ctx[35](
        /*tag*/
        ctx[60]
      )
    );
  }
  function click_handler_2(...args) {
    return (
      /*click_handler_2*/
      ctx[36](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  function touchend_handler_2(...args) {
    return (
      /*touchend_handler_2*/
      ctx[37](
        /*tag*/
        ctx[60],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      button = element("button");
      t0 = text(t0_value);
      t1 = space();
      attr_dev(button, "class", "suggestion-item svelte-1hyrijk");
      add_location(button, file4, 346, 24, 11506);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, t0);
      append_dev(button, t1);
      if (!mounted) {
        dispose = [
          listen_dev(button, "mousedown", prevent_default(mousedown_handler), false, true, false, false),
          listen_dev(button, "click", click_handler_2, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_2, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*filteredSuggestions*/
      256 && t0_value !== (t0_value = /*tag*/
      ctx[60] + ""))
        set_data_dev(t0, t0_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block_12.name,
    type: "each",
    source: "(346:20) {#each filteredSuggestions as tag}",
    ctx
  });
  return block;
}
function create_else_block2(ctx) {
  let div6;
  let div4;
  let div0;
  let t1;
  let div1;
  let t3;
  let div2;
  let t5;
  let div3;
  let t6;
  let div5;
  let each_value = (
    /*decks*/
    ctx[2]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block2(get_each_context2(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div6 = element("div");
      div4 = element("div");
      div0 = element("div");
      div0.textContent = "Deck";
      t1 = space();
      div1 = element("div");
      div1.textContent = "New";
      t3 = space();
      div2 = element("div");
      div2.textContent = "Due";
      t5 = space();
      div3 = element("div");
      t6 = space();
      div5 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr_dev(div0, "class", "col-deck svelte-1hyrijk");
      add_location(div0, file4, 409, 16, 14041);
      attr_dev(div1, "class", "col-stat svelte-1hyrijk");
      add_location(div1, file4, 410, 16, 14090);
      attr_dev(div2, "class", "col-stat svelte-1hyrijk");
      add_location(div2, file4, 411, 16, 14138);
      attr_dev(div3, "class", "col-config svelte-1hyrijk");
      add_location(div3, file4, 412, 16, 14186);
      attr_dev(div4, "class", "table-header svelte-1hyrijk");
      add_location(div4, file4, 408, 12, 13998);
      attr_dev(div5, "class", "table-body svelte-1hyrijk");
      add_location(div5, file4, 415, 12, 14249);
      attr_dev(div6, "class", "deck-table svelte-1hyrijk");
      add_location(div6, file4, 407, 8, 13961);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div4);
      append_dev(div4, div0);
      append_dev(div4, t1);
      append_dev(div4, div1);
      append_dev(div4, t3);
      append_dev(div4, div2);
      append_dev(div4, t5);
      append_dev(div4, div3);
      append_dev(div6, t6);
      append_dev(div6, div5);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div5, null);
        }
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*decks, handleTouchClick, handleConfigClick, getDeckStats, isUpdatingStats, handleDeckClick*/
      3680260) {
        each_value = /*decks*/
        ctx2[2];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context2(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div5, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      destroy_each(each_blocks, detaching);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block2.name,
    type: "else",
    source: "(407:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_12(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No decks match your filter.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Try adjusting your search terms.";
      attr_dev(p0, "class", "svelte-1hyrijk");
      add_location(p0, file4, 403, 12, 13821);
      attr_dev(p1, "class", "help-text svelte-1hyrijk");
      add_location(p1, file4, 404, 12, 13868);
      attr_dev(div, "class", "empty-state svelte-1hyrijk");
      add_location(div, file4, 402, 8, 13783);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_12.name,
    type: "if",
    source: "(402:33) ",
    ctx
  });
  return block;
}
function create_if_block2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No flashcard decks found.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Tag your notes with #flashcards to create decks.";
      attr_dev(p0, "class", "svelte-1hyrijk");
      add_location(p0, file4, 396, 12, 13577);
      attr_dev(p1, "class", "help-text svelte-1hyrijk");
      add_location(p1, file4, 397, 12, 13622);
      attr_dev(div, "class", "empty-state svelte-1hyrijk");
      add_location(div, file4, 395, 8, 13539);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block2.name,
    type: "if",
    source: "(395:4) {#if allDecks.length === 0}",
    ctx
  });
  return block;
}
function create_if_block_3(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-1hyrijk");
      add_location(span, file4, 452, 32, 16204);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_3.name,
    type: "if",
    source: "(452:28) {#if deck.config.enableNewCardsLimit}",
    ctx
  });
  return block;
}
function create_if_block_2(ctx) {
  let span;
  const block = {
    c: function create() {
      span = element("span");
      span.textContent = "\u{1F4C5}";
      attr_dev(span, "class", "limit-indicator svelte-1hyrijk");
      add_location(span, file4, 474, 32, 17353);
    },
    m: function mount(target, anchor) {
      insert_dev(target, span, anchor);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(span);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_2.name,
    type: "if",
    source: "(474:28) {#if deck.config.enableReviewCardsLimit}",
    ctx
  });
  return block;
}
function create_each_block2(ctx) {
  let div5;
  let div0;
  let span;
  let t0_value = formatDeckName(
    /*deck*/
    ctx[57]
  ) + "";
  let t0;
  let span_title_value;
  let t1;
  let div1;
  let t2_value = (
    /*stats*/
    ctx[12].newCount + ""
  );
  let t2;
  let t3;
  let div1_title_value;
  let t4;
  let div2;
  let t6;
  let div3;
  let t7_value = (
    /*stats*/
    ctx[12].dueCount + ""
  );
  let t7;
  let t8;
  let div3_title_value;
  let t9;
  let div4;
  let button;
  let svg;
  let circle;
  let path;
  let button_aria_label_value;
  let t10;
  let mounted;
  let dispose;
  function click_handler_4(...args) {
    return (
      /*click_handler_4*/
      ctx[41](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function touchend_handler_4(...args) {
    return (
      /*touchend_handler_4*/
      ctx[42](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function keydown_handler(...args) {
    return (
      /*keydown_handler*/
      ctx[43](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  let if_block0 = (
    /*deck*/
    ctx[57].config.enableNewCardsLimit && create_if_block_3(ctx)
  );
  let if_block1 = (
    /*deck*/
    ctx[57].config.enableReviewCardsLimit && create_if_block_2(ctx)
  );
  function click_handler_5(...args) {
    return (
      /*click_handler_5*/
      ctx[44](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  function touchend_handler_5(...args) {
    return (
      /*touchend_handler_5*/
      ctx[45](
        /*deck*/
        ctx[57],
        ...args
      )
    );
  }
  const block = {
    c: function create() {
      div5 = element("div");
      div0 = element("div");
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      if (if_block0)
        if_block0.c();
      t4 = space();
      div2 = element("div");
      div2.textContent = "0";
      t6 = space();
      div3 = element("div");
      t7 = text(t7_value);
      t8 = space();
      if (if_block1)
        if_block1.c();
      t9 = space();
      div4 = element("div");
      button = element("button");
      svg = svg_element("svg");
      circle = svg_element("circle");
      path = svg_element("path");
      t10 = space();
      attr_dev(span, "class", "deck-name-link svelte-1hyrijk");
      attr_dev(span, "role", "button");
      attr_dev(span, "tabindex", "0");
      attr_dev(span, "title", span_title_value = "Click to review " + /*deck*/
      ctx[57].name);
      add_location(span, file4, 420, 28, 14489);
      attr_dev(div0, "class", "col-deck svelte-1hyrijk");
      add_location(div0, file4, 419, 24, 14438);
      attr_dev(div1, "class", "col-stat svelte-1hyrijk");
      attr_dev(div1, "title", div1_title_value = /*deck*/
      ctx[57].config.enableNewCardsLimit ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[57].config.newCardsLimit})` : `${/*stats*/
      ctx[12].newCount} new cards due`);
      toggle_class(
        div1,
        "has-cards",
        /*stats*/
        ctx[12].newCount > 0
      );
      toggle_class(
        div1,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div1,
        "has-limit",
        /*deck*/
        ctx[57].config.enableNewCardsLimit
      );
      add_location(div1, file4, 441, 24, 15527);
      attr_dev(div2, "class", "col-stat svelte-1hyrijk");
      set_style(div2, "display", "none");
      toggle_class(div2, "has-cards", false);
      toggle_class(
        div2,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      add_location(div2, file4, 455, 24, 16333);
      attr_dev(div3, "class", "col-stat svelte-1hyrijk");
      attr_dev(div3, "title", div3_title_value = /*deck*/
      ctx[57].config.enableReviewCardsLimit ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[57].config.reviewCardsLimit})` : `${/*stats*/
      ctx[12].dueCount} review cards due`);
      toggle_class(
        div3,
        "has-cards",
        /*stats*/
        ctx[12].dueCount > 0
      );
      toggle_class(
        div3,
        "updating",
        /*isUpdatingStats*/
        ctx[11]
      );
      toggle_class(
        div3,
        "has-limit",
        /*deck*/
        ctx[57].config.enableReviewCardsLimit
      );
      add_location(div3, file4, 463, 24, 16658);
      attr_dev(circle, "cx", "12");
      attr_dev(circle, "cy", "12");
      attr_dev(circle, "r", "3");
      add_location(circle, file4, 504, 36, 18891);
      attr_dev(path, "d", "M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z");
      add_location(path, file4, 505, 36, 18967);
      attr_dev(svg, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg, "width", "16");
      attr_dev(svg, "height", "16");
      attr_dev(svg, "viewBox", "0 0 24 24");
      attr_dev(svg, "fill", "none");
      attr_dev(svg, "stroke", "currentColor");
      attr_dev(svg, "stroke-width", "2");
      attr_dev(svg, "stroke-linecap", "round");
      attr_dev(svg, "stroke-linejoin", "round");
      add_location(svg, file4, 493, 32, 18316);
      attr_dev(button, "class", "deck-config-button svelte-1hyrijk");
      attr_dev(button, "title", "Configure deck settings");
      attr_dev(button, "aria-label", button_aria_label_value = "Configure " + /*deck*/
      ctx[57].name);
      add_location(button, file4, 478, 28, 17535);
      attr_dev(div4, "class", "col-config svelte-1hyrijk");
      add_location(div4, file4, 477, 24, 17482);
      attr_dev(div5, "class", "deck-row svelte-1hyrijk");
      add_location(div5, file4, 418, 20, 14391);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div0);
      append_dev(div0, span);
      append_dev(span, t0);
      append_dev(div5, t1);
      append_dev(div5, div1);
      append_dev(div1, t2);
      append_dev(div1, t3);
      if (if_block0)
        if_block0.m(div1, null);
      append_dev(div5, t4);
      append_dev(div5, div2);
      append_dev(div5, t6);
      append_dev(div5, div3);
      append_dev(div3, t7);
      append_dev(div3, t8);
      if (if_block1)
        if_block1.m(div3, null);
      append_dev(div5, t9);
      append_dev(div5, div4);
      append_dev(div4, button);
      append_dev(button, svg);
      append_dev(svg, circle);
      append_dev(svg, path);
      append_dev(div5, t10);
      if (!mounted) {
        dispose = [
          listen_dev(span, "click", click_handler_4, false, false, false, false),
          listen_dev(span, "touchend", touchend_handler_4, false, false, false, false),
          listen_dev(span, "keydown", keydown_handler, false, false, false, false),
          listen_dev(button, "click", click_handler_5, false, false, false, false),
          listen_dev(button, "touchend", touchend_handler_5, false, false, false, false)
        ];
        mounted = true;
      }
    },
    p: function update2(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty[0] & /*decks*/
      4 && t0_value !== (t0_value = formatDeckName(
        /*deck*/
        ctx[57]
      ) + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*decks*/
      4 && span_title_value !== (span_title_value = "Click to review " + /*deck*/
      ctx[57].name)) {
        attr_dev(span, "title", span_title_value);
      }
      if (dirty[0] & /*decks*/
      4 && t2_value !== (t2_value = /*stats*/
      ctx[12].newCount + ""))
        set_data_dev(t2, t2_value);
      if (
        /*deck*/
        ctx[57].config.enableNewCardsLimit
      ) {
        if (if_block0) {
        } else {
          if_block0 = create_if_block_3(ctx);
          if_block0.c();
          if_block0.m(div1, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div1_title_value !== (div1_title_value = /*deck*/
      ctx[57].config.enableNewCardsLimit ? `${/*stats*/
      ctx[12].newCount} new cards available today (limit: ${/*deck*/
      ctx[57].config.newCardsLimit})` : `${/*stats*/
      ctx[12].newCount} new cards due`)) {
        attr_dev(div1, "title", div1_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div1,
          "has-cards",
          /*stats*/
          ctx[12].newCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div1,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div1,
          "has-limit",
          /*deck*/
          ctx[57].config.enableNewCardsLimit
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div2,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4 && t7_value !== (t7_value = /*stats*/
      ctx[12].dueCount + ""))
        set_data_dev(t7, t7_value);
      if (
        /*deck*/
        ctx[57].config.enableReviewCardsLimit
      ) {
        if (if_block1) {
        } else {
          if_block1 = create_if_block_2(ctx);
          if_block1.c();
          if_block1.m(div3, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (dirty[0] & /*decks*/
      4 && div3_title_value !== (div3_title_value = /*deck*/
      ctx[57].config.enableReviewCardsLimit ? `${/*stats*/
      ctx[12].dueCount} review cards available today (limit: ${/*deck*/
      ctx[57].config.reviewCardsLimit})` : `${/*stats*/
      ctx[12].dueCount} review cards due`)) {
        attr_dev(div3, "title", div3_title_value);
      }
      if (dirty[0] & /*getDeckStats, decks*/
      8196) {
        toggle_class(
          div3,
          "has-cards",
          /*stats*/
          ctx[12].dueCount > 0
        );
      }
      if (dirty[0] & /*isUpdatingStats*/
      2048) {
        toggle_class(
          div3,
          "updating",
          /*isUpdatingStats*/
          ctx[11]
        );
      }
      if (dirty[0] & /*decks*/
      4) {
        toggle_class(
          div3,
          "has-limit",
          /*deck*/
          ctx[57].config.enableReviewCardsLimit
        );
      }
      if (dirty[0] & /*decks*/
      4 && button_aria_label_value !== (button_aria_label_value = "Configure " + /*deck*/
      ctx[57].name)) {
        attr_dev(button, "aria-label", button_aria_label_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block2.name,
    type: "each",
    source: "(417:16) {#each decks as deck}",
    ctx
  });
  return block;
}
function create_fragment4(ctx) {
  let div4;
  let div1;
  let h3;
  let t1;
  let div0;
  let button0;
  let svg0;
  let path0;
  let path1;
  let path2;
  let path3;
  let t2;
  let button1;
  let svg1;
  let path4;
  let path5;
  let path6;
  let t3;
  let div3;
  let div2;
  let input;
  let t4;
  let show_if;
  let t5;
  let t6;
  let reviewheatmap;
  let current;
  let mounted;
  let dispose;
  function select_block_type(ctx2, dirty) {
    if (dirty[0] & /*filterText, availableTags, inputFocused*/
    656)
      show_if = null;
    if (
      /*showSuggestions*/
      ctx2[6] && /*filteredSuggestions*/
      ctx2[8].length > 0
    )
      return create_if_block_4;
    if (show_if == null)
      show_if = !!(!/*filterText*/
      ctx2[4].trim() && /*availableTags*/
      ctx2[7].length > 0 && /*inputFocused*/
      ctx2[9]);
    if (show_if)
      return create_if_block_5;
  }
  let current_block_type = select_block_type(ctx, [-1, -1, -1]);
  let if_block0 = current_block_type && current_block_type(ctx);
  function select_block_type_1(ctx2, dirty) {
    if (
      /*allDecks*/
      ctx2[3].length === 0
    )
      return create_if_block2;
    if (
      /*decks*/
      ctx2[2].length === 0
    )
      return create_if_block_12;
    return create_else_block2;
  }
  let current_block_type_1 = select_block_type_1(ctx, [-1, -1, -1]);
  let if_block1 = current_block_type_1(ctx);
  let reviewheatmap_props = {
    getReviewCounts: (
      /*getReviewCounts*/
      ctx[0]
    )
  };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[46](reviewheatmap);
  const block = {
    c: function create() {
      div4 = element("div");
      div1 = element("div");
      h3 = element("h3");
      h3.textContent = "Flashcard Decks";
      t1 = space();
      div0 = element("div");
      button0 = element("button");
      svg0 = svg_element("svg");
      path0 = svg_element("path");
      path1 = svg_element("path");
      path2 = svg_element("path");
      path3 = svg_element("path");
      t2 = space();
      button1 = element("button");
      svg1 = svg_element("svg");
      path4 = svg_element("path");
      path5 = svg_element("path");
      path6 = svg_element("path");
      t3 = space();
      div3 = element("div");
      div2 = element("div");
      input = element("input");
      t4 = space();
      if (if_block0)
        if_block0.c();
      t5 = space();
      if_block1.c();
      t6 = space();
      create_component(reviewheatmap.$$.fragment);
      attr_dev(h3, "class", "panel-title svelte-1hyrijk");
      add_location(h3, file4, 278, 8, 8805);
      attr_dev(path0, "d", "M3 3v18h18");
      add_location(path0, file4, 297, 20, 9568);
      attr_dev(path1, "d", "M18 17V9");
      add_location(path1, file4, 298, 20, 9617);
      attr_dev(path2, "d", "M13 17V5");
      add_location(path2, file4, 299, 20, 9664);
      attr_dev(path3, "d", "M8 17v-3");
      add_location(path3, file4, 300, 20, 9711);
      attr_dev(svg0, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg0, "width", "14");
      attr_dev(svg0, "height", "14");
      attr_dev(svg0, "viewBox", "0 0 24 24");
      attr_dev(svg0, "fill", "none");
      attr_dev(svg0, "stroke", "currentColor");
      attr_dev(svg0, "stroke-width", "2");
      attr_dev(svg0, "stroke-linecap", "round");
      attr_dev(svg0, "stroke-linejoin", "round");
      add_location(svg0, file4, 286, 16, 9169);
      attr_dev(button0, "class", "stats-button svelte-1hyrijk");
      attr_dev(button0, "title", "View Overall Statistics");
      add_location(button0, file4, 280, 12, 8899);
      attr_dev(path4, "d", "M23 4v6h-6");
      add_location(path4, file4, 321, 20, 10500);
      attr_dev(path5, "d", "M1 20v-6h6");
      add_location(path5, file4, 322, 20, 10549);
      attr_dev(path6, "d", "M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15");
      add_location(path6, file4, 323, 20, 10598);
      attr_dev(svg1, "xmlns", "http://www.w3.org/2000/svg");
      attr_dev(svg1, "width", "14");
      attr_dev(svg1, "height", "14");
      attr_dev(svg1, "viewBox", "0 0 24 24");
      attr_dev(svg1, "fill", "none");
      attr_dev(svg1, "stroke", "currentColor");
      attr_dev(svg1, "stroke-width", "2");
      attr_dev(svg1, "stroke-linecap", "round");
      attr_dev(svg1, "stroke-linejoin", "round");
      attr_dev(svg1, "class", "svelte-1hyrijk");
      add_location(svg1, file4, 310, 16, 10101);
      attr_dev(button1, "class", "refresh-button svelte-1hyrijk");
      button1.disabled = /*isRefreshing*/
      ctx[10];
      toggle_class(
        button1,
        "refreshing",
        /*isRefreshing*/
        ctx[10]
      );
      add_location(button1, file4, 303, 12, 9795);
      attr_dev(div0, "class", "header-buttons svelte-1hyrijk");
      add_location(div0, file4, 279, 8, 8858);
      attr_dev(div1, "class", "panel-header svelte-1hyrijk");
      add_location(div1, file4, 277, 4, 8770);
      attr_dev(input, "type", "text");
      attr_dev(input, "class", "filter-input svelte-1hyrijk");
      attr_dev(input, "placeholder", "Filter by name or tag... (e.g., 'spanish', '#flashcards')");
      add_location(input, file4, 333, 12, 10886);
      attr_dev(div2, "class", "filter-container svelte-1hyrijk");
      add_location(div2, file4, 332, 8, 10843);
      attr_dev(div3, "class", "filter-section svelte-1hyrijk");
      add_location(div3, file4, 331, 4, 10806);
      attr_dev(div4, "class", "deck-list-panel svelte-1hyrijk");
      add_location(div4, file4, 276, 0, 8736);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div4, anchor);
      append_dev(div4, div1);
      append_dev(div1, h3);
      append_dev(div1, t1);
      append_dev(div1, div0);
      append_dev(div0, button0);
      append_dev(button0, svg0);
      append_dev(svg0, path0);
      append_dev(svg0, path1);
      append_dev(svg0, path2);
      append_dev(svg0, path3);
      append_dev(div0, t2);
      append_dev(div0, button1);
      append_dev(button1, svg1);
      append_dev(svg1, path4);
      append_dev(svg1, path5);
      append_dev(svg1, path6);
      append_dev(div4, t3);
      append_dev(div4, div3);
      append_dev(div3, div2);
      append_dev(div2, input);
      set_input_value(
        input,
        /*filterText*/
        ctx[4]
      );
      append_dev(div2, t4);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div4, t5);
      if_block1.m(div4, null);
      append_dev(div4, t6);
      mount_component(reviewheatmap, div4, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler*/
            ctx[30],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler*/
            ctx[31],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_1*/
            ctx[32],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_1*/
            ctx[33],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "input",
            /*input_input_handler*/
            ctx[34]
          ),
          listen_dev(
            input,
            "input",
            /*handleFilterInput*/
            ctx[15],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "focus",
            /*handleFilterFocus*/
            ctx[17],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            input,
            "blur",
            /*handleFilterBlur*/
            ctx[18],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        prop_dev(
          button1,
          "disabled",
          /*isRefreshing*/
          ctx2[10]
        );
      }
      if (!current || dirty[0] & /*isRefreshing*/
      1024) {
        toggle_class(
          button1,
          "refreshing",
          /*isRefreshing*/
          ctx2[10]
        );
      }
      if (dirty[0] & /*filterText*/
      16 && input.value !== /*filterText*/
      ctx2[4]) {
        set_input_value(
          input,
          /*filterText*/
          ctx2[4]
        );
      }
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block0) {
        if_block0.p(ctx2, dirty);
      } else {
        if (if_block0)
          if_block0.d(1);
        if_block0 = current_block_type && current_block_type(ctx2);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div2, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_1(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div4, t6);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*getReviewCounts*/
      1)
        reviewheatmap_changes.getReviewCounts = /*getReviewCounts*/
        ctx2[0];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div4);
      if (if_block0) {
        if_block0.d();
      }
      if_block1.d();
      ctx[46](null);
      destroy_component(reviewheatmap);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment4.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDeckName(deck) {
  return deck.name;
}
function instance4($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("DeckListPanel", slots, []);
  let decks = [];
  let allDecks = [];
  let stats = /* @__PURE__ */ new Map();
  let filterText = "";
  let heatmapComponent;
  let showSuggestions = false;
  let availableTags = [];
  let filteredSuggestions = [];
  let inputFocused = false;
  let activeDropdown = null;
  let activeDropdownDeckId = null;
  let dropdownEventListeners = {};
  let { onDeckClick } = $$props;
  let { onRefresh } = $$props;
  let { getReviewCounts } = $$props;
  let { onUpdateDeckConfig } = $$props;
  let { onOpenStatistics } = $$props;
  let { plugin = null } = $$props;
  let isRefreshing = false;
  let isUpdatingStats = false;
  let lastEventTime = 0;
  let lastEventType = "";
  function getDeckStats(deckId) {
    var _a;
    return (_a = stats.get(deckId)) !== null && _a !== void 0 ? _a : {
      deckId,
      newCount: 0,
      dueCount: 0,
      totalCount: 0
    };
  }
  function handleRefresh() {
    return __awaiter(this, void 0, void 0, function* () {
      $$invalidate(10, isRefreshing = true);
      try {
        yield onRefresh();
        refreshHeatmap();
      } catch (error) {
        console.error("Error during refresh:", error);
      } finally {
        $$invalidate(10, isRefreshing = false);
      }
    });
  }
  function updateStatsById(deckId, newStats) {
    $$invalidate(11, isUpdatingStats = true);
    stats.set(deckId, newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateStats(newStats) {
    $$invalidate(11, isUpdatingStats = true);
    $$invalidate(12, stats = newStats);
    $$invalidate(2, decks);
    $$invalidate(11, isUpdatingStats = false);
  }
  function updateDecks(newDecks) {
    $$invalidate(3, allDecks = newDecks);
    $$invalidate(7, availableTags = [...new Set(newDecks.map((deck) => deck.tag))].filter((tag) => tag));
    applyFilter();
  }
  function applyFilter() {
    if (!filterText.trim()) {
      $$invalidate(2, decks = allDecks);
    } else {
      const filter = filterText.toLowerCase();
      $$invalidate(2, decks = allDecks.filter((deck) => deck.name.toLowerCase().includes(filter) || deck.tag.toLowerCase().includes(filter)));
    }
  }
  function handleFilterInput(event) {
    const target = event.target;
    $$invalidate(4, filterText = target.value);
    updateSuggestions();
    applyFilter();
  }
  function updateSuggestions() {
    if (!filterText.trim()) {
      $$invalidate(6, showSuggestions = false);
      return;
    }
    const filter = filterText.toLowerCase();
    $$invalidate(8, filteredSuggestions = availableTags.filter((tag) => tag.toLowerCase().includes(filter) && tag.toLowerCase() !== filter));
    $$invalidate(6, showSuggestions = filteredSuggestions.length > 0);
  }
  function selectSuggestion(tag) {
    $$invalidate(4, filterText = tag);
    $$invalidate(6, showSuggestions = false);
    applyFilter();
  }
  function handleFilterFocus() {
    $$invalidate(9, inputFocused = true);
    if (filterText.trim()) {
      updateSuggestions();
    } else if (availableTags.length > 0) {
      $$invalidate(6, showSuggestions = true);
    }
  }
  function handleFilterBlur() {
    $$invalidate(9, inputFocused = false);
    setTimeout(
      () => {
        $$invalidate(6, showSuggestions = false);
      },
      200
    );
  }
  function handleDeckClick(deck) {
    onDeckClick(deck);
  }
  function refreshHeatmap() {
    if (heatmapComponent) {
      heatmapComponent.refresh();
    }
  }
  function handleConfigClick(deck, event) {
    event.stopPropagation();
    if (activeDropdown && activeDropdownDeckId === deck.id) {
      closeActiveDropdown();
      return;
    }
    closeActiveDropdown();
    const dropdown = document.createElement("div");
    dropdown.className = "deck-config-dropdown";
    const configOption = document.createElement("div");
    configOption.className = "dropdown-option";
    configOption.textContent = "Configure deck";
    configOption.onclick = () => {
      closeActiveDropdown();
      openDeckConfig(deck);
    };
    const exportOption = document.createElement("div");
    exportOption.className = "dropdown-option";
    exportOption.textContent = "Export to Anki";
    exportOption.onclick = () => {
      closeActiveDropdown();
      openAnkiExport(deck);
    };
    dropdown.appendChild(configOption);
    dropdown.appendChild(exportOption);
    const button = event.target;
    const rect = button.getBoundingClientRect();
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    dropdown.style.position = "fixed";
    dropdown.style.zIndex = "1000";
    dropdown.style.visibility = "hidden";
    document.body.appendChild(dropdown);
    const dropdownRect = dropdown.getBoundingClientRect();
    let top = rect.bottom + 5;
    let left = rect.left;
    if (top + dropdownRect.height > viewportHeight - 10) {
      top = rect.top - dropdownRect.height - 5;
    }
    if (left + dropdownRect.width > viewportWidth - 10) {
      left = viewportWidth - dropdownRect.width - 10;
    }
    top = Math.max(10, top);
    left = Math.max(10, left);
    dropdown.style.top = `${top}px`;
    dropdown.style.left = `${left}px`;
    dropdown.style.visibility = "visible";
    activeDropdown = dropdown;
    activeDropdownDeckId = deck.id;
    dropdownEventListeners.click = (e) => {
      if (!dropdown.contains(e.target)) {
        closeActiveDropdown();
      }
    };
    dropdownEventListeners.scroll = closeActiveDropdown;
    dropdownEventListeners.resize = closeActiveDropdown;
    setTimeout(
      () => {
        if (dropdownEventListeners.click) {
          document.addEventListener("click", dropdownEventListeners.click);
        }
        if (dropdownEventListeners.scroll) {
          window.addEventListener("scroll", dropdownEventListeners.scroll, true);
        }
        if (dropdownEventListeners.resize) {
          window.addEventListener("resize", dropdownEventListeners.resize);
        }
      },
      0
    );
  }
  function closeActiveDropdown() {
    if (activeDropdown) {
      activeDropdown.remove();
      activeDropdown = null;
      activeDropdownDeckId = null;
      if (dropdownEventListeners.click) {
        document.removeEventListener("click", dropdownEventListeners.click);
      }
      if (dropdownEventListeners.scroll) {
        window.removeEventListener("scroll", dropdownEventListeners.scroll, true);
      }
      if (dropdownEventListeners.resize) {
        window.removeEventListener("resize", dropdownEventListeners.resize);
      }
      dropdownEventListeners = {};
    }
  }
  onDestroy(() => {
    closeActiveDropdown();
  });
  function openDeckConfig(deck) {
    if (!plugin) {
      console.warn("Plugin not available for deck config");
      return;
    }
    const modal = new DeckConfigModal(
      plugin,
      deck,
      (config) => __awaiter(this, void 0, void 0, function* () {
        if (onUpdateDeckConfig) {
          yield onUpdateDeckConfig(deck.id, config);
          const deckIndex = allDecks.findIndex((d) => d.id === deck.id);
          if (deckIndex !== -1) {
            $$invalidate(3, allDecks[deckIndex].config = config, allDecks);
            $$invalidate(3, allDecks = [...allDecks]);
          }
        }
      })
    );
    modal.open();
  }
  function openAnkiExport(deck) {
    if (!plugin) {
      console.warn("Plugin not available for Anki export");
      return;
    }
    const modal = new AnkiExportModal(plugin, deck);
    modal.open();
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  onMount(() => {
    handleRefresh();
  });
  $$self.$$.on_mount.push(function() {
    if (onDeckClick === void 0 && !("onDeckClick" in $$props || $$self.$$.bound[$$self.$$.props["onDeckClick"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onDeckClick'");
    }
    if (onRefresh === void 0 && !("onRefresh" in $$props || $$self.$$.bound[$$self.$$.props["onRefresh"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onRefresh'");
    }
    if (getReviewCounts === void 0 && !("getReviewCounts" in $$props || $$self.$$.bound[$$self.$$.props["getReviewCounts"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'getReviewCounts'");
    }
    if (onUpdateDeckConfig === void 0 && !("onUpdateDeckConfig" in $$props || $$self.$$.bound[$$self.$$.props["onUpdateDeckConfig"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onUpdateDeckConfig'");
    }
    if (onOpenStatistics === void 0 && !("onOpenStatistics" in $$props || $$self.$$.bound[$$self.$$.props["onOpenStatistics"]])) {
      console_12.warn("<DeckListPanel> was created without expected prop 'onOpenStatistics'");
    }
  });
  const writable_props = [
    "onDeckClick",
    "onRefresh",
    "getReviewCounts",
    "onUpdateDeckConfig",
    "onOpenStatistics",
    "plugin"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_12.warn(`<DeckListPanel> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(onOpenStatistics, e);
  const touchend_handler = (e) => handleTouchClick(onOpenStatistics, e);
  const click_handler_1 = (e) => handleTouchClick(handleRefresh, e);
  const touchend_handler_1 = (e) => handleTouchClick(handleRefresh, e);
  function input_input_handler() {
    filterText = this.value;
    $$invalidate(4, filterText);
  }
  const mousedown_handler = (tag) => selectSuggestion(tag);
  const click_handler_2 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const touchend_handler_2 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const mousedown_handler_1 = (tag) => selectSuggestion(tag);
  const click_handler_3 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const touchend_handler_3 = (tag, e) => handleTouchClick(() => selectSuggestion(tag), e);
  const click_handler_4 = (deck, e) => handleTouchClick(() => handleDeckClick(deck), e);
  const touchend_handler_4 = (deck, e) => handleTouchClick(() => handleDeckClick(deck), e);
  const keydown_handler = (deck, e) => e.key === "Enter" && handleDeckClick(deck);
  const click_handler_5 = (deck, e) => handleTouchClick(() => handleConfigClick(deck, e), e);
  const touchend_handler_5 = (deck, e) => handleTouchClick(() => handleConfigClick(deck, e), e);
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(5, heatmapComponent);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("onDeckClick" in $$props2)
      $$invalidate(22, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(23, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(24, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(25, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    onDestroy,
    ReviewHeatmap: ReviewHeatmap_default,
    DeckConfigModal,
    AnkiExportModal,
    decks,
    allDecks,
    stats,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    activeDropdown,
    activeDropdownDeckId,
    dropdownEventListeners,
    onDeckClick,
    onRefresh,
    getReviewCounts,
    onUpdateDeckConfig,
    onOpenStatistics,
    plugin,
    isRefreshing,
    isUpdatingStats,
    lastEventTime,
    lastEventType,
    getDeckStats,
    formatDeckName,
    handleRefresh,
    updateStatsById,
    updateStats,
    updateDecks,
    applyFilter,
    handleFilterInput,
    updateSuggestions,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    refreshHeatmap,
    handleConfigClick,
    closeActiveDropdown,
    openDeckConfig,
    openAnkiExport,
    handleTouchClick
  });
  $$self.$inject_state = ($$props2) => {
    if ("decks" in $$props2)
      $$invalidate(2, decks = $$props2.decks);
    if ("allDecks" in $$props2)
      $$invalidate(3, allDecks = $$props2.allDecks);
    if ("stats" in $$props2)
      $$invalidate(12, stats = $$props2.stats);
    if ("filterText" in $$props2)
      $$invalidate(4, filterText = $$props2.filterText);
    if ("heatmapComponent" in $$props2)
      $$invalidate(5, heatmapComponent = $$props2.heatmapComponent);
    if ("showSuggestions" in $$props2)
      $$invalidate(6, showSuggestions = $$props2.showSuggestions);
    if ("availableTags" in $$props2)
      $$invalidate(7, availableTags = $$props2.availableTags);
    if ("filteredSuggestions" in $$props2)
      $$invalidate(8, filteredSuggestions = $$props2.filteredSuggestions);
    if ("inputFocused" in $$props2)
      $$invalidate(9, inputFocused = $$props2.inputFocused);
    if ("activeDropdown" in $$props2)
      activeDropdown = $$props2.activeDropdown;
    if ("activeDropdownDeckId" in $$props2)
      activeDropdownDeckId = $$props2.activeDropdownDeckId;
    if ("dropdownEventListeners" in $$props2)
      dropdownEventListeners = $$props2.dropdownEventListeners;
    if ("onDeckClick" in $$props2)
      $$invalidate(22, onDeckClick = $$props2.onDeckClick);
    if ("onRefresh" in $$props2)
      $$invalidate(23, onRefresh = $$props2.onRefresh);
    if ("getReviewCounts" in $$props2)
      $$invalidate(0, getReviewCounts = $$props2.getReviewCounts);
    if ("onUpdateDeckConfig" in $$props2)
      $$invalidate(24, onUpdateDeckConfig = $$props2.onUpdateDeckConfig);
    if ("onOpenStatistics" in $$props2)
      $$invalidate(1, onOpenStatistics = $$props2.onOpenStatistics);
    if ("plugin" in $$props2)
      $$invalidate(25, plugin = $$props2.plugin);
    if ("isRefreshing" in $$props2)
      $$invalidate(10, isRefreshing = $$props2.isRefreshing);
    if ("isUpdatingStats" in $$props2)
      $$invalidate(11, isUpdatingStats = $$props2.isUpdatingStats);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    getReviewCounts,
    onOpenStatistics,
    decks,
    allDecks,
    filterText,
    heatmapComponent,
    showSuggestions,
    availableTags,
    filteredSuggestions,
    inputFocused,
    isRefreshing,
    isUpdatingStats,
    stats,
    getDeckStats,
    handleRefresh,
    handleFilterInput,
    selectSuggestion,
    handleFilterFocus,
    handleFilterBlur,
    handleDeckClick,
    handleConfigClick,
    handleTouchClick,
    onDeckClick,
    onRefresh,
    onUpdateDeckConfig,
    plugin,
    updateStatsById,
    updateStats,
    updateDecks,
    refreshHeatmap,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    input_input_handler,
    mousedown_handler,
    click_handler_2,
    touchend_handler_2,
    mousedown_handler_1,
    click_handler_3,
    touchend_handler_3,
    click_handler_4,
    touchend_handler_4,
    keydown_handler,
    click_handler_5,
    touchend_handler_5,
    reviewheatmap_binding
  ];
}
var DeckListPanel = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(
      this,
      options,
      instance4,
      create_fragment4,
      safe_not_equal,
      {
        onDeckClick: 22,
        onRefresh: 23,
        getReviewCounts: 0,
        onUpdateDeckConfig: 24,
        onOpenStatistics: 1,
        plugin: 25,
        updateStatsById: 26,
        updateStats: 27,
        updateDecks: 28,
        refreshHeatmap: 29
      },
      null,
      [-1, -1, -1]
    );
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "DeckListPanel",
      options,
      id: create_fragment4.name
    });
  }
  get onDeckClick() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onDeckClick(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onRefresh() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onRefresh(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get getReviewCounts() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set getReviewCounts(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onUpdateDeckConfig() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onUpdateDeckConfig(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onOpenStatistics() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onOpenStatistics(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get plugin() {
    throw new Error("<DeckListPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStatsById() {
    return this.$$.ctx[26];
  }
  set updateStatsById(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateStats() {
    return this.$$.ctx[27];
  }
  set updateStats(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get updateDecks() {
    return this.$$.ctx[28];
  }
  set updateDecks(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get refreshHeatmap() {
    return this.$$.ctx[29];
  }
  set refreshHeatmap(value) {
    throw new Error("<DeckListPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var DeckListPanel_default = DeckListPanel;

// src/components/StatisticsModal.ts
var import_obsidian8 = require("obsidian");

// src/components/StatisticsUI.svelte
var import_obsidian7 = require("obsidian");
var { console: console_13 } = globals;
var file5 = "src/components/StatisticsUI.svelte";
function get_each_context3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[39] = list[i];
  child_ctx[42] = i;
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.indexOf(
      /*day*/
      child_ctx[39]
    )
  );
  child_ctx[40] = constants_0;
  return child_ctx;
}
function get_if_ctx(ctx) {
  const child_ctx = ctx.slice();
  const constants_0 = (
    /*statistics*/
    child_ctx[2].forecast.filter((day) => day.dueCount > 0).slice(0, 20)
  );
  child_ctx[37] = constants_0;
  const constants_1 = Math.max(.../*filteredForecast*/
  child_ctx[37].map((day) => day.dueCount));
  child_ctx[38] = constants_1;
  return child_ctx;
}
function create_else_block3(ctx) {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;
  let div2;
  let div0;
  let t0;
  let div1;
  let t1;
  let div16;
  let h30;
  let t3;
  let div15;
  let div5;
  let div3;
  let t4_value = (
    /*statistics*/
    (((_b = (_a = ctx[2]) == null ? void 0 : _a.cardStats) == null ? void 0 : _b.new) || 0) + ""
  );
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t9;
  let div7;
  let t11;
  let div11;
  let div9;
  let t12_value = (
    /*statistics*/
    (((_d = (_c = ctx[2]) == null ? void 0 : _c.cardStats) == null ? void 0 : _d.mature) || 0) + ""
  );
  let t12;
  let t13;
  let div10;
  let t15;
  let div14;
  let div12;
  let t17;
  let div13;
  let t19;
  let div24;
  let h31;
  let t21;
  let div23;
  let div19;
  let div17;
  let t22_value = (
    /*statistics*/
    (((_e = ctx[2]) == null ? void 0 : _e.averagePace) ? formatPace(
      /*statistics*/
      ctx[2].averagePace
    ) : "N/A") + ""
  );
  let t22;
  let t23;
  let div18;
  let t25;
  let div22;
  let div20;
  let t26_value = (
    /*statistics*/
    (((_f = ctx[2]) == null ? void 0 : _f.totalReviewTime) ? formatTime(
      /*statistics*/
      ctx[2].totalReviewTime
    ) : "N/A") + ""
  );
  let t26;
  let t27;
  let div21;
  let t29;
  let div25;
  let h32;
  let t31;
  let t32;
  let div26;
  let h33;
  let t34;
  let t35;
  let h34;
  let t37;
  let t38;
  let h35;
  let t40;
  let t41;
  let div70;
  let h36;
  let t43;
  let div59;
  let div30;
  let div27;
  let t44_value = (
    /*statistics*/
    (((_g = ctx[2]) == null ? void 0 : _g.retentionRate) || 0).toFixed(1) + ""
  );
  let t44;
  let t45;
  let t46;
  let div28;
  let t48;
  let div29;
  let t50;
  let div34;
  let div31;
  let t52;
  let div32;
  let t54;
  let div33;
  let t56;
  let div38;
  let div35;
  let t59;
  let div36;
  let t61;
  let div37;
  let t63;
  let div42;
  let div39;
  let t65;
  let div40;
  let t67;
  let div41;
  let t69;
  let div46;
  let div43;
  let t71;
  let div44;
  let t73;
  let div45;
  let t75;
  let div50;
  let div47;
  let t77;
  let div48;
  let t79;
  let div49;
  let t81;
  let div54;
  let div51;
  let t84;
  let div52;
  let t86;
  let div53;
  let t88;
  let div58;
  let div55;
  let t89_value = (
    /*statistics*/
    (((_i = (_h = ctx[2]) == null ? void 0 : _h.cardStats) == null ? void 0 : _i.new) || 0) + /*statistics*/
    (((_k = (_j = ctx[2]) == null ? void 0 : _j.cardStats) == null ? void 0 : _k.mature) || 0) + ""
  );
  let t89;
  let t90;
  let div56;
  let t92;
  let div57;
  let t94;
  let h4;
  let t96;
  let div69;
  let div62;
  let div60;
  let t97_value = (
    /*statistics*/
    (((_m = (_l = ctx[2]) == null ? void 0 : _l.cardStats) == null ? void 0 : _m.new) || 0) + ""
  );
  let t97;
  let t98;
  let div61;
  let t100;
  let div65;
  let div63;
  let t102;
  let div64;
  let t104;
  let div68;
  let div66;
  let t105_value = (
    /*statistics*/
    (((_o = (_n = ctx[2]) == null ? void 0 : _n.cardStats) == null ? void 0 : _o.mature) || 0) + ""
  );
  let t105;
  let t106;
  let div67;
  let t108;
  let div71;
  let h37;
  let t110;
  let t111;
  let div72;
  let h38;
  let t113;
  let show_if;
  let t114;
  let div73;
  let h39;
  let t116;
  let p;
  let t118;
  let reviewheatmap;
  let t119;
  let div74;
  let button;
  let current;
  let mounted;
  let dispose;
  function select_block_type_1(ctx2, dirty) {
    if (
      /*todayStats*/
      ctx2[6]
    )
      return create_if_block_8;
    return create_else_block_6;
  }
  let current_block_type = select_block_type_1(ctx, [-1, -1]);
  let if_block0 = current_block_type(ctx);
  function select_block_type_2(ctx2, dirty) {
    if (
      /*weekStats*/
      ctx2[7] && /*weekStats*/
      ctx2[7].reviews > 0
    )
      return create_if_block_7;
    return create_else_block_5;
  }
  let current_block_type_1 = select_block_type_2(ctx, [-1, -1]);
  let if_block1 = current_block_type_1(ctx);
  function select_block_type_3(ctx2, dirty) {
    if (
      /*monthStats*/
      ctx2[8] && /*monthStats*/
      ctx2[8].reviews > 0
    )
      return create_if_block_6;
    return create_else_block_4;
  }
  let current_block_type_2 = select_block_type_3(ctx, [-1, -1]);
  let if_block2 = current_block_type_2(ctx);
  function select_block_type_4(ctx2, dirty) {
    if (
      /*yearStats*/
      ctx2[9] && /*yearStats*/
      ctx2[9].reviews > 0
    )
      return create_if_block_52;
    return create_else_block_3;
  }
  let current_block_type_3 = select_block_type_4(ctx, [-1, -1]);
  let if_block3 = current_block_type_3(ctx);
  function select_block_type_5(ctx2, dirty) {
    var _a2;
    if (
      /*statistics*/
      ((_a2 = ctx2[2]) == null ? void 0 : _a2.answerButtons) && /*statistics*/
      (ctx2[2].answerButtons.again > 0 || /*statistics*/
      ctx2[2].answerButtons.hard > 0 || /*statistics*/
      ctx2[2].answerButtons.good > 0 || /*statistics*/
      ctx2[2].answerButtons.easy > 0)
    )
      return create_if_block_42;
    return create_else_block_2;
  }
  let current_block_type_4 = select_block_type_5(ctx, [-1, -1]);
  let if_block4 = current_block_type_4(ctx);
  function select_block_type_6(ctx2, dirty) {
    var _a2;
    if (dirty[0] & /*statistics*/
    4)
      show_if = null;
    if (show_if == null)
      show_if = !!/*statistics*/
      (((_a2 = ctx2[2]) == null ? void 0 : _a2.forecast) && /*statistics*/
      ctx2[2].forecast.length > 0 && /*statistics*/
      ctx2[2].forecast.some(func2));
    if (show_if)
      return create_if_block_32;
    return create_else_block_1;
  }
  function select_block_ctx(ctx2, type) {
    if (type === create_if_block_32)
      return get_if_ctx(ctx2);
    return ctx2;
  }
  let current_block_type_5 = select_block_type_6(ctx, [-1, -1]);
  let if_block5 = current_block_type_5(select_block_ctx(ctx, current_block_type_5));
  let reviewheatmap_props = { getReviewCounts: (
    /*func_3*/
    ctx[22]
  ) };
  reviewheatmap = new ReviewHeatmap_default({
    props: reviewheatmap_props,
    $$inline: true
  });
  ctx[23](reviewheatmap);
  const block = {
    c: function create() {
      div2 = element("div");
      div0 = element("div");
      t0 = space();
      div1 = element("div");
      t1 = space();
      div16 = element("div");
      h30 = element("h3");
      h30.textContent = "Current Status";
      t3 = space();
      div15 = element("div");
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "New Cards";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      div6.textContent = "0";
      t9 = space();
      div7 = element("div");
      div7.textContent = "Learning";
      t11 = space();
      div11 = element("div");
      div9 = element("div");
      t12 = text(t12_value);
      t13 = space();
      div10 = element("div");
      div10.textContent = "Mature";
      t15 = space();
      div14 = element("div");
      div12 = element("div");
      div12.textContent = `${/*getDueToday*/
      ctx[15]()}`;
      t17 = space();
      div13 = element("div");
      div13.textContent = "Due Today";
      t19 = space();
      div24 = element("div");
      h31 = element("h3");
      h31.textContent = "Review Pace";
      t21 = space();
      div23 = element("div");
      div19 = element("div");
      div17 = element("div");
      t22 = text(t22_value);
      t23 = space();
      div18 = element("div");
      div18.textContent = "Average per Card";
      t25 = space();
      div22 = element("div");
      div20 = element("div");
      t26 = text(t26_value);
      t27 = space();
      div21 = element("div");
      div21.textContent = "Total Review Time";
      t29 = space();
      div25 = element("div");
      h32 = element("h3");
      h32.textContent = "Today's Statistics";
      t31 = space();
      if_block0.c();
      t32 = space();
      div26 = element("div");
      h33 = element("h3");
      h33.textContent = "This Week";
      t34 = space();
      if_block1.c();
      t35 = space();
      h34 = element("h3");
      h34.textContent = "This Month";
      t37 = space();
      if_block2.c();
      t38 = space();
      h35 = element("h3");
      h35.textContent = "This Year";
      t40 = space();
      if_block3.c();
      t41 = space();
      div70 = element("div");
      h36 = element("h3");
      h36.textContent = "Deck Statistics & Metrics";
      t43 = space();
      div59 = element("div");
      div30 = element("div");
      div27 = element("div");
      t44 = text(t44_value);
      t45 = text("%");
      t46 = space();
      div28 = element("div");
      div28.textContent = "Retention Rate";
      t48 = space();
      div29 = element("div");
      div29.textContent = '% of reviews answered correctly (excluding "Again")';
      t50 = space();
      div34 = element("div");
      div31 = element("div");
      div31.textContent = `${/*calculateAverageEase*/
      ctx[13]()}`;
      t52 = space();
      div32 = element("div");
      div32.textContent = "Average Ease";
      t54 = space();
      div33 = element("div");
      div33.textContent = "Mean of ease button values";
      t56 = space();
      div38 = element("div");
      div35 = element("div");
      div35.textContent = `${/*calculateAverageInterval*/
      ctx[14]()}d`;
      t59 = space();
      div36 = element("div");
      div36.textContent = "Avg Interval";
      t61 = space();
      div37 = element("div");
      div37.textContent = "Mean interval of all review cards";
      t63 = space();
      div42 = element("div");
      div39 = element("div");
      div39.textContent = `${/*getDueToday*/
      ctx[15]()}`;
      t65 = space();
      div40 = element("div");
      div40.textContent = "Due Today";
      t67 = space();
      div41 = element("div");
      div41.textContent = "Number of cards due today";
      t69 = space();
      div46 = element("div");
      div43 = element("div");
      div43.textContent = `${/*getDueTomorrow*/
      ctx[16]()}`;
      t71 = space();
      div44 = element("div");
      div44.textContent = "Due Tomorrow";
      t73 = space();
      div45 = element("div");
      div45.textContent = "Number of cards due tomorrow";
      t75 = space();
      div50 = element("div");
      div47 = element("div");
      div47.textContent = "0";
      t77 = space();
      div48 = element("div");
      div48.textContent = "Learning Cards";
      t79 = space();
      div49 = element("div");
      div49.textContent = "Number of cards in the learning queue";
      t81 = space();
      div54 = element("div");
      div51 = element("div");
      div51.textContent = `${/*getMaturityRatio*/
      ctx[17]()}%`;
      t84 = space();
      div52 = element("div");
      div52.textContent = "Maturity Ratio";
      t86 = space();
      div53 = element("div");
      div53.textContent = "Mature cards \xF7 total cards";
      t88 = space();
      div58 = element("div");
      div55 = element("div");
      t89 = text(t89_value);
      t90 = space();
      div56 = element("div");
      div56.textContent = "Total Cards";
      t92 = space();
      div57 = element("div");
      div57.textContent = "All cards in collection";
      t94 = space();
      h4 = element("h4");
      h4.textContent = "Card Status Breakdown";
      t96 = space();
      div69 = element("div");
      div62 = element("div");
      div60 = element("div");
      t97 = text(t97_value);
      t98 = space();
      div61 = element("div");
      div61.textContent = "New Cards";
      t100 = space();
      div65 = element("div");
      div63 = element("div");
      div63.textContent = "0";
      t102 = space();
      div64 = element("div");
      div64.textContent = "Learning";
      t104 = space();
      div68 = element("div");
      div66 = element("div");
      t105 = text(t105_value);
      t106 = space();
      div67 = element("div");
      div67.textContent = "Mature";
      t108 = space();
      div71 = element("div");
      h37 = element("h3");
      h37.textContent = "Answer Button Usage";
      t110 = space();
      if_block4.c();
      t111 = space();
      div72 = element("div");
      h38 = element("h3");
      h38.textContent = "Review Load Forecast";
      t113 = space();
      if_block5.c();
      t114 = space();
      div73 = element("div");
      h39 = element("h3");
      h39.textContent = "Review Heatmap";
      t116 = space();
      p = element("p");
      p.textContent = "Daily review activity over time";
      t118 = space();
      create_component(reviewheatmap.$$.fragment);
      t119 = space();
      div74 = element("div");
      button = element("button");
      button.textContent = "Close";
      attr_dev(div0, "class", "svelte-12mrnwd");
      add_location(div0, file5, 292, 12, 10354);
      attr_dev(div1, "class", "svelte-12mrnwd");
      add_location(div1, file5, 293, 12, 10410);
      attr_dev(div2, "class", "filters svelte-12mrnwd");
      add_location(div2, file5, 291, 8, 10320);
      attr_dev(h30, "class", "svelte-12mrnwd");
      add_location(h30, file5, 298, 12, 10555);
      attr_dev(div3, "class", "stat-value svelte-12mrnwd");
      add_location(div3, file5, 301, 20, 10676);
      attr_dev(div4, "class", "stat-label svelte-12mrnwd");
      add_location(div4, file5, 304, 20, 10806);
      attr_dev(div5, "class", "stat-card svelte-12mrnwd");
      add_location(div5, file5, 300, 16, 10632);
      attr_dev(div6, "class", "stat-value svelte-12mrnwd");
      set_style(div6, "display", "none");
      add_location(div6, file5, 307, 20, 10929);
      attr_dev(div7, "class", "stat-label svelte-12mrnwd");
      set_style(div7, "display", "none");
      add_location(div7, file5, 308, 20, 11004);
      attr_dev(div8, "class", "stat-card svelte-12mrnwd");
      add_location(div8, file5, 306, 16, 10885);
      attr_dev(div9, "class", "stat-value svelte-12mrnwd");
      add_location(div9, file5, 313, 20, 11195);
      attr_dev(div10, "class", "stat-label svelte-12mrnwd");
      add_location(div10, file5, 316, 20, 11328);
      attr_dev(div11, "class", "stat-card svelte-12mrnwd");
      add_location(div11, file5, 312, 16, 11151);
      attr_dev(div12, "class", "stat-value svelte-12mrnwd");
      add_location(div12, file5, 319, 20, 11448);
      attr_dev(div13, "class", "stat-label svelte-12mrnwd");
      add_location(div13, file5, 320, 20, 11514);
      attr_dev(div14, "class", "stat-card svelte-12mrnwd");
      add_location(div14, file5, 318, 16, 11404);
      attr_dev(div15, "class", "stats-grid svelte-12mrnwd");
      add_location(div15, file5, 299, 12, 10591);
      attr_dev(div16, "class", "stats-section svelte-12mrnwd");
      add_location(div16, file5, 297, 8, 10515);
      attr_dev(h31, "class", "svelte-12mrnwd");
      add_location(h31, file5, 327, 12, 11693);
      attr_dev(div17, "class", "stat-value svelte-12mrnwd");
      add_location(div17, file5, 330, 20, 11811);
      attr_dev(div18, "class", "stat-label svelte-12mrnwd");
      add_location(div18, file5, 335, 20, 12034);
      attr_dev(div19, "class", "stat-card svelte-12mrnwd");
      add_location(div19, file5, 329, 16, 11767);
      attr_dev(div20, "class", "stat-value svelte-12mrnwd");
      add_location(div20, file5, 338, 20, 12164);
      attr_dev(div21, "class", "stat-label svelte-12mrnwd");
      add_location(div21, file5, 343, 20, 12395);
      attr_dev(div22, "class", "stat-card svelte-12mrnwd");
      add_location(div22, file5, 337, 16, 12120);
      attr_dev(div23, "class", "stats-grid svelte-12mrnwd");
      add_location(div23, file5, 328, 12, 11726);
      attr_dev(div24, "class", "stats-section svelte-12mrnwd");
      add_location(div24, file5, 326, 8, 11653);
      attr_dev(h32, "class", "svelte-12mrnwd");
      add_location(h32, file5, 350, 12, 12585);
      attr_dev(div25, "class", "stats-section svelte-12mrnwd");
      add_location(div25, file5, 349, 8, 12545);
      attr_dev(h33, "class", "svelte-12mrnwd");
      add_location(h33, file5, 393, 12, 14388);
      attr_dev(h34, "class", "svelte-12mrnwd");
      add_location(h34, file5, 419, 12, 15470);
      attr_dev(h35, "class", "svelte-12mrnwd");
      add_location(h35, file5, 445, 12, 16559);
      attr_dev(div26, "class", "stats-section svelte-12mrnwd");
      add_location(div26, file5, 392, 8, 14348);
      attr_dev(h36, "class", "svelte-12mrnwd");
      add_location(h36, file5, 474, 12, 17735);
      attr_dev(div27, "class", "metric-value svelte-12mrnwd");
      add_location(div27, file5, 477, 20, 17871);
      attr_dev(div28, "class", "metric-label svelte-12mrnwd");
      add_location(div28, file5, 480, 20, 18016);
      attr_dev(div29, "class", "metric-description svelte-12mrnwd");
      add_location(div29, file5, 481, 20, 18083);
      attr_dev(div30, "class", "metric-card svelte-12mrnwd");
      add_location(div30, file5, 476, 16, 17825);
      attr_dev(div31, "class", "metric-value svelte-12mrnwd");
      add_location(div31, file5, 486, 20, 18304);
      attr_dev(div32, "class", "metric-label svelte-12mrnwd");
      add_location(div32, file5, 487, 20, 18381);
      attr_dev(div33, "class", "metric-description svelte-12mrnwd");
      add_location(div33, file5, 488, 20, 18446);
      attr_dev(div34, "class", "metric-card svelte-12mrnwd");
      add_location(div34, file5, 485, 16, 18258);
      attr_dev(div35, "class", "metric-value svelte-12mrnwd");
      add_location(div35, file5, 493, 20, 18642);
      attr_dev(div36, "class", "metric-label svelte-12mrnwd");
      add_location(div36, file5, 496, 20, 18770);
      attr_dev(div37, "class", "metric-description svelte-12mrnwd");
      add_location(div37, file5, 497, 20, 18835);
      attr_dev(div38, "class", "metric-card svelte-12mrnwd");
      add_location(div38, file5, 492, 16, 18596);
      attr_dev(div39, "class", "metric-value svelte-12mrnwd");
      add_location(div39, file5, 502, 20, 19038);
      attr_dev(div40, "class", "metric-label svelte-12mrnwd");
      add_location(div40, file5, 503, 20, 19106);
      attr_dev(div41, "class", "metric-description svelte-12mrnwd");
      add_location(div41, file5, 504, 20, 19168);
      attr_dev(div42, "class", "metric-card svelte-12mrnwd");
      add_location(div42, file5, 501, 16, 18992);
      attr_dev(div43, "class", "metric-value svelte-12mrnwd");
      add_location(div43, file5, 509, 20, 19363);
      attr_dev(div44, "class", "metric-label svelte-12mrnwd");
      add_location(div44, file5, 510, 20, 19434);
      attr_dev(div45, "class", "metric-description svelte-12mrnwd");
      add_location(div45, file5, 511, 20, 19499);
      attr_dev(div46, "class", "metric-card svelte-12mrnwd");
      add_location(div46, file5, 508, 16, 19317);
      attr_dev(div47, "class", "metric-value svelte-12mrnwd");
      set_style(div47, "display", "none");
      add_location(div47, file5, 516, 20, 19697);
      attr_dev(div48, "class", "metric-label svelte-12mrnwd");
      set_style(div48, "display", "none");
      add_location(div48, file5, 517, 20, 19774);
      attr_dev(div49, "class", "metric-description svelte-12mrnwd");
      set_style(div49, "display", "none");
      add_location(div49, file5, 520, 20, 19910);
      attr_dev(div50, "class", "metric-card svelte-12mrnwd");
      add_location(div50, file5, 515, 16, 19651);
      attr_dev(div51, "class", "metric-value svelte-12mrnwd");
      add_location(div51, file5, 525, 20, 20140);
      attr_dev(div52, "class", "metric-label svelte-12mrnwd");
      add_location(div52, file5, 526, 20, 20214);
      attr_dev(div53, "class", "metric-description svelte-12mrnwd");
      add_location(div53, file5, 527, 20, 20281);
      attr_dev(div54, "class", "metric-card svelte-12mrnwd");
      add_location(div54, file5, 524, 16, 20094);
      attr_dev(div55, "class", "metric-value svelte-12mrnwd");
      add_location(div55, file5, 532, 20, 20477);
      attr_dev(div56, "class", "metric-label svelte-12mrnwd");
      add_location(div56, file5, 536, 20, 20678);
      attr_dev(div57, "class", "metric-description svelte-12mrnwd");
      add_location(div57, file5, 537, 20, 20742);
      attr_dev(div58, "class", "metric-card svelte-12mrnwd");
      add_location(div58, file5, 531, 16, 20431);
      attr_dev(div59, "class", "metrics-grid svelte-12mrnwd");
      add_location(div59, file5, 475, 12, 17782);
      attr_dev(h4, "class", "svelte-12mrnwd");
      add_location(h4, file5, 543, 12, 20905);
      attr_dev(div60, "class", "stat-value svelte-12mrnwd");
      add_location(div60, file5, 546, 20, 21033);
      attr_dev(div61, "class", "stat-label svelte-12mrnwd");
      add_location(div61, file5, 549, 20, 21163);
      attr_dev(div62, "class", "stat-card svelte-12mrnwd");
      add_location(div62, file5, 545, 16, 20989);
      attr_dev(div63, "class", "stat-value svelte-12mrnwd");
      set_style(div63, "display", "none");
      add_location(div63, file5, 552, 20, 21286);
      attr_dev(div64, "class", "stat-label svelte-12mrnwd");
      set_style(div64, "display", "none");
      add_location(div64, file5, 553, 20, 21361);
      attr_dev(div65, "class", "stat-card svelte-12mrnwd");
      add_location(div65, file5, 551, 16, 21242);
      attr_dev(div66, "class", "stat-value svelte-12mrnwd");
      add_location(div66, file5, 558, 20, 21552);
      attr_dev(div67, "class", "stat-label svelte-12mrnwd");
      add_location(div67, file5, 561, 20, 21685);
      attr_dev(div68, "class", "stat-card svelte-12mrnwd");
      add_location(div68, file5, 557, 16, 21508);
      attr_dev(div69, "class", "stats-grid svelte-12mrnwd");
      add_location(div69, file5, 544, 12, 20948);
      attr_dev(div70, "class", "stats-section svelte-12mrnwd");
      add_location(div70, file5, 473, 8, 17695);
      attr_dev(h37, "class", "svelte-12mrnwd");
      add_location(h37, file5, 568, 12, 21865);
      attr_dev(div71, "class", "stats-section svelte-12mrnwd");
      add_location(div71, file5, 567, 8, 21825);
      attr_dev(h38, "class", "svelte-12mrnwd");
      add_location(h38, file5, 648, 12, 25886);
      attr_dev(div72, "class", "stats-section svelte-12mrnwd");
      add_location(div72, file5, 647, 8, 25846);
      attr_dev(h39, "class", "svelte-12mrnwd");
      add_location(h39, file5, 701, 12, 28273);
      add_location(p, file5, 702, 12, 28309);
      attr_dev(div73, "class", "stats-section svelte-12mrnwd");
      add_location(div73, file5, 700, 8, 28233);
      attr_dev(button, "class", "close-button svelte-12mrnwd");
      add_location(button, file5, 712, 12, 28632);
      attr_dev(div74, "class", "modal-actions svelte-12mrnwd");
      add_location(div74, file5, 711, 8, 28592);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div0);
      ctx[20](div0);
      append_dev(div2, t0);
      append_dev(div2, div1);
      ctx[21](div1);
      insert_dev(target, t1, anchor);
      insert_dev(target, div16, anchor);
      append_dev(div16, h30);
      append_dev(div16, t3);
      append_dev(div16, div15);
      append_dev(div15, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div15, t7);
      append_dev(div15, div8);
      append_dev(div8, div6);
      append_dev(div8, t9);
      append_dev(div8, div7);
      append_dev(div15, t11);
      append_dev(div15, div11);
      append_dev(div11, div9);
      append_dev(div9, t12);
      append_dev(div11, t13);
      append_dev(div11, div10);
      append_dev(div15, t15);
      append_dev(div15, div14);
      append_dev(div14, div12);
      append_dev(div14, t17);
      append_dev(div14, div13);
      insert_dev(target, t19, anchor);
      insert_dev(target, div24, anchor);
      append_dev(div24, h31);
      append_dev(div24, t21);
      append_dev(div24, div23);
      append_dev(div23, div19);
      append_dev(div19, div17);
      append_dev(div17, t22);
      append_dev(div19, t23);
      append_dev(div19, div18);
      append_dev(div23, t25);
      append_dev(div23, div22);
      append_dev(div22, div20);
      append_dev(div20, t26);
      append_dev(div22, t27);
      append_dev(div22, div21);
      insert_dev(target, t29, anchor);
      insert_dev(target, div25, anchor);
      append_dev(div25, h32);
      append_dev(div25, t31);
      if_block0.m(div25, null);
      insert_dev(target, t32, anchor);
      insert_dev(target, div26, anchor);
      append_dev(div26, h33);
      append_dev(div26, t34);
      if_block1.m(div26, null);
      append_dev(div26, t35);
      append_dev(div26, h34);
      append_dev(div26, t37);
      if_block2.m(div26, null);
      append_dev(div26, t38);
      append_dev(div26, h35);
      append_dev(div26, t40);
      if_block3.m(div26, null);
      insert_dev(target, t41, anchor);
      insert_dev(target, div70, anchor);
      append_dev(div70, h36);
      append_dev(div70, t43);
      append_dev(div70, div59);
      append_dev(div59, div30);
      append_dev(div30, div27);
      append_dev(div27, t44);
      append_dev(div27, t45);
      append_dev(div30, t46);
      append_dev(div30, div28);
      append_dev(div30, t48);
      append_dev(div30, div29);
      append_dev(div59, t50);
      append_dev(div59, div34);
      append_dev(div34, div31);
      append_dev(div34, t52);
      append_dev(div34, div32);
      append_dev(div34, t54);
      append_dev(div34, div33);
      append_dev(div59, t56);
      append_dev(div59, div38);
      append_dev(div38, div35);
      append_dev(div38, t59);
      append_dev(div38, div36);
      append_dev(div38, t61);
      append_dev(div38, div37);
      append_dev(div59, t63);
      append_dev(div59, div42);
      append_dev(div42, div39);
      append_dev(div42, t65);
      append_dev(div42, div40);
      append_dev(div42, t67);
      append_dev(div42, div41);
      append_dev(div59, t69);
      append_dev(div59, div46);
      append_dev(div46, div43);
      append_dev(div46, t71);
      append_dev(div46, div44);
      append_dev(div46, t73);
      append_dev(div46, div45);
      append_dev(div59, t75);
      append_dev(div59, div50);
      append_dev(div50, div47);
      append_dev(div50, t77);
      append_dev(div50, div48);
      append_dev(div50, t79);
      append_dev(div50, div49);
      append_dev(div59, t81);
      append_dev(div59, div54);
      append_dev(div54, div51);
      append_dev(div54, t84);
      append_dev(div54, div52);
      append_dev(div54, t86);
      append_dev(div54, div53);
      append_dev(div59, t88);
      append_dev(div59, div58);
      append_dev(div58, div55);
      append_dev(div55, t89);
      append_dev(div58, t90);
      append_dev(div58, div56);
      append_dev(div58, t92);
      append_dev(div58, div57);
      append_dev(div70, t94);
      append_dev(div70, h4);
      append_dev(div70, t96);
      append_dev(div70, div69);
      append_dev(div69, div62);
      append_dev(div62, div60);
      append_dev(div60, t97);
      append_dev(div62, t98);
      append_dev(div62, div61);
      append_dev(div69, t100);
      append_dev(div69, div65);
      append_dev(div65, div63);
      append_dev(div65, t102);
      append_dev(div65, div64);
      append_dev(div69, t104);
      append_dev(div69, div68);
      append_dev(div68, div66);
      append_dev(div66, t105);
      append_dev(div68, t106);
      append_dev(div68, div67);
      insert_dev(target, t108, anchor);
      insert_dev(target, div71, anchor);
      append_dev(div71, h37);
      append_dev(div71, t110);
      if_block4.m(div71, null);
      insert_dev(target, t111, anchor);
      insert_dev(target, div72, anchor);
      append_dev(div72, h38);
      append_dev(div72, t113);
      if_block5.m(div72, null);
      insert_dev(target, t114, anchor);
      insert_dev(target, div73, anchor);
      append_dev(div73, h39);
      append_dev(div73, t116);
      append_dev(div73, p);
      append_dev(div73, t118);
      mount_component(reviewheatmap, div73, null);
      insert_dev(target, t119, anchor);
      insert_dev(target, div74, anchor);
      append_dev(div74, button);
      current = true;
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler_1*/
            ctx[24],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler_1*/
            ctx[25],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2, _m2, _n2, _o2;
      if ((!current || dirty[0] & /*statistics*/
      4) && t4_value !== (t4_value = /*statistics*/
      (((_b2 = (_a2 = ctx2[2]) == null ? void 0 : _a2.cardStats) == null ? void 0 : _b2.new) || 0) + ""))
        set_data_dev(t4, t4_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t12_value !== (t12_value = /*statistics*/
      (((_d2 = (_c2 = ctx2[2]) == null ? void 0 : _c2.cardStats) == null ? void 0 : _d2.mature) || 0) + ""))
        set_data_dev(t12, t12_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t22_value !== (t22_value = /*statistics*/
      (((_e2 = ctx2[2]) == null ? void 0 : _e2.averagePace) ? formatPace(
        /*statistics*/
        ctx2[2].averagePace
      ) : "N/A") + ""))
        set_data_dev(t22, t22_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t26_value !== (t26_value = /*statistics*/
      (((_f2 = ctx2[2]) == null ? void 0 : _f2.totalReviewTime) ? formatTime(
        /*statistics*/
        ctx2[2].totalReviewTime
      ) : "N/A") + ""))
        set_data_dev(t26, t26_value);
      if (current_block_type === (current_block_type = select_block_type_1(ctx2, dirty)) && if_block0) {
        if_block0.p(ctx2, dirty);
      } else {
        if_block0.d(1);
        if_block0 = current_block_type(ctx2);
        if (if_block0) {
          if_block0.c();
          if_block0.m(div25, null);
        }
      }
      if (current_block_type_1 === (current_block_type_1 = select_block_type_2(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type_1(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div26, t35);
        }
      }
      if (current_block_type_2 === (current_block_type_2 = select_block_type_3(ctx2, dirty)) && if_block2) {
        if_block2.p(ctx2, dirty);
      } else {
        if_block2.d(1);
        if_block2 = current_block_type_2(ctx2);
        if (if_block2) {
          if_block2.c();
          if_block2.m(div26, t38);
        }
      }
      if (current_block_type_3 === (current_block_type_3 = select_block_type_4(ctx2, dirty)) && if_block3) {
        if_block3.p(ctx2, dirty);
      } else {
        if_block3.d(1);
        if_block3 = current_block_type_3(ctx2);
        if (if_block3) {
          if_block3.c();
          if_block3.m(div26, null);
        }
      }
      if ((!current || dirty[0] & /*statistics*/
      4) && t44_value !== (t44_value = /*statistics*/
      (((_g2 = ctx2[2]) == null ? void 0 : _g2.retentionRate) || 0).toFixed(1) + ""))
        set_data_dev(t44, t44_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t89_value !== (t89_value = /*statistics*/
      (((_i2 = (_h2 = ctx2[2]) == null ? void 0 : _h2.cardStats) == null ? void 0 : _i2.new) || 0) + /*statistics*/
      (((_k2 = (_j2 = ctx2[2]) == null ? void 0 : _j2.cardStats) == null ? void 0 : _k2.mature) || 0) + ""))
        set_data_dev(t89, t89_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t97_value !== (t97_value = /*statistics*/
      (((_m2 = (_l2 = ctx2[2]) == null ? void 0 : _l2.cardStats) == null ? void 0 : _m2.new) || 0) + ""))
        set_data_dev(t97, t97_value);
      if ((!current || dirty[0] & /*statistics*/
      4) && t105_value !== (t105_value = /*statistics*/
      (((_o2 = (_n2 = ctx2[2]) == null ? void 0 : _n2.cardStats) == null ? void 0 : _o2.mature) || 0) + ""))
        set_data_dev(t105, t105_value);
      if (current_block_type_4 === (current_block_type_4 = select_block_type_5(ctx2, dirty)) && if_block4) {
        if_block4.p(ctx2, dirty);
      } else {
        if_block4.d(1);
        if_block4 = current_block_type_4(ctx2);
        if (if_block4) {
          if_block4.c();
          if_block4.m(div71, null);
        }
      }
      if (current_block_type_5 === (current_block_type_5 = select_block_type_6(ctx2, dirty)) && if_block5) {
        if_block5.p(select_block_ctx(ctx2, current_block_type_5), dirty);
      } else {
        if_block5.d(1);
        if_block5 = current_block_type_5(select_block_ctx(ctx2, current_block_type_5));
        if (if_block5) {
          if_block5.c();
          if_block5.m(div72, null);
        }
      }
      const reviewheatmap_changes = {};
      if (dirty[0] & /*plugin*/
      1)
        reviewheatmap_changes.getReviewCounts = /*func_3*/
        ctx2[22];
      reviewheatmap.$set(reviewheatmap_changes);
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(reviewheatmap.$$.fragment, local);
      current = true;
    },
    o: function outro(local) {
      transition_out(reviewheatmap.$$.fragment, local);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      ctx[20](null);
      ctx[21](null);
      if (detaching)
        detach_dev(t1);
      if (detaching)
        detach_dev(div16);
      if (detaching)
        detach_dev(t19);
      if (detaching)
        detach_dev(div24);
      if (detaching)
        detach_dev(t29);
      if (detaching)
        detach_dev(div25);
      if_block0.d();
      if (detaching)
        detach_dev(t32);
      if (detaching)
        detach_dev(div26);
      if_block1.d();
      if_block2.d();
      if_block3.d();
      if (detaching)
        detach_dev(t41);
      if (detaching)
        detach_dev(div70);
      if (detaching)
        detach_dev(t108);
      if (detaching)
        detach_dev(div71);
      if_block4.d();
      if (detaching)
        detach_dev(t111);
      if (detaching)
        detach_dev(div72);
      if_block5.d();
      if (detaching)
        detach_dev(t114);
      if (detaching)
        detach_dev(div73);
      ctx[23](null);
      destroy_component(reviewheatmap);
      if (detaching)
        detach_dev(t119);
      if (detaching)
        detach_dev(div74);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block3.name,
    type: "else",
    source: "(291:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block_22(ctx) {
  let div;
  let p;
  let t1;
  let button;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "Failed to load statistics";
      t1 = space();
      button = element("button");
      button.textContent = "Retry";
      add_location(p, file5, 281, 12, 9994);
      attr_dev(button, "class", "retry-button svelte-12mrnwd");
      add_location(button, file5, 282, 12, 10039);
      attr_dev(div, "class", "error svelte-12mrnwd");
      add_location(div, file5, 280, 8, 9962);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
      append_dev(div, t1);
      append_dev(div, button);
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler*/
            ctx[18],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler*/
            ctx[19],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_22.name,
    type: "if",
    source: "(280:26) ",
    ctx
  });
  return block;
}
function create_if_block_13(ctx) {
  let div;
  const block = {
    c: function create() {
      div = element("div");
      div.textContent = "Loading statistics...";
      attr_dev(div, "class", "loading svelte-12mrnwd");
      add_location(div, file5, 278, 8, 9878);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
    },
    p: noop,
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_13.name,
    type: "if",
    source: "(278:4) {#if loading}",
    ctx
  });
  return block;
}
function create_else_block_6(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No reviews today yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Start reviewing flashcards to see your daily statistics\n                        here!";
      attr_dev(p0, "class", "svelte-12mrnwd");
      add_location(p0, file5, 382, 20, 14033);
      attr_dev(p1, "class", "help-text svelte-12mrnwd");
      add_location(p1, file5, 383, 20, 14082);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 381, 16, 13983);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_6.name,
    type: "else",
    source: "(381:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_8(ctx) {
  let div6;
  let div2;
  let div0;
  let t0_value = (
    /*todayStats*/
    ctx[6].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*todayStats*/
    ctx[6].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let h4;
  let t9;
  let div16;
  let div9;
  let div7;
  let t10_value = (
    /*todayStats*/
    ctx[6].newCards + ""
  );
  let t10;
  let t11;
  let div8;
  let t13;
  let div12;
  let div10;
  let t15;
  let div11;
  let t17;
  let div15;
  let div13;
  let t18_value = (
    /*todayStats*/
    ctx[6].reviewCards + ""
  );
  let t18;
  let t19;
  let div14;
  const block = {
    c: function create() {
      div6 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      h4 = element("h4");
      h4.textContent = "Breakdown by Card Type";
      t9 = space();
      div16 = element("div");
      div9 = element("div");
      div7 = element("div");
      t10 = text(t10_value);
      t11 = space();
      div8 = element("div");
      div8.textContent = "New Cards";
      t13 = space();
      div12 = element("div");
      div10 = element("div");
      div10.textContent = "0";
      t15 = space();
      div11 = element("div");
      div11.textContent = "Learning";
      t17 = space();
      div15 = element("div");
      div13 = element("div");
      t18 = text(t18_value);
      t19 = space();
      div14 = element("div");
      div14.textContent = "Review";
      attr_dev(div0, "class", "stat-value svelte-12mrnwd");
      add_location(div0, file5, 354, 24, 12751);
      attr_dev(div1, "class", "stat-label svelte-12mrnwd");
      add_location(div1, file5, 355, 24, 12826);
      attr_dev(div2, "class", "stat-card svelte-12mrnwd");
      add_location(div2, file5, 353, 20, 12703);
      attr_dev(div3, "class", "stat-value svelte-12mrnwd");
      add_location(div3, file5, 358, 24, 12965);
      attr_dev(div4, "class", "stat-label svelte-12mrnwd");
      add_location(div4, file5, 361, 24, 13108);
      attr_dev(div5, "class", "stat-card svelte-12mrnwd");
      add_location(div5, file5, 357, 20, 12917);
      attr_dev(div6, "class", "stats-grid svelte-12mrnwd");
      add_location(div6, file5, 352, 16, 12658);
      attr_dev(h4, "class", "svelte-12mrnwd");
      add_location(h4, file5, 365, 16, 13216);
      attr_dev(div7, "class", "stat-value svelte-12mrnwd");
      add_location(div7, file5, 368, 24, 13357);
      attr_dev(div8, "class", "stat-label svelte-12mrnwd");
      add_location(div8, file5, 369, 24, 13433);
      attr_dev(div9, "class", "stat-card svelte-12mrnwd");
      add_location(div9, file5, 367, 20, 13309);
      attr_dev(div10, "class", "stat-value svelte-12mrnwd");
      add_location(div10, file5, 372, 24, 13591);
      attr_dev(div11, "class", "stat-label svelte-12mrnwd");
      add_location(div11, file5, 373, 24, 13647);
      attr_dev(div12, "class", "stat-card svelte-12mrnwd");
      set_style(div12, "display", "none");
      add_location(div12, file5, 371, 20, 13520);
      attr_dev(div13, "class", "stat-value svelte-12mrnwd");
      add_location(div13, file5, 376, 24, 13781);
      attr_dev(div14, "class", "stat-label svelte-12mrnwd");
      add_location(div14, file5, 377, 24, 13860);
      attr_dev(div15, "class", "stat-card svelte-12mrnwd");
      add_location(div15, file5, 375, 20, 13733);
      attr_dev(div16, "class", "stats-grid svelte-12mrnwd");
      add_location(div16, file5, 366, 16, 13264);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div6, anchor);
      append_dev(div6, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div6, t3);
      append_dev(div6, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      insert_dev(target, t7, anchor);
      insert_dev(target, h4, anchor);
      insert_dev(target, t9, anchor);
      insert_dev(target, div16, anchor);
      append_dev(div16, div9);
      append_dev(div9, div7);
      append_dev(div7, t10);
      append_dev(div9, t11);
      append_dev(div9, div8);
      append_dev(div16, t13);
      append_dev(div16, div12);
      append_dev(div12, div10);
      append_dev(div12, t15);
      append_dev(div12, div11);
      append_dev(div16, t17);
      append_dev(div16, div15);
      append_dev(div15, div13);
      append_dev(div13, t18);
      append_dev(div15, t19);
      append_dev(div15, div14);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*todayStats*/
      64 && t0_value !== (t0_value = /*todayStats*/
      ctx2[6].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*todayStats*/
      64 && t4_value !== (t4_value = formatTime(
        /*todayStats*/
        ctx2[6].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*todayStats*/
      64 && t10_value !== (t10_value = /*todayStats*/
      ctx2[6].newCards + ""))
        set_data_dev(t10, t10_value);
      if (dirty[0] & /*todayStats*/
      64 && t18_value !== (t18_value = /*todayStats*/
      ctx2[6].reviewCards + ""))
        set_data_dev(t18, t18_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div6);
      if (detaching)
        detach_dev(t7);
      if (detaching)
        detach_dev(h4);
      if (detaching)
        detach_dev(t9);
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_8.name,
    type: "if",
    source: "(352:12) {#if todayStats}",
    ctx
  });
  return block;
}
function create_else_block_5(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this week yet.";
      attr_dev(p, "class", "svelte-12mrnwd");
      add_location(p, file5, 415, 20, 15383);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 414, 16, 15333);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_5.name,
    type: "else",
    source: "(414:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_7(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*weekStats*/
    ctx[7].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*weekStats*/
    ctx[7].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*weekStats*/
    ctx[7].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-12mrnwd");
      add_location(div0, file5, 397, 24, 14569);
      attr_dev(div1, "class", "stat-label svelte-12mrnwd");
      add_location(div1, file5, 398, 24, 14643);
      attr_dev(div2, "class", "stat-card svelte-12mrnwd");
      add_location(div2, file5, 396, 20, 14521);
      attr_dev(div3, "class", "stat-value svelte-12mrnwd");
      add_location(div3, file5, 401, 24, 14782);
      attr_dev(div4, "class", "stat-label svelte-12mrnwd");
      add_location(div4, file5, 404, 24, 14924);
      attr_dev(div5, "class", "stat-card svelte-12mrnwd");
      add_location(div5, file5, 400, 20, 14734);
      attr_dev(div6, "class", "stat-value svelte-12mrnwd");
      add_location(div6, file5, 407, 24, 15060);
      attr_dev(div7, "class", "stat-label svelte-12mrnwd");
      add_location(div7, file5, 410, 24, 15204);
      attr_dev(div8, "class", "stat-card svelte-12mrnwd");
      add_location(div8, file5, 406, 20, 15012);
      attr_dev(div9, "class", "stats-grid svelte-12mrnwd");
      add_location(div9, file5, 395, 16, 14476);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*weekStats*/
      128 && t0_value !== (t0_value = /*weekStats*/
      ctx2[7].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*weekStats*/
      128 && t4_value !== (t4_value = formatTime(
        /*weekStats*/
        ctx2[7].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*weekStats*/
      128 && t8_value !== (t8_value = /*weekStats*/
      ctx2[7].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_7.name,
    type: "if",
    source: "(395:12) {#if weekStats && weekStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this month yet.";
      attr_dev(p, "class", "svelte-12mrnwd");
      add_location(p, file5, 441, 20, 16471);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 440, 16, 16421);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_4.name,
    type: "else",
    source: "(440:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_6(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*monthStats*/
    ctx[8].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*monthStats*/
    ctx[8].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*monthStats*/
    ctx[8].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-12mrnwd");
      add_location(div0, file5, 423, 24, 15654);
      attr_dev(div1, "class", "stat-label svelte-12mrnwd");
      add_location(div1, file5, 424, 24, 15729);
      attr_dev(div2, "class", "stat-card svelte-12mrnwd");
      add_location(div2, file5, 422, 20, 15606);
      attr_dev(div3, "class", "stat-value svelte-12mrnwd");
      add_location(div3, file5, 427, 24, 15868);
      attr_dev(div4, "class", "stat-label svelte-12mrnwd");
      add_location(div4, file5, 430, 24, 16011);
      attr_dev(div5, "class", "stat-card svelte-12mrnwd");
      add_location(div5, file5, 426, 20, 15820);
      attr_dev(div6, "class", "stat-value svelte-12mrnwd");
      add_location(div6, file5, 433, 24, 16147);
      attr_dev(div7, "class", "stat-label svelte-12mrnwd");
      add_location(div7, file5, 436, 24, 16292);
      attr_dev(div8, "class", "stat-card svelte-12mrnwd");
      add_location(div8, file5, 432, 20, 16099);
      attr_dev(div9, "class", "stats-grid svelte-12mrnwd");
      add_location(div9, file5, 421, 16, 15561);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*monthStats*/
      256 && t0_value !== (t0_value = /*monthStats*/
      ctx2[8].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*monthStats*/
      256 && t4_value !== (t4_value = formatTime(
        /*monthStats*/
        ctx2[8].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*monthStats*/
      256 && t8_value !== (t8_value = /*monthStats*/
      ctx2[8].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_6.name,
    type: "if",
    source: "(421:12) {#if monthStats && monthStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_3(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No reviews this year yet.";
      attr_dev(p, "class", "svelte-12mrnwd");
      add_location(p, file5, 467, 20, 17554);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 466, 16, 17504);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_3.name,
    type: "else",
    source: "(466:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_52(ctx) {
  let div9;
  let div2;
  let div0;
  let t0_value = (
    /*yearStats*/
    ctx[9].reviews + ""
  );
  let t0;
  let t1;
  let div1;
  let t3;
  let div5;
  let div3;
  let t4_value = formatTime(
    /*yearStats*/
    ctx[9].timeSpent
  ) + "";
  let t4;
  let t5;
  let div4;
  let t7;
  let div8;
  let div6;
  let t8_value = (
    /*yearStats*/
    ctx[9].correctRate.toFixed(1) + ""
  );
  let t8;
  let t9;
  let t10;
  let div7;
  const block = {
    c: function create() {
      div9 = element("div");
      div2 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      div1 = element("div");
      div1.textContent = "Cards Studied";
      t3 = space();
      div5 = element("div");
      div3 = element("div");
      t4 = text(t4_value);
      t5 = space();
      div4 = element("div");
      div4.textContent = "Time Spent";
      t7 = space();
      div8 = element("div");
      div6 = element("div");
      t8 = text(t8_value);
      t9 = text("%");
      t10 = space();
      div7 = element("div");
      div7.textContent = "Success Rate";
      attr_dev(div0, "class", "stat-value svelte-12mrnwd");
      add_location(div0, file5, 449, 24, 16740);
      attr_dev(div1, "class", "stat-label svelte-12mrnwd");
      add_location(div1, file5, 450, 24, 16814);
      attr_dev(div2, "class", "stat-card svelte-12mrnwd");
      add_location(div2, file5, 448, 20, 16692);
      attr_dev(div3, "class", "stat-value svelte-12mrnwd");
      add_location(div3, file5, 453, 24, 16953);
      attr_dev(div4, "class", "stat-label svelte-12mrnwd");
      add_location(div4, file5, 456, 24, 17095);
      attr_dev(div5, "class", "stat-card svelte-12mrnwd");
      add_location(div5, file5, 452, 20, 16905);
      attr_dev(div6, "class", "stat-value svelte-12mrnwd");
      add_location(div6, file5, 459, 24, 17231);
      attr_dev(div7, "class", "stat-label svelte-12mrnwd");
      add_location(div7, file5, 462, 24, 17375);
      attr_dev(div8, "class", "stat-card svelte-12mrnwd");
      add_location(div8, file5, 458, 20, 17183);
      attr_dev(div9, "class", "stats-grid svelte-12mrnwd");
      add_location(div9, file5, 447, 16, 16647);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div9, anchor);
      append_dev(div9, div2);
      append_dev(div2, div0);
      append_dev(div0, t0);
      append_dev(div2, t1);
      append_dev(div2, div1);
      append_dev(div9, t3);
      append_dev(div9, div5);
      append_dev(div5, div3);
      append_dev(div3, t4);
      append_dev(div5, t5);
      append_dev(div5, div4);
      append_dev(div9, t7);
      append_dev(div9, div8);
      append_dev(div8, div6);
      append_dev(div6, t8);
      append_dev(div6, t9);
      append_dev(div8, t10);
      append_dev(div8, div7);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*yearStats*/
      512 && t0_value !== (t0_value = /*yearStats*/
      ctx2[9].reviews + ""))
        set_data_dev(t0, t0_value);
      if (dirty[0] & /*yearStats*/
      512 && t4_value !== (t4_value = formatTime(
        /*yearStats*/
        ctx2[9].timeSpent
      ) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*yearStats*/
      512 && t8_value !== (t8_value = /*yearStats*/
      ctx2[9].correctRate.toFixed(1) + ""))
        set_data_dev(t8, t8_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div9);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_52.name,
    type: "if",
    source: "(447:12) {#if yearStats && yearStats.reviews > 0}",
    ctx
  });
  return block;
}
function create_else_block_2(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No answer button data available yet.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Complete some reviews to see answer button statistics.";
      attr_dev(p0, "class", "svelte-12mrnwd");
      add_location(p0, file5, 638, 20, 25565);
      attr_dev(p1, "class", "help-text svelte-12mrnwd");
      add_location(p1, file5, 639, 20, 25629);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 637, 16, 25515);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_2.name,
    type: "else",
    source: "(637:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_42(ctx) {
  let div16;
  let div3;
  let div0;
  let t1;
  let div1;
  let t2_value = (
    /*statistics*/
    ctx[2].answerButtons.again + ""
  );
  let t2;
  let t3;
  let div2;
  let t4_value = (
    /*statistics*/
    (ctx[2].answerButtons.again / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t4;
  let t5;
  let t6;
  let div7;
  let div4;
  let t8;
  let div5;
  let t9_value = (
    /*statistics*/
    ctx[2].answerButtons.hard + ""
  );
  let t9;
  let t10;
  let div6;
  let t11_value = (
    /*statistics*/
    (ctx[2].answerButtons.hard / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t11;
  let t12;
  let t13;
  let div11;
  let div8;
  let t15;
  let div9;
  let t16_value = (
    /*statistics*/
    ctx[2].answerButtons.good + ""
  );
  let t16;
  let t17;
  let div10;
  let t18_value = (
    /*statistics*/
    (ctx[2].answerButtons.good / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t18;
  let t19;
  let t20;
  let div15;
  let div12;
  let t22;
  let div13;
  let t23_value = (
    /*statistics*/
    ctx[2].answerButtons.easy + ""
  );
  let t23;
  let t24;
  let div14;
  let t25_value = (
    /*statistics*/
    (ctx[2].answerButtons.easy / /*statistics*/
    (ctx[2].answerButtons.again + /*statistics*/
    ctx[2].answerButtons.hard + /*statistics*/
    ctx[2].answerButtons.good + /*statistics*/
    ctx[2].answerButtons.easy) * 100).toFixed(1) + ""
  );
  let t25;
  let t26;
  const block = {
    c: function create() {
      div16 = element("div");
      div3 = element("div");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      t4 = text(t4_value);
      t5 = text("%");
      t6 = space();
      div7 = element("div");
      div4 = element("div");
      div4.textContent = "Hard";
      t8 = space();
      div5 = element("div");
      t9 = text(t9_value);
      t10 = space();
      div6 = element("div");
      t11 = text(t11_value);
      t12 = text("%");
      t13 = space();
      div11 = element("div");
      div8 = element("div");
      div8.textContent = "Good";
      t15 = space();
      div9 = element("div");
      t16 = text(t16_value);
      t17 = space();
      div10 = element("div");
      t18 = text(t18_value);
      t19 = text("%");
      t20 = space();
      div15 = element("div");
      div12 = element("div");
      div12.textContent = "Easy";
      t22 = space();
      div13 = element("div");
      t23 = text(t23_value);
      t24 = space();
      div14 = element("div");
      t25 = text(t25_value);
      t26 = text("%");
      attr_dev(div0, "class", "button-label svelte-12mrnwd");
      add_location(div0, file5, 572, 24, 22207);
      attr_dev(div1, "class", "button-count svelte-12mrnwd");
      add_location(div1, file5, 573, 24, 22269);
      attr_dev(div2, "class", "button-percentage svelte-12mrnwd");
      add_location(div2, file5, 576, 24, 22412);
      attr_dev(div3, "class", "button-bar again svelte-12mrnwd");
      add_location(div3, file5, 571, 20, 22152);
      attr_dev(div4, "class", "button-label svelte-12mrnwd");
      add_location(div4, file5, 588, 24, 23040);
      attr_dev(div5, "class", "button-count svelte-12mrnwd");
      add_location(div5, file5, 589, 24, 23101);
      attr_dev(div6, "class", "button-percentage svelte-12mrnwd");
      add_location(div6, file5, 592, 24, 23243);
      attr_dev(div7, "class", "button-bar hard svelte-12mrnwd");
      add_location(div7, file5, 587, 20, 22986);
      attr_dev(div8, "class", "button-label svelte-12mrnwd");
      add_location(div8, file5, 604, 24, 23870);
      attr_dev(div9, "class", "button-count svelte-12mrnwd");
      add_location(div9, file5, 605, 24, 23931);
      attr_dev(div10, "class", "button-percentage svelte-12mrnwd");
      add_location(div10, file5, 608, 24, 24073);
      attr_dev(div11, "class", "button-bar good svelte-12mrnwd");
      add_location(div11, file5, 603, 20, 23816);
      attr_dev(div12, "class", "button-label svelte-12mrnwd");
      add_location(div12, file5, 620, 24, 24700);
      attr_dev(div13, "class", "button-count svelte-12mrnwd");
      add_location(div13, file5, 621, 24, 24761);
      attr_dev(div14, "class", "button-percentage svelte-12mrnwd");
      add_location(div14, file5, 624, 24, 24903);
      attr_dev(div15, "class", "button-bar easy svelte-12mrnwd");
      add_location(div15, file5, 619, 20, 24646);
      attr_dev(div16, "class", "button-stats svelte-12mrnwd");
      add_location(div16, file5, 570, 16, 22105);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div16, anchor);
      append_dev(div16, div3);
      append_dev(div3, div0);
      append_dev(div3, t1);
      append_dev(div3, div1);
      append_dev(div1, t2);
      append_dev(div3, t3);
      append_dev(div3, div2);
      append_dev(div2, t4);
      append_dev(div2, t5);
      append_dev(div16, t6);
      append_dev(div16, div7);
      append_dev(div7, div4);
      append_dev(div7, t8);
      append_dev(div7, div5);
      append_dev(div5, t9);
      append_dev(div7, t10);
      append_dev(div7, div6);
      append_dev(div6, t11);
      append_dev(div6, t12);
      append_dev(div16, t13);
      append_dev(div16, div11);
      append_dev(div11, div8);
      append_dev(div11, t15);
      append_dev(div11, div9);
      append_dev(div9, t16);
      append_dev(div11, t17);
      append_dev(div11, div10);
      append_dev(div10, t18);
      append_dev(div10, t19);
      append_dev(div16, t20);
      append_dev(div16, div15);
      append_dev(div15, div12);
      append_dev(div15, t22);
      append_dev(div15, div13);
      append_dev(div13, t23);
      append_dev(div15, t24);
      append_dev(div15, div14);
      append_dev(div14, t25);
      append_dev(div14, t26);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4 && t2_value !== (t2_value = /*statistics*/
      ctx2[2].answerButtons.again + ""))
        set_data_dev(t2, t2_value);
      if (dirty[0] & /*statistics*/
      4 && t4_value !== (t4_value = /*statistics*/
      (ctx2[2].answerButtons.again / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t4, t4_value);
      if (dirty[0] & /*statistics*/
      4 && t9_value !== (t9_value = /*statistics*/
      ctx2[2].answerButtons.hard + ""))
        set_data_dev(t9, t9_value);
      if (dirty[0] & /*statistics*/
      4 && t11_value !== (t11_value = /*statistics*/
      (ctx2[2].answerButtons.hard / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t11, t11_value);
      if (dirty[0] & /*statistics*/
      4 && t16_value !== (t16_value = /*statistics*/
      ctx2[2].answerButtons.good + ""))
        set_data_dev(t16, t16_value);
      if (dirty[0] & /*statistics*/
      4 && t18_value !== (t18_value = /*statistics*/
      (ctx2[2].answerButtons.good / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t18, t18_value);
      if (dirty[0] & /*statistics*/
      4 && t23_value !== (t23_value = /*statistics*/
      ctx2[2].answerButtons.easy + ""))
        set_data_dev(t23, t23_value);
      if (dirty[0] & /*statistics*/
      4 && t25_value !== (t25_value = /*statistics*/
      (ctx2[2].answerButtons.easy / /*statistics*/
      (ctx2[2].answerButtons.again + /*statistics*/
      ctx2[2].answerButtons.hard + /*statistics*/
      ctx2[2].answerButtons.good + /*statistics*/
      ctx2[2].answerButtons.easy) * 100).toFixed(1) + ""))
        set_data_dev(t25, t25_value);
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div16);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_42.name,
    type: "if",
    source: "(570:12) {#if statistics?.answerButtons && (statistics.answerButtons.again > 0 || statistics.answerButtons.hard > 0 || statistics.answerButtons.good > 0 || statistics.answerButtons.easy > 0)}",
    ctx
  });
  return block;
}
function create_else_block_1(ctx) {
  let div;
  let p0;
  let t1;
  let p1;
  const block = {
    c: function create() {
      div = element("div");
      p0 = element("p");
      p0.textContent = "No upcoming reviews scheduled.";
      t1 = space();
      p1 = element("p");
      p1.textContent = "Add flashcards to your decks to see future review\n                        forecasts.";
      attr_dev(p0, "class", "svelte-12mrnwd");
      add_location(p0, file5, 690, 20, 27922);
      attr_dev(p1, "class", "help-text svelte-12mrnwd");
      add_location(p1, file5, 691, 20, 27980);
      attr_dev(div, "class", "no-data-message svelte-12mrnwd");
      add_location(div, file5, 689, 16, 27872);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p0);
      append_dev(div, t1);
      append_dev(div, p1);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block_1.name,
    type: "else",
    source: "(689:12) {:else}",
    ctx
  });
  return block;
}
function create_if_block_32(ctx) {
  let div;
  let t0;
  let p;
  let each_value = (
    /*filteredForecast*/
    ctx[37]
  );
  validate_each_argument(each_value);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block3(get_each_context3(ctx, each_value, i));
  }
  const block = {
    c: function create() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t0 = space();
      p = element("p");
      p.textContent = "Showing days with scheduled reviews based on FSRS intervals.";
      attr_dev(div, "class", "forecast-chart svelte-12mrnwd");
      add_location(div, file5, 656, 16, 26348);
      attr_dev(p, "class", "forecast-note svelte-12mrnwd");
      add_location(p, file5, 685, 16, 27708);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        if (each_blocks[i]) {
          each_blocks[i].m(div, null);
        }
      }
      insert_dev(target, t0, anchor);
      insert_dev(target, p, anchor);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        each_value = /*filteredForecast*/
        ctx2[37];
        validate_each_argument(each_value);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context3(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block3(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach_dev(t0);
      if (detaching)
        detach_dev(p);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_32.name,
    type: "if",
    source: "(650:12) {#if statistics?.forecast && statistics.forecast.length > 0 && statistics.forecast.some((day) => day.dueCount > 0)}",
    ctx
  });
  return block;
}
function create_each_block3(ctx) {
  let div3;
  let div0;
  let t0;
  let div1;
  let t1_value = (
    /*originalIndex*/
    ctx[40] + ""
  );
  let t1;
  let t2;
  let div2;
  let t3_value = (
    /*day*/
    ctx[39].dueCount + ""
  );
  let t3;
  let t4;
  let div3_title_value;
  const block = {
    c: function create() {
      div3 = element("div");
      div0 = element("div");
      t0 = space();
      div1 = element("div");
      t1 = text(t1_value);
      t2 = space();
      div2 = element("div");
      t3 = text(t3_value);
      t4 = space();
      attr_dev(div0, "class", "bar svelte-12mrnwd");
      set_style(div0, "height", calculateBarHeight(
        /*day*/
        ctx[39].dueCount,
        /*maxDueCount*/
        ctx[38]
      ) + "px");
      add_location(div0, file5, 671, 28, 27113);
      attr_dev(div1, "class", "bar-label svelte-12mrnwd");
      add_location(div1, file5, 678, 28, 27431);
      attr_dev(div2, "class", "bar-value svelte-12mrnwd");
      add_location(div2, file5, 681, 28, 27566);
      attr_dev(div3, "class", "forecast-bar svelte-12mrnwd");
      attr_dev(div3, "title", div3_title_value = /*originalIndex*/
      (ctx[40] === 0 ? "Today" : (
        /*originalIndex*/
        ctx[40] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx[40]} (in ${/*originalIndex*/
        ctx[40]} days)`
      )) + ": " + /*day*/
      ctx[39].dueCount + " card" + /*day*/
      (ctx[39].dueCount !== 1 ? "s" : "") + " due");
      add_location(div3, file5, 660, 24, 26570);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div3, anchor);
      append_dev(div3, div0);
      append_dev(div3, t0);
      append_dev(div3, div1);
      append_dev(div1, t1);
      append_dev(div3, t2);
      append_dev(div3, div2);
      append_dev(div2, t3);
      append_dev(div3, t4);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*statistics*/
      4) {
        set_style(div0, "height", calculateBarHeight(
          /*day*/
          ctx2[39].dueCount,
          /*maxDueCount*/
          ctx2[38]
        ) + "px");
      }
      if (dirty[0] & /*statistics*/
      4 && t1_value !== (t1_value = /*originalIndex*/
      ctx2[40] + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*statistics*/
      4 && t3_value !== (t3_value = /*day*/
      ctx2[39].dueCount + ""))
        set_data_dev(t3, t3_value);
      if (dirty[0] & /*statistics*/
      4 && div3_title_value !== (div3_title_value = /*originalIndex*/
      (ctx2[40] === 0 ? "Today" : (
        /*originalIndex*/
        ctx2[40] === 1 ? "Tomorrow" : `Day ${/*originalIndex*/
        ctx2[40]} (in ${/*originalIndex*/
        ctx2[40]} days)`
      )) + ": " + /*day*/
      ctx2[39].dueCount + " card" + /*day*/
      (ctx2[39].dueCount !== 1 ? "s" : "") + " due")) {
        attr_dev(div3, "title", div3_title_value);
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div3);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_each_block3.name,
    type: "each",
    source: "(658:20) {#each filteredForecast as day, index}",
    ctx
  });
  return block;
}
function create_fragment5(ctx) {
  let div1;
  let current_block_type_index;
  let if_block0;
  let t0;
  let div0;
  let a;
  let img;
  let img_src_value;
  let t1;
  let if_block1_anchor;
  let current;
  const if_block_creators = [create_if_block_13, create_if_block_22, create_else_block3];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (
      /*loading*/
      ctx2[1]
    )
      return 0;
    if (!/*statistics*/
    ctx2[2])
      return 1;
    return 2;
  }
  current_block_type_index = select_block_type(ctx, [-1, -1]);
  if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  let if_block1 = false;
  const block = {
    c: function create() {
      div1 = element("div");
      if_block0.c();
      t0 = space();
      div0 = element("div");
      a = element("a");
      img = element("img");
      t1 = space();
      if (if_block1)
        if_block1.c();
      if_block1_anchor = empty();
      if (!src_url_equal(img.src, img_src_value = "https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png"))
        attr_dev(img, "src", img_src_value);
      attr_dev(img, "alt", "Buy Me A Coffee");
      attr_dev(img, "height", "40");
      add_location(img, file5, 724, 12, 29063);
      attr_dev(a, "href", "https://www.buymeacoffee.com/dscherdil0");
      add_location(a, file5, 723, 8, 29e3);
      attr_dev(div0, "class", "stats-section buymeacoffee-badge svelte-12mrnwd");
      add_location(div0, file5, 722, 4, 28945);
      attr_dev(div1, "class", "statistics-container svelte-12mrnwd");
      add_location(div1, file5, 276, 0, 9817);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      if_blocks[current_block_type_index].m(div1, null);
      append_dev(div1, t0);
      append_dev(div1, div0);
      append_dev(div0, a);
      append_dev(a, img);
      insert_dev(target, t1, anchor);
      if (if_block1)
        if_block1.m(target, anchor);
      insert_dev(target, if_block1_anchor, anchor);
      current = true;
    },
    p: function update2(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2, dirty);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block0 = if_blocks[current_block_type_index];
        if (!if_block0) {
          if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block0.c();
        } else {
          if_block0.p(ctx2, dirty);
        }
        transition_in(if_block0, 1);
        if_block0.m(div1, t0);
      }
    },
    i: function intro(local) {
      if (current)
        return;
      transition_in(if_block0);
      current = true;
    },
    o: function outro(local) {
      transition_out(if_block0);
      current = false;
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
      if_blocks[current_block_type_index].d();
      if (detaching)
        detach_dev(t1);
      if (if_block1)
        if_block1.d(detaching);
      if (detaching)
        detach_dev(if_block1_anchor);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment5.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function formatDate2(dateString) {
  return new Date(dateString).toLocaleDateString();
}
function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const hours = Math.floor(minutes / 60);
  if (hours > 0) {
    return `${hours}h ${minutes % 60}m`;
  }
  return `${minutes}m`;
}
function formatPace(seconds) {
  if (seconds < 60) {
    return `${seconds.toFixed(1)}s`;
  }
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.round(seconds % 60);
  return `${minutes}m ${remainingSeconds}s`;
}
function calculateBarHeight(dueCount, maxDueCount) {
  const barHeight = 400;
  if (maxDueCount === 0)
    return 0;
  const proportion = dueCount / maxDueCount;
  return Math.max(proportion * barHeight - 80, 10);
}
var func2 = (day) => day.dueCount > 0;
function instance5($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("StatisticsUI", slots, []);
  let { plugin } = $$props;
  const dispatch = createEventDispatcher();
  let loading = true;
  let statistics = null;
  let selectedDeckFilter = "all";
  let selectedTimeframe = "12months";
  let availableDecks = [];
  let availableTags = [];
  let heatmapComponent;
  let deckFilterContainer;
  let timeframeFilterContainer;
  let lastEventTime = 0;
  let lastEventType = "";
  let todayStats = null;
  let weekStats = null;
  let monthStats = null;
  let yearStats = null;
  onMount(() => __awaiter(void 0, void 0, void 0, function* () {
    $$invalidate(1, loading = true);
    yield loadDecksAndTags();
    yield loadStatistics();
    tick().then(() => {
      mountFilterComponents();
    });
  }));
  function mountFilterComponents() {
    if (deckFilterContainer) {
      new import_obsidian7.Setting(deckFilterContainer).setName("Select Deck(s):").setClass("deck-filter-container").addDropdown((dropdown) => {
        dropdown.addOption("all", "All Decks");
        availableTags.forEach((tag) => {
          dropdown.addOption(`tag:${tag}`, `Tag: ${tag}`);
        });
        availableDecks.forEach((deck) => {
          dropdown.addOption(`deck:${deck.id}`, deck.name);
        });
        dropdown.setValue(selectedDeckFilter);
        dropdown.onChange((value) => {
          selectedDeckFilter = value;
          handleFilterChange();
        });
      });
    }
    if (timeframeFilterContainer) {
      new import_obsidian7.Setting(timeframeFilterContainer).setName("Timeframe:").setClass("timeframe-filter-container").addDropdown((dropdown) => dropdown.addOption("12months", "Last 12 Months").addOption("all", "All History").setValue(selectedTimeframe).onChange((value) => {
        selectedTimeframe = value;
        handleFilterChange();
      }));
    }
  }
  function loadDecksAndTags() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        availableDecks = yield plugin.getDecks();
        availableTags = [...new Set(availableDecks.map((deck) => deck.tag))];
      } catch (error) {
        console.error("Error loading decks and tags:", error);
      }
    });
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  function loadStatistics() {
    return __awaiter(this, void 0, void 0, function* () {
      try {
        $$invalidate(2, statistics = yield plugin.getOverallStatistics(selectedDeckFilter, selectedTimeframe));
        plugin.debugLog("Loaded statistics:", statistics);
        $$invalidate(6, todayStats = getTodayStats());
        $$invalidate(7, weekStats = getTimeframeStats(7));
        $$invalidate(8, monthStats = getTimeframeStats(30));
        $$invalidate(9, yearStats = getTimeframeStats(365));
      } catch (error) {
        console.error("Error loading statistics:", error);
        $$invalidate(2, statistics = {
          dailyStats: [],
          cardStats: { new: 0, mature: 0 },
          answerButtons: { again: 0, hard: 0, good: 0, easy: 0 },
          retentionRate: 0,
          intervals: [],
          forecast: [],
          averagePace: 0,
          totalReviewTime: 0
        });
        $$invalidate(6, todayStats = null);
        $$invalidate(7, weekStats = null);
        $$invalidate(8, monthStats = null);
        $$invalidate(9, yearStats = null);
      } finally {
        $$invalidate(1, loading = false);
      }
    });
  }
  function handleFilterChange() {
    return __awaiter(this, void 0, void 0, function* () {
      yield loadStatistics();
    });
  }
  function getTodayStats() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats) || statistics.dailyStats.length === 0)
      return null;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    return statistics.dailyStats.find((day) => day.date === today) || statistics.dailyStats[0] || null;
  }
  function getTimeframeStats(days) {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.dailyStats)) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    const cutoffDate = /* @__PURE__ */ new Date();
    cutoffDate.setDate(cutoffDate.getDate() - days);
    const cutoffStr = cutoffDate.toISOString().split("T")[0];
    const filteredStats = statistics.dailyStats.filter((day) => day.date >= cutoffStr);
    if (filteredStats.length === 0) {
      return {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      };
    }
    return filteredStats.reduce(
      (acc, day) => ({
        reviews: acc.reviews + day.reviews,
        timeSpent: acc.timeSpent + day.timeSpent,
        newCards: acc.newCards + day.newCards,
        learningCards: 0,
        // No learning cards in pure FSRS
        reviewCards: acc.reviewCards + day.reviewCards,
        correctRate: acc.reviews + day.reviews > 0 ? (acc.correctRate * acc.reviews + day.correctRate * day.reviews) / (acc.reviews + day.reviews) : 0
      }),
      {
        reviews: 0,
        timeSpent: 0,
        newCards: 0,
        learningCards: 0,
        reviewCards: 0,
        correctRate: 0
      }
    );
  }
  function calculateAverageEase() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.answerButtons))
      return "0.00";
    const { again, hard, good, easy } = statistics.answerButtons;
    const total = again + hard + good + easy;
    if (total === 0)
      return "0.00";
    const weightedSum = again * 1 + hard * 2 + good * 3 + easy * 4;
    return (weightedSum / total).toFixed(2);
  }
  function calculateAverageInterval() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.intervals) || statistics.intervals.length === 0)
      return 0;
    let totalInterval = 0;
    let totalCards = 0;
    statistics.intervals.forEach((interval) => {
      const intervalStr = interval.interval;
      let minutes = 0;
      if (intervalStr.endsWith("h")) {
        minutes = parseInt(intervalStr) * 60;
      } else if (intervalStr.endsWith("d")) {
        minutes = parseInt(intervalStr) * 1440;
      } else if (intervalStr.endsWith("m")) {
        minutes = parseInt(intervalStr) * 43200;
      }
      totalInterval += minutes * interval.count;
      totalCards += interval.count;
    });
    if (totalCards === 0)
      return 0;
    const avgMinutes = totalInterval / totalCards;
    return Math.round(avgMinutes / 1440);
  }
  function getDueToday() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const todayForecast = statistics.forecast.find((day) => day.date === today);
    return todayForecast ? todayForecast.dueCount : 0;
  }
  function getDueTomorrow() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.forecast) || statistics.forecast.length === 0)
      return 0;
    const tomorrow = /* @__PURE__ */ new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    const tomorrowStr = tomorrow.toISOString().split("T")[0];
    const tomorrowForecast = statistics.forecast.find((day) => day.date === tomorrowStr);
    return tomorrowForecast ? tomorrowForecast.dueCount : 0;
  }
  function getMaturityRatio() {
    if (!(statistics === null || statistics === void 0 ? void 0 : statistics.cardStats))
      return "0.0";
    const { new: newCards, mature } = statistics.cardStats;
    const total = newCards + mature;
    if (total === 0)
      return "0.0";
    return (mature / total * 100).toFixed(1);
  }
  $$self.$$.on_mount.push(function() {
    if (plugin === void 0 && !("plugin" in $$props || $$self.$$.bound[$$self.$$.props["plugin"]])) {
      console_13.warn("<StatisticsUI> was created without expected prop 'plugin'");
    }
  });
  const writable_props = ["plugin"];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_13.warn(`<StatisticsUI> was created with unknown prop '${key}'`);
  });
  const click_handler = (e) => handleTouchClick(loadStatistics, e);
  const touchend_handler = (e) => handleTouchClick(loadStatistics, e);
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      deckFilterContainer = $$value;
      $$invalidate(4, deckFilterContainer);
    });
  }
  function div1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      timeframeFilterContainer = $$value;
      $$invalidate(5, timeframeFilterContainer);
    });
  }
  const func_3 = async (days) => {
    return await plugin.getReviewCounts(days);
  };
  function reviewheatmap_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      heatmapComponent = $$value;
      $$invalidate(3, heatmapComponent);
    });
  }
  const click_handler_1 = (e) => handleTouchClick(() => dispatch("close"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => dispatch("close"), e);
  $$self.$$set = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    onMount,
    createEventDispatcher,
    tick,
    Setting: import_obsidian7.Setting,
    ReviewHeatmap: ReviewHeatmap_default,
    plugin,
    dispatch,
    loading,
    statistics,
    selectedDeckFilter,
    selectedTimeframe,
    availableDecks,
    availableTags,
    heatmapComponent,
    deckFilterContainer,
    timeframeFilterContainer,
    lastEventTime,
    lastEventType,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    mountFilterComponents,
    loadDecksAndTags,
    handleTouchClick,
    loadStatistics,
    handleFilterChange,
    formatDate: formatDate2,
    formatTime,
    formatPace,
    getTodayStats,
    getTimeframeStats,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    calculateBarHeight,
    getMaturityRatio
  });
  $$self.$inject_state = ($$props2) => {
    if ("plugin" in $$props2)
      $$invalidate(0, plugin = $$props2.plugin);
    if ("loading" in $$props2)
      $$invalidate(1, loading = $$props2.loading);
    if ("statistics" in $$props2)
      $$invalidate(2, statistics = $$props2.statistics);
    if ("selectedDeckFilter" in $$props2)
      selectedDeckFilter = $$props2.selectedDeckFilter;
    if ("selectedTimeframe" in $$props2)
      selectedTimeframe = $$props2.selectedTimeframe;
    if ("availableDecks" in $$props2)
      availableDecks = $$props2.availableDecks;
    if ("availableTags" in $$props2)
      availableTags = $$props2.availableTags;
    if ("heatmapComponent" in $$props2)
      $$invalidate(3, heatmapComponent = $$props2.heatmapComponent);
    if ("deckFilterContainer" in $$props2)
      $$invalidate(4, deckFilterContainer = $$props2.deckFilterContainer);
    if ("timeframeFilterContainer" in $$props2)
      $$invalidate(5, timeframeFilterContainer = $$props2.timeframeFilterContainer);
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
    if ("todayStats" in $$props2)
      $$invalidate(6, todayStats = $$props2.todayStats);
    if ("weekStats" in $$props2)
      $$invalidate(7, weekStats = $$props2.weekStats);
    if ("monthStats" in $$props2)
      $$invalidate(8, monthStats = $$props2.monthStats);
    if ("yearStats" in $$props2)
      $$invalidate(9, yearStats = $$props2.yearStats);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  return [
    plugin,
    loading,
    statistics,
    heatmapComponent,
    deckFilterContainer,
    timeframeFilterContainer,
    todayStats,
    weekStats,
    monthStats,
    yearStats,
    dispatch,
    handleTouchClick,
    loadStatistics,
    calculateAverageEase,
    calculateAverageInterval,
    getDueToday,
    getDueTomorrow,
    getMaturityRatio,
    click_handler,
    touchend_handler,
    div0_binding,
    div1_binding,
    func_3,
    reviewheatmap_binding,
    click_handler_1,
    touchend_handler_1
  ];
}
var StatisticsUI = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(this, options, instance5, create_fragment5, safe_not_equal, { plugin: 0 }, null, [-1, -1]);
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "StatisticsUI",
      options,
      id: create_fragment5.name
    });
  }
  get plugin() {
    throw new Error("<StatisticsUI>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set plugin(value) {
    throw new Error("<StatisticsUI>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var StatisticsUI_default = StatisticsUI;

// src/components/StatisticsModal.ts
var StatisticsModal = class extends import_obsidian8.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.component = null;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement) {
      modalEl.addClass("statistics-modal");
      if (window.innerWidth <= 768) {
        modalEl.addClass("statistics-modal-mobile");
      }
    }
    this.containerEl.addClass("statistics-modal-container");
    contentEl.addClass("statistics-modal-content");
    const titleEl = contentEl.createEl("h2", { text: "Overall Statistics" });
    titleEl.addClass("statistics-modal-title");
    const componentContainer = contentEl.createDiv("statistics-container");
    componentContainer.addClass("statistics-modal-component-container");
    this.component = new StatisticsUI_default({
      target: componentContainer,
      props: {
        plugin: this.plugin
      }
    });
    this.component.$on("close", () => {
      this.close();
    });
    const handleResize = () => {
      if (modalEl instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl.addClass("statistics-modal-mobile");
        } else {
          modalEl.removeClass("statistics-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  onClose() {
    const { contentEl } = this;
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    contentEl.empty();
  }
};

// src/components/FlashcardReviewModalWrapper.ts
var import_obsidian9 = require("obsidian");

// src/components/FlashcardReviewModal.svelte
var { console: console_14 } = globals;
var file6 = "src/components/FlashcardReviewModal.svelte";
function create_if_block_33(ctx) {
  let div1;
  let div0;
  const block = {
    c: function create() {
      div1 = element("div");
      div0 = element("div");
      attr_dev(div0, "class", "progress-fill svelte-1nq85fg");
      set_style(
        div0,
        "width",
        /*progress*/
        ctx[11] + "%"
      );
      add_location(div0, file6, 154, 12, 4500);
      attr_dev(div1, "class", "review-progress-bar svelte-1nq85fg");
      add_location(div1, file6, 153, 8, 4454);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div1, anchor);
      append_dev(div1, div0);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*progress*/
      2048) {
        set_style(
          div0,
          "width",
          /*progress*/
          ctx2[11] + "%"
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div1);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_33.name,
    type: "if",
    source: "(153:4) {#if settings?.review?.showProgress !== false}",
    ctx
  });
  return block;
}
function create_else_block4(ctx) {
  let div;
  let p;
  const block = {
    c: function create() {
      div = element("div");
      p = element("p");
      p.textContent = "No cards to review";
      add_location(p, file6, 254, 12, 8651);
      attr_dev(div, "class", "empty-state svelte-1nq85fg");
      add_location(div, file6, 253, 8, 8613);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div, anchor);
      append_dev(div, p);
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_else_block4.name,
    type: "else",
    source: "(253:4) {:else}",
    ctx
  });
  return block;
}
function create_if_block3(ctx) {
  let div5;
  let div1;
  let div0;
  let t0;
  let div4;
  let div2;
  let t1;
  let div3;
  let t2;
  let div6;
  let t3;
  let if_block0 = !/*showAnswer*/
  ctx[5] && create_if_block_23(ctx);
  let if_block1 = (
    /*showAnswer*/
    ctx[5] && /*schedulingInfo*/
    ctx[9] && create_if_block_14(ctx)
  );
  const block = {
    c: function create() {
      div5 = element("div");
      div1 = element("div");
      div0 = element("div");
      t0 = space();
      div4 = element("div");
      div2 = element("div");
      t1 = space();
      div3 = element("div");
      t2 = space();
      div6 = element("div");
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      attr_dev(div0, "class", "card-side front svelte-1nq85fg");
      add_location(div0, file6, 161, 16, 4703);
      attr_dev(div1, "class", "question-section svelte-1nq85fg");
      add_location(div1, file6, 160, 12, 4656);
      attr_dev(div2, "class", "separator svelte-1nq85fg");
      add_location(div2, file6, 165, 16, 4863);
      attr_dev(div3, "class", "card-side back svelte-1nq85fg");
      add_location(div3, file6, 166, 16, 4909);
      attr_dev(div4, "class", "answer-section svelte-1nq85fg");
      toggle_class(div4, "hidden", !/*showAnswer*/
      ctx[5]);
      add_location(div4, file6, 164, 12, 4791);
      attr_dev(div5, "class", "card-content svelte-1nq85fg");
      add_location(div5, file6, 159, 8, 4617);
      attr_dev(div6, "class", "action-buttons svelte-1nq85fg");
      add_location(div6, file6, 170, 8, 5006);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div5, anchor);
      append_dev(div5, div1);
      append_dev(div1, div0);
      ctx[21](div0);
      append_dev(div5, t0);
      append_dev(div5, div4);
      append_dev(div4, div2);
      append_dev(div4, t1);
      append_dev(div4, div3);
      ctx[22](div3);
      insert_dev(target, t2, anchor);
      insert_dev(target, div6, anchor);
      if (if_block0)
        if_block0.m(div6, null);
      append_dev(div6, t3);
      if (if_block1)
        if_block1.m(div6, null);
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*showAnswer*/
      32) {
        toggle_class(div4, "hidden", !/*showAnswer*/
        ctx2[5]);
      }
      if (!/*showAnswer*/
      ctx2[5]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_23(ctx2);
          if_block0.c();
          if_block0.m(div6, t3);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (
        /*showAnswer*/
        ctx2[5] && /*schedulingInfo*/
        ctx2[9]
      ) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
        } else {
          if_block1 = create_if_block_14(ctx2);
          if_block1.c();
          if_block1.m(div6, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div5);
      ctx[21](null);
      ctx[22](null);
      if (detaching)
        detach_dev(t2);
      if (detaching)
        detach_dev(div6);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block3.name,
    type: "if",
    source: "(159:4) {#if currentCard}",
    ctx
  });
  return block;
}
function create_if_block_23(ctx) {
  let button;
  let span0;
  let t1;
  let span1;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      button = element("button");
      span0 = element("span");
      span0.textContent = "Show Answer";
      t1 = space();
      span1 = element("span");
      span1.textContent = "Space";
      add_location(span0, file6, 177, 20, 5321);
      attr_dev(span1, "class", "shortcut svelte-1nq85fg");
      add_location(span1, file6, 178, 20, 5366);
      attr_dev(button, "class", "show-answer-button svelte-1nq85fg");
      add_location(button, file6, 172, 16, 5081);
    },
    m: function mount(target, anchor) {
      insert_dev(target, button, anchor);
      append_dev(button, span0);
      append_dev(button, t1);
      append_dev(button, span1);
      if (!mounted) {
        dispose = [
          listen_dev(
            button,
            "click",
            /*click_handler*/
            ctx[23],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button,
            "touchend",
            /*touchend_handler*/
            ctx[24],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(button);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_23.name,
    type: "if",
    source: "(172:12) {#if !showAnswer}",
    ctx
  });
  return block;
}
function create_if_block_14(ctx) {
  let div12;
  let button0;
  let div0;
  let t1;
  let div1;
  let t2_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].again.interval
    ) + ""
  );
  let t2;
  let t3;
  let div2;
  let t5;
  let button1;
  let div3;
  let t7;
  let div4;
  let t8_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].hard.interval
    ) + ""
  );
  let t8;
  let t9;
  let div5;
  let t11;
  let button2;
  let div6;
  let t13;
  let div7;
  let t14_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].good.interval
    ) + ""
  );
  let t14;
  let t15;
  let div8;
  let t17;
  let button3;
  let div9;
  let t19;
  let div10;
  let t20_value = (
    /*getIntervalDisplay*/
    ctx[14](
      /*schedulingInfo*/
      ctx[9].easy.interval
    ) + ""
  );
  let t20;
  let t21;
  let div11;
  let mounted;
  let dispose;
  const block = {
    c: function create() {
      div12 = element("div");
      button0 = element("button");
      div0 = element("div");
      div0.textContent = "Again";
      t1 = space();
      div1 = element("div");
      t2 = text(t2_value);
      t3 = space();
      div2 = element("div");
      div2.textContent = "1";
      t5 = space();
      button1 = element("button");
      div3 = element("div");
      div3.textContent = "Hard";
      t7 = space();
      div4 = element("div");
      t8 = text(t8_value);
      t9 = space();
      div5 = element("div");
      div5.textContent = "2";
      t11 = space();
      button2 = element("button");
      div6 = element("div");
      div6.textContent = "Good";
      t13 = space();
      div7 = element("div");
      t14 = text(t14_value);
      t15 = space();
      div8 = element("div");
      div8.textContent = "3";
      t17 = space();
      button3 = element("button");
      div9 = element("div");
      div9.textContent = "Easy";
      t19 = space();
      div10 = element("div");
      t20 = text(t20_value);
      t21 = space();
      div11 = element("div");
      div11.textContent = "4";
      attr_dev(div0, "class", "button-label svelte-1nq85fg");
      add_location(div0, file6, 198, 24, 6157);
      attr_dev(div1, "class", "interval svelte-1nq85fg");
      add_location(div1, file6, 199, 24, 6219);
      attr_dev(div2, "class", "shortcut svelte-1nq85fg");
      add_location(div2, file6, 202, 24, 6377);
      attr_dev(button0, "class", "difficulty-button again svelte-1nq85fg");
      button0.disabled = /*isLoading*/
      ctx[6];
      add_location(button0, file6, 184, 20, 5563);
      attr_dev(div3, "class", "button-label svelte-1nq85fg");
      add_location(div3, file6, 213, 24, 6859);
      attr_dev(div4, "class", "interval svelte-1nq85fg");
      add_location(div4, file6, 214, 24, 6920);
      attr_dev(div5, "class", "shortcut svelte-1nq85fg");
      add_location(div5, file6, 217, 24, 7077);
      attr_dev(button1, "class", "difficulty-button hard svelte-1nq85fg");
      button1.disabled = /*isLoading*/
      ctx[6];
      add_location(button1, file6, 205, 20, 6458);
      attr_dev(div6, "class", "button-label svelte-1nq85fg");
      add_location(div6, file6, 228, 24, 7559);
      attr_dev(div7, "class", "interval svelte-1nq85fg");
      add_location(div7, file6, 229, 24, 7620);
      attr_dev(div8, "class", "shortcut svelte-1nq85fg");
      add_location(div8, file6, 232, 24, 7777);
      attr_dev(button2, "class", "difficulty-button good svelte-1nq85fg");
      button2.disabled = /*isLoading*/
      ctx[6];
      add_location(button2, file6, 220, 20, 7158);
      attr_dev(div9, "class", "button-label svelte-1nq85fg");
      add_location(div9, file6, 243, 24, 8259);
      attr_dev(div10, "class", "interval svelte-1nq85fg");
      add_location(div10, file6, 244, 24, 8320);
      attr_dev(div11, "class", "shortcut svelte-1nq85fg");
      add_location(div11, file6, 247, 24, 8477);
      attr_dev(button3, "class", "difficulty-button easy svelte-1nq85fg");
      button3.disabled = /*isLoading*/
      ctx[6];
      add_location(button3, file6, 235, 20, 7858);
      attr_dev(div12, "class", "difficulty-buttons svelte-1nq85fg");
      add_location(div12, file6, 183, 16, 5510);
    },
    m: function mount(target, anchor) {
      insert_dev(target, div12, anchor);
      append_dev(div12, button0);
      append_dev(button0, div0);
      append_dev(button0, t1);
      append_dev(button0, div1);
      append_dev(div1, t2);
      append_dev(button0, t3);
      append_dev(button0, div2);
      append_dev(div12, t5);
      append_dev(div12, button1);
      append_dev(button1, div3);
      append_dev(button1, t7);
      append_dev(button1, div4);
      append_dev(div4, t8);
      append_dev(button1, t9);
      append_dev(button1, div5);
      append_dev(div12, t11);
      append_dev(div12, button2);
      append_dev(button2, div6);
      append_dev(button2, t13);
      append_dev(button2, div7);
      append_dev(div7, t14);
      append_dev(button2, t15);
      append_dev(button2, div8);
      append_dev(div12, t17);
      append_dev(div12, button3);
      append_dev(button3, div9);
      append_dev(button3, t19);
      append_dev(button3, div10);
      append_dev(div10, t20);
      append_dev(button3, t21);
      append_dev(button3, div11);
      if (!mounted) {
        dispose = [
          listen_dev(
            button0,
            "click",
            /*click_handler_1*/
            ctx[25],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button0,
            "touchend",
            /*touchend_handler_1*/
            ctx[26],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "click",
            /*click_handler_2*/
            ctx[27],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button1,
            "touchend",
            /*touchend_handler_2*/
            ctx[28],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button2,
            "click",
            /*click_handler_3*/
            ctx[29],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button2,
            "touchend",
            /*touchend_handler_3*/
            ctx[30],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button3,
            "click",
            /*click_handler_4*/
            ctx[31],
            false,
            false,
            false,
            false
          ),
          listen_dev(
            button3,
            "touchend",
            /*touchend_handler_4*/
            ctx[32],
            false,
            false,
            false,
            false
          )
        ];
        mounted = true;
      }
    },
    p: function update2(ctx2, dirty) {
      if (dirty[0] & /*schedulingInfo*/
      512 && t2_value !== (t2_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].again.interval
      ) + ""))
        set_data_dev(t2, t2_value);
      if (dirty[0] & /*isLoading*/
      64) {
        prop_dev(
          button0,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      512 && t8_value !== (t8_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].hard.interval
      ) + ""))
        set_data_dev(t8, t8_value);
      if (dirty[0] & /*isLoading*/
      64) {
        prop_dev(
          button1,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      512 && t14_value !== (t14_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].good.interval
      ) + ""))
        set_data_dev(t14, t14_value);
      if (dirty[0] & /*isLoading*/
      64) {
        prop_dev(
          button2,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
      if (dirty[0] & /*schedulingInfo*/
      512 && t20_value !== (t20_value = /*getIntervalDisplay*/
      ctx2[14](
        /*schedulingInfo*/
        ctx2[9].easy.interval
      ) + ""))
        set_data_dev(t20, t20_value);
      if (dirty[0] & /*isLoading*/
      64) {
        prop_dev(
          button3,
          "disabled",
          /*isLoading*/
          ctx2[6]
        );
      }
    },
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div12);
      mounted = false;
      run_all(dispose);
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_if_block_14.name,
    type: "if",
    source: "(183:12) {#if showAnswer && schedulingInfo}",
    ctx
  });
  return block;
}
function create_fragment6(ctx) {
  var _a, _b;
  let div2;
  let div1;
  let h3;
  let t0;
  let t1_value = (
    /*deck*/
    ctx[2].name + ""
  );
  let t1;
  let t2;
  let div0;
  let span0;
  let t3_value = (
    /*currentIndex*/
    ctx[0] + 1 + ""
  );
  let t3;
  let t4;
  let t5_value = (
    /*flashcards*/
    ctx[1].length + ""
  );
  let t5;
  let t6;
  let span1;
  let t7;
  let t8;
  let t9;
  let t10;
  let t11;
  let if_block0 = (
    /*settings*/
    ((_b = (_a = ctx[3]) == null ? void 0 : _a.review) == null ? void 0 : _b.showProgress) !== false && create_if_block_33(ctx)
  );
  function select_block_type(ctx2, dirty) {
    if (
      /*currentCard*/
      ctx2[4]
    )
      return create_if_block3;
    return create_else_block4;
  }
  let current_block_type = select_block_type(ctx, [-1, -1]);
  let if_block1 = current_block_type(ctx);
  const block = {
    c: function create() {
      div2 = element("div");
      div1 = element("div");
      h3 = element("h3");
      t0 = text("Review Session - ");
      t1 = text(t1_value);
      t2 = space();
      div0 = element("div");
      span0 = element("span");
      t3 = text(t3_value);
      t4 = text(" / ");
      t5 = text(t5_value);
      t6 = space();
      span1 = element("span");
      t7 = text("(");
      t8 = text(
        /*remainingCards*/
        ctx[10]
      );
      t9 = text(" remaining)");
      t10 = space();
      if (if_block0)
        if_block0.c();
      t11 = space();
      if_block1.c();
      attr_dev(h3, "class", "svelte-1nq85fg");
      add_location(h3, file6, 145, 8, 4156);
      add_location(span0, file6, 147, 12, 4242);
      attr_dev(span1, "class", "remaining svelte-1nq85fg");
      add_location(span1, file6, 148, 12, 4308);
      attr_dev(div0, "class", "progress-info svelte-1nq85fg");
      add_location(div0, file6, 146, 8, 4202);
      attr_dev(div1, "class", "modal-header svelte-1nq85fg");
      add_location(div1, file6, 144, 4, 4121);
      attr_dev(div2, "class", "review-modal svelte-1nq85fg");
      add_location(div2, file6, 143, 0, 4090);
    },
    l: function claim(nodes) {
      throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    },
    m: function mount(target, anchor) {
      insert_dev(target, div2, anchor);
      append_dev(div2, div1);
      append_dev(div1, h3);
      append_dev(h3, t0);
      append_dev(h3, t1);
      append_dev(div1, t2);
      append_dev(div1, div0);
      append_dev(div0, span0);
      append_dev(span0, t3);
      append_dev(span0, t4);
      append_dev(span0, t5);
      append_dev(div0, t6);
      append_dev(div0, span1);
      append_dev(span1, t7);
      append_dev(span1, t8);
      append_dev(span1, t9);
      append_dev(div2, t10);
      if (if_block0)
        if_block0.m(div2, null);
      append_dev(div2, t11);
      if_block1.m(div2, null);
    },
    p: function update2(ctx2, dirty) {
      var _a2, _b2;
      if (dirty[0] & /*deck*/
      4 && t1_value !== (t1_value = /*deck*/
      ctx2[2].name + ""))
        set_data_dev(t1, t1_value);
      if (dirty[0] & /*currentIndex*/
      1 && t3_value !== (t3_value = /*currentIndex*/
      ctx2[0] + 1 + ""))
        set_data_dev(t3, t3_value);
      if (dirty[0] & /*flashcards*/
      2 && t5_value !== (t5_value = /*flashcards*/
      ctx2[1].length + ""))
        set_data_dev(t5, t5_value);
      if (dirty[0] & /*remainingCards*/
      1024)
        set_data_dev(
          t8,
          /*remainingCards*/
          ctx2[10]
        );
      if (
        /*settings*/
        ((_b2 = (_a2 = ctx2[3]) == null ? void 0 : _a2.review) == null ? void 0 : _b2.showProgress) !== false
      ) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_33(ctx2);
          if_block0.c();
          if_block0.m(div2, t11);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block1) {
        if_block1.p(ctx2, dirty);
      } else {
        if_block1.d(1);
        if_block1 = current_block_type(ctx2);
        if (if_block1) {
          if_block1.c();
          if_block1.m(div2, null);
        }
      }
    },
    i: noop,
    o: noop,
    d: function destroy(detaching) {
      if (detaching)
        detach_dev(div2);
      if (if_block0)
        if_block0.d();
      if_block1.d();
    }
  };
  dispatch_dev("SvelteRegisterBlock", {
    block,
    id: create_fragment6.name,
    type: "component",
    source: "",
    ctx
  });
  return block;
}
function instance6($$self, $$props, $$invalidate) {
  let currentCard;
  let progress;
  let remainingCards;
  let { $$slots: slots = {}, $$scope } = $$props;
  validate_slots("FlashcardReviewModal", slots, []);
  let { flashcards = [] } = $$props;
  let { deck } = $$props;
  let { currentIndex = 0 } = $$props;
  let { onClose } = $$props;
  let { onReview } = $$props;
  let { renderMarkdown } = $$props;
  let { settings } = $$props;
  let { fsrs } = $$props;
  let { onCardReviewed = void 0 } = $$props;
  const dispatch = createEventDispatcher();
  let showAnswer = false;
  let isLoading = false;
  let frontEl;
  let backEl;
  let schedulingInfo = null;
  let reviewedCount = 0;
  let cardStartTime = 0;
  let lastEventTime = 0;
  let lastEventType = "";
  function loadCard() {
    if (!currentCard)
      return;
    $$invalidate(5, showAnswer = false);
    $$invalidate(9, schedulingInfo = fsrs.getSchedulingInfo(currentCard));
    cardStartTime = Date.now();
    if (frontEl) {
      frontEl.empty();
      renderMarkdown(currentCard.front, frontEl);
    }
    tick().then(() => {
      if (backEl) {
        backEl.empty();
        renderMarkdown(currentCard.back, backEl);
      }
    });
  }
  function revealAnswer() {
    $$invalidate(5, showAnswer = true);
    tick().then(() => {
      if (backEl && currentCard) {
        backEl.empty();
        renderMarkdown(currentCard.back, backEl);
      }
    });
  }
  function handleDifficulty(difficulty) {
    return __awaiter(this, void 0, void 0, function* () {
      if (!currentCard || isLoading)
        return;
      $$invalidate(6, isLoading = true);
      try {
        const timeElapsed = Date.now() - cardStartTime;
        yield onReview(currentCard, difficulty, timeElapsed);
        reviewedCount++;
        if (onCardReviewed) {
          yield onCardReviewed(currentCard);
        }
        if (currentIndex < flashcards.length - 1) {
          $$invalidate(0, currentIndex++, currentIndex);
          loadCard();
        } else {
          dispatch("complete", {
            reason: "no-more-cards",
            reviewed: reviewedCount
          });
          onClose();
        }
      } catch (error) {
        console.error("Error reviewing card:", error);
      } finally {
        $$invalidate(6, isLoading = false);
      }
    });
  }
  function getIntervalDisplay(minutes) {
    return FSRS.getIntervalDisplay(minutes);
  }
  function handleKeydown(event) {
    if (isLoading)
      return;
    if (!showAnswer && event.key === " ") {
      event.preventDefault();
      revealAnswer();
    } else if (showAnswer) {
      switch (event.key) {
        case "1":
          handleDifficulty("again");
          break;
        case "2":
          handleDifficulty("hard");
          break;
        case "3":
        case " ":
          handleDifficulty("good");
          break;
        case "4":
          handleDifficulty("easy");
          break;
      }
    }
  }
  function handleTouchClick(callback, event) {
    const now = Date.now();
    const eventType = event.type;
    if (now - lastEventTime < 100 && lastEventType !== eventType) {
      return;
    }
    lastEventTime = now;
    lastEventType = eventType;
    callback();
  }
  onMount(() => {
    loadCard();
    window.addEventListener("keydown", handleKeydown);
    return () => {
      window.removeEventListener("keydown", handleKeydown);
    };
  });
  $$self.$$.on_mount.push(function() {
    if (deck === void 0 && !("deck" in $$props || $$self.$$.bound[$$self.$$.props["deck"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'deck'");
    }
    if (onClose === void 0 && !("onClose" in $$props || $$self.$$.bound[$$self.$$.props["onClose"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onClose'");
    }
    if (onReview === void 0 && !("onReview" in $$props || $$self.$$.bound[$$self.$$.props["onReview"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'onReview'");
    }
    if (renderMarkdown === void 0 && !("renderMarkdown" in $$props || $$self.$$.bound[$$self.$$.props["renderMarkdown"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'renderMarkdown'");
    }
    if (settings === void 0 && !("settings" in $$props || $$self.$$.bound[$$self.$$.props["settings"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'settings'");
    }
    if (fsrs === void 0 && !("fsrs" in $$props || $$self.$$.bound[$$self.$$.props["fsrs"]])) {
      console_14.warn("<FlashcardReviewModal> was created without expected prop 'fsrs'");
    }
  });
  const writable_props = [
    "flashcards",
    "deck",
    "currentIndex",
    "onClose",
    "onReview",
    "renderMarkdown",
    "settings",
    "fsrs",
    "onCardReviewed"
  ];
  Object.keys($$props).forEach((key) => {
    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$" && key !== "slot")
      console_14.warn(`<FlashcardReviewModal> was created with unknown prop '${key}'`);
  });
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      frontEl = $$value;
      $$invalidate(7, frontEl);
    });
  }
  function div3_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      backEl = $$value;
      $$invalidate(8, backEl);
    });
  }
  const click_handler = (e) => handleTouchClick(revealAnswer, e);
  const touchend_handler = (e) => handleTouchClick(revealAnswer, e);
  const click_handler_1 = (e) => handleTouchClick(() => handleDifficulty("again"), e);
  const touchend_handler_1 = (e) => handleTouchClick(() => handleDifficulty("again"), e);
  const click_handler_2 = (e) => handleTouchClick(() => handleDifficulty("hard"), e);
  const touchend_handler_2 = (e) => handleTouchClick(() => handleDifficulty("hard"), e);
  const click_handler_3 = (e) => handleTouchClick(() => handleDifficulty("good"), e);
  const touchend_handler_3 = (e) => handleTouchClick(() => handleDifficulty("good"), e);
  const click_handler_4 = (e) => handleTouchClick(() => handleDifficulty("easy"), e);
  const touchend_handler_4 = (e) => handleTouchClick(() => handleDifficulty("easy"), e);
  $$self.$$set = ($$props2) => {
    if ("flashcards" in $$props2)
      $$invalidate(1, flashcards = $$props2.flashcards);
    if ("deck" in $$props2)
      $$invalidate(2, deck = $$props2.deck);
    if ("currentIndex" in $$props2)
      $$invalidate(0, currentIndex = $$props2.currentIndex);
    if ("onClose" in $$props2)
      $$invalidate(16, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(17, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(18, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(3, settings = $$props2.settings);
    if ("fsrs" in $$props2)
      $$invalidate(19, fsrs = $$props2.fsrs);
    if ("onCardReviewed" in $$props2)
      $$invalidate(20, onCardReviewed = $$props2.onCardReviewed);
  };
  $$self.$capture_state = () => ({
    __awaiter,
    createEventDispatcher,
    onMount,
    tick,
    FSRS,
    flashcards,
    deck,
    currentIndex,
    onClose,
    onReview,
    renderMarkdown,
    settings,
    fsrs,
    onCardReviewed,
    dispatch,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    reviewedCount,
    cardStartTime,
    lastEventTime,
    lastEventType,
    loadCard,
    revealAnswer,
    handleDifficulty,
    getIntervalDisplay,
    handleKeydown,
    handleTouchClick,
    currentCard,
    remainingCards,
    progress
  });
  $$self.$inject_state = ($$props2) => {
    if ("flashcards" in $$props2)
      $$invalidate(1, flashcards = $$props2.flashcards);
    if ("deck" in $$props2)
      $$invalidate(2, deck = $$props2.deck);
    if ("currentIndex" in $$props2)
      $$invalidate(0, currentIndex = $$props2.currentIndex);
    if ("onClose" in $$props2)
      $$invalidate(16, onClose = $$props2.onClose);
    if ("onReview" in $$props2)
      $$invalidate(17, onReview = $$props2.onReview);
    if ("renderMarkdown" in $$props2)
      $$invalidate(18, renderMarkdown = $$props2.renderMarkdown);
    if ("settings" in $$props2)
      $$invalidate(3, settings = $$props2.settings);
    if ("fsrs" in $$props2)
      $$invalidate(19, fsrs = $$props2.fsrs);
    if ("onCardReviewed" in $$props2)
      $$invalidate(20, onCardReviewed = $$props2.onCardReviewed);
    if ("showAnswer" in $$props2)
      $$invalidate(5, showAnswer = $$props2.showAnswer);
    if ("isLoading" in $$props2)
      $$invalidate(6, isLoading = $$props2.isLoading);
    if ("frontEl" in $$props2)
      $$invalidate(7, frontEl = $$props2.frontEl);
    if ("backEl" in $$props2)
      $$invalidate(8, backEl = $$props2.backEl);
    if ("schedulingInfo" in $$props2)
      $$invalidate(9, schedulingInfo = $$props2.schedulingInfo);
    if ("reviewedCount" in $$props2)
      reviewedCount = $$props2.reviewedCount;
    if ("cardStartTime" in $$props2)
      cardStartTime = $$props2.cardStartTime;
    if ("lastEventTime" in $$props2)
      lastEventTime = $$props2.lastEventTime;
    if ("lastEventType" in $$props2)
      lastEventType = $$props2.lastEventType;
    if ("currentCard" in $$props2)
      $$invalidate(4, currentCard = $$props2.currentCard);
    if ("remainingCards" in $$props2)
      $$invalidate(10, remainingCards = $$props2.remainingCards);
    if ("progress" in $$props2)
      $$invalidate(11, progress = $$props2.progress);
  };
  if ($$props && "$$inject" in $$props) {
    $$self.$inject_state($$props.$$inject);
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(4, currentCard = flashcards[currentIndex] || null);
    }
    if ($$self.$$.dirty[0] & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(11, progress = flashcards.length > 0 ? currentIndex / flashcards.length * 100 : 0);
    }
    if ($$self.$$.dirty[0] & /*flashcards, currentIndex*/
    3) {
      $:
        $$invalidate(10, remainingCards = flashcards.length - currentIndex);
    }
    if ($$self.$$.dirty[0] & /*currentCard*/
    16) {
      $:
        if (currentCard) {
          loadCard();
        }
    }
  };
  return [
    currentIndex,
    flashcards,
    deck,
    settings,
    currentCard,
    showAnswer,
    isLoading,
    frontEl,
    backEl,
    schedulingInfo,
    remainingCards,
    progress,
    revealAnswer,
    handleDifficulty,
    getIntervalDisplay,
    handleTouchClick,
    onClose,
    onReview,
    renderMarkdown,
    fsrs,
    onCardReviewed,
    div0_binding,
    div3_binding,
    click_handler,
    touchend_handler,
    click_handler_1,
    touchend_handler_1,
    click_handler_2,
    touchend_handler_2,
    click_handler_3,
    touchend_handler_3,
    click_handler_4,
    touchend_handler_4
  ];
}
var FlashcardReviewModal = class extends SvelteComponentDev {
  constructor(options) {
    super(options);
    init(
      this,
      options,
      instance6,
      create_fragment6,
      safe_not_equal,
      {
        flashcards: 1,
        deck: 2,
        currentIndex: 0,
        onClose: 16,
        onReview: 17,
        renderMarkdown: 18,
        settings: 3,
        fsrs: 19,
        onCardReviewed: 20
      },
      null,
      [-1, -1]
    );
    dispatch_dev("SvelteRegisterComponent", {
      component: this,
      tagName: "FlashcardReviewModal",
      options,
      id: create_fragment6.name
    });
  }
  get flashcards() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set flashcards(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get deck() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set deck(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get currentIndex() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set currentIndex(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onClose() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onClose(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onReview() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onReview(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get renderMarkdown() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set renderMarkdown(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get settings() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set settings(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get fsrs() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set fsrs(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  get onCardReviewed() {
    throw new Error("<FlashcardReviewModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
  set onCardReviewed(value) {
    throw new Error("<FlashcardReviewModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
  }
};
var FlashcardReviewModal_default = FlashcardReviewModal;

// src/components/FlashcardReviewModalWrapper.ts
var FlashcardReviewModalWrapper = class extends import_obsidian9.Modal {
  constructor(app, deck, flashcards, fsrs, settings, reviewFlashcard, renderMarkdown, refreshStats, refreshStatsById) {
    super(app);
    this.component = null;
    this.markdownComponents = [];
    this.deck = deck;
    this.flashcards = flashcards;
    this.fsrs = fsrs;
    this.settings = settings;
    this.reviewFlashcard = reviewFlashcard;
    this.renderMarkdown = renderMarkdown;
    this.refreshStats = refreshStats;
    this.refreshStatsById = refreshStatsById;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("deck-review-modal");
    const modalEl = this.containerEl.querySelector(".modal");
    if (modalEl instanceof HTMLElement && window.innerWidth <= 768) {
      modalEl.addClass("deck-review-modal-mobile");
    }
    const container = contentEl.createDiv();
    this.component = new FlashcardReviewModal_default({
      target: container,
      props: {
        flashcards: this.flashcards,
        deck: this.deck,
        currentIndex: 0,
        onClose: () => this.close(),
        onReview: async (card, difficulty, timeElapsed) => {
          await this.reviewFlashcard(this.deck, card, difficulty, timeElapsed);
        },
        renderMarkdown: (content, el) => {
          const component = this.renderMarkdown(content, el);
          if (component) {
            this.markdownComponents.push(component);
          }
        },
        settings: this.settings,
        fsrs: this.fsrs,
        onCardReviewed: async (reviewedCard) => {
          if (reviewedCard) {
            await this.refreshStatsById(reviewedCard.deckId);
          }
        }
      }
    });
    this.component.$on("complete", async (event) => {
      var _a, _b;
      const { reason, reviewed } = event.detail;
      let message = `Review session complete for ${this.deck.name}!`;
      if (reason === "no-more-cards") {
        message = `All available cards reviewed! Completed ${reviewed} cards from ${this.deck.name}.`;
      }
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian9.Notice(message);
      }
      await this.refreshStats();
    });
    const handleResize = () => {
      const modalEl2 = this.containerEl.querySelector(".modal");
      if (modalEl2 instanceof HTMLElement) {
        if (window.innerWidth <= 768) {
          modalEl2.addClass("deck-review-modal-mobile");
        } else {
          modalEl2.removeClass("deck-review-modal-mobile");
        }
      }
    };
    window.addEventListener("resize", handleResize);
    this._resizeHandler = handleResize;
  }
  onClose() {
    if (this._resizeHandler) {
      window.removeEventListener("resize", this._resizeHandler);
      delete this._resizeHandler;
    }
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    this.refreshStats();
  }
};

// src/main.ts
var VIEW_TYPE_DECKS = "decks-view";
function deepMergeIgnoreNull(target, source) {
  if (source === null || source === void 0) {
    return target;
  }
  if (typeof source !== "object" || Array.isArray(source)) {
    return source;
  }
  const result = { ...target };
  for (const key in source) {
    if (source.hasOwnProperty(key)) {
      const sourceValue = source[key];
      if (sourceValue === null || sourceValue === void 0) {
        continue;
      }
      if (typeof sourceValue === "object" && !Array.isArray(sourceValue) && target[key]) {
        result[key] = deepMergeIgnoreNull(target[key], sourceValue);
      } else {
        result[key] = sourceValue;
      }
    }
  }
  return result;
}
var DecksPlugin = class extends import_obsidian10.Plugin {
  constructor() {
    super(...arguments);
    this.view = null;
    this.isSyncing = false;
    this.progressNotice = null;
  }
  /**
   * Helper method for timing operations
   */
  formatTime(ms) {
    if (ms < 1e3) {
      return `${ms.toFixed(2)}ms`;
    } else {
      return `${(ms / 1e3).toFixed(2)}s`;
    }
  }
  // Debug logging utility
  debugLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.enableLogging) {
      console.log(`[Decks Debug] ${message}`, ...args);
      this.writeToLogFile(message, ...args);
    }
  }
  async writeToLogFile(message, ...args) {
    try {
      const adapter = this.app.vault.adapter;
      const logPath = `${this.app.vault.configDir}/plugins/decks/debug.log`;
      const timestamp = (/* @__PURE__ */ new Date()).toISOString();
      const argsStr = args.length > 0 ? ` ${args.map(
        (arg) => typeof arg === "object" ? JSON.stringify(arg) : String(arg)
      ).join(" ")}` : "";
      const logEntry = `[${timestamp}] ${message}${argsStr}
`;
      let existingContent = "";
      if (await adapter.exists(logPath)) {
        existingContent = await adapter.read(logPath);
      }
      await adapter.write(logPath, existingContent + logEntry);
    } catch (error) {
      console.error("[Decks Debug] Failed to write to log file:", error);
    }
  }
  // Performance logging utility
  performanceLog(message, ...args) {
    var _a, _b;
    if ((_b = (_a = this.settings) == null ? void 0 : _a.debug) == null ? void 0 : _b.performanceLogs) {
      console.log(`[Decks Performance] ${message}`, ...args);
    }
  }
  // Progress tracking utility
  updateProgress(message, progress = 0) {
    if (this.progressNotice) {
      const progressBar = this.createProgressBar(progress);
      this.progressNotice.setMessage(`${message}
${progressBar}`);
    }
  }
  createProgressBar(progress) {
    const width = 25;
    const filled = Math.round(progress / 100 * width);
    const empty2 = width - filled;
    const bar = "\u2588".repeat(filled) + "\u2591".repeat(empty2);
    const percentage = Math.round(progress);
    return `[${bar}] ${percentage}%`;
  }
  showProgressNotice(message) {
    var _a, _b;
    if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
      this.progressNotice = new import_obsidian10.Notice(message, 0);
    }
  }
  hideProgressNotice() {
    if (this.progressNotice) {
      this.progressNotice.hide();
      this.progressNotice = null;
    }
  }
  async onload() {
    var _a, _b;
    this.debugLog("Loading Decks plugin");
    await this.loadSettings();
    try {
      const adapter = this.app.vault.adapter;
      const pluginDir = `${this.app.vault.configDir}/plugins/decks`;
      if (!await adapter.exists(pluginDir)) {
        await adapter.mkdir(pluginDir);
      }
      const databasePath = `${this.app.vault.configDir}/plugins/decks/flashcards.db`;
      this.db = new DatabaseService(
        databasePath,
        adapter,
        this.debugLog.bind(this)
      );
      await this.db.initialize();
      this.deckManager = new DeckManager(
        this.app.vault,
        this.app.metadataCache,
        this.db,
        this
      );
      this.registerView(
        VIEW_TYPE_DECKS,
        (leaf) => new DecksView(
          this,
          leaf,
          this.createFSRSForDeck.bind(this),
          this.settings,
          this.debugLog.bind(this),
          this.performSync.bind(this),
          this.getDecks.bind(this),
          this.getDeckStats.bind(this),
          this.getDeckStatsById.bind(this),
          this.getReviewCounts.bind(this),
          this.updateDeckConfig.bind(this),
          this.openStatisticsModal.bind(this),
          this.deckManager.syncFlashcardsForDeck.bind(this.deckManager),
          this.db.getDailyReviewCounts.bind(this.db),
          this.db.getReviewableFlashcards.bind(this.db),
          this.reviewFlashcard.bind(this),
          this.renderMarkdown.bind(this),
          (view) => {
            this.view = view;
          }
        )
      );
      this.app.workspace.onLayoutReady(() => {
        setTimeout(() => {
          this.performInitialSync();
        }, 5e3);
      });
      this.addRibbonIcon("brain", "Flashcards", () => {
        this.activateView();
      });
      this.addCommand({
        id: "show-flashcards-panel",
        name: "Show Flashcards Panel",
        callback: () => {
          this.activateView();
        }
      });
      this.registerEvent(
        this.app.vault.on("modify", async (file7) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileChange(file7);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("delete", async (file7) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileDelete(file7);
          }
        })
      );
      this.registerEvent(
        this.app.vault.on("rename", async (file7, oldPath) => {
          if (file7 instanceof import_obsidian10.TFile && file7.extension === "md") {
            await this.handleFileRename(file7, oldPath);
          }
        })
      );
      this.addSettingTab(
        new DecksSettingTab(
          this.app,
          this,
          this.settings,
          this.saveSettings.bind(this),
          this.performSync.bind(this),
          async () => {
            if (this.view) {
              await this.view.refreshStats();
            }
          },
          () => {
            if (this.view) {
              this.view.restartBackgroundRefresh();
            }
          },
          () => {
            if (this.view) {
              this.view.startBackgroundRefresh();
            }
          },
          () => {
            if (this.view) {
              this.view.stopBackgroundRefresh();
            }
          },
          this.db.purgeDatabase.bind(this.db)
        )
      );
      this.debugLog("Decks plugin loaded successfully");
    } catch (error) {
      console.error("Error loading Decks plugin:", error);
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian10.Notice("Failed to load Decks plugin. Check console for details.");
      }
    }
  }
  async onunload() {
    this.debugLog("Unloading Decks plugin");
    if (this.db) {
      await this.db.close();
    }
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = deepMergeIgnoreNull(DEFAULT_SETTINGS, loadedData);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  /**
   * Create FSRS instance for a specific deck using its configuration
   */
  createFSRSForDeck(deck) {
    return new FSRS({
      requestRetention: deck.config.fsrs.requestRetention,
      profile: deck.config.fsrs.profile
    });
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_DECKS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (leaf) {
        await leaf.setViewState({
          type: VIEW_TYPE_DECKS,
          active: true
        });
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
      const decks = await this.db.getAllDecks();
      if (decks.length === 0) {
        this.debugLog("No decks found, scheduling background sync...");
        setTimeout(() => {
          this.performInitialSync();
        }, 1e3);
      }
    }
  }
  async handleFileChange(file7) {
    const metadata = this.app.metadataCache.getFileCache(file7);
    this.debugLog(`File changed: ${file7.path}, metadata:`, metadata);
    if (!metadata)
      return;
    const allTags = [];
    if (metadata.tags) {
      allTags.push(...metadata.tags.map((t) => t.tag));
    }
    if (metadata.frontmatter && metadata.frontmatter.tags) {
      const frontmatterTags = Array.isArray(metadata.frontmatter.tags) ? metadata.frontmatter.tags : [metadata.frontmatter.tags];
      allTags.push(
        ...frontmatterTags.map(
          (tag) => tag.startsWith("#") ? tag : `#${tag}`
        )
      );
    }
    const hasFlashcardsTag = allTags.some(
      (tag) => tag.startsWith("#flashcards")
    );
    this.debugLog(`File ${file7.path} has flashcards tag:`, hasFlashcardsTag);
    if (hasFlashcardsTag) {
      const existingDeck = await this.db.getDeckByFilepath(file7.path);
      if (existingDeck) {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        if (existingDeck.tag !== newTag) {
          this.debugLog(
            `Updating deck tag from ${existingDeck.tag} to ${newTag}`
          );
          await this.db.updateDeck(existingDeck.id, { tag: newTag });
        }
        await this.deckManager.syncFlashcardsForDeck(file7.path);
        if (this.view) {
          await this.view.refreshStatsById(existingDeck.id);
        }
      } else {
        const newTag = allTags.find((tag) => tag.startsWith("#flashcards")) || "#flashcards";
        await this.deckManager.createDeckForFile(file7.path, newTag);
        await this.deckManager.syncFlashcardsForDeck(file7.path);
        if (this.view) {
          await this.view.refreshStats();
        }
      }
    }
  }
  async performInitialSync() {
    var _a, _b;
    let notice = null;
    try {
      const startTime = performance.now();
      this.debugLog("Performing initial background sync...");
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        notice = new import_obsidian10.Notice("\u{1F504} Syncing flashcards in background...", 0);
      }
      await new Promise((resolve) => setTimeout(resolve, 100));
      await this.performSync(false);
      const totalTime = performance.now() - startTime;
      this.performanceLog(
        `Initial sync completed successfully in ${this.formatTime(totalTime)}`
      );
      if (notice) {
        notice.setMessage(
          `\u2705 Flashcard sync completed (${this.formatTime(totalTime)})`
        );
        setTimeout(() => notice == null ? void 0 : notice.hide(), 3e3);
      }
    } catch (error) {
      console.error("Error during initial sync:", error);
      if (notice) {
        notice.setMessage("\u26A0\uFE0F Flashcard sync failed - check console");
        setTimeout(() => notice == null ? void 0 : notice.hide(), 5e3);
      }
    }
  }
  async performSync(forceSync = false) {
    if (this.isSyncing) {
      this.debugLog("Sync already in progress, skipping...");
      return;
    }
    this.isSyncing = true;
    const syncStartTime = performance.now();
    if (forceSync) {
      this.showProgressNotice(
        "\u{1F504} Force refreshing flashcards...\n" + this.createProgressBar(0)
      );
    }
    try {
      this.debugLog(
        `Performing ${forceSync ? "forced " : ""}sync of decks and flashcards...`
      );
      if (forceSync)
        this.updateProgress("\u{1F50D} Discovering decks...", 10);
      const decksStartTime = performance.now();
      await this.deckManager.syncDecks();
      const decksTime = performance.now() - decksStartTime;
      this.performanceLog(
        `Deck discovery completed in ${this.formatTime(decksTime)}`
      );
      const decks = await this.db.getAllDecks();
      this.debugLog(
        `Found ${decks.length} decks after sync:`,
        decks.map((d) => d.name)
      );
      if (forceSync)
        this.updateProgress(`\u{1F4DA} Processing ${decks.length} decks...`, 20);
      let totalFlashcards = 0;
      const flashcardSyncStartTime = performance.now();
      for (let i = 0; i < decks.length; i++) {
        const deck = decks[i];
        const deckStartTime = performance.now();
        if (forceSync) {
          const deckProgress = 20 + i / decks.length * 70;
          this.updateProgress(
            `\u{1F4C4} Processing deck: ${deck.name} (${i + 1}/${decks.length})`,
            deckProgress
          );
        }
        this.debugLog(
          `${forceSync ? "Force s" : "S"}yncing flashcards for deck: ${deck.name} (${deck.filepath})`
        );
        await this.deckManager.syncFlashcardsForDeck(deck.filepath, forceSync);
        const flashcards = await this.db.getFlashcardsByDeck(deck.id);
        const deckTime = performance.now() - deckStartTime;
        totalFlashcards += flashcards.length;
        this.performanceLog(
          `Deck ${deck.name} processed in ${this.formatTime(deckTime)} - ${flashcards.length} flashcards`
        );
        if (i % 5 === 4) {
          await new Promise((resolve) => setTimeout(resolve, 10));
        }
      }
      if (forceSync)
        this.updateProgress("\u2705 Finalizing sync...", 95);
      const flashcardSyncTime = performance.now() - flashcardSyncStartTime;
      const totalSyncTime = performance.now() - syncStartTime;
      this.performanceLog(
        `Flashcard processing completed in ${this.formatTime(flashcardSyncTime)}`
      );
      this.performanceLog(
        `Total sync completed in ${this.formatTime(totalSyncTime)} - ${totalFlashcards} flashcards across ${decks.length} decks`
      );
      if (decks.length > 0) {
        const avgDeckTime = flashcardSyncTime / decks.length;
        const avgFlashcardTime = totalFlashcards > 0 ? flashcardSyncTime / totalFlashcards : 0;
        this.performanceLog(
          `Performance: ${this.formatTime(avgDeckTime)}/deck, ${this.formatTime(avgFlashcardTime)}/flashcard`
        );
      }
      if (forceSync) {
        this.updateProgress(
          `\u2705 Sync complete! Processed ${totalFlashcards} flashcards across ${decks.length} decks in ${this.formatTime(totalSyncTime)}`,
          100
        );
        setTimeout(() => this.hideProgressNotice(), 3e3);
      }
    } catch (error) {
      console.error("Error during sync:", error);
      if (forceSync) {
        this.updateProgress("\u274C Sync failed - check console for details", 0);
        setTimeout(() => this.hideProgressNotice(), 5e3);
      }
      throw error;
    } finally {
      this.isSyncing = false;
    }
  }
  async handleFileDelete(file7) {
    await this.db.deleteDeckByFilepath(file7.path);
    if (this.view) {
      await this.view.refreshStats();
    }
  }
  async handleFileRename(file7, oldPath) {
    const oldDeck = await this.db.getDeckByFilepath(oldPath);
    if (oldDeck) {
      const oldDeckId = oldDeck.id;
      const newDeckId = this.deckManager.generateDeckId(file7.path);
      this.debugLog(`File renamed from ${oldPath} to ${file7.path}`);
      this.debugLog(`Updating deck ID from ${oldDeckId} to ${newDeckId}`);
      await this.db.renameDeck(oldDeckId, newDeckId, file7.basename, file7.path);
      await this.deckManager.updateFlashcardDeckIds(oldDeckId, newDeckId);
      if (this.view) {
        await this.view.refreshStats();
      }
    }
  }
  async syncDecks() {
    await this.deckManager.syncDecks();
  }
  async syncFlashcardsForDeck(deckName) {
    await this.deckManager.syncFlashcardsForDeckByName(deckName);
  }
  async getReviewCounts(days = 365) {
    return await this.db.getReviewCountsByDate(days);
  }
  async getDecks() {
    return await this.db.getAllDecks();
  }
  async getDeckStats() {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    const stats = await this.db.getAllDeckStatsFiltered(headerLevel);
    const statsMap = /* @__PURE__ */ new Map();
    for (const stat of stats) {
      statsMap.set(stat.deckId, stat);
    }
    return statsMap;
  }
  async getDueFlashcards(deckId) {
    return await this.db.getDueFlashcards(deckId);
  }
  async getFlashcardsByDeck(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    return await this.db.getFlashcardsByDeckFiltered(deckId, headerLevel);
  }
  async getReviewableFlashcards(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    return await this.db.getReviewableFlashcardsFiltered(deckId, headerLevel);
  }
  async getDailyReviewCounts(deckId) {
    return await this.db.getDailyReviewCounts(deckId);
  }
  async getDeckStatsById(deckId) {
    var _a, _b;
    const headerLevel = (_b = (_a = this.settings) == null ? void 0 : _a.parsing) == null ? void 0 : _b.headerLevel;
    const stats = await this.db.getDeckStatsFiltered(deckId, headerLevel);
    return {
      deckId,
      ...stats
    };
  }
  async updateDeckConfig(deckId, config) {
    var _a, _b;
    if (((_a = config.fsrs) == null ? void 0 : _a.profile) && !["INTENSIVE", "STANDARD"].includes(config.fsrs.profile)) {
      throw new Error(`Invalid profile: ${config.fsrs.profile}`);
    }
    if (((_b = config.fsrs) == null ? void 0 : _b.requestRetention) !== void 0) {
      const rr = config.fsrs.requestRetention;
      if (rr <= 0.5 || rr >= 0.995) {
        throw new Error(
          `requestRetention must be in range (0.5, 0.995), got ${rr}`
        );
      }
    }
    const currentConfig = await this.getDeckConfig(deckId);
    if (!currentConfig) {
      throw new Error(`Deck not found: ${deckId}`);
    }
    const updatedConfig = {
      ...currentConfig,
      ...config,
      fsrs: {
        ...currentConfig.fsrs,
        ...config.fsrs
      }
    };
    await this.db.updateDeck(deckId, { config: updatedConfig });
    if (this.view) {
      await this.view.refreshStatsById(deckId);
    }
  }
  /**
   * Get deck configuration
   */
  async getDeckConfig(deckId) {
    const decks = await this.db.getAllDecks();
    const deck = decks.find((d) => d.id === deckId);
    return deck ? deck.config : null;
  }
  /**
   * Schedule preview for a card showing all four rating outcomes
   */
  async schedulePreview(cardId, now = /* @__PURE__ */ new Date()) {
    const decks = await this.db.getAllDecks();
    let targetCard = null;
    let targetDeck = null;
    for (const deck of decks) {
      const flashcards = await this.db.getFlashcardsByDeck(deck.id);
      const card = flashcards.find((f) => f.id === cardId);
      if (card) {
        targetCard = card;
        targetDeck = deck;
        break;
      }
    }
    if (!targetCard || !targetDeck) {
      return null;
    }
    const fsrs = this.createFSRSForDeck(targetDeck);
    return fsrs.getSchedulingInfo(targetCard);
  }
  async reviewFlashcard(deck, flashcard, difficulty, timeElapsed) {
    const fsrs = this.createFSRSForDeck(deck);
    const reviewedAt = (/* @__PURE__ */ new Date()).toISOString();
    const lastReviewedAt = flashcard.lastReviewed || flashcard.dueDate;
    const elapsedDays = flashcard.lastReviewed ? Math.max(
      0,
      (new Date(reviewedAt).getTime() - new Date(flashcard.lastReviewed).getTime()) / 864e5
    ) : 0;
    const retrievability = fsrs.getRetrievability(
      flashcard,
      new Date(reviewedAt)
    );
    const updatedCard = fsrs.updateCard(flashcard, difficulty);
    const ratingMap = { again: 1, hard: 2, good: 3, easy: 4 };
    const rating = ratingMap[difficulty];
    const weightsHash = `${deck.config.fsrs.profile}-v1.0`;
    await this.db.updateFlashcard(updatedCard.id, {
      state: updatedCard.state,
      dueDate: updatedCard.dueDate,
      interval: updatedCard.interval,
      repetitions: updatedCard.repetitions,
      difficulty: updatedCard.difficulty,
      stability: updatedCard.stability,
      lapses: updatedCard.lapses,
      lastReviewed: updatedCard.lastReviewed
    });
    await this.db.createReviewLog({
      flashcardId: flashcard.id,
      // Timestamps
      lastReviewedAt,
      reviewedAt,
      timeElapsedMs: timeElapsed,
      // Rating
      rating,
      ratingLabel: difficulty,
      // Pre-state
      oldState: flashcard.state,
      oldRepetitions: flashcard.repetitions,
      oldLapses: flashcard.lapses,
      oldStability: flashcard.stability,
      oldDifficulty: flashcard.difficulty,
      // Post-state
      newState: updatedCard.state,
      newRepetitions: updatedCard.repetitions,
      newLapses: updatedCard.lapses,
      newStability: updatedCard.stability,
      newDifficulty: updatedCard.difficulty,
      // Intervals & due times
      oldIntervalMinutes: flashcard.interval,
      newIntervalMinutes: updatedCard.interval,
      oldDueAt: flashcard.dueDate,
      newDueAt: updatedCard.dueDate,
      // Derived values
      elapsedDays,
      retrievability,
      // Config snapshot
      requestRetention: deck.config.fsrs.requestRetention,
      profile: deck.config.fsrs.profile,
      maximumIntervalDays: getMaxIntervalDaysForProfile(
        deck.config.fsrs.profile
      ),
      minMinutes: getMinMinutesForProfile(deck.config.fsrs.profile),
      fsrsWeightsVersion: weightsHash,
      schedulerVersion: "1.0",
      // Content context
      contentHash: flashcard.contentHash
    });
    await this.db.updateDeckLastReviewed(flashcard.deckId);
    if (this.view) {
      await this.view.refreshStatsById(flashcard.deckId);
      await this.view.refreshHeatmap();
    }
  }
  async getOverallStatistics(deckFilter = "all", timeframe = "12months") {
    return await this.db.getOverallStatistics(deckFilter, timeframe);
  }
  openStatisticsModal() {
    const modal = new StatisticsModal(this);
    modal.open();
  }
  renderMarkdown(content, el) {
    const component = new import_obsidian10.Component();
    component.load();
    import_obsidian10.MarkdownRenderer.renderMarkdown(content, el, "", component);
    return component;
  }
};
var DecksView = class extends import_obsidian10.ItemView {
  constructor(plugin, leaf, createFSRSForDeck, settings, debugLog, performSync, getDecks, getDeckStats, getDeckStatsById, getReviewCounts, updateDeckConfig, openStatisticsModal, syncFlashcardsForDeck, getDailyReviewCounts, getReviewableFlashcards, reviewFlashcard, renderMarkdown, setViewReference) {
    super(leaf);
    this.component = null;
    this.markdownComponents = [];
    this.statsRefreshTimeout = null;
    this.backgroundRefreshInterval = null;
    this.plugin = plugin;
    this.createFSRSForDeck = createFSRSForDeck;
    this.settings = settings;
    this.debugLog = debugLog;
    this.performSync = performSync;
    this.getDecks = getDecks;
    this.getDeckStats = getDeckStats;
    this.getDeckStatsById = getDeckStatsById;
    this.getReviewCounts = getReviewCounts;
    this.updateDeckConfig = updateDeckConfig;
    this.openStatisticsModal = openStatisticsModal;
    this.syncFlashcardsForDeck = syncFlashcardsForDeck;
    this.getDailyReviewCounts = getDailyReviewCounts;
    this.getReviewableFlashcards = getReviewableFlashcards;
    this.reviewFlashcard = reviewFlashcard;
    this.renderMarkdown = renderMarkdown;
    this.setViewReference = setViewReference;
    this.setViewReference(this);
  }
  getViewType() {
    return VIEW_TYPE_DECKS;
  }
  getDisplayText() {
    return "Decks";
  }
  getIcon() {
    return "brain";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("decks-view");
    this.component = new DeckListPanel_default({
      target: container,
      props: {
        onDeckClick: (deck) => this.startReview(deck),
        onRefresh: async () => {
          this.debugLog("onRefresh callback invoked");
          await this.refresh(true);
        },
        getReviewCounts: async (days) => {
          return await this.getReviewCounts(days);
        },
        onUpdateDeckConfig: async (deckId, config) => {
          await this.updateDeckConfig(deckId, config);
        },
        onOpenStatistics: () => {
          this.openStatisticsModal();
        },
        plugin: this.plugin
      }
    });
    await this.refresh(true);
    if (this.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async onClose() {
    if (this.component) {
      this.component.$destroy();
      this.component = null;
    }
    if (this.statsRefreshTimeout) {
      clearTimeout(this.statsRefreshTimeout);
      this.statsRefreshTimeout = null;
    }
    this.stopBackgroundRefresh();
    this.markdownComponents.forEach((comp) => comp.unload());
    this.markdownComponents = [];
    this.setViewReference(null);
  }
  async update(updatedDecks, deckStats) {
    var _a, _b;
    (_a = this.component) == null ? void 0 : _a.updateDecks(updatedDecks);
    (_b = this.component) == null ? void 0 : _b.updateStats(deckStats);
  }
  async refresh(force = false) {
    var _a, _b;
    this.debugLog("DecksView.refresh() called");
    try {
      await this.performSync(force);
      const updatedDecks = await this.getDecks();
      const deckStats = await this.getDeckStats();
      this.update(updatedDecks, deckStats);
      this.debugLog("Refresh complete");
    } catch (error) {
      console.error("Error refreshing decks:", error);
      if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
        new import_obsidian10.Notice("Error refreshing decks. Check console for details.");
      }
    }
  }
  async refreshStats() {
    this.debugLog("DecksView.refreshStats() executing");
    try {
      const deckStats = await this.getDeckStats();
      this.debugLog("Updated deck stats:", deckStats);
      if (this.component) {
        this.component.updateStats(deckStats);
      }
    } catch (error) {
      console.error("Error refreshing stats:", error);
    }
  }
  async refreshStatsById(deckId) {
    this.debugLog(`DecksView.refreshStatsById() executing for deck: ${deckId}`);
    try {
      const deckStats = await this.getDeckStatsById(deckId);
      this.debugLog("Updated all deck stats");
      if (this.component && deckStats) {
        this.component.updateStatsById(deckId, deckStats);
      }
    } catch (error) {
      console.error("Error refreshing stats by ID:", error);
    }
  }
  startBackgroundRefresh() {
    if (!this.settings.ui.enableBackgroundRefresh) {
      return;
    }
    this.stopBackgroundRefresh();
    this.debugLog(
      `Starting background refresh job (every ${this.settings.ui.backgroundRefreshInterval} seconds)`
    );
    this.backgroundRefreshInterval = setInterval(async () => {
      this.debugLog("Background refresh tick");
      this.refresh();
    }, this.settings.ui.backgroundRefreshInterval * 1e3);
  }
  stopBackgroundRefresh() {
    if (this.backgroundRefreshInterval) {
      this.debugLog("Stopping background refresh job");
      clearInterval(this.backgroundRefreshInterval);
      this.backgroundRefreshInterval = null;
    }
  }
  restartBackgroundRefresh() {
    this.stopBackgroundRefresh();
    if (this.settings.ui.enableBackgroundRefresh) {
      this.startBackgroundRefresh();
    }
  }
  async refreshHeatmap() {
    if (this.component) {
      this.component.refreshHeatmap();
    }
  }
  // Test method to check if background job is running
  checkBackgroundJobStatus() {
    this.debugLog("Background job status:", {
      isRunning: !!this.backgroundRefreshInterval,
      intervalId: this.backgroundRefreshInterval,
      componentExists: !!this.component,
      refreshInterval: this.settings.ui.backgroundRefreshInterval
    });
  }
  async startReview(deck) {
    var _a, _b, _c, _d, _e, _f;
    try {
      this.debugLog(`Syncing cards for deck before review: ${deck.name}`);
      await this.syncFlashcardsForDeck(deck.name);
      const dailyCounts = await this.getDailyReviewCounts(deck.id);
      const config = deck.config;
      const remainingNew = config.enableNewCardsLimit ? Math.max(0, config.newCardsLimit - dailyCounts.newCount) : "unlimited";
      const remainingReview = config.enableReviewCardsLimit ? Math.max(0, config.reviewCardsLimit - dailyCounts.reviewCount) : "unlimited";
      const flashcards = await this.getReviewableFlashcards(deck.id);
      if (flashcards.length === 0) {
        let message = `No cards due for review in ${deck.name}`;
        const newLimitReached = config.enableNewCardsLimit && remainingNew === 0;
        const reviewLimitReached = config.enableReviewCardsLimit && remainingReview === 0;
        if (newLimitReached && reviewLimitReached) {
          message += `

Daily limits reached:`;
          message += `
New cards: ${config.newCardsLimit}/${config.newCardsLimit}`;
          message += `
Review cards: ${config.reviewCardsLimit}/${config.reviewCardsLimit}`;
        } else if (newLimitReached) {
          message += `

Daily new cards limit reached: ${config.newCardsLimit}/${config.newCardsLimit}`;
        } else if (reviewLimitReached) {
          message += `

Daily review cards limit reached: ${config.reviewCardsLimit}/${config.reviewCardsLimit}`;
        }
        if (((_b = (_a = this.settings) == null ? void 0 : _a.ui) == null ? void 0 : _b.enableNotices) !== false) {
          new import_obsidian10.Notice(message);
        }
        return;
      }
      if (config.enableNewCardsLimit || config.enableReviewCardsLimit) {
        let limitInfo = `Daily progress for ${deck.name}:
`;
        if (config.enableNewCardsLimit) {
          if (dailyCounts.newCount >= config.newCardsLimit) {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsLimit} (LIMIT EXCEEDED)
`;
          } else {
            limitInfo += `New cards: ${dailyCounts.newCount}/${config.newCardsLimit} (${remainingNew} remaining)
`;
          }
        }
        if (config.enableReviewCardsLimit) {
          if (dailyCounts.reviewCount >= config.reviewCardsLimit) {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsLimit} (LIMIT EXCEEDED)`;
          } else {
            limitInfo += `Review cards: ${dailyCounts.reviewCount}/${config.reviewCardsLimit} (${remainingReview} remaining)`;
          }
        }
        const newLimitExceeded = config.enableNewCardsLimit && dailyCounts.newCount >= config.newCardsLimit;
        const reviewLimitExceeded = config.enableReviewCardsLimit && dailyCounts.reviewCount >= config.reviewCardsLimit;
        if (newLimitExceeded || reviewLimitExceeded) {
          limitInfo += `

Note: Only learning cards will be shown (limits exceeded)`;
        }
        if (((_d = (_c = this.settings) == null ? void 0 : _c.ui) == null ? void 0 : _d.enableNotices) !== false) {
          new import_obsidian10.Notice(limitInfo, 5e3);
        }
      }
      new FlashcardReviewModalWrapper(
        this.app,
        deck,
        flashcards,
        this.createFSRSForDeck(deck),
        this.settings,
        this.reviewFlashcard.bind(this),
        this.renderMarkdown,
        this.refresh.bind(this),
        this.refreshStatsById.bind(this)
      ).open();
    } catch (error) {
      console.error("Error starting review:", error);
      if (((_f = (_e = this.settings) == null ? void 0 : _e.ui) == null ? void 0 : _f.enableNotices) !== false) {
        new import_obsidian10.Notice("Error starting review. Check console for details.");
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NxbC5qcy9kaXN0L3NxbC13YXNtLmpzIiwgIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9EYXRhYmFzZVNlcnZpY2UudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2FsZ29yaXRobS9mc3JzLXdlaWdodHMudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2RhdGFiYXNlL3R5cGVzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9zY2hlbWFzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9kYXRhYmFzZS9taWdyYXRpb25zLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9EZWNrTWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvYWxnb3JpdGhtL2ZzcnMudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1NldHRpbmdzVGFiLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1Jldmlld0hlYXRtYXAuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tDb25maWdNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9EZWNrQ29uZmlnVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0Fua2lFeHBvcnRNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BbmtpRXhwb3J0VUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RlY2tMaXN0UGFuZWwuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1N0YXRpc3RpY3NNb2RhbC50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9TdGF0aXN0aWNzVUkuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0ZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9GbGFzaGNhcmRSZXZpZXdNb2RhbC5zdmVsdGUiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxuLy8gV2UgYXJlIG1vZHVsYXJpemluZyB0aGlzIG1hbnVhbGx5IGJlY2F1c2UgdGhlIGN1cnJlbnQgbW9kdWxhcml6ZSBzZXR0aW5nIGluIEVtc2NyaXB0ZW4gaGFzIHNvbWUgaXNzdWVzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXBrZW4vZW1zY3JpcHRlbi9pc3N1ZXMvNTgyMFxuLy8gSW4gYWRkaXRpb24sIFdoZW4geW91IHVzZSBlbWNjJ3MgbW9kdWxhcml6YXRpb24sIGl0IHN0aWxsIGV4cGVjdHMgdG8gZXhwb3J0IGEgZ2xvYmFsIG9iamVjdCBjYWxsZWQgYE1vZHVsZWAsXG4vLyB3aGljaCBpcyBhYmxlIHRvIGJlIHVzZWQvY2FsbGVkIGJlZm9yZSB0aGUgV0FTTSBpcyBsb2FkZWQuXG4vLyBUaGUgbW9kdWxhcml6YXRpb24gYmVsb3cgZXhwb3J0cyBhIHByb21pc2UgdGhhdCBsb2FkcyBhbmQgcmVzb2x2ZXMgdG8gdGhlIGFjdHVhbCBzcWwuanMgbW9kdWxlLlxuLy8gVGhhdCB3YXksIHRoaXMgbW9kdWxlIGNhbid0IGJlIHVzZWQgYmVmb3JlIHRoZSBXQVNNIGlzIGZpbmlzaGVkIGxvYWRpbmcuXG5cbi8vIFdlIGFyZSBnb2luZyB0byBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IGEgdXNlciB3aWxsIGNhbGwgdG8gc3RhcnQgbG9hZGluZyBpbml0aWFsaXppbmcgb3VyIFNxbC5qcyBsaWJyYXJ5XG4vLyBIb3dldmVyLCB0aGF0IGZ1bmN0aW9uIG1pZ2h0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIG9uIHN1YnNlcXVlbnQgY2FsbHMsIHdlIGRvbid0IGFjdHVhbGx5IHdhbnQgaXQgdG8gaW5zdGFudGlhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIE1vZHVsZVxuLy8gSW5zdGVhZCwgd2Ugd2FudCB0byByZXR1cm4gdGhlIHByZXZpb3VzbHkgbG9hZGVkIG1vZHVsZVxuXG4vLyBUT0RPOiBNYWtlIHRoaXMgbm90IGRlY2xhcmUgYSBnbG9iYWwgaWYgdXNlZCBpbiB0aGUgYnJvd3NlclxudmFyIGluaXRTcWxKc1Byb21pc2UgPSB1bmRlZmluZWQ7XG5cbnZhciBpbml0U3FsSnMgPSBmdW5jdGlvbiAobW9kdWxlQ29uZmlnKSB7XG5cbiAgICBpZiAoaW5pdFNxbEpzUHJvbWlzZSl7XG4gICAgICByZXR1cm4gaW5pdFNxbEpzUHJvbWlzZTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgaGVyZSwgd2UndmUgbmV2ZXIgY2FsbGVkIHRoaXMgZnVuY3Rpb24gYmVmb3JlXG4gICAgaW5pdFNxbEpzUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlTW9kdWxlLCByZWplY3QpIHtcblxuICAgICAgICAvLyBXZSBhcmUgbW9kdWxhcml6aW5nIHRoaXMgbWFudWFsbHkgYmVjYXVzZSB0aGUgY3VycmVudCBtb2R1bGFyaXplIHNldHRpbmcgaW4gRW1zY3JpcHRlbiBoYXMgc29tZSBpc3N1ZXM6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlwa2VuL2Vtc2NyaXB0ZW4vaXNzdWVzLzU4MjBcblxuICAgICAgICAvLyBUaGUgd2F5IHRvIGFmZmVjdCB0aGUgbG9hZGluZyBvZiBlbWNjIGNvbXBpbGVkIG1vZHVsZXMgaXMgdG8gY3JlYXRlIGEgdmFyaWFibGUgY2FsbGVkIGBNb2R1bGVgIGFuZCBhZGRcbiAgICAgICAgLy8gcHJvcGVydGllcyB0byBpdCwgbGlrZSBgcHJlUnVuYCwgYHBvc3RSdW5gLCBldGNcbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIHRoYXQgdG8gZ2V0IG5vdGlmaWVkIHdoZW4gdGhlIFdBU00gaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICAgIC8vIE9ubHkgdGhlbiB3aWxsIHdlIHJldHVybiBvdXIgcHJvbWlzZVxuXG4gICAgICAgIC8vIElmIHRoZXkgcGFzc2VkIGluIGEgbW9kdWxlQ29uZmlnIG9iamVjdCwgdXNlIHRoYXRcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpbml0aWFsaXplIE1vZHVsZSB0byB0aGUgZW1wdHkgb2JqZWN0XG4gICAgICAgIHZhciBNb2R1bGUgPSB0eXBlb2YgbW9kdWxlQ29uZmlnICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZUNvbmZpZyA6IHt9O1xuXG4gICAgICAgIC8vIEVNQ0Mgb25seSBhbGxvd3MgZm9yIGEgc2luZ2xlIG9uQWJvcnQgZnVuY3Rpb24gKG5vdCBhbiBhcnJheSBvZiBmdW5jdGlvbnMpXG4gICAgICAgIC8vIFNvIGlmIHRoZSB1c2VyIGRlZmluZWQgdGhlaXIgb3duIG9uQWJvcnQgZnVuY3Rpb24sIHdlIHJlbWVtYmVyIGl0IGFuZCBjYWxsIGl0XG4gICAgICAgIHZhciBvcmlnaW5hbE9uQWJvcnRGdW5jdGlvbiA9IE1vZHVsZVsnb25BYm9ydCddO1xuICAgICAgICBNb2R1bGVbJ29uQWJvcnQnXSA9IGZ1bmN0aW9uIChlcnJvclRoYXRDYXVzZWRBYm9ydCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvclRoYXRDYXVzZWRBYm9ydCkpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsT25BYm9ydEZ1bmN0aW9uKXtcbiAgICAgICAgICAgICAgb3JpZ2luYWxPbkFib3J0RnVuY3Rpb24oZXJyb3JUaGF0Q2F1c2VkQWJvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gTW9kdWxlWydwb3N0UnVuJ10gfHwgW107XG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gV2hlbiBFbXNjcmlwdGVkIGNhbGxzIHBvc3RSdW4sIHRoaXMgcHJvbWlzZSByZXNvbHZlcyB3aXRoIHRoZSBidWlsdCBNb2R1bGVcbiAgICAgICAgICAgIHJlc29sdmVNb2R1bGUoTW9kdWxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBzZWN0aW9uIG9mIGNvZGUgaW4gdGhlIGVtY2MtZ2VuZXJhdGVkIGNvZGUgYmVsb3cgdGhhdCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIChOb3RlIHRoYXQgdGhpcyBpcyBsb3dlcmNhc2UgYG1vZHVsZWApXG4gICAgICAgIC8vIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBNb2R1bGU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gV2hlbiB0aGF0IHJ1bnMsIGl0J3MgZ29pbmcgdG8gb3ZlcndyaXRlIG91ciBvd24gbW9kdWxhcml6YXRpb24gZXhwb3J0IGVmZm9ydHMgaW4gc2hlbGwtcG9zdC5qcyFcbiAgICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHRlbGwgZW1jYyBub3QgdG8gZW1pdCBpdCBpcyB0byBwYXNzIHRoZSBNT0RVTEFSSVpFPTEgb3IgTU9EVUxBUklaRV9JTlNUQU5DRT0xIGZsYWdzLFxuICAgICAgICAvLyBidXQgdGhhdCBjYXJyaWVzIHdpdGggaXQgYWRkaXRpb25hbCB1bm5lY2Vzc2FyeSBiYWdnYWdlL2J1Z3Mgd2UgZG9uJ3Qgd2FudCBlaXRoZXIuXG4gICAgICAgIC8vIFNvLCB3ZSBoYXZlIHRocmVlIG9wdGlvbnM6XG4gICAgICAgIC8vIDEpIFdlIHVuZGVmaW5lIGBtb2R1bGVgXG4gICAgICAgIC8vIDIpIFdlIHJlbWVtYmVyIHdoYXQgYG1vZHVsZVsnZXhwb3J0cyddYCB3YXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGZ1bmN0aW9uIGFuZCB3ZSByZXN0b3JlIGl0IGxhdGVyXG4gICAgICAgIC8vIDMpIFdlIHdyaXRlIGEgc2NyaXB0IHRvIHJlbW92ZSB0aG9zZSBsaW5lcyBvZiBjb2RlIGFzIHBhcnQgb2YgdGhlIE1ha2UgcHJvY2Vzcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2luY2UgdGhvc2UgYXJlIHRoZSBvbmx5IGxpbmVzIG9mIGNvZGUgdGhhdCBjYXJlIGFib3V0IG1vZHVsZSwgd2Ugd2lsbCB1bmRlZmluZSBpdC4gSXQncyB0aGUgbW9zdCBzdHJhaWdodGZvcndhcmRcbiAgICAgICAgLy8gb2YgdGhlIG9wdGlvbnMsIGFuZCBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIHJlZHVjaW5nIGVtY2MncyBlZmZvcnRzIHRvIG1vZGlmeSB0aGUgbW9kdWxlIGlmIGl0cyBvdXRwdXQgd2VyZSB0byBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgLy8gVGhhdCdzIGEgbmljZSBzaWRlIGVmZmVjdCBzaW5jZSB3ZSdyZSBoYW5kbGluZyB0aGUgbW9kdWxhcml6YXRpb24gZWZmb3J0cyBvdXJzZWx2ZXNcbiAgICAgICAgbW9kdWxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRoZSBlbWNjLWdlbmVyYXRlZCBjb2RlIGFuZCBzaGVsbC1wb3N0LmpzIGNvZGUgZ29lcyBiZWxvdyxcbiAgICAgICAgLy8gbWVhbmluZyB0aGF0IGFsbCBvZiBpdCBydW5zIGluc2lkZSBvZiB0aGlzIHByb21pc2UuIElmIGFueXRoaW5nIHRocm93cyBhbiBleGNlcHRpb24sIG91ciBwcm9taXNlIHdpbGwgYWJvcnRcbnZhciBmO2Z8fD10eXBlb2YgTW9kdWxlICE9ICd1bmRlZmluZWQnID8gTW9kdWxlIDoge307dmFyIGFhPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3csYmE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlLGNhPVwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcIm9iamVjdFwiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmXCJzdHJpbmdcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSYmXCJyZW5kZXJlclwiIT1wcm9jZXNzLnR5cGU7XCJ1c2Ugc3RyaWN0XCI7XG5mLm9uUnVudGltZUluaXRpYWxpemVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnLGwpe3N3aXRjaCh0eXBlb2YgbCl7Y2FzZSBcImJvb2xlYW5cIjpkYyhnLGw/MTowKTticmVhaztjYXNlIFwibnVtYmVyXCI6ZWMoZyxsKTticmVhaztjYXNlIFwic3RyaW5nXCI6ZmMoZyxsLC0xLC0xKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09PWwpbGIoZyk7ZWxzZSBpZihudWxsIT1sLmxlbmd0aCl7dmFyIG49ZGEobCxlYSk7Z2MoZyxuLGwubGVuZ3RoLC0xKTtmYShuKX1lbHNlIHZhKGcsXCJXcm9uZyBBUEkgdXNlIDogdHJpZWQgdG8gcmV0dXJuIGEgdmFsdWUgb2YgYW4gdW5rbm93biB0eXBlIChcIitsK1wiKS5cIiwtMSk7YnJlYWs7ZGVmYXVsdDpsYihnKX19ZnVuY3Rpb24gYihnLGwpe2Zvcih2YXIgbj1bXSxyPTA7cjxnO3IrPTEpe3ZhciB0PW0obCs0KnIsXCJpMzJcIikseT1oYyh0KTtpZigxPT09eXx8Mj09PXkpdD1pYyh0KTtlbHNlIGlmKDM9PT15KXQ9amModCk7ZWxzZSBpZig0PT09eSl7eT10O1xudD1rYyh5KTt5PWxjKHkpO2Zvcih2YXIgTD1uZXcgVWludDhBcnJheSh0KSxKPTA7Sjx0O0orPTEpTFtKXT1wW3krSl07dD1MfWVsc2UgdD1udWxsO24ucHVzaCh0KX1yZXR1cm4gbn1mdW5jdGlvbiBjKGcsbCl7dGhpcy5RYT1nO3RoaXMuZGI9bDt0aGlzLk9hPTE7dGhpcy5sYj1bXX1mdW5jdGlvbiBkKGcsbCl7dGhpcy5kYj1sO2w9aGEoZykrMTt0aGlzLmViPWlhKGwpO2lmKG51bGw9PT10aGlzLmViKXRocm93IEVycm9yKFwiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIFNRTCBzdHJpbmdcIik7dShnLHgsdGhpcy5lYixsKTt0aGlzLmtiPXRoaXMuZWI7dGhpcy5aYT10aGlzLnBiPW51bGx9ZnVuY3Rpb24gZShnKXt0aGlzLmZpbGVuYW1lPVwiZGJmaWxlX1wiKyg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCk+Pj4wKTtpZihudWxsIT1nKXt2YXIgbD10aGlzLmZpbGVuYW1lLG49XCIvXCIscj1sO24mJihuPVwic3RyaW5nXCI9PXR5cGVvZiBuP246amEobikscj1sP2thKG4rXCIvXCIrbCk6XG5uKTtsPWxhKCEwLCEwKTtyPW1hKHIsbCk7aWYoZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGcpe249QXJyYXkoZy5sZW5ndGgpO2Zvcih2YXIgdD0wLHk9Zy5sZW5ndGg7dDx5OysrdCluW3RdPWcuY2hhckNvZGVBdCh0KTtnPW59bmEocixsfDE0Nik7bj1vYShyLDU3Nyk7cGEobixnLDAsZy5sZW5ndGgsMCk7cWEobik7bmEocixsKX19dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsaCkpO3RoaXMuZGI9bShoLFwiaTMyXCIpO29iKHRoaXMuZGIpO3RoaXMuZmI9e307dGhpcy5TYT17fX12YXIgaD16KDQpLGs9Zi5jd3JhcCxxPWsoXCJzcWxpdGUzX29wZW5cIixcIm51bWJlclwiLFtcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx3PWsoXCJzcWxpdGUzX2Nsb3NlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHY9ayhcInNxbGl0ZTNfZXhlY1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLEM9ayhcInNxbGl0ZTNfY2hhbmdlc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxcbkc9ayhcInNxbGl0ZTNfcHJlcGFyZV92MlwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHBiPWsoXCJzcWxpdGUzX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxuYz1rKFwic3FsaXRlM19ub3JtYWxpemVkX3NxbFwiLFwic3RyaW5nXCIsW1wibnVtYmVyXCJdKSxxYj1rKFwic3FsaXRlM19wcmVwYXJlX3YyXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSksb2M9ayhcInNxbGl0ZTNfYmluZF90ZXh0XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscmI9ayhcInNxbGl0ZTNfYmluZF9ibG9iXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSkscGM9ayhcInNxbGl0ZTNfYmluZF9kb3VibGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHFjPWsoXCJzcWxpdGUzX2JpbmRfaW50XCIsXG5cIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0pLHJjPWsoXCJzcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2luZGV4XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiXSksc2M9ayhcInNxbGl0ZTNfc3RlcFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yz1rKFwic3FsaXRlM19lcnJtc2dcIixcInN0cmluZ1wiLFtcIm51bWJlclwiXSksdWM9ayhcInNxbGl0ZTNfY29sdW1uX2NvdW50XCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZjPWsoXCJzcWxpdGUzX2RhdGFfY291bnRcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksd2M9ayhcInNxbGl0ZTNfY29sdW1uX2RvdWJsZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIl0pLHNiPWsoXCJzcWxpdGUzX2NvbHVtbl90ZXh0XCIsXCJzdHJpbmdcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSkseGM9ayhcInNxbGl0ZTNfY29sdW1uX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSx5Yz1rKFwic3FsaXRlM19jb2x1bW5fYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFxuXCJudW1iZXJcIl0pLHpjPWsoXCJzcWxpdGUzX2NvbHVtbl90eXBlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksQWM9ayhcInNxbGl0ZTNfY29sdW1uX25hbWVcIixcInN0cmluZ1wiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxCYz1rKFwic3FsaXRlM19yZXNldFwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxDYz1rKFwic3FsaXRlM19jbGVhcl9iaW5kaW5nc1wiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSxEYz1rKFwic3FsaXRlM19maW5hbGl6ZVwiLFwibnVtYmVyXCIsW1wibnVtYmVyXCJdKSx0Yj1rKFwic3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjJcIixcIm51bWJlclwiLFwibnVtYmVyIHN0cmluZyBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXIgbnVtYmVyIG51bWJlciBudW1iZXJcIi5zcGxpdChcIiBcIikpLGhjPWsoXCJzcWxpdGUzX3ZhbHVlX3R5cGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksa2M9ayhcInNxbGl0ZTNfdmFsdWVfYnl0ZXNcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksamM9ayhcInNxbGl0ZTNfdmFsdWVfdGV4dFwiLFxuXCJzdHJpbmdcIixbXCJudW1iZXJcIl0pLGxjPWsoXCJzcWxpdGUzX3ZhbHVlX2Jsb2JcIixcIm51bWJlclwiLFtcIm51bWJlclwiXSksaWM9ayhcInNxbGl0ZTNfdmFsdWVfZG91YmxlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLGVjPWsoXCJzcWxpdGUzX3Jlc3VsdF9kb3VibGVcIixcIlwiLFtcIm51bWJlclwiLFwibnVtYmVyXCJdKSxsYj1rKFwic3FsaXRlM19yZXN1bHRfbnVsbFwiLFwiXCIsW1wibnVtYmVyXCJdKSxmYz1rKFwic3FsaXRlM19yZXN1bHRfdGV4dFwiLFwiXCIsW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxnYz1rKFwic3FsaXRlM19yZXN1bHRfYmxvYlwiLFwiXCIsW1wibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKSxkYz1rKFwic3FsaXRlM19yZXN1bHRfaW50XCIsXCJcIixbXCJudW1iZXJcIixcIm51bWJlclwiXSksdmE9ayhcInNxbGl0ZTNfcmVzdWx0X2Vycm9yXCIsXCJcIixbXCJudW1iZXJcIixcInN0cmluZ1wiLFwibnVtYmVyXCJdKSx1Yj1rKFwic3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dFwiLFwibnVtYmVyXCIsXG5bXCJudW1iZXJcIixcIm51bWJlclwiXSksb2I9ayhcIlJlZ2lzdGVyRXh0ZW5zaW9uRnVuY3Rpb25zXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIl0pLHZiPWsoXCJzcWxpdGUzX3VwZGF0ZV9ob29rXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdKTtjLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGcpe2lmKCF0aGlzLlFhKXRocm93XCJTdGF0ZW1lbnQgY2xvc2VkXCI7dGhpcy5yZXNldCgpO3JldHVybiBBcnJheS5pc0FycmF5KGcpP3RoaXMuQ2IoZyk6bnVsbCE9ZyYmXCJvYmplY3RcIj09PXR5cGVvZiBnP3RoaXMuRGIoZyk6ITB9O2MucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24oKXtpZighdGhpcy5RYSl0aHJvd1wiU3RhdGVtZW50IGNsb3NlZFwiO3RoaXMuT2E9MTt2YXIgZz1zYyh0aGlzLlFhKTtzd2l0Y2goZyl7Y2FzZSAxMDA6cmV0dXJuITA7Y2FzZSAxMDE6cmV0dXJuITE7ZGVmYXVsdDp0aHJvdyB0aGlzLmRiLmhhbmRsZUVycm9yKGcpO319O2MucHJvdG90eXBlLndiPWZ1bmN0aW9uKGcpe251bGw9PVxuZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtyZXR1cm4gd2ModGhpcy5RYSxnKX07Yy5wcm90b3R5cGUuR2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTtnPXNiKHRoaXMuUWEsZyk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIEJpZ0ludCl0aHJvdyBFcnJvcihcIkJpZ0ludCBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBCaWdJbnQoZyl9O2MucHJvdG90eXBlLkhiPWZ1bmN0aW9uKGcpe251bGw9PWcmJihnPXRoaXMuT2EsdGhpcy5PYSs9MSk7cmV0dXJuIHNiKHRoaXMuUWEsZyl9O2MucHJvdG90eXBlLmdldEJsb2I9ZnVuY3Rpb24oZyl7bnVsbD09ZyYmKGc9dGhpcy5PYSx0aGlzLk9hKz0xKTt2YXIgbD15Yyh0aGlzLlFhLGcpO2c9eGModGhpcy5RYSxnKTtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkobCkscj0wO3I8bDtyKz0xKW5bcl09cFtnK3JdO3JldHVybiBufTtjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZyxsKXtsPWx8fHt9O251bGwhPWcmJlxudGhpcy5iaW5kKGcpJiZ0aGlzLnN0ZXAoKTtnPVtdO2Zvcih2YXIgbj12Yyh0aGlzLlFhKSxyPTA7cjxuO3IrPTEpc3dpdGNoKHpjKHRoaXMuUWEscikpe2Nhc2UgMTp2YXIgdD1sLnVzZUJpZ0ludD90aGlzLkdiKHIpOnRoaXMud2Iocik7Zy5wdXNoKHQpO2JyZWFrO2Nhc2UgMjpnLnB1c2godGhpcy53YihyKSk7YnJlYWs7Y2FzZSAzOmcucHVzaCh0aGlzLkhiKHIpKTticmVhaztjYXNlIDQ6Zy5wdXNoKHRoaXMuZ2V0QmxvYihyKSk7YnJlYWs7ZGVmYXVsdDpnLnB1c2gobnVsbCl9cmV0dXJuIGd9O2MucHJvdG90eXBlLmdldENvbHVtbk5hbWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBnPVtdLGw9dWModGhpcy5RYSksbj0wO248bDtuKz0xKWcucHVzaChBYyh0aGlzLlFhLG4pKTtyZXR1cm4gZ307Yy5wcm90b3R5cGUuZ2V0QXNPYmplY3Q9ZnVuY3Rpb24oZyxsKXtnPXRoaXMuZ2V0KGcsbCk7bD10aGlzLmdldENvbHVtbk5hbWVzKCk7Zm9yKHZhciBuPXt9LHI9MDtyPGwubGVuZ3RoO3IrPVxuMSluW2xbcl1dPWdbcl07cmV0dXJuIG59O2MucHJvdG90eXBlLmdldFNRTD1mdW5jdGlvbigpe3JldHVybiBwYih0aGlzLlFhKX07Yy5wcm90b3R5cGUuZ2V0Tm9ybWFsaXplZFNRTD1mdW5jdGlvbigpe3JldHVybiBuYyh0aGlzLlFhKX07Yy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcpe251bGwhPWcmJnRoaXMuYmluZChnKTt0aGlzLnN0ZXAoKTtyZXR1cm4gdGhpcy5yZXNldCgpfTtjLnByb3RvdHlwZS5zYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7Zz1yYShnKTt2YXIgbj1kYShnLGVhKTt0aGlzLmxiLnB1c2gobik7dGhpcy5kYi5oYW5kbGVFcnJvcihvYyh0aGlzLlFhLGwsbixnLmxlbmd0aC0xLDApKX07Yy5wcm90b3R5cGUuQmI9ZnVuY3Rpb24oZyxsKXtudWxsPT1sJiYobD10aGlzLk9hLHRoaXMuT2ErPTEpO3ZhciBuPWRhKGcsZWEpO3RoaXMubGIucHVzaChuKTt0aGlzLmRiLmhhbmRsZUVycm9yKHJiKHRoaXMuUWEsbCxuLGcubGVuZ3RoLFxuMCkpfTtjLnByb3RvdHlwZS5yYj1mdW5jdGlvbihnLGwpe251bGw9PWwmJihsPXRoaXMuT2EsdGhpcy5PYSs9MSk7dGhpcy5kYi5oYW5kbGVFcnJvcigoZz09PShnfDApP3FjOnBjKSh0aGlzLlFhLGwsZykpfTtjLnByb3RvdHlwZS5FYj1mdW5jdGlvbihnKXtudWxsPT1nJiYoZz10aGlzLk9hLHRoaXMuT2ErPTEpO3JiKHRoaXMuUWEsZywwLDAsMCl9O2MucHJvdG90eXBlLnRiPWZ1bmN0aW9uKGcsbCl7bnVsbD09bCYmKGw9dGhpcy5PYSx0aGlzLk9hKz0xKTtzd2l0Y2godHlwZW9mIGcpe2Nhc2UgXCJzdHJpbmdcIjp0aGlzLnNiKGcsbCk7cmV0dXJuO2Nhc2UgXCJudW1iZXJcIjp0aGlzLnJiKGcsbCk7cmV0dXJuO2Nhc2UgXCJiaWdpbnRcIjp0aGlzLnNiKGcudG9TdHJpbmcoKSxsKTtyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjp0aGlzLnJiKGcrMCxsKTtyZXR1cm47Y2FzZSBcIm9iamVjdFwiOmlmKG51bGw9PT1nKXt0aGlzLkViKGwpO3JldHVybn1pZihudWxsIT1nLmxlbmd0aCl7dGhpcy5CYihnLFxubCk7cmV0dXJufX10aHJvd1wiV3JvbmcgQVBJIHVzZSA6IHRyaWVkIHRvIGJpbmQgYSB2YWx1ZSBvZiBhbiB1bmtub3duIHR5cGUgKFwiK2crXCIpLlwiO307Yy5wcm90b3R5cGUuRGI9ZnVuY3Rpb24oZyl7dmFyIGw9dGhpcztPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXJjKGwuUWEsbik7MCE9PXImJmwudGIoZ1tuXSxyKX0pO3JldHVybiEwfTtjLnByb3RvdHlwZS5DYj1mdW5jdGlvbihnKXtmb3IodmFyIGw9MDtsPGcubGVuZ3RoO2wrPTEpdGhpcy50YihnW2xdLGwrMSk7cmV0dXJuITB9O2MucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mcmVlbWVtKCk7cmV0dXJuIDA9PT1DYyh0aGlzLlFhKSYmMD09PUJjKHRoaXMuUWEpfTtjLnByb3RvdHlwZS5mcmVlbWVtPWZ1bmN0aW9uKCl7Zm9yKHZhciBnO3ZvaWQgMCE9PShnPXRoaXMubGIucG9wKCkpOylmYShnKX07Yy5wcm90b3R5cGUuZnJlZT1mdW5jdGlvbigpe3RoaXMuZnJlZW1lbSgpO3ZhciBnPVxuMD09PURjKHRoaXMuUWEpO2RlbGV0ZSB0aGlzLmRiLmZiW3RoaXMuUWFdO3RoaXMuUWE9MDtyZXR1cm4gZ307ZC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmViKXJldHVybntkb25lOiEwfTtudWxsIT09dGhpcy5aYSYmKHRoaXMuWmEuZnJlZSgpLHRoaXMuWmE9bnVsbCk7aWYoIXRoaXMuZGIuZGIpdGhyb3cgdGhpcy5tYigpLEVycm9yKFwiRGF0YWJhc2UgY2xvc2VkXCIpO3ZhciBnPXNhKCksbD16KDQpO3RhKGgpO3RhKGwpO3RyeXt0aGlzLmRiLmhhbmRsZUVycm9yKHFiKHRoaXMuZGIuZGIsdGhpcy5rYiwtMSxoLGwpKTt0aGlzLmtiPW0obCxcImkzMlwiKTt2YXIgbj1tKGgsXCJpMzJcIik7aWYoMD09PW4pcmV0dXJuIHRoaXMubWIoKSx7ZG9uZTohMH07dGhpcy5aYT1uZXcgYyhuLHRoaXMuZGIpO3RoaXMuZGIuZmJbbl09dGhpcy5aYTtyZXR1cm57dmFsdWU6dGhpcy5aYSxkb25lOiExfX1jYXRjaChyKXt0aHJvdyB0aGlzLnBiPXVhKHRoaXMua2IpLHRoaXMubWIoKSxcbnI7fWZpbmFsbHl7d2EoZyl9fTtkLnByb3RvdHlwZS5tYj1mdW5jdGlvbigpe2ZhKHRoaXMuZWIpO3RoaXMuZWI9bnVsbH07ZC5wcm90b3R5cGUuZ2V0UmVtYWluaW5nU1FMPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnBiP3RoaXMucGI6dWEodGhpcy5rYil9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yJiYoZC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSk7ZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGcsbCl7aWYoIXRoaXMuZGIpdGhyb3dcIkRhdGFiYXNlIGNsb3NlZFwiO2lmKGwpe2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2cuc3RlcCgpfWZpbmFsbHl7Zy5mcmVlKCl9fWVsc2UgdGhpcy5oYW5kbGVFcnJvcih2KHRoaXMuZGIsZywwLDAsaCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGcsbCxuKXtpZighdGhpcy5kYil0aHJvd1wiRGF0YWJhc2UgY2xvc2VkXCI7XG52YXIgcj1zYSgpLHQ9bnVsbDt0cnl7dmFyIHk9eGEoZyksTD16KDQpO2ZvcihnPVtdOzAhPT1tKHksXCJpOFwiKTspe3RhKGgpO3RhKEwpO3RoaXMuaGFuZGxlRXJyb3IocWIodGhpcy5kYix5LC0xLGgsTCkpO3ZhciBKPW0oaCxcImkzMlwiKTt5PW0oTCxcImkzMlwiKTtpZigwIT09Sil7dmFyIEk9bnVsbDt0PW5ldyBjKEosdGhpcyk7Zm9yKG51bGwhPWwmJnQuYmluZChsKTt0LnN0ZXAoKTspbnVsbD09PUkmJihJPXtjb2x1bW5zOnQuZ2V0Q29sdW1uTmFtZXMoKSx2YWx1ZXM6W119LGcucHVzaChJKSksSS52YWx1ZXMucHVzaCh0LmdldChudWxsLG4pKTt0LmZyZWUoKX19cmV0dXJuIGd9Y2F0Y2goTSl7dGhyb3cgdCYmdC5mcmVlKCksTTt9ZmluYWxseXt3YShyKX19O2UucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24oZyxsLG4scix0KXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgbCYmKHI9bixuPWwsbD12b2lkIDApO2c9dGhpcy5wcmVwYXJlKGcsbCk7dHJ5e2Zvcig7Zy5zdGVwKCk7KW4oZy5nZXRBc09iamVjdChudWxsLFxudCkpfWZpbmFsbHl7Zy5mcmVlKCl9aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHIpcmV0dXJuIHIoKX07ZS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbihnLGwpe3RhKGgpO3RoaXMuaGFuZGxlRXJyb3IoRyh0aGlzLmRiLGcsLTEsaCwwKSk7Zz1tKGgsXCJpMzJcIik7aWYoMD09PWcpdGhyb3dcIk5vdGhpbmcgdG8gcHJlcGFyZVwiO3ZhciBuPW5ldyBjKGcsdGhpcyk7bnVsbCE9bCYmbi5iaW5kKGwpO3JldHVybiB0aGlzLmZiW2ddPW59O2UucHJvdG90eXBlLml0ZXJhdGVTdGF0ZW1lbnRzPWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgZChnLHRoaXMpfTtlLnByb3RvdHlwZVtcImV4cG9ydFwiXT1mdW5jdGlvbigpe09iamVjdC52YWx1ZXModGhpcy5mYikuZm9yRWFjaChmdW5jdGlvbihsKXtsLmZyZWUoKX0pO09iamVjdC52YWx1ZXModGhpcy5TYSkuZm9yRWFjaChBKTt0aGlzLlNhPXt9O3RoaXMuaGFuZGxlRXJyb3Iodyh0aGlzLmRiKSk7dmFyIGc9eWEodGhpcy5maWxlbmFtZSk7dGhpcy5oYW5kbGVFcnJvcihxKHRoaXMuZmlsZW5hbWUsXG5oKSk7dGhpcy5kYj1tKGgsXCJpMzJcIik7b2IodGhpcy5kYik7cmV0dXJuIGd9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuZGImJihPYmplY3QudmFsdWVzKHRoaXMuZmIpLmZvckVhY2goZnVuY3Rpb24oZyl7Zy5mcmVlKCl9KSxPYmplY3QudmFsdWVzKHRoaXMuU2EpLmZvckVhY2goQSksdGhpcy5TYT17fSx0aGlzLllhJiYoQSh0aGlzLllhKSx0aGlzLllhPXZvaWQgMCksdGhpcy5oYW5kbGVFcnJvcih3KHRoaXMuZGIpKSx6YShcIi9cIit0aGlzLmZpbGVuYW1lKSx0aGlzLmRiPW51bGwpfTtlLnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbihnKXtpZigwPT09ZylyZXR1cm4gbnVsbDtnPXRjKHRoaXMuZGIpO3Rocm93IEVycm9yKGcpO307ZS5wcm90b3R5cGUuZ2V0Um93c01vZGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuIEModGhpcy5kYil9O2UucHJvdG90eXBlLmNyZWF0ZV9mdW5jdGlvbj1mdW5jdGlvbihnLGwpe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLlNhLFxuZykmJihBKHRoaXMuU2FbZ10pLGRlbGV0ZSB0aGlzLlNhW2ddKTt2YXIgbj1BYShmdW5jdGlvbihyLHQseSl7dD1iKHQseSk7dHJ5e3ZhciBMPWwuYXBwbHkobnVsbCx0KX1jYXRjaChKKXt2YShyLEosLTEpO3JldHVybn1hKHIsTCl9LFwidmlpaVwiKTt0aGlzLlNhW2ddPW47dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsbC5sZW5ndGgsMSwwLG4sMCwwLDApKTtyZXR1cm4gdGhpc307ZS5wcm90b3R5cGUuY3JlYXRlX2FnZ3JlZ2F0ZT1mdW5jdGlvbihnLGwpe3ZhciBuPWwuaW5pdHx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scj1sLmZpbmFsaXplfHxmdW5jdGlvbihJKXtyZXR1cm4gSX0sdD1sLnN0ZXA7aWYoIXQpdGhyb3dcIkFuIGFnZ3JlZ2F0ZSBmdW5jdGlvbiBtdXN0IGhhdmUgYSBzdGVwIGZ1bmN0aW9uIGluIFwiK2c7dmFyIHk9e307T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5TYSxnKSYmKEEodGhpcy5TYVtnXSksZGVsZXRlIHRoaXMuU2FbZ10pO2w9ZytcIl9fZmluYWxpemVcIjtcbk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuU2EsbCkmJihBKHRoaXMuU2FbbF0pLGRlbGV0ZSB0aGlzLlNhW2xdKTt2YXIgTD1BYShmdW5jdGlvbihJLE0sUmEpe3ZhciBYPXViKEksMSk7T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoeSxYKXx8KHlbWF09bigpKTtNPWIoTSxSYSk7TT1beVtYXV0uY29uY2F0KE0pO3RyeXt5W1hdPXQuYXBwbHkobnVsbCxNKX1jYXRjaChGYyl7ZGVsZXRlIHlbWF0sdmEoSSxGYywtMSl9fSxcInZpaWlcIiksSj1BYShmdW5jdGlvbihJKXt2YXIgTT11YihJLDEpO3RyeXt2YXIgUmE9cih5W01dKX1jYXRjaChYKXtkZWxldGUgeVtNXTt2YShJLFgsLTEpO3JldHVybn1hKEksUmEpO2RlbGV0ZSB5W01dfSxcInZpXCIpO3RoaXMuU2FbZ109TDt0aGlzLlNhW2xdPUo7dGhpcy5oYW5kbGVFcnJvcih0Yih0aGlzLmRiLGcsdC5sZW5ndGgtMSwxLDAsMCxMLEosMCkpO3JldHVybiB0aGlzfTtlLnByb3RvdHlwZS51cGRhdGVIb29rPWZ1bmN0aW9uKGcpe3RoaXMuWWEmJlxuKHZiKHRoaXMuZGIsMCwwKSxBKHRoaXMuWWEpLHRoaXMuWWE9dm9pZCAwKTtnJiYodGhpcy5ZYT1BYShmdW5jdGlvbihsLG4scix0LHkpe3N3aXRjaChuKXtjYXNlIDE4Omw9XCJpbnNlcnRcIjticmVhaztjYXNlIDIzOmw9XCJ1cGRhdGVcIjticmVhaztjYXNlIDk6bD1cImRlbGV0ZVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3dcInVua25vd24gb3BlcmF0aW9uQ29kZSBpbiB1cGRhdGVIb29rIGNhbGxiYWNrOiBcIituO31yPXI/Qih4LHIpOlwiXCI7dD10P0IoeCx0KTpcIlwiO2lmKHk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpdGhyb3dcInJvd0lkIHRvbyBiaWcgdG8gZml0IGluc2lkZSBhIE51bWJlclwiO2cobCxyLHQsTnVtYmVyKHkpKX0sXCJ2aWlpaWpcIiksdmIodGhpcy5kYix0aGlzLllhLDApKX07Zi5EYXRhYmFzZT1lfTt2YXIgQmE9ey4uLmZ9LENhPVwiLi90aGlzLnByb2dyYW1cIixEYT0oYSxiKT0+e3Rocm93IGI7fSxEPVwiXCIsRWEsRmE7XG5pZihjYSl7dmFyIGZzPXJlcXVpcmUoXCJmc1wiKTtyZXF1aXJlKFwicGF0aFwiKTtEPV9fZGlybmFtZStcIi9cIjtGYT1hPT57YT1HYShhKT9uZXcgVVJMKGEpOmE7cmV0dXJuIGZzLnJlYWRGaWxlU3luYyhhKX07RWE9YXN5bmMgYT0+e2E9R2EoYSk/bmV3IFVSTChhKTphO3JldHVybiBmcy5yZWFkRmlsZVN5bmMoYSx2b2lkIDApfTshZi50aGlzUHJvZ3JhbSYmMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoQ2E9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikpO3Byb2Nlc3MuYXJndi5zbGljZSgyKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9Zik7RGE9KGEsYik9Pntwcm9jZXNzLmV4aXRDb2RlPWE7dGhyb3cgYjt9fWVsc2UgaWYoYWF8fGJhKWJhP0Q9c2VsZi5sb2NhdGlvbi5ocmVmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEQ9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLEQ9RC5zdGFydHNXaXRoKFwiYmxvYjpcIik/XG5cIlwiOkQuc2xpY2UoMCxELnJlcGxhY2UoL1s/I10uKi8sXCJcIikubGFzdEluZGV4T2YoXCIvXCIpKzEpLGJhJiYoRmE9YT0+e3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJHRVRcIixhLCExKTtiLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7Yi5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheShiLnJlc3BvbnNlKX0pLEVhPWFzeW5jIGE9PntpZihHYShhKSlyZXR1cm4gbmV3IFByb21pc2UoKGMsZCk9Pnt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYSwhMCk7ZS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2Uub25sb2FkPSgpPT57MjAwPT1lLnN0YXR1c3x8MD09ZS5zdGF0dXMmJmUucmVzcG9uc2U/YyhlLnJlc3BvbnNlKTpkKGUuc3RhdHVzKX07ZS5vbmVycm9yPWQ7ZS5zZW5kKG51bGwpfSk7dmFyIGI9YXdhaXQgZmV0Y2goYSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSk7aWYoYi5vaylyZXR1cm4gYi5hcnJheUJ1ZmZlcigpO3Rocm93IEVycm9yKGIuc3RhdHVzK1xuXCIgOiBcIitiLnVybCk7fTt2YXIgSGE9Zi5wcmludHx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxJYT1mLnByaW50RXJyfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihmLEJhKTtCYT1udWxsO2YudGhpc1Byb2dyYW0mJihDYT1mLnRoaXNQcm9ncmFtKTt2YXIgSmE9Zi53YXNtQmluYXJ5LEthLExhPSExLE1hLHAseCxOYSxFLEYsT2EsSCxQYSxHYT1hPT5hLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpO1xuZnVuY3Rpb24gUWEoKXt2YXIgYT1LYS5idWZmZXI7Zi5IRUFQOD1wPW5ldyBJbnQ4QXJyYXkoYSk7Zi5IRUFQMTY9TmE9bmV3IEludDE2QXJyYXkoYSk7Zi5IRUFQVTg9eD1uZXcgVWludDhBcnJheShhKTtmLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGEpO2YuSEVBUDMyPUU9bmV3IEludDMyQXJyYXkoYSk7Zi5IRUFQVTMyPUY9bmV3IFVpbnQzMkFycmF5KGEpO2YuSEVBUEYzMj1PYT1uZXcgRmxvYXQzMkFycmF5KGEpO2YuSEVBUEY2ND1QYT1uZXcgRmxvYXQ2NEFycmF5KGEpO2YuSEVBUDY0PUg9bmV3IEJpZ0ludDY0QXJyYXkoYSk7Zi5IRUFQVTY0PW5ldyBCaWdVaW50NjRBcnJheShhKX12YXIgSz0wLFNhPW51bGw7ZnVuY3Rpb24gVGEoYSl7Zi5vbkFib3J0Py4oYSk7YT1cIkFib3J0ZWQoXCIrYStcIilcIjtJYShhKTtMYT0hMDt0aHJvdyBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGErXCIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uXCIpO312YXIgVWE7XG5hc3luYyBmdW5jdGlvbiBWYShhKXtpZighSmEpdHJ5e3ZhciBiPWF3YWl0IEVhKGEpO3JldHVybiBuZXcgVWludDhBcnJheShiKX1jYXRjaHt9aWYoYT09VWEmJkphKWE9bmV3IFVpbnQ4QXJyYXkoSmEpO2Vsc2UgaWYoRmEpYT1GYShhKTtlbHNlIHRocm93XCJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZFwiO3JldHVybiBhfWFzeW5jIGZ1bmN0aW9uIFdhKGEsYil7dHJ5e3ZhciBjPWF3YWl0IFZhKGEpO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShjLGIpfWNhdGNoKGQpe0lhKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke2R9YCksVGEoZCl9fVxuYXN5bmMgZnVuY3Rpb24gWGEoYSl7dmFyIGI9VWE7aWYoIUphJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyYmIUdhKGIpJiYhY2EpdHJ5e3ZhciBjPWZldGNoKGIse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pO3JldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhjLGEpfWNhdGNoKGQpe0lhKGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtkfWApLElhKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIil9cmV0dXJuIFdhKGIsYSl9Y2xhc3MgWWF7bmFtZT1cIkV4aXRTdGF0dXNcIjtjb25zdHJ1Y3RvcihhKXt0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHthfSlgO3RoaXMuc3RhdHVzPWF9fVxudmFyIFphPWE9Pntmb3IoOzA8YS5sZW5ndGg7KWEuc2hpZnQoKShmKX0sJGE9W10sYWI9W10sYmI9KCk9Pnt2YXIgYT1mLnByZVJ1bi5zaGlmdCgpO2FiLnVuc2hpZnQoYSl9O2Z1bmN0aW9uIG0oYSxiPVwiaThcIil7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cmV0dXJuIHBbYV07Y2FzZSBcImk4XCI6cmV0dXJuIHBbYV07Y2FzZSBcImkxNlwiOnJldHVybiBOYVthPj4xXTtjYXNlIFwiaTMyXCI6cmV0dXJuIEVbYT4+Ml07Y2FzZSBcImk2NFwiOnJldHVybiBIW2E+PjNdO2Nhc2UgXCJmbG9hdFwiOnJldHVybiBPYVthPj4yXTtjYXNlIFwiZG91YmxlXCI6cmV0dXJuIFBhW2E+PjNdO2Nhc2UgXCIqXCI6cmV0dXJuIEZbYT4+Ml07ZGVmYXVsdDpUYShgaW52YWxpZCB0eXBlIGZvciBnZXRWYWx1ZTogJHtifWApfX12YXIgY2I9Zi5ub0V4aXRSdW50aW1lfHwhMDtcbmZ1bmN0aW9uIHRhKGEpe3ZhciBiPVwiaTMyXCI7Yi5lbmRzV2l0aChcIipcIikmJihiPVwiKlwiKTtzd2l0Y2goYil7Y2FzZSBcImkxXCI6cFthXT0wO2JyZWFrO2Nhc2UgXCJpOFwiOnBbYV09MDticmVhaztjYXNlIFwiaTE2XCI6TmFbYT4+MV09MDticmVhaztjYXNlIFwiaTMyXCI6RVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJpNjRcIjpIW2E+PjNdPUJpZ0ludCgwKTticmVhaztjYXNlIFwiZmxvYXRcIjpPYVthPj4yXT0wO2JyZWFrO2Nhc2UgXCJkb3VibGVcIjpQYVthPj4zXT0wO2JyZWFrO2Nhc2UgXCIqXCI6RlthPj4yXT0wO2JyZWFrO2RlZmF1bHQ6VGEoYGludmFsaWQgdHlwZSBmb3Igc2V0VmFsdWU6ICR7Yn1gKX19XG52YXIgZGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBUZXh0RGVjb2Rlcjp2b2lkIDAsQj0oYSxiPTAsYz1OYU4pPT57dmFyIGQ9YitjO2ZvcihjPWI7YVtjXSYmIShjPj1kKTspKytjO2lmKDE2PGMtYiYmYS5idWZmZXImJmRiKXJldHVybiBkYi5kZWNvZGUoYS5zdWJhcnJheShiLGMpKTtmb3IoZD1cIlwiO2I8Yzspe3ZhciBlPWFbYisrXTtpZihlJjEyOCl7dmFyIGg9YVtiKytdJjYzO2lmKDE5Mj09KGUmMjI0KSlkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChlJjMxKTw8NnxoKTtlbHNle3ZhciBrPWFbYisrXSY2MztlPTIyND09KGUmMjQwKT8oZSYxNSk8PDEyfGg8PDZ8azooZSY3KTw8MTh8aDw8MTJ8azw8NnxhW2IrK10mNjM7NjU1MzY+ZT9kKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOihlLT02NTUzNixkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGU+PjEwLDU2MzIwfGUmMTAyMykpfX1lbHNlIGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSl9cmV0dXJuIGR9LFxudWE9KGEsYik9PmE/Qih4LGEsYik6XCJcIixlYj0oYSxiKT0+e2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXTtcIi5cIj09PWU/YS5zcGxpY2UoZCwxKTpcIi4uXCI9PT1lPyhhLnNwbGljZShkLDEpLGMrKyk6YyYmKGEuc3BsaWNlKGQsMSksYy0tKX1pZihiKWZvcig7YztjLS0pYS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGF9LGthPWE9Pnt2YXIgYj1cIi9cIj09PWEuY2hhckF0KDApLGM9XCIvXCI9PT1hLnNsaWNlKC0xKTsoYT1lYihhLnNwbGl0KFwiL1wiKS5maWx0ZXIoZD0+ISFkKSwhYikuam9pbihcIi9cIikpfHxifHwoYT1cIi5cIik7YSYmYyYmKGErPVwiL1wiKTtyZXR1cm4oYj9cIi9cIjpcIlwiKSthfSxmYj1hPT57dmFyIGI9L14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8uZXhlYyhhKS5zbGljZSgxKTthPWJbMF07Yj1iWzFdO2lmKCFhJiYhYilyZXR1cm5cIi5cIjtiJiY9Yi5zbGljZSgwLC0xKTtyZXR1cm4gYStifSxcbmdiPWE9PmEmJmEubWF0Y2goLyhbXlxcL10rfFxcLylcXC8qJC8pWzFdLGhiPSgpPT57aWYoY2Epe3ZhciBhPXJlcXVpcmUoXCJjcnlwdG9cIik7cmV0dXJuIGI9PmEucmFuZG9tRmlsbFN5bmMoYil9cmV0dXJuIGI9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYil9LGliPWE9PnsoaWI9aGIoKSkoYSl9LGpiPSguLi5hKT0+e2Zvcih2YXIgYj1cIlwiLGM9ITEsZD1hLmxlbmd0aC0xOy0xPD1kJiYhYztkLS0pe2M9MDw9ZD9hW2RdOlwiL1wiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBjKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtpZighYylyZXR1cm5cIlwiO2I9YytcIi9cIitiO2M9XCIvXCI9PT1jLmNoYXJBdCgwKX1iPWViKGIuc3BsaXQoXCIvXCIpLmZpbHRlcihlPT4hIWUpLCFjKS5qb2luKFwiL1wiKTtyZXR1cm4oYz9cIi9cIjpcIlwiKStifHxcIi5cIn0sa2I9W10saGE9YT0+e2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpO1xuMTI3Pj1kP2IrKzoyMDQ3Pj1kP2IrPTI6NTUyOTY8PWQmJjU3MzQzPj1kPyhiKz00LCsrYyk6Yis9M31yZXR1cm4gYn0sdT0oYSxiLGMsZCk9PntpZighKDA8ZCkpcmV0dXJuIDA7dmFyIGU9YztkPWMrZC0xO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7KytoKXt2YXIgaz1hLmNoYXJDb2RlQXQoaCk7aWYoNTUyOTY8PWsmJjU3MzQzPj1rKXt2YXIgcT1hLmNoYXJDb2RlQXQoKytoKTtrPTY1NTM2KygoayYxMDIzKTw8MTApfHEmMTAyM31pZigxMjc+PWspe2lmKGM+PWQpYnJlYWs7YltjKytdPWt9ZWxzZXtpZigyMDQ3Pj1rKXtpZihjKzE+PWQpYnJlYWs7YltjKytdPTE5MnxrPj42fWVsc2V7aWYoNjU1MzU+PWspe2lmKGMrMj49ZClicmVhaztiW2MrK109MjI0fGs+PjEyfWVsc2V7aWYoYyszPj1kKWJyZWFrO2JbYysrXT0yNDB8az4+MTg7YltjKytdPTEyOHxrPj4xMiY2M31iW2MrK109MTI4fGs+PjYmNjN9YltjKytdPTEyOHxrJjYzfX1iW2NdPTA7cmV0dXJuIGMtZX0scmE9KGEsYik9Plxue3ZhciBjPUFycmF5KGhhKGEpKzEpO2E9dShhLGMsMCxjLmxlbmd0aCk7YiYmKGMubGVuZ3RoPWEpO3JldHVybiBjfSxtYj1bXTtmdW5jdGlvbiBuYihhLGIpe21iW2FdPXtpbnB1dDpbXSxvdXRwdXQ6W10sY2I6Yn07d2IoYSx4Yil9XG52YXIgeGI9e29wZW4oYSl7dmFyIGI9bWJbYS5ub2RlLnJkZXZdO2lmKCFiKXRocm93IG5ldyBOKDQzKTthLnR0eT1iO2Euc2Vla2FibGU9ITF9LGNsb3NlKGEpe2EudHR5LmNiLmZzeW5jKGEudHR5KX0sZnN5bmMoYSl7YS50dHkuY2IuZnN5bmMoYS50dHkpfSxyZWFkKGEsYixjLGQpe2lmKCFhLnR0eXx8IWEudHR5LmNiLnhiKXRocm93IG5ldyBOKDYwKTtmb3IodmFyIGU9MCxoPTA7aDxkO2grKyl7dHJ5e3ZhciBrPWEudHR5LmNiLnhiKGEudHR5KX1jYXRjaChxKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PWsmJjA9PT1lKXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1rfHx2b2lkIDA9PT1rKWJyZWFrO2UrKztiW2MraF09a31lJiYoYS5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiBlfSx3cml0ZShhLGIsYyxkKXtpZighYS50dHl8fCFhLnR0eS5jYi5xYil0aHJvdyBuZXcgTig2MCk7dHJ5e2Zvcih2YXIgZT0wO2U8ZDtlKyspYS50dHkuY2IucWIoYS50dHksYltjK2VdKX1jYXRjaChoKXt0aHJvdyBuZXcgTigyOSk7XG59ZCYmKGEubm9kZS5tdGltZT1hLm5vZGUuY3RpbWU9RGF0ZS5ub3coKSk7cmV0dXJuIGV9fSx5Yj17eGIoKXthOntpZigha2IubGVuZ3RoKXt2YXIgYT1udWxsO2lmKGNhKXt2YXIgYj1CdWZmZXIuYWxsb2MoMjU2KSxjPTAsZD1wcm9jZXNzLnN0ZGluLmZkO3RyeXtjPWZzLnJlYWRTeW5jKGQsYiwwLDI1Nil9Y2F0Y2goZSl7aWYoZS50b1N0cmluZygpLmluY2x1ZGVzKFwiRU9GXCIpKWM9MDtlbHNlIHRocm93IGU7fTA8YyYmKGE9Yi5zbGljZSgwLGMpLnRvU3RyaW5nKFwidXRmLThcIikpfWVsc2VcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucHJvbXB0JiYoYT13aW5kb3cucHJvbXB0KFwiSW5wdXQ6IFwiKSxudWxsIT09YSYmKGErPVwiXFxuXCIpKTtpZighYSl7YT1udWxsO2JyZWFrIGF9a2I9cmEoYSwhMCl9YT1rYi5zaGlmdCgpfXJldHVybiBhfSxxYihhLGIpe251bGw9PT1ifHwxMD09PWI/KEhhKEIoYS5vdXRwdXQpKSxhLm91dHB1dD1bXSk6XG4wIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihIYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfSxUYigpe3JldHVybntPYjoyNTg1NixRYjo1LE5iOjE5MSxQYjozNTM4NyxNYjpbMywyOCwxMjcsMjEsNCwwLDEsMCwxNywxOSwyNiwwLDE4LDE1LDIzLDIyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfX0sVWIoKXtyZXR1cm4gMH0sVmIoKXtyZXR1cm5bMjQsODBdfX0semI9e3FiKGEsYil7bnVsbD09PWJ8fDEwPT09Yj8oSWEoQihhLm91dHB1dCkpLGEub3V0cHV0PVtdKTowIT1iJiZhLm91dHB1dC5wdXNoKGIpfSxmc3luYyhhKXswPGEub3V0cHV0Py5sZW5ndGgmJihJYShCKGEub3V0cHV0KSksYS5vdXRwdXQ9W10pfX0sTz17V2E6bnVsbCxYYSgpe3JldHVybiBPLmNyZWF0ZU5vZGUobnVsbCxcIi9cIiwxNjg5NSwwKX0sY3JlYXRlTm9kZShhLGIsYyxkKXtpZigyNDU3Nj09PShjJjYxNDQwKXx8NDA5Nj09PShjJjYxNDQwKSl0aHJvdyBuZXcgTig2Myk7XG5PLldhfHwoTy5XYT17ZGlyOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWEsbG9va3VwOk8uTGEubG9va3VwLGhiOk8uTGEuaGIscmVuYW1lOk8uTGEucmVuYW1lLHVubGluazpPLkxhLnVubGluayxybWRpcjpPLkxhLnJtZGlyLHJlYWRkaXI6Ty5MYS5yZWFkZGlyLHN5bWxpbms6Ty5MYS5zeW1saW5rfSxzdHJlYW06e1ZhOk8uTWEuVmF9fSxmaWxlOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTp7VmE6Ty5NYS5WYSxyZWFkOk8uTWEucmVhZCx3cml0ZTpPLk1hLndyaXRlLGliOk8uTWEuaWIsamI6Ty5NYS5qYn19LGxpbms6e25vZGU6e1RhOk8uTGEuVGEsVWE6Ty5MYS5VYSxyZWFkbGluazpPLkxhLnJlYWRsaW5rfSxzdHJlYW06e319LHViOntub2RlOntUYTpPLkxhLlRhLFVhOk8uTGEuVWF9LHN0cmVhbTpBYn19KTtjPUJiKGEsYixjLGQpO1AoYy5tb2RlKT8oYy5MYT1PLldhLmRpci5ub2RlLGMuTWE9Ty5XYS5kaXIuc3RyZWFtLGMuTmE9e30pOjMyNzY4PT09XG4oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmZpbGUubm9kZSxjLk1hPU8uV2EuZmlsZS5zdHJlYW0sYy5SYT0wLGMuTmE9bnVsbCk6NDA5NjA9PT0oYy5tb2RlJjYxNDQwKT8oYy5MYT1PLldhLmxpbmsubm9kZSxjLk1hPU8uV2EubGluay5zdHJlYW0pOjgxOTI9PT0oYy5tb2RlJjYxNDQwKSYmKGMuTGE9Ty5XYS51Yi5ub2RlLGMuTWE9Ty5XYS51Yi5zdHJlYW0pO2MuYXRpbWU9Yy5tdGltZT1jLmN0aW1lPURhdGUubm93KCk7YSYmKGEuTmFbYl09YyxhLmF0aW1lPWEubXRpbWU9YS5jdGltZT1jLmF0aW1lKTtyZXR1cm4gY30sU2IoYSl7cmV0dXJuIGEuTmE/YS5OYS5zdWJhcnJheT9hLk5hLnN1YmFycmF5KDAsYS5SYSk6bmV3IFVpbnQ4QXJyYXkoYS5OYSk6bmV3IFVpbnQ4QXJyYXkoMCl9LExhOntUYShhKXt2YXIgYj17fTtiLmRldj04MTkyPT09KGEubW9kZSY2MTQ0MCk/YS5pZDoxO2IuaW5vPWEuaWQ7Yi5tb2RlPWEubW9kZTtiLm5saW5rPTE7Yi51aWQ9MDtiLmdpZD0wO2IucmRldj1cbmEucmRldjtQKGEubW9kZSk/Yi5zaXplPTQwOTY6MzI3Njg9PT0oYS5tb2RlJjYxNDQwKT9iLnNpemU9YS5SYTo0MDk2MD09PShhLm1vZGUmNjE0NDApP2Iuc2l6ZT1hLmxpbmsubGVuZ3RoOmIuc2l6ZT0wO2IuYXRpbWU9bmV3IERhdGUoYS5hdGltZSk7Yi5tdGltZT1uZXcgRGF0ZShhLm10aW1lKTtiLmN0aW1lPW5ldyBEYXRlKGEuY3RpbWUpO2IuYmxrc2l6ZT00MDk2O2IuYmxvY2tzPU1hdGguY2VpbChiLnNpemUvYi5ibGtzaXplKTtyZXR1cm4gYn0sVWEoYSxiKXtmb3IodmFyIGMgb2ZbXCJtb2RlXCIsXCJhdGltZVwiLFwibXRpbWVcIixcImN0aW1lXCJdKW51bGwhPWJbY10mJihhW2NdPWJbY10pO3ZvaWQgMCE9PWIuc2l6ZSYmKGI9Yi5zaXplLGEuUmEhPWImJigwPT1iPyhhLk5hPW51bGwsYS5SYT0wKTooYz1hLk5hLGEuTmE9bmV3IFVpbnQ4QXJyYXkoYiksYyYmYS5OYS5zZXQoYy5zdWJhcnJheSgwLE1hdGgubWluKGIsYS5SYSkpKSxhLlJhPWIpKSl9LGxvb2t1cCgpe3Rocm93IE8udmI7XG59LGhiKGEsYixjLGQpe3JldHVybiBPLmNyZWF0ZU5vZGUoYSxiLGMsZCl9LHJlbmFtZShhLGIsYyl7dHJ5e3ZhciBkPVEoYixjKX1jYXRjaChoKXt9aWYoZCl7aWYoUChhLm1vZGUpKWZvcih2YXIgZSBpbiBkLk5hKXRocm93IG5ldyBOKDU1KTtDYihkKX1kZWxldGUgYS5wYXJlbnQuTmFbYS5uYW1lXTtiLk5hW2NdPWE7YS5uYW1lPWM7Yi5jdGltZT1iLm10aW1lPWEucGFyZW50LmN0aW1lPWEucGFyZW50Lm10aW1lPURhdGUubm93KCl9LHVubGluayhhLGIpe2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxybWRpcihhLGIpe3ZhciBjPVEoYSxiKSxkO2ZvcihkIGluIGMuTmEpdGhyb3cgbmV3IE4oNTUpO2RlbGV0ZSBhLk5hW2JdO2EuY3RpbWU9YS5tdGltZT1EYXRlLm5vdygpfSxyZWFkZGlyKGEpe3JldHVybltcIi5cIixcIi4uXCIsLi4uT2JqZWN0LmtleXMoYS5OYSldfSxzeW1saW5rKGEsYixjKXthPU8uY3JlYXRlTm9kZShhLGIsNDE0NzEsMCk7YS5saW5rPVxuYztyZXR1cm4gYX0scmVhZGxpbmsoYSl7aWYoNDA5NjAhPT0oYS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7cmV0dXJuIGEubGlua319LE1hOntyZWFkKGEsYixjLGQsZSl7dmFyIGg9YS5ub2RlLk5hO2lmKGU+PWEubm9kZS5SYSlyZXR1cm4gMDthPU1hdGgubWluKGEubm9kZS5SYS1lLGQpO2lmKDg8YSYmaC5zdWJhcnJheSliLnNldChoLnN1YmFycmF5KGUsZSthKSxjKTtlbHNlIGZvcihkPTA7ZDxhO2QrKyliW2MrZF09aFtlK2RdO3JldHVybiBhfSx3cml0ZShhLGIsYyxkLGUsaCl7Yi5idWZmZXI9PT1wLmJ1ZmZlciYmKGg9ITEpO2lmKCFkKXJldHVybiAwO2E9YS5ub2RlO2EubXRpbWU9YS5jdGltZT1EYXRlLm5vdygpO2lmKGIuc3ViYXJyYXkmJighYS5OYXx8YS5OYS5zdWJhcnJheSkpe2lmKGgpcmV0dXJuIGEuTmE9Yi5zdWJhcnJheShjLGMrZCksYS5SYT1kO2lmKDA9PT1hLlJhJiYwPT09ZSlyZXR1cm4gYS5OYT1iLnNsaWNlKGMsYytkKSxhLlJhPWQ7aWYoZStkPD1hLlJhKXJldHVybiBhLk5hLnNldChiLnN1YmFycmF5KGMsXG5jK2QpLGUpLGR9aD1lK2Q7dmFyIGs9YS5OYT9hLk5hLmxlbmd0aDowO2s+PWh8fChoPU1hdGgubWF4KGgsayooMTA0ODU3Nj5rPzI6MS4xMjUpPj4+MCksMCE9ayYmKGg9TWF0aC5tYXgoaCwyNTYpKSxrPWEuTmEsYS5OYT1uZXcgVWludDhBcnJheShoKSwwPGEuUmEmJmEuTmEuc2V0KGsuc3ViYXJyYXkoMCxhLlJhKSwwKSk7aWYoYS5OYS5zdWJhcnJheSYmYi5zdWJhcnJheSlhLk5hLnNldChiLnN1YmFycmF5KGMsYytkKSxlKTtlbHNlIGZvcihoPTA7aDxkO2grKylhLk5hW2UraF09YltjK2hdO2EuUmE9TWF0aC5tYXgoYS5SYSxlK2QpO3JldHVybiBkfSxWYShhLGIsYyl7MT09PWM/Yis9YS5wb3NpdGlvbjoyPT09YyYmMzI3Njg9PT0oYS5ub2RlLm1vZGUmNjE0NDApJiYoYis9YS5ub2RlLlJhKTtpZigwPmIpdGhyb3cgbmV3IE4oMjgpO3JldHVybiBifSxpYihhLGIsYyxkLGUpe2lmKDMyNzY4IT09KGEubm9kZS5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTig0Myk7YT1hLm5vZGUuTmE7XG5pZihlJjJ8fCFhfHxhLmJ1ZmZlciE9PXAuYnVmZmVyKXtlPSEwO2Q9NjU1MzYqTWF0aC5jZWlsKGIvNjU1MzYpO3ZhciBoPURiKDY1NTM2LGQpO2gmJnguZmlsbCgwLGgsaCtkKTtkPWg7aWYoIWQpdGhyb3cgbmV3IE4oNDgpO2lmKGEpe2lmKDA8Y3x8YytiPGEubGVuZ3RoKWEuc3ViYXJyYXk/YT1hLnN1YmFycmF5KGMsYytiKTphPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsYyxjK2IpO3Auc2V0KGEsZCl9fWVsc2UgZT0hMSxkPWEuYnl0ZU9mZnNldDtyZXR1cm57S2I6ZCxBYjplfX0samIoYSxiLGMsZCl7Ty5NYS53cml0ZShhLGIsMCxkLGMsITEpO3JldHVybiAwfX19LGxhPShhLGIpPT57dmFyIGM9MDthJiYoY3w9MzY1KTtiJiYoY3w9MTQ2KTtyZXR1cm4gY30sRWI9bnVsbCxGYj17fSxHYj1bXSxIYj0xLFI9bnVsbCxJYj0hMSxKYj0hMCxLYj17fSxOPWNsYXNze25hbWU9XCJFcnJub0Vycm9yXCI7Y29uc3RydWN0b3IoYSl7dGhpcy5QYT1hfX0sTGI9Y2xhc3N7Z2I9e307bm9kZT1udWxsO2dldCBmbGFncygpe3JldHVybiB0aGlzLmdiLmZsYWdzfXNldCBmbGFncyhhKXt0aGlzLmdiLmZsYWdzPVxuYX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5nYi5wb3NpdGlvbn1zZXQgcG9zaXRpb24oYSl7dGhpcy5nYi5wb3NpdGlvbj1hfX0sTWI9Y2xhc3N7TGE9e307TWE9e307YWI9bnVsbDtjb25zdHJ1Y3RvcihhLGIsYyxkKXthfHw9dGhpczt0aGlzLnBhcmVudD1hO3RoaXMuWGE9YS5YYTt0aGlzLmlkPUhiKys7dGhpcy5uYW1lPWI7dGhpcy5tb2RlPWM7dGhpcy5yZGV2PWQ7dGhpcy5hdGltZT10aGlzLm10aW1lPXRoaXMuY3RpbWU9RGF0ZS5ub3coKX1nZXQgcmVhZCgpe3JldHVybiAzNjU9PT0odGhpcy5tb2RlJjM2NSl9c2V0IHJlYWQoYSl7YT90aGlzLm1vZGV8PTM2NTp0aGlzLm1vZGUmPS0zNjZ9Z2V0IHdyaXRlKCl7cmV0dXJuIDE0Nj09PSh0aGlzLm1vZGUmMTQ2KX1zZXQgd3JpdGUoYSl7YT90aGlzLm1vZGV8PTE0Njp0aGlzLm1vZGUmPS0xNDd9fTtcbmZ1bmN0aW9uIFMoYSxiPXt9KXtpZighYSl0aHJvdyBuZXcgTig0NCk7Yi5uYj8/KGIubmI9ITApO1wiL1wiPT09YS5jaGFyQXQoMCl8fChhPVwiLy9cIithKTt2YXIgYz0wO2E6Zm9yKDs0MD5jO2MrKyl7YT1hLnNwbGl0KFwiL1wiKS5maWx0ZXIocT0+ISFxKTtmb3IodmFyIGQ9RWIsZT1cIi9cIixoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBrPWg9PT1hLmxlbmd0aC0xO2lmKGsmJmIucGFyZW50KWJyZWFrO2lmKFwiLlwiIT09YVtoXSlpZihcIi4uXCI9PT1hW2hdKWU9ZmIoZSksZD1kLnBhcmVudDtlbHNle2U9a2EoZStcIi9cIithW2hdKTt0cnl7ZD1RKGQsYVtoXSl9Y2F0Y2gocSl7aWYoNDQ9PT1xPy5QYSYmayYmYi5KYilyZXR1cm57cGF0aDplfTt0aHJvdyBxO30hZC5hYnx8ayYmIWIubmJ8fChkPWQuYWIucm9vdCk7aWYoNDA5NjA9PT0oZC5tb2RlJjYxNDQwKSYmKCFrfHxiLiRhKSl7aWYoIWQuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oNTIpO2Q9ZC5MYS5yZWFkbGluayhkKTtcIi9cIj09PWQuY2hhckF0KDApfHxcbihkPWZiKGUpK1wiL1wiK2QpO2E9ZCtcIi9cIithLnNsaWNlKGgrMSkuam9pbihcIi9cIik7Y29udGludWUgYX19fXJldHVybntwYXRoOmUsbm9kZTpkfX10aHJvdyBuZXcgTigzMik7fWZ1bmN0aW9uIGphKGEpe2Zvcih2YXIgYjs7KXtpZihhPT09YS5wYXJlbnQpcmV0dXJuIGE9YS5YYS56YixiP1wiL1wiIT09YVthLmxlbmd0aC0xXT9gJHthfS8ke2J9YDphK2I6YTtiPWI/YCR7YS5uYW1lfS8ke2J9YDphLm5hbWU7YT1hLnBhcmVudH19ZnVuY3Rpb24gTmIoYSxiKXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0oYzw8NSktYytiLmNoYXJDb2RlQXQoZCl8MDtyZXR1cm4oYStjPj4+MCklUi5sZW5ndGh9ZnVuY3Rpb24gQ2IoYSl7dmFyIGI9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTtpZihSW2JdPT09YSlSW2JdPWEuYmI7ZWxzZSBmb3IoYj1SW2JdO2I7KXtpZihiLmJiPT09YSl7Yi5iYj1hLmJiO2JyZWFrfWI9Yi5iYn19XG5mdW5jdGlvbiBRKGEsYil7dmFyIGM9UChhLm1vZGUpPyhjPU9iKGEsXCJ4XCIpKT9jOmEuTGEubG9va3VwPzA6Mjo1NDtpZihjKXRocm93IG5ldyBOKGMpO2ZvcihjPVJbTmIoYS5pZCxiKV07YztjPWMuYmIpe3ZhciBkPWMubmFtZTtpZihjLnBhcmVudC5pZD09PWEuaWQmJmQ9PT1iKXJldHVybiBjfXJldHVybiBhLkxhLmxvb2t1cChhLGIpfWZ1bmN0aW9uIEJiKGEsYixjLGQpe2E9bmV3IE1iKGEsYixjLGQpO2I9TmIoYS5wYXJlbnQuaWQsYS5uYW1lKTthLmJiPVJbYl07cmV0dXJuIFJbYl09YX1mdW5jdGlvbiBQKGEpe3JldHVybiAxNjM4ND09PShhJjYxNDQwKX1mdW5jdGlvbiBQYihhKXt2YXIgYj1bXCJyXCIsXCJ3XCIsXCJyd1wiXVthJjNdO2EmNTEyJiYoYis9XCJ3XCIpO3JldHVybiBifVxuZnVuY3Rpb24gT2IoYSxiKXtpZihKYilyZXR1cm4gMDtpZighYi5pbmNsdWRlcyhcInJcIil8fGEubW9kZSYyOTIpe2lmKGIuaW5jbHVkZXMoXCJ3XCIpJiYhKGEubW9kZSYxNDYpfHxiLmluY2x1ZGVzKFwieFwiKSYmIShhLm1vZGUmNzMpKXJldHVybiAyfWVsc2UgcmV0dXJuIDI7cmV0dXJuIDB9ZnVuY3Rpb24gUWIoYSxiKXtpZighUChhLm1vZGUpKXJldHVybiA1NDt0cnl7cmV0dXJuIFEoYSxiKSwyMH1jYXRjaChjKXt9cmV0dXJuIE9iKGEsXCJ3eFwiKX1mdW5jdGlvbiBSYihhLGIsYyl7dHJ5e3ZhciBkPVEoYSxiKX1jYXRjaChlKXtyZXR1cm4gZS5QYX1pZihhPU9iKGEsXCJ3eFwiKSlyZXR1cm4gYTtpZihjKXtpZighUChkLm1vZGUpKXJldHVybiA1NDtpZihkPT09ZC5wYXJlbnR8fFwiL1wiPT09amEoZCkpcmV0dXJuIDEwfWVsc2UgaWYoUChkLm1vZGUpKXJldHVybiAzMTtyZXR1cm4gMH1mdW5jdGlvbiBTYihhKXtpZighYSl0aHJvdyBuZXcgTig2Myk7cmV0dXJuIGF9XG5mdW5jdGlvbiBUKGEpe2E9R2JbYV07aWYoIWEpdGhyb3cgbmV3IE4oOCk7cmV0dXJuIGF9ZnVuY3Rpb24gVGIoYSxiPS0xKXthPU9iamVjdC5hc3NpZ24obmV3IExiLGEpO2lmKC0xPT1iKWE6e2ZvcihiPTA7NDA5Nj49YjtiKyspaWYoIUdiW2JdKWJyZWFrIGE7dGhyb3cgbmV3IE4oMzMpO31hLmZkPWI7cmV0dXJuIEdiW2JdPWF9ZnVuY3Rpb24gVWIoYSxiPS0xKXthPVRiKGEsYik7YS5NYT8uUmI/LihhKTtyZXR1cm4gYX1mdW5jdGlvbiBWYihhLGIsYyl7dmFyIGQ9YT8uTWEuVWE7YT1kP2E6YjtkPz89Yi5MYS5VYTtTYihkKTtkKGEsYyl9dmFyIEFiPXtvcGVuKGEpe2EuTWE9RmJbYS5ub2RlLnJkZXZdLk1hO2EuTWEub3Blbj8uKGEpfSxWYSgpe3Rocm93IG5ldyBOKDcwKTt9fTtmdW5jdGlvbiB3YihhLGIpe0ZiW2FdPXtNYTpifX1cbmZ1bmN0aW9uIFdiKGEsYil7dmFyIGM9XCIvXCI9PT1iO2lmKGMmJkViKXRocm93IG5ldyBOKDEwKTtpZighYyYmYil7dmFyIGQ9UyhiLHtuYjohMX0pO2I9ZC5wYXRoO2Q9ZC5ub2RlO2lmKGQuYWIpdGhyb3cgbmV3IE4oMTApO2lmKCFQKGQubW9kZSkpdGhyb3cgbmV3IE4oNTQpO31iPXt0eXBlOmEsV2I6e30semI6YixJYjpbXX07YT1hLlhhKGIpO2EuWGE9YjtiLnJvb3Q9YTtjP0ViPWE6ZCYmKGQuYWI9YixkLlhhJiZkLlhhLkliLnB1c2goYikpfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZD1TKGEse3BhcmVudDohMH0pLm5vZGU7YT1nYihhKTtpZighYSl0aHJvdyBuZXcgTigyOCk7aWYoXCIuXCI9PT1hfHxcIi4uXCI9PT1hKXRocm93IG5ldyBOKDIwKTt2YXIgZT1RYihkLGEpO2lmKGUpdGhyb3cgbmV3IE4oZSk7aWYoIWQuTGEuaGIpdGhyb3cgbmV3IE4oNjMpO3JldHVybiBkLkxhLmhiKGQsYSxiLGMpfVxuZnVuY3Rpb24gbWEoYSxiPTQzOCl7cmV0dXJuIFhiKGEsYiY0MDk1fDMyNzY4LDApfWZ1bmN0aW9uIFUoYSxiPTUxMSl7cmV0dXJuIFhiKGEsYiYxMDIzfDE2Mzg0LDApfWZ1bmN0aW9uIFliKGEsYixjKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgYyYmKGM9YixiPTQzOCk7WGIoYSxifDgxOTIsYyl9ZnVuY3Rpb24gWmIoYSxiKXtpZighamIoYSkpdGhyb3cgbmV3IE4oNDQpO3ZhciBjPVMoYix7cGFyZW50OiEwfSkubm9kZTtpZighYyl0aHJvdyBuZXcgTig0NCk7Yj1nYihiKTt2YXIgZD1RYihjLGIpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWMuTGEuc3ltbGluayl0aHJvdyBuZXcgTig2Myk7Yy5MYS5zeW1saW5rKGMsYixhKX1cbmZ1bmN0aW9uICRiKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTthPWdiKGEpO3ZhciBjPVEoYixhKSxkPVJiKGIsYSwhMCk7aWYoZCl0aHJvdyBuZXcgTihkKTtpZighYi5MYS5ybWRpcil0aHJvdyBuZXcgTig2Myk7aWYoYy5hYil0aHJvdyBuZXcgTigxMCk7Yi5MYS5ybWRpcihiLGEpO0NiKGMpfWZ1bmN0aW9uIHphKGEpe3ZhciBiPVMoYSx7cGFyZW50OiEwfSkubm9kZTtpZighYil0aHJvdyBuZXcgTig0NCk7YT1nYihhKTt2YXIgYz1RKGIsYSksZD1SYihiLGEsITEpO2lmKGQpdGhyb3cgbmV3IE4oZCk7aWYoIWIuTGEudW5saW5rKXRocm93IG5ldyBOKDYzKTtpZihjLmFiKXRocm93IG5ldyBOKDEwKTtiLkxhLnVubGluayhiLGEpO0NiKGMpfWZ1bmN0aW9uIGFjKGEsYil7YT1TKGEseyRhOiFifSkubm9kZTtyZXR1cm4gU2IoYS5MYS5UYSkoYSl9XG5mdW5jdGlvbiBiYyhhLGIsYyxkKXtWYihhLGIse21vZGU6YyY0MDk1fGIubW9kZSYtNDA5NixjdGltZTpEYXRlLm5vdygpLEZiOmR9KX1mdW5jdGlvbiBuYShhLGIpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/UyhhLHskYTohMH0pLm5vZGU6YTtiYyhudWxsLGEsYil9ZnVuY3Rpb24gY2MoYSxiLGMpe2lmKFAoYi5tb2RlKSl0aHJvdyBuZXcgTigzMSk7aWYoMzI3NjghPT0oYi5tb2RlJjYxNDQwKSl0aHJvdyBuZXcgTigyOCk7dmFyIGQ9T2IoYixcIndcIik7aWYoZCl0aHJvdyBuZXcgTihkKTtWYihhLGIse3NpemU6Yyx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfVxuZnVuY3Rpb24gb2EoYSxiLGM9NDM4KXtpZihcIlwiPT09YSl0aHJvdyBuZXcgTig0NCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe3ZhciBkPXtyOjAsXCJyK1wiOjIsdzo1NzcsXCJ3K1wiOjU3OCxhOjEwODksXCJhK1wiOjEwOTB9W2JdO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKXRocm93IEVycm9yKGBVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAke2J9YCk7Yj1kfWM9YiY2ND9jJjQwOTV8MzI3Njg6MDtpZihcIm9iamVjdFwiPT10eXBlb2YgYSlkPWE7ZWxzZXt2YXIgZT1hLmVuZHNXaXRoKFwiL1wiKTthPVMoYSx7JGE6IShiJjEzMTA3MiksSmI6ITB9KTtkPWEubm9kZTthPWEucGF0aH12YXIgaD0hMTtpZihiJjY0KWlmKGQpe2lmKGImMTI4KXRocm93IG5ldyBOKDIwKTt9ZWxzZXtpZihlKXRocm93IG5ldyBOKDMxKTtkPVhiKGEsY3w1MTEsMCk7aD0hMH1pZighZCl0aHJvdyBuZXcgTig0NCk7ODE5Mj09PShkLm1vZGUmNjE0NDApJiYoYiY9LTUxMyk7aWYoYiY2NTUzNiYmIVAoZC5tb2RlKSl0aHJvdyBuZXcgTig1NCk7XG5pZighaCYmKGU9ZD80MDk2MD09PShkLm1vZGUmNjE0NDApPzMyOlAoZC5tb2RlKSYmKFwiclwiIT09UGIoYil8fGImNTc2KT8zMTpPYihkLFBiKGIpKTo0NCkpdGhyb3cgbmV3IE4oZSk7YiY1MTImJiFoJiYoZT1kLGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/UyhlLHskYTohMH0pLm5vZGU6ZSxjYyhudWxsLGUsMCkpO2ImPS0xMzE3MTM7ZT1UYih7bm9kZTpkLHBhdGg6amEoZCksZmxhZ3M6YixzZWVrYWJsZTohMCxwb3NpdGlvbjowLE1hOmQuTWEsTGI6W10sZXJyb3I6ITF9KTtlLk1hLm9wZW4mJmUuTWEub3BlbihlKTtoJiZuYShkLGMmNTExKTshZi5sb2dSZWFkRmlsZXN8fGImMXx8YSBpbiBLYnx8KEtiW2FdPTEpO3JldHVybiBlfWZ1bmN0aW9uIHFhKGEpe2lmKG51bGw9PT1hLmZkKXRocm93IG5ldyBOKDgpO2Eub2ImJihhLm9iPW51bGwpO3RyeXthLk1hLmNsb3NlJiZhLk1hLmNsb3NlKGEpfWNhdGNoKGIpe3Rocm93IGI7fWZpbmFsbHl7R2JbYS5mZF09bnVsbH1hLmZkPW51bGx9XG5mdW5jdGlvbiBtYyhhLGIsYyl7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoIWEuc2Vla2FibGV8fCFhLk1hLlZhKXRocm93IG5ldyBOKDcwKTtpZigwIT1jJiYxIT1jJiYyIT1jKXRocm93IG5ldyBOKDI4KTthLnBvc2l0aW9uPWEuTWEuVmEoYSxiLGMpO2EuTGI9W119ZnVuY3Rpb24gRWMoYSxiLGMsZCxlKXtpZigwPmR8fDA+ZSl0aHJvdyBuZXcgTigyOCk7aWYobnVsbD09PWEuZmQpdGhyb3cgbmV3IE4oOCk7aWYoMT09PShhLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDgpO2lmKFAoYS5ub2RlLm1vZGUpKXRocm93IG5ldyBOKDMxKTtpZighYS5NYS5yZWFkKXRocm93IG5ldyBOKDI4KTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLnJlYWQoYSxiLGMsZCxlKTtofHwoYS5wb3NpdGlvbis9Yik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBwYShhLGIsYyxkLGUpe2lmKDA+ZHx8MD5lKXRocm93IG5ldyBOKDI4KTtpZihudWxsPT09YS5mZCl0aHJvdyBuZXcgTig4KTtpZigwPT09KGEuZmxhZ3MmMjA5NzE1NSkpdGhyb3cgbmV3IE4oOCk7aWYoUChhLm5vZGUubW9kZSkpdGhyb3cgbmV3IE4oMzEpO2lmKCFhLk1hLndyaXRlKXRocm93IG5ldyBOKDI4KTthLnNlZWthYmxlJiZhLmZsYWdzJjEwMjQmJm1jKGEsMCwyKTt2YXIgaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZTtpZighaCllPWEucG9zaXRpb247ZWxzZSBpZighYS5zZWVrYWJsZSl0aHJvdyBuZXcgTig3MCk7Yj1hLk1hLndyaXRlKGEsYixjLGQsZSx2b2lkIDApO2h8fChhLnBvc2l0aW9uKz1iKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIHlhKGEpe3ZhciBiPVwiYmluYXJ5XCI7aWYoXCJ1dGY4XCIhPT1iJiZcImJpbmFyeVwiIT09Yil0aHJvdyBFcnJvcihgSW52YWxpZCBlbmNvZGluZyB0eXBlIFwiJHtifVwiYCk7dmFyIGM7dmFyIGQ9b2EoYSxkfHwwKTthPWFjKGEpLnNpemU7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoYSk7RWMoZCxlLDAsYSwwKTtcInV0ZjhcIj09PWI/Yz1CKGUpOlwiYmluYXJ5XCI9PT1iJiYoYz1lKTtxYShkKTtyZXR1cm4gY31cbmZ1bmN0aW9uIFYoYSxiLGMpe2E9a2EoXCIvZGV2L1wiK2EpO3ZhciBkPWxhKCEhYiwhIWMpO1YueWI/PyhWLnliPTY0KTt2YXIgZT1WLnliKys8PDh8MDt3YihlLHtvcGVuKGgpe2guc2Vla2FibGU9ITF9LGNsb3NlKCl7Yz8uYnVmZmVyPy5sZW5ndGgmJmMoMTApfSxyZWFkKGgsayxxLHcpe2Zvcih2YXIgdj0wLEM9MDtDPHc7QysrKXt0cnl7dmFyIEc9YigpfWNhdGNoKHBiKXt0aHJvdyBuZXcgTigyOSk7fWlmKHZvaWQgMD09PUcmJjA9PT12KXRocm93IG5ldyBOKDYpO2lmKG51bGw9PT1HfHx2b2lkIDA9PT1HKWJyZWFrO3YrKztrW3ErQ109R312JiYoaC5ub2RlLmF0aW1lPURhdGUubm93KCkpO3JldHVybiB2fSx3cml0ZShoLGsscSx3KXtmb3IodmFyIHY9MDt2PHc7disrKXRyeXtjKGtbcSt2XSl9Y2F0Y2goQyl7dGhyb3cgbmV3IE4oMjkpO313JiYoaC5ub2RlLm10aW1lPWgubm9kZS5jdGltZT1EYXRlLm5vdygpKTtyZXR1cm4gdn19KTtZYihhLGQsZSl9dmFyIFc9e307XG5mdW5jdGlvbiBHYyhhLGIsYyl7aWYoXCIvXCI9PT1iLmNoYXJBdCgwKSlyZXR1cm4gYjthPS0xMDA9PT1hP1wiL1wiOlQoYSkucGF0aDtpZigwPT1iLmxlbmd0aCl7aWYoIWMpdGhyb3cgbmV3IE4oNDQpO3JldHVybiBhfXJldHVybiBhK1wiL1wiK2J9XG5mdW5jdGlvbiBIYyhhLGIpe0VbYT4+Ml09Yi5kZXY7RVthKzQ+PjJdPWIubW9kZTtGW2ErOD4+Ml09Yi5ubGluaztFW2ErMTI+PjJdPWIudWlkO0VbYSsxNj4+Ml09Yi5naWQ7RVthKzIwPj4yXT1iLnJkZXY7SFthKzI0Pj4zXT1CaWdJbnQoYi5zaXplKTtFW2ErMzI+PjJdPTQwOTY7RVthKzM2Pj4yXT1iLmJsb2Nrczt2YXIgYz1iLmF0aW1lLmdldFRpbWUoKSxkPWIubXRpbWUuZ2V0VGltZSgpLGU9Yi5jdGltZS5nZXRUaW1lKCk7SFthKzQwPj4zXT1CaWdJbnQoTWF0aC5mbG9vcihjLzFFMykpO0ZbYSs0OD4+Ml09YyUxRTMqMUU2O0hbYSs1Nj4+M109QmlnSW50KE1hdGguZmxvb3IoZC8xRTMpKTtGW2ErNjQ+PjJdPWQlMUUzKjFFNjtIW2ErNzI+PjNdPUJpZ0ludChNYXRoLmZsb29yKGUvMUUzKSk7RlthKzgwPj4yXT1lJTFFMyoxRTY7SFthKzg4Pj4zXT1CaWdJbnQoYi5pbm8pO3JldHVybiAwfVxudmFyIEljPXZvaWQgMCxKYz0oKT0+e3ZhciBhPUVbK0ljPj4yXTtJYys9NDtyZXR1cm4gYX0sS2M9MCxMYz1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSxNYz1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxOYz17fSxPYz1hPT57TWE9YTtjYnx8MDxLY3x8KGYub25FeGl0Py4oYSksTGE9ITApO0RhKGEsbmV3IFlhKGEpKX0sUGM9YT0+e2lmKCFMYSl0cnl7aWYoYSgpLCEoY2J8fDA8S2MpKXRyeXtNYT1hPU1hLE9jKGEpfWNhdGNoKGIpe2IgaW5zdGFuY2VvZiBZYXx8XCJ1bndpbmRcIj09Ynx8RGEoMSxiKX19Y2F0Y2goYil7YiBpbnN0YW5jZW9mIFlhfHxcInVud2luZFwiPT1ifHxEYSgxLGIpfX0sUWM9e30sU2M9KCk9PntpZighUmMpe3ZhciBhPXtVU0VSOlwid2ViX3VzZXJcIixMT0dOQU1FOlwid2ViX3VzZXJcIixQQVRIOlwiL1wiLFBXRDpcIi9cIixIT01FOlwiL2hvbWUvd2ViX3VzZXJcIixMQU5HOihcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiZcbm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fFwiQ1wiKS5yZXBsYWNlKFwiLVwiLFwiX1wiKStcIi5VVEYtOFwiLF86Q2F8fFwiLi90aGlzLnByb2dyYW1cIn0sYjtmb3IoYiBpbiBRYyl2b2lkIDA9PT1RY1tiXT9kZWxldGUgYVtiXTphW2JdPVFjW2JdO3ZhciBjPVtdO2ZvcihiIGluIGEpYy5wdXNoKGAke2J9PSR7YVtiXX1gKTtSYz1jfXJldHVybiBSY30sUmMseGE9YT0+e3ZhciBiPWhhKGEpKzEsYz16KGIpO3UoYSx4LGMsYik7cmV0dXJuIGN9LFRjPShhLGIsYyxkKT0+e3ZhciBlPXtzdHJpbmc6dj0+e3ZhciBDPTA7bnVsbCE9PXYmJnZvaWQgMCE9PXYmJjAhPT12JiYoQz14YSh2KSk7cmV0dXJuIEN9LGFycmF5OnY9Pnt2YXIgQz16KHYubGVuZ3RoKTtwLnNldCh2LEMpO3JldHVybiBDfX07YT1mW1wiX1wiK2FdO3ZhciBoPVtdLGs9MDtpZihkKWZvcih2YXIgcT0wO3E8ZC5sZW5ndGg7cSsrKXt2YXIgdz1lW2NbcV1dO3c/KDA9PT1rJiYoaz1zYSgpKSxoW3FdPXcoZFtxXSkpOlxuaFtxXT1kW3FdfWM9YSguLi5oKTtyZXR1cm4gYz1mdW5jdGlvbih2KXswIT09ayYmd2Eoayk7cmV0dXJuXCJzdHJpbmdcIj09PWI/dj9CKHgsdik6XCJcIjpcImJvb2xlYW5cIj09PWI/ISF2OnZ9KGMpfSxlYT0wLGRhPShhLGIpPT57Yj0xPT1iP3ooYS5sZW5ndGgpOmlhKGEubGVuZ3RoKTthLnN1YmFycmF5fHxhLnNsaWNlfHwoYT1uZXcgVWludDhBcnJheShhKSk7eC5zZXQoYSxiKTtyZXR1cm4gYn0sVWMsVmM9W10sWSxBPWE9PntVYy5kZWxldGUoWS5nZXQoYSkpO1kuc2V0KGEsbnVsbCk7VmMucHVzaChhKX0sQWE9KGEsYik9PntpZighVWMpe1VjPW5ldyBXZWFrTWFwO3ZhciBjPVkubGVuZ3RoO2lmKFVjKWZvcih2YXIgZD0wO2Q8MCtjO2QrKyl7dmFyIGU9WS5nZXQoZCk7ZSYmVWMuc2V0KGUsZCl9fWlmKGM9VWMuZ2V0KGEpfHwwKXJldHVybiBjO2lmKFZjLmxlbmd0aCljPVZjLnBvcCgpO2Vsc2V7dHJ5e1kuZ3JvdygxKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyB3O1xudGhyb3dcIlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguXCI7fWM9WS5sZW5ndGgtMX10cnl7WS5zZXQoYyxhKX1jYXRjaCh3KXtpZighKHcgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKXRocm93IHc7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgV2ViQXNzZW1ibHkuRnVuY3Rpb24pe3ZhciBoPVdlYkFzc2VtYmx5LkZ1bmN0aW9uO2Q9e2k6XCJpMzJcIixqOlwiaTY0XCIsZjpcImYzMlwiLGQ6XCJmNjRcIixlOlwiZXh0ZXJucmVmXCIscDpcImkzMlwifTtlPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6XCJ2XCI9PWJbMF0/W106W2RbYlswXV1dfTtmb3IodmFyIGs9MTtrPGIubGVuZ3RoOysrayllLnBhcmFtZXRlcnMucHVzaChkW2Jba11dKTtiPW5ldyBoKGUsYSl9ZWxzZXtkPVsxXTtlPWIuc2xpY2UoMCwxKTtiPWIuc2xpY2UoMSk7az17aToxMjcscDoxMjcsajoxMjYsZjoxMjUsZDoxMjQsZToxMTF9O2QucHVzaCg5Nik7dmFyIHE9Yi5sZW5ndGg7MTI4PnE/ZC5wdXNoKHEpOmQucHVzaChxJVxuMTI4fDEyOCxxPj43KTtmb3IoaCBvZiBiKWQucHVzaChrW2hdKTtcInZcIj09ZT9kLnB1c2goMCk6ZC5wdXNoKDEsa1tlXSk7Yj1bMCw5NywxMTUsMTA5LDEsMCwwLDAsMV07aD1kLmxlbmd0aDsxMjg+aD9iLnB1c2goaCk6Yi5wdXNoKGglMTI4fDEyOCxoPj43KTtiLnB1c2goLi4uZCk7Yi5wdXNoKDIsNywxLDEsMTAxLDEsMTAyLDAsMCw3LDUsMSwxLDEwMiwwLDApO2I9bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShiKSk7Yj0obmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGIse2U6e2Y6YX19KSkuZXhwb3J0cy5mfVkuc2V0KGMsYil9VWMuc2V0KGEsYyk7cmV0dXJuIGN9O1I9QXJyYXkoNDA5Nik7V2IoTyxcIi9cIik7VShcIi90bXBcIik7VShcIi9ob21lXCIpO1UoXCIvaG9tZS93ZWJfdXNlclwiKTtcbihmdW5jdGlvbigpe1UoXCIvZGV2XCIpO3diKDI1OSx7cmVhZDooKT0+MCx3cml0ZTooZCxlLGgsayk9PmssVmE6KCk9PjB9KTtZYihcIi9kZXYvbnVsbFwiLDI1OSk7bmIoMTI4MCx5Yik7bmIoMTUzNix6Yik7WWIoXCIvZGV2L3R0eVwiLDEyODApO1liKFwiL2Rldi90dHkxXCIsMTUzNik7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoMTAyNCksYj0wLGM9KCk9PnswPT09YiYmKGliKGEpLGI9YS5ieXRlTGVuZ3RoKTtyZXR1cm4gYVstLWJdfTtWKFwicmFuZG9tXCIsYyk7VihcInVyYW5kb21cIixjKTtVKFwiL2Rldi9zaG1cIik7VShcIi9kZXYvc2htL3RtcFwiKX0pKCk7XG4oZnVuY3Rpb24oKXtVKFwiL3Byb2NcIik7dmFyIGE9VShcIi9wcm9jL3NlbGZcIik7VShcIi9wcm9jL3NlbGYvZmRcIik7V2Ioe1hhKCl7dmFyIGI9QmIoYSxcImZkXCIsMTY4OTUsNzMpO2IuTWE9e1ZhOk8uTWEuVmF9O2IuTGE9e2xvb2t1cChjLGQpe2M9K2Q7dmFyIGU9VChjKTtjPXtwYXJlbnQ6bnVsbCxYYTp7emI6XCJmYWtlXCJ9LExhOntyZWFkbGluazooKT0+ZS5wYXRofSxpZDpjKzF9O3JldHVybiBjLnBhcmVudD1jfSxyZWFkZGlyKCl7cmV0dXJuIEFycmF5LmZyb20oR2IuZW50cmllcygpKS5maWx0ZXIoKFssY10pPT5jKS5tYXAoKFtjXSk9PmMudG9TdHJpbmcoKSl9fTtyZXR1cm4gYn19LFwiL3Byb2Mvc2VsZi9mZFwiKX0pKCk7Ty52Yj1uZXcgTig0NCk7Ty52Yi5zdGFjaz1cIjxnZW5lcmljIGVycm9yLCBubyBzdGFjaz5cIjtcbnZhciBYYz17YTooYSxiLGMsZCk9PlRhKGBBc3NlcnRpb24gZmFpbGVkOiAke2E/Qih4LGEpOlwiXCJ9LCBhdDogYCtbYj9iP0IoeCxiKTpcIlwiOlwidW5rbm93biBmaWxlbmFtZVwiLGMsZD9kP0IoeCxkKTpcIlwiOlwidW5rbm93biBmdW5jdGlvblwiXSksaTpmdW5jdGlvbihhLGIpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLG5hKGEsYiksMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LEw6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKGMmLTgpcmV0dXJuLTI4O3ZhciBkPVMoYix7JGE6ITB9KS5ub2RlO2lmKCFkKXJldHVybi00NDthPVwiXCI7YyY0JiYoYSs9XCJyXCIpO2MmMiYmKGErPVwid1wiKTtjJjEmJihhKz1cInhcIik7cmV0dXJuIGEmJk9iKGQsYSk/LTI6MH1jYXRjaChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1lLm5hbWUpdGhyb3cgZTtcbnJldHVybi1lLlBhfX0sajpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO2JjKGMsYy5ub2RlLGIsITEpO3JldHVybiAwfWNhdGNoKGQpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWQubmFtZSl0aHJvdyBkO3JldHVybi1kLlBhfX0saDpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtWYihiLGIubm9kZSx7dGltZXN0YW1wOkRhdGUubm93KCksRmI6ITF9KTtyZXR1cm4gMH1jYXRjaChjKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1jLm5hbWUpdGhyb3cgYztyZXR1cm4tYy5QYX19LGI6ZnVuY3Rpb24oYSxiLGMpe0ljPWM7dHJ5e3ZhciBkPVQoYSk7c3dpdGNoKGIpe2Nhc2UgMDp2YXIgZT1KYygpO2lmKDA+ZSlicmVhaztmb3IoO0diW2VdOyllKys7cmV0dXJuIFViKGQsZSkuZmQ7Y2FzZSAxOmNhc2UgMjpyZXR1cm4gMDtjYXNlIDM6cmV0dXJuIGQuZmxhZ3M7Y2FzZSA0OnJldHVybiBlPUpjKCksZC5mbGFnc3w9ZSwwO1xuY2FzZSAxMjpyZXR1cm4gZT1KYygpLE5hW2UrMD4+MV09MiwwO2Nhc2UgMTM6Y2FzZSAxNDpyZXR1cm4gMH1yZXR1cm4tMjh9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSxnOmZ1bmN0aW9uKGEsYil7dHJ5e3ZhciBjPVQoYSksZD1jLm5vZGUsZT1jLk1hLlRhO2E9ZT9jOmQ7ZT8/PWQuTGEuVGE7U2IoZSk7dmFyIGg9ZShhKTtyZXR1cm4gSGMoYixoKX1jYXRjaChrKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1rLm5hbWUpdGhyb3cgaztyZXR1cm4tay5QYX19LEg6ZnVuY3Rpb24oYSxiKXtiPS05MDA3MTk5MjU0NzQwOTkyPmJ8fDkwMDcxOTkyNTQ3NDA5OTI8Yj9OYU46TnVtYmVyKGIpO3RyeXtpZihpc05hTihiKSlyZXR1cm4gNjE7dmFyIGM9VChhKTtpZigwPmJ8fDA9PT0oYy5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyOCk7Y2MoYyxjLm5vZGUsYik7XG5yZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEc6ZnVuY3Rpb24oYSxiKXt0cnl7aWYoMD09PWIpcmV0dXJuLTI4O3ZhciBjPWhhKFwiL1wiKSsxO2lmKGI8YylyZXR1cm4tNjg7dShcIi9cIix4LGEsYik7cmV0dXJuIGN9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09ZC5uYW1lKXRocm93IGQ7cmV0dXJuLWQuUGF9fSxLOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhLCEwKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxDOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksVShiLGMpLDB9Y2F0Y2goZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09XG5kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LEo6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2I9Yj9CKHgsYik6XCJcIjt2YXIgZT1kJjI1NjtiPUdjKGEsYixkJjQwOTYpO3JldHVybiBIYyhjLGU/YWMoYiwhMCk6YWMoYikpfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybi1oLlBhfX0seDpmdW5jdGlvbihhLGIsYyxkKXtJYz1kO3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO3ZhciBlPWQ/SmMoKTowO3JldHVybiBvYShiLGMsZSkuZmR9Y2F0Y2goaCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09aC5uYW1lKXRocm93IGg7cmV0dXJuLWguUGF9fSx2OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIpO2lmKDA+PWQpcmV0dXJuLTI4O3ZhciBlPVMoYikubm9kZTtpZighZSl0aHJvdyBuZXcgTig0NCk7aWYoIWUuTGEucmVhZGxpbmspdGhyb3cgbmV3IE4oMjgpO1xudmFyIGg9ZS5MYS5yZWFkbGluayhlKTt2YXIgaz1NYXRoLm1pbihkLGhhKGgpKSxxPXBbYytrXTt1KGgseCxjLGQrMSk7cFtjK2tdPXE7cmV0dXJuIGt9Y2F0Y2godyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09dy5uYW1lKXRocm93IHc7cmV0dXJuLXcuUGF9fSx1OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYT1hP0IoeCxhKTpcIlwiLCRiKGEpLDB9Y2F0Y2goYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yi5uYW1lKXRocm93IGI7cmV0dXJuLWIuUGF9fSxmOmZ1bmN0aW9uKGEsYil7dHJ5e3JldHVybiBhPWE/Qih4LGEpOlwiXCIsSGMoYixhYyhhKSl9Y2F0Y2goYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Yy5uYW1lKXRocm93IGM7cmV0dXJuLWMuUGF9fSxyOmZ1bmN0aW9uKGEsYixjKXt0cnl7cmV0dXJuIGI9Yj9CKHgsYik6XCJcIixiPUdjKGEsYiksMD09PWM/emEoYik6NTEyPT09Yz8kYihiKTpcblRhKFwiSW52YWxpZCBmbGFncyBwYXNzZWQgdG8gdW5saW5rYXRcIiksMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4tZC5QYX19LHE6ZnVuY3Rpb24oYSxiLGMpe3RyeXtiPWI/Qih4LGIpOlwiXCI7Yj1HYyhhLGIsITApO3ZhciBkPURhdGUubm93KCksZSxoO2lmKGMpe3ZhciBrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml0scT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9lPWQ6MTA3Mzc0MTgyMj09cT9lPW51bGw6ZT0xRTMqaytxLzFFNjtjKz0xNjtrPUZbYz4+Ml0rNDI5NDk2NzI5NipFW2MrND4+Ml07cT1FW2MrOD4+Ml07MTA3Mzc0MTgyMz09cT9oPWQ6MTA3Mzc0MTgyMj09cT9oPW51bGw6aD0xRTMqaytxLzFFNn1lbHNlIGg9ZT1kO2lmKG51bGwhPT0oaD8/ZSkpe2E9ZTt2YXIgdz1TKGIseyRhOiEwfSkubm9kZTtTYih3LkxhLlVhKSh3LHthdGltZTphLG10aW1lOmh9KX1yZXR1cm4gMH1jYXRjaCh2KXtpZihcInVuZGVmaW5lZFwiPT1cbnR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXYubmFtZSl0aHJvdyB2O3JldHVybi12LlBhfX0sbTooKT0+VGEoXCJcIiksbDooKT0+e2NiPSExO0tjPTB9LEE6ZnVuY3Rpb24oYSxiKXthPS05MDA3MTk5MjU0NzQwOTkyPmF8fDkwMDcxOTkyNTQ3NDA5OTI8YT9OYU46TnVtYmVyKGEpO2E9bmV3IERhdGUoMUUzKmEpO0VbYj4+Ml09YS5nZXRTZWNvbmRzKCk7RVtiKzQ+PjJdPWEuZ2V0TWludXRlcygpO0VbYis4Pj4yXT1hLmdldEhvdXJzKCk7RVtiKzEyPj4yXT1hLmdldERhdGUoKTtFW2IrMTY+PjJdPWEuZ2V0TW9udGgoKTtFW2IrMjA+PjJdPWEuZ2V0RnVsbFllYXIoKS0xOTAwO0VbYisyND4+Ml09YS5nZXREYXkoKTt2YXIgYz1hLmdldEZ1bGxZZWFyKCk7RVtiKzI4Pj4yXT0oMCE9PWMlNHx8MD09PWMlMTAwJiYwIT09YyU0MDA/TWM6TGMpW2EuZ2V0TW9udGgoKV0rYS5nZXREYXRlKCktMXwwO0VbYiszNj4+Ml09LSg2MCphLmdldFRpbWV6b25lT2Zmc2V0KCkpO2M9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxcbjYsMSkpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGQ9KG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO0VbYiszMj4+Ml09KGMhPWQmJmEuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oZCxjKSl8MH0seTpmdW5jdGlvbihhLGIsYyxkLGUsaCxrKXtlPS05MDA3MTk5MjU0NzQwOTkyPmV8fDkwMDcxOTkyNTQ3NDA5OTI8ZT9OYU46TnVtYmVyKGUpO3RyeXtpZihpc05hTihlKSlyZXR1cm4gNjE7dmFyIHE9VChkKTtpZigwIT09KGImMikmJjA9PT0oYyYyKSYmMiE9PShxLmZsYWdzJjIwOTcxNTUpKXRocm93IG5ldyBOKDIpO2lmKDE9PT0ocS5mbGFncyYyMDk3MTU1KSl0aHJvdyBuZXcgTigyKTtpZighcS5NYS5pYil0aHJvdyBuZXcgTig0Myk7aWYoIWEpdGhyb3cgbmV3IE4oMjgpO3ZhciB3PXEuTWEuaWIocSxhLGUsYixjKTt2YXIgdj13LktiO0VbaD4+Ml09dy5BYjtGW2s+PjJdPXY7cmV0dXJuIDB9Y2F0Y2goQyl7aWYoXCJ1bmRlZmluZWRcIj09XG50eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1DLm5hbWUpdGhyb3cgQztyZXR1cm4tQy5QYX19LHo6ZnVuY3Rpb24oYSxiLGMsZCxlLGgpe2g9LTkwMDcxOTkyNTQ3NDA5OTI+aHx8OTAwNzE5OTI1NDc0MDk5MjxoP05hTjpOdW1iZXIoaCk7dHJ5e3ZhciBrPVQoZSk7aWYoYyYyKXtjPWg7aWYoMzI3NjghPT0oay5ub2RlLm1vZGUmNjE0NDApKXRocm93IG5ldyBOKDQzKTtpZighKGQmMikpe3ZhciBxPXguc2xpY2UoYSxhK2IpO2suTWEuamImJmsuTWEuamIoayxxLGMsYixkKX19fWNhdGNoKHcpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PXcubmFtZSl0aHJvdyB3O3JldHVybi13LlBhfX0sbjooYSxiKT0+e05jW2FdJiYoY2xlYXJUaW1lb3V0KE5jW2FdLmlkKSxkZWxldGUgTmNbYV0pO2lmKCFiKXJldHVybiAwO3ZhciBjPXNldFRpbWVvdXQoKCk9PntkZWxldGUgTmNbYV07UGMoKCk9PldjKGEscGVyZm9ybWFuY2Uubm93KCkpKX0sYik7TmNbYV09e2lkOmMsXG5YYjpifTtyZXR1cm4gMH0sQjooYSxiLGMsZCk9Pnt2YXIgZT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksaD0obmV3IERhdGUoZSwwLDEpKS5nZXRUaW1lem9uZU9mZnNldCgpO2U9KG5ldyBEYXRlKGUsNiwxKSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtGW2E+PjJdPTYwKk1hdGgubWF4KGgsZSk7RVtiPj4yXT1OdW1iZXIoaCE9ZSk7Yj1rPT57dmFyIHE9TWF0aC5hYnMoayk7cmV0dXJuYFVUQyR7MDw9az9cIi1cIjpcIitcIn0ke1N0cmluZyhNYXRoLmZsb29yKHEvNjApKS5wYWRTdGFydCgyLFwiMFwiKX0ke1N0cmluZyhxJTYwKS5wYWRTdGFydCgyLFwiMFwiKX1gfTthPWIoaCk7Yj1iKGUpO2U8aD8odShhLHgsYywxNyksdShiLHgsZCwxNykpOih1KGEseCxkLDE3KSx1KGIseCxjLDE3KSl9LGQ6KCk9PkRhdGUubm93KCksczooKT0+MjE0NzQ4MzY0OCxjOigpPT5wZXJmb3JtYW5jZS5ub3coKSxvOmE9Pnt2YXIgYj14Lmxlbmd0aDthPj4+PTA7aWYoMjE0NzQ4MzY0ODxhKXJldHVybiExO2Zvcih2YXIgYz1cbjE7ND49YztjKj0yKXt2YXIgZD1iKigxKy4yL2MpO2Q9TWF0aC5taW4oZCxhKzEwMDY2MzI5Nik7YTp7ZD0oTWF0aC5taW4oMjE0NzQ4MzY0OCw2NTUzNipNYXRoLmNlaWwoTWF0aC5tYXgoYSxkKS82NTUzNikpLUthLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNnwwO3RyeXtLYS5ncm93KGQpO1FhKCk7dmFyIGU9MTticmVhayBhfWNhdGNoKGgpe31lPXZvaWQgMH1pZihlKXJldHVybiEwfXJldHVybiExfSxFOihhLGIpPT57dmFyIGM9MDtTYygpLmZvckVhY2goKGQsZSk9Pnt2YXIgaD1iK2M7ZT1GW2ErNCplPj4yXT1oO2ZvcihoPTA7aDxkLmxlbmd0aDsrK2gpcFtlKytdPWQuY2hhckNvZGVBdChoKTtwW2VdPTA7Yys9ZC5sZW5ndGgrMX0pO3JldHVybiAwfSxGOihhLGIpPT57dmFyIGM9U2MoKTtGW2E+PjJdPWMubGVuZ3RoO3ZhciBkPTA7Yy5mb3JFYWNoKGU9PmQrPWUubGVuZ3RoKzEpO0ZbYj4+Ml09ZDtyZXR1cm4gMH0sZTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtcbnFhKGIpO3JldHVybiAwfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO3JldHVybiBjLlBhfX0scDpmdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1UKGEpO3BbYl09Yy50dHk/MjpQKGMubW9kZSk/Mzo0MDk2MD09PShjLm1vZGUmNjE0NDApPzc6NDtOYVtiKzI+PjFdPTA7SFtiKzg+PjNdPUJpZ0ludCgwKTtIW2IrMTY+PjNdPUJpZ0ludCgwKTtyZXR1cm4gMH1jYXRjaChkKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1kLm5hbWUpdGhyb3cgZDtyZXR1cm4gZC5QYX19LHc6ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2E6e3ZhciBlPVQoYSk7YT1iO2Zvcih2YXIgaCxrPWI9MDtrPGM7aysrKXt2YXIgcT1GW2E+PjJdLHc9RlthKzQ+PjJdO2ErPTg7dmFyIHY9RWMoZSxwLHEsdyxoKTtpZigwPnYpe3ZhciBDPS0xO2JyZWFrIGF9Yis9djtpZih2PHcpYnJlYWs7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGgmJlxuKGgrPXYpfUM9Yn1GW2Q+PjJdPUM7cmV0dXJuIDB9Y2F0Y2goRyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFd8fFwiRXJybm9FcnJvclwiIT09Ry5uYW1lKXRocm93IEc7cmV0dXJuIEcuUGF9fSxEOmZ1bmN0aW9uKGEsYixjLGQpe2I9LTkwMDcxOTkyNTQ3NDA5OTI+Ynx8OTAwNzE5OTI1NDc0MDk5MjxiP05hTjpOdW1iZXIoYik7dHJ5e2lmKGlzTmFOKGIpKXJldHVybiA2MTt2YXIgZT1UKGEpO21jKGUsYixjKTtIW2Q+PjNdPUJpZ0ludChlLnBvc2l0aW9uKTtlLm9iJiYwPT09YiYmMD09PWMmJihlLm9iPW51bGwpO3JldHVybiAwfWNhdGNoKGgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWgubmFtZSl0aHJvdyBoO3JldHVybiBoLlBhfX0sSTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9VChhKTtyZXR1cm4gYi5NYT8uZnN5bmM/Yi5NYS5mc3luYyhiKTowfWNhdGNoKGMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXfHxcIkVycm5vRXJyb3JcIiE9PWMubmFtZSl0aHJvdyBjO1xucmV0dXJuIGMuUGF9fSx0OmZ1bmN0aW9uKGEsYixjLGQpe3RyeXthOnt2YXIgZT1UKGEpO2E9Yjtmb3IodmFyIGgsaz1iPTA7azxjO2srKyl7dmFyIHE9RlthPj4yXSx3PUZbYSs0Pj4yXTthKz04O3ZhciB2PXBhKGUscCxxLHcsaCk7aWYoMD52KXt2YXIgQz0tMTticmVhayBhfWIrPXY7aWYodjx3KWJyZWFrO1widW5kZWZpbmVkXCIhPXR5cGVvZiBoJiYoaCs9dil9Qz1ifUZbZD4+Ml09QztyZXR1cm4gMH1jYXRjaChHKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgV3x8XCJFcnJub0Vycm9yXCIhPT1HLm5hbWUpdGhyb3cgRztyZXR1cm4gRy5QYX19LGs6T2N9LFo7XG4oYXN5bmMgZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe1o9Yy5leHBvcnRzO0thPVouTTtRYSgpO1k9Wi5PO0stLTtmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTswPT1LJiZTYSYmKGM9U2EsU2E9bnVsbCxjKCkpO3JldHVybiBafUsrKztmLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM/LihLKTt2YXIgYj17YTpYY307aWYoZi5pbnN0YW50aWF0ZVdhc20pcmV0dXJuIG5ldyBQcm9taXNlKGM9PntmLmluc3RhbnRpYXRlV2FzbShiLChkLGUpPT57YShkLGUpO2MoZC5leHBvcnRzKX0pfSk7VWE/Pz1mLmxvY2F0ZUZpbGU/Zi5sb2NhdGVGaWxlKFwic3FsLXdhc20ud2FzbVwiLEQpOkQrXCJzcWwtd2FzbS53YXNtXCI7cmV0dXJuIGEoKGF3YWl0IFhhKGIpKS5pbnN0YW5jZSl9KSgpO2YuX3NxbGl0ZTNfZnJlZT1hPT4oZi5fc3FsaXRlM19mcmVlPVouUCkoYSk7Zi5fc3FsaXRlM192YWx1ZV90ZXh0PWE9PihmLl9zcWxpdGUzX3ZhbHVlX3RleHQ9Wi5RKShhKTtcbmYuX3NxbGl0ZTNfcHJlcGFyZV92Mj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfcHJlcGFyZV92Mj1aLlIpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19zdGVwPWE9PihmLl9zcWxpdGUzX3N0ZXA9Wi5TKShhKTtmLl9zcWxpdGUzX3Jlc2V0PWE9PihmLl9zcWxpdGUzX3Jlc2V0PVouVCkoYSk7Zi5fc3FsaXRlM19leGVjPShhLGIsYyxkLGUpPT4oZi5fc3FsaXRlM19leGVjPVouVSkoYSxiLGMsZCxlKTtmLl9zcWxpdGUzX2ZpbmFsaXplPWE9PihmLl9zcWxpdGUzX2ZpbmFsaXplPVouVikoYSk7Zi5fc3FsaXRlM19jb2x1bW5fbmFtZT0oYSxiKT0+KGYuX3NxbGl0ZTNfY29sdW1uX25hbWU9Wi5XKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX3RleHQ9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl90ZXh0PVouWCkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl90eXBlPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fdHlwZT1aLlkpKGEsYik7XG5mLl9zcWxpdGUzX2Vycm1zZz1hPT4oZi5fc3FsaXRlM19lcnJtc2c9Wi5aKShhKTtmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPWE9PihmLl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzPVouXykoYSk7Zi5fc3FsaXRlM192YWx1ZV9ibG9iPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2Jsb2I9Wi4kKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2J5dGVzPVouYWEpKGEpO2YuX3NxbGl0ZTNfdmFsdWVfZG91YmxlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX2RvdWJsZT1aLmJhKShhKTtmLl9zcWxpdGUzX3ZhbHVlX2ludD1hPT4oZi5fc3FsaXRlM192YWx1ZV9pbnQ9Wi5jYSkoYSk7Zi5fc3FsaXRlM192YWx1ZV90eXBlPWE9PihmLl9zcWxpdGUzX3ZhbHVlX3R5cGU9Wi5kYSkoYSk7Zi5fc3FsaXRlM19yZXN1bHRfYmxvYj0oYSxiLGMsZCk9PihmLl9zcWxpdGUzX3Jlc3VsdF9ibG9iPVouZWEpKGEsYixjLGQpO1xuZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPShhLGIpPT4oZi5fc3FsaXRlM19yZXN1bHRfZG91YmxlPVouZmEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfZXJyb3I9KGEsYixjKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2Vycm9yPVouZ2EpKGEsYixjKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9KGEsYik9PihmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ9Wi5oYSkoYSxiKTtmLl9zcWxpdGUzX3Jlc3VsdF9pbnQ2ND0oYSxiKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X2ludDY0PVouaWEpKGEsYik7Zi5fc3FsaXRlM19yZXN1bHRfbnVsbD1hPT4oZi5fc3FsaXRlM19yZXN1bHRfbnVsbD1aLmphKShhKTtmLl9zcWxpdGUzX3Jlc3VsdF90ZXh0PShhLGIsYyxkKT0+KGYuX3NxbGl0ZTNfcmVzdWx0X3RleHQ9Wi5rYSkoYSxiLGMsZCk7Zi5fc3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dD0oYSxiKT0+KGYuX3NxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQ9Wi5sYSkoYSxiKTtcbmYuX3NxbGl0ZTNfY29sdW1uX2NvdW50PWE9PihmLl9zcWxpdGUzX2NvbHVtbl9jb3VudD1aLm1hKShhKTtmLl9zcWxpdGUzX2RhdGFfY291bnQ9YT0+KGYuX3NxbGl0ZTNfZGF0YV9jb3VudD1aLm5hKShhKTtmLl9zcWxpdGUzX2NvbHVtbl9ibG9iPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYmxvYj1aLm9hKShhLGIpO2YuX3NxbGl0ZTNfY29sdW1uX2J5dGVzPShhLGIpPT4oZi5fc3FsaXRlM19jb2x1bW5fYnl0ZXM9Wi5wYSkoYSxiKTtmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9KGEsYik9PihmLl9zcWxpdGUzX2NvbHVtbl9kb3VibGU9Wi5xYSkoYSxiKTtmLl9zcWxpdGUzX2JpbmRfYmxvYj0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF9ibG9iPVoucmEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX2RvdWJsZT0oYSxiLGMpPT4oZi5fc3FsaXRlM19iaW5kX2RvdWJsZT1aLnNhKShhLGIsYyk7XG5mLl9zcWxpdGUzX2JpbmRfaW50PShhLGIsYyk9PihmLl9zcWxpdGUzX2JpbmRfaW50PVoudGEpKGEsYixjKTtmLl9zcWxpdGUzX2JpbmRfdGV4dD0oYSxiLGMsZCxlKT0+KGYuX3NxbGl0ZTNfYmluZF90ZXh0PVoudWEpKGEsYixjLGQsZSk7Zi5fc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleD0oYSxiKT0+KGYuX3NxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXg9Wi52YSkoYSxiKTtmLl9zcWxpdGUzX3NxbD1hPT4oZi5fc3FsaXRlM19zcWw9Wi53YSkoYSk7Zi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1hPT4oZi5fc3FsaXRlM19ub3JtYWxpemVkX3NxbD1aLnhhKShhKTtmLl9zcWxpdGUzX2NoYW5nZXM9YT0+KGYuX3NxbGl0ZTNfY2hhbmdlcz1aLnlhKShhKTtmLl9zcWxpdGUzX2Nsb3NlX3YyPWE9PihmLl9zcWxpdGUzX2Nsb3NlX3YyPVouemEpKGEpO1xuZi5fc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjI9KGEsYixjLGQsZSxoLGsscSx3KT0+KGYuX3NxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyPVouQWEpKGEsYixjLGQsZSxoLGsscSx3KTtmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPShhLGIsYyk9PihmLl9zcWxpdGUzX3VwZGF0ZV9ob29rPVouQmEpKGEsYixjKTtmLl9zcWxpdGUzX29wZW49KGEsYik9PihmLl9zcWxpdGUzX29wZW49Wi5DYSkoYSxiKTt2YXIgaWE9Zi5fbWFsbG9jPWE9PihpYT1mLl9tYWxsb2M9Wi5EYSkoYSksZmE9Zi5fZnJlZT1hPT4oZmE9Zi5fZnJlZT1aLkVhKShhKTtmLl9SZWdpc3RlckV4dGVuc2lvbkZ1bmN0aW9ucz1hPT4oZi5fUmVnaXN0ZXJFeHRlbnNpb25GdW5jdGlvbnM9Wi5GYSkoYSk7dmFyIERiPShhLGIpPT4oRGI9Wi5HYSkoYSxiKSxXYz0oYSxiKT0+KFdjPVouSGEpKGEsYiksd2E9YT0+KHdhPVouSWEpKGEpLHo9YT0+KHo9Wi5KYSkoYSksc2E9KCk9PihzYT1aLkthKSgpO1xuZi5zdGFja1NhdmU9KCk9PnNhKCk7Zi5zdGFja1Jlc3RvcmU9YT0+d2EoYSk7Zi5zdGFja0FsbG9jPWE9PnooYSk7Zi5jd3JhcD0oYSxiLGMsZCk9Pnt2YXIgZT0hY3x8Yy5ldmVyeShoPT5cIm51bWJlclwiPT09aHx8XCJib29sZWFuXCI9PT1oKTtyZXR1cm5cInN0cmluZ1wiIT09YiYmZSYmIWQ/ZltcIl9cIithXTooLi4uaCk9PlRjKGEsYixjLGgpfTtmLmFkZEZ1bmN0aW9uPUFhO2YucmVtb3ZlRnVuY3Rpb249QTtmLlVURjhUb1N0cmluZz11YTtmLkFMTE9DX05PUk1BTD1lYTtmLmFsbG9jYXRlPWRhO2YuYWxsb2NhdGVVVEY4T25TdGFjaz14YTtcbmZ1bmN0aW9uIFljKCl7ZnVuY3Rpb24gYSgpe2YuY2FsbGVkUnVuPSEwO2lmKCFMYSl7aWYoIWYubm9GU0luaXQmJiFJYil7dmFyIGIsYztJYj0hMDtkPz89Zi5zdGRpbjtiPz89Zi5zdGRvdXQ7Yz8/PWYuc3RkZXJyO2Q/VihcInN0ZGluXCIsZCk6WmIoXCIvZGV2L3R0eVwiLFwiL2Rldi9zdGRpblwiKTtiP1YoXCJzdGRvdXRcIixudWxsLGIpOlpiKFwiL2Rldi90dHlcIixcIi9kZXYvc3Rkb3V0XCIpO2M/VihcInN0ZGVyclwiLG51bGwsYyk6WmIoXCIvZGV2L3R0eTFcIixcIi9kZXYvc3RkZXJyXCIpO29hKFwiL2Rldi9zdGRpblwiLDApO29hKFwiL2Rldi9zdGRvdXRcIiwxKTtvYShcIi9kZXYvc3RkZXJyXCIsMSl9Wi5OKCk7SmI9ITE7Zi5vblJ1bnRpbWVJbml0aWFsaXplZD8uKCk7aWYoZi5wb3N0UnVuKWZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnBvc3RSdW4mJihmLnBvc3RSdW49W2YucG9zdFJ1bl0pO2YucG9zdFJ1bi5sZW5ndGg7KXt2YXIgZD1mLnBvc3RSdW4uc2hpZnQoKTskYS51bnNoaWZ0KGQpfVphKCRhKX19XG5pZigwPEspU2E9WWM7ZWxzZXtpZihmLnByZVJ1bilmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVSdW4mJihmLnByZVJ1bj1bZi5wcmVSdW5dKTtmLnByZVJ1bi5sZW5ndGg7KWJiKCk7WmEoYWIpOzA8Sz9TYT1ZYzpmLnNldFN0YXR1cz8oZi5zZXRTdGF0dXMoXCJSdW5uaW5nLi4uXCIpLHNldFRpbWVvdXQoKCk9PntzZXRUaW1lb3V0KCgpPT5mLnNldFN0YXR1cyhcIlwiKSwxKTthKCl9LDEpKTphKCl9fWlmKGYucHJlSW5pdClmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5wcmVJbml0JiYoZi5wcmVJbml0PVtmLnByZUluaXRdKTswPGYucHJlSW5pdC5sZW5ndGg7KWYucHJlSW5pdC5wb3AoKSgpO1ljKCk7XG5cblxuICAgICAgICAvLyBUaGUgc2hlbGwtcHJlLmpzIGFuZCBlbWNjLWdlbmVyYXRlZCBjb2RlIGdvZXMgYWJvdmVcbiAgICAgICAgcmV0dXJuIE1vZHVsZTtcbiAgICB9KTsgLy8gVGhlIGVuZCBvZiB0aGUgcHJvbWlzZSBiZWluZyByZXR1cm5lZFxuXG4gIHJldHVybiBpbml0U3FsSnNQcm9taXNlO1xufSAvLyBUaGUgZW5kIG9mIG91ciBpbml0U3FsSnMgZnVuY3Rpb25cblxuLy8gVGhpcyBiaXQgYmVsb3cgaXMgY29waWVkIGFsbW9zdCBleGFjdGx5IGZyb20gd2hhdCB5b3UgZ2V0IHdoZW4geW91IHVzZSB0aGUgTU9EVUxBUklaRT0xIGZsYWcgd2l0aCBlbWNjXG4vLyBIb3dldmVyLCB3ZSBkb24ndCB3YW50IHRvIHVzZSB0aGUgZW1jYyBtb2R1bGFyaXphdGlvbi4gU2VlIHNoZWxsLXByZS5qc1xuaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jyl7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbml0U3FsSnM7XG4gICAgLy8gVGhpcyB3aWxsIGFsbG93IHRoZSBtb2R1bGUgdG8gYmUgdXNlZCBpbiBFUzYgb3IgQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gaW5pdFNxbEpzO1xufVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGluaXRTcWxKczsgfSk7XG59XG5lbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xuICAgIGV4cG9ydHNbXCJNb2R1bGVcIl0gPSBpbml0U3FsSnM7XG59XG4iLCAiaW1wb3J0IHtcbiAgUGx1Z2luLFxuICBURmlsZSxcbiAgV29ya3NwYWNlTGVhZixcbiAgTm90aWNlLFxuICBNYXJrZG93blJlbmRlcmVyLFxuICBDb21wb25lbnQsXG4gIE1vZGFsLFxuICBJdGVtVmlldyxcbiAgVmlld1N0YXRlLFxuICBNZW51LFxuICBUQWJzdHJhY3RGaWxlLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YWJhc2UvRGF0YWJhc2VTZXJ2aWNlXCI7XG5pbXBvcnQgeyBEZWNrTWFuYWdlciB9IGZyb20gXCIuL3NlcnZpY2VzL0RlY2tNYW5hZ2VyXCI7XG5pbXBvcnQgeyBGU1JTLCB0eXBlIERpZmZpY3VsdHksIHR5cGUgU2NoZWR1bGluZ0luZm8gfSBmcm9tIFwiLi9hbGdvcml0aG0vZnNyc1wiO1xuaW1wb3J0IHtcbiAgRGVjayxcbiAgRmxhc2hjYXJkLFxuICBEZWNrU3RhdHMsXG4gIERlY2tDb25maWcsXG4gIFN0YXRpc3RpY3MsXG59IGZyb20gXCIuL2RhdGFiYXNlL3R5cGVzXCI7XG5pbXBvcnQgeyBGbGFzaGNhcmRzU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgRGVja3NTZXR0aW5nVGFiIH0gZnJvbSBcIi4vY29tcG9uZW50cy9TZXR0aW5nc1RhYlwiO1xuaW1wb3J0IERlY2tMaXN0UGFuZWwgZnJvbSBcIi4vY29tcG9uZW50cy9EZWNrTGlzdFBhbmVsLnN2ZWx0ZVwiO1xuaW1wb3J0IHsgRGVja0NvbmZpZ01vZGFsIH0gZnJvbSBcIi4vY29tcG9uZW50cy9EZWNrQ29uZmlnTW9kYWxcIjtcbmltcG9ydCB7IFN0YXRpc3RpY3NNb2RhbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvU3RhdGlzdGljc01vZGFsXCI7XG5pbXBvcnQgRGVja0NvbmZpZ1VJIGZyb20gXCIuL2NvbXBvbmVudHMvRGVja0NvbmZpZ1VJLnN2ZWx0ZVwiO1xuaW1wb3J0IHsgRmxhc2hjYXJkUmV2aWV3TW9kYWxXcmFwcGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9GbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXJcIjtcbmltcG9ydCB7XG4gIGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlLFxuICBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlLFxufSBmcm9tIFwiLi9hbGdvcml0aG0vZnNycy13ZWlnaHRzXCI7XG5cbmNvbnN0IFZJRVdfVFlQRV9ERUNLUyA9IFwiZGVja3Mtdmlld1wiO1xuXG4vKipcbiAqIERlZXAgbWVyZ2UgdXRpbGl0eSB0aGF0IGlnbm9yZXMgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlc1xuICogVGhpcyBwcmV2ZW50cyBudWxsIHZhbHVlcyBpbiBsb2FkZWQgZGF0YSBmcm9tIG92ZXJyaWRpbmcgdmFsaWQgZGVmYXVsdHNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlSWdub3JlTnVsbCh0YXJnZXQ6IGFueSwgc291cmNlOiBhbnkpOiBhbnkge1xuICBpZiAoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc291cmNlICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSB7IC4uLnRhcmdldCB9O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29uc3Qgc291cmNlVmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgaWYgKHNvdXJjZVZhbHVlID09PSBudWxsIHx8IHNvdXJjZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gS2VlcCB0aGUgdGFyZ2V0IHZhbHVlLCBkb24ndCBvdmVycmlkZSB3aXRoIG51bGwvdW5kZWZpbmVkXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShzb3VyY2VWYWx1ZSkgJiZcbiAgICAgICAgdGFyZ2V0W2tleV1cbiAgICAgICkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzXG4gICAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlSWdub3JlTnVsbCh0YXJnZXRba2V5XSwgc291cmNlVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXNlIHNvdXJjZSB2YWx1ZSBmb3IgcHJpbWl0aXZlcyBhbmQgYXJyYXlzXG4gICAgICAgIHJlc3VsdFtrZXldID0gc291cmNlVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVja3NQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBwcml2YXRlIGRiOiBEYXRhYmFzZVNlcnZpY2U7XG4gIHB1YmxpYyBkZWNrTWFuYWdlcjogRGVja01hbmFnZXI7XG4gIHB1YmxpYyB2aWV3OiBEZWNrc1ZpZXcgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHNldHRpbmdzOiBGbGFzaGNhcmRzU2V0dGluZ3M7XG4gIHByaXZhdGUgaXNTeW5jaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgcHJvZ3Jlc3NOb3RpY2U6IE5vdGljZSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciB0aW1pbmcgb3BlcmF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRUaW1lKG1zOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChtcyA8IDEwMDApIHtcbiAgICAgIHJldHVybiBgJHttcy50b0ZpeGVkKDIpfW1zYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAkeyhtcyAvIDEwMDApLnRvRml4ZWQoMil9c2A7XG4gICAgfVxuICB9XG5cbiAgLy8gRGVidWcgbG9nZ2luZyB1dGlsaXR5XG4gIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8uZGVidWc/LmVuYWJsZUxvZ2dpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbRGVja3MgRGVidWddICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICAgIHRoaXMud3JpdGVUb0xvZ0ZpbGUobWVzc2FnZSwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB3cml0ZVRvTG9nRmlsZShtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgICAgY29uc3QgbG9nUGF0aCA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9kZWNrcy9kZWJ1Zy5sb2dgO1xuXG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICBjb25zdCBhcmdzU3RyID1cbiAgICAgICAgYXJncy5sZW5ndGggPiAwXG4gICAgICAgICAgPyBgICR7YXJnc1xuICAgICAgICAgICAgICAubWFwKChhcmcpID0+XG4gICAgICAgICAgICAgICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KGFyZykgOiBTdHJpbmcoYXJnKSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuam9pbihcIiBcIil9YFxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gYFske3RpbWVzdGFtcH1dICR7bWVzc2FnZX0ke2FyZ3NTdHJ9XFxuYDtcblxuICAgICAgbGV0IGV4aXN0aW5nQ29udGVudCA9IFwiXCI7XG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMobG9nUGF0aCkpIHtcbiAgICAgICAgZXhpc3RpbmdDb250ZW50ID0gYXdhaXQgYWRhcHRlci5yZWFkKGxvZ1BhdGgpO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBhZGFwdGVyLndyaXRlKGxvZ1BhdGgsIGV4aXN0aW5nQ29udGVudCArIGxvZ0VudHJ5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltEZWNrcyBEZWJ1Z10gRmFpbGVkIHRvIHdyaXRlIHRvIGxvZyBmaWxlOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gUGVyZm9ybWFuY2UgbG9nZ2luZyB1dGlsaXR5XG4gIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncz8uZGVidWc/LnBlcmZvcm1hbmNlTG9ncykge1xuICAgICAgY29uc29sZS5sb2coYFtEZWNrcyBQZXJmb3JtYW5jZV0gJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2dyZXNzIHRyYWNraW5nIHV0aWxpdHlcbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzcyhtZXNzYWdlOiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NOb3RpY2UpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gdGhpcy5jcmVhdGVQcm9ncmVzc0Jhcihwcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzTm90aWNlLnNldE1lc3NhZ2UoYCR7bWVzc2FnZX1cXG4ke3Byb2dyZXNzQmFyfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3NCYXIocHJvZ3Jlc3M6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgd2lkdGggPSAyNTtcbiAgICBjb25zdCBmaWxsZWQgPSBNYXRoLnJvdW5kKChwcm9ncmVzcyAvIDEwMCkgKiB3aWR0aCk7XG4gICAgY29uc3QgZW1wdHkgPSB3aWR0aCAtIGZpbGxlZDtcbiAgICBjb25zdCBiYXIgPSBcIlx1MjU4OFwiLnJlcGVhdChmaWxsZWQpICsgXCJcdTI1OTFcIi5yZXBlYXQoZW1wdHkpO1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKHByb2dyZXNzKTtcbiAgICByZXR1cm4gYFske2Jhcn1dICR7cGVyY2VudGFnZX0lYDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1Byb2dyZXNzTm90aWNlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NOb3RpY2UgPSBuZXcgTm90aWNlKG1lc3NhZ2UsIDApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGlkZVByb2dyZXNzTm90aWNlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnByb2dyZXNzTm90aWNlKSB7XG4gICAgICB0aGlzLnByb2dyZXNzTm90aWNlLmhpZGUoKTtcbiAgICAgIHRoaXMucHJvZ3Jlc3NOb3RpY2UgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICB0aGlzLmRlYnVnTG9nKFwiTG9hZGluZyBEZWNrcyBwbHVnaW5cIik7XG5cbiAgICAvLyBMb2FkIHNldHRpbmdzXG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgcGx1Z2luIGRpcmVjdG9yeSBleGlzdHNcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgICAgY29uc3QgcGx1Z2luRGlyID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2RlY2tzYDtcbiAgICAgIGlmICghKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBsdWdpbkRpcikpKSB7XG4gICAgICAgIGF3YWl0IGFkYXB0ZXIubWtkaXIocGx1Z2luRGlyKTtcbiAgICAgIH1cblxuICAgICAgLy8gRlNSUyBpbnN0YW5jZXMgYXJlIG5vdyBjcmVhdGVkIHBlci1kZWNrIGFzIG5lZWRlZFxuXG4gICAgICAvLyBJbml0aWFsaXplIGRhdGFiYXNlXG4gICAgICBjb25zdCBkYXRhYmFzZVBhdGggPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvZGVja3MvZmxhc2hjYXJkcy5kYmA7XG4gICAgICB0aGlzLmRiID0gbmV3IERhdGFiYXNlU2VydmljZShcbiAgICAgICAgZGF0YWJhc2VQYXRoLFxuICAgICAgICBhZGFwdGVyLFxuICAgICAgICB0aGlzLmRlYnVnTG9nLmJpbmQodGhpcyksXG4gICAgICApO1xuICAgICAgYXdhaXQgdGhpcy5kYi5pbml0aWFsaXplKCk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgZGVjayBtYW5hZ2VyXG4gICAgICB0aGlzLmRlY2tNYW5hZ2VyID0gbmV3IERlY2tNYW5hZ2VyKFxuICAgICAgICB0aGlzLmFwcC52YXVsdCxcbiAgICAgICAgdGhpcy5hcHAubWV0YWRhdGFDYWNoZSxcbiAgICAgICAgdGhpcy5kYixcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG5cbiAgICAgIC8vIFJlZ2lzdGVyIHRoZSBzaWRlIHBhbmVsIHZpZXdcbiAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgICBWSUVXX1RZUEVfREVDS1MsXG4gICAgICAgIChsZWFmKSA9PlxuICAgICAgICAgIG5ldyBEZWNrc1ZpZXcoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgbGVhZixcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRlNSU0ZvckRlY2suYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICB0aGlzLmRlYnVnTG9nLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1TeW5jLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLmdldERlY2tzLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLmdldERlY2tTdGF0cy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5nZXREZWNrU3RhdHNCeUlkLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLmdldFJldmlld0NvdW50cy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy51cGRhdGVEZWNrQ29uZmlnLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLm9wZW5TdGF0aXN0aWNzTW9kYWwuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMuZGVja01hbmFnZXIuc3luY0ZsYXNoY2FyZHNGb3JEZWNrLmJpbmQodGhpcy5kZWNrTWFuYWdlciksXG4gICAgICAgICAgICB0aGlzLmRiLmdldERhaWx5UmV2aWV3Q291bnRzLmJpbmQodGhpcy5kYiksXG4gICAgICAgICAgICB0aGlzLmRiLmdldFJldmlld2FibGVGbGFzaGNhcmRzLmJpbmQodGhpcy5kYiksXG4gICAgICAgICAgICB0aGlzLnJldmlld0ZsYXNoY2FyZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJNYXJrZG93bi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgKHZpZXc6IERlY2tzVmlldyB8IG51bGwpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIFNjaGVkdWxlIGluaXRpYWwgc3luYyBhZnRlciB3b3Jrc3BhY2UgaXMgcmVhZHlcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcbiAgICAgICAgLy8gQWRkaXRpb25hbCBkZWxheSB0byBlbnN1cmUgbWV0YWRhdGEgY2FjaGUgaXMgZnVsbHkgcG9wdWxhdGVkIGFuZCBhcHAgaXMgcmVzcG9uc2l2ZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBlcmZvcm1Jbml0aWFsU3luYygpO1xuICAgICAgICB9LCA1MDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgcmliYm9uIGljb25cbiAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcImJyYWluXCIsIFwiRmxhc2hjYXJkc1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIGNvbW1hbmQgdG8gc2hvdyBmbGFzaGNhcmRzIHBhbmVsXG4gICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICBpZDogXCJzaG93LWZsYXNoY2FyZHMtcGFuZWxcIixcbiAgICAgICAgbmFtZTogXCJTaG93IEZsYXNoY2FyZHMgUGFuZWxcIixcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgZmlsZSBjaGFuZ2VzIHRvIHVwZGF0ZSBkZWNrc1xuICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICB0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwibWRcIikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlQ2hhbmdlKGZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKFwiZGVsZXRlXCIsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gXCJtZFwiKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVEZWxldGUoZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgdGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgYXN5bmMgKGZpbGUsIG9sZFBhdGgpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUuZXh0ZW5zaW9uID09PSBcIm1kXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZVJlbmFtZShmaWxlLCBvbGRQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy8gQWRkIHNldHRpbmdzIHRhYlxuICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKFxuICAgICAgICBuZXcgRGVja3NTZXR0aW5nVGFiKFxuICAgICAgICAgIHRoaXMuYXBwLFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgICB0aGlzLnNhdmVTZXR0aW5ncy5iaW5kKHRoaXMpLFxuICAgICAgICAgIHRoaXMucGVyZm9ybVN5bmMuYmluZCh0aGlzKSxcbiAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3LnJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgICB0aGlzLnZpZXcuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgICB0aGlzLnZpZXcuc3RvcEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLmRiLnB1cmdlRGF0YWJhc2UuYmluZCh0aGlzLmRiKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuZGVidWdMb2coXCJEZWNrcyBwbHVnaW4gbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgRGVja3MgcGx1Z2luOlwiLCBlcnJvcik7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncz8udWk/LmVuYWJsZU5vdGljZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gbG9hZCBEZWNrcyBwbHVnaW4uIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIHRoaXMuZGVidWdMb2coXCJVbmxvYWRpbmcgRGVja3MgcGx1Z2luXCIpO1xuXG4gICAgLy8gQ2xvc2UgZGF0YWJhc2UgY29ubmVjdGlvblxuICAgIGlmICh0aGlzLmRiKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIGNvbnN0IGxvYWRlZERhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG4gICAgdGhpcy5zZXR0aW5ncyA9IGRlZXBNZXJnZUlnbm9yZU51bGwoREVGQVVMVF9TRVRUSU5HUywgbG9hZGVkRGF0YSk7XG5cbiAgICAvLyBEZWVwIG1lcmdlIGVuc3VyZXMgYWxsIHByb3BlcnRpZXMgaGF2ZSB2YWxpZCBkZWZhdWx0c1xuICB9XG5cbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgLy8gRlNSUyBpbnN0YW5jZXMgYXJlIG5vdyBkZWNrLXNwZWNpZmljLCBubyBnbG9iYWwgaW5zdGFuY2UgdG8gdXBkYXRlXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIEZTUlMgaW5zdGFuY2UgZm9yIGEgc3BlY2lmaWMgZGVjayB1c2luZyBpdHMgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY3JlYXRlRlNSU0ZvckRlY2soZGVjazogRGVjayk6IEZTUlMge1xuICAgIHJldHVybiBuZXcgRlNSUyh7XG4gICAgICByZXF1ZXN0UmV0ZW50aW9uOiBkZWNrLmNvbmZpZy5mc3JzLnJlcXVlc3RSZXRlbnRpb24sXG4gICAgICBwcm9maWxlOiBkZWNrLmNvbmZpZy5mc3JzLnByb2ZpbGUsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG4gICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9ERUNLUyk7XG5cbiAgICBpZiAobGVhdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFZpZXcgYWxyZWFkeSBvcGVuXG4gICAgICBsZWFmID0gbGVhdmVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPcGVuIGluIHJpZ2h0IHNpZGViYXJcbiAgICAgIGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcbiAgICAgIGlmIChsZWFmKSB7XG4gICAgICAgIGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgICB0eXBlOiBWSUVXX1RZUEVfREVDS1MsXG4gICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG5cbiAgICAgIC8vIE9wdGlvbmFsIGJhY2tncm91bmQgc3luYyBpZiBubyBkZWNrcyBleGlzdCAobm9uLWJsb2NraW5nKVxuICAgICAgY29uc3QgZGVja3MgPSBhd2FpdCB0aGlzLmRiLmdldEFsbERlY2tzKCk7XG4gICAgICBpZiAoZGVja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJObyBkZWNrcyBmb3VuZCwgc2NoZWR1bGluZyBiYWNrZ3JvdW5kIHN5bmMuLi5cIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucGVyZm9ybUluaXRpYWxTeW5jKCk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUZpbGVDaGFuZ2UoZmlsZTogVEZpbGUpIHtcbiAgICAvLyBDaGVjayBpZiBmaWxlIGhhcyBmbGFzaGNhcmRzIHRhZ1xuICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgdGhpcy5kZWJ1Z0xvZyhgRmlsZSBjaGFuZ2VkOiAke2ZpbGUucGF0aH0sIG1ldGFkYXRhOmAsIG1ldGFkYXRhKTtcblxuICAgIGlmICghbWV0YWRhdGEpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGJvdGggaW5saW5lIHRhZ3MgYW5kIGZyb250bWF0dGVyIHRhZ3NcbiAgICBjb25zdCBhbGxUYWdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChtZXRhZGF0YS50YWdzKSB7XG4gICAgICBhbGxUYWdzLnB1c2goLi4ubWV0YWRhdGEudGFncy5tYXAoKHQpID0+IHQudGFnKSk7XG4gICAgfVxuICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlciAmJiBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKSB7XG4gICAgICBjb25zdCBmcm9udG1hdHRlclRhZ3MgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3MpXG4gICAgICAgID8gbWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFnc1xuICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcbiAgICAgIGFsbFRhZ3MucHVzaChcbiAgICAgICAgLi4uZnJvbnRtYXR0ZXJUYWdzLm1hcCgodGFnKSA9PlxuICAgICAgICAgIHRhZy5zdGFydHNXaXRoKFwiI1wiKSA/IHRhZyA6IGAjJHt0YWd9YCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzRmxhc2hjYXJkc1RhZyA9IGFsbFRhZ3Muc29tZSgodGFnKSA9PlxuICAgICAgdGFnLnN0YXJ0c1dpdGgoXCIjZmxhc2hjYXJkc1wiKSxcbiAgICApO1xuXG4gICAgdGhpcy5kZWJ1Z0xvZyhgRmlsZSAke2ZpbGUucGF0aH0gaGFzIGZsYXNoY2FyZHMgdGFnOmAsIGhhc0ZsYXNoY2FyZHNUYWcpO1xuXG4gICAgaWYgKGhhc0ZsYXNoY2FyZHNUYWcpIHtcbiAgICAgIC8vIENoZWNrIGlmIGRlY2sgZXhpc3RzIGZvciB0aGlzIGZpbGVcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5RmlsZXBhdGgoZmlsZS5wYXRoKTtcbiAgICAgIGlmIChleGlzdGluZ0RlY2spIHtcbiAgICAgICAgLy8gVXBkYXRlIGRlY2sgdGFnIGlmIGl0IGNoYW5nZWRcbiAgICAgICAgY29uc3QgbmV3VGFnID1cbiAgICAgICAgICBhbGxUYWdzLmZpbmQoKHRhZykgPT4gdGFnLnN0YXJ0c1dpdGgoXCIjZmxhc2hjYXJkc1wiKSkgfHwgXCIjZmxhc2hjYXJkc1wiO1xuICAgICAgICBpZiAoZXhpc3RpbmdEZWNrLnRhZyAhPT0gbmV3VGFnKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBVcGRhdGluZyBkZWNrIHRhZyBmcm9tICR7ZXhpc3RpbmdEZWNrLnRhZ30gdG8gJHtuZXdUYWd9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRGVjayhleGlzdGluZ0RlY2suaWQsIHsgdGFnOiBuZXdUYWcgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW5jIGZsYXNoY2FyZHMgZm9yIHRoaXMgc3BlY2lmaWMgZGVjayBvbmx5XG4gICAgICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGZpbGUucGF0aCk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBvbmx5IHRoaXMgc3BlY2lmaWMgZGVjaydzIHN0YXRzIChmYXN0ZXN0IG9wdGlvbilcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHNCeUlkKGV4aXN0aW5nRGVjay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5ldyBmaWxlIHdpdGggZmxhc2hjYXJkcyB0YWcgLSBjcmVhdGUgZGVjayBmb3IgdGhpcyBmaWxlIG9ubHlcbiAgICAgICAgY29uc3QgbmV3VGFnID1cbiAgICAgICAgICBhbGxUYWdzLmZpbmQoKHRhZykgPT4gdGFnLnN0YXJ0c1dpdGgoXCIjZmxhc2hjYXJkc1wiKSkgfHwgXCIjZmxhc2hjYXJkc1wiO1xuICAgICAgICBhd2FpdCB0aGlzLmRlY2tNYW5hZ2VyLmNyZWF0ZURlY2tGb3JGaWxlKGZpbGUucGF0aCwgbmV3VGFnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRmxhc2hjYXJkc0ZvckRlY2soZmlsZS5wYXRoKTtcblxuICAgICAgICAvLyBGb3IgbmV3IGRlY2tzLCByZWZyZXNoIGFsbCBzdGF0cyB0byBzaG93IHRoZSBuZXcgZGVja1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGVyZm9ybUluaXRpYWxTeW5jKCkge1xuICAgIGxldCBub3RpY2U6IE5vdGljZSB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJQZXJmb3JtaW5nIGluaXRpYWwgYmFja2dyb3VuZCBzeW5jLi4uXCIpO1xuXG4gICAgICAvLyBTaG93IHByb2dyZXNzIG5vdGljZSBmb3IgbGFyZ2Ugc3luY3NcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgbm90aWNlID0gbmV3IE5vdGljZShcIlx1RDgzRFx1REQwNCBTeW5jaW5nIGZsYXNoY2FyZHMgaW4gYmFja2dyb3VuZC4uLlwiLCAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHJlcXVlc3RJZGxlQ2FsbGJhY2sgb3Igc2V0VGltZW91dCB0byBlbnN1cmUgbm9uLWJsb2NraW5nIGV4ZWN1dGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG5cbiAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVN5bmMoZmFsc2UpO1xuXG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgIGBJbml0aWFsIHN5bmMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSBpbiAke3RoaXMuZm9ybWF0VGltZSh0b3RhbFRpbWUpfWAsXG4gICAgICApO1xuXG4gICAgICAvLyBVcGRhdGUgbm90aWNlIHRvIHNob3cgY29tcGxldGlvblxuICAgICAgaWYgKG5vdGljZSkge1xuICAgICAgICBub3RpY2Uuc2V0TWVzc2FnZShcbiAgICAgICAgICBgXHUyNzA1IEZsYXNoY2FyZCBzeW5jIGNvbXBsZXRlZCAoJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX0pYCxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBub3RpY2U/LmhpZGUoKSwgMzAwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5pdGlhbCBzeW5jOlwiLCBlcnJvcik7XG5cbiAgICAgIC8vIFNob3cgZXJyb3Igbm90aWNlXG4gICAgICBpZiAobm90aWNlKSB7XG4gICAgICAgIG5vdGljZS5zZXRNZXNzYWdlKFwiXHUyNkEwXHVGRTBGIEZsYXNoY2FyZCBzeW5jIGZhaWxlZCAtIGNoZWNrIGNvbnNvbGVcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbm90aWNlPy5oaWRlKCksIDUwMDApO1xuICAgICAgfVxuICAgICAgLy8gRG9uJ3QgdGhyb3cgLSBsZXQgdGhlIGFwcCBjb250aW51ZSB3b3JraW5nIGV2ZW4gaWYgaW5pdGlhbCBzeW5jIGZhaWxzXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGVyZm9ybVN5bmMoZm9yY2VTeW5jOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5pc1N5bmNpbmcpIHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJTeW5jIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHNraXBwaW5nLi4uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNTeW5jaW5nID0gdHJ1ZTtcbiAgICBjb25zdCBzeW5jU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAvLyBTaG93IHByb2dyZXNzIG5vdGljZSBmb3IgZm9yY2UgcmVmcmVzaFxuICAgIGlmIChmb3JjZVN5bmMpIHtcbiAgICAgIHRoaXMuc2hvd1Byb2dyZXNzTm90aWNlKFxuICAgICAgICBcIlx1RDgzRFx1REQwNCBGb3JjZSByZWZyZXNoaW5nIGZsYXNoY2FyZHMuLi5cXG5cIiArIHRoaXMuY3JlYXRlUHJvZ3Jlc3NCYXIoMCksXG4gICAgICApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgUGVyZm9ybWluZyAke2ZvcmNlU3luYyA/IFwiZm9yY2VkIFwiIDogXCJcIn1zeW5jIG9mIGRlY2tzIGFuZCBmbGFzaGNhcmRzLi4uYCxcbiAgICAgICk7XG5cbiAgICAgIC8vIE1ldGFkYXRhIGNhY2hlIHNob3VsZCBiZSByZWFkeSBieSBub3dcblxuICAgICAgLy8gRmlyc3Qgc3luYyBhbGwgZGVja3NcbiAgICAgIGlmIChmb3JjZVN5bmMpIHRoaXMudXBkYXRlUHJvZ3Jlc3MoXCJcdUQ4M0RcdUREMEQgRGlzY292ZXJpbmcgZGVja3MuLi5cIiwgMTApO1xuICAgICAgY29uc3QgZGVja3NTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0RlY2tzKCk7XG4gICAgICBjb25zdCBkZWNrc1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGRlY2tzU3RhcnRUaW1lO1xuICAgICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgICAgYERlY2sgZGlzY292ZXJ5IGNvbXBsZXRlZCBpbiAke3RoaXMuZm9ybWF0VGltZShkZWNrc1RpbWUpfWAsXG4gICAgICApO1xuXG4gICAgICAvLyBUaGVuIHN5bmMgZmxhc2hjYXJkcyBmb3IgZWFjaCBkZWNrXG4gICAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja3MoKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBGb3VuZCAke2RlY2tzLmxlbmd0aH0gZGVja3MgYWZ0ZXIgc3luYzpgLFxuICAgICAgICBkZWNrcy5tYXAoKGQpID0+IGQubmFtZSksXG4gICAgICApO1xuXG4gICAgICBpZiAoZm9yY2VTeW5jKVxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKGBcdUQ4M0RcdURDREEgUHJvY2Vzc2luZyAke2RlY2tzLmxlbmd0aH0gZGVja3MuLi5gLCAyMCk7XG5cbiAgICAgIGxldCB0b3RhbEZsYXNoY2FyZHMgPSAwO1xuICAgICAgY29uc3QgZmxhc2hjYXJkU3luY1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAvLyBQcm9jZXNzIGRlY2tzIGluIGNodW5rcyB0byBhdm9pZCBibG9ja2luZyB0aGUgVUlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVjayA9IGRlY2tzW2ldO1xuICAgICAgICBjb25zdCBkZWNrU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGZvciBmb3JjZSByZWZyZXNoXG4gICAgICAgIGlmIChmb3JjZVN5bmMpIHtcbiAgICAgICAgICBjb25zdCBkZWNrUHJvZ3Jlc3MgPSAyMCArIChpIC8gZGVja3MubGVuZ3RoKSAqIDcwO1xuICAgICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoXG4gICAgICAgICAgICBgXHVEODNEXHVEQ0M0IFByb2Nlc3NpbmcgZGVjazogJHtkZWNrLm5hbWV9ICgke2kgKyAxfS8ke2RlY2tzLmxlbmd0aH0pYCxcbiAgICAgICAgICAgIGRlY2tQcm9ncmVzcyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgJHtmb3JjZVN5bmMgPyBcIkZvcmNlIHNcIiA6IFwiU1wifXluY2luZyBmbGFzaGNhcmRzIGZvciBkZWNrOiAke2RlY2submFtZX0gKCR7ZGVjay5maWxlcGF0aH0pYCxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci5zeW5jRmxhc2hjYXJkc0ZvckRlY2soZGVjay5maWxlcGF0aCwgZm9yY2VTeW5jKTtcblxuICAgICAgICAvLyBDaGVjayBob3cgbWFueSBmbGFzaGNhcmRzIHdlcmUgY3JlYXRlZFxuICAgICAgICBjb25zdCBmbGFzaGNhcmRzID0gYXdhaXQgdGhpcy5kYi5nZXRGbGFzaGNhcmRzQnlEZWNrKGRlY2suaWQpO1xuICAgICAgICBjb25zdCBkZWNrVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZGVja1N0YXJ0VGltZTtcbiAgICAgICAgdG90YWxGbGFzaGNhcmRzICs9IGZsYXNoY2FyZHMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgICAgYERlY2sgJHtkZWNrLm5hbWV9IHByb2Nlc3NlZCBpbiAke3RoaXMuZm9ybWF0VGltZShkZWNrVGltZSl9IC0gJHtmbGFzaGNhcmRzLmxlbmd0aH0gZmxhc2hjYXJkc2AsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gWWllbGQgY29udHJvbCBldmVyeSA1IGRlY2tzIHRvIGtlZXAgVUkgcmVzcG9uc2l2ZVxuICAgICAgICBpZiAoaSAlIDUgPT09IDQpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JjZVN5bmMpIHRoaXMudXBkYXRlUHJvZ3Jlc3MoXCJcdTI3MDUgRmluYWxpemluZyBzeW5jLi4uXCIsIDk1KTtcblxuICAgICAgY29uc3QgZmxhc2hjYXJkU3luY1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGZsYXNoY2FyZFN5bmNTdGFydFRpbWU7XG4gICAgICBjb25zdCB0b3RhbFN5bmNUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzeW5jU3RhcnRUaW1lO1xuXG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRmxhc2hjYXJkIHByb2Nlc3NpbmcgY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKGZsYXNoY2FyZFN5bmNUaW1lKX1gLFxuICAgICAgKTtcbiAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgIGBUb3RhbCBzeW5jIGNvbXBsZXRlZCBpbiAke3RoaXMuZm9ybWF0VGltZSh0b3RhbFN5bmNUaW1lKX0gLSAke3RvdGFsRmxhc2hjYXJkc30gZmxhc2hjYXJkcyBhY3Jvc3MgJHtkZWNrcy5sZW5ndGh9IGRlY2tzYCxcbiAgICAgICk7XG5cbiAgICAgIC8vIFBlcmZvcm1hbmNlIHN1bW1hcnlcbiAgICAgIGlmIChkZWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGF2Z0RlY2tUaW1lID0gZmxhc2hjYXJkU3luY1RpbWUgLyBkZWNrcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF2Z0ZsYXNoY2FyZFRpbWUgPVxuICAgICAgICAgIHRvdGFsRmxhc2hjYXJkcyA+IDAgPyBmbGFzaGNhcmRTeW5jVGltZSAvIHRvdGFsRmxhc2hjYXJkcyA6IDA7XG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICAgICAgYFBlcmZvcm1hbmNlOiAke3RoaXMuZm9ybWF0VGltZShhdmdEZWNrVGltZSl9L2RlY2ssICR7dGhpcy5mb3JtYXRUaW1lKGF2Z0ZsYXNoY2FyZFRpbWUpfS9mbGFzaGNhcmRgLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9yY2VTeW5jKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoXG4gICAgICAgICAgYFx1MjcwNSBTeW5jIGNvbXBsZXRlISBQcm9jZXNzZWQgJHt0b3RhbEZsYXNoY2FyZHN9IGZsYXNoY2FyZHMgYWNyb3NzICR7ZGVja3MubGVuZ3RofSBkZWNrcyBpbiAke3RoaXMuZm9ybWF0VGltZSh0b3RhbFN5bmNUaW1lKX1gLFxuICAgICAgICAgIDEwMCxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmhpZGVQcm9ncmVzc05vdGljZSgpLCAzMDAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBzeW5jOlwiLCBlcnJvcik7XG4gICAgICBpZiAoZm9yY2VTeW5jKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoXCJcdTI3NEMgU3luYyBmYWlsZWQgLSBjaGVjayBjb25zb2xlIGZvciBkZXRhaWxzXCIsIDApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGlkZVByb2dyZXNzTm90aWNlKCksIDUwMDApO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNTeW5jaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlRmlsZURlbGV0ZShmaWxlOiBURmlsZSkge1xuICAgIC8vIFJlbW92ZSB0aGUgZGVjayBhbmQgYWxsIGFzc29jaWF0ZWQgZmxhc2hjYXJkcy9yZXZpZXcgbG9nc1xuICAgIGF3YWl0IHRoaXMuZGIuZGVsZXRlRGVja0J5RmlsZXBhdGgoZmlsZS5wYXRoKTtcblxuICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgIC8vIEp1c3QgcmVmcmVzaCBzdGF0cyB0byByZW1vdmUgZGVsZXRlZCBkZWNrIGZyb20gVUkgKG11Y2ggZmFzdGVyIHRoYW4gZnVsbCBzeW5jKVxuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0cygpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUZpbGVSZW5hbWUoZmlsZTogVEZpbGUsIG9sZFBhdGg6IHN0cmluZykge1xuICAgIC8vIEhhbmRsZSBkZWNrIElEIHJlZ2VuZXJhdGlvbiBmb3IgcmVuYW1lZCBmaWxlc1xuICAgIGNvbnN0IG9sZERlY2sgPSBhd2FpdCB0aGlzLmRiLmdldERlY2tCeUZpbGVwYXRoKG9sZFBhdGgpO1xuICAgIGlmIChvbGREZWNrKSB7XG4gICAgICBjb25zdCBvbGREZWNrSWQgPSBvbGREZWNrLmlkO1xuICAgICAgY29uc3QgbmV3RGVja0lkID0gdGhpcy5kZWNrTWFuYWdlci5nZW5lcmF0ZURlY2tJZChmaWxlLnBhdGgpO1xuXG4gICAgICB0aGlzLmRlYnVnTG9nKGBGaWxlIHJlbmFtZWQgZnJvbSAke29sZFBhdGh9IHRvICR7ZmlsZS5wYXRofWApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgVXBkYXRpbmcgZGVjayBJRCBmcm9tICR7b2xkRGVja0lkfSB0byAke25ld0RlY2tJZH1gKTtcblxuICAgICAgLy8gVXBkYXRlIGRlY2sgd2l0aCBuZXcgSUQsIG5hbWUsIGFuZCBmaWxlcGF0aFxuICAgICAgYXdhaXQgdGhpcy5kYi5yZW5hbWVEZWNrKG9sZERlY2tJZCwgbmV3RGVja0lkLCBmaWxlLmJhc2VuYW1lLCBmaWxlLnBhdGgpO1xuXG4gICAgICAvLyBVcGRhdGUgYWxsIGZsYXNoY2FyZCBkZWNrIElEc1xuICAgICAgYXdhaXQgdGhpcy5kZWNrTWFuYWdlci51cGRhdGVGbGFzaGNhcmREZWNrSWRzKG9sZERlY2tJZCwgbmV3RGVja0lkKTtcblxuICAgICAgLy8gUmVmcmVzaCB2aWV3IGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVmcmVzaFN0YXRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc3luY0RlY2tzKCkge1xuICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0RlY2tzKCk7XG4gIH1cblxuICBhc3luYyBzeW5jRmxhc2hjYXJkc0ZvckRlY2soZGVja05hbWU6IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMuZGVja01hbmFnZXIuc3luY0ZsYXNoY2FyZHNGb3JEZWNrQnlOYW1lKGRlY2tOYW1lKTtcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld0NvdW50cyhkYXlzOiBudW1iZXIgPSAzNjUpOiBQcm9taXNlPE1hcDxzdHJpbmcsIG51bWJlcj4+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5nZXRSZXZpZXdDb3VudHNCeURhdGUoZGF5cyk7XG4gIH1cblxuICBhc3luYyBnZXREZWNrcygpOiBQcm9taXNlPERlY2tbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldEFsbERlY2tzKCk7XG4gIH1cblxuICBhc3luYyBnZXREZWNrU3RhdHMoKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBEZWNrU3RhdHM+PiB7XG4gICAgY29uc3QgaGVhZGVyTGV2ZWwgPSB0aGlzLnNldHRpbmdzPy5wYXJzaW5nPy5oZWFkZXJMZXZlbDtcbiAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja1N0YXRzRmlsdGVyZWQoaGVhZGVyTGV2ZWwpO1xuICAgIGNvbnN0IHN0YXRzTWFwID0gbmV3IE1hcDxzdHJpbmcsIERlY2tTdGF0cz4oKTtcblxuICAgIGZvciAoY29uc3Qgc3RhdCBvZiBzdGF0cykge1xuICAgICAgc3RhdHNNYXAuc2V0KHN0YXQuZGVja0lkLCBzdGF0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdHNNYXA7XG4gIH1cblxuICBhc3luYyBnZXREdWVGbGFzaGNhcmRzKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxGbGFzaGNhcmRbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldER1ZUZsYXNoY2FyZHMoZGVja0lkKTtcbiAgfVxuXG4gIGFzeW5jIGdldEZsYXNoY2FyZHNCeURlY2soZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgY29uc3QgaGVhZGVyTGV2ZWwgPSB0aGlzLnNldHRpbmdzPy5wYXJzaW5nPy5oZWFkZXJMZXZlbDtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5nZXRGbGFzaGNhcmRzQnlEZWNrRmlsdGVyZWQoZGVja0lkLCBoZWFkZXJMZXZlbCk7XG4gIH1cblxuICBhc3luYyBnZXRSZXZpZXdhYmxlRmxhc2hjYXJkcyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBjb25zdCBoZWFkZXJMZXZlbCA9IHRoaXMuc2V0dGluZ3M/LnBhcnNpbmc/LmhlYWRlckxldmVsO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldFJldmlld2FibGVGbGFzaGNhcmRzRmlsdGVyZWQoZGVja0lkLCBoZWFkZXJMZXZlbCk7XG4gIH1cblxuICBhc3luYyBnZXREYWlseVJldmlld0NvdW50cyhcbiAgICBkZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx7IG5ld0NvdW50OiBudW1iZXI7IHJldmlld0NvdW50OiBudW1iZXIgfT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG4gIH1cblxuICBhc3luYyBnZXREZWNrU3RhdHNCeUlkKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTxEZWNrU3RhdHM+IHtcbiAgICBjb25zdCBoZWFkZXJMZXZlbCA9IHRoaXMuc2V0dGluZ3M/LnBhcnNpbmc/LmhlYWRlckxldmVsO1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrU3RhdHNGaWx0ZXJlZChkZWNrSWQsIGhlYWRlckxldmVsKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGVja0lkLFxuICAgICAgLi4uc3RhdHMsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZURlY2tDb25maWcoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgY29uZmlnOiBQYXJ0aWFsPERlY2tDb25maWc+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBWYWxpZGF0ZSBwcm9maWxlIGFuZCByZXF1ZXN0UmV0ZW50aW9uIGlmIHByb3ZpZGVkXG4gICAgaWYgKFxuICAgICAgY29uZmlnLmZzcnM/LnByb2ZpbGUgJiZcbiAgICAgICFbXCJJTlRFTlNJVkVcIiwgXCJTVEFOREFSRFwiXS5pbmNsdWRlcyhjb25maWcuZnNycy5wcm9maWxlKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb2ZpbGU6ICR7Y29uZmlnLmZzcnMucHJvZmlsZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmZzcnM/LnJlcXVlc3RSZXRlbnRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgcnIgPSBjb25maWcuZnNycy5yZXF1ZXN0UmV0ZW50aW9uO1xuICAgICAgaWYgKHJyIDw9IDAuNSB8fCByciA+PSAwLjk5NSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYHJlcXVlc3RSZXRlbnRpb24gbXVzdCBiZSBpbiByYW5nZSAoMC41LCAwLjk5NSksIGdvdCAke3JyfWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGN1cnJlbnQgY29uZmlnIGFuZCBtZXJnZSB3aXRoIHVwZGF0ZXNcbiAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gYXdhaXQgdGhpcy5nZXREZWNrQ29uZmlnKGRlY2tJZCk7XG4gICAgaWYgKCFjdXJyZW50Q29uZmlnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29uZmlnID0ge1xuICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIGZzcnM6IHtcbiAgICAgICAgLi4uY3VycmVudENvbmZpZy5mc3JzLFxuICAgICAgICAuLi5jb25maWcuZnNycyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRGVjayhkZWNrSWQsIHsgY29uZmlnOiB1cGRhdGVkQ29uZmlnIH0pO1xuXG4gICAgLy8gUmVmcmVzaCBzdGF0cyBmb3IgdGhpcyBkZWNrIHNpbmNlIGNvbmZpZyBjaGFuZ2VzIGNhbiBhZmZlY3QgZGlzcGxheWVkIHN0YXRzXG4gICAgaWYgKHRoaXMudmlldykge1xuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlZnJlc2hTdGF0c0J5SWQoZGVja0lkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRlY2sgY29uZmlndXJhdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0RGVja0NvbmZpZyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8RGVja0NvbmZpZyB8IG51bGw+IHtcbiAgICBjb25zdCBkZWNrcyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsRGVja3MoKTtcbiAgICBjb25zdCBkZWNrID0gZGVja3MuZmluZCgoZCkgPT4gZC5pZCA9PT0gZGVja0lkKTtcbiAgICByZXR1cm4gZGVjayA/IGRlY2suY29uZmlnIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBwcmV2aWV3IGZvciBhIGNhcmQgc2hvd2luZyBhbGwgZm91ciByYXRpbmcgb3V0Y29tZXNcbiAgICovXG4gIGFzeW5jIHNjaGVkdWxlUHJldmlldyhcbiAgICBjYXJkSWQ6IHN0cmluZyxcbiAgICBub3c6IERhdGUgPSBuZXcgRGF0ZSgpLFxuICApOiBQcm9taXNlPFNjaGVkdWxpbmdJbmZvIHwgbnVsbD4ge1xuICAgIC8vIEZpbmQgdGhlIGNhcmQgYnkgc2VhcmNoaW5nIGFsbCBkZWNrc1xuICAgIGNvbnN0IGRlY2tzID0gYXdhaXQgdGhpcy5kYi5nZXRBbGxEZWNrcygpO1xuICAgIGxldCB0YXJnZXRDYXJkOiBGbGFzaGNhcmQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgdGFyZ2V0RGVjazogRGVjayB8IG51bGwgPSBudWxsO1xuXG4gICAgZm9yIChjb25zdCBkZWNrIG9mIGRlY2tzKSB7XG4gICAgICBjb25zdCBmbGFzaGNhcmRzID0gYXdhaXQgdGhpcy5kYi5nZXRGbGFzaGNhcmRzQnlEZWNrKGRlY2suaWQpO1xuICAgICAgY29uc3QgY2FyZCA9IGZsYXNoY2FyZHMuZmluZCgoZjogRmxhc2hjYXJkKSA9PiBmLmlkID09PSBjYXJkSWQpO1xuICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgdGFyZ2V0Q2FyZCA9IGNhcmQ7XG4gICAgICAgIHRhcmdldERlY2sgPSBkZWNrO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldENhcmQgfHwgIXRhcmdldERlY2spIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGZzcnMgPSB0aGlzLmNyZWF0ZUZTUlNGb3JEZWNrKHRhcmdldERlY2spO1xuICAgIHJldHVybiBmc3JzLmdldFNjaGVkdWxpbmdJbmZvKHRhcmdldENhcmQpO1xuICB9XG5cbiAgYXN5bmMgcmV2aWV3Rmxhc2hjYXJkKFxuICAgIGRlY2s6IERlY2ssXG4gICAgZmxhc2hjYXJkOiBGbGFzaGNhcmQsXG4gICAgZGlmZmljdWx0eTogXCJhZ2FpblwiIHwgXCJoYXJkXCIgfCBcImdvb2RcIiB8IFwiZWFzeVwiLFxuICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBmc3JzID0gdGhpcy5jcmVhdGVGU1JTRm9yRGVjayhkZWNrKTtcblxuICAgIGNvbnN0IHJldmlld2VkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgbGFzdFJldmlld2VkQXQgPSBmbGFzaGNhcmQubGFzdFJldmlld2VkIHx8IGZsYXNoY2FyZC5kdWVEYXRlO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGVsYXBzZWQgZGF5cyBhbmQgcmV0cmlldmFiaWxpdHkgdXNpbmcgRlNSU1xuICAgIGNvbnN0IGVsYXBzZWREYXlzID0gZmxhc2hjYXJkLmxhc3RSZXZpZXdlZFxuICAgICAgPyBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIChuZXcgRGF0ZShyZXZpZXdlZEF0KS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgbmV3IERhdGUoZmxhc2hjYXJkLmxhc3RSZXZpZXdlZCkuZ2V0VGltZSgpKSAvXG4gICAgICAgICAgICA4NjQwMDAwMCxcbiAgICAgICAgKVxuICAgICAgOiAwO1xuXG4gICAgY29uc3QgcmV0cmlldmFiaWxpdHkgPSBmc3JzLmdldFJldHJpZXZhYmlsaXR5KFxuICAgICAgZmxhc2hjYXJkLFxuICAgICAgbmV3IERhdGUocmV2aWV3ZWRBdCksXG4gICAgKTtcblxuICAgIGNvbnN0IHVwZGF0ZWRDYXJkID0gZnNycy51cGRhdGVDYXJkKGZsYXNoY2FyZCwgZGlmZmljdWx0eSk7XG5cbiAgICAvLyBDb252ZXJ0IGRpZmZpY3VsdHkgc3RyaW5nIHRvIHJhdGluZyBudW1iZXJcbiAgICBjb25zdCByYXRpbmdNYXAgPSB7IGFnYWluOiAxLCBoYXJkOiAyLCBnb29kOiAzLCBlYXN5OiA0IH0gYXMgY29uc3Q7XG4gICAgY29uc3QgcmF0aW5nID0gcmF0aW5nTWFwW2RpZmZpY3VsdHldO1xuXG4gICAgLy8gR2VuZXJhdGUgd2VpZ2h0cyB2ZXJzaW9uIGhhc2ggYmFzZWQgb24gcHJvZmlsZVxuICAgIGNvbnN0IHdlaWdodHNIYXNoID0gYCR7ZGVjay5jb25maWcuZnNycy5wcm9maWxlfS12MS4wYDtcblxuICAgIC8vIFVwZGF0ZSB0aGUgZmxhc2hjYXJkIGluIHRoZSBkYXRhYmFzZVxuICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRmxhc2hjYXJkKHVwZGF0ZWRDYXJkLmlkLCB7XG4gICAgICBzdGF0ZTogdXBkYXRlZENhcmQuc3RhdGUsXG4gICAgICBkdWVEYXRlOiB1cGRhdGVkQ2FyZC5kdWVEYXRlLFxuICAgICAgaW50ZXJ2YWw6IHVwZGF0ZWRDYXJkLmludGVydmFsLFxuICAgICAgcmVwZXRpdGlvbnM6IHVwZGF0ZWRDYXJkLnJlcGV0aXRpb25zLFxuICAgICAgZGlmZmljdWx0eTogdXBkYXRlZENhcmQuZGlmZmljdWx0eSxcbiAgICAgIHN0YWJpbGl0eTogdXBkYXRlZENhcmQuc3RhYmlsaXR5LFxuICAgICAgbGFwc2VzOiB1cGRhdGVkQ2FyZC5sYXBzZXMsXG4gICAgICBsYXN0UmV2aWV3ZWQ6IHVwZGF0ZWRDYXJkLmxhc3RSZXZpZXdlZCxcbiAgICB9KTtcblxuICAgIC8vIExvZyB0aGUgY29tcHJlaGVuc2l2ZSByZXZpZXdcbiAgICBhd2FpdCB0aGlzLmRiLmNyZWF0ZVJldmlld0xvZyh7XG4gICAgICBmbGFzaGNhcmRJZDogZmxhc2hjYXJkLmlkLFxuXG4gICAgICAvLyBUaW1lc3RhbXBzXG4gICAgICBsYXN0UmV2aWV3ZWRBdCxcbiAgICAgIHJldmlld2VkQXQsXG4gICAgICB0aW1lRWxhcHNlZE1zOiB0aW1lRWxhcHNlZCxcblxuICAgICAgLy8gUmF0aW5nXG4gICAgICByYXRpbmcsXG4gICAgICByYXRpbmdMYWJlbDogZGlmZmljdWx0eSxcblxuICAgICAgLy8gUHJlLXN0YXRlXG4gICAgICBvbGRTdGF0ZTogZmxhc2hjYXJkLnN0YXRlLFxuICAgICAgb2xkUmVwZXRpdGlvbnM6IGZsYXNoY2FyZC5yZXBldGl0aW9ucyxcbiAgICAgIG9sZExhcHNlczogZmxhc2hjYXJkLmxhcHNlcyxcbiAgICAgIG9sZFN0YWJpbGl0eTogZmxhc2hjYXJkLnN0YWJpbGl0eSxcbiAgICAgIG9sZERpZmZpY3VsdHk6IGZsYXNoY2FyZC5kaWZmaWN1bHR5LFxuXG4gICAgICAvLyBQb3N0LXN0YXRlXG4gICAgICBuZXdTdGF0ZTogdXBkYXRlZENhcmQuc3RhdGUsXG4gICAgICBuZXdSZXBldGl0aW9uczogdXBkYXRlZENhcmQucmVwZXRpdGlvbnMsXG4gICAgICBuZXdMYXBzZXM6IHVwZGF0ZWRDYXJkLmxhcHNlcyxcbiAgICAgIG5ld1N0YWJpbGl0eTogdXBkYXRlZENhcmQuc3RhYmlsaXR5LFxuICAgICAgbmV3RGlmZmljdWx0eTogdXBkYXRlZENhcmQuZGlmZmljdWx0eSxcblxuICAgICAgLy8gSW50ZXJ2YWxzICYgZHVlIHRpbWVzXG4gICAgICBvbGRJbnRlcnZhbE1pbnV0ZXM6IGZsYXNoY2FyZC5pbnRlcnZhbCxcbiAgICAgIG5ld0ludGVydmFsTWludXRlczogdXBkYXRlZENhcmQuaW50ZXJ2YWwsXG4gICAgICBvbGREdWVBdDogZmxhc2hjYXJkLmR1ZURhdGUsXG4gICAgICBuZXdEdWVBdDogdXBkYXRlZENhcmQuZHVlRGF0ZSxcblxuICAgICAgLy8gRGVyaXZlZCB2YWx1ZXNcbiAgICAgIGVsYXBzZWREYXlzLFxuICAgICAgcmV0cmlldmFiaWxpdHksXG5cbiAgICAgIC8vIENvbmZpZyBzbmFwc2hvdFxuICAgICAgcmVxdWVzdFJldGVudGlvbjogZGVjay5jb25maWcuZnNycy5yZXF1ZXN0UmV0ZW50aW9uLFxuICAgICAgcHJvZmlsZTogZGVjay5jb25maWcuZnNycy5wcm9maWxlLFxuICAgICAgbWF4aW11bUludGVydmFsRGF5czogZ2V0TWF4SW50ZXJ2YWxEYXlzRm9yUHJvZmlsZShcbiAgICAgICAgZGVjay5jb25maWcuZnNycy5wcm9maWxlLFxuICAgICAgKSxcbiAgICAgIG1pbk1pbnV0ZXM6IGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlKGRlY2suY29uZmlnLmZzcnMucHJvZmlsZSksXG4gICAgICBmc3JzV2VpZ2h0c1ZlcnNpb246IHdlaWdodHNIYXNoLFxuICAgICAgc2NoZWR1bGVyVmVyc2lvbjogXCIxLjBcIixcblxuICAgICAgLy8gQ29udGVudCBjb250ZXh0XG4gICAgICBjb250ZW50SGFzaDogZmxhc2hjYXJkLmNvbnRlbnRIYXNoLFxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGRlY2sgbGFzdCByZXZpZXdlZFxuICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRGVja0xhc3RSZXZpZXdlZChmbGFzaGNhcmQuZGVja0lkKTtcblxuICAgIC8vIFJlZnJlc2ggc3RhdHMgZm9yIHRoaXMgc3BlY2lmaWMgZGVjayBpZiB2aWV3IGV4aXN0c1xuICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoU3RhdHNCeUlkKGZsYXNoY2FyZC5kZWNrSWQpO1xuICAgICAgLy8gQWxzbyByZWZyZXNoIGhlYXRtYXAgc2luY2UgYSBuZXcgcmV2aWV3IHdhcyBjb21wbGV0ZWRcbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZWZyZXNoSGVhdG1hcCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE92ZXJhbGxTdGF0aXN0aWNzKFxuICAgIGRlY2tGaWx0ZXI6IHN0cmluZyA9IFwiYWxsXCIsXG4gICAgdGltZWZyYW1lOiBzdHJpbmcgPSBcIjEybW9udGhzXCIsXG4gICk6IFByb21pc2U8U3RhdGlzdGljcz4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldE92ZXJhbGxTdGF0aXN0aWNzKGRlY2tGaWx0ZXIsIHRpbWVmcmFtZSk7XG4gIH1cblxuICBvcGVuU3RhdGlzdGljc01vZGFsKCkge1xuICAgIGNvbnN0IG1vZGFsID0gbmV3IFN0YXRpc3RpY3NNb2RhbCh0aGlzKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH1cblxuICByZW5kZXJNYXJrZG93bihjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoKTtcbiAgICBjb21wb25lbnQubG9hZCgpO1xuICAgIE1hcmtkb3duUmVuZGVyZXIucmVuZGVyTWFya2Rvd24oY29udGVudCwgZWwsIFwiXCIsIGNvbXBvbmVudCk7XG4gICAgLy8gUmV0dXJuIGNvbXBvbmVudCBmb3IgY2FsbGVyIHRvIG1hbmFnZVxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cbn1cblxuY2xhc3MgRGVja3NWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgY3JlYXRlRlNSU0ZvckRlY2s6IChkZWNrOiBEZWNrKSA9PiBGU1JTO1xuICBwcml2YXRlIHNldHRpbmdzOiBGbGFzaGNhcmRzU2V0dGluZ3M7XG4gIHByaXZhdGUgZGVidWdMb2c6IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICBwcml2YXRlIHBlcmZvcm1TeW5jOiAoZm9yY2U/OiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGdldERlY2tzOiAoKSA9PiBQcm9taXNlPERlY2tbXT47XG4gIHByaXZhdGUgZ2V0RGVja1N0YXRzOiAoKSA9PiBQcm9taXNlPE1hcDxzdHJpbmcsIERlY2tTdGF0cz4+O1xuICBwcml2YXRlIGdldERlY2tTdGF0c0J5SWQ6IChkZWNrSWQ6IHN0cmluZykgPT4gUHJvbWlzZTxEZWNrU3RhdHMgfCBudWxsPjtcbiAgcHJpdmF0ZSBnZXRSZXZpZXdDb3VudHM6IChkYXlzOiBudW1iZXIpID0+IFByb21pc2U8YW55PjtcbiAgcHJpdmF0ZSB1cGRhdGVEZWNrQ29uZmlnOiAoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgY29uZmlnOiBEZWNrQ29uZmlnLFxuICApID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgb3BlblN0YXRpc3RpY3NNb2RhbDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBzeW5jRmxhc2hjYXJkc0ZvckRlY2s6IChkZWNrTmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGdldERhaWx5UmV2aWV3Q291bnRzOiAoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICkgPT4gUHJvbWlzZTx7IG5ld0NvdW50OiBudW1iZXI7IHJldmlld0NvdW50OiBudW1iZXIgfT47XG4gIHByaXZhdGUgZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHM6IChkZWNrSWQ6IHN0cmluZykgPT4gUHJvbWlzZTxGbGFzaGNhcmRbXT47XG4gIHByaXZhdGUgcmV2aWV3Rmxhc2hjYXJkOiAoXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIGRpZmZpY3VsdHk6IERpZmZpY3VsdHksXG4gICAgdGltZUVsYXBzZWQ/OiBudW1iZXIsXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bjogKFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBlbDogSFRNTEVsZW1lbnQsXG4gICkgPT4gQ29tcG9uZW50IHwgbnVsbDtcbiAgcHJpdmF0ZSBzZXRWaWV3UmVmZXJlbmNlOiAodmlldzogRGVja3NWaWV3IHwgbnVsbCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IERlY2tMaXN0UGFuZWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZG93bkNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG4gIHByaXZhdGUgc3RhdHNSZWZyZXNoVGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBsdWdpbjogRGVja3NQbHVnaW4sXG4gICAgbGVhZjogV29ya3NwYWNlTGVhZixcbiAgICBjcmVhdGVGU1JTRm9yRGVjazogKGRlY2s6IERlY2spID0+IEZTUlMsXG4gICAgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncyxcbiAgICBkZWJ1Z0xvZzogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQsXG4gICAgcGVyZm9ybVN5bmM6IChmb3JjZT86IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD4sXG4gICAgZ2V0RGVja3M6ICgpID0+IFByb21pc2U8RGVja1tdPixcbiAgICBnZXREZWNrU3RhdHM6ICgpID0+IFByb21pc2U8TWFwPHN0cmluZywgRGVja1N0YXRzPj4sXG4gICAgZ2V0RGVja1N0YXRzQnlJZDogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPERlY2tTdGF0cyB8IG51bGw+LFxuICAgIGdldFJldmlld0NvdW50czogKFxuICAgICAgZGF5czogbnVtYmVyLFxuICAgICkgPT4gUHJvbWlzZTx7IG5ld0NvdW50OiBudW1iZXI7IHJldmlld0NvdW50OiBudW1iZXIgfT4sXG4gICAgdXBkYXRlRGVja0NvbmZpZzogKGRlY2tJZDogc3RyaW5nLCBjb25maWc6IERlY2tDb25maWcpID0+IFByb21pc2U8dm9pZD4sXG4gICAgb3BlblN0YXRpc3RpY3NNb2RhbDogKCkgPT4gdm9pZCxcbiAgICBzeW5jRmxhc2hjYXJkc0ZvckRlY2s6IChkZWNrTmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIGdldERhaWx5UmV2aWV3Q291bnRzOiAoXG4gICAgICBkZWNrSWQ6IHN0cmluZyxcbiAgICApID0+IFByb21pc2U8eyBuZXdDb3VudDogbnVtYmVyOyByZXZpZXdDb3VudDogbnVtYmVyIH0+LFxuICAgIGdldFJldmlld2FibGVGbGFzaGNhcmRzOiAoZGVja0lkOiBzdHJpbmcpID0+IFByb21pc2U8Rmxhc2hjYXJkW10+LFxuICAgIHJldmlld0ZsYXNoY2FyZDogKFxuICAgICAgY2FyZDogRmxhc2hjYXJkLFxuICAgICAgZGlmZmljdWx0eTogRGlmZmljdWx0eSxcbiAgICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICAgICkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICByZW5kZXJNYXJrZG93bjogKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiBDb21wb25lbnQgfCBudWxsLFxuICAgIHNldFZpZXdSZWZlcmVuY2U6ICh2aWV3OiBEZWNrc1ZpZXcgfCBudWxsKSA9PiB2b2lkLFxuICApIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmNyZWF0ZUZTUlNGb3JEZWNrID0gY3JlYXRlRlNSU0ZvckRlY2s7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuZGVidWdMb2cgPSBkZWJ1Z0xvZztcbiAgICB0aGlzLnBlcmZvcm1TeW5jID0gcGVyZm9ybVN5bmM7XG4gICAgdGhpcy5nZXREZWNrcyA9IGdldERlY2tzO1xuICAgIHRoaXMuZ2V0RGVja1N0YXRzID0gZ2V0RGVja1N0YXRzO1xuICAgIHRoaXMuZ2V0RGVja1N0YXRzQnlJZCA9IGdldERlY2tTdGF0c0J5SWQ7XG4gICAgdGhpcy5nZXRSZXZpZXdDb3VudHMgPSBnZXRSZXZpZXdDb3VudHM7XG4gICAgdGhpcy51cGRhdGVEZWNrQ29uZmlnID0gdXBkYXRlRGVja0NvbmZpZztcbiAgICB0aGlzLm9wZW5TdGF0aXN0aWNzTW9kYWwgPSBvcGVuU3RhdGlzdGljc01vZGFsO1xuICAgIHRoaXMuc3luY0ZsYXNoY2FyZHNGb3JEZWNrID0gc3luY0ZsYXNoY2FyZHNGb3JEZWNrO1xuICAgIHRoaXMuZ2V0RGFpbHlSZXZpZXdDb3VudHMgPSBnZXREYWlseVJldmlld0NvdW50cztcbiAgICB0aGlzLmdldFJldmlld2FibGVGbGFzaGNhcmRzID0gZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHM7XG4gICAgdGhpcy5yZXZpZXdGbGFzaGNhcmQgPSByZXZpZXdGbGFzaGNhcmQ7XG4gICAgdGhpcy5yZW5kZXJNYXJrZG93biA9IHJlbmRlck1hcmtkb3duO1xuICAgIHRoaXMuc2V0Vmlld1JlZmVyZW5jZSA9IHNldFZpZXdSZWZlcmVuY2U7XG4gICAgLy8gU2V0IHJlZmVyZW5jZSBpbiBwbHVnaW4gc28gd2UgY2FuIGFjY2VzcyB0aGlzIHZpZXcgaW5zdGFuY2VcbiAgICB0aGlzLnNldFZpZXdSZWZlcmVuY2UodGhpcyk7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfREVDS1M7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIkRlY2tzXCI7XG4gIH1cblxuICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiYnJhaW5cIjtcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcyhcImRlY2tzLXZpZXdcIik7XG5cbiAgICAvLyBDcmVhdGUgYW5kIG1vdW50IFN2ZWx0ZSBjb21wb25lbnRcbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBEZWNrTGlzdFBhbmVsKHtcbiAgICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgb25EZWNrQ2xpY2s6IChkZWNrOiBEZWNrKSA9PiB0aGlzLnN0YXJ0UmV2aWV3KGRlY2spLFxuICAgICAgICBvblJlZnJlc2g6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFwib25SZWZyZXNoIGNhbGxiYWNrIGludm9rZWRcIik7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZXZpZXdDb3VudHM6IGFzeW5jIChkYXlzOiBudW1iZXIpID0+IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRSZXZpZXdDb3VudHMoZGF5cyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlRGVja0NvbmZpZzogYXN5bmMgKGRlY2tJZDogc3RyaW5nLCBjb25maWc6IERlY2tDb25maWcpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZURlY2tDb25maWcoZGVja0lkLCBjb25maWcpO1xuICAgICAgICB9LFxuICAgICAgICBvbk9wZW5TdGF0aXN0aWNzOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vcGVuU3RhdGlzdGljc01vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbjogdGhpcy5wbHVnaW4sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbCByZWZyZXNoXG4gICAgYXdhaXQgdGhpcy5yZWZyZXNoKHRydWUpO1xuXG4gICAgLy8gU3RhcnQgYmFja2dyb3VuZCByZWZyZXNoIGpvYiBpZiBlbmFibGVkXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2gpIHtcbiAgICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIHRpbWVvdXRzXG4gICAgaWYgKHRoaXMuc3RhdHNSZWZyZXNoVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdHNSZWZyZXNoVGltZW91dCk7XG4gICAgICB0aGlzLnN0YXRzUmVmcmVzaFRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIGJhY2tncm91bmQgcmVmcmVzaFxuICAgIHRoaXMuc3RvcEJhY2tncm91bmRSZWZyZXNoKCk7XG5cbiAgICAvLyBDbGVhbiB1cCBtYXJrZG93biBjb21wb25lbnRzXG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4gY29tcC51bmxvYWQoKSk7XG4gICAgdGhpcy5tYXJrZG93bkNvbXBvbmVudHMgPSBbXTtcblxuICAgIC8vIENsZWFyIHJlZmVyZW5jZSBpbiBwbHVnaW5cbiAgICB0aGlzLnNldFZpZXdSZWZlcmVuY2UobnVsbCk7XG4gIH1cblxuICBhc3luYyB1cGRhdGUodXBkYXRlZERlY2tzOiBEZWNrW10sIGRlY2tTdGF0czogTWFwPHN0cmluZywgRGVja1N0YXRzPikge1xuICAgIHRoaXMuY29tcG9uZW50Py51cGRhdGVEZWNrcyh1cGRhdGVkRGVja3MpO1xuICAgIHRoaXMuY29tcG9uZW50Py51cGRhdGVTdGF0cyhkZWNrU3RhdHMpO1xuICB9XG5cbiAgYXN5bmMgcmVmcmVzaChmb3JjZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcIkRlY2tzVmlldy5yZWZyZXNoKCkgY2FsbGVkXCIpO1xuICAgIHRyeSB7XG4gICAgICAvLyBQZXJmb3JtIHN5bmMgd2l0aCBmb3JjZSBwYXJhbWV0ZXJcbiAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVN5bmMoZm9yY2UpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHZpZXcgd2l0aCByZWZyZXNoZWQgZGF0YVxuICAgICAgY29uc3QgdXBkYXRlZERlY2tzID0gYXdhaXQgdGhpcy5nZXREZWNrcygpO1xuICAgICAgY29uc3QgZGVja1N0YXRzID0gYXdhaXQgdGhpcy5nZXREZWNrU3RhdHMoKTtcbiAgICAgIHRoaXMudXBkYXRlKHVwZGF0ZWREZWNrcywgZGVja1N0YXRzKTtcblxuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlJlZnJlc2ggY29tcGxldGVcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIGRlY2tzOlwiLCBlcnJvcik7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncz8udWk/LmVuYWJsZU5vdGljZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJFcnJvciByZWZyZXNoaW5nIGRlY2tzLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyByZWZyZXNoU3RhdHMoKSB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcIkRlY2tzVmlldy5yZWZyZXNoU3RhdHMoKSBleGVjdXRpbmdcIik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB1cGRhdGVkIHN0YXRzIG9ubHkgKGZhc3RlciB0aGFuIGZ1bGwgcmVmcmVzaClcbiAgICAgIGNvbnN0IGRlY2tTdGF0cyA9IGF3YWl0IHRoaXMuZ2V0RGVja1N0YXRzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiVXBkYXRlZCBkZWNrIHN0YXRzOlwiLCBkZWNrU3RhdHMpO1xuXG4gICAgICAvLyBVcGRhdGUgY29tcG9uZW50IHdpdGggbmV3IHN0YXRzIC0gc2FtZSBwYXR0ZXJuIGFzIHJlZnJlc2goKVxuICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnVwZGF0ZVN0YXRzKGRlY2tTdGF0cyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIHN0YXRzOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVmcmVzaFN0YXRzQnlJZChkZWNrSWQ6IHN0cmluZykge1xuICAgIHRoaXMuZGVidWdMb2coYERlY2tzVmlldy5yZWZyZXNoU3RhdHNCeUlkKCkgZXhlY3V0aW5nIGZvciBkZWNrOiAke2RlY2tJZH1gKTtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGFsbCBzdGF0cyAoc2FtZSBhcyByZWZyZXNoKCkgbWV0aG9kIGZvciBjb25zaXN0ZW5jeSlcbiAgICAgIGNvbnN0IGRlY2tTdGF0cyA9IGF3YWl0IHRoaXMuZ2V0RGVja1N0YXRzQnlJZChkZWNrSWQpO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlVwZGF0ZWQgYWxsIGRlY2sgc3RhdHNcIik7XG5cbiAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnQgdXNpbmcgc2FtZSBwYXR0ZXJuIGFzIHJlZnJlc2goKVxuICAgICAgaWYgKHRoaXMuY29tcG9uZW50ICYmIGRlY2tTdGF0cykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC51cGRhdGVTdGF0c0J5SWQoZGVja0lkLCBkZWNrU3RhdHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVmcmVzaGluZyBzdGF0cyBieSBJRDpcIiwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0QmFja2dyb3VuZFJlZnJlc2goKSB7XG4gICAgLy8gRG9uJ3Qgc3RhcnQgaWYgYmFja2dyb3VuZCByZWZyZXNoIGlzIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGludGVydmFsXG4gICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2goKTtcblxuICAgIHRoaXMuZGVidWdMb2coXG4gICAgICBgU3RhcnRpbmcgYmFja2dyb3VuZCByZWZyZXNoIGpvYiAoZXZlcnkgJHt0aGlzLnNldHRpbmdzLnVpLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWx9IHNlY29uZHMpYCxcbiAgICApO1xuXG4gICAgdGhpcy5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIkJhY2tncm91bmQgcmVmcmVzaCB0aWNrXCIpO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfSwgdGhpcy5zZXR0aW5ncy51aS5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsICogMTAwMCk7XG4gIH1cblxuICBzdG9wQmFja2dyb3VuZFJlZnJlc2goKSB7XG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCkge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcIlN0b3BwaW5nIGJhY2tncm91bmQgcmVmcmVzaCBqb2JcIik7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICB0aGlzLmJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICB0aGlzLnN0b3BCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgIGlmICh0aGlzLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoKSB7XG4gICAgICB0aGlzLnN0YXJ0QmFja2dyb3VuZFJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZWZyZXNoSGVhdG1hcCgpIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnJlZnJlc2hIZWF0bWFwKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGVzdCBtZXRob2QgdG8gY2hlY2sgaWYgYmFja2dyb3VuZCBqb2IgaXMgcnVubmluZ1xuICBjaGVja0JhY2tncm91bmRKb2JTdGF0dXMoKSB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcIkJhY2tncm91bmQgam9iIHN0YXR1czpcIiwge1xuICAgICAgaXNSdW5uaW5nOiAhIXRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCxcbiAgICAgIGludGVydmFsSWQ6IHRoaXMuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbCxcbiAgICAgIGNvbXBvbmVudEV4aXN0czogISF0aGlzLmNvbXBvbmVudCxcbiAgICAgIHJlZnJlc2hJbnRlcnZhbDogdGhpcy5zZXR0aW5ncy51aS5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc3RhcnRSZXZpZXcoZGVjazogRGVjaykge1xuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCBzeW5jIGZsYXNoY2FyZHMgZm9yIHRoaXMgc3BlY2lmaWMgZGVja1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgU3luY2luZyBjYXJkcyBmb3IgZGVjayBiZWZvcmUgcmV2aWV3OiAke2RlY2submFtZX1gKTtcbiAgICAgIGF3YWl0IHRoaXMuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGRlY2submFtZSk7XG5cbiAgICAgIC8vIEdldCBkYWlseSByZXZpZXcgY291bnRzIHRvIHNob3cgcmVtYWluaW5nIGFsbG93YW5jZVxuICAgICAgY29uc3QgZGFpbHlDb3VudHMgPSBhd2FpdCB0aGlzLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2suaWQpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcmVtYWluaW5nIGRhaWx5IGFsbG93YW5jZVxuICAgICAgY29uc3QgY29uZmlnID0gZGVjay5jb25maWc7XG4gICAgICBjb25zdCByZW1haW5pbmdOZXcgPSBjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdFxuICAgICAgICA/IE1hdGgubWF4KDAsIGNvbmZpZy5uZXdDYXJkc0xpbWl0IC0gZGFpbHlDb3VudHMubmV3Q291bnQpXG4gICAgICAgIDogXCJ1bmxpbWl0ZWRcIjtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1JldmlldyA9IGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0XG4gICAgICAgID8gTWF0aC5tYXgoMCwgY29uZmlnLnJldmlld0NhcmRzTGltaXQgLSBkYWlseUNvdW50cy5yZXZpZXdDb3VudClcbiAgICAgICAgOiBcInVubGltaXRlZFwiO1xuXG4gICAgICAvLyBHZXQgYWxsIGZsYXNoY2FyZHMgdGhhdCBhcmUgZHVlIGZvciByZXZpZXcgKHJlc3BlY3RpbmcgZGFpbHkgbGltaXRzKVxuICAgICAgY29uc3QgZmxhc2hjYXJkcyA9IGF3YWl0IHRoaXMuZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHMoZGVjay5pZCk7XG5cbiAgICAgIGlmIChmbGFzaGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGBObyBjYXJkcyBkdWUgZm9yIHJldmlldyBpbiAke2RlY2submFtZX1gO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGxpbWl0cyBhcmUgdGhlIHJlYXNvbiBubyBjYXJkcyBhcmUgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IG5ld0xpbWl0UmVhY2hlZCA9XG4gICAgICAgICAgY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgJiYgcmVtYWluaW5nTmV3ID09PSAwO1xuICAgICAgICBjb25zdCByZXZpZXdMaW1pdFJlYWNoZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmIHJlbWFpbmluZ1JldmlldyA9PT0gMDtcblxuICAgICAgICBpZiAobmV3TGltaXRSZWFjaGVkICYmIHJldmlld0xpbWl0UmVhY2hlZCkge1xuICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcblxcbkRhaWx5IGxpbWl0cyByZWFjaGVkOmA7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuTmV3IGNhcmRzOiAke2NvbmZpZy5uZXdDYXJkc0xpbWl0fS8ke2NvbmZpZy5uZXdDYXJkc0xpbWl0fWA7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuUmV2aWV3IGNhcmRzOiAke2NvbmZpZy5yZXZpZXdDYXJkc0xpbWl0fS8ke2NvbmZpZy5yZXZpZXdDYXJkc0xpbWl0fWA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3TGltaXRSZWFjaGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSArPSBgXFxuXFxuRGFpbHkgbmV3IGNhcmRzIGxpbWl0IHJlYWNoZWQ6ICR7Y29uZmlnLm5ld0NhcmRzTGltaXR9LyR7Y29uZmlnLm5ld0NhcmRzTGltaXR9YDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXZpZXdMaW1pdFJlYWNoZWQpIHtcbiAgICAgICAgICBtZXNzYWdlICs9IGBcXG5cXG5EYWlseSByZXZpZXcgY2FyZHMgbGltaXQgcmVhY2hlZDogJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH0vJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG5ldyBOb3RpY2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IGRhaWx5IGxpbWl0IGluZm8gYmVmb3JlIHN0YXJ0aW5nIHJldmlldyBpZiBsaW1pdHMgYXJlIGFjdGl2ZVxuICAgICAgaWYgKGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0IHx8IGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0KSB7XG4gICAgICAgIGxldCBsaW1pdEluZm8gPSBgRGFpbHkgcHJvZ3Jlc3MgZm9yICR7ZGVjay5uYW1lfTpcXG5gO1xuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQpIHtcbiAgICAgICAgICBpZiAoZGFpbHlDb3VudHMubmV3Q291bnQgPj0gY29uZmlnLm5ld0NhcmRzTGltaXQpIHtcbiAgICAgICAgICAgIGxpbWl0SW5mbyArPSBgTmV3IGNhcmRzOiAke2RhaWx5Q291bnRzLm5ld0NvdW50fS8ke2NvbmZpZy5uZXdDYXJkc0xpbWl0fSAoTElNSVQgRVhDRUVERUQpXFxuYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBOZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMubmV3Q291bnR9LyR7Y29uZmlnLm5ld0NhcmRzTGltaXR9ICgke3JlbWFpbmluZ05ld30gcmVtYWluaW5nKVxcbmA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCkge1xuICAgICAgICAgIGlmIChkYWlseUNvdW50cy5yZXZpZXdDb3VudCA+PSBjb25maWcucmV2aWV3Q2FyZHNMaW1pdCkge1xuICAgICAgICAgICAgbGltaXRJbmZvICs9IGBSZXZpZXcgY2FyZHM6ICR7ZGFpbHlDb3VudHMucmV2aWV3Q291bnR9LyR7Y29uZmlnLnJldmlld0NhcmRzTGltaXR9IChMSU1JVCBFWENFRURFRClgO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW1pdEluZm8gKz0gYFJldmlldyBjYXJkczogJHtkYWlseUNvdW50cy5yZXZpZXdDb3VudH0vJHtjb25maWcucmV2aWV3Q2FyZHNMaW1pdH0gKCR7cmVtYWluaW5nUmV2aWV3fSByZW1haW5pbmcpYDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZXhwbGFuYXRpb24gd2hlbiBsaW1pdHMgYXJlIGV4Y2VlZGVkIGJ1dCBsZWFybmluZyBjYXJkcyBhcmUgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IG5ld0xpbWl0RXhjZWVkZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ICYmXG4gICAgICAgICAgZGFpbHlDb3VudHMubmV3Q291bnQgPj0gY29uZmlnLm5ld0NhcmRzTGltaXQ7XG4gICAgICAgIGNvbnN0IHJldmlld0xpbWl0RXhjZWVkZWQgPVxuICAgICAgICAgIGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmXG4gICAgICAgICAgZGFpbHlDb3VudHMucmV2aWV3Q291bnQgPj0gY29uZmlnLnJldmlld0NhcmRzTGltaXQ7XG5cbiAgICAgICAgaWYgKG5ld0xpbWl0RXhjZWVkZWQgfHwgcmV2aWV3TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgIGxpbWl0SW5mbyArPSBgXFxuXFxuTm90ZTogT25seSBsZWFybmluZyBjYXJkcyB3aWxsIGJlIHNob3duIChsaW1pdHMgZXhjZWVkZWQpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKGxpbWl0SW5mbywgNTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gT3BlbiByZXZpZXcgbW9kYWxcbiAgICAgIG5ldyBGbGFzaGNhcmRSZXZpZXdNb2RhbFdyYXBwZXIoXG4gICAgICAgIHRoaXMuYXBwLFxuICAgICAgICBkZWNrLFxuICAgICAgICBmbGFzaGNhcmRzLFxuICAgICAgICB0aGlzLmNyZWF0ZUZTUlNGb3JEZWNrKGRlY2spLFxuICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICB0aGlzLnJldmlld0ZsYXNoY2FyZC5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLnJlbmRlck1hcmtkb3duLFxuICAgICAgICB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5yZWZyZXNoU3RhdHNCeUlkLmJpbmQodGhpcyksXG4gICAgICApLm9wZW4oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHN0YXJ0aW5nIHJldmlldzpcIiwgZXJyb3IpO1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzICE9PSBmYWxzZSkge1xuICAgICAgICBuZXcgTm90aWNlKFwiRXJyb3Igc3RhcnRpbmcgcmV2aWV3LiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgaW5pdFNxbEpzLCB7IERhdGFiYXNlLCBTcWxKc1N0YXRpYyB9IGZyb20gXCJzcWwuanNcIjtcbmltcG9ydCB7IERhdGFBZGFwdGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1xuICBEZWNrLFxuICBGbGFzaGNhcmQsXG4gIFJldmlld0xvZyxcbiAgRGVja1N0YXRzLFxuICBERUZBVUxUX0RFQ0tfQ09ORklHLFxuICBTdGF0aXN0aWNzLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgU1FMX1FVRVJJRVMgfSBmcm9tIFwiLi9zY2hlbWFzXCI7XG5pbXBvcnQgeyBjcmVhdGVUYWJsZXMsIG1pZ3JhdGUsIG5lZWRzTWlncmF0aW9uIH0gZnJvbSBcIi4vbWlncmF0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBTUUw6IFNxbEpzU3RhdGljIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZGJQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgYWRhcHRlcjogRGF0YUFkYXB0ZXI7XG4gIHByaXZhdGUgZGVidWdMb2c6IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRiUGF0aDogc3RyaW5nLFxuICAgIGFkYXB0ZXI6IERhdGFBZGFwdGVyLFxuICAgIGRlYnVnTG9nOiAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgKSB7XG4gICAgdGhpcy5kYlBhdGggPSBkYlBhdGg7XG4gICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICB0aGlzLmRlYnVnTG9nID0gZGVidWdMb2c7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBJbml0aWFsaXplIHNxbC5qc1xuICAgICAgdGhpcy5TUUwgPSBhd2FpdCBpbml0U3FsSnMoe1xuICAgICAgICBsb2NhdGVGaWxlOiAoZmlsZSkgPT4gYGh0dHBzOi8vc3FsLmpzLm9yZy9kaXN0LyR7ZmlsZX1gLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyeSB0byBsb2FkIGV4aXN0aW5nIGRhdGFiYXNlIG9yIGNyZWF0ZSBuZXcgb25lXG4gICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCB0aGlzLmxvYWREYXRhYmFzZUZpbGUoKTtcbiAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgZGF0YWJhc2UgZmlsZSAtIGxvYWQgYW5kIGNoZWNrIGZvciBtaWdyYXRpb25cbiAgICAgICAgdGhpcy5kYiA9IG5ldyB0aGlzLlNRTC5EYXRhYmFzZShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlU2NoZW1hSWZOZWVkZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGRhdGFiYXNlIGZpbGUgZXhpc3RzIC0gY3JlYXRlIGZyZXNoIGRhdGFiYXNlXG4gICAgICAgIHRoaXMuZGIgPSBuZXcgdGhpcy5TUUwuRGF0YWJhc2UoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVGcmVzaERhdGFiYXNlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRGF0YWJhc2VGaWxlKCk6IFByb21pc2U8QXJyYXlCdWZmZXIgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhd2FpdCB0aGlzLmFkYXB0ZXIuZXhpc3RzKHRoaXMuZGJQYXRoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hZGFwdGVyLnJlYWRCaW5hcnkodGhpcy5kYlBhdGgpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRGF0YWJhc2UgZmlsZSBkb2Vzbid0IGV4aXN0IHlldCwgd2lsbCBjcmVhdGUgbmV3IG9uZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGIuZXhwb3J0KCk7XG5cbiAgICAgIC8vIEVuc3VyZSBkaXJlY3RvcnkgZXhpc3RzXG4gICAgICBjb25zdCBkaXIgPSB0aGlzLmRiUGF0aC5zdWJzdHJpbmcoMCwgdGhpcy5kYlBhdGgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuYWRhcHRlci5leGlzdHMoZGlyKSkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hZGFwdGVyLm1rZGlyKGRpcik7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlci53cml0ZUJpbmFyeSh0aGlzLmRiUGF0aCwgQnVmZmVyLmZyb20oZGF0YSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNhdmUgZGF0YWJhc2U6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlRnJlc2hEYXRhYmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiQ3JlYXRpbmcgZnJlc2ggZGF0YWJhc2Ugc2NoZW1hLi4uXCIpO1xuICAgICAgY3JlYXRlVGFibGVzKHRoaXMuZGIsIHRoaXMuZGVidWdMb2cuYmluZCh0aGlzKSk7XG4gICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJGcmVzaCBkYXRhYmFzZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgRnJlc2ggZGF0YWJhc2UgY3JlYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGcmVzaCBkYXRhYmFzZSBjcmVhdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBwYXJzZSBkZWNrIHJvd3NcbiAgcHJpdmF0ZSBwYXJzZURlY2tSb3cocm93OiBhbnlbXSk6IERlY2sge1xuICAgIGxldCBjb25maWcgPSByb3dbNV0gPyBKU09OLnBhcnNlKHJvd1s1XSBhcyBzdHJpbmcpIDogREVGQVVMVF9ERUNLX0NPTkZJRztcblxuICAgIC8vIE1pZ3JhdGlvbjogQWRkIEZTUlMgc2V0dGluZ3MgaWYgbWlzc2luZ1xuICAgIGlmICghY29uZmlnLmZzcnMpIHtcbiAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBmc3JzOiBERUZBVUxUX0RFQ0tfQ09ORklHLmZzcnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgIG5hbWU6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmaWxlcGF0aDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIHRhZzogcm93WzNdIGFzIHN0cmluZyxcbiAgICAgIGxhc3RSZXZpZXdlZDogcm93WzRdIGFzIHN0cmluZyB8IG51bGwsXG4gICAgICBjb25maWcsXG4gICAgICBjcmVhdGVkOiByb3dbNl0gYXMgc3RyaW5nLFxuICAgICAgbW9kaWZpZWQ6IHJvd1s3XSBhcyBzdHJpbmcsXG4gICAgfTtcbiAgfVxuXG4gIC8vIERlY2sgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVEZWNrKGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCIgfCBcIm1vZGlmaWVkXCI+KTogUHJvbWlzZTxEZWNrPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgZnVsbERlY2s6IERlY2sgPSB7XG4gICAgICAuLi5kZWNrLFxuICAgICAgY3JlYXRlZDogbm93LFxuICAgICAgbW9kaWZpZWQ6IG5vdyxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuSU5TRVJUX0RFQ0spO1xuXG4gICAgICBzdG10LnJ1bihbXG4gICAgICAgIGZ1bGxEZWNrLmlkLFxuICAgICAgICBmdWxsRGVjay5uYW1lLFxuICAgICAgICBmdWxsRGVjay5maWxlcGF0aCxcbiAgICAgICAgZnVsbERlY2sudGFnLFxuICAgICAgICBmdWxsRGVjay5sYXN0UmV2aWV3ZWQsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGZ1bGxEZWNrLmNvbmZpZyksXG4gICAgICAgIGZ1bGxEZWNrLmNyZWF0ZWQsXG4gICAgICAgIGZ1bGxEZWNrLm1vZGlmaWVkLFxuICAgICAgXSk7XG4gICAgICBzdG10LmZyZWUoKTtcblxuICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICByZXR1cm4gZnVsbERlY2s7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldERlY2tCeVRhZyh0YWc6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0RFQ0tfQllfVEFHKTtcbiAgICBzdG10LmJpbmQoW3RhZ10pO1xuXG4gICAgaWYgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdG10LmdldCgpO1xuICAgICAgc3RtdC5mcmVlKCk7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZURlY2tSb3cocmVzdWx0KTtcbiAgICB9XG5cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldERlY2tCeUZpbGVwYXRoKGZpbGVwYXRoOiBzdHJpbmcpOiBQcm9taXNlPERlY2sgfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkdFVF9ERUNLX0JZX0ZJTEVQQVRIKTtcbiAgICBzdG10LmJpbmQoW2ZpbGVwYXRoXSk7XG5cbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQuZ2V0KCk7XG4gICAgICBzdG10LmZyZWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVja1JvdyhyZXN1bHQpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja0J5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGVjayB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0RFQ0tfQllfSUQpO1xuICAgIHN0bXQuYmluZChbaWRdKTtcblxuICAgIGlmIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5nZXQoKTtcbiAgICAgIHN0bXQuZnJlZSgpO1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2VEZWNrUm93KHJlc3VsdCk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyB1cGRhdGVEZWNrKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8UGljazxEZWNrLCBcIm5hbWVcIiB8IFwidGFnXCIgfCBcImxhc3RSZXZpZXdlZFwiIHwgXCJjb25maWdcIj4+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIC8vIEhhbmRsZSBlbXB0eSB1cGRhdGVzIG9iamVjdCAtIG5vIGRhdGFiYXNlIGNoYW5nZXMgbmVlZGVkXG4gICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZUZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpXG4gICAgICAubWFwKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZGJGaWVsZCA9IGtleSA9PT0gXCJsYXN0UmV2aWV3ZWRcIiA/IFwibGFzdF9yZXZpZXdlZFwiIDoga2V5O1xuICAgICAgICByZXR1cm4gYCR7ZGJGaWVsZH0gPSA/YDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgY29uc3Qgc3FsID0gYFVQREFURSBkZWNrcyBTRVQgJHt1cGRhdGVGaWVsZHN9LCBtb2RpZmllZCA9ID8gV0hFUkUgaWQgPSA/YDtcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG5cbiAgICBjb25zdCB2YWx1ZXM6IChzdHJpbmcgfCBudWxsKVtdID0gT2JqZWN0LnZhbHVlcyh1cGRhdGVzKS5tYXAoXG4gICAgICAodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGtleSA9PT0gXCJjb25maWdcIlxuICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgICAgICAgOiAodmFsdWUgYXMgc3RyaW5nIHwgbnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdmFsdWVzLnB1c2gobm93LCBkZWNrSWQpO1xuICAgIHN0bXQucnVuKHZhbHVlcyk7XG4gICAgc3RtdC5mcmVlKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVEZWNrVGltZXN0YW1wKGRlY2tJZDogc3RyaW5nLCB0aW1lc3RhbXA6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5VUERBVEVfREVDS19USU1FU1RBTVApO1xuICAgIHN0bXQucnVuKFt0aW1lc3RhbXAsIGRlY2tJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsRGVja3MoKTogUHJvbWlzZTxEZWNrW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0FMTF9ERUNLUyk7XG4gICAgY29uc3QgZGVja3M6IERlY2tbXSA9IFtdO1xuXG4gICAgd2hpbGUgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgZGVja3MucHVzaCh0aGlzLnBhcnNlRGVja1Jvdyhyb3cpKTtcbiAgICB9XG5cbiAgICBzdG10LmZyZWUoKTtcbiAgICByZXR1cm4gZGVja3M7XG4gIH1cblxuICBhc3luYyB1cGRhdGVEZWNrTGFzdFJldmlld2VkKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLlVQREFURV9ERUNLX0xBU1RfUkVWSUVXRUQpO1xuXG4gICAgc3RtdC5ydW4oW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBkZWNrSWRdKTtcbiAgICBzdG10LmZyZWUoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIGFzeW5jIHJlbmFtZURlY2soXG4gICAgb2xkRGVja0lkOiBzdHJpbmcsXG4gICAgbmV3RGVja0lkOiBzdHJpbmcsXG4gICAgbmV3TmFtZTogc3RyaW5nLFxuICAgIG5ld0ZpbGVwYXRoOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBkZWNrIHdpdGggbmV3IElELCBuYW1lLCBhbmQgZmlsZXBhdGhcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLlJFTkFNRV9ERUNLKTtcblxuICAgIHN0bXQucnVuKFtuZXdEZWNrSWQsIG5ld05hbWUsIG5ld0ZpbGVwYXRoLCBub3csIG9sZERlY2tJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlRGVja0J5RmlsZXBhdGgoZmlsZXBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgLy8gRmlyc3QgZ2V0IHRoZSBkZWNrIHRvIGZpbmQgaXRzIElEXG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZ2V0RGVja0J5RmlsZXBhdGgoZmlsZXBhdGgpO1xuICAgIGlmICghZGVjaykgcmV0dXJuOyAvLyBEZWNrIGRvZXNuJ3QgZXhpc3RcblxuICAgIC8vIERvbid0IGRlbGV0ZSBmbGFzaGNhcmRzIHRvIHByZXNlcnZlIHByb2dyZXNzIC0gdGhleSB3aWxsIGJlIG9ycGhhbmVkIGJ1dCBjYW4gYmUgcmVhc3NpZ25lZCBsYXRlclxuICAgIC8vIE9ubHkgcmV2aWV3IGxvZ3MgYXJlIHByZXNlcnZlZCBmb3IgaGlzdG9yaWNhbCBkYXRhXG5cbiAgICAvLyBGaW5hbGx5IGRlbGV0ZSB0aGUgZGVja1xuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuREVMRVRFX0RFQ0tfQllfRklMRVBBVEgpO1xuICAgIHN0bXQucnVuKFtmaWxlcGF0aF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuXG4gICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBhc3luYyBkZWxldGVEZWNrKGRlY2tJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICAvLyBEb24ndCBkZWxldGUgZmxhc2hjYXJkcyB0byBwcmVzZXJ2ZSBwcm9ncmVzcyAtIHRoZXkgd2lsbCBiZSBvcnBoYW5lZCBidXQgY2FuIGJlIHJlYXNzaWduZWQgbGF0ZXJcbiAgICAvLyBPbmx5IHJldmlldyBsb2dzIGFyZSBwcmVzZXJ2ZWQgZm9yIGhpc3RvcmljYWwgZGF0YVxuXG4gICAgLy8gRmluYWxseSBkZWxldGUgdGhlIGRlY2tcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkRFTEVURV9ERUNLKTtcbiAgICBzdG10LnJ1bihbZGVja0lkXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIC8vIEZsYXNoY2FyZCBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmQ6IE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj4sXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgZnVsbEZsYXNoY2FyZDogRmxhc2hjYXJkID0ge1xuICAgICAgLi4uZmxhc2hjYXJkLFxuICAgICAgY3JlYXRlZDogbm93LFxuICAgICAgbW9kaWZpZWQ6IG5vdyxcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShTUUxfUVVFUklFUy5JTlNFUlRfRkxBU0hDQVJEKTtcblxuICAgIHN0bXQucnVuKFtcbiAgICAgIGZ1bGxGbGFzaGNhcmQuaWQsXG4gICAgICBmdWxsRmxhc2hjYXJkLmRlY2tJZCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuZnJvbnQsXG4gICAgICBmdWxsRmxhc2hjYXJkLmJhY2ssXG4gICAgICBmdWxsRmxhc2hjYXJkLnR5cGUsXG4gICAgICBmdWxsRmxhc2hjYXJkLnNvdXJjZUZpbGUsXG4gICAgICBmdWxsRmxhc2hjYXJkLmNvbnRlbnRIYXNoLFxuICAgICAgZnVsbEZsYXNoY2FyZC5oZWFkZXJMZXZlbCB8fCBudWxsLFxuICAgICAgZnVsbEZsYXNoY2FyZC5zdGF0ZSxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuZHVlRGF0ZSxcbiAgICAgIGZsYXNoY2FyZC5pbnRlcnZhbCxcbiAgICAgIGZsYXNoY2FyZC5yZXBldGl0aW9ucyxcbiAgICAgIGZsYXNoY2FyZC5kaWZmaWN1bHR5LFxuICAgICAgZmxhc2hjYXJkLnN0YWJpbGl0eSxcbiAgICAgIGZsYXNoY2FyZC5sYXBzZXMsXG4gICAgICBmdWxsRmxhc2hjYXJkLmxhc3RSZXZpZXdlZCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQuY3JlYXRlZCxcbiAgICAgIGZ1bGxGbGFzaGNhcmQubW9kaWZpZWQsXG4gICAgXSk7XG4gICAgc3RtdC5mcmVlKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICByZXR1cm4gZnVsbEZsYXNoY2FyZDtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUZsYXNoY2FyZChcbiAgICBmbGFzaGNhcmRJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8XG4gICAgICBQaWNrPFxuICAgICAgICBGbGFzaGNhcmQsXG4gICAgICAgIHwgXCJmcm9udFwiXG4gICAgICAgIHwgXCJiYWNrXCJcbiAgICAgICAgfCBcInR5cGVcIlxuICAgICAgICB8IFwiY29udGVudEhhc2hcIlxuICAgICAgICB8IFwiaGVhZGVyTGV2ZWxcIlxuICAgICAgICB8IFwic3RhdGVcIlxuICAgICAgICB8IFwiZHVlRGF0ZVwiXG4gICAgICAgIHwgXCJpbnRlcnZhbFwiXG4gICAgICAgIHwgXCJyZXBldGl0aW9uc1wiXG4gICAgICAgIHwgXCJkaWZmaWN1bHR5XCJcbiAgICAgICAgfCBcInN0YWJpbGl0eVwiXG4gICAgICAgIHwgXCJsYXBzZXNcIlxuICAgICAgICB8IFwibGFzdFJldmlld2VkXCJcbiAgICAgID5cbiAgICA+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCB1cGRhdGVGaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKVxuICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRiRmllbGQgPVxuICAgICAgICAgIGtleSA9PT0gXCJjb250ZW50SGFzaFwiXG4gICAgICAgICAgICA/IFwiY29udGVudF9oYXNoXCJcbiAgICAgICAgICAgIDoga2V5ID09PSBcInNvdXJjZUZpbGVcIlxuICAgICAgICAgICAgICA/IFwic291cmNlX2ZpbGVcIlxuICAgICAgICAgICAgICA6IGtleSA9PT0gXCJkdWVEYXRlXCJcbiAgICAgICAgICAgICAgICA/IFwiZHVlX2RhdGVcIlxuICAgICAgICAgICAgICAgIDoga2V5ID09PSBcImRpZmZpY3VsdHlcIlxuICAgICAgICAgICAgICAgICAgPyBcImRpZmZpY3VsdHlcIlxuICAgICAgICAgICAgICAgICAgOiBrZXkgPT09IFwibGFzdFJldmlld2VkXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcImxhc3RfcmV2aWV3ZWRcIlxuICAgICAgICAgICAgICAgICAgICA6IGtleSA9PT0gXCJoZWFkZXJMZXZlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgPyBcImhlYWRlcl9sZXZlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgOiBrZXkucmVwbGFjZSgvKFtBLVpdKS9nLCBcIl8kMVwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gYCR7ZGJGaWVsZH0gPSA/YDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgY29uc3Qgc3FsID0gYFVQREFURSBmbGFzaGNhcmRzIFNFVCAke3VwZGF0ZUZpZWxkc30sIG1vZGlmaWVkID0gPyBXSEVSRSBpZCA9ID9gO1xuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcblxuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXModXBkYXRlcyk7XG4gICAgdmFsdWVzLnB1c2gobm93LCBmbGFzaGNhcmRJZCk7XG4gICAgc3RtdC5ydW4odmFsdWVzKTtcbiAgICBzdG10LmZyZWUoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUZsYXNoY2FyZChmbGFzaGNhcmRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkRFTEVURV9GTEFTSENBUkQpO1xuICAgIHN0bXQucnVuKFtmbGFzaGNhcmRJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRmxhc2hjYXJkRGVja0lkcyhcbiAgICBvbGREZWNrSWQ6IHN0cmluZyxcbiAgICBuZXdEZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLlVQREFURV9GTEFTSENBUkRfREVDS19JRFMpO1xuICAgIHN0bXQucnVuKFtuZXdEZWNrSWQsIG9sZERlY2tJZF0pO1xuICAgIHN0bXQuZnJlZSgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Rmxhc2hjYXJkc0J5RGVjayhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0ZMQVNIQ0FSRFNfQllfREVDSyk7XG4gICAgc3RtdC5iaW5kKFtkZWNrSWRdKTtcbiAgICBjb25zdCBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuXG4gICAgd2hpbGUgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgZmxhc2hjYXJkcy5wdXNoKHRoaXMucm93VG9GbGFzaGNhcmQocm93KSk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICBhc3luYyBnZXRGbGFzaGNhcmRzQnlEZWNrRmlsdGVyZWQoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw/OiBudW1iZXIsXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGxldCBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzIFdIRVJFIGRlY2tfaWQgPSA/XCI7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZF07XG5cbiAgICBpZiAoaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcXVlcnkgKz0gXCIgQU5EICh0eXBlID0gJ3RhYmxlJyBPUiBoZWFkZXJfbGV2ZWwgPSA/KVwiO1xuICAgICAgcGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShxdWVyeSk7XG4gICAgc3RtdC5iaW5kKHBhcmFtcyk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RHVlRmxhc2hjYXJkcyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuR0VUX0RVRV9GTEFTSENBUkRTKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBzdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RHVlRmxhc2hjYXJkc0ZpbHRlcmVkKFxuICAgIGRlY2tJZDogc3RyaW5nLFxuICAgIGhlYWRlckxldmVsPzogbnVtYmVyLFxuICApOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBsZXQgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/XG4gICAgYDtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgcGFyYW1zID0gW2RlY2tJZCwgbm93XTtcblxuICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSArPSBcIiBBTkQgKHR5cGUgPSAndGFibGUnIE9SIGhlYWRlcl9sZXZlbCA9ID8pXCI7XG4gICAgICBwYXJhbXMucHVzaChoZWFkZXJMZXZlbC50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBxdWVyeSArPSBcIiBPUkRFUiBCWSBkdWVfZGF0ZVwiO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShxdWVyeSk7XG4gICAgc3RtdC5iaW5kKHBhcmFtcyk7XG4gICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBmbGFzaGNhcmRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGFpbHlSZXZpZXdDb3VudHMoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8eyBuZXdDb3VudDogbnVtYmVyOyByZXZpZXdDb3VudDogbnVtYmVyIH0+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTsgLy8gWVlZWS1NTS1ERCBmb3JtYXRcbiAgICBjb25zdCB0b2RheVN0YXJ0ID0gYCR7dG9kYXl9VDAwOjAwOjAwLjAwMFpgO1xuICAgIGNvbnN0IHRvZGF5RW5kID0gYCR7dG9kYXl9VDIzOjU5OjU5Ljk5OVpgO1xuXG4gICAgLy8gQ291bnQgbmV3IGNhcmRzIHJldmlld2VkIHRvZGF5IChyZXZpZXdzIHdoZXJlIG9sZF9yZXBldGl0aW9ucyB3YXMgMClcbiAgICBjb25zdCBuZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuQ09VTlRfTkVXX0NBUkRTX1RPREFZKTtcbiAgICBuZXdDYXJkc1N0bXQuYmluZChbZGVja0lkLCB0b2RheVN0YXJ0LCB0b2RheUVuZF0pO1xuICAgIGNvbnN0IG5ld1Jlc3VsdCA9IG5ld0NhcmRzU3RtdC5zdGVwKCkgPyBuZXdDYXJkc1N0bXQuZ2V0KCkgOiBbMF07XG4gICAgY29uc3QgbmV3Q291bnQgPSBOdW1iZXIobmV3UmVzdWx0WzBdKSB8fCAwO1xuICAgIG5ld0NhcmRzU3RtdC5mcmVlKCk7XG5cbiAgICAvLyBDb3VudCByZXZpZXcgY2FyZHMgcmV2aWV3ZWQgdG9kYXkgKHJldmlld3Mgd2hlcmUgb2xkX2ludGVydmFsX21pbnV0ZXMgPiAwKVxuICAgIGNvbnN0IHJldmlld0NhcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShcbiAgICAgIFNRTF9RVUVSSUVTLkNPVU5UX1JFVklFV19DQVJEU19UT0RBWSxcbiAgICApO1xuICAgIHJldmlld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIHRvZGF5U3RhcnQsIHRvZGF5RW5kXSk7XG4gICAgY29uc3QgcmV2aWV3UmVzdWx0ID0gcmV2aWV3Q2FyZHNTdG10LnN0ZXAoKSA/IHJldmlld0NhcmRzU3RtdC5nZXQoKSA6IFswXTtcbiAgICBjb25zdCByZXZpZXdDb3VudCA9IE51bWJlcihyZXZpZXdSZXN1bHRbMF0pIHx8IDA7XG4gICAgcmV2aWV3Q2FyZHNTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7IG5ld0NvdW50LCByZXZpZXdDb3VudCB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3YWJsZUZsYXNoY2FyZHMoZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPEZsYXNoY2FyZFtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAvLyBHZXQgZGVjayBjb25maWcgdG8gY2hlY2sgbGltaXRzXG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZ2V0RGVja0J5SWQoZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVjayBub3QgZm91bmQ6ICR7ZGVja0lkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZyA9IGRlY2suY29uZmlnO1xuICAgIGNvbnN0IGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdID0gW107XG5cbiAgICAvLyBHZXQgdG9kYXkncyByZXZpZXcgY291bnRzIHRvIGNhbGN1bGF0ZSByZW1haW5pbmcgZGFpbHkgYWxsb3dhbmNlXG4gICAgY29uc3QgZGFpbHlDb3VudHMgPSBhd2FpdCB0aGlzLmdldERhaWx5UmV2aWV3Q291bnRzKGRlY2tJZCk7XG5cbiAgICAvLyAxLiBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlMgLSBza2lwIGxlYXJuaW5nIGNhcmQgcmV0cmlldmFsXG5cbiAgICAvLyAyLiBHZXQgbmV3IGNhcmRzIHdpdGggcmVtYWluaW5nIGRhaWx5IGxpbWl0XG4gICAgY29uc3QgbmV3Q2FyZHNMaW1pdCA9IE51bWJlcihjb25maWcubmV3Q2FyZHNMaW1pdCkgfHwgMDtcbiAgICBjb25zdCBuZXdDb3VudFRvZGF5ID0gTnVtYmVyKGRhaWx5Q291bnRzLm5ld0NvdW50KSB8fCAwO1xuICAgIGNvbnN0IHJlbWFpbmluZ05ld0NhcmRzID1cbiAgICAgIGNvbmZpZy5lbmFibGVOZXdDYXJkc0xpbWl0ICYmIG5ld0NhcmRzTGltaXQgPiAwXG4gICAgICAgID8gTWF0aC5tYXgoMCwgbmV3Q2FyZHNMaW1pdCAtIG5ld0NvdW50VG9kYXkpXG4gICAgICAgIDogY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgJiYgbmV3Q2FyZHNMaW1pdCA9PT0gMFxuICAgICAgICAgID8gMFxuICAgICAgICAgIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgICBpZiAocmVtYWluaW5nTmV3Q2FyZHMgPiAwKSB7XG4gICAgICBjb25zdCBzcWwgPSBgJHtTUUxfUVVFUklFUy5HRVRfTkVXX0NBUkRTX0ZPUl9SRVZJRVd9JHtjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdCA/IGAgTElNSVQgJHtyZW1haW5pbmdOZXdDYXJkc31gIDogXCJcIn1gO1xuICAgICAgY29uc3QgbmV3Q2FyZHNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG4gICAgICBuZXdDYXJkc1N0bXQuYmluZChbZGVja0lkLCBub3ddKTtcbiAgICAgIHdoaWxlIChuZXdDYXJkc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IG5ld0NhcmRzU3RtdC5nZXQoKTtcbiAgICAgICAgZmxhc2hjYXJkcy5wdXNoKHRoaXMucm93VG9GbGFzaGNhcmQocm93KSk7XG4gICAgICB9XG4gICAgICBuZXdDYXJkc1N0bXQuZnJlZSgpO1xuICAgIH1cblxuICAgIC8vIDMuIEdldCByZXZpZXcgY2FyZHMgd2l0aCByZW1haW5pbmcgZGFpbHkgbGltaXRcbiAgICBjb25zdCByZXZpZXdDYXJkc0xpbWl0ID0gTnVtYmVyKGNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0KSB8fCAwO1xuICAgIGNvbnN0IHJldmlld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMucmV2aWV3Q291bnQpIHx8IDA7XG4gICAgY29uc3QgcmVtYWluaW5nUmV2aWV3Q2FyZHMgPVxuICAgICAgY29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXQgJiYgcmV2aWV3Q2FyZHNMaW1pdCA+IDBcbiAgICAgICAgPyBNYXRoLm1heCgwLCByZXZpZXdDYXJkc0xpbWl0IC0gcmV2aWV3Q291bnRUb2RheSlcbiAgICAgICAgOiBjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCAmJiByZXZpZXdDYXJkc0xpbWl0ID09PSAwXG4gICAgICAgICAgPyAwXG4gICAgICAgICAgOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgIGlmIChyZW1haW5pbmdSZXZpZXdDYXJkcyA+IDApIHtcbiAgICAgIGNvbnN0IHNxbCA9IGAke1NRTF9RVUVSSUVTLkdFVF9SRVZJRVdfQ0FSRFNfRk9SX1JFVklFV30ke2NvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ID8gYCBMSU1JVCAke3JlbWFpbmluZ1Jldmlld0NhcmRzfWAgOiBcIlwifWA7XG4gICAgICBjb25zdCByZXZpZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcbiAgICAgIHJldmlld0NhcmRzU3RtdC5iaW5kKFtkZWNrSWQsIG5vd10pO1xuICAgICAgd2hpbGUgKHJldmlld0NhcmRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcmV2aWV3Q2FyZHNTdG10LmdldCgpO1xuICAgICAgICBmbGFzaGNhcmRzLnB1c2godGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgICAgIH1cbiAgICAgIHJldmlld0NhcmRzU3RtdC5mcmVlKCk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBmaW5hbCByZXN1bHQ6IHJldmlldyBmaXJzdCwgdGhlbiBuZXdcbiAgICBmbGFzaGNhcmRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlT3JkZXIgPSB7IHJldmlldzogMSwgbmV3OiAyIH07XG4gICAgICBjb25zdCBhT3JkZXIgPSBzdGF0ZU9yZGVyW2Euc3RhdGVdO1xuICAgICAgY29uc3QgYk9yZGVyID0gc3RhdGVPcmRlcltiLnN0YXRlXTtcblxuICAgICAgaWYgKGFPcmRlciAhPT0gYk9yZGVyKSB7XG4gICAgICAgIHJldHVybiBhT3JkZXIgLSBiT3JkZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpdGhpbiBzYW1lIHN0YXRlLCBhcHBseSBzcGVjaWZpYyBvcmRlcmluZyBydWxlc1xuICAgICAgaWYgKGEuc3RhdGUgPT09IFwicmV2aWV3XCIpIHtcbiAgICAgICAgLy8gUmV2aWV3IGNhcmRzOiBmb2xsb3cgZGVjayBjb25maWcgcHJlZmVyZW5jZVxuICAgICAgICBpZiAoY29uZmlnLnJldmlld09yZGVyID09PSBcInJhbmRvbVwiKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAwLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRGVmYXVsdDogb2xkZXN0IGR1ZSBmaXJzdFxuICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmR1ZURhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZHVlRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGEuc3RhdGUgPT09IFwibmV3XCIpIHtcbiAgICAgICAgLy8gTmV3IGNhcmRzOiBhbHdheXMgYnkgZHVlIGRhdGUgKGVhcmxpZXN0IGZpcnN0KVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kdWVEYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmR1ZURhdGUpLmdldFRpbWUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld2FibGVGbGFzaGNhcmRzRmlsdGVyZWQoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw/OiBudW1iZXIsXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGRlY2sgPSBhd2FpdCB0aGlzLmdldERlY2tCeUlkKGRlY2tJZCk7XG4gICAgaWYgKCFkZWNrKSB0aHJvdyBuZXcgRXJyb3IoYERlY2sgbm90IGZvdW5kOiAke2RlY2tJZH1gKTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IGRlY2suY29uZmlnO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBmbGFzaGNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuXG4gICAgLy8gSGVhZGVyIGxldmVsIGZpbHRlciBjbGF1c2VcbiAgICBjb25zdCBoZWFkZXJGaWx0ZXIgPVxuICAgICAgaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFwiIEFORCAodHlwZSA9ICd0YWJsZScgT1IgaGVhZGVyX2xldmVsID0gPylcIlxuICAgICAgICA6IFwiXCI7XG5cbiAgICAvLyAxLiBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlMgLSBza2lwIGxlYXJuaW5nIGNhcmQgcmV0cmlldmFsXG5cbiAgICAvLyAyLiBHZXQgZGFpbHkgcmV2aWV3IGNvdW50cyB0byBjaGVjayBsaW1pdHNcbiAgICBjb25zdCBkYWlseUNvdW50cyA9IGF3YWl0IHRoaXMuZ2V0RGFpbHlSZXZpZXdDb3VudHMoZGVja0lkKTtcblxuICAgIC8vIDMuIEdldCBuZXcgY2FyZHMgKGlmIGxpbWl0IGFsbG93cylcbiAgICBpZiAoXG4gICAgICAhY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgfHxcbiAgICAgIGRhaWx5Q291bnRzLm5ld0NvdW50IDwgY29uZmlnLm5ld0NhcmRzTGltaXRcbiAgICApIHtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ05ld0NhcmRzID0gY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXRcbiAgICAgICAgPyBjb25maWcubmV3Q2FyZHNMaW1pdCAtIGRhaWx5Q291bnRzLm5ld0NvdW50XG4gICAgICAgIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgICAgIGxldCBuZXdDYXJkc1F1ZXJ5ID0gYFxuICAgICAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ25ldycke2hlYWRlckZpbHRlcn1cbiAgICAgICAgT1JERVIgQlkgZHVlX2RhdGVcbiAgICAgICAgJHtjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdCA/IGBMSU1JVCAke3JlbWFpbmluZ05ld0NhcmRzfWAgOiBcIlwifVxuICAgICAgYDtcbiAgICAgIGNvbnN0IG5ld0NhcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShuZXdDYXJkc1F1ZXJ5KTtcbiAgICAgIGNvbnN0IG5ld0NhcmRzUGFyYW1zID0gW2RlY2tJZCwgbm93XTtcbiAgICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBuZXdDYXJkc1BhcmFtcy5wdXNoKGhlYWRlckxldmVsLnRvU3RyaW5nKCkpO1xuICAgICAgbmV3Q2FyZHNTdG10LmJpbmQobmV3Q2FyZHNQYXJhbXMpO1xuXG4gICAgICB3aGlsZSAobmV3Q2FyZHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBuZXdDYXJkc1N0bXQuZ2V0KCk7XG4gICAgICAgIGZsYXNoY2FyZHMucHVzaCh0aGlzLnJvd1RvRmxhc2hjYXJkKHJvdykpO1xuICAgICAgfVxuICAgICAgbmV3Q2FyZHNTdG10LmZyZWUoKTtcbiAgICB9XG5cbiAgICAvLyA0LiBHZXQgcmV2aWV3IGNhcmRzIChpZiBsaW1pdCBhbGxvd3MpXG4gICAgaWYgKFxuICAgICAgIWNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0IHx8XG4gICAgICBkYWlseUNvdW50cy5yZXZpZXdDb3VudCA8IGNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0XG4gICAgKSB7XG4gICAgICBjb25zdCByZW1haW5pbmdSZXZpZXdDYXJkcyA9IGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0XG4gICAgICAgID8gY29uZmlnLnJldmlld0NhcmRzTGltaXQgLSBkYWlseUNvdW50cy5yZXZpZXdDb3VudFxuICAgICAgICA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgICBsZXQgcmV2aWV3Q2FyZHNRdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBkdWVfZGF0ZSA8PSA/IEFORCBzdGF0ZSA9ICdyZXZpZXcnJHtoZWFkZXJGaWx0ZXJ9XG4gICAgICAgIE9SREVSIEJZIGR1ZV9kYXRlXG4gICAgICAgICR7Y29uZmlnLmVuYWJsZVJldmlld0NhcmRzTGltaXQgPyBgTElNSVQgJHtyZW1haW5pbmdSZXZpZXdDYXJkc31gIDogXCJcIn1cbiAgICAgIGA7XG4gICAgICBjb25zdCByZXZpZXdDYXJkc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUocmV2aWV3Q2FyZHNRdWVyeSk7XG4gICAgICBjb25zdCByZXZpZXdDYXJkc1BhcmFtcyA9IFtkZWNrSWQsIG5vd107XG4gICAgICBpZiAoaGVhZGVyTGV2ZWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV2aWV3Q2FyZHNQYXJhbXMucHVzaChoZWFkZXJMZXZlbC50b1N0cmluZygpKTtcbiAgICAgIHJldmlld0NhcmRzU3RtdC5iaW5kKHJldmlld0NhcmRzUGFyYW1zKTtcblxuICAgICAgd2hpbGUgKHJldmlld0NhcmRzU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcmV2aWV3Q2FyZHNTdG10LmdldCgpO1xuICAgICAgICBmbGFzaGNhcmRzLnB1c2godGhpcy5yb3dUb0ZsYXNoY2FyZChyb3cpKTtcbiAgICAgIH1cbiAgICAgIHJldmlld0NhcmRzU3RtdC5mcmVlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICBhc3luYyBnZXRMYXRlc3RSZXZpZXdMb2dGb3JGbGFzaGNhcmQoXG4gICAgZmxhc2hjYXJkSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxSZXZpZXdMb2cgfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkdFVF9MQVRFU1RfUkVWSUVXX0xPRyk7XG5cbiAgICBzdG10LmJpbmQoW2ZsYXNoY2FyZElkXSk7XG5cbiAgICBpZiAoc3RtdC5zdGVwKCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9IHN0bXQuZ2V0KCk7XG4gICAgICBzdG10LmZyZWUoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICAgIGZsYXNoY2FyZElkOiByb3dbMV0gYXMgc3RyaW5nLFxuICAgICAgICBsYXN0UmV2aWV3ZWRBdDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgICAgc2hvd25BdDogcm93WzNdIGFzIHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICAgICAgcmV2aWV3ZWRBdDogcm93WzRdIGFzIHN0cmluZyxcbiAgICAgICAgcmF0aW5nOiByb3dbNV0gYXMgMSB8IDIgfCAzIHwgNCxcbiAgICAgICAgcmF0aW5nTGFiZWw6IHJvd1s2XSBhcyBcImFnYWluXCIgfCBcImhhcmRcIiB8IFwiZ29vZFwiIHwgXCJlYXN5XCIsXG4gICAgICAgIHRpbWVFbGFwc2VkTXM6IHJvd1s3XSBhcyBudW1iZXIgfCB1bmRlZmluZWQsXG4gICAgICAgIG9sZFN0YXRlOiByb3dbOF0gYXMgXCJuZXdcIiB8IFwicmV2aWV3XCIsXG4gICAgICAgIG9sZFJlcGV0aXRpb25zOiByb3dbOV0gYXMgbnVtYmVyLFxuICAgICAgICBvbGRMYXBzZXM6IHJvd1sxMF0gYXMgbnVtYmVyLFxuICAgICAgICBvbGRTdGFiaWxpdHk6IHJvd1sxMV0gYXMgbnVtYmVyLFxuICAgICAgICBvbGREaWZmaWN1bHR5OiByb3dbMTJdIGFzIG51bWJlcixcbiAgICAgICAgbmV3U3RhdGU6IHJvd1sxM10gYXMgXCJuZXdcIiB8IFwicmV2aWV3XCIsXG4gICAgICAgIG5ld1JlcGV0aXRpb25zOiByb3dbMTRdIGFzIG51bWJlcixcbiAgICAgICAgbmV3TGFwc2VzOiByb3dbMTVdIGFzIG51bWJlcixcbiAgICAgICAgbmV3U3RhYmlsaXR5OiByb3dbMTZdIGFzIG51bWJlcixcbiAgICAgICAgbmV3RGlmZmljdWx0eTogcm93WzE3XSBhcyBudW1iZXIsXG4gICAgICAgIG9sZEludGVydmFsTWludXRlczogcm93WzE4XSBhcyBudW1iZXIsXG4gICAgICAgIG5ld0ludGVydmFsTWludXRlczogcm93WzE5XSBhcyBudW1iZXIsXG4gICAgICAgIG9sZER1ZUF0OiByb3dbMjBdIGFzIHN0cmluZyxcbiAgICAgICAgbmV3RHVlQXQ6IHJvd1syMV0gYXMgc3RyaW5nLFxuICAgICAgICBlbGFwc2VkRGF5czogcm93WzIyXSBhcyBudW1iZXIsXG4gICAgICAgIHJldHJpZXZhYmlsaXR5OiByb3dbMjNdIGFzIG51bWJlcixcbiAgICAgICAgcmVxdWVzdFJldGVudGlvbjogcm93WzI0XSBhcyBudW1iZXIsXG4gICAgICAgIHByb2ZpbGU6ICgocm93WzI1XSBhcyBzdHJpbmcpIHx8IFwiU1RBTkRBUkRcIikgYXNcbiAgICAgICAgICB8IFwiSU5URU5TSVZFXCJcbiAgICAgICAgICB8IFwiU1RBTkRBUkRcIixcbiAgICAgICAgbWF4aW11bUludGVydmFsRGF5czogcm93WzI2XSBhcyBudW1iZXIsXG4gICAgICAgIG1pbk1pbnV0ZXM6IHJvd1syN10gYXMgbnVtYmVyLFxuICAgICAgICBmc3JzV2VpZ2h0c1ZlcnNpb246IHJvd1syOF0gYXMgc3RyaW5nLFxuICAgICAgICBzY2hlZHVsZXJWZXJzaW9uOiByb3dbMjldIGFzIHN0cmluZyxcbiAgICAgICAgbm90ZU1vZGVsSWQ6IHJvd1szMF0gYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgICBjYXJkVGVtcGxhdGVJZDogcm93WzMxXSBhcyBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgICAgIGNvbnRlbnRIYXNoOiByb3dbMzJdIGFzIHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICAgICAgY2xpZW50OiByb3dbMzNdIGFzIFwid2ViXCIgfCBcImRlc2t0b3BcIiB8IFwibW9iaWxlXCIgfCB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlRmxhc2hjYXJkc0J5RmlsZShzb3VyY2VGaWxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuREVMRVRFX0ZMQVNIQ0FSRFNfQllfRklMRSk7XG4gICAgc3RtdC5ydW4oW3NvdXJjZUZpbGVdKTtcbiAgICBzdG10LmZyZWUoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgfVxuXG4gIC8vIFJldmlldyBsb2cgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVSZXZpZXdMb2cobG9nOiBPbWl0PFJldmlld0xvZywgXCJpZFwiPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKFwiRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc3QgaWQgPSBgcmV2aWV3XyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuSU5TRVJUX1JFVklFV19MT0cpO1xuXG4gICAgc3RtdC5ydW4oW1xuICAgICAgaWQsXG4gICAgICBsb2cuZmxhc2hjYXJkSWQsXG4gICAgICBsb2cubGFzdFJldmlld2VkQXQsXG4gICAgICBsb2cuc2hvd25BdCB8fCBudWxsLFxuICAgICAgbG9nLnJldmlld2VkQXQsXG4gICAgICBsb2cucmF0aW5nLFxuICAgICAgbG9nLnJhdGluZ0xhYmVsLFxuICAgICAgbG9nLnRpbWVFbGFwc2VkTXMgfHwgbnVsbCxcbiAgICAgIGxvZy5vbGRTdGF0ZSxcbiAgICAgIGxvZy5vbGRSZXBldGl0aW9ucyxcbiAgICAgIGxvZy5vbGRMYXBzZXMsXG4gICAgICBsb2cub2xkU3RhYmlsaXR5LFxuICAgICAgbG9nLm9sZERpZmZpY3VsdHksXG4gICAgICBsb2cubmV3U3RhdGUsXG4gICAgICBsb2cubmV3UmVwZXRpdGlvbnMsXG4gICAgICBsb2cubmV3TGFwc2VzLFxuICAgICAgbG9nLm5ld1N0YWJpbGl0eSxcbiAgICAgIGxvZy5uZXdEaWZmaWN1bHR5LFxuICAgICAgbG9nLm9sZEludGVydmFsTWludXRlcyxcbiAgICAgIGxvZy5uZXdJbnRlcnZhbE1pbnV0ZXMsXG4gICAgICBsb2cub2xkRHVlQXQsXG4gICAgICBsb2cubmV3RHVlQXQsXG4gICAgICBsb2cuZWxhcHNlZERheXMsXG4gICAgICBsb2cucmV0cmlldmFiaWxpdHksXG4gICAgICBsb2cucmVxdWVzdFJldGVudGlvbixcbiAgICAgIGxvZy5wcm9maWxlLFxuICAgICAgbG9nLm1heGltdW1JbnRlcnZhbERheXMsXG4gICAgICBsb2cubWluTWludXRlcyxcbiAgICAgIGxvZy5mc3JzV2VpZ2h0c1ZlcnNpb24sXG4gICAgICBsb2cuc2NoZWR1bGVyVmVyc2lvbixcbiAgICAgIGxvZy5ub3RlTW9kZWxJZCB8fCBudWxsLFxuICAgICAgbG9nLmNhcmRUZW1wbGF0ZUlkIHx8IG51bGwsXG4gICAgICBsb2cuY29udGVudEhhc2ggfHwgbnVsbCxcbiAgICAgIGxvZy5jbGllbnQgfHwgbnVsbCxcbiAgICBdKTtcbiAgICBzdG10LmZyZWUoKTtcblxuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLy8gU3RhdGlzdGljcyBvcGVyYXRpb25zXG4gIGFzeW5jIGdldERlY2tTdGF0cyhkZWNrSWQ6IHN0cmluZyk6IFByb21pc2U8RGVja1N0YXRzPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAvLyBHZXQgZGVjayBjb25maWcgdG8gY2hlY2sgbGltaXRzXG4gICAgY29uc3QgZGVjayA9IGF3YWl0IHRoaXMuZ2V0RGVja0J5SWQoZGVja0lkKTtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVjayBub3QgZm91bmQ6ICR7ZGVja0lkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZyA9IGRlY2suY29uZmlnO1xuXG4gICAgLy8gR2V0IHRvZGF5J3MgcmV2aWV3IGNvdW50cyB0byBjYWxjdWxhdGUgcmVtYWluaW5nIGRhaWx5IGFsbG93YW5jZVxuICAgIGNvbnN0IGRhaWx5Q291bnRzID0gYXdhaXQgdGhpcy5nZXREYWlseVJldmlld0NvdW50cyhkZWNrSWQpO1xuXG4gICAgLy8gQ291bnQgbmV3IGNhcmRzIChzdGF0ZSA9ICduZXcnIGFuZCBkdWUgZm9yIGZpcnN0IHJldmlldylcbiAgICBjb25zdCBuZXdTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkNPVU5UX05FV19DQVJEUyk7XG4gICAgbmV3U3RtdC5iaW5kKFtkZWNrSWQsIG5vd10pO1xuICAgIG5ld1N0bXQuc3RlcCgpO1xuICAgIGNvbnN0IHRvdGFsTmV3Q2FyZHMgPSAobmV3U3RtdC5nZXQoKVswXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgbmV3U3RtdC5mcmVlKCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgcmVtYWluaW5nIG5ldyBjYXJkcyBiYXNlZCBvbiBkYWlseSBsaW1pdFxuICAgIGxldCBuZXdDb3VudCA9IHRvdGFsTmV3Q2FyZHM7XG4gICAgY29uc3QgbmV3Q2FyZHNMaW1pdCA9IE51bWJlcihjb25maWcubmV3Q2FyZHNMaW1pdCkgfHwgMDtcbiAgICBjb25zdCBuZXdDb3VudFRvZGF5ID0gTnVtYmVyKGRhaWx5Q291bnRzLm5ld0NvdW50KSB8fCAwO1xuICAgIGlmIChjb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdCAmJiBuZXdDYXJkc0xpbWl0ID4gMCkge1xuICAgICAgY29uc3QgcmVtYWluaW5nTmV3ID0gTWF0aC5tYXgoMCwgbmV3Q2FyZHNMaW1pdCAtIG5ld0NvdW50VG9kYXkpO1xuICAgICAgbmV3Q291bnQgPSBNYXRoLm1pbih0b3RhbE5ld0NhcmRzLCByZW1haW5pbmdOZXcpO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQgJiYgbmV3Q2FyZHNMaW1pdCA9PT0gMCkge1xuICAgICAgbmV3Q291bnQgPSAwOyAvLyBObyBuZXcgY2FyZHMgYWxsb3dlZCB3aGVuIGxpbWl0IGlzIDBcbiAgICB9XG5cbiAgICAvLyBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlNcbiAgICBjb25zdCBsZWFybmluZ0NvdW50ID0gMDtcblxuICAgIC8vIENvdW50IHJldmlldyBjYXJkcyAoc3RhdGUgPSAncmV2aWV3JyBhbmQgZHVlKVxuICAgIGNvbnN0IGR1ZVN0bXQgPSB0aGlzLmRiLnByZXBhcmUoU1FMX1FVRVJJRVMuQ09VTlRfRFVFX0NBUkRTKTtcbiAgICBkdWVTdG10LmJpbmQoW2RlY2tJZCwgbm93XSk7XG4gICAgZHVlU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgdG90YWxEdWVDYXJkcyA9IChkdWVTdG10LmdldCgpWzBdIGFzIG51bWJlcikgfHwgMDtcbiAgICBkdWVTdG10LmZyZWUoKTtcblxuICAgIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgcmV2aWV3IGNhcmRzIGJhc2VkIG9uIGRhaWx5IGxpbWl0XG4gICAgbGV0IGR1ZUNvdW50ID0gdG90YWxEdWVDYXJkcztcbiAgICBjb25zdCByZXZpZXdDYXJkc0xpbWl0ID0gTnVtYmVyKGNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0KSB8fCAwO1xuICAgIGNvbnN0IHJldmlld0NvdW50VG9kYXkgPSBOdW1iZXIoZGFpbHlDb3VudHMucmV2aWV3Q291bnQpIHx8IDA7XG4gICAgaWYgKGNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0ICYmIHJldmlld0NhcmRzTGltaXQgPiAwKSB7XG4gICAgICBjb25zdCByZW1haW5pbmdSZXZpZXcgPSBNYXRoLm1heCgwLCByZXZpZXdDYXJkc0xpbWl0IC0gcmV2aWV3Q291bnRUb2RheSk7XG4gICAgICBkdWVDb3VudCA9IE1hdGgubWluKHRvdGFsRHVlQ2FyZHMsIHJlbWFpbmluZ1Jldmlldyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdCAmJiByZXZpZXdDYXJkc0xpbWl0ID09PSAwKSB7XG4gICAgICBkdWVDb3VudCA9IDA7IC8vIE5vIHJldmlldyBjYXJkcyBhbGxvd2VkIHdoZW4gbGltaXQgaXMgMFxuICAgIH1cblxuICAgIC8vIFRvdGFsIGNvdW50XG4gICAgY29uc3QgdG90YWxTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkNPVU5UX1RPVEFMX0NBUkRTKTtcbiAgICB0b3RhbFN0bXQuYmluZChbZGVja0lkXSk7XG4gICAgdG90YWxTdG10LnN0ZXAoKTtcbiAgICBjb25zdCB0b3RhbENvdW50ID0gKHRvdGFsU3RtdC5nZXQoKVswXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgdG90YWxTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkZWNrSWQsXG4gICAgICBuZXdDb3VudCxcbiAgICAgIGR1ZUNvdW50LFxuICAgICAgdG90YWxDb3VudCxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0RGVja1N0YXRzRmlsdGVyZWQoXG4gICAgZGVja0lkOiBzdHJpbmcsXG4gICAgaGVhZGVyTGV2ZWw/OiBudW1iZXIsXG4gICk6IFByb21pc2U8e1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBuZXdDb3VudDogbnVtYmVyO1xuICAgIGR1ZUNvdW50OiBudW1iZXI7XG4gICAgdG90YWxDb3VudDogbnVtYmVyO1xuICB9PiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgIGlmICghZGVjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZWNrIG5vdCBmb3VuZDogJHtkZWNrSWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGhlYWRlckZpbHRlciA9XG4gICAgICBoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gXCIgQU5EICh0eXBlID0gJ3RhYmxlJyBPUiBoZWFkZXJfbGV2ZWwgPSA/KVwiXG4gICAgICAgIDogXCJcIjtcblxuICAgIC8vIE5ldyBjYXJkcyBjb3VudFxuICAgIGNvbnN0IG5ld1F1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkc1xuICAgICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIHN0YXRlID0gJ25ldycgQU5EIGR1ZV9kYXRlIDw9ID8ke2hlYWRlckZpbHRlcn1cbiAgICBgO1xuICAgIGNvbnN0IG5ld1N0bXQgPSB0aGlzLmRiLnByZXBhcmUobmV3UXVlcnkpO1xuICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtkZWNrSWQsIG5vd107XG4gICAgaWYgKGhlYWRlckxldmVsICE9PSB1bmRlZmluZWQpIG5ld1BhcmFtcy5wdXNoKGhlYWRlckxldmVsLnRvU3RyaW5nKCkpO1xuICAgIG5ld1N0bXQuYmluZChuZXdQYXJhbXMpO1xuICAgIG5ld1N0bXQuc3RlcCgpO1xuICAgIGNvbnN0IG5ld0NvdW50ID0gbmV3U3RtdC5nZXQoKVswXSBhcyBudW1iZXI7XG4gICAgbmV3U3RtdC5mcmVlKCk7XG5cbiAgICAvLyBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlNcbiAgICBjb25zdCBsZWFybmluZ0NvdW50ID0gMDtcblxuICAgIC8vIER1ZSBjYXJkcyBjb3VudCAocmV2aWV3IGNhcmRzIHRoYXQgYXJlIGR1ZSlcbiAgICBjb25zdCBkdWVRdWVyeSA9IGBcbiAgICAgIFNFTEVDVCBDT1VOVCgqKSBGUk9NIGZsYXNoY2FyZHNcbiAgICAgIFdIRVJFIGRlY2tfaWQgPSA/IEFORCBzdGF0ZSA9ICdyZXZpZXcnIEFORCBkdWVfZGF0ZSA8PSA/JHtoZWFkZXJGaWx0ZXJ9XG4gICAgYDtcbiAgICBjb25zdCBkdWVTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGR1ZVF1ZXJ5KTtcbiAgICBjb25zdCBkdWVQYXJhbXMgPSBbZGVja0lkLCBub3ddO1xuICAgIGlmIChoZWFkZXJMZXZlbCAhPT0gdW5kZWZpbmVkKSBkdWVQYXJhbXMucHVzaChoZWFkZXJMZXZlbC50b1N0cmluZygpKTtcbiAgICBkdWVTdG10LmJpbmQoZHVlUGFyYW1zKTtcbiAgICBkdWVTdG10LnN0ZXAoKTtcbiAgICBjb25zdCBkdWVDb3VudCA9IGR1ZVN0bXQuZ2V0KClbMF0gYXMgbnVtYmVyO1xuICAgIGR1ZVN0bXQuZnJlZSgpO1xuXG4gICAgLy8gVG90YWwgY2FyZHMgY291bnRcbiAgICBjb25zdCB0b3RhbFF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIENPVU5UKCopIEZST00gZmxhc2hjYXJkcyBXSEVSRSBkZWNrX2lkID0gPyR7aGVhZGVyRmlsdGVyfVxuICAgIGA7XG4gICAgY29uc3QgdG90YWxTdG10ID0gdGhpcy5kYi5wcmVwYXJlKHRvdGFsUXVlcnkpO1xuICAgIGNvbnN0IHRvdGFsUGFyYW1zID0gW2RlY2tJZF07XG4gICAgaWYgKGhlYWRlckxldmVsICE9PSB1bmRlZmluZWQpIHRvdGFsUGFyYW1zLnB1c2goaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSk7XG4gICAgdG90YWxTdG10LmJpbmQodG90YWxQYXJhbXMpO1xuICAgIHRvdGFsU3RtdC5zdGVwKCk7XG4gICAgY29uc3QgdG90YWxDb3VudCA9IHRvdGFsU3RtdC5nZXQoKVswXSBhcyBudW1iZXI7XG4gICAgdG90YWxTdG10LmZyZWUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBkZWNrLm5hbWUsXG4gICAgICBuZXdDb3VudCxcbiAgICAgIGR1ZUNvdW50LFxuICAgICAgdG90YWxDb3VudCxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsRGVja1N0YXRzKCk6IFByb21pc2U8RGVja1N0YXRzW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGRlY2tzID0gYXdhaXQgdGhpcy5nZXRBbGxEZWNrcygpO1xuICAgIGNvbnN0IHN0YXRzOiBEZWNrU3RhdHNbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBkZWNrIG9mIGRlY2tzKSB7XG4gICAgICBjb25zdCBkZWNrU3RhdHMgPSBhd2FpdCB0aGlzLmdldERlY2tTdGF0cyhkZWNrLmlkKTtcbiAgICAgIHN0YXRzLnB1c2goZGVja1N0YXRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cblxuICBhc3luYyBnZXRBbGxEZWNrU3RhdHNGaWx0ZXJlZChoZWFkZXJMZXZlbD86IG51bWJlcik6IFByb21pc2U8RGVja1N0YXRzW10+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIGNvbnN0IGRlY2tzID0gYXdhaXQgdGhpcy5nZXRBbGxEZWNrcygpO1xuICAgIGNvbnN0IHN0YXRzOiBEZWNrU3RhdHNbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBkZWNrIG9mIGRlY2tzKSB7XG4gICAgICBjb25zdCBkZWNrU3RhdHMgPSBhd2FpdCB0aGlzLmdldERlY2tTdGF0c0ZpbHRlcmVkKGRlY2suaWQsIGhlYWRlckxldmVsKTtcbiAgICAgIHN0YXRzLnB1c2goe1xuICAgICAgICBkZWNrSWQ6IGRlY2suaWQsXG4gICAgICAgIG5ld0NvdW50OiBkZWNrU3RhdHMubmV3Q291bnQsXG4gICAgICAgIGR1ZUNvdW50OiBkZWNrU3RhdHMuZHVlQ291bnQsXG4gICAgICAgIHRvdGFsQ291bnQ6IGRlY2tTdGF0cy50b3RhbENvdW50LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmV2aWV3Q291bnRzQnlEYXRlKFxuICAgIGRheXM6IG51bWJlciA9IDM2NSxcbiAgKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PiB7XG4gICAgaWYgKCF0aGlzLmRiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKFNRTF9RVUVSSUVTLkdFVF9SRVZJRVdfQ09VTlRTX0JZX0RBVEUpO1xuXG4gICAgc3RtdC5iaW5kKFtzdGFydERhdGUudG9JU09TdHJpbmcoKSwgZW5kRGF0ZS50b0lTT1N0cmluZygpXSk7XG4gICAgY29uc3QgcmV2aWV3Q291bnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAgIHdoaWxlIChzdG10LnN0ZXAoKSkge1xuICAgICAgY29uc3Qgcm93ID0gc3RtdC5nZXQoKTtcbiAgICAgIGNvbnN0IGRhdGUgPSByb3dbMF0gYXMgc3RyaW5nO1xuICAgICAgY29uc3QgY291bnQgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgcmV2aWV3Q291bnRzLnNldChkYXRlLCBjb3VudCk7XG4gICAgfVxuXG4gICAgc3RtdC5mcmVlKCk7XG4gICAgcmV0dXJuIHJldmlld0NvdW50cztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWlncmF0ZVNjaGVtYUlmTmVlZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWdMb2coXCJTdGFydGluZyBkYXRhYmFzZSBtaWdyYXRpb24gY2hlY2suLi5cIik7XG5cbiAgICAgIGlmIChuZWVkc01pZ3JhdGlvbih0aGlzLmRiKSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKFwiTWlncmF0aW9uIG5lZWRlZCwgYXBwbHlpbmcuLi5cIik7XG4gICAgICAgIG1pZ3JhdGUodGhpcy5kYiwgdGhpcy5kZWJ1Z0xvZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJNaWdyYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBzY2hlbWEgaXMgdXAgdG8gZGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgTWlncmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGF0YWJhc2UgbWlncmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gIH1cbiAgLy8gSGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSByb3dUb0ZsYXNoY2FyZChyb3c6IGFueVtdKTogRmxhc2hjYXJkIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICBkZWNrSWQ6IHJvd1sxXSBhcyBzdHJpbmcsXG4gICAgICBmcm9udDogcm93WzJdIGFzIHN0cmluZyxcbiAgICAgIGJhY2s6IHJvd1szXSBhcyBzdHJpbmcsXG4gICAgICB0eXBlOiByb3dbNF0gYXMgXCJoZWFkZXItcGFyYWdyYXBoXCIgfCBcInRhYmxlXCIsXG4gICAgICBzb3VyY2VGaWxlOiByb3dbNV0gYXMgc3RyaW5nLFxuICAgICAgY29udGVudEhhc2g6IHJvd1s2XSBhcyBzdHJpbmcsXG4gICAgICBoZWFkZXJMZXZlbDogKHJvd1s3XSBhcyBudW1iZXIgfCBudWxsKSB8fCB1bmRlZmluZWQsXG4gICAgICBzdGF0ZTogcm93WzhdIGFzIFwibmV3XCIgfCBcInJldmlld1wiLFxuICAgICAgZHVlRGF0ZTogcm93WzldIGFzIHN0cmluZyxcbiAgICAgIGludGVydmFsOiByb3dbMTBdIGFzIG51bWJlcixcbiAgICAgIHJlcGV0aXRpb25zOiByb3dbMTFdIGFzIG51bWJlcixcbiAgICAgIGRpZmZpY3VsdHk6IHJvd1sxMl0gYXMgbnVtYmVyLFxuICAgICAgc3RhYmlsaXR5OiByb3dbMTNdIGFzIG51bWJlcixcbiAgICAgIGxhcHNlczogcm93WzE0XSBhcyBudW1iZXIsXG4gICAgICBsYXN0UmV2aWV3ZWQ6IHJvd1sxNV0gYXMgc3RyaW5nIHwgbnVsbCxcbiAgICAgIGNyZWF0ZWQ6IHJvd1sxNl0gYXMgc3RyaW5nLFxuICAgICAgbW9kaWZpZWQ6IHJvd1sxN10gYXMgc3RyaW5nLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBnZXRPdmVyYWxsU3RhdGlzdGljcyhcbiAgICBkZWNrRmlsdGVyOiBzdHJpbmcgPSBcImFsbFwiLFxuICAgIHRpbWVmcmFtZTogc3RyaW5nID0gXCIxMm1vbnRoc1wiLFxuICApOiBQcm9taXNlPFN0YXRpc3RpY3M+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIG5vdCBpbml0aWFsaXplZFwiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBEZXRlcm1pbmUgZGF0ZSByYW5nZSBiYXNlZCBvbiB0aW1lZnJhbWVcbiAgICAgIGNvbnN0IGN1dG9mZkRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKHRpbWVmcmFtZSA9PT0gXCIxMm1vbnRoc1wiKSB7XG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RnVsbFllYXIoY3V0b2ZmRGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgXCJhbGxcIiwgZ28gYmFjayAxMCB5ZWFycyAoZWZmZWN0aXZlbHkgYWxsIGRhdGEpXG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RnVsbFllYXIoY3V0b2ZmRGF0ZS5nZXRGdWxsWWVhcigpIC0gMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBCdWlsZCBkZWNrIGZpbHRlciBjb25kaXRpb25zXG4gICAgICBsZXQgZGVja0ZpbHRlckNvbmRpdGlvbiA9IFwiXCI7XG4gICAgICBsZXQgZGVja0ZpbHRlclBhcmFtczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgaWYgKGRlY2tGaWx0ZXIuc3RhcnRzV2l0aChcImRlY2s6XCIpKSB7XG4gICAgICAgIGNvbnN0IGRlY2tJZCA9IGRlY2tGaWx0ZXIuc3Vic3RyaW5nKDUpO1xuICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uID0gXCJBTkQgZi5kZWNrX2lkID0gP1wiO1xuICAgICAgICBkZWNrRmlsdGVyUGFyYW1zLnB1c2goZGVja0lkKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVja0ZpbHRlci5zdGFydHNXaXRoKFwidGFnOlwiKSkge1xuICAgICAgICBjb25zdCB0YWcgPSBkZWNrRmlsdGVyLnN1YnN0cmluZyg0KTtcbiAgICAgICAgZGVja0ZpbHRlckNvbmRpdGlvbiA9IFwiQU5EIGQudGFnID0gP1wiO1xuICAgICAgICBkZWNrRmlsdGVyUGFyYW1zLnB1c2godGFnKTtcbiAgICAgIH1cbiAgICAgIC8vIEZvciBcImFsbFwiLCBubyBhZGRpdGlvbmFsIGZpbHRlciBuZWVkZWRcblxuICAgICAgY29uc3QgZGFpbHlTdGF0c1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoXG4gICAgICAgIGRlY2tGaWx0ZXJDb25kaXRpb25cbiAgICAgICAgICA/IFNRTF9RVUVSSUVTLkdFVF9EQUlMWV9TVEFUU19PVkVSQUxMLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiRlJPTSByZXZpZXdfbG9ncyBybFwiLFxuICAgICAgICAgICAgICBcIkZST00gcmV2aWV3X2xvZ3MgcmxcIixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgXCJKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkXCIsXG4gICAgICAgICAgICAgICAgXCJKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkIEpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgXCJXSEVSRSBEQVRFKHJldmlld2VkX2F0KSA+PSBEQVRFKD8pXCIsXG4gICAgICAgICAgICAgICAgYFdIRVJFIERBVEUocmV2aWV3ZWRfYXQpID49IERBVEUoPykgJHtkZWNrRmlsdGVyQ29uZGl0aW9ufWAsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICA6IFNRTF9RVUVSSUVTLkdFVF9EQUlMWV9TVEFUU19PVkVSQUxMLFxuICAgICAgKTtcblxuICAgICAgZGFpbHlTdGF0c1N0bXQuYmluZChbXG4gICAgICAgIGN1dG9mZkRhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF0sXG4gICAgICAgIC4uLmRlY2tGaWx0ZXJQYXJhbXMsXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IGRhaWx5U3RhdHMgPSBbXTtcblxuICAgICAgd2hpbGUgKGRhaWx5U3RhdHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBkYWlseVN0YXRzU3RtdC5nZXQoKTtcbiAgICAgICAgY29uc3QgcmV2aWV3cyA9IHJvd1sxXSBhcyBudW1iZXI7XG4gICAgICAgIGNvbnN0IGNvcnJlY3QgPSByb3dbMl0gYXMgbnVtYmVyO1xuICAgICAgICBkYWlseVN0YXRzLnB1c2goe1xuICAgICAgICAgIGRhdGU6IHJvd1swXSBhcyBzdHJpbmcsXG4gICAgICAgICAgcmV2aWV3czogcmV2aWV3cyxcbiAgICAgICAgICB0aW1lU3BlbnQ6IHJldmlld3MgKiAzMCwgLy8gRXN0aW1hdGUgMzAgc2Vjb25kcyBwZXIgcmV2aWV3XG4gICAgICAgICAgbmV3Q2FyZHM6IHJvd1szXSBhcyBudW1iZXIsXG4gICAgICAgICAgbGVhcm5pbmdDYXJkczogMCwgLy8gTm8gbGVhcm5pbmcgY2FyZHMgaW4gcHVyZSBGU1JTXG4gICAgICAgICAgcmV2aWV3Q2FyZHM6IHJvd1s0XSBhcyBudW1iZXIsXG4gICAgICAgICAgY29ycmVjdFJhdGU6IHJldmlld3MgPiAwID8gKGNvcnJlY3QgLyByZXZpZXdzKSAqIDEwMCA6IDAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGFpbHlTdGF0c1N0bXQuZnJlZSgpO1xuXG4gICAgICAvLyBHZXQgY2FyZCBzdGF0cyBieSBzdGF0dXNcbiAgICAgIGNvbnN0IGNhcmRTdGF0c1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoXG4gICAgICAgIGRlY2tGaWx0ZXJDb25kaXRpb25cbiAgICAgICAgICA/IFNRTF9RVUVSSUVTLkdFVF9DQVJEX1NUQVRTLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiRlJPTSBmbGFzaGNhcmRzIGZcIixcbiAgICAgICAgICAgICAgXCJGUk9NIGZsYXNoY2FyZHMgZiBKT0lOIGRlY2tzIGQgT04gZi5kZWNrX2lkID0gZC5pZFwiLFxuICAgICAgICAgICAgKS5yZXBsYWNlKFxuICAgICAgICAgICAgICBcIkdST1VQIEJZIGYuc3RhdGVcIixcbiAgICAgICAgICAgICAgYFdIRVJFICR7ZGVja0ZpbHRlckNvbmRpdGlvbi5yZXBsYWNlKFwiZC5cIiwgXCJkLlwiKX0gR1JPVVAgQlkgZi5zdGF0ZWAsXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBTUUxfUVVFUklFUy5HRVRfQ0FSRF9TVEFUUyxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNhcmRTdGF0cyA9IHtcbiAgICAgICAgbmV3OiAwLFxuICAgICAgICBtYXR1cmU6IDAsXG4gICAgICB9O1xuXG4gICAgICBpZiAoZGVja0ZpbHRlckNvbmRpdGlvbikge1xuICAgICAgICBjYXJkU3RhdHNTdG10LmJpbmQoZGVja0ZpbHRlclBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChjYXJkU3RhdHNTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBjYXJkU3RhdHNTdG10LmdldCgpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHJvd1swXSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcm93WzFdIGFzIG51bWJlcjtcbiAgICAgICAgaWYgKHN0YXRlID09PSBcIm5ld1wiKSBjYXJkU3RhdHMubmV3ID0gY291bnQ7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSBcInJldmlld1wiKSBjYXJkU3RhdHMubWF0dXJlID0gY291bnQ7XG4gICAgICB9XG4gICAgICBjYXJkU3RhdHNTdG10LmZyZWUoKTtcblxuICAgICAgLy8gR2V0IGFuc3dlciBidXR0b24gc3RhdHNcbiAgICAgIGNvbnN0IGFuc3dlckJ1dHRvbnNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFxuICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uXG4gICAgICAgICAgPyBTUUxfUVVFUklFUy5HRVRfQU5TV0VSX0JVVFRPTl9TVEFUUy5yZXBsYWNlKFxuICAgICAgICAgICAgICBcIkZST00gcmV2aWV3X2xvZ3MgcmxcIixcbiAgICAgICAgICAgICAgXCJGUk9NIHJldmlld19sb2dzIHJsIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWQgSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIixcbiAgICAgICAgICAgICkucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJXSEVSRSBybC5yZXZpZXdlZF9hdCA+PSA/IEFORCBybC5yZXZpZXdlZF9hdCA8PSA/XCIsXG4gICAgICAgICAgICAgIGBXSEVSRSBybC5yZXZpZXdlZF9hdCA+PSA/IEFORCBybC5yZXZpZXdlZF9hdCA8PSA/ICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1gLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogU1FMX1FVRVJJRVMuR0VUX0FOU1dFUl9CVVRUT05fU1RBVFMsXG4gICAgICApO1xuXG4gICAgICBjb25zdCBhbnN3ZXJCdXR0b25zID0ge1xuICAgICAgICBhZ2FpbjogMCxcbiAgICAgICAgaGFyZDogMCxcbiAgICAgICAgZ29vZDogMCxcbiAgICAgICAgZWFzeTogMCxcbiAgICAgIH07XG5cbiAgICAgIGFuc3dlckJ1dHRvbnNTdG10LmJpbmQoW1xuICAgICAgICBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxuICAgICAgICAuLi5kZWNrRmlsdGVyUGFyYW1zLFxuICAgICAgXSk7XG5cbiAgICAgIHdoaWxlIChhbnN3ZXJCdXR0b25zU3RtdC5zdGVwKCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gYW5zd2VyQnV0dG9uc1N0bXQuZ2V0KCk7XG4gICAgICAgIGNvbnN0IHJhdGluZ0xhYmVsID0gcm93WzBdIGFzIHN0cmluZztcbiAgICAgICAgY29uc3QgY291bnQgPSByb3dbMV0gYXMgbnVtYmVyO1xuICAgICAgICBhbnN3ZXJCdXR0b25zW3JhdGluZ0xhYmVsIGFzIGtleW9mIHR5cGVvZiBhbnN3ZXJCdXR0b25zXSA9IGNvdW50O1xuICAgICAgfVxuICAgICAgYW5zd2VyQnV0dG9uc1N0bXQuZnJlZSgpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcmV0ZW50aW9uIHJhdGVcbiAgICAgIGNvbnN0IHRvdGFsUmV2aWV3cyA9IE9iamVjdC52YWx1ZXMoYW5zd2VyQnV0dG9ucykucmVkdWNlKFxuICAgICAgICAoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgICAgY29uc3QgY29ycmVjdFJldmlld3MgPSB0b3RhbFJldmlld3MgLSBhbnN3ZXJCdXR0b25zLmFnYWluO1xuICAgICAgY29uc3QgcmV0ZW50aW9uUmF0ZSA9XG4gICAgICAgIHRvdGFsUmV2aWV3cyA+IDAgPyAoY29ycmVjdFJldmlld3MgLyB0b3RhbFJldmlld3MpICogMTAwIDogMDtcblxuICAgICAgLy8gR2V0IGludGVydmFsIGRpc3RyaWJ1dGlvblxuICAgICAgY29uc3QgaW50ZXJ2YWxzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBTRUxFQ1RcbiAgICAgICAgQ0FTRVxuICAgICAgICAgIFdIRU4gZi5pbnRlcnZhbCA8IDE0NDAgVEhFTiBDQVNUKGYuaW50ZXJ2YWwgLyA2MCBBUyBJTlRFR0VSKSB8fCAnaCdcbiAgICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCA0MzIwMCBUSEVOIENBU1QoZi5pbnRlcnZhbCAvIDE0NDAgQVMgSU5URUdFUikgfHwgJ2QnXG4gICAgICAgICAgRUxTRSBDQVNUKGYuaW50ZXJ2YWwgLyA0MzIwMCBBUyBJTlRFR0VSKSB8fCAnbSdcbiAgICAgICAgRU5EIGFzIGludGVydmFsX2dyb3VwLFxuICAgICAgICBDT1VOVCgqKSBhcyBjb3VudFxuICAgICAgRlJPTSBmbGFzaGNhcmRzIGZcbiAgICAgICR7ZGVja0ZpbHRlckNvbmRpdGlvbiA/IFwiSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIiA6IFwiXCJ9XG4gICAgICBXSEVSRSBmLnN0YXRlICE9ICduZXcnXG4gICAgICAke2RlY2tGaWx0ZXJDb25kaXRpb259XG4gICAgICBHUk9VUCBCWSBpbnRlcnZhbF9ncm91cFxuICAgICAgT1JERVIgQlkgZi5pbnRlcnZhbFxuICAgIGApO1xuXG4gICAgICBpZiAoZGVja0ZpbHRlckNvbmRpdGlvbikge1xuICAgICAgICBpbnRlcnZhbHNTdG10LmJpbmQoZGVja0ZpbHRlclBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGludGVydmFscyA9IFtdO1xuICAgICAgd2hpbGUgKGludGVydmFsc1N0bXQuc3RlcCgpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGludGVydmFsc1N0bXQuZ2V0KCk7XG4gICAgICAgIGludGVydmFscy5wdXNoKHtcbiAgICAgICAgICBpbnRlcnZhbDogcm93WzBdIGFzIHN0cmluZyxcbiAgICAgICAgICBjb3VudDogcm93WzFdIGFzIG51bWJlcixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpbnRlcnZhbHNTdG10LmZyZWUoKTtcblxuICAgICAgLy8gR2VuZXJhdGUgZm9yZWNhc3QgZm9yIG5leHQgOTAgZGF5c1xuICAgICAgY29uc3QgZm9yZWNhc3QgPSBbXTtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5MDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZvcmVjYXN0RGF0ZSA9IG5ldyBEYXRlKHRvZGF5KTtcbiAgICAgICAgZm9yZWNhc3REYXRlLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICAgIGNvbnN0IGRhdGVTdHIgPSBmb3JlY2FzdERhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG5cbiAgICAgICAgY29uc3QgZm9yZWNhc3RTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFxuICAgICAgICAgIGRlY2tGaWx0ZXJDb25kaXRpb25cbiAgICAgICAgICAgID8gU1FMX1FVRVJJRVMuR0VUX0ZPUkVDQVNUX0RVRV9DT1VOVC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIFwiRlJPTSBmbGFzaGNhcmRzIGZcIixcbiAgICAgICAgICAgICAgICBcIkZST00gZmxhc2hjYXJkcyBmIEpPSU4gZGVja3MgZCBPTiBmLmRlY2tfaWQgPSBkLmlkXCIsXG4gICAgICAgICAgICAgICkucmVwbGFjZShcbiAgICAgICAgICAgICAgICBcIldIRVJFIERBVEUoZi5kdWVfZGF0ZSkgPSBEQVRFKD8pXCIsXG4gICAgICAgICAgICAgICAgYFdIRVJFIERBVEUoZi5kdWVfZGF0ZSkgPSBEQVRFKD8pICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1gLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IFNRTF9RVUVSSUVTLkdFVF9GT1JFQ0FTVF9EVUVfQ09VTlQsXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yZWNhc3RTdG10LmJpbmQoW2RhdGVTdHIsIC4uLmRlY2tGaWx0ZXJQYXJhbXNdKTtcbiAgICAgICAgbGV0IGR1ZUNvdW50ID0gMDtcbiAgICAgICAgaWYgKGZvcmVjYXN0U3RtdC5zdGVwKCkpIHtcbiAgICAgICAgICBjb25zdCByb3cgPSBmb3JlY2FzdFN0bXQuZ2V0KCk7XG4gICAgICAgICAgZHVlQ291bnQgPSByb3dbMF0gYXMgbnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGZvcmVjYXN0U3RtdC5mcmVlKCk7XG5cbiAgICAgICAgZm9yZWNhc3QucHVzaCh7XG4gICAgICAgICAgZGF0ZTogZGF0ZVN0cixcbiAgICAgICAgICBkdWVDb3VudDogZHVlQ291bnQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhdGUgcGFjZSBzdGF0aXN0aWNzIGZyb20gdGltZV9lbGFwc2VkX21zIGRhdGFcbiAgICAgIGNvbnN0IHBhY2VTdG10ID0gdGhpcy5kYi5wcmVwYXJlKFxuICAgICAgICBkZWNrRmlsdGVyQ29uZGl0aW9uXG4gICAgICAgICAgPyBTUUxfUVVFUklFUy5HRVRfUEFDRV9TVEFUUy5yZXBsYWNlKFxuICAgICAgICAgICAgICBcIkZST00gcmV2aWV3X2xvZ3MgcmxcIixcbiAgICAgICAgICAgICAgXCJGUk9NIHJldmlld19sb2dzIHJsIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWQgSk9JTiBkZWNrcyBkIE9OIGYuZGVja19pZCA9IGQuaWRcIixcbiAgICAgICAgICAgICkucmVwbGFjZShcbiAgICAgICAgICAgICAgXCJXSEVSRSBybC5yZXZpZXdlZF9hdCA+PSA/IEFORCBybC5yZXZpZXdlZF9hdCA8PSA/XCIsXG4gICAgICAgICAgICAgIGBXSEVSRSBybC5yZXZpZXdlZF9hdCA+PSA/IEFORCBybC5yZXZpZXdlZF9hdCA8PSA/ICR7ZGVja0ZpbHRlckNvbmRpdGlvbn1gLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogU1FMX1FVRVJJRVMuR0VUX1BBQ0VfU1RBVFMsXG4gICAgICApO1xuXG4gICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgaWYgKGRlY2tGaWx0ZXJDb25kaXRpb24pIHtcbiAgICAgICAgcGFjZVN0bXQuYmluZChbY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpLCBlbmREYXRlLCAuLi5kZWNrRmlsdGVyUGFyYW1zXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWNlU3RtdC5iaW5kKFtjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCksIGVuZERhdGVdKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGF2ZXJhZ2VQYWNlID0gMDtcbiAgICAgIGxldCB0b3RhbFJldmlld1RpbWUgPSAwO1xuICAgICAgaWYgKHBhY2VTdG10LnN0ZXAoKSkge1xuICAgICAgICBjb25zdCByb3cgPSBwYWNlU3RtdC5nZXQoKTtcbiAgICAgICAgYXZlcmFnZVBhY2UgPSAocm93WzBdIGFzIG51bWJlcikgfHwgMDtcbiAgICAgICAgdG90YWxSZXZpZXdUaW1lID0gKHJvd1sxXSBhcyBudW1iZXIpIHx8IDA7XG4gICAgICB9XG4gICAgICBwYWNlU3RtdC5mcmVlKCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhaWx5U3RhdHMsXG4gICAgICAgIGNhcmRTdGF0cyxcbiAgICAgICAgYW5zd2VyQnV0dG9ucyxcbiAgICAgICAgcmV0ZW50aW9uUmF0ZSxcbiAgICAgICAgaW50ZXJ2YWxzLFxuICAgICAgICBmb3JlY2FzdCxcbiAgICAgICAgYXZlcmFnZVBhY2UsXG4gICAgICAgIHRvdGFsUmV2aWV3VGltZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRPdmVyYWxsU3RhdGlzdGljczpcIiwgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGVtcHR5IGRhdGEgc3RydWN0dXJlIGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhaWx5U3RhdHM6IFtdLFxuICAgICAgICBjYXJkU3RhdHM6IHsgbmV3OiAwLCBtYXR1cmU6IDAgfSxcbiAgICAgICAgYW5zd2VyQnV0dG9uczogeyBhZ2FpbjogMCwgaGFyZDogMCwgZ29vZDogMCwgZWFzeTogMCB9LFxuICAgICAgICByZXRlbnRpb25SYXRlOiAwLFxuICAgICAgICBpbnRlcnZhbHM6IFtdLFxuICAgICAgICBmb3JlY2FzdDogW10sXG4gICAgICAgIGF2ZXJhZ2VQYWNlOiAwLFxuICAgICAgICB0b3RhbFJldmlld1RpbWU6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHB1cmdlRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcIlB1cmdpbmcgZGF0YWJhc2UgLSBkZWxldGluZyBhbGwgZGF0YVwiKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5kYikge1xuICAgICAgICAvLyBEcm9wIGFsbCB0YWJsZXMgdG8gY29tcGxldGVseSByZXNldCB0aGUgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5kYi5leGVjKGBcbiAgICAgICAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyByZXZpZXdfbG9ncztcbiAgICAgICAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBmbGFzaGNhcmRzO1xuICAgICAgICAgIERST1AgVEFCTEUgSUYgRVhJU1RTIGRlY2tzO1xuICAgICAgICBgKTtcblxuICAgICAgICB0aGlzLmRlYnVnTG9nKFwiQWxsIHRhYmxlcyBkcm9wcGVkLCByZWNyZWF0aW5nIHNjaGVtYVwiKTtcblxuICAgICAgICAvLyBSZWNyZWF0ZSB0YWJsZXMgd2l0aCBmcmVzaCBzY2hlbWFcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVGcmVzaERhdGFiYXNlKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuXG4gICAgICAgIHRoaXMuZGVidWdMb2coXCJEYXRhYmFzZSBwdXJnZWQgYW5kIHJlY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwdXJnaW5nIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5kYikge1xuICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuICAgICAgdGhpcy5kYiA9IG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBGU1JTIEFsZ29yaXRobSBXZWlnaHRzIENvbmZpZ3VyYXRpb25cbiAqXG4gKiBDZW50cmFsaXplZCBjb25maWd1cmF0aW9uIGZvciBGU1JTLTQuNSBhbGdvcml0aG0gd2VpZ2h0cyBvcHRpbWl6ZWQgZm9yIHN1Yi1kYXkgaW50ZXJ2YWxzLlxuICogVGhlc2Ugd2VpZ2h0cyBjb250cm9sIHRoZSBpbml0aWFsIHN0YWJpbGl0eSB2YWx1ZXMgZm9yIG5ldyBjYXJkIHJhdGluZ3MgYW5kIHZhcmlvdXNcbiAqIGFsZ29yaXRobSBwYXJhbWV0ZXJzIGZvciBkaWZmaWN1bHR5IHByb2dyZXNzaW9uIGFuZCBzdGFiaWxpdHkgdXBkYXRlcy5cbiAqL1xuXG4vKipcbiAqIEZTUlMtNC41IHN0YW5kYXJkIHdlaWdodHMgKGRheS1iYXNlZCBpbnRlcnZhbHMpXG4gKi9cbmV4cG9ydCBjb25zdCBGU1JTX1dFSUdIVFNfU1RBTkRBUkQ6IG51bWJlcltdID0gW1xuICAwLjQwNzIsIDEuMTgyOSwgMy4xMjYyLCAxNS40NzIyLCA3LjIxMDIsIDAuNTMxNiwgMS4wNjUxLCAwLjAyMzQsIDEuNjE2LFxuICAwLjE1NDQsIDEuMDgyNCwgMS45ODEzLCAwLjA5NTMsIDAuMjk3NSwgMi4yMDQyLCAwLjI0MDcsIDIuOTQ2Nixcbl07XG5cbi8qKlxuICogRlNSUyB3ZWlnaHRzIG9wdGltaXplZCBmb3IgaW50ZW5zaXZlIHN1Yi1kYXkgaW50ZXJ2YWxzXG4gKiB3WzAtM10gc2V0IHRvIG1hdGNoIGludGVuc2l2ZSB0YXJnZXRzIGluIGRheXM6IDFtLzVtLzEwbS80MG1cbiAqL1xuZXhwb3J0IGNvbnN0IEZTUlNfV0VJR0hUU19TVUJEQVk6IG51bWJlcltdID0gW1xuICAxIC8gMTQ0MCwgLy8gd1swXSAtIEFnYWluOiAxIG1pbnV0ZVxuICA1IC8gMTQ0MCwgLy8gd1sxXSAtIEhhcmQ6IDUgbWludXRlc1xuICAxMCAvIDE0NDAsIC8vIHdbMl0gLSBHb29kOiAxMCBtaW51dGVzXG4gIDQwIC8gMTQ0MCwgLy8gd1szXSAtIEVhc3k6IDQwIG1pbnV0ZXNcblxuICAvLyBLZWVwIEZTUlMtNC41IGRlZmF1bHRzIGZvciByZW1haW5pbmcgcGFyYW1ldGVyc1xuICA3LjIxMDIsXG4gIDAuNTMxNixcbiAgMS4wNjUxLFxuICAwLjAyMzQsXG4gIDEuNjE2LFxuICAwLjE1NDQsXG4gIDEuMDgyNCxcbiAgMS45ODEzLFxuICAwLjA5NTMsXG4gIDAuMjk3NSxcbiAgMi4yMDQyLFxuICAwLjI0MDcsXG4gIDIuOTQ2Nixcbl07XG5cbi8qKlxuICogRGVmYXVsdCBGU1JTIHdlaWdodHMgKGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZTUlNfV0VJR0hUUzogbnVtYmVyW10gPSBGU1JTX1dFSUdIVFNfU1RBTkRBUkQ7XG5cbi8qKlxuICogRlNSUyBwcm9maWxlIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgRlNSU1Byb2ZpbGUgPSBcIklOVEVOU0lWRVwiIHwgXCJTVEFOREFSRFwiO1xuXG4vKipcbiAqIFByb2ZpbGUtc3BlY2lmaWMgcGFyYW1ldGVycyAoaGFyZGNvZGVkLCBub3QgdXNlci1lZGl0YWJsZSlcbiAqL1xuZXhwb3J0IGNvbnN0IFBST0ZJTEVfQ09ORklHID0ge1xuICBJTlRFTlNJVkU6IHtcbiAgICB3ZWlnaHRzOiBGU1JTX1dFSUdIVFNfU1VCREFZLFxuICAgIG1pbk1pbnV0ZXM6IDEsXG4gICAgbWF4aW11bUludGVydmFsRGF5czogMzY1MDAsXG4gIH0sXG4gIFNUQU5EQVJEOiB7XG4gICAgd2VpZ2h0czogRlNSU19XRUlHSFRTX1NUQU5EQVJELFxuICAgIG1pbk1pbnV0ZXM6IDE0NDAsIC8vIDEgZGF5IG1pbmltdW1cbiAgICBtYXhpbXVtSW50ZXJ2YWxEYXlzOiAzNjUwMCxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogRGVmYXVsdCBGU1JTIGFsZ29yaXRobSBwYXJhbWV0ZXJzIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GU1JTX1BBUkFNRVRFUlMgPSB7XG4gIHc6IERFRkFVTFRfRlNSU19XRUlHSFRTLFxuICByZXF1ZXN0UmV0ZW50aW9uOiAwLjksXG4gIG1heGltdW1JbnRlcnZhbDogMzY1MDAsXG4gIG1pbk1pbnV0ZXM6IDE0NDAsXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEdldCB3ZWlnaHRzIGZvciBhIHNwZWNpZmljIHByb2ZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlaWdodHNGb3JQcm9maWxlKHByb2ZpbGU6IEZTUlNQcm9maWxlKTogbnVtYmVyW10ge1xuICByZXR1cm4gUFJPRklMRV9DT05GSUdbcHJvZmlsZV0ud2VpZ2h0cztcbn1cblxuLyoqXG4gKiBHZXQgbWluaW11bSBtaW51dGVzIGZvciBhIHNwZWNpZmljIHByb2ZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlKHByb2ZpbGU6IEZTUlNQcm9maWxlKTogbnVtYmVyIHtcbiAgcmV0dXJuIFBST0ZJTEVfQ09ORklHW3Byb2ZpbGVdLm1pbk1pbnV0ZXM7XG59XG5cbi8qKlxuICogR2V0IG1heGltdW0gaW50ZXJ2YWwgZGF5cyBmb3IgYSBzcGVjaWZpYyBwcm9maWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlKHByb2ZpbGU6IEZTUlNQcm9maWxlKTogbnVtYmVyIHtcbiAgcmV0dXJuIFBST0ZJTEVfQ09ORklHW3Byb2ZpbGVdLm1heGltdW1JbnRlcnZhbERheXM7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIEZTUlMgd2VpZ2h0cyBhcnJheVxuICogQHBhcmFtIHdlaWdodHMgLSBBcnJheSBvZiAxNyBGU1JTIHdlaWdodHMgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGU1JTV2VpZ2h0cyh3ZWlnaHRzOiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkod2VpZ2h0cykgfHwgd2VpZ2h0cy5sZW5ndGggIT09IDE3KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHdlaWdodHMuZXZlcnkoKHcpID0+IGlzRmluaXRlKHcpKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIFVJLW9ubHkgZm9ybWF0dGluZyAtIG5ldmVyIHVzZSBpbiBjYWxjdWxhdGlvbnNcbiAqIFByZXNlcnZlcyBmdWxsIHByZWNpc2lvbiBpbiBhbGwgaW50ZXJuYWwgY2FsY3VsYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZEZvckRpc3BsYXkodmFsdWU6IG51bWJlciwgZGVjaW1hbHM6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKGRlY2ltYWxzKTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhhdCBhIG51bWVyaWMgdmFsdWUgbWFpbnRhaW5zIHN1ZmZpY2llbnQgcHJlY2lzaW9uXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgbnVtZXJpYyB2YWx1ZSB0byB2YWxpZGF0ZVxuICogQHBhcmFtIG1pblNpZ25pZmljYW50RGlnaXRzIC0gTWluaW11bSByZXF1aXJlZCBzaWduaWZpY2FudCBkaWdpdHMgKGRlZmF1bHQ6IDEyKVxuICogQHJldHVybnMgdHJ1ZSBpZiBwcmVjaXNpb24gaXMgc3VmZmljaWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQcmVjaXNpb24oXG4gIHZhbHVlOiBudW1iZXIsXG4gIG1pblNpZ25pZmljYW50RGlnaXRzOiBudW1iZXIgPSAxMixcbik6IGJvb2xlYW4ge1xuICBpZiAoIWlzRmluaXRlKHZhbHVlKSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSk7XG4gIH1cblxuICBjb25zdCB2YWx1ZVN0ciA9IE1hdGguYWJzKHZhbHVlKS50b1N0cmluZygpO1xuICBjb25zdCBzaWduaWZpY2FudERpZ2l0cyA9IHZhbHVlU3RyLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKS5sZW5ndGg7XG5cbiAgcmV0dXJuIHNpZ25pZmljYW50RGlnaXRzID49IG1pblNpZ25pZmljYW50RGlnaXRzO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgc3ViLWRheSBvcHRpbWl6ZWQgd2VpZ2h0cyB3aXRoIGN1c3RvbSBpbml0aWFsIGludGVydmFsc1xuICogQHBhcmFtIGFnYWluTWludXRlcyAtIFRhcmdldCBpbnRlcnZhbCBmb3IgQWdhaW4gcmF0aW5nIChkZWZhdWx0OiAxIG1pbnV0ZSlcbiAqIEBwYXJhbSBoYXJkTWludXRlcyAtIFRhcmdldCBpbnRlcnZhbCBmb3IgSGFyZCByYXRpbmcgKGRlZmF1bHQ6IDYgbWludXRlcylcbiAqIEBwYXJhbSBnb29kTWludXRlcyAtIFRhcmdldCBpbnRlcnZhbCBmb3IgR29vZCByYXRpbmcgKGRlZmF1bHQ6IDEwIG1pbnV0ZXMpXG4gKiBAcGFyYW0gZWFzeU1pbnV0ZXMgLSBUYXJnZXQgaW50ZXJ2YWwgZm9yIEVhc3kgcmF0aW5nIChkZWZhdWx0OiAxNDQwIG1pbnV0ZXMpXG4gKiBAcmV0dXJucyBGU1JTIHdlaWdodHMgYXJyYXkgb3B0aW1pemVkIGZvciBzcGVjaWZpZWQgaW50ZXJ2YWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdWJEYXlXZWlnaHRzKFxuICBhZ2Fpbk1pbnV0ZXM6IG51bWJlciA9IDEsXG4gIGhhcmRNaW51dGVzOiBudW1iZXIgPSA2LFxuICBnb29kTWludXRlczogbnVtYmVyID0gMTAsXG4gIGVhc3lNaW51dGVzOiBudW1iZXIgPSAxNDQwLFxuKTogbnVtYmVyW10ge1xuICByZXR1cm4gW1xuICAgIGFnYWluTWludXRlcyAvIDE0NDAsIC8vIHdbMF0gLSBBZ2FpbiBzdGFiaWxpdHlcbiAgICBoYXJkTWludXRlcyAvIDE0NDAsIC8vIHdbMV0gLSBIYXJkIHN0YWJpbGl0eVxuICAgIGdvb2RNaW51dGVzIC8gMTQ0MCwgLy8gd1syXSAtIEdvb2Qgc3RhYmlsaXR5XG4gICAgZWFzeU1pbnV0ZXMgLyAxNDQwLCAvLyB3WzNdIC0gRWFzeSBzdGFiaWxpdHlcbiAgICAuLi5ERUZBVUxUX0ZTUlNfV0VJR0hUUy5zbGljZSg0KSwgLy8gS2VlcCByZW1haW5pbmcgd2VpZ2h0c1xuICBdO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIEZTUlMgcHJvZmlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQcm9maWxlKHByb2ZpbGU6IHN0cmluZyk6IHByb2ZpbGUgaXMgRlNSU1Byb2ZpbGUge1xuICByZXR1cm4gcHJvZmlsZSA9PT0gXCJJTlRFTlNJVkVcIiB8fCBwcm9maWxlID09PSBcIlNUQU5EQVJEXCI7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgcmVxdWVzdCByZXRlbnRpb24gcmFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVxdWVzdFJldGVudGlvbihyZXRlbnRpb246IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gcmV0ZW50aW9uID4gMC41ICYmIHJldGVudGlvbiA8IDAuOTk1O1xufVxuXG4vKipcbiAqIFByZS1jb25maWd1cmVkIHdlaWdodCBzZXRzIGZvciBkaWZmZXJlbnQgdXNlIGNhc2VzIChkZXByZWNhdGVkKVxuICovXG5leHBvcnQgY29uc3QgV0VJR0hUX1BSRVNFVFMgPSB7XG4gIElOVEVOU0lWRTogRlNSU19XRUlHSFRTX1NVQkRBWSxcbiAgU1RBTkRBUkQ6IEZTUlNfV0VJR0hUU19TVEFOREFSRCxcbiAgUkVMQVhFRDogY3JlYXRlU3ViRGF5V2VpZ2h0cygzMCwgNjAsIDE4MCwgNzIwKSxcbiAgT1JJR0lOQUw6IEZTUlNfV0VJR0hUU19TVEFOREFSRCxcbn0gYXMgY29uc3Q7XG4iLCAiaW1wb3J0IHsgREVGQVVMVF9GU1JTX1BBUkFNRVRFUlMgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnMtd2VpZ2h0c1wiO1xuXG5leHBvcnQgdHlwZSBSZXZpZXdPcmRlciA9IFwiZHVlLWRhdGVcIiB8IFwicmFuZG9tXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVja0NvbmZpZyB7XG4gIG5ld0NhcmRzTGltaXQ6IG51bWJlcjsgLy8gTWF4IG5ldyBjYXJkcyBwZXIgZGF5XG4gIHJldmlld0NhcmRzTGltaXQ6IG51bWJlcjsgLy8gTWF4IHJldmlldyBjYXJkcyBwZXIgZGF5XG4gIGVuYWJsZU5ld0NhcmRzTGltaXQ6IGJvb2xlYW47IC8vIFdoZXRoZXIgdG8gZW5mb3JjZSBuZXcgY2FyZHMgbGltaXRcbiAgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdDogYm9vbGVhbjsgLy8gV2hldGhlciB0byBlbmZvcmNlIHJldmlldyBjYXJkcyBsaW1pdFxuICByZXZpZXdPcmRlcjogUmV2aWV3T3JkZXI7IC8vIE9yZGVyIGZvciByZXZpZXcgY2FyZHM6IG9sZGVzdCBkdWUgZmlyc3Qgb3IgcmFuZG9tXG4gIGZzcnM6IHtcbiAgICByZXF1ZXN0UmV0ZW50aW9uOiBudW1iZXI7XG4gICAgcHJvZmlsZTogXCJJTlRFTlNJVkVcIiB8IFwiU1RBTkRBUkRcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNrIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBmaWxlcGF0aDogc3RyaW5nO1xuICB0YWc6IHN0cmluZztcbiAgbGFzdFJldmlld2VkOiBzdHJpbmcgfCBudWxsO1xuICBjb25maWc6IERlY2tDb25maWc7XG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgbW9kaWZpZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgRmxhc2hjYXJkU3RhdGUgPSBcIm5ld1wiIHwgXCJyZXZpZXdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmQge1xuICBpZDogc3RyaW5nO1xuICBkZWNrSWQ6IHN0cmluZztcbiAgZnJvbnQ6IHN0cmluZztcbiAgYmFjazogc3RyaW5nO1xuICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIiB8IFwidGFibGVcIjtcbiAgc291cmNlRmlsZTogc3RyaW5nO1xuICBjb250ZW50SGFzaDogc3RyaW5nOyAvLyBIYXNoIG9mIGJhY2sgY29udGVudCBvbmx5IChmcm9udCBpcyB1c2VkIGZvciBJRClcbiAgaGVhZGVyTGV2ZWw/OiBudW1iZXI7IC8vIEhlYWRlciBsZXZlbCAoMS02KSBmb3IgaGVhZGVyLXBhcmFncmFwaCBjYXJkcywgbnVsbCBmb3IgdGFibGUgY2FyZHNcbiAgc3RhdGU6IEZsYXNoY2FyZFN0YXRlO1xuICBkdWVEYXRlOiBzdHJpbmc7XG4gIGludGVydmFsOiBudW1iZXI7IC8vIGluIG1pbnV0ZXNcbiAgcmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgZGlmZmljdWx0eTogbnVtYmVyOyAvLyBGU1JTIGRpZmZpY3VsdHkgdmFsdWUgKDEtMTApXG4gIHN0YWJpbGl0eTogbnVtYmVyOyAvLyBGU1JTIHN0YWJpbGl0eSB2YWx1ZVxuICBsYXBzZXM6IG51bWJlcjsgLy8gTnVtYmVyIG9mIHRpbWVzIGNhcmQgd2FzIGZvcmdvdHRlblxuICBsYXN0UmV2aWV3ZWQ6IHN0cmluZyB8IG51bGw7IC8vIExhc3QgcmV2aWV3IGRhdGVcbiAgY3JlYXRlZDogc3RyaW5nO1xuICBtb2RpZmllZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld0xvZyB7XG4gIGlkOiBzdHJpbmc7XG4gIGZsYXNoY2FyZElkOiBzdHJpbmc7XG5cbiAgLy8gVGltZXN0YW1wc1xuICBsYXN0UmV2aWV3ZWRBdDogc3RyaW5nOyAvLyBiZWZvcmUgdGhpcyByZXZpZXdcbiAgc2hvd25BdD86IHN0cmluZzsgLy8gd2hlbiBjYXJkIHdhcyBzaG93biAob3B0aW9uYWwpXG4gIHJldmlld2VkQXQ6IHN0cmluZzsgLy8gd2hlbiByYXRpbmcgd2FzIHJlY29yZGVkXG5cbiAgLy8gUmF0aW5nXG4gIHJhdGluZzogMSB8IDIgfCAzIHwgNDsgLy8gQWdhaW49MSwgSGFyZD0yLCBHb29kPTMsIEVhc3k9NFxuICByYXRpbmdMYWJlbDogXCJhZ2FpblwiIHwgXCJoYXJkXCIgfCBcImdvb2RcIiB8IFwiZWFzeVwiO1xuICB0aW1lRWxhcHNlZE1zPzogbnVtYmVyOyAvLyBpZiBub3QgZGVyaXZpbmcgZnJvbSBzaG93bkF0XG5cbiAgLy8gUHJlLXN0YXRlIChmb3IgZXhhY3QgcmVjb25zdHJ1Y3Rpb24pXG4gIG9sZFN0YXRlOiBcIm5ld1wiIHwgXCJyZXZpZXdcIjtcbiAgb2xkUmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgb2xkTGFwc2VzOiBudW1iZXI7XG4gIG9sZFN0YWJpbGl0eTogbnVtYmVyO1xuICBvbGREaWZmaWN1bHR5OiBudW1iZXI7XG5cbiAgLy8gUG9zdC1zdGF0ZVxuICBuZXdTdGF0ZTogXCJuZXdcIiB8IFwicmV2aWV3XCI7IC8vIHdpbGwgYmUgXCJyZXZpZXdcIiBpbiBwdXJlIEZTUlNcbiAgbmV3UmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgbmV3TGFwc2VzOiBudW1iZXI7XG4gIG5ld1N0YWJpbGl0eTogbnVtYmVyO1xuICBuZXdEaWZmaWN1bHR5OiBudW1iZXI7XG5cbiAgLy8gSW50ZXJ2YWxzICYgZHVlIHRpbWVzIChleHBsaWNpdCB1bml0cylcbiAgb2xkSW50ZXJ2YWxNaW51dGVzOiBudW1iZXI7XG4gIG5ld0ludGVydmFsTWludXRlczogbnVtYmVyO1xuICBvbGREdWVBdDogc3RyaW5nO1xuICBuZXdEdWVBdDogc3RyaW5nO1xuXG4gIC8vIERlcml2ZWQgYXQgcmV2aWV3IHRpbWVcbiAgZWxhcHNlZERheXM6IG51bWJlcjsgLy8gKHJldmlld2VkQXQgLSBsYXN0UmV2aWV3ZWRBdCkgLyA4NjQwMDAwMFxuICByZXRyaWV2YWJpbGl0eTogbnVtYmVyOyAvLyBSXG5cbiAgLy8gQ29uZmlnIHNuYXBzaG90XG4gIHJlcXVlc3RSZXRlbnRpb246IG51bWJlcjtcbiAgcHJvZmlsZTogXCJJTlRFTlNJVkVcIiB8IFwiU1RBTkRBUkRcIjtcbiAgbWF4aW11bUludGVydmFsRGF5czogbnVtYmVyO1xuICBtaW5NaW51dGVzOiBudW1iZXI7XG4gIGZzcnNXZWlnaHRzVmVyc2lvbjogc3RyaW5nOyAvLyBvciB3ZWlnaHRzSGFzaFxuICBzY2hlZHVsZXJWZXJzaW9uOiBzdHJpbmc7XG5cbiAgLy8gT3B0aW9uYWwgY29udGVudC9jb250ZXh0XG4gIG5vdGVNb2RlbElkPzogc3RyaW5nO1xuICBjYXJkVGVtcGxhdGVJZD86IHN0cmluZztcbiAgY29udGVudEhhc2g/OiBzdHJpbmc7XG4gIGNsaWVudD86IFwid2ViXCIgfCBcImRlc2t0b3BcIiB8IFwibW9iaWxlXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVja1N0YXRzIHtcbiAgZGVja0lkOiBzdHJpbmc7XG4gIG5ld0NvdW50OiBudW1iZXI7XG4gIGR1ZUNvdW50OiBudW1iZXI7XG4gIHRvdGFsQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbmtpRXhwb3J0Q29uZmlnIHtcbiAgYW5raURlY2tOYW1lOiBzdHJpbmc7XG4gIHNlcGFyYXRvcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFiYXNlU2NoZW1hIHtcbiAgZGVja3M6IERlY2s7XG4gIGZsYXNoY2FyZHM6IEZsYXNoY2FyZDtcbiAgcmV2aWV3X2xvZ3M6IFJldmlld0xvZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWlseVN0YXRzIHtcbiAgZGF0ZTogc3RyaW5nO1xuICByZXZpZXdzOiBudW1iZXI7XG4gIHRpbWVTcGVudDogbnVtYmVyO1xuICBuZXdDYXJkczogbnVtYmVyO1xuICBsZWFybmluZ0NhcmRzOiBudW1iZXI7XG4gIHJldmlld0NhcmRzOiBudW1iZXI7XG4gIGNvcnJlY3RSYXRlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZFN0YXRzIHtcbiAgbmV3OiBudW1iZXI7XG4gIG1hdHVyZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuc3dlckJ1dHRvbnMge1xuICBhZ2FpbjogbnVtYmVyO1xuICBoYXJkOiBudW1iZXI7XG4gIGdvb2Q6IG51bWJlcjtcbiAgZWFzeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVydmFsRGF0YSB7XG4gIGludGVydmFsOiBzdHJpbmc7XG4gIGNvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9yZWNhc3REYXRhIHtcbiAgZGF0ZTogc3RyaW5nO1xuICBkdWVDb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpc3RpY3Mge1xuICBkYWlseVN0YXRzOiBEYWlseVN0YXRzW107XG4gIGNhcmRTdGF0czogQ2FyZFN0YXRzO1xuICBhbnN3ZXJCdXR0b25zOiBBbnN3ZXJCdXR0b25zO1xuICByZXRlbnRpb25SYXRlOiBudW1iZXI7XG4gIGludGVydmFsczogSW50ZXJ2YWxEYXRhW107XG4gIGZvcmVjYXN0OiBGb3JlY2FzdERhdGFbXTtcbiAgYXZlcmFnZVBhY2U6IG51bWJlcjsgLy8gQXZlcmFnZSBzZWNvbmRzIHBlciBjYXJkXG4gIHRvdGFsUmV2aWV3VGltZTogbnVtYmVyOyAvLyBUb3RhbCB0aW1lIHNwZW50IHJldmlld2luZyBpbiBzZWNvbmRzXG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0RFQ0tfQ09ORklHOiBEZWNrQ29uZmlnID0ge1xuICBuZXdDYXJkc0xpbWl0OiAyMCxcbiAgcmV2aWV3Q2FyZHNMaW1pdDogMTAwLFxuICBlbmFibGVOZXdDYXJkc0xpbWl0OiBmYWxzZSxcbiAgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdDogZmFsc2UsXG4gIHJldmlld09yZGVyOiBcImR1ZS1kYXRlXCIsXG4gIGZzcnM6IHtcbiAgICByZXF1ZXN0UmV0ZW50aW9uOiBERUZBVUxUX0ZTUlNfUEFSQU1FVEVSUy5yZXF1ZXN0UmV0ZW50aW9uLFxuICAgIHByb2ZpbGU6IFwiU1RBTkRBUkRcIixcbiAgfSxcbn07XG4iLCAiaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tIFwic3FsLmpzXCI7XG5cbi8vIEN1cnJlbnQgU2NoZW1hIFZlcnNpb25cbmV4cG9ydCBjb25zdCBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OID0gMjtcblxuLy8gU1FMIFRhYmxlIENyZWF0aW9uIFNjaGVtYSAtIFVzZWQgd2hlbiBkYXRhYmFzZSBmaWxlIGRvZXNuJ3QgZXhpc3RcbmV4cG9ydCBjb25zdCBDUkVBVEVfVEFCTEVTX1NRTCA9IGBcbiAgUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9GRjtcbiAgQkVHSU47XG5cbiAgLS0gRGVja3MgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIGRlY2tzIChcbiAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICBmaWxlcGF0aCBURVhUIE5PVCBOVUxMIFVOSVFVRSxcbiAgICB0YWcgVEVYVCBOT1QgTlVMTCxcbiAgICBsYXN0X3Jldmlld2VkIFRFWFQsXG4gICAgY29uZmlnIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAne1wibmV3Q2FyZHNMaW1pdFwiOjIwLFwicmV2aWV3Q2FyZHNMaW1pdFwiOjEwMCxcImVuYWJsZU5ld0NhcmRzTGltaXRcIjpmYWxzZSxcImVuYWJsZVJldmlld0NhcmRzTGltaXRcIjpmYWxzZSxcInJldmlld09yZGVyXCI6XCJkdWUtZGF0ZVwiLFwiZnNyc1wiOntcInJlcXVlc3RSZXRlbnRpb25cIjowLjksXCJwcm9maWxlXCI6XCJTVEFOREFSRFwifX0nLFxuICAgIGNyZWF0ZWQgVEVYVCBOT1QgTlVMTCxcbiAgICBtb2RpZmllZCBURVhUIE5PVCBOVUxMXG4gICk7XG5cbiAgLS0gRmxhc2hjYXJkcyB0YWJsZVxuICBDUkVBVEUgVEFCTEUgZmxhc2hjYXJkcyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBkZWNrX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgZnJvbnQgVEVYVCBOT1QgTlVMTCxcbiAgICBiYWNrIFRFWFQgTk9UIE5VTEwsXG4gICAgdHlwZSBURVhUIE5PVCBOVUxMIENIRUNLICh0eXBlIElOICgnaGVhZGVyLXBhcmFncmFwaCcsICd0YWJsZScpKSxcbiAgICBzb3VyY2VfZmlsZSBURVhUIE5PVCBOVUxMLFxuICAgIGNvbnRlbnRfaGFzaCBURVhUIE5PVCBOVUxMLFxuICAgIGhlYWRlcl9sZXZlbCBJTlRFR0VSIENIRUNLIChoZWFkZXJfbGV2ZWwgPj0gMSBBTkQgaGVhZGVyX2xldmVsIDw9IDYpLFxuICAgIHN0YXRlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHN0YXRlIElOICgnbmV3JywgJ3JldmlldycpKSxcbiAgICBkdWVfZGF0ZSBURVhUIE5PVCBOVUxMLFxuICAgIGludGVydmFsIFJFQUwgTk9UIE5VTEwsXG4gICAgcmVwZXRpdGlvbnMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgIHN0YWJpbGl0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBsYXBzZXMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgbGFzdF9yZXZpZXdlZCBURVhULFxuICAgIGNyZWF0ZWQgVEVYVCBOT1QgTlVMTCxcbiAgICBtb2RpZmllZCBURVhUIE5PVCBOVUxMLFxuICAgIEZPUkVJR04gS0VZIChkZWNrX2lkKSBSRUZFUkVOQ0VTIGRlY2tzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICApO1xuXG4gIC0tIFJldmlldyBsb2dzIHRhYmxlXG4gIENSRUFURSBUQUJMRSByZXZpZXdfbG9ncyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBmbGFzaGNhcmRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICBsYXN0X3Jldmlld2VkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgc2hvd25fYXQgVEVYVCxcbiAgICByZXZpZXdlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgIHJhdGluZyBJTlRFR0VSIE5PVCBOVUxMIENIRUNLIChyYXRpbmcgSU4gKDEsIDIsIDMsIDQpKSxcbiAgICByYXRpbmdfbGFiZWwgVEVYVCBOT1QgTlVMTCBDSEVDSyAocmF0aW5nX2xhYmVsIElOICgnYWdhaW4nLCAnaGFyZCcsICdnb29kJywgJ2Vhc3knKSksXG4gICAgdGltZV9lbGFwc2VkX21zIElOVEVHRVIsXG4gICAgb2xkX3N0YXRlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKG9sZF9zdGF0ZSBJTiAoJ25ldycsICdyZXZpZXcnKSksXG4gICAgb2xkX3JlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG9sZF9sYXBzZXMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgb2xkX3N0YWJpbGl0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBvbGRfZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgIG5ld19zdGF0ZSBURVhUIE5PVCBOVUxMIENIRUNLIChuZXdfc3RhdGUgSU4gKCduZXcnLCAncmV2aWV3JykpLFxuICAgIG5ld19yZXBldGl0aW9ucyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBuZXdfbGFwc2VzIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG5ld19zdGFiaWxpdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDIuNSxcbiAgICBuZXdfZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgIG9sZF9pbnRlcnZhbF9taW51dGVzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgbmV3X2ludGVydmFsX21pbnV0ZXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBvbGRfZHVlX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgbmV3X2R1ZV9hdCBURVhUIE5PVCBOVUxMLFxuICAgIGVsYXBzZWRfZGF5cyBSRUFMIE5PVCBOVUxMLFxuICAgIHJldHJpZXZhYmlsaXR5IFJFQUwgTk9UIE5VTEwsXG4gICAgcmVxdWVzdF9yZXRlbnRpb24gUkVBTCBOT1QgTlVMTCxcbiAgICBwcm9maWxlIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAnU1RBTkRBUkQnIENIRUNLIChwcm9maWxlIElOICgnSU5URU5TSVZFJywgJ1NUQU5EQVJEJykpLFxuICAgIG1heGltdW1faW50ZXJ2YWxfZGF5cyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgIG1pbl9taW51dGVzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgZnNyc193ZWlnaHRzX3ZlcnNpb24gVEVYVCBOT1QgTlVMTCxcbiAgICBzY2hlZHVsZXJfdmVyc2lvbiBURVhUIE5PVCBOVUxMLFxuICAgIG5vdGVfbW9kZWxfaWQgVEVYVCxcbiAgICBjYXJkX3RlbXBsYXRlX2lkIFRFWFQsXG4gICAgY29udGVudF9oYXNoIFRFWFQsXG4gICAgY2xpZW50IFRFWFQsXG4gICAgRk9SRUlHTiBLRVkgKGZsYXNoY2FyZF9pZCkgUkVGRVJFTkNFUyBmbGFzaGNhcmRzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICApO1xuXG4gIC0tIENyZWF0ZSBpbmRleGVzXG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9mbGFzaGNhcmRzX2RlY2tfaWQgT04gZmxhc2hjYXJkcyhkZWNrX2lkKTtcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2ZsYXNoY2FyZHNfZHVlX2RhdGUgT04gZmxhc2hjYXJkcyhkdWVfZGF0ZSk7XG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9yZXZpZXdfbG9nc19mbGFzaGNhcmRfaWQgT04gcmV2aWV3X2xvZ3MoZmxhc2hjYXJkX2lkKTtcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3Jldmlld19sb2dzX3Jldmlld2VkX2F0IE9OIHJldmlld19sb2dzKHJldmlld2VkX2F0KTtcblxuICAtLSBTZXQgc2NoZW1hIHZlcnNpb25cbiAgUFJBR01BIHVzZXJfdmVyc2lvbiA9ICR7Q1VSUkVOVF9TQ0hFTUFfVkVSU0lPTn07XG5cbiAgQ09NTUlUO1xuICBQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047XG5gO1xuXG4vLyBTUUwgTWlncmF0aW9uIFNjaGVtYSAtIFVzZWQgd2hlbiBkYXRhYmFzZSBmaWxlIGV4aXN0cyBidXQgc2NoZW1hIHZlcnNpb24gZG9lc24ndCBtYXRjaFxuZXhwb3J0IGNvbnN0IE1JR1JBVEVfVEFCTEVTX1NRTCA9IGBcbiAgUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9GRjtcbiAgQkVHSU47XG5cbiAgLS0gRGVja3MgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIGRlY2tzX25ldyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBuYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgZmlsZXBhdGggVEVYVCBOT1QgTlVMTCBVTklRVUUsXG4gICAgdGFnIFRFWFQgTk9UIE5VTEwsXG4gICAgbGFzdF9yZXZpZXdlZCBURVhULFxuICAgIGNvbmZpZyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ3tcIm5ld0NhcmRzTGltaXRcIjoyMCxcInJldmlld0NhcmRzTGltaXRcIjoxMDAsXCJlbmFibGVOZXdDYXJkc0xpbWl0XCI6ZmFsc2UsXCJlbmFibGVSZXZpZXdDYXJkc0xpbWl0XCI6ZmFsc2UsXCJyZXZpZXdPcmRlclwiOlwiZHVlLWRhdGVcIixcImZzcnNcIjp7XCJyZXF1ZXN0UmV0ZW50aW9uXCI6MC45LFwicHJvZmlsZVwiOlwiU1RBTkRBUkRcIn19JyxcbiAgICBjcmVhdGVkIFRFWFQgTk9UIE5VTEwsXG4gICAgbW9kaWZpZWQgVEVYVCBOT1QgTlVMTFxuICApO1xuXG4gIC0tIEZsYXNoY2FyZHMgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIGZsYXNoY2FyZHNfbmV3IChcbiAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgIGRlY2tfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICBmcm9udCBURVhUIE5PVCBOVUxMLFxuICAgIGJhY2sgVEVYVCBOT1QgTlVMTCxcbiAgICB0eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHR5cGUgSU4gKCdoZWFkZXItcGFyYWdyYXBoJywgJ3RhYmxlJykpLFxuICAgIHNvdXJjZV9maWxlIFRFWFQgTk9UIE5VTEwsXG4gICAgY29udGVudF9oYXNoIFRFWFQgTk9UIE5VTEwsXG4gICAgaGVhZGVyX2xldmVsIElOVEVHRVIgQ0hFQ0sgKGhlYWRlcl9sZXZlbCA+PSAxIEFORCBoZWFkZXJfbGV2ZWwgPD0gNiksXG4gICAgc3RhdGUgVEVYVCBOT1QgTlVMTCBDSEVDSyAoc3RhdGUgSU4gKCduZXcnLCAncmV2aWV3JykpLFxuICAgIGR1ZV9kYXRlIFRFWFQgTk9UIE5VTEwsXG4gICAgaW50ZXJ2YWwgUkVBTCBOT1QgTlVMTCxcbiAgICByZXBldGl0aW9ucyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBkaWZmaWN1bHR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCA1LjAsXG4gICAgc3RhYmlsaXR5IFJFQUwgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIGxhcHNlcyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBsYXN0X3Jldmlld2VkIFRFWFQsXG4gICAgY3JlYXRlZCBURVhUIE5PVCBOVUxMLFxuICAgIG1vZGlmaWVkIFRFWFQgTk9UIE5VTEwsXG4gICAgRk9SRUlHTiBLRVkgKGRlY2tfaWQpIFJFRkVSRU5DRVMgZGVja3MoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICk7XG5cbiAgLS0gUmV2aWV3IGxvZ3MgdGFibGVcbiAgQ1JFQVRFIFRBQkxFIHJldmlld19sb2dzX25ldyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBmbGFzaGNhcmRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICBsYXN0X3Jldmlld2VkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgc2hvd25fYXQgVEVYVCxcbiAgICByZXZpZXdlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgIHJhdGluZyBJTlRFR0VSIE5PVCBOVUxMIENIRUNLIChyYXRpbmcgSU4gKDEsIDIsIDMsIDQpKSxcbiAgICByYXRpbmdfbGFiZWwgVEVYVCBOT1QgTlVMTCBDSEVDSyAocmF0aW5nX2xhYmVsIElOICgnYWdhaW4nLCAnaGFyZCcsICdnb29kJywgJ2Vhc3knKSksXG4gICAgdGltZV9lbGFwc2VkX21zIElOVEVHRVIsXG4gICAgb2xkX3N0YXRlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKG9sZF9zdGF0ZSBJTiAoJ25ldycsICdyZXZpZXcnKSksXG4gICAgb2xkX3JlcGV0aXRpb25zIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG9sZF9sYXBzZXMgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgb2xkX3N0YWJpbGl0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBvbGRfZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgIG5ld19zdGF0ZSBURVhUIE5PVCBOVUxMIENIRUNLIChuZXdfc3RhdGUgSU4gKCduZXcnLCAncmV2aWV3JykpLFxuICAgIG5ld19yZXBldGl0aW9ucyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICBuZXdfbGFwc2VzIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLFxuICAgIG5ld19zdGFiaWxpdHkgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDIuNSxcbiAgICBuZXdfZGlmZmljdWx0eSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgNS4wLFxuICAgIG9sZF9pbnRlcnZhbF9taW51dGVzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgbmV3X2ludGVydmFsX21pbnV0ZXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBvbGRfZHVlX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgbmV3X2R1ZV9hdCBURVhUIE5PVCBOVUxMLFxuICAgIGVsYXBzZWRfZGF5cyBSRUFMIE5PVCBOVUxMLFxuICAgIHJldHJpZXZhYmlsaXR5IFJFQUwgTk9UIE5VTEwsXG4gICAgcmVxdWVzdF9yZXRlbnRpb24gUkVBTCBOT1QgTlVMTCxcbiAgICBwcm9maWxlIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAnU1RBTkRBUkQnIENIRUNLIChwcm9maWxlIElOICgnSU5URU5TSVZFJywgJ1NUQU5EQVJEJykpLFxuICAgIG1heGltdW1faW50ZXJ2YWxfZGF5cyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgIG1pbl9taW51dGVzIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgZnNyc193ZWlnaHRzX3ZlcnNpb24gVEVYVCBOT1QgTlVMTCxcbiAgICBzY2hlZHVsZXJfdmVyc2lvbiBURVhUIE5PVCBOVUxMLFxuICAgIG5vdGVfbW9kZWxfaWQgVEVYVCxcbiAgICBjYXJkX3RlbXBsYXRlX2lkIFRFWFQsXG4gICAgY29udGVudF9oYXNoIFRFWFQsXG4gICAgY2xpZW50IFRFWFQsXG4gICAgRk9SRUlHTiBLRVkgKGZsYXNoY2FyZF9pZCkgUkVGRVJFTkNFUyBmbGFzaGNhcmRzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICApO1xuXG4gIC0tIENvcHkgZXhpc3RpbmcgZGF0YSBpZiB0YWJsZXMgZXhpc3RcbiAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGRlY2tzX25ldyBTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIEVYSVNUUyAoU0VMRUNUIDEgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZT0nZGVja3MnKTtcbiAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGZsYXNoY2FyZHNfbmV3IFNFTEVDVCAqIEZST00gZmxhc2hjYXJkcyBXSEVSRSBFWElTVFMgKFNFTEVDVCAxIEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWU9J2ZsYXNoY2FyZHMnKTtcbiAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIHJldmlld19sb2dzX25ldyBTRUxFQ1QgKiBGUk9NIHJldmlld19sb2dzIFdIRVJFIEVYSVNUUyAoU0VMRUNUIDEgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZT0ncmV2aWV3X2xvZ3MnKTtcblxuICAtLSBEcm9wIG9sZCB0YWJsZXMgaWYgdGhleSBleGlzdFxuICBEUk9QIFRBQkxFIElGIEVYSVNUUyByZXZpZXdfbG9ncztcbiAgRFJPUCBUQUJMRSBJRiBFWElTVFMgZmxhc2hjYXJkcztcbiAgRFJPUCBUQUJMRSBJRiBFWElTVFMgZGVja3M7XG5cbiAgLS0gUmVuYW1lIG5ldyB0YWJsZXNcbiAgQUxURVIgVEFCTEUgZGVja3NfbmV3IFJFTkFNRSBUTyBkZWNrcztcbiAgQUxURVIgVEFCTEUgZmxhc2hjYXJkc19uZXcgUkVOQU1FIFRPIGZsYXNoY2FyZHM7XG4gIEFMVEVSIFRBQkxFIHJldmlld19sb2dzX25ldyBSRU5BTUUgVE8gcmV2aWV3X2xvZ3M7XG5cbiAgLS0gQ3JlYXRlIGluZGV4ZXNcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2ZsYXNoY2FyZHNfZGVja19pZCBPTiBmbGFzaGNhcmRzKGRlY2tfaWQpO1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfZmxhc2hjYXJkc19kdWVfZGF0ZSBPTiBmbGFzaGNhcmRzKGR1ZV9kYXRlKTtcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3Jldmlld19sb2dzX2ZsYXNoY2FyZF9pZCBPTiByZXZpZXdfbG9ncyhmbGFzaGNhcmRfaWQpO1xuICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmV2aWV3X2xvZ3NfcmV2aWV3ZWRfYXQgT04gcmV2aWV3X2xvZ3MocmV2aWV3ZWRfYXQpO1xuXG4gIC0tIFNldCBzY2hlbWEgdmVyc2lvblxuICBQUkFHTUEgdXNlcl92ZXJzaW9uID0gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfTtcblxuICBDT01NSVQ7XG4gIFBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjtcbmA7XG5cbi8vIE1pZ3JhdGlvbiBoZWxwZXIgZnVuY3Rpb25zXG5cbi8vIFNRTCBRdWVyeSBDb25zdGFudHNcbmV4cG9ydCBjb25zdCBTUUxfUVVFUklFUyA9IHtcbiAgLy8gRGVjayBvcGVyYXRpb25zXG4gIElOU0VSVF9ERUNLOiBgXG4gICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBkZWNrcyAoXG4gICAgICBpZCwgbmFtZSwgZmlsZXBhdGgsIHRhZywgbGFzdF9yZXZpZXdlZCwgY29uZmlnLCBjcmVhdGVkLCBtb2RpZmllZFxuICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICBgLFxuXG4gIEdFVF9ERUNLX0JZX1RBRzogYFNFTEVDVCAqIEZST00gZGVja3MgV0hFUkUgdGFnID0gP2AsXG5cbiAgR0VUX0RFQ0tfQllfRklMRVBBVEg6IGBTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIGZpbGVwYXRoID0gP2AsXG5cbiAgR0VUX0RFQ0tfQllfSUQ6IGBTRUxFQ1QgKiBGUk9NIGRlY2tzIFdIRVJFIGlkID0gP2AsXG5cbiAgR0VUX0FMTF9ERUNLUzogYFNFTEVDVCAqIEZST00gZGVja3MgT1JERVIgQlkgbmFtZWAsXG5cbiAgVVBEQVRFX0RFQ0tfVElNRVNUQU1QOiBgXG4gICAgVVBEQVRFIGRlY2tzXG4gICAgU0VUIG1vZGlmaWVkID0gP1xuICAgIFdIRVJFIGlkID0gP1xuICBgLFxuXG4gIFVQREFURV9ERUNLX0xBU1RfUkVWSUVXRUQ6IGBcbiAgICBVUERBVEUgZGVja3NcbiAgICBTRVQgbGFzdF9yZXZpZXdlZCA9ID8sIG1vZGlmaWVkID0gP1xuICAgIFdIRVJFIGlkID0gP1xuICBgLFxuXG4gIFJFTkFNRV9ERUNLOiBgXG4gICAgVVBEQVRFIGRlY2tzXG4gICAgU0VUIGlkID0gPywgbmFtZSA9ID8sIGZpbGVwYXRoID0gPywgbW9kaWZpZWQgPSA/XG4gICAgV0hFUkUgaWQgPSA/XG4gIGAsXG5cbiAgREVMRVRFX0RFQ0tfQllfRklMRVBBVEg6IGBERUxFVEUgRlJPTSBkZWNrcyBXSEVSRSBmaWxlcGF0aCA9ID9gLFxuXG4gIERFTEVURV9ERUNLOiBgREVMRVRFIEZST00gZGVja3MgV0hFUkUgaWQgPSA/YCxcblxuICAvLyBGbGFzaGNhcmQgb3BlcmF0aW9uc1xuICBJTlNFUlRfRkxBU0hDQVJEOiBgXG4gICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBmbGFzaGNhcmRzIChcbiAgICAgIGlkLCBkZWNrX2lkLCBmcm9udCwgYmFjaywgdHlwZSwgc291cmNlX2ZpbGUsIGNvbnRlbnRfaGFzaCxcbiAgICAgIGhlYWRlcl9sZXZlbCwgc3RhdGUsIGR1ZV9kYXRlLCBpbnRlcnZhbCwgcmVwZXRpdGlvbnMsXG4gICAgICBkaWZmaWN1bHR5LCBzdGFiaWxpdHksIGxhcHNlcywgbGFzdF9yZXZpZXdlZCwgY3JlYXRlZCwgbW9kaWZpZWRcbiAgICApIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylcbiAgYCxcblxuICBERUxFVEVfRkxBU0hDQVJEOiBgREVMRVRFIEZST00gZmxhc2hjYXJkcyBXSEVSRSBpZCA9ID9gLFxuXG4gIFVQREFURV9GTEFTSENBUkRfREVDS19JRFM6IGBcbiAgICBVUERBVEUgZmxhc2hjYXJkcyBTRVQgZGVja19pZCA9ID8gV0hFUkUgZGVja19pZCA9ID9cbiAgYCxcblxuICBHRVRfRkxBU0hDQVJEU19CWV9ERUNLOiBgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzIFdIRVJFIGRlY2tfaWQgPSA/IE9SREVSIEJZIGNyZWF0ZWRgLFxuXG4gIEdFVF9EVUVfRkxBU0hDQVJEUzogYFNFTEVDVCAqIEZST00gZmxhc2hjYXJkcyBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gPyBPUkRFUiBCWSBkdWVfZGF0ZWAsXG5cbiAgREVMRVRFX0ZMQVNIQ0FSRFNfQllfRklMRTogYERFTEVURSBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgc291cmNlX2ZpbGUgPSA/YCxcblxuICBHRVRfTkVXX0NBUkRTX0ZPUl9SRVZJRVc6IGBcbiAgICBTRUxFQ1QgKiBGUk9NIGZsYXNoY2FyZHNcbiAgICBXSEVSRSBkZWNrX2lkID0gPyBBTkQgZHVlX2RhdGUgPD0gPyBBTkQgc3RhdGUgPSAnbmV3J1xuICAgIE9SREVSIEJZIGR1ZV9kYXRlXG4gIGAsXG5cbiAgR0VUX1JFVklFV19DQVJEU19GT1JfUkVWSUVXOiBgXG4gICAgU0VMRUNUICogRlJPTSBmbGFzaGNhcmRzXG4gICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIGR1ZV9kYXRlIDw9ID8gQU5EIHN0YXRlID0gJ3JldmlldydcbiAgICBPUkRFUiBCWSBkdWVfZGF0ZVxuICBgLFxuXG4gIC8vIFJldmlldyBsb2cgb3BlcmF0aW9uc1xuICBJTlNFUlRfUkVWSUVXX0xPRzogYFxuICAgIElOU0VSVCBJTlRPIHJldmlld19sb2dzIChcbiAgICAgIGlkLCBmbGFzaGNhcmRfaWQsIGxhc3RfcmV2aWV3ZWRfYXQsIHNob3duX2F0LCByZXZpZXdlZF9hdCxcbiAgICAgIHJhdGluZywgcmF0aW5nX2xhYmVsLCB0aW1lX2VsYXBzZWRfbXMsXG4gICAgICBvbGRfc3RhdGUsIG9sZF9yZXBldGl0aW9ucywgb2xkX2xhcHNlcywgb2xkX3N0YWJpbGl0eSwgb2xkX2RpZmZpY3VsdHksXG4gICAgICBuZXdfc3RhdGUsIG5ld19yZXBldGl0aW9ucywgbmV3X2xhcHNlcywgbmV3X3N0YWJpbGl0eSwgbmV3X2RpZmZpY3VsdHksXG4gICAgICBvbGRfaW50ZXJ2YWxfbWludXRlcywgbmV3X2ludGVydmFsX21pbnV0ZXMsIG9sZF9kdWVfYXQsIG5ld19kdWVfYXQsXG4gICAgICBlbGFwc2VkX2RheXMsIHJldHJpZXZhYmlsaXR5LFxuICAgICAgcmVxdWVzdF9yZXRlbnRpb24sIHByb2ZpbGUsIG1heGltdW1faW50ZXJ2YWxfZGF5cywgbWluX21pbnV0ZXMsXG4gICAgICBmc3JzX3dlaWdodHNfdmVyc2lvbiwgc2NoZWR1bGVyX3ZlcnNpb24sXG4gICAgICBub3RlX21vZGVsX2lkLCBjYXJkX3RlbXBsYXRlX2lkLCBjb250ZW50X2hhc2gsIGNsaWVudFxuICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICBgLFxuXG4gIEdFVF9MQVRFU1RfUkVWSUVXX0xPRzogYFxuICAgIFNFTEVDVFxuICAgICAgcmwuaWQsIHJsLmZsYXNoY2FyZF9pZCwgcmwubGFzdF9yZXZpZXdlZF9hdCwgcmwuc2hvd25fYXQsIHJsLnJldmlld2VkX2F0LFxuICAgICAgcmwucmF0aW5nLCBybC5yYXRpbmdfbGFiZWwsIHJsLnRpbWVfZWxhcHNlZF9tcyxcbiAgICAgIHJsLm9sZF9zdGF0ZSwgcmwub2xkX3JlcGV0aXRpb25zLCBybC5vbGRfbGFwc2VzLCBybC5vbGRfc3RhYmlsaXR5LCBybC5vbGRfZGlmZmljdWx0eSxcbiAgICAgIHJsLm5ld19zdGF0ZSwgcmwubmV3X3JlcGV0aXRpb25zLCBybC5uZXdfbGFwc2VzLCBybC5uZXdfc3RhYmlsaXR5LCBybC5uZXdfZGlmZmljdWx0eSxcbiAgICAgIHJsLm9sZF9pbnRlcnZhbF9taW51dGVzLCBybC5uZXdfaW50ZXJ2YWxfbWludXRlcywgcmwub2xkX2R1ZV9hdCwgcmwubmV3X2R1ZV9hdCxcbiAgICAgIHJsLmVsYXBzZWRfZGF5cywgcmwucmV0cmlldmFiaWxpdHksXG4gICAgICBybC5yZXF1ZXN0X3JldGVudGlvbiwgcmwucHJvZmlsZSwgcmwubWF4aW11bV9pbnRlcnZhbF9kYXlzLCBybC5taW5fbWludXRlcyxcbiAgICAgIHJsLmZzcnNfd2VpZ2h0c192ZXJzaW9uLCBybC5zY2hlZHVsZXJfdmVyc2lvbixcbiAgICAgIHJsLm5vdGVfbW9kZWxfaWQsIHJsLmNhcmRfdGVtcGxhdGVfaWQsIHJsLmNvbnRlbnRfaGFzaCwgcmwuY2xpZW50XG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLmZsYXNoY2FyZF9pZCA9ID9cbiAgICBPUkRFUiBCWSBybC5yZXZpZXdlZF9hdCBERVNDXG4gICAgTElNSVQgMVxuICBgLFxuXG4gIC8vIERhaWx5IHJldmlldyBjb3VudHNcbiAgQ09VTlRfTkVXX0NBUkRTX1RPREFZOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcmV2aWV3X2xvZ3MgcmxcbiAgICBKT0lOIGZsYXNoY2FyZHMgZiBPTiBybC5mbGFzaGNhcmRfaWQgPSBmLmlkXG4gICAgV0hFUkUgZi5kZWNrX2lkID0gP1xuICAgICAgQU5EIHJsLnJldmlld2VkX2F0ID49ID9cbiAgICAgIEFORCBybC5yZXZpZXdlZF9hdCA8PSA/XG4gICAgICBBTkQgKHJsLm9sZF9pbnRlcnZhbF9taW51dGVzID0gMCBPUiBmLnJlcGV0aXRpb25zID0gMSlcbiAgYCxcblxuICBDT1VOVF9SRVZJRVdfQ0FSRFNfVE9EQVk6IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIEpPSU4gZmxhc2hjYXJkcyBmIE9OIHJsLmZsYXNoY2FyZF9pZCA9IGYuaWRcbiAgICBXSEVSRSBmLmRlY2tfaWQgPSA/XG4gICAgICBBTkQgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1xuICAgICAgQU5EIHJsLm9sZF9pbnRlcnZhbF9taW51dGVzID4gMFxuICBgLFxuXG4gIC8vIFN0YXRpc3RpY3MgcXVlcmllc1xuICBDT1VOVF9ORVdfQ0FSRFM6IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzXG4gICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIHN0YXRlID0gJ25ldycgQU5EIGR1ZV9kYXRlIDw9ID9cbiAgYCxcblxuICBDT1VOVF9EVUVfQ0FSRFM6IGBcbiAgICBTRUxFQ1QgQ09VTlQoKikgRlJPTSBmbGFzaGNhcmRzXG4gICAgV0hFUkUgZGVja19pZCA9ID8gQU5EIHN0YXRlID0gJ3JldmlldycgQU5EIGR1ZV9kYXRlIDw9ID9cbiAgYCxcblxuICBDT1VOVF9UT1RBTF9DQVJEUzogYFxuICAgIFNFTEVDVCBDT1VOVCgqKSBGUk9NIGZsYXNoY2FyZHMgV0hFUkUgZGVja19pZCA9ID9cbiAgYCxcblxuICBHRVRfUkVWSUVXX0NPVU5UU19CWV9EQVRFOiBgXG4gICAgU0VMRUNUIERBVEUocmV2aWV3ZWRfYXQpIGFzIHJldmlld19kYXRlLCBDT1VOVCgqKSBhcyBjb3VudFxuICAgIEZST00gcmV2aWV3X2xvZ3NcbiAgICBXSEVSRSByZXZpZXdlZF9hdCA+PSA/IEFORCByZXZpZXdlZF9hdCA8PSA/XG4gICAgR1JPVVAgQlkgREFURShyZXZpZXdlZF9hdClcbiAgICBPUkRFUiBCWSByZXZpZXdfZGF0ZVxuICBgLFxuXG4gIC8vIE1pZ3JhdGlvbiBoZWxwZXJzXG4gIENIRUNLX0VYSVNUSU5HX1RBQkxFUzogYFxuICAgIFNFTEVDVCBuYW1lIEZST00gc3FsaXRlX21hc3RlclxuICAgIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZSBJTiAoJ2RlY2tzJywgJ2ZsYXNoY2FyZHMnLCAncmV2aWV3X2xvZ3MnKVxuICBgLFxuXG4gIC8vIFN0YXRpc3RpY3MgcXVlcmllcyBmb3Igb3ZlcmFsbCBzdGF0c1xuICBHRVRfREFJTFlfU1RBVFM6IGBcbiAgICBTRUxFQ1RcbiAgICAgIERBVEUocmV2aWV3ZWRfYXQpIGFzIGRhdGUsXG4gICAgICBDT1VOVCgqKSBhcyByZXZpZXdzLFxuICAgICAgQVZHKHRpbWVfZWxhcHNlZF9tcyAvIDEwMDAuMCkgYXMgYXZnX3RpbWVfc2Vjb25kcyxcbiAgICAgIFNVTShDQVNFIFdIRU4gb2xkX3JlcGV0aXRpb25zID0gMCBUSEVOIDEgRUxTRSAwIEVORCkgYXMgbmV3X2NhcmRzLFxuICAgICAgU1VNKENBU0UgV0hFTiBvbGRfcmVwZXRpdGlvbnMgPiAwIEFORCBvbGRfcmVwZXRpdGlvbnMgPCAzIFRIRU4gMSBFTFNFIDAgRU5EKSBhcyBsZWFybmluZ19jYXJkcyxcbiAgICAgIFNVTShDQVNFIFdIRU4gb2xkX3JlcGV0aXRpb25zID49IDMgVEhFTiAxIEVMU0UgMCBFTkQpIGFzIHJldmlld19jYXJkcyxcbiAgICAgIEFWRyhDQVNFIFdIRU4gcmF0aW5nID49IDMgVEhFTiAxLjAgRUxTRSAwLjAgRU5EKSBhcyBjb3JyZWN0X3JhdGVcbiAgICBGUk9NIHJldmlld19sb2dzIHJsXG4gICAgV0hFUkUgcmwucmV2aWV3ZWRfYXQgPj0gPyBBTkQgcmwucmV2aWV3ZWRfYXQgPD0gP1xuICAgIEdST1VQIEJZIERBVEUocmV2aWV3ZWRfYXQpXG4gICAgT1JERVIgQlkgZGF0ZVxuICBgLFxuXG4gIEdFVF9EQUlMWV9TVEFUU19PVkVSQUxMOiBgXG4gICAgU0VMRUNUXG4gICAgICBEQVRFKHJldmlld2VkX2F0KSBhcyBkYXRlLFxuICAgICAgQ09VTlQoKikgYXMgcmV2aWV3cyxcbiAgICAgIENPVU5UKENBU0UgV0hFTiBkaWZmaWN1bHR5ICE9ICdhZ2FpbicgVEhFTiAxIEVORCkgYXMgY29ycmVjdCxcbiAgICAgIENPVU5UKENBU0UgV0hFTiBmLnN0YXRlID0gJ25ldycgVEhFTiAxIEVORCkgYXMgbmV3X2NhcmRzLFxuICAgICAgQ09VTlQoQ0FTRSBXSEVOIGYuc3RhdGUgPSAncmV2aWV3JyBUSEVOIDEgRU5EKSBhcyByZXZpZXdfY2FyZHNcbiAgICBGUk9NIHJldmlld19sb2dzIHJsXG4gICAgSk9JTiBmbGFzaGNhcmRzIGYgT04gcmwuZmxhc2hjYXJkX2lkID0gZi5pZFxuICAgIFdIRVJFIERBVEUocmV2aWV3ZWRfYXQpID49IERBVEUoPylcbiAgICBHUk9VUCBCWSBEQVRFKHJldmlld2VkX2F0KVxuICAgIE9SREVSIEJZIGRhdGUgREVTQ1xuICBgLFxuXG4gIEdFVF9DQVJEX1NUQVRTOiBgXG4gICAgU0VMRUNUXG4gICAgICBmLnN0YXRlLFxuICAgICAgQ09VTlQoKikgYXMgY291bnQsXG4gICAgICBBVkcoZi5yZXBldGl0aW9ucykgYXMgYXZnX3JlcGV0aXRpb25zXG4gICAgRlJPTSBmbGFzaGNhcmRzIGZcbiAgICBHUk9VUCBCWSBmLnN0YXRlXG4gIGAsXG5cbiAgR0VUX0FOU1dFUl9CVVRUT05fU1RBVFM6IGBcbiAgICBTRUxFQ1RcbiAgICAgIHJsLnJhdGluZ19sYWJlbCxcbiAgICAgIENPVU5UKCopIGFzIGNvdW50XG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICBHUk9VUCBCWSBybC5yYXRpbmdfbGFiZWxcbiAgYCxcblxuICBHRVRfSU5URVJWQUxfRElTVFJJQlVUSU9OOiBgXG4gICAgU0VMRUNUXG4gICAgICBDQVNFXG4gICAgICAgIFdIRU4gZi5pbnRlcnZhbCA8IDE0NDAgVEhFTiAnPDFkJ1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCAxMDA4MCBUSEVOICcxLTdkJ1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCA0MzIwMCBUSEVOICcxLTR3J1xuICAgICAgICBXSEVOIGYuaW50ZXJ2YWwgPCAxMjk2MDAgVEhFTiAnMS0zbSdcbiAgICAgICAgV0hFTiBmLmludGVydmFsIDwgNTI1NjAwIFRIRU4gJzMtMTJtJ1xuICAgICAgICBFTFNFICc+MXknXG4gICAgICBFTkQgYXMgaW50ZXJ2YWxfcmFuZ2UsXG4gICAgICBDT1VOVCgqKSBhcyBjb3VudFxuICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgV0hFUkUgZi5zdGF0ZSA9ICdyZXZpZXcnXG4gICAgR1JPVVAgQlkgaW50ZXJ2YWxfcmFuZ2VcbiAgICBPUkRFUiBCWVxuICAgICAgQ0FTRSBpbnRlcnZhbF9yYW5nZVxuICAgICAgICBXSEVOICc8MWQnIFRIRU4gMVxuICAgICAgICBXSEVOICcxLTdkJyBUSEVOIDJcbiAgICAgICAgV0hFTiAnMS00dycgVEhFTiAzXG4gICAgICAgIFdIRU4gJzEtM20nIFRIRU4gNFxuICAgICAgICBXSEVOICczLTEybScgVEhFTiA1XG4gICAgICAgIFdIRU4gJz4xeScgVEhFTiA2XG4gICAgICBFTkRcbiAgYCxcblxuICBHRVRfRk9SRUNBU1RfRFVFX0NPVU5UOiBgXG4gICAgU0VMRUNUIENPVU5UKCopIGFzIGR1ZV9jb3VudFxuICAgIEZST00gZmxhc2hjYXJkcyBmXG4gICAgV0hFUkUgREFURShmLmR1ZV9kYXRlKSA9IERBVEUoPylcbiAgYCxcblxuICBHRVRfUEFDRV9TVEFUUzogYFxuICAgIFNFTEVDVFxuICAgICAgQVZHKHJsLnRpbWVfZWxhcHNlZF9tcyAvIDEwMDAuMCkgYXMgYXZnX3BhY2UsXG4gICAgICBTVU0ocmwudGltZV9lbGFwc2VkX21zIC8gMTAwMC4wKSBhcyB0b3RhbF90aW1lXG4gICAgRlJPTSByZXZpZXdfbG9ncyBybFxuICAgIFdIRVJFIHJsLnJldmlld2VkX2F0ID49ID8gQU5EIHJsLnJldmlld2VkX2F0IDw9ID9cbiAgICAgIEFORCBybC50aW1lX2VsYXBzZWRfbXMgSVMgTk9UIE5VTExcbiAgICAgIEFORCBybC50aW1lX2VsYXBzZWRfbXMgPiAwXG4gIGAsXG59O1xuIiwgImltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcInNxbC5qc1wiO1xuaW1wb3J0IHtcbiAgQ1JFQVRFX1RBQkxFU19TUUwsXG4gIENVUlJFTlRfU0NIRU1BX1ZFUlNJT04sXG4gIE1JR1JBVEVfVEFCTEVTX1NRTCxcbn0gZnJvbSBcIi4vc2NoZW1hc1wiO1xuXG4vLyBNaWdyYXRpb24gaGVscGVyIGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTY2hlbWFWZXJzaW9uKGRiOiBEYXRhYmFzZSk6IG51bWJlciB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoYFBSQUdNQSB1c2VyX3ZlcnNpb25gKTtcbiAgICBsZXQgdmVyc2lvbiA9IDA7XG4gICAgaWYgKHN0bXQuc3RlcCgpKSB7XG4gICAgICBjb25zdCByb3cgPSBzdG10LmdldCgpO1xuICAgICAgdmVyc2lvbiA9IE51bWJlcihyb3dbMF0pIHx8IDA7XG4gICAgfVxuICAgIHN0bXQuZnJlZSgpO1xuICAgIHJldHVybiB2ZXJzaW9uO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZWVkc01pZ3JhdGlvbihkYjogRGF0YWJhc2UpOiBib29sZWFuIHtcbiAgcmV0dXJuIGdldEN1cnJlbnRTY2hlbWFWZXJzaW9uKGRiKSAhPT0gQ1VSUkVOVF9TQ0hFTUFfVkVSU0lPTjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGZyZXNoIGRhdGFiYXNlIHRhYmxlcyB3aGVuIG5vIGRhdGFiYXNlIGZpbGUgZXhpc3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUYWJsZXMoXG4gIGRiOiBEYXRhYmFzZSxcbiAgZGVidWdMb2c/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkLFxuKTogdm9pZCB7XG4gIGNvbnN0IGxvZyA9IGRlYnVnTG9nIHx8ICgoKSA9PiB7fSk7XG5cbiAgdHJ5IHtcbiAgICBsb2coYENyZWF0aW5nIGZyZXNoIGRhdGFiYXNlIHNjaGVtYSAodmVyc2lvbiAke0NVUlJFTlRfU0NIRU1BX1ZFUlNJT059KWApO1xuICAgIGRiLnJ1bihDUkVBVEVfVEFCTEVTX1NRTCk7XG4gICAgbG9nKGBcdTI3MDUgRGF0YWJhc2Ugc2NoZW1hIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKGBcdTI3NEMgU2NoZW1hIGNyZWF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFNjaGVtYSBjcmVhdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gIH1cbn1cblxuLyoqXG4gKiBNaWdyYXRlcyBleGlzdGluZyBkYXRhYmFzZSB3aGVuIHNjaGVtYSB2ZXJzaW9uIGRvZXNuJ3QgbWF0Y2ggY3VycmVudCB2ZXJzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaWdyYXRlKFxuICBkYjogRGF0YWJhc2UsXG4gIGRlYnVnTG9nPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCxcbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkZWJ1Z0xvZyB8fCAoKCkgPT4ge30pO1xuICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IGdldEN1cnJlbnRTY2hlbWFWZXJzaW9uKGRiKTtcblxuICBpZiAoY3VycmVudFZlcnNpb24gPT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICBsb2coYFNjaGVtYSBpcyBhbHJlYWR5IHVwIHRvIGRhdGUgKHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfSlgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2coXG4gICAgYE1pZ3JhdGluZyBzY2hlbWEgZnJvbSB2ZXJzaW9uICR7Y3VycmVudFZlcnNpb259IHRvICR7Q1VSUkVOVF9TQ0hFTUFfVkVSU0lPTn1gLFxuICApO1xuXG4gIHRyeSB7XG4gICAgZGIucnVuKE1JR1JBVEVfVEFCTEVTX1NRTCk7XG4gICAgbG9nKGBcdTI3MDUgTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coYFx1Mjc0QyBNaWdyYXRpb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgIHRocm93IG5ldyBFcnJvcihgTWlncmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFRGaWxlLCBWYXVsdCwgTWV0YWRhdGFDYWNoZSwgQ2FjaGVkTWV0YWRhdGEsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtcbiAgRGVjayxcbiAgRmxhc2hjYXJkLFxuICBSZXZpZXdMb2csXG4gIERFRkFVTFRfREVDS19DT05GSUcsXG59IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHsgRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSBcIi4uL2RhdGFiYXNlL0RhdGFiYXNlU2VydmljZVwiO1xuaW1wb3J0IERlY2tzUGx1Z2luIGZyb20gXCJAL21haW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRGbGFzaGNhcmQge1xuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmc7XG4gIHR5cGU6IFwiaGVhZGVyLXBhcmFncmFwaFwiIHwgXCJ0YWJsZVwiO1xuICBoZWFkZXJMZXZlbD86IG51bWJlcjsgLy8gSGVhZGVyIGxldmVsICgxLTYpIGZvciBoZWFkZXItcGFyYWdyYXBoIGNhcmRzLCBudWxsIGZvciB0YWJsZSBjYXJkc1xufVxuXG5leHBvcnQgY2xhc3MgRGVja01hbmFnZXIge1xuICBwcml2YXRlIHZhdWx0OiBWYXVsdDtcbiAgcHJpdmF0ZSBtZXRhZGF0YUNhY2hlOiBNZXRhZGF0YUNhY2hlO1xuICBwcml2YXRlIGRiOiBEYXRhYmFzZVNlcnZpY2U7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbiB8IHVuZGVmaW5lZDsgLy8gUGx1Z2luIHJlZmVyZW5jZSBmb3IgZGVidWcgbG9nZ2luZ1xuXG4gIC8vIFByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEhFQURFUl9SRUdFWCA9IC9eKCN7MSw2fSlcXHMrLztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFCTEVfUk9XX1JFR0VYID0gL15cXHwuKlxcfCQvO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUJMRV9TRVBBUkFUT1JfUkVHRVggPSAvXlxcfFtcXHMtXStcXHxbXFxzLV0rXFx8JC87XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmF1bHQ6IFZhdWx0LFxuICAgIG1ldGFkYXRhQ2FjaGU6IE1ldGFkYXRhQ2FjaGUsXG4gICAgZGI6IERhdGFiYXNlU2VydmljZSxcbiAgICBwbHVnaW4/OiBEZWNrc1BsdWdpbixcbiAgKSB7XG4gICAgdGhpcy52YXVsdCA9IHZhdWx0O1xuICAgIHRoaXMubWV0YWRhdGFDYWNoZSA9IG1ldGFkYXRhQ2FjaGU7XG4gICAgdGhpcy5kYiA9IGRiO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHRpbWluZyBvcGVyYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRpbWUobXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1zIDwgMTAwMCkge1xuICAgICAgcmV0dXJuIGAke21zLnRvRml4ZWQoMil9bXNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7KG1zIC8gMTAwMCkudG9GaXhlZCgyKX1zYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LmRlYnVnTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5kZWJ1Z0xvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBlcmZvcm1hbmNlTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbHVnaW4/LnBlcmZvcm1hbmNlTG9nKSB7XG4gICAgICB0aGlzLnBsdWdpbi5wZXJmb3JtYW5jZUxvZyhtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NhbiB2YXVsdCBmb3IgYWxsIGRlY2tzIChmaWxlcyB3aXRoICNmbGFzaGNhcmRzIHRhZ3MpXG4gICAqL1xuICBhc3luYyBzY2FuVmF1bHRGb3JEZWNrcygpOiBQcm9taXNlPE1hcDxzdHJpbmcsIFRGaWxlW10+PiB7XG4gICAgY29uc3QgZGVja3NNYXAgPSBuZXcgTWFwPHN0cmluZywgVEZpbGVbXT4oKTtcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgIHRoaXMuZGVidWdMb2coYFNjYW5uaW5nICR7ZmlsZXMubGVuZ3RofSBtYXJrZG93biBmaWxlcyBmb3IgZmxhc2hjYXJkIHRhZ3NgKTtcblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBObyBtZXRhZGF0YSBmb3IgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQ2hlY2tpbmcgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cbiAgICAgIGNvbnN0IGFsbFRhZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIC8vIENoZWNrIGlubGluZSB0YWdzXG4gICAgICBpZiAobWV0YWRhdGEudGFncykge1xuICAgICAgICBjb25zdCBpbmxpbmVUYWdzID0gbWV0YWRhdGEudGFncy5tYXAoKHQpID0+IHQudGFnKTtcbiAgICAgICAgYWxsVGFncy5wdXNoKC4uLmlubGluZVRhZ3MpO1xuICAgICAgICB0aGlzLmRlYnVnTG9nKGBGaWxlICR7ZmlsZS5wYXRofSBoYXMgaW5saW5lIHRhZ3M6YCwgaW5saW5lVGFncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZyb250bWF0dGVyIHRhZ3NcbiAgICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlciAmJiBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKSB7XG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyVGFncyA9IEFycmF5LmlzQXJyYXkobWV0YWRhdGEuZnJvbnRtYXR0ZXIudGFncylcbiAgICAgICAgICA/IG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NcbiAgICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcblxuICAgICAgICAvLyBBZGQgIyBwcmVmaXggaWYgbm90IHByZXNlbnRcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFRhZ3MgPSBmcm9udG1hdHRlclRhZ3MubWFwKCh0YWc6IHN0cmluZykgPT5cbiAgICAgICAgICB0YWcuc3RhcnRzV2l0aChcIiNcIikgPyB0YWcgOiBgIyR7dGFnfWAsXG4gICAgICAgICk7XG4gICAgICAgIGFsbFRhZ3MucHVzaCguLi5ub3JtYWxpemVkVGFncyk7XG4gICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgYEZpbGUgJHtmaWxlLnBhdGh9IGhhcyBmcm9udG1hdHRlciB0YWdzOmAsXG4gICAgICAgICAgbm9ybWFsaXplZFRhZ3MsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxUYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vayBmb3IgI2ZsYXNoY2FyZHMgdGFnc1xuICAgICAgY29uc3QgZmxhc2hjYXJkVGFncyA9IGFsbFRhZ3MuZmlsdGVyKCh0YWcpID0+XG4gICAgICAgIHRhZy5zdGFydHNXaXRoKFwiI2ZsYXNoY2FyZHNcIiksXG4gICAgICApO1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhgQWxsIHRhZ3MgZm9yICR7ZmlsZS5wYXRofTpgLCBhbGxUYWdzKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEZsYXNoY2FyZCB0YWdzIGZvciAke2ZpbGUucGF0aH06YCwgZmxhc2hjYXJkVGFncyk7XG5cbiAgICAgIGZvciAoY29uc3QgdGFnIG9mIGZsYXNoY2FyZFRhZ3MpIHtcbiAgICAgICAgaWYgKCFkZWNrc01hcC5oYXModGFnKSkge1xuICAgICAgICAgIGRlY2tzTWFwLnNldCh0YWcsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNrc01hcC5nZXQodGFnKSEucHVzaChmaWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnTG9nKGBGb3VuZCAke2RlY2tzTWFwLnNpemV9IGRlY2tzOmAsIEFycmF5LmZyb20oZGVja3NNYXAua2V5cygpKSk7XG4gICAgcmV0dXJuIGRlY2tzTWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZGVja3Mgd2l0aCBkYXRhYmFzZVxuICAgKi9cbiAgYXN5bmMgc3luY0RlY2tzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN5bmNEZWNrc1N0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiU3RhcnRpbmcgZGVjayBzeW5jLi4uXCIpO1xuICAgICAgY29uc3QgZGVja3NNYXAgPSBhd2FpdCB0aGlzLnNjYW5WYXVsdEZvckRlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRGVja3MgZm91bmQgaW4gdmF1bHQ6XCIsIGRlY2tzTWFwKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3MgPSBhd2FpdCB0aGlzLmRiLmdldEFsbERlY2tzKCk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFwiRXhpc3RpbmcgZGVja3MgaW4gZGF0YWJhc2U6XCIsIGV4aXN0aW5nRGVja3MpO1xuXG4gICAgICAvLyBDcmVhdGUgYSBtYXAgb2YgZXhpc3RpbmcgZGVja3MgYnkgZmlsZSBwYXRoIGZvciBxdWljayBsb29rdXBcbiAgICAgIGNvbnN0IGV4aXN0aW5nRGVja3NCeUZpbGUgPSBuZXcgTWFwPHN0cmluZywgRGVjaz4oKTtcbiAgICAgIGZvciAoY29uc3QgZGVjayBvZiBleGlzdGluZ0RlY2tzKSB7XG4gICAgICAgIGV4aXN0aW5nRGVja3NCeUZpbGUuc2V0KGRlY2suZmlsZXBhdGgsIGRlY2spO1xuICAgICAgfVxuXG4gICAgICBsZXQgbmV3RGVja3NDcmVhdGVkID0gMDtcbiAgICAgIGxldCB0b3RhbEZpbGVzID0gMDtcblxuICAgICAgLy8gUHJvY2VzcyBlYWNoIGZpbGUgYXMgaXRzIG93biBkZWNrXG4gICAgICBmb3IgKGNvbnN0IFt0YWcsIGZpbGVzXSBvZiBkZWNrc01hcCkge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICB0b3RhbEZpbGVzKys7XG4gICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG4gICAgICAgICAgY29uc3QgZGVja05hbWUgPSBmaWxlLmJhc2VuYW1lOyAvLyBVc2UgZmlsZSBiYXNlbmFtZSBhcyBkZWNrIG5hbWVcblxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGV4aXN0aW5nRGVja3NCeUZpbGUuZ2V0KGZpbGVQYXRoKTtcblxuICAgICAgICAgIHRoaXMuZGVidWdMb2coYENoZWNraW5nIGZpbGU6ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgIGBFeGlzdGluZyBkZWNrIGZvdW5kOmAsXG4gICAgICAgICAgICBleGlzdGluZ0RlY2sgPyBgWUVTIChJRDogJHtleGlzdGluZ0RlY2suaWR9KWAgOiBcIk5PXCIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChleGlzdGluZ0RlY2spIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBkZWNrIGlmIHRhZyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdEZWNrLnRhZyAhPT0gdGFnKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYFVwZGF0aW5nIGRlY2sgXCIke2RlY2tOYW1lfVwiIHRhZyBmcm9tICR7ZXhpc3RpbmdEZWNrLnRhZ30gdG8gJHt0YWd9YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi51cGRhdGVEZWNrKGV4aXN0aW5nRGVjay5pZCwge1xuICAgICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICAgICAgYERlY2sgXCIke2RlY2tOYW1lfVwiIGFscmVhZHkgZXhpc3RzIHdpdGggY29ycmVjdCB0YWcsIG5vIHVwZGF0ZSBuZWVkZWRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGRlY2sgZm9yIHRoaXMgZmlsZVxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGxldCBkZWNrTW9kVGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRlVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSk7XG4gICAgICAgICAgICAgIC8vIFVzZSB0aGUgZWFybGllciBvZiBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lIG9yIGZpbGUgY3JlYXRpb24gdGltZVxuICAgICAgICAgICAgICBkZWNrTW9kVGltZSA9XG4gICAgICAgICAgICAgICAgZmlsZU1vZFRpbWUgPCBmaWxlQ3JlYXRlVGltZSA/IGZpbGVNb2RUaW1lIDogZmlsZUNyZWF0ZVRpbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlY2s6IE9taXQ8RGVjaywgXCJjcmVhdGVkXCI+ID0ge1xuICAgICAgICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZURlY2tJZChmaWxlUGF0aCksXG4gICAgICAgICAgICAgIG5hbWU6IGRlY2tOYW1lLCAvLyBTdG9yZSBjbGVhbiBmaWxlIG5hbWVcbiAgICAgICAgICAgICAgZmlsZXBhdGg6IGZpbGVQYXRoLCAvLyBTdG9yZSBmdWxsIGZpbGUgcGF0aCBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgICAgICBsYXN0UmV2aWV3ZWQ6IG51bGwsXG4gICAgICAgICAgICAgIGNvbmZpZzogREVGQVVMVF9ERUNLX0NPTkZJRyxcbiAgICAgICAgICAgICAgbW9kaWZpZWQ6IGRlY2tNb2RUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICAgICAgYENyZWF0aW5nIG5ldyBkZWNrOiBcIiR7ZGVja05hbWV9XCIgd2l0aCBJRDogJHtkZWNrLmlkfSwgdGFnOiAke3RhZ30sIGZpbGVwYXRoOiAke2ZpbGVQYXRofWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVEZWNrKGRlY2spO1xuICAgICAgICAgICAgbmV3RGVja3NDcmVhdGVkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFuIHVwIG9ycGhhbmVkIGRlY2tzIChkZWNrcyB3aG9zZSBmaWxlcyBubyBsb25nZXIgZXhpc3QpXG4gICAgICBjb25zdCBhbGxGaWxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgZm9yIChjb25zdCBbdGFnLCBmaWxlc10gb2YgZGVja3NNYXApIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgYWxsRmlsZXMuYWRkKGZpbGUucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGRlbGV0ZWREZWNrcyA9IDA7XG4gICAgICBmb3IgKGNvbnN0IGRlY2sgb2YgZXhpc3RpbmdEZWNrcykge1xuICAgICAgICBpZiAoIWFsbEZpbGVzLmhhcyhkZWNrLmZpbGVwYXRoKSkge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgRGVsZXRpbmcgb3JwaGFuZWQgZGVjazogXCIke2RlY2submFtZX1cIiAoJHtkZWNrLmZpbGVwYXRofSlgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5kZWxldGVEZWNrQnlGaWxlcGF0aChkZWNrLmZpbGVwYXRoKTtcbiAgICAgICAgICBkZWxldGVkRGVja3MrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZC4gUHJvY2Vzc2VkICR7dG90YWxGaWxlc30gZmlsZXMsIGNyZWF0ZWQgJHtuZXdEZWNrc0NyZWF0ZWR9IG5ldyBkZWNrcywgZGVsZXRlZCAke2RlbGV0ZWREZWNrc30gb3JwaGFuZWQgZGVja3MuYCxcbiAgICAgICk7XG4gICAgICBjb25zdCBzeW5jRGVja3NUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzeW5jRGVja3NTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgRGVjayBzeW5jIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJHt0aGlzLmZvcm1hdFRpbWUoc3luY0RlY2tzVGltZSl9ICgke25ld0RlY2tzQ3JlYXRlZH0gY3JlYXRlZCwgJHtkZWxldGVkRGVja3N9IGRlbGV0ZWQpYCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgZGVjayBzeW5jOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IGNhbGxlciBoYW5kbGVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgZmxhc2hjYXJkcyBmcm9tIGEgZmlsZVxuICAgKi9cbiAgYXN5bmMgcGFyc2VGbGFzaGNhcmRzRnJvbUZpbGUoZmlsZTogVEZpbGUpOiBQcm9taXNlPFBhcnNlZEZsYXNoY2FyZFtdPiB7XG4gICAgY29uc3QgcGFyc2VTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIC8vIFJlYWQgYW5kIHBhcnNlIGNvbnRlbnRcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy52YXVsdC5yZWFkKGZpbGUpO1xuICAgIGNvbnN0IHJlYWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwYXJzZVN0YXJ0VGltZTtcblxuICAgIGNvbnN0IHBhcnNlQ29udGVudFN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBhcnNlRmxhc2hjYXJkc0Zyb21Db250ZW50KGNvbnRlbnQpO1xuICAgIGNvbnN0IHBhcnNlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcGFyc2VDb250ZW50U3RhcnRUaW1lO1xuXG4gICAgY29uc3QgdG90YWxUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwYXJzZVN0YXJ0VGltZTtcblxuICAgIHRoaXMucGVyZm9ybWFuY2VMb2coXG4gICAgICBgUGFyc2VkICR7Zmxhc2hjYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgZnJvbSAke2ZpbGUucGF0aH0gaW4gJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX0gKHJlYWQ6ICR7dGhpcy5mb3JtYXRUaW1lKHJlYWRUaW1lKX0sIHBhcnNlOiAke3RoaXMuZm9ybWF0VGltZShwYXJzZVRpbWUpfSlgLFxuICAgICk7XG5cbiAgICByZXR1cm4gZmxhc2hjYXJkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBmbGFzaGNhcmRzIGZyb20gY29udGVudCBzdHJpbmcgKG9wdGltaXplZCBzaW5nbGUtcGFzcyBwYXJzaW5nKVxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZUZsYXNoY2FyZHNGcm9tQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBQYXJzZWRGbGFzaGNhcmRbXSB7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xuICAgIGNvbnN0IGZsYXNoY2FyZHM6IFBhcnNlZEZsYXNoY2FyZFtdID0gW107XG5cbiAgICAvLyBTaW5nbGUgcGFzcyB0aHJvdWdoIGxpbmVzIGZvciBib3RoIHRhYmxlIGFuZCBoZWFkZXIgcGFyc2luZ1xuICAgIGxldCBpblRhYmxlID0gZmFsc2U7XG4gICAgbGV0IGhlYWRlclNlZW4gPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudEhlYWRlcjogeyB0ZXh0OiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50Q29udGVudDogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaW5Gcm9udG1hdHRlciA9IGZhbHNlO1xuICAgIGxldCBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuXG4gICAgLy8gVXNlIHByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gbGluZXNbaV07XG4gICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUudHJpbSgpO1xuXG4gICAgICAvLyBIYW5kbGUgZnJvbnRtYXR0ZXJcbiAgICAgIGlmIChpID09PSAwICYmIHRyaW1tZWRMaW5lID09PSBcIi0tLVwiKSB7XG4gICAgICAgIGluRnJvbnRtYXR0ZXIgPSB0cnVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbkZyb250bWF0dGVyKSB7XG4gICAgICAgIGlmICh0cmltbWVkTGluZSA9PT0gXCItLS1cIikge1xuICAgICAgICAgIGluRnJvbnRtYXR0ZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHRhYmxlIHJvd3NcbiAgICAgIGlmIChEZWNrTWFuYWdlci5UQUJMRV9ST1dfUkVHRVgudGVzdCh0cmltbWVkTGluZSkpIHtcbiAgICAgICAgaWYgKCFpblRhYmxlKSB7XG4gICAgICAgICAgaW5UYWJsZSA9IHRydWU7XG4gICAgICAgICAgaGVhZGVyU2VlbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBoZWFkZXIgYW5kIHNlcGFyYXRvciByb3dzXG4gICAgICAgIGlmICghaGVhZGVyU2Vlbikge1xuICAgICAgICAgIGhlYWRlclNlZW4gPSB0cnVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEZWNrTWFuYWdlci5UQUJMRV9TRVBBUkFUT1JfUkVHRVgudGVzdCh0cmltbWVkTGluZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcnNlIHRhYmxlIHJvd1xuICAgICAgICBjb25zdCBjZWxscyA9IHRyaW1tZWRMaW5lXG4gICAgICAgICAgLnNsaWNlKDEsIC0xKSAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyBwaXBlc1xuICAgICAgICAgIC5zcGxpdChcInxcIilcbiAgICAgICAgICAubWFwKChjZWxsKSA9PiBjZWxsLnRyaW0oKSk7XG5cbiAgICAgICAgaWYgKGNlbGxzLmxlbmd0aCA+PSAyICYmIGNlbGxzWzBdICYmIGNlbGxzWzFdKSB7XG4gICAgICAgICAgZmxhc2hjYXJkcy5wdXNoKHtcbiAgICAgICAgICAgIGZyb250OiBjZWxsc1swXSxcbiAgICAgICAgICAgIGJhY2s6IGNlbGxzWzFdLFxuICAgICAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3QgYSB0YWJsZSByb3csIGVuZCB0YWJsZSBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChpblRhYmxlKSB7XG4gICAgICAgICAgaW5UYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhlYWRlcnNcbiAgICAgICAgY29uc3QgaGVhZGVyTWF0Y2ggPSBEZWNrTWFuYWdlci5IRUFERVJfUkVHRVguZXhlYyhsaW5lKTtcbiAgICAgICAgaWYgKGhlYWRlck1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudEhlYWRlckxldmVsID0gaGVhZGVyTWF0Y2hbMV0ubGVuZ3RoO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHRpdGxlIGhlYWRlcnMgdG8gc2tpcFxuICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eI1xccysvKSAmJiBsaW5lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJmbGFzaGNhcmRcIikpIHtcbiAgICAgICAgICAgIHNraXBOZXh0UGFyYWdyYXBoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVDdXJyZW50SGVhZGVyKFxuICAgICAgICAgICAgICBjdXJyZW50SGVhZGVyLFxuICAgICAgICAgICAgICBjdXJyZW50Q29udGVudCxcbiAgICAgICAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50SGVhZGVyID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZW50ID0gW107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGaW5hbGl6ZSBwcmV2aW91cyBoZWFkZXJcbiAgICAgICAgICB0aGlzLmZpbmFsaXplQ3VycmVudEhlYWRlcihjdXJyZW50SGVhZGVyLCBjdXJyZW50Q29udGVudCwgZmxhc2hjYXJkcyk7XG5cbiAgICAgICAgICAvLyBTdGFydCBuZXcgaGVhZGVyXG4gICAgICAgICAgY3VycmVudEhlYWRlciA9IHtcbiAgICAgICAgICAgIHRleHQ6IGxpbmUsXG4gICAgICAgICAgICBsZXZlbDogY3VycmVudEhlYWRlckxldmVsLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY3VycmVudENvbnRlbnQgPSBbXTtcbiAgICAgICAgICBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHNraXBOZXh0UGFyYWdyYXBoKSB7XG4gICAgICAgICAgaWYgKHRyaW1tZWRMaW5lID09PSBcIlwiKSB7XG4gICAgICAgICAgICBza2lwTmV4dFBhcmFncmFwaCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SGVhZGVyKSB7XG4gICAgICAgICAgLy8gU2tpcCBlbXB0eSBsaW5lcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGNvbnRlbnRcbiAgICAgICAgICBpZiAodHJpbW1lZExpbmUgPT09IFwiXCIgJiYgY3VycmVudENvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudENvbnRlbnQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmFsaXplIGxhc3QgaGVhZGVyXG4gICAgdGhpcy5maW5hbGl6ZUN1cnJlbnRIZWFkZXIoY3VycmVudEhlYWRlciwgY3VycmVudENvbnRlbnQsIGZsYXNoY2FyZHMpO1xuXG4gICAgcmV0dXJuIGZsYXNoY2FyZHM7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGZpbmFsaXplIGN1cnJlbnQgaGVhZGVyIGZsYXNoY2FyZFxuICAgKi9cbiAgcHJpdmF0ZSBmaW5hbGl6ZUN1cnJlbnRIZWFkZXIoXG4gICAgY3VycmVudEhlYWRlcjogeyB0ZXh0OiBzdHJpbmc7IGxldmVsOiBudW1iZXIgfSB8IG51bGwsXG4gICAgY3VycmVudENvbnRlbnQ6IHN0cmluZ1tdLFxuICAgIGZsYXNoY2FyZHM6IFBhcnNlZEZsYXNoY2FyZFtdLFxuICApOiB2b2lkIHtcbiAgICBpZiAoY3VycmVudEhlYWRlciAmJiBjdXJyZW50Q29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICBmbGFzaGNhcmRzLnB1c2goe1xuICAgICAgICBmcm9udDogY3VycmVudEhlYWRlci50ZXh0LnJlcGxhY2UoL14jezEsNn1cXHMrLywgXCJcIiksXG4gICAgICAgIGJhY2s6IGN1cnJlbnRDb250ZW50LmpvaW4oXCJcXG5cIikudHJpbSgpLFxuICAgICAgICB0eXBlOiBcImhlYWRlci1wYXJhZ3JhcGhcIixcbiAgICAgICAgaGVhZGVyTGV2ZWw6IGN1cnJlbnRIZWFkZXIubGV2ZWwsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBiYXRjaCBkYXRhYmFzZSBvcGVyYXRpb25zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUJhdGNoT3BlcmF0aW9ucyhcbiAgICBvcGVyYXRpb25zOiBBcnJheTx7XG4gICAgICB0eXBlOiBcImNyZWF0ZVwiIHwgXCJ1cGRhdGVcIiB8IFwiZGVsZXRlXCI7XG4gICAgICBmbGFzaGNhcmRJZD86IHN0cmluZztcbiAgICAgIGZsYXNoY2FyZD86IE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj47XG4gICAgICB1cGRhdGVzPzogYW55O1xuICAgIH0+LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBiYXRjaFN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IEJBVENIX1NJWkUgPSA1MDtcbiAgICBsZXQgY3JlYXRlQ291bnQgPSAwO1xuICAgIGxldCB1cGRhdGVDb3VudCA9IDA7XG4gICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BlcmF0aW9ucy5sZW5ndGg7IGkgKz0gQkFUQ0hfU0laRSkge1xuICAgICAgY29uc3QgY2h1bmsgPSBvcGVyYXRpb25zLnNsaWNlKGksIGkgKyBCQVRDSF9TSVpFKTtcbiAgICAgIGNvbnN0IGNodW5rU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIC8vIEV4ZWN1dGUgY2h1bmsgb3BlcmF0aW9uc1xuICAgICAgZm9yIChjb25zdCBvcCBvZiBjaHVuaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN3aXRjaCAob3AudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImNyZWF0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5jcmVhdGVGbGFzaGNhcmQob3AuZmxhc2hjYXJkKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInVwZGF0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkSWQgJiYgb3AudXBkYXRlcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRmxhc2hjYXJkKG9wLmZsYXNoY2FyZElkLCBvcC51cGRhdGVzKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxuICAgICAgICAgICAgICBpZiAob3AuZmxhc2hjYXJkSWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLmRlbGV0ZUZsYXNoY2FyZChvcC5mbGFzaGNhcmRJZCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQ291bnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgJHtvcC50eXBlfSBvcGVyYXRpb246YCwgZXJyb3IpO1xuICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgb3BlcmF0aW9uc1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNodW5rVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gY2h1bmtTdGFydFRpbWU7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgICBgQmF0Y2ggJHtNYXRoLmZsb29yKGkgLyBCQVRDSF9TSVpFKSArIDF9OiAke2NodW5rLmxlbmd0aH0gb3BlcmF0aW9ucyBpbiAke3RoaXMuZm9ybWF0VGltZShjaHVua1RpbWUpfWAsXG4gICAgICApO1xuXG4gICAgICAvLyBZaWVsZCBjb250cm9sIGJldHdlZW4gY2h1bmtzXG4gICAgICBpZiAoaSArIEJBVENIX1NJWkUgPCBvcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsQmF0Y2hUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBiYXRjaFN0YXJ0VGltZTtcbiAgICB0aGlzLnBlcmZvcm1hbmNlTG9nKFxuICAgICAgYEJhdGNoIG9wZXJhdGlvbnMgY29tcGxldGVkIGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsQmF0Y2hUaW1lKX0gKCR7Y3JlYXRlQ291bnR9IGNyZWF0ZWQsICR7dXBkYXRlQ291bnR9IHVwZGF0ZWQsICR7ZGVsZXRlQ291bnR9IGRlbGV0ZWQpYCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgZmxhc2hjYXJkcyBmb3IgYSBzcGVjaWZpYyBkZWNrIChmaWxlKVxuICAgKi9cbiAgYXN5bmMgc3luY0ZsYXNoY2FyZHNGb3JEZWNrKFxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGVja1N5bmNTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLmRlYnVnTG9nKGBTeW5jaW5nIGZsYXNoY2FyZHMgZm9yIGRlY2s6ICR7ZmlsZVBhdGh9YCk7XG5cbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlGaWxlcGF0aChmaWxlUGF0aCk7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICB0aGlzLmRlYnVnTG9nKGBObyBkZWNrIGZvdW5kIGZvciBmaWxlcGF0aDogJHtmaWxlUGF0aH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGb3VuZCBkZWNrIElEOiAke2RlY2suaWR9LCBuYW1lOiAke2RlY2submFtZX0sIGZpbGVwYXRoOiAke2RlY2suZmlsZXBhdGh9YCxcbiAgICApO1xuXG4gICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSByZXR1cm47XG5cbiAgICAvLyBHZXQgZmlsZSBtb2RpZmljYXRpb24gdGltZVxuICAgIGNvbnN0IGZpbGVNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuXG4gICAgLy8gQ2hlY2sgaWYgZmlsZSBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSBsYXN0IGRlY2sgdXBkYXRlICh1bmxlc3MgZm9yY2VkKVxuICAgIGlmICghZm9yY2UpIHtcbiAgICAgIGNvbnN0IGRlY2tNb2RpZmllZFRpbWUgPSBuZXcgRGF0ZShkZWNrLm1vZGlmaWVkKTtcbiAgICAgIGlmIChmaWxlTW9kaWZpZWRUaW1lIDw9IGRlY2tNb2RpZmllZFRpbWUpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgRmlsZSAke2ZpbGVQYXRofSBub3QgbW9kaWZpZWQgc2luY2UgbGFzdCBzeW5jLCBza2lwcGluZ2AsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGaWxlIG1vZGlmaWVkOiAke2ZpbGVNb2RpZmllZFRpbWUudG9JU09TdHJpbmcoKX0sIGxhc3Qgc3luYzogJHtkZWNrLm1vZGlmaWVkfWAsXG4gICAgKTtcblxuICAgIC8vIEdldCBleGlzdGluZyBmbGFzaGNhcmRzIGZvciB0aGlzIGRlY2tcbiAgICBjb25zdCBleGlzdGluZ0ZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVjay5pZCk7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBGb3VuZCAke2V4aXN0aW5nRmxhc2hjYXJkcy5sZW5ndGh9IGV4aXN0aW5nIGZsYXNoY2FyZHMgZm9yIGRlY2sgJHtkZWNrLm5hbWV9YCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhpc3RpbmdCeUlkID0gbmV3IE1hcDxzdHJpbmcsIEZsYXNoY2FyZD4oKTtcbiAgICBleGlzdGluZ0ZsYXNoY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgZXhpc3RpbmdCeUlkLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEV4aXN0aW5nIGNhcmQgSUQ6ICR7Y2FyZC5pZH0sIEZyb250OiBcIiR7Y2FyZC5mcm9udH1cImApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvY2Vzc2VkSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgZHVwbGljYXRlV2FybmluZ3MgPSBuZXcgU2V0PHN0cmluZz4oKTsgLy8gVHJhY2sgZHVwbGljYXRlcyB0byB3YXJuIG9ubHkgb25jZSBwZXIgZmlsZVxuXG4gICAgLy8gUGFyc2UgZmxhc2hjYXJkcyBmcm9tIHRoZSBmaWxlXG4gICAgY29uc3QgcGFyc2VkQ2FyZHMgPSBhd2FpdCB0aGlzLnBhcnNlRmxhc2hjYXJkc0Zyb21GaWxlKGZpbGUpO1xuICAgIHRoaXMuZGVidWdMb2coYFBhcnNlZCAke3BhcnNlZENhcmRzLmxlbmd0aH0gZmxhc2hjYXJkcyBmcm9tICR7ZmlsZVBhdGh9YCk7XG5cbiAgICAvLyBCYXRjaCBvcGVyYXRpb25zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBjb25zdCBiYXRjaE9wZXJhdGlvbnM6IEFycmF5PHtcbiAgICAgIHR5cGU6IFwiY3JlYXRlXCIgfCBcInVwZGF0ZVwiIHwgXCJkZWxldGVcIjtcbiAgICAgIGZsYXNoY2FyZElkPzogc3RyaW5nO1xuICAgICAgZmxhc2hjYXJkPzogT21pdDxGbGFzaGNhcmQsIFwiY3JlYXRlZFwiIHwgXCJtb2RpZmllZFwiPjtcbiAgICAgIHVwZGF0ZXM/OiBhbnk7XG4gICAgfT4gPSBbXTtcblxuICAgIC8vIFByb2Nlc3MgZmxhc2hjYXJkcyBpbiBjaHVua3MgdG8gYXZvaWQgYmxvY2tpbmcgVUkgd2l0aCBsYXJnZSBkYXRhc2V0c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlZENhcmRzW2ldO1xuICAgICAgY29uc3QgZmxhc2hjYXJkSWQgPSB0aGlzLmdlbmVyYXRlRmxhc2hjYXJkSWQocGFyc2VkLmZyb250KTtcbiAgICAgIGNvbnN0IGNvbnRlbnRIYXNoID0gdGhpcy5nZW5lcmF0ZUNvbnRlbnRIYXNoKHBhcnNlZC5iYWNrKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2FyZCA9IGV4aXN0aW5nQnlJZC5nZXQoZmxhc2hjYXJkSWQpO1xuXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlIGZyb250IHRleHQgd2l0aGluIHRoZSBzYW1lIHBhcnNpbmcgc2Vzc2lvblxuICAgICAgaWYgKHByb2Nlc3NlZElkcy5oYXMoZmxhc2hjYXJkSWQpKSB7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZUtleSA9IGAke2RlY2submFtZX06JHtwYXJzZWQuZnJvbnR9YDtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVXYXJuaW5ncy5oYXMoZHVwbGljYXRlS2V5KSkge1xuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbj8uc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICBgXHUyNkEwXHVGRTBGIER1cGxpY2F0ZSBmbGFzaGNhcmQgZGV0ZWN0ZWQgaW4gXCIke2RlY2submFtZX1cIjogXCIke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgNTApfSR7cGFyc2VkLmZyb250Lmxlbmd0aCA+IDUwID8gXCIuLi5cIiA6IFwiXCJ9XCIuIE9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugd2lsbCBiZSB1c2VkLmAsXG4gICAgICAgICAgICAgIDgwMDAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkdXBsaWNhdGVXYXJuaW5ncy5hZGQoZHVwbGljYXRlS2V5KTtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgYER1cGxpY2F0ZSBmbGFzaGNhcmQgZGV0ZWN0ZWQ6IFwiJHtwYXJzZWQuZnJvbnR9XCIgaW4gZGVjayBcIiR7ZGVjay5uYW1lfVwiYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgZHVwbGljYXRlXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBQcm9jZXNzaW5nIGZsYXNoY2FyZDogXCIke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgNTApfS4uLlwiYCxcbiAgICAgICk7XG4gICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICBgR2VuZXJhdGVkIElEOiAke2ZsYXNoY2FyZElkfSAoZnJvbSBmcm9udDogXCIke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgMzApfS4uLlwiICsgZGVjazogJHtkZWNrLmlkfSlgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYENvbnRlbnQgaGFzaDogJHtjb250ZW50SGFzaH1gKTtcbiAgICAgIHRoaXMuZGVidWdMb2coYEV4aXN0aW5nIGNhcmQgZm91bmQ6YCwgZXhpc3RpbmdDYXJkID8gXCJZRVNcIiA6IFwiTk9cIik7XG5cbiAgICAgIGlmIChleGlzdGluZ0NhcmQpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgRXhpc3RpbmcgY2FyZCAtIElEOiAke2V4aXN0aW5nQ2FyZC5pZH0sIEZyb250OiBcIiR7ZXhpc3RpbmdDYXJkLmZyb250LnN1YnN0cmluZygwLCAzMCl9Li4uXCIsIEhhc2g6ICR7ZXhpc3RpbmdDYXJkLmNvbnRlbnRIYXNofWAsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3NlZElkcy5hZGQoZmxhc2hjYXJkSWQpO1xuXG4gICAgICAvLyBZaWVsZCBjb250cm9sIGV2ZXJ5IDUwIGZsYXNoY2FyZHMgdG8ga2VlcCBVSSByZXNwb25zaXZlXG4gICAgICBpZiAoaSAlIDUwID09PSA0OSkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdGluZ0NhcmQpIHtcbiAgICAgICAgLy8gVXBkYXRlIGlmIGNvbnRlbnQgaGFzIGNoYW5nZWRcbiAgICAgICAgaWYgKGV4aXN0aW5nQ2FyZC5jb250ZW50SGFzaCAhPT0gY29udGVudEhhc2gpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKFxuICAgICAgICAgICAgYENvbnRlbnQgY2hhbmdlZCwgdXBkYXRpbmcgZmxhc2hjYXJkOiAke3BhcnNlZC5mcm9udC5zdWJzdHJpbmcoMCwgMzApfS4uLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBiYXRjaE9wZXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgICAgZmxhc2hjYXJkSWQ6IGV4aXN0aW5nQ2FyZC5pZCxcbiAgICAgICAgICAgIHVwZGF0ZXM6IHtcbiAgICAgICAgICAgICAgZnJvbnQ6IHBhcnNlZC5mcm9udCxcbiAgICAgICAgICAgICAgYmFjazogcGFyc2VkLmJhY2ssXG4gICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC50eXBlLFxuICAgICAgICAgICAgICBjb250ZW50SGFzaDogY29udGVudEhhc2gsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgTm8gY29udGVudCBjaGFuZ2UsIHNraXBwaW5nIHVwZGF0ZTogJHtwYXJzZWQuZnJvbnQuc3Vic3RyaW5nKDAsIDMwKX0uLi5gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBleGlzdGluZyByZXZpZXcgbG9ncyB0byByZXN0b3JlIHByb2dyZXNzXG4gICAgICAgIGNvbnN0IHByZXZpb3VzUHJvZ3Jlc3MgPVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIuZ2V0TGF0ZXN0UmV2aWV3TG9nRm9yRmxhc2hjYXJkKGZsYXNoY2FyZElkKTtcblxuICAgICAgICAvLyBDcmVhdGUgbmV3IGZsYXNoY2FyZCB3aXRoIHJlc3RvcmVkIHByb2dyZXNzIGlmIGF2YWlsYWJsZVxuICAgICAgICBjb25zdCBmbGFzaGNhcmQ6IE9taXQ8Rmxhc2hjYXJkLCBcImNyZWF0ZWRcIiB8IFwibW9kaWZpZWRcIj4gPSB7XG4gICAgICAgICAgaWQ6IGZsYXNoY2FyZElkLFxuICAgICAgICAgIGRlY2tJZDogZGVjay5pZCxcbiAgICAgICAgICBmcm9udDogcGFyc2VkLmZyb250LFxuICAgICAgICAgIGJhY2s6IHBhcnNlZC5iYWNrLFxuICAgICAgICAgIHR5cGU6IHBhcnNlZC50eXBlLFxuICAgICAgICAgIHNvdXJjZUZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICBjb250ZW50SGFzaDogY29udGVudEhhc2gsXG4gICAgICAgICAgaGVhZGVyTGV2ZWw6IHBhcnNlZC5oZWFkZXJMZXZlbCxcbiAgICAgICAgICAvLyBSZXN0b3JlIHByb2dyZXNzIGZyb20gcmV2aWV3IGxvZ3Mgb3IgdXNlIGRlZmF1bHRzXG4gICAgICAgICAgc3RhdGU6IHByZXZpb3VzUHJvZ3Jlc3M/Lm5ld1N0YXRlIHx8IFwibmV3XCIsXG4gICAgICAgICAgZHVlRGF0ZTogcHJldmlvdXNQcm9ncmVzc1xuICAgICAgICAgICAgPyBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShwcmV2aW91c1Byb2dyZXNzLnJldmlld2VkQXQpLmdldFRpbWUoKSArXG4gICAgICAgICAgICAgICAgICBwcmV2aW91c1Byb2dyZXNzLm5ld0ludGVydmFsTWludXRlcyAqIDYwICogMTAwMCxcbiAgICAgICAgICAgICAgKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBpbnRlcnZhbDogcHJldmlvdXNQcm9ncmVzcz8ubmV3SW50ZXJ2YWxNaW51dGVzIHx8IDAsXG4gICAgICAgICAgcmVwZXRpdGlvbnM6IHByZXZpb3VzUHJvZ3Jlc3M/Lm5ld1JlcGV0aXRpb25zIHx8IDAsXG4gICAgICAgICAgZGlmZmljdWx0eTogcHJldmlvdXNQcm9ncmVzcz8ubmV3RGlmZmljdWx0eSB8fCA1LjAsIC8vIEZTUlMgaW5pdGlhbCBkaWZmaWN1bHR5XG4gICAgICAgICAgc3RhYmlsaXR5OiBwcmV2aW91c1Byb2dyZXNzPy5uZXdTdGFiaWxpdHkgfHwgMi41LCAvLyBGU1JTIGluaXRpYWwgc3RhYmlsaXR5XG4gICAgICAgICAgbGFwc2VzOiBwcmV2aW91c1Byb2dyZXNzPy5uZXdMYXBzZXMgfHwgMCxcbiAgICAgICAgICBsYXN0UmV2aWV3ZWQ6IHByZXZpb3VzUHJvZ3Jlc3M/LnJldmlld2VkQXQgfHwgbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocHJldmlvdXNQcm9ncmVzcykge1xuICAgICAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgICAgICBgUmVzdG9yaW5nIGZsYXNoY2FyZCBwcm9ncmVzcyBmcm9tIHJldmlldyBsb2dzOiAke2ZsYXNoY2FyZC5mcm9udH0gKHN0YXRlOiAke3ByZXZpb3VzUHJvZ3Jlc3MubmV3U3RhdGV9LCBpbnRlcnZhbDogJHtwcmV2aW91c1Byb2dyZXNzLm5ld0ludGVydmFsTWludXRlc30pYCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gTm90aWZ5IHVzZXIgdGhhdCBwcm9ncmVzcyB3YXMgcmVzdG9yZWRcbiAgICAgICAgICBpZiAodGhpcy5wbHVnaW4/LnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcykge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICAgICAgYFx1MjcwNSBQcm9ncmVzcyByZXN0b3JlZCBmb3IgZmxhc2hjYXJkOiBcIiR7cGFyc2VkLmZyb250LnN1YnN0cmluZygwLCA0MCl9JHtwYXJzZWQuZnJvbnQubGVuZ3RoID4gNDAgPyBcIi4uLlwiIDogXCJcIn1cIiAoJHtwcmV2aW91c1Byb2dyZXNzLm5ld1N0YXRlfSwgJHtwcmV2aW91c1Byb2dyZXNzLm5ld1JlcGV0aXRpb25zfSByZXZpZXdzKWAsXG4gICAgICAgICAgICAgIDUwMDAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGBDcmVhdGluZyBuZXcgZmxhc2hjYXJkOiAke2ZsYXNoY2FyZC5mcm9udH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhdGNoT3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcImNyZWF0ZVwiLFxuICAgICAgICAgIGZsYXNoY2FyZDogZmxhc2hjYXJkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWxldGUgZmxhc2hjYXJkcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdGhlIGZpbGVcbiAgICBmb3IgKGNvbnN0IFtmbGFzaGNhcmRJZCwgZXhpc3RpbmdDYXJkXSBvZiBleGlzdGluZ0J5SWQpIHtcbiAgICAgIGlmICghcHJvY2Vzc2VkSWRzLmhhcyhmbGFzaGNhcmRJZCkpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgRGVsZXRpbmcgZmxhc2hjYXJkOiAke2V4aXN0aW5nQ2FyZC5mcm9udH1gKTtcbiAgICAgICAgYmF0Y2hPcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXG4gICAgICAgICAgZmxhc2hjYXJkSWQ6IGV4aXN0aW5nQ2FyZC5pZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhbGwgYmF0Y2ggb3BlcmF0aW9uc1xuICAgIGlmIChiYXRjaE9wZXJhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgYEV4ZWN1dGluZyAke2JhdGNoT3BlcmF0aW9ucy5sZW5ndGh9IGJhdGNoIGRhdGFiYXNlIG9wZXJhdGlvbnNgLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZUJhdGNoT3BlcmF0aW9ucyhiYXRjaE9wZXJhdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBkZWNrJ3MgbW9kaWZpZWQgdGltZXN0YW1wIHRvIG1hdGNoIGZpbGUgbW9kaWZpY2F0aW9uIHRpbWVcbiAgICBjb25zdCB0aW1lc3RhbXBTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBhd2FpdCB0aGlzLmRiLnVwZGF0ZURlY2tUaW1lc3RhbXAoZGVjay5pZCwgZmlsZU1vZGlmaWVkVGltZS50b0lTT1N0cmluZygpKTtcbiAgICBhd2FpdCB0aGlzLmNoZWNrRm9yRHVwbGljYXRlc0luRGVjayhkZWNrLmlkKTtcbiAgICBjb25zdCB0aW1lc3RhbXBUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aW1lc3RhbXBTdGFydFRpbWU7XG5cbiAgICBjb25zdCB0b3RhbERlY2tTeW5jVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZGVja1N5bmNTdGFydFRpbWU7XG4gICAgdGhpcy5wZXJmb3JtYW5jZUxvZyhcbiAgICAgIGBTeW5jIGNvbXBsZXRlZCBmb3IgZGVjazogJHtkZWNrLm5hbWV9IGluICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsRGVja1N5bmNUaW1lKX0gKCR7cGFyc2VkQ2FyZHMubGVuZ3RofSBmbGFzaGNhcmRzLCAke2JhdGNoT3BlcmF0aW9ucy5sZW5ndGh9IG9wZXJhdGlvbnMsIGNsZWFudXA6ICR7dGhpcy5mb3JtYXRUaW1lKHRpbWVzdGFtcFRpbWUpfSlgLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBmbGFzaGNhcmRzIGZvciBhIHNwZWNpZmljIGRlY2sgYnkgbmFtZSAoZmlsZSBwYXRoKVxuICAgKi9cbiAgYXN5bmMgc3luY0ZsYXNoY2FyZHNGb3JEZWNrQnlOYW1lKGRlY2tOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBJbiB0aGUgbmV3IHN5c3RlbSwgZGVja05hbWUgaXMgYWN0dWFsbHkgdGhlIGZpbGUgcGF0aFxuICAgIGF3YWl0IHRoaXMuc3luY0ZsYXNoY2FyZHNGb3JEZWNrKGRlY2tOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZGVjayBmb3IgYSBzaW5nbGUgZmlsZSB3aXRob3V0IHJ1bm5pbmcgZnVsbCBzeW5jXG4gICAqL1xuICBhc3luYyBjcmVhdGVEZWNrRm9yRmlsZShmaWxlUGF0aDogc3RyaW5nLCB0YWc6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgaWYgKCFmaWxlIHx8ICEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGVja05hbWUgPSBmaWxlLmJhc2VuYW1lO1xuICAgIGNvbnN0IGV4aXN0aW5nRGVjayA9IGF3YWl0IHRoaXMuZGIuZ2V0RGVja0J5RmlsZXBhdGgoZmlsZVBhdGgpO1xuXG4gICAgaWYgKCFleGlzdGluZ0RlY2spIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgZGVjayBmb3IgdGhpcyBmaWxlXG4gICAgICBjb25zdCBmaWxlTW9kVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5tdGltZSk7XG4gICAgICBjb25zdCBmaWxlQ3JlYXRlVGltZSA9IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSk7XG5cbiAgICAgIC8vIFVzZSB0aGUgZWFybGllciBvZiBmaWxlIG1vZGlmaWNhdGlvbiB0aW1lIG9yIGZpbGUgY3JlYXRpb24gdGltZVxuICAgICAgY29uc3QgZGVja01vZFRpbWUgPVxuICAgICAgICBmaWxlTW9kVGltZSA8IGZpbGVDcmVhdGVUaW1lID8gZmlsZU1vZFRpbWUgOiBmaWxlQ3JlYXRlVGltZTtcblxuICAgICAgY29uc3QgZGVjazogT21pdDxEZWNrLCBcImNyZWF0ZWRcIj4gPSB7XG4gICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlRGVja0lkKGZpbGVQYXRoKSxcbiAgICAgICAgbmFtZTogZGVja05hbWUsXG4gICAgICAgIGZpbGVwYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgdGFnOiB0YWcsXG4gICAgICAgIGxhc3RSZXZpZXdlZDogbnVsbCxcbiAgICAgICAgY29uZmlnOiBERUZBVUxUX0RFQ0tfQ09ORklHLFxuICAgICAgICBtb2RpZmllZDogZGVja01vZFRpbWUudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZGVidWdMb2coXG4gICAgICAgIGBDcmVhdGluZyBuZXcgZGVjazogXCIke2RlY2tOYW1lfVwiIHdpdGggSUQ6ICR7ZGVjay5pZH0sIHRhZzogJHt0YWd9LCBmaWxlcGF0aDogJHtmaWxlUGF0aH1gLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZGIuY3JlYXRlRGVjayhkZWNrKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29udGVudCBoYXNoIGZvciBmbGFzaGNhcmQgYmFjayBjb250ZW50IChmcm9udCBpcyB1c2VkIGZvciBJRClcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVDb250ZW50SGFzaChiYWNrOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBiYWNrLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMTYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVjayBuYW1lIGZyb20gZmlsZXMgKHVzZSB0aGUgZmlyc3QgZmlsZSdzIG5hbWUpXG4gICAqL1xuICBwdWJsaWMgZXh0cmFjdERlY2tOYW1lRnJvbUZpbGVzKGZpbGVzOiBURmlsZVtdKTogc3RyaW5nIHtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gXCJHZW5lcmFsXCI7XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSBmaXJzdCBmaWxlJ3MgYmFzZW5hbWUgKHdpdGhvdXQgZXh0ZW5zaW9uKSBhcyBkZWNrIG5hbWVcbiAgICBjb25zdCBmaXJzdEZpbGUgPSBmaWxlc1swXTtcbiAgICByZXR1cm4gZmlyc3RGaWxlLmJhc2VuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVjayBuYW1lIGZyb20gdGFnIChsZWdhY3kgbWV0aG9kIGZvciBjb21wYXRpYmlsaXR5KVxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0RGVja05hbWUodGFnOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSAjZmxhc2hjYXJkcyBwcmVmaXhcbiAgICBsZXQgbmFtZSA9IHRhZy5yZXBsYWNlKFwiI2ZsYXNoY2FyZHNcIiwgXCJcIik7XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluaW5nIHNsYXNoLCByZW1vdmUgaXRcbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIC8vIElmIGVtcHR5IChqdXN0ICNmbGFzaGNhcmRzKSwgcmV0dXJuIFwiR2VuZXJhbFwiXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gXCJHZW5lcmFsXCI7XG4gICAgfVxuXG4gICAgLy8gU3BsaXQgYnkgc2xhc2hlcyBhbmQgY29udmVydCB0byB0aXRsZSBjYXNlXG4gICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICByZXR1cm4gcGFydHNcbiAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0LnNsaWNlKDEpKVxuICAgICAgLmpvaW4oXCIgLSBcIik7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBkZWNrIElEIGJhc2VkIG9uIGZpbGVwYXRoXG4gICAqL1xuICBwdWJsaWMgZ2VuZXJhdGVEZWNrSWQoZmlsZXBhdGg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChmaWxlcGF0aCkge1xuICAgICAgLy8gR2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBJRCBiYXNlZCBvbiBmaWxlcGF0aFxuICAgICAgbGV0IGhhc2ggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyID0gZmlsZXBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgICAgfVxuICAgICAgcmV0dXJuIGBkZWNrXyR7TWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMzYpfWA7XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIHRpbWVzdGFtcC1iYXNlZCBJRCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIHJldHVybiBgZGVja18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdW5pcXVlIGZsYXNoY2FyZCBJRCB1c2luZyBoYXNoIG9mIGZyb250IHRleHQgb25seVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlRmxhc2hjYXJkSWQoZnJvbnRUZXh0OiBzdHJpbmcsIGRlY2tJZD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gVXNlIG9ubHkgZnJvbnQgdGV4dCBmb3IgSUQgZ2VuZXJhdGlvbiB0byBwcmVzZXJ2ZSBwcm9ncmVzcyBhY3Jvc3MgZGVjayBjaGFuZ2VzXG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbnRUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gZnJvbnRUZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gYGNhcmRfJHtNYXRoLmFicyhoYXNoKS50b1N0cmluZygzNil9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgZHVwbGljYXRlIGZsYXNoY2FyZHMgaW4gYSBkZWNrIGFuZCB3YXJuIHRoZSB1c2VyXG4gICAqL1xuICBhc3luYyBjaGVja0ZvckR1cGxpY2F0ZXNJbkRlY2soZGVja0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBleGlzdGluZ0ZsYXNoY2FyZHMgPSBhd2FpdCB0aGlzLmRiLmdldEZsYXNoY2FyZHNCeURlY2soZGVja0lkKTtcbiAgICBjb25zdCBmcm9udFRleHRNYXAgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG5cbiAgICAvLyBHcm91cCBmbGFzaGNhcmRzIGJ5IGZyb250IHRleHRcbiAgICBmb3IgKGNvbnN0IGNhcmQgb2YgZXhpc3RpbmdGbGFzaGNhcmRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbnQgPSBjYXJkLmZyb250LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFmcm9udFRleHRNYXAuaGFzKG5vcm1hbGl6ZWRGcm9udCkpIHtcbiAgICAgICAgZnJvbnRUZXh0TWFwLnNldChub3JtYWxpemVkRnJvbnQsIFtdKTtcbiAgICAgIH1cbiAgICAgIGZyb250VGV4dE1hcC5nZXQobm9ybWFsaXplZEZyb250KSEucHVzaChjYXJkKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFuZCB3YXJuIGFib3V0IGR1cGxpY2F0ZXNcbiAgICBjb25zdCBkZWNrID0gYXdhaXQgdGhpcy5kYi5nZXREZWNrQnlJZChkZWNrSWQpO1xuICAgIGNvbnN0IGRlY2tOYW1lID0gZGVjaz8ubmFtZSB8fCBcIlVua25vd24gRGVja1wiO1xuXG4gICAgZm9yIChjb25zdCBbZnJvbnRUZXh0LCBjYXJkc10gb2YgZnJvbnRUZXh0TWFwKSB7XG4gICAgICBpZiAoY2FyZHMubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAodGhpcy5wbHVnaW4/LnNldHRpbmdzPy51aT8uZW5hYmxlTm90aWNlcykge1xuICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICBgXHUyNkEwXHVGRTBGIEZvdW5kICR7Y2FyZHMubGVuZ3RofSBkdXBsaWNhdGUgZmxhc2hjYXJkcyBpbiBcIiR7ZGVja05hbWV9XCI6IFwiJHtjYXJkc1swXS5mcm9udC5zdWJzdHJpbmcoMCwgNTApfSR7Y2FyZHNbMF0uZnJvbnQubGVuZ3RoID4gNTAgPyBcIi4uLlwiIDogXCJcIn1cIi4gQ29uc2lkZXIgcmVtb3ZpbmcgZHVwbGljYXRlcyB0byBhdm9pZCBjb25mdXNpb24uYCxcbiAgICAgICAgICAgIDEwMDAwLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgICAgICBgRHVwbGljYXRlIGZsYXNoY2FyZHMgZm91bmQgaW4gZGVjayBcIiR7ZGVja05hbWV9XCI6IFwiJHtjYXJkc1swXS5mcm9udH1cIiAoJHtjYXJkcy5sZW5ndGh9IGNvcGllcylgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZGVjayBJRHMgZm9yIGFsbCBmbGFzaGNhcmRzIHdoZW4gYSBkZWNrIElEIGNoYW5nZXMgKGUuZy4sIGZpbGUgcmVuYW1lKVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRmxhc2hjYXJkRGVja0lkcyhcbiAgICBvbGREZWNrSWQ6IHN0cmluZyxcbiAgICBuZXdEZWNrSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5kZWJ1Z0xvZyhcbiAgICAgIGBVcGRhdGluZyBmbGFzaGNhcmQgZGVjayBJRHMgZnJvbSAke29sZERlY2tJZH0gdG8gJHtuZXdEZWNrSWR9YCxcbiAgICApO1xuICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlRmxhc2hjYXJkRGVja0lkcyhvbGREZWNrSWQsIG5ld0RlY2tJZCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBGbGFzaGNhcmQsIEZsYXNoY2FyZFN0YXRlIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG5pbXBvcnQge1xuICBGU1JTUHJvZmlsZSxcbiAgZ2V0V2VpZ2h0c0ZvclByb2ZpbGUsXG4gIGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlLFxuICBnZXRNYXhJbnRlcnZhbERheXNGb3JQcm9maWxlLFxuICB2YWxpZGF0ZUZTUlNXZWlnaHRzLFxuICB2YWxpZGF0ZVByb2ZpbGUsXG4gIHZhbGlkYXRlUmVxdWVzdFJldGVudGlvbixcbn0gZnJvbSBcIi4vZnNycy13ZWlnaHRzXCI7XG5cbmV4cG9ydCB0eXBlIERpZmZpY3VsdHkgPSBcImFnYWluXCIgfCBcImhhcmRcIiB8IFwiZ29vZFwiIHwgXCJlYXN5XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRlNSU1BhcmFtZXRlcnMge1xuICByZXF1ZXN0UmV0ZW50aW9uOiBudW1iZXI7IC8vIHRhcmdldCByZXRlbnRpb24gcmF0ZSAoMCwxKVxuICBwcm9maWxlOiBGU1JTUHJvZmlsZTsgLy8gXCJJTlRFTlNJVkVcIiB8IFwiU1RBTkRBUkRcIlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZTUlNDYXJkIHtcbiAgc3RhYmlsaXR5OiBudW1iZXI7XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgZWxhcHNlZERheXM6IG51bWJlcjtcbiAgcmVwczogbnVtYmVyO1xuICBsYXBzZXM6IG51bWJlcjtcbiAgc3RhdGU6IEZTUlNTdGF0ZTtcbiAgbGFzdFJldmlldzogRGF0ZTtcbn1cblxuZXhwb3J0IHR5cGUgRlNSU1N0YXRlID0gXCJOZXdcIiB8IFwiUmV2aWV3XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NoZWR1bGluZ0NhcmQge1xuICBkdWVEYXRlOiBzdHJpbmc7XG4gIGludGVydmFsOiBudW1iZXI7IC8vIGluIG1pbnV0ZXNcbiAgcmVwZXRpdGlvbnM6IG51bWJlcjtcbiAgc3RhYmlsaXR5OiBudW1iZXI7XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgc3RhdGU6IEZsYXNoY2FyZFN0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxpbmdJbmZvIHtcbiAgYWdhaW46IFNjaGVkdWxpbmdDYXJkO1xuICBoYXJkOiBTY2hlZHVsaW5nQ2FyZDtcbiAgZ29vZDogU2NoZWR1bGluZ0NhcmQ7XG4gIGVhc3k6IFNjaGVkdWxpbmdDYXJkO1xufVxuXG4vLyBDb25zdGFudHMgZm9yIGV4YWN0IGNhbGN1bGF0aW9uc1xuY29uc3QgTUlMTElTRUNPTkRTX1BFUl9EQVkgPSA4NjQwMDAwMDtcbmNvbnN0IE1JTlVURVNfUEVSX0RBWSA9IDE0NDA7XG5jb25zdCBTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MDtcbmNvbnN0IE1JTExJU0VDT05EU19QRVJfTUlOVVRFID0gNjAwMDA7XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBVSS1vbmx5IGZvcm1hdHRpbmcgLSBuZXZlciB1c2UgaW4gY2FsY3VsYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZEZvckRpc3BsYXkodmFsdWU6IG51bWJlciwgZGVjaW1hbHM6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKGRlY2ltYWxzKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZTUlMge1xuICBwcml2YXRlIHBhcmFtczogRlNSU1BhcmFtZXRlcnM7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zPzogUGFydGlhbDxGU1JTUGFyYW1ldGVycz4pIHtcbiAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgIHJlcXVlc3RSZXRlbnRpb246IDAuOSxcbiAgICAgIHByb2ZpbGU6IFwiU1RBTkRBUkRcIixcbiAgICAgIC4uLnBhcmFtcyxcbiAgICB9O1xuICAgIHRoaXMudmFsaWRhdGVQYXJhbWV0ZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIEZTUlMgcGFyYW1ldGVyc1xuICAgKi9cbiAgdXBkYXRlUGFyYW1ldGVycyhwYXJhbXM6IFBhcnRpYWw8RlNSU1BhcmFtZXRlcnM+KSB7XG4gICAgdGhpcy5wYXJhbXMgPSB7IC4uLnRoaXMucGFyYW1zLCAuLi5wYXJhbXMgfTtcbiAgICB0aGlzLnZhbGlkYXRlUGFyYW1ldGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHByb2ZpbGUgd2VpZ2h0cyAoaGFyZGNvZGVkLCBub3QgdXNlci1lZGl0YWJsZSlcbiAgICovXG4gIHByaXZhdGUgZ2V0V2VpZ2h0cygpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIGdldFdlaWdodHNGb3JQcm9maWxlKHRoaXMucGFyYW1zLnByb2ZpbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtaW5pbXVtIG1pbnV0ZXMgZm9yIGN1cnJlbnQgcHJvZmlsZSAoaGFyZGNvZGVkKVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRNaW5NaW51dGVzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGdldE1pbk1pbnV0ZXNGb3JQcm9maWxlKHRoaXMucGFyYW1zLnByb2ZpbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtYXhpbXVtIGludGVydmFsIGRheXMgZm9yIGN1cnJlbnQgcHJvZmlsZSAoaGFyZGNvZGVkKVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRNYXhJbnRlcnZhbERheXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZ2V0TWF4SW50ZXJ2YWxEYXlzRm9yUHJvZmlsZSh0aGlzLnBhcmFtcy5wcm9maWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBGU1JTIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVQYXJhbWV0ZXJzKCkge1xuICAgIGlmICghdmFsaWRhdGVQcm9maWxlKHRoaXMucGFyYW1zLnByb2ZpbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIHByb2ZpbGU6ICR7dGhpcy5wYXJhbXMucHJvZmlsZX0sIG11c3QgYmUgXCJJTlRFTlNJVkVcIiBvciBcIlNUQU5EQVJEXCJgLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZVJlcXVlc3RSZXRlbnRpb24odGhpcy5wYXJhbXMucmVxdWVzdFJldGVudGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYHJlcXVlc3RSZXRlbnRpb24gbXVzdCBiZSBpbiByYW5nZSAoMC41LCAwLjk5NSksIGdvdCAke3RoaXMucGFyYW1zLnJlcXVlc3RSZXRlbnRpb259YCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgaGFyZGNvZGVkIHdlaWdodHMgZm9yIGN1cnJlbnQgcHJvZmlsZVxuICAgIGNvbnN0IHdlaWdodHMgPSB0aGlzLmdldFdlaWdodHMoKTtcbiAgICBpZiAoIXZhbGlkYXRlRlNSU1dlaWdodHMod2VpZ2h0cykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgaGFyZGNvZGVkIHdlaWdodHMgZm9yIHByb2ZpbGUgJHt0aGlzLnBhcmFtcy5wcm9maWxlfWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG5leHQgc2NoZWR1bGluZyBpbmZvIGZvciBhIGZsYXNoY2FyZCBiYXNlZCBvbiByZXZpZXcgZGlmZmljdWx0eVxuICAgKi9cbiAgZ2V0U2NoZWR1bGluZ0luZm8oY2FyZDogRmxhc2hjYXJkKTogU2NoZWR1bGluZ0luZm8ge1xuICAgIGNvbnN0IGZzcnNDYXJkID0gdGhpcy5mbGFzaGNhcmRUb0ZTUlMoY2FyZCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBhZ2FpbjogdGhpcy5jYWxjdWxhdGVTY2hlZHVsZUZvclJhdGluZyhmc3JzQ2FyZCwgMSwgbm93KSxcbiAgICAgIGhhcmQ6IHRoaXMuY2FsY3VsYXRlU2NoZWR1bGVGb3JSYXRpbmcoZnNyc0NhcmQsIDIsIG5vdyksXG4gICAgICBnb29kOiB0aGlzLmNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKGZzcnNDYXJkLCAzLCBub3cpLFxuICAgICAgZWFzeTogdGhpcy5jYWxjdWxhdGVTY2hlZHVsZUZvclJhdGluZyhmc3JzQ2FyZCwgNCwgbm93KSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIGZsYXNoY2FyZCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZGlmZmljdWx0eVxuICAgKi9cbiAgdXBkYXRlQ2FyZChjYXJkOiBGbGFzaGNhcmQsIGRpZmZpY3VsdHk6IERpZmZpY3VsdHkpOiBGbGFzaGNhcmQge1xuICAgIGNvbnN0IHJhdGluZyA9IHRoaXMuZGlmZmljdWx0eVRvUmF0aW5nKGRpZmZpY3VsdHkpO1xuICAgIGNvbnN0IGZzcnNDYXJkID0gdGhpcy5mbGFzaGNhcmRUb0ZTUlMoY2FyZCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuICAgIC8vIENhbGN1bGF0ZSBGU1JTIHVwZGF0ZSBvbmNlIGFuZCByZXVzZVxuICAgIGNvbnN0IHVwZGF0ZWRGc3JzQ2FyZCA9IHRoaXMuY2FsY3VsYXRlVXBkYXRlZEZzcnNDYXJkKFxuICAgICAgZnNyc0NhcmQsXG4gICAgICByYXRpbmcsXG4gICAgICBub3csXG4gICAgKTtcbiAgICBjb25zdCBpbnRlcnZhbE1pbnV0ZXMgPSB0aGlzLm5leHRJbnRlcnZhbE1pbnV0ZXModXBkYXRlZEZzcnNDYXJkLnN0YWJpbGl0eSk7XG4gICAgY29uc3Qgc2NoZWR1bGUgPSB0aGlzLmNyZWF0ZVNjaGVkdWxpbmdDYXJkKFxuICAgICAgaW50ZXJ2YWxNaW51dGVzLFxuICAgICAgdXBkYXRlZEZzcnNDYXJkLFxuICAgICAgbm93LFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY2FyZCxcbiAgICAgIHN0YXRlOiBzY2hlZHVsZS5zdGF0ZSxcbiAgICAgIGR1ZURhdGU6IHNjaGVkdWxlLmR1ZURhdGUsXG4gICAgICBpbnRlcnZhbDogc2NoZWR1bGUuaW50ZXJ2YWwsXG4gICAgICBkaWZmaWN1bHR5OiBzY2hlZHVsZS5kaWZmaWN1bHR5LCAvLyBTdG9yZSBGU1JTIGRpZmZpY3VsdHkgd2l0aCBmdWxsIHByZWNpc2lvblxuICAgICAgcmVwZXRpdGlvbnM6IHNjaGVkdWxlLnJlcGV0aXRpb25zLFxuICAgICAgc3RhYmlsaXR5OiBzY2hlZHVsZS5zdGFiaWxpdHksIC8vIFN0b3JlIHN0YWJpbGl0eSB3aXRoIGZ1bGwgcHJlY2lzaW9uXG4gICAgICBsYXBzZXM6IHVwZGF0ZWRGc3JzQ2FyZC5sYXBzZXMsXG4gICAgICBsYXN0UmV2aWV3ZWQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgbW9kaWZpZWQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVVwZGF0ZWRGc3JzQ2FyZChcbiAgICBjYXJkOiBGU1JTQ2FyZCxcbiAgICByYXRpbmc6IG51bWJlcixcbiAgICBub3c6IERhdGUsXG4gICk6IEZTUlNDYXJkIHtcbiAgICBpZiAoY2FyZC5zdGF0ZSA9PT0gXCJOZXdcIiB8fCBjYXJkLnN0YWJpbGl0eSA9PT0gMCB8fCBjYXJkLmRpZmZpY3VsdHkgPT09IDApIHtcbiAgICAgIC8vIEluaXRpYWxpemF0aW9uXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jYXJkLFxuICAgICAgICBzdGFiaWxpdHk6IHRoaXMuaW5pdFN0YWJpbGl0eShyYXRpbmcpLFxuICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmluaXREaWZmaWN1bHR5KHJhdGluZyksXG4gICAgICAgIHJlcHM6IDEsXG4gICAgICAgIGxhcHNlczogcmF0aW5nID09PSAxID8gMSA6IDAsXG4gICAgICAgIGxhc3RSZXZpZXc6IG5vdyxcbiAgICAgICAgc3RhdGU6IFwiUmV2aWV3XCIsXG4gICAgICAgIGVsYXBzZWREYXlzOiAwLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3Vic2VxdWVudCByZXZpZXdzXG4gICAgICBjb25zdCBuZXdDYXJkID0geyAuLi5jYXJkIH07XG4gICAgICBuZXdDYXJkLmVsYXBzZWREYXlzID0gdGhpcy5nZXRFbGFwc2VkRGF5cyhjYXJkLmxhc3RSZXZpZXcsIG5vdyk7XG4gICAgICBuZXdDYXJkLnJlcHMgKz0gMTtcblxuICAgICAgaWYgKHJhdGluZyA9PT0gMSkge1xuICAgICAgICBuZXdDYXJkLmxhcHNlcyArPSAxO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSBjdXJyZW50IHN0YWJpbGl0eSBiZWZvcmUgdXNpbmcgaXRcbiAgICAgIGlmICghaXNGaW5pdGUobmV3Q2FyZC5zdGFiaWxpdHkpIHx8IG5ld0NhcmQuc3RhYmlsaXR5IDw9IDApIHtcbiAgICAgICAgbmV3Q2FyZC5zdGFiaWxpdHkgPSB0aGlzLmluaXRTdGFiaWxpdHkoMyk7IC8vIERlZmF1bHQgdG8gXCJnb29kXCIgcmF0aW5nIHN0YWJpbGl0eVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXRyaWV2YWJpbGl0eSA9IHRoaXMuZm9yZ2V0dGluZ0N1cnZlKFxuICAgICAgICBuZXdDYXJkLmVsYXBzZWREYXlzLFxuICAgICAgICBuZXdDYXJkLnN0YWJpbGl0eSxcbiAgICAgICk7XG5cbiAgICAgIG5ld0NhcmQuZGlmZmljdWx0eSA9IHRoaXMubmV4dERpZmZpY3VsdHkobmV3Q2FyZC5kaWZmaWN1bHR5LCByYXRpbmcpO1xuICAgICAgbmV3Q2FyZC5zdGFiaWxpdHkgPSB0aGlzLm5leHRTdGFiaWxpdHkoXG4gICAgICAgIG5ld0NhcmQuZGlmZmljdWx0eSxcbiAgICAgICAgbmV3Q2FyZC5zdGFiaWxpdHksXG4gICAgICAgIHJldHJpZXZhYmlsaXR5LFxuICAgICAgICByYXRpbmcsXG4gICAgICApO1xuXG4gICAgICAvLyBGaW5hbCB2YWxpZGF0aW9uIG9mIGNhbGN1bGF0ZWQgc3RhYmlsaXR5XG4gICAgICBpZiAoIWlzRmluaXRlKG5ld0NhcmQuc3RhYmlsaXR5KSB8fCBuZXdDYXJkLnN0YWJpbGl0eSA8PSAwKSB7XG4gICAgICAgIG5ld0NhcmQuc3RhYmlsaXR5ID0gdGhpcy5pbml0U3RhYmlsaXR5KHJhdGluZyk7XG4gICAgICB9XG5cbiAgICAgIG5ld0NhcmQubGFzdFJldmlldyA9IG5vdztcbiAgICAgIG5ld0NhcmQuc3RhdGUgPSBcIlJldmlld1wiO1xuXG4gICAgICByZXR1cm4gbmV3Q2FyZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVNjaGVkdWxlRm9yUmF0aW5nKFxuICAgIGNhcmQ6IEZTUlNDYXJkLFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIG5vdzogRGF0ZSxcbiAgKTogU2NoZWR1bGluZ0NhcmQge1xuICAgIGNvbnN0IHVwZGF0ZWRDYXJkID0gdGhpcy5jYWxjdWxhdGVVcGRhdGVkRnNyc0NhcmQoY2FyZCwgcmF0aW5nLCBub3cpO1xuXG4gICAgLy8gVmFsaWRhdGUgdXBkYXRlZCBjYXJkIHN0YWJpbGl0eVxuICAgIGlmICghaXNGaW5pdGUodXBkYXRlZENhcmQuc3RhYmlsaXR5KSB8fCB1cGRhdGVkQ2FyZC5zdGFiaWxpdHkgPD0gMCkge1xuICAgICAgdXBkYXRlZENhcmQuc3RhYmlsaXR5ID0gdGhpcy5pbml0U3RhYmlsaXR5KHJhdGluZyk7XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJ2YWxNaW51dGVzID0gdGhpcy5uZXh0SW50ZXJ2YWxNaW51dGVzKHVwZGF0ZWRDYXJkLnN0YWJpbGl0eSk7XG5cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTY2hlZHVsaW5nQ2FyZChpbnRlcnZhbE1pbnV0ZXMsIHVwZGF0ZWRDYXJkLCBub3cpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTY2hlZHVsaW5nQ2FyZChcbiAgICBpbnRlcnZhbE1pbnV0ZXM6IG51bWJlcixcbiAgICBjYXJkOiBGU1JTQ2FyZCxcbiAgICBub3c6IERhdGUsXG4gICk6IFNjaGVkdWxpbmdDYXJkIHtcbiAgICBpZiAoIWlzRmluaXRlKG5vdy5nZXRUaW1lKCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGUgcHJvdmlkZWQgdG8gY3JlYXRlU2NoZWR1bGluZ0NhcmRcIik7XG4gICAgfVxuXG4gICAgLy8gVXNlIGV4YWN0IG1pbGxpc2Vjb25kIGNhbGN1bGF0aW9uIGZvciBtYXhpbXVtIHByZWNpc2lvblxuICAgIGNvbnN0IGludGVydmFsTWlsbGlzZWNvbmRzID0gaW50ZXJ2YWxNaW51dGVzICogTUlMTElTRUNPTkRTX1BFUl9NSU5VVEU7XG4gICAgY29uc3QgZHVlRGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyBpbnRlcnZhbE1pbGxpc2Vjb25kcyk7XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgcmVzdWx0aW5nIGRhdGVcbiAgICBpZiAoIWlzRmluaXRlKGR1ZURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgSW52YWxpZCBkdWUgZGF0ZSBjYWxjdWxhdGVkOiBpbnRlcnZhbE1pbnV0ZXM9JHtpbnRlcnZhbE1pbnV0ZXN9LCBub3c9JHtub3cudG9JU09TdHJpbmcoKX1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZHVlRGF0ZTogZHVlRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgaW50ZXJ2YWw6IGludGVydmFsTWludXRlcywgLy8gU3RvcmUgZnVsbCBwcmVjaXNpb24gaW50ZXJ2YWxcbiAgICAgIHJlcGV0aXRpb25zOiBjYXJkLnJlcHMsXG4gICAgICBzdGFiaWxpdHk6IGNhcmQuc3RhYmlsaXR5LCAvLyBTdG9yZSBmdWxsIHByZWNpc2lvbiBzdGFiaWxpdHlcbiAgICAgIGRpZmZpY3VsdHk6IGNhcmQuZGlmZmljdWx0eSwgLy8gU3RvcmUgZnVsbCBwcmVjaXNpb24gZGlmZmljdWx0eVxuICAgICAgc3RhdGU6IHRoaXMuZnNyc1N0YXRlVG9GbGFzaGNhcmRTdGF0ZShjYXJkLnN0YXRlKSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0U3RhYmlsaXR5KHJhdGluZzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5nZXRXZWlnaHRzKCk7XG4gICAgY29uc3Qgc3RhYmlsaXR5ID0gd2VpZ2h0c1tyYXRpbmcgLSAxXTtcbiAgICBjb25zdCByZXN1bHQgPSBpc0Zpbml0ZShzdGFiaWxpdHkpID8gc3RhYmlsaXR5IDogMC4wMTsgLy8gQWxsb3cgdmVyeSBzbWFsbCBzdGFiaWxpdGllcyBmb3Igc3ViLWRheSBpbnRlcnZhbHNcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0RGlmZmljdWx0eShyYXRpbmc6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuZ2V0V2VpZ2h0cygpO1xuICAgIGNvbnN0IHc0ID0gd2VpZ2h0c1s0XTtcbiAgICBjb25zdCB3NSA9IHdlaWdodHNbNV07XG4gICAgY29uc3QgcmF0aW5nRGlmZiA9IHJhdGluZyAtIDM7XG4gICAgY29uc3QgZGlmZmljdWx0eSA9IHc0IC0gdzUgKiByYXRpbmdEaWZmO1xuXG4gICAgY29uc3QgdmFsaWREaWZmaWN1bHR5ID0gaXNGaW5pdGUoZGlmZmljdWx0eSkgPyBkaWZmaWN1bHR5IDogNS4wO1xuXG4gICAgLy8gQXBwbHkgY2xhbXBpbmcgb25seSBhZnRlciBhbGwgY2FsY3VsYXRpb25zXG4gICAgaWYgKHZhbGlkRGlmZmljdWx0eSA8IDEpIHJldHVybiAxO1xuICAgIGlmICh2YWxpZERpZmZpY3VsdHkgPiAxMCkgcmV0dXJuIDEwO1xuICAgIHJldHVybiB2YWxpZERpZmZpY3VsdHk7XG4gIH1cblxuICAvKipcbiAgICogRm9yZ2V0dGluZyBjdXJ2ZSBmdW5jdGlvbiB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAqL1xuICBwdWJsaWMgZm9yZ2V0dGluZ0N1cnZlKGVsYXBzZWREYXlzOiBudW1iZXIsIHN0YWJpbGl0eTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoIWlzRmluaXRlKGVsYXBzZWREYXlzKSB8fCAhaXNGaW5pdGUoc3RhYmlsaXR5KSB8fCBzdGFiaWxpdHkgPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucyB0byBhdm9pZCBwcmVjaXNpb24gbG9zc1xuICAgIGNvbnN0IHN0YWJpbGl0eUZhY3RvciA9IDkgKiBzdGFiaWxpdHk7XG4gICAgY29uc3QgZWxhcHNlZFRvU3RhYmlsaXR5UmF0aW8gPSBlbGFwc2VkRGF5cyAvIHN0YWJpbGl0eUZhY3RvcjtcbiAgICBjb25zdCBiYXNlVGVybSA9IDEgKyBlbGFwc2VkVG9TdGFiaWxpdHlSYXRpbztcblxuICAgIGlmICghaXNGaW5pdGUoYmFzZVRlcm0pIHx8IGJhc2VUZXJtIDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBwb3dlciB0ZXJtIHdpdGggZnVsbCBwcmVjaXNpb25cbiAgICBjb25zdCBwb3dlclRlcm0gPSBNYXRoLnBvdyhiYXNlVGVybSwgLTEpO1xuXG4gICAgcmV0dXJuIGlzRmluaXRlKHBvd2VyVGVybSkgPyBwb3dlclRlcm0gOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSByZXRyaWV2YWJpbGl0eSBmb3IgYSBmbGFzaGNhcmQgYXQgcmV2aWV3IHRpbWVcbiAgICogQHBhcmFtIGNhcmQgLSBUaGUgZmxhc2hjYXJkIGJlaW5nIHJldmlld2VkXG4gICAqIEBwYXJhbSByZXZpZXdlZEF0IC0gV2hlbiB0aGUgcmV2aWV3IGlzIGhhcHBlbmluZ1xuICAgKiBAcmV0dXJucyBSZXRyaWV2YWJpbGl0eSB2YWx1ZSAoMC0xKVxuICAgKi9cbiAgcHVibGljIGdldFJldHJpZXZhYmlsaXR5KFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICByZXZpZXdlZEF0OiBEYXRlID0gbmV3IERhdGUoKSxcbiAgKTogbnVtYmVyIHtcbiAgICBpZiAoIWNhcmQubGFzdFJldmlld2VkIHx8IGNhcmQuc3RhYmlsaXR5IDw9IDApIHtcbiAgICAgIHJldHVybiAwLjk7IC8vIERlZmF1bHQgZm9yIG5ldyBjYXJkcyBvciBpbnZhbGlkIHN0YWJpbGl0eVxuICAgIH1cblxuICAgIGNvbnN0IHJldmlld2VkQXRUaW1lID0gcmV2aWV3ZWRBdC5nZXRUaW1lKCk7XG4gICAgY29uc3QgbGFzdFJldmlld2VkVGltZSA9IG5ldyBEYXRlKGNhcmQubGFzdFJldmlld2VkKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZWxhcHNlZE1pbGxpc2Vjb25kcyA9IHJldmlld2VkQXRUaW1lIC0gbGFzdFJldmlld2VkVGltZTtcblxuICAgIC8vIENvbnZlcnQgdG8gZGF5cyB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAgY29uc3QgZWxhcHNlZERheXMgPSBNYXRoLm1heCgwLCBlbGFwc2VkTWlsbGlzZWNvbmRzIC8gTUlMTElTRUNPTkRTX1BFUl9EQVkpO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9yZ2V0dGluZ0N1cnZlKGVsYXBzZWREYXlzLCBjYXJkLnN0YWJpbGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIG5leHQgZGlmZmljdWx0eSB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAqL1xuICBwcml2YXRlIG5leHREaWZmaWN1bHR5KGRpZmZpY3VsdHk6IG51bWJlciwgcmF0aW5nOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICghaXNGaW5pdGUoZGlmZmljdWx0eSkgfHwgIWlzRmluaXRlKHJhdGluZykpIHtcbiAgICAgIHJldHVybiA1LjA7XG4gICAgfVxuXG4gICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuZ2V0V2VpZ2h0cygpO1xuICAgIGNvbnN0IHc2ID0gd2VpZ2h0c1s2XTtcbiAgICBjb25zdCByYXRpbmdEaWZmID0gcmF0aW5nIC0gMztcbiAgICBjb25zdCBkaWZmaWN1bHR5Q2hhbmdlID0gdzYgKiByYXRpbmdEaWZmO1xuICAgIGNvbnN0IG5leHREID0gZGlmZmljdWx0eSAtIGRpZmZpY3VsdHlDaGFuZ2U7XG5cbiAgICBjb25zdCB3NCA9IHdlaWdodHNbNF07XG4gICAgY29uc3QgcmV2ZXJ0ZWREID0gdGhpcy5tZWFuUmV2ZXJzaW9uKHc0LCBuZXh0RCk7XG5cbiAgICAvLyBBcHBseSBjbGFtcGluZyBvbmx5IGFmdGVyIGFsbCBjYWxjdWxhdGlvbnNcbiAgICBpZiAocmV2ZXJ0ZWREIDwgMSkgcmV0dXJuIDE7XG4gICAgaWYgKHJldmVydGVkRCA+IDEwKSByZXR1cm4gMTA7XG4gICAgcmV0dXJuIHJldmVydGVkRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZWFuIHJldmVyc2lvbiBjYWxjdWxhdGlvbiB3aXRoIG1heGltdW0gcHJlY2lzaW9uXG4gICAqL1xuICBwcml2YXRlIG1lYW5SZXZlcnNpb24oaW5pdDogbnVtYmVyLCBjdXJyZW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICghaXNGaW5pdGUoaW5pdCkgfHwgIWlzRmluaXRlKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm4gaW5pdDtcbiAgICB9XG5cbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5nZXRXZWlnaHRzKCk7XG4gICAgY29uc3QgdzcgPSB3ZWlnaHRzWzddO1xuICAgIGNvbnN0IGluaXRXZWlnaHQgPSB3NyAqIGluaXQ7XG4gICAgY29uc3QgY3VycmVudFdlaWdodCA9ICgxIC0gdzcpICogY3VycmVudDtcblxuICAgIHJldHVybiBpbml0V2VpZ2h0ICsgY3VycmVudFdlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgbmV4dCBzdGFiaWxpdHkgd2l0aCBtYXhpbXVtIHByZWNpc2lvblxuICAgKi9cbiAgcHJpdmF0ZSBuZXh0U3RhYmlsaXR5KFxuICAgIGRpZmZpY3VsdHk6IG51bWJlcixcbiAgICBzdGFiaWxpdHk6IG51bWJlcixcbiAgICByZXRyaWV2YWJpbGl0eTogbnVtYmVyLFxuICAgIHJhdGluZzogbnVtYmVyLFxuICApOiBudW1iZXIge1xuICAgIC8vIFZhbGlkYXRlIGlucHV0c1xuICAgIGlmIChcbiAgICAgICFpc0Zpbml0ZShkaWZmaWN1bHR5KSB8fFxuICAgICAgIWlzRmluaXRlKHN0YWJpbGl0eSkgfHxcbiAgICAgICFpc0Zpbml0ZShyZXRyaWV2YWJpbGl0eSlcbiAgICApIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChzdGFiaWxpdHksIDAuMDEpO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3Qgd2VpZ2h0cyB3aXRoIHZhbGlkYXRpb25cbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5nZXRXZWlnaHRzKCk7XG4gICAgY29uc3QgdzggPSBpc0Zpbml0ZSh3ZWlnaHRzWzhdKSA/IHdlaWdodHNbOF0gOiAwO1xuICAgIGNvbnN0IHc5ID0gaXNGaW5pdGUod2VpZ2h0c1s5XSkgPyB3ZWlnaHRzWzldIDogMC4xO1xuICAgIGNvbnN0IHcxMCA9IGlzRmluaXRlKHdlaWdodHNbMTBdKSA/IHdlaWdodHNbMTBdIDogMDtcbiAgICBjb25zdCB3MTUgPSBpc0Zpbml0ZSh3ZWlnaHRzWzE1XSkgPyB3ZWlnaHRzWzE1XSA6IDE7XG4gICAgY29uc3QgdzE2ID0gaXNGaW5pdGUod2VpZ2h0c1sxNl0pID8gd2VpZ2h0c1sxNl0gOiAxO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHBlbmFsdHkvYm9udXMgZmFjdG9yc1xuICAgIGNvbnN0IGhhcmRQZW5hbHR5ID0gcmF0aW5nID09PSAyID8gdzE1IDogMTtcbiAgICBjb25zdCBlYXN5Qm9udXMgPSByYXRpbmcgPT09IDQgPyB3MTYgOiAxO1xuXG4gICAgLy8gU3RvcmUgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucyB0byBhdm9pZCBwcmVjaXNpb24gbG9zc1xuICAgIGNvbnN0IGV4cFc4ID0gTWF0aC5leHAodzgpO1xuICAgIGNvbnN0IGRpZmZpY3VsdHlUZXJtID0gMTEgLSBkaWZmaWN1bHR5O1xuICAgIGNvbnN0IHN0YWJpbGl0eVBvd2VyVGVybSA9IHN0YWJpbGl0eSA+IDAgPyBNYXRoLnBvdyhzdGFiaWxpdHksIC13OSkgOiAxO1xuICAgIGNvbnN0IHJldHJpZXZhYmlsaXR5VGVybSA9IDEgLSByZXRyaWV2YWJpbGl0eTtcbiAgICBjb25zdCByZXRyaWV2YWJpbGl0eVByb2R1Y3QgPSByZXRyaWV2YWJpbGl0eVRlcm0gKiB3MTA7XG4gICAgY29uc3QgZXhwUmV0cmlldmFiaWxpdHlUZXJtID0gTWF0aC5leHAocmV0cmlldmFiaWxpdHlQcm9kdWN0KSAtIDE7XG5cbiAgICAvLyBWYWxpZGF0ZSBlYWNoIGludGVybWVkaWF0ZSByZXN1bHRcbiAgICBpZiAoXG4gICAgICAhaXNGaW5pdGUoZXhwVzgpIHx8XG4gICAgICAhaXNGaW5pdGUoZGlmZmljdWx0eVRlcm0pIHx8XG4gICAgICAhaXNGaW5pdGUoc3RhYmlsaXR5UG93ZXJUZXJtKSB8fFxuICAgICAgIWlzRmluaXRlKGV4cFJldHJpZXZhYmlsaXR5VGVybSlcbiAgICApIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChzdGFiaWxpdHksIDAuMDEpO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBncm93dGggZmFjdG9yIHdpdGggZnVsbCBwcmVjaXNpb25cbiAgICBjb25zdCBncm93dGhGYWN0b3IgPVxuICAgICAgZXhwVzggKiBkaWZmaWN1bHR5VGVybSAqIHN0YWJpbGl0eVBvd2VyVGVybSAqIGV4cFJldHJpZXZhYmlsaXR5VGVybTtcbiAgICBjb25zdCB0b3RhbEdyb3d0aEZhY3RvciA9IGdyb3d0aEZhY3RvciAqIGhhcmRQZW5hbHR5ICogZWFzeUJvbnVzO1xuICAgIGNvbnN0IG5ld1N0YWJpbGl0eUZhY3RvciA9IDEgKyB0b3RhbEdyb3d0aEZhY3RvcjtcbiAgICBjb25zdCByZXN1bHQgPSBzdGFiaWxpdHkgKiBuZXdTdGFiaWxpdHlGYWN0b3I7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXN1bHQgYW5kIGVuc3VyZSBpdCdzIHBvc2l0aXZlXG4gICAgcmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgJiYgcmVzdWx0ID4gMCA/IHJlc3VsdCA6IE1hdGgubWF4KHN0YWJpbGl0eSwgMC4xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgbmV4dCBpbnRlcnZhbCBpbiBtaW51dGVzIHdpdGggbWF4aW11bSBwcmVjaXNpb25cbiAgICovXG4gIHByaXZhdGUgbmV4dEludGVydmFsTWludXRlcyhzdGFiaWxpdHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgbWluSW50ZXJ2YWwgPSB0aGlzLmdldE1pbk1pbnV0ZXMoKTtcblxuICAgIC8vIFZhbGlkYXRlIHN0YWJpbGl0eVxuICAgIGlmICghaXNGaW5pdGUoc3RhYmlsaXR5KSB8fCBzdGFiaWxpdHkgPD0gMCkge1xuICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIHN0YWJpbGl0eTogJHtzdGFiaWxpdHl9LCB1c2luZyBtaW5NaW51dGVzYCk7XG4gICAgICByZXR1cm4gbWluSW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFyYW1ldGVyc1xuICAgIGlmIChcbiAgICAgICFpc0Zpbml0ZSh0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9uKSB8fFxuICAgICAgdGhpcy5wYXJhbXMucmVxdWVzdFJldGVudGlvbiA8PSAwIHx8XG4gICAgICB0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9uID49IDFcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYEludmFsaWQgcmVxdWVzdFJldGVudGlvbjogJHt0aGlzLnBhcmFtcy5yZXF1ZXN0UmV0ZW50aW9ufSwgdXNpbmcgbWluTWludXRlc2AsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG1pbkludGVydmFsO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB3aXRoIG1heGltdW0gcHJlY2lzaW9uIHVzaW5nIGV4YWN0IGNvbnN0YW50c1xuICAgIGNvbnN0IHJldGVudGlvbkxvZyA9IE1hdGgubG9nKHRoaXMucGFyYW1zLnJlcXVlc3RSZXRlbnRpb24pO1xuICAgIGNvbnN0IGJhc2VMb2cgPSBNYXRoLmxvZygwLjkpO1xuICAgIGNvbnN0IGsgPSByZXRlbnRpb25Mb2cgLyBiYXNlTG9nOyAvLyBwb3NpdGl2ZSBmb3IgMDxyZXF1ZXN0UmV0ZW50aW9uPDFcblxuICAgIC8vIENhbGN1bGF0ZSBpbnRlcnZhbCB1c2luZyBleGFjdCBkYXktdG8tbWludXRlIGNvbnZlcnNpb25cbiAgICBjb25zdCBpbnRlcnZhbERheXMgPSBzdGFiaWxpdHkgKiBrO1xuICAgIGNvbnN0IGludGVydmFsTWludXRlcyA9IGludGVydmFsRGF5cyAqIE1JTlVURVNfUEVSX0RBWTtcblxuICAgIC8vIFZhbGlkYXRlIGNhbGN1bGF0aW9uIHJlc3VsdFxuICAgIGlmICghaXNGaW5pdGUoaW50ZXJ2YWxNaW51dGVzKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgSW52YWxpZCBtaW51dGVzIGNhbGN1bGF0aW9uOiBzdGFiaWxpdHk9JHtzdGFiaWxpdHl9LCBrPSR7a30sIHVzaW5nIG1pbk1pbnV0ZXNgLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBtaW5JbnRlcnZhbDtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBib3VuZHMgd2l0aCBleGFjdCBjb252ZXJzaW9uXG4gICAgY29uc3QgbWF4SW50ZXJ2YWwgPSB0aGlzLmdldE1heEludGVydmFsRGF5cygpICogTUlOVVRFU19QRVJfREFZO1xuXG4gICAgbGV0IHJlc3VsdCA9IGludGVydmFsTWludXRlcztcbiAgICBpZiAocmVzdWx0IDwgbWluSW50ZXJ2YWwpIHJlc3VsdCA9IG1pbkludGVydmFsO1xuICAgIGlmIChyZXN1bHQgPiBtYXhJbnRlcnZhbCkgcmVzdWx0ID0gbWF4SW50ZXJ2YWw7XG5cbiAgICAvLyBGaW5hbCB2YWxpZGF0aW9uIHRvIGVuc3VyZSByZXN1bHQgaXMgZmluaXRlXG4gICAgaWYgKCFpc0Zpbml0ZShyZXN1bHQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmluYWwgcmVzdWx0OiAke3Jlc3VsdH0sIHVzaW5nIG1pbk1pbnV0ZXNgKTtcbiAgICAgIHJldHVybiBtaW5JbnRlcnZhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBlbGFwc2VkIGRheXMgd2l0aCBtYXhpbXVtIHByZWNpc2lvblxuICAgKi9cbiAgcHJpdmF0ZSBnZXRFbGFwc2VkRGF5cyhsYXN0UmV2aWV3OiBEYXRlLCBub3c6IERhdGUpOiBudW1iZXIge1xuICAgIGNvbnN0IG5vd1RpbWUgPSBub3cuZ2V0VGltZSgpO1xuICAgIGNvbnN0IGxhc3RSZXZpZXdUaW1lID0gbGFzdFJldmlldy5nZXRUaW1lKCk7XG4gICAgY29uc3QgZWxhcHNlZE1pbGxpc2Vjb25kcyA9IG5vd1RpbWUgLSBsYXN0UmV2aWV3VGltZTtcbiAgICBjb25zdCBlbGFwc2VkRGF5cyA9IGVsYXBzZWRNaWxsaXNlY29uZHMgLyBNSUxMSVNFQ09ORFNfUEVSX0RBWTtcblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBlbGFwc2VkRGF5cyk7XG4gIH1cblxuICBwcml2YXRlIGZsYXNoY2FyZFRvRlNSUyhjYXJkOiBGbGFzaGNhcmQpOiBGU1JTQ2FyZCB7XG4gICAgY29uc3QgbGFzdFJldmlldyA9IGNhcmQubGFzdFJldmlld2VkXG4gICAgICA/IG5ldyBEYXRlKGNhcmQubGFzdFJldmlld2VkKVxuICAgICAgOiBuZXcgRGF0ZSgpO1xuXG4gICAgY29uc3QgZGlmZmljdWx0eSA9IGNhcmQuZGlmZmljdWx0eSB8fCA1LjA7IC8vIFVzZSBkaWZmaWN1bHR5IGZpZWxkXG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhYmlsaXR5OiBjYXJkLnN0YWJpbGl0eSB8fCAwLFxuICAgICAgZGlmZmljdWx0eTogZGlmZmljdWx0eSB8fCAwLFxuICAgICAgZWxhcHNlZERheXM6IDAsIC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBpbiBzY2hlZHVsaW5nXG4gICAgICByZXBzOiBjYXJkLnJlcGV0aXRpb25zLFxuICAgICAgbGFwc2VzOiBjYXJkLmxhcHNlcyB8fCAwLFxuICAgICAgc3RhdGU6IHRoaXMuZmxhc2hjYXJkU3RhdGVUb0ZTUlNTdGF0ZShjYXJkLnN0YXRlKSxcbiAgICAgIGxhc3RSZXZpZXcsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZmxhc2hjYXJkU3RhdGVUb0ZTUlNTdGF0ZShzdGF0ZTogRmxhc2hjYXJkU3RhdGUpOiBGU1JTU3RhdGUge1xuICAgIC8vIE1hcCBhbGwgbm9uLW5ldyBzdGF0ZXMgdG8gUmV2aWV3IGZvciBwdXJlIEZTUlNcbiAgICByZXR1cm4gc3RhdGUgPT09IFwibmV3XCIgPyBcIk5ld1wiIDogXCJSZXZpZXdcIjtcbiAgfVxuXG4gIHByaXZhdGUgZnNyc1N0YXRlVG9GbGFzaGNhcmRTdGF0ZShzdGF0ZTogRlNSU1N0YXRlKTogRmxhc2hjYXJkU3RhdGUge1xuICAgIC8vIE1hcCBGU1JTIHN0YXRlcyB0byBmbGFzaGNhcmQgc3RhdGVzIChvbmx5IG5ldyBhbmQgcmV2aWV3IGZvciBwdXJlIEZTUlMpXG4gICAgcmV0dXJuIHN0YXRlID09PSBcIk5ld1wiID8gXCJuZXdcIiA6IFwicmV2aWV3XCI7XG4gIH1cblxuICBwcml2YXRlIGRpZmZpY3VsdHlUb1JhdGluZyhkaWZmaWN1bHR5OiBEaWZmaWN1bHR5KTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKGRpZmZpY3VsdHkpIHtcbiAgICAgIGNhc2UgXCJhZ2FpblwiOlxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgXCJoYXJkXCI6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcImdvb2RcIjpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlIFwiZWFzeVwiOlxuICAgICAgICByZXR1cm4gNDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGlzcGxheSB0ZXh0IGZvciBpbnRlcnZhbHMgLSBVSSBmb3JtYXR0aW5nIG9ubHlcbiAgICovXG4gIHN0YXRpYyBnZXRJbnRlcnZhbERpc3BsYXkobWludXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAobWludXRlcyA8IDYwKSB7XG4gICAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChtaW51dGVzKX1tYDtcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX1BFUl9EQVkpIHtcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5yb3VuZChtaW51dGVzIC8gNjApO1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWhgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXlzID0gTWF0aC5yb3VuZChtaW51dGVzIC8gTUlOVVRFU19QRVJfREFZKTtcbiAgICAgIGlmIChkYXlzIDwgMzApIHtcbiAgICAgICAgcmV0dXJuIGAke2RheXN9ZGA7XG4gICAgICB9IGVsc2UgaWYgKGRheXMgPCAzNjUpIHtcbiAgICAgICAgY29uc3QgbW9udGhzID0gTWF0aC5yb3VuZChkYXlzIC8gMzApO1xuICAgICAgICByZXR1cm4gYCR7bW9udGhzfW1vYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHllYXJzID0gZGF5cyAvIDM2NTtcbiAgICAgICAgcmV0dXJuIGAke3JvdW5kRm9yRGlzcGxheSh5ZWFycywgMSl9eWA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgREVGQVVMVF9GU1JTX1BBUkFNRVRFUlMgfSBmcm9tIFwiLi9hbGdvcml0aG0vZnNycy13ZWlnaHRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkc1NldHRpbmdzIHtcbiAgLy8gUmV2aWV3IFNlc3Npb24gU2V0dGluZ3NcbiAgcmV2aWV3OiB7XG4gICAgc2hvd1Byb2dyZXNzOiBib29sZWFuO1xuICAgIGVuYWJsZUtleWJvYXJkU2hvcnRjdXRzOiBib29sZWFuO1xuICB9O1xuXG4gIC8vIFBhcnNpbmcgU2V0dGluZ3NcbiAgcGFyc2luZzoge1xuICAgIGhlYWRlckxldmVsOiBudW1iZXI7IC8vIDEtNiwgd2hpY2ggaGVhZGVyIGxldmVsIHRvIHBhcnNlIGZvciBoZWFkZXItcGFyYWdyYXBoIGZsYXNoY2FyZHNcbiAgfTtcblxuICAvLyBVSSBTZXR0aW5nc1xuICB1aToge1xuICAgIGVuYWJsZUJhY2tncm91bmRSZWZyZXNoOiBib29sZWFuO1xuICAgIGJhY2tncm91bmRSZWZyZXNoSW50ZXJ2YWw6IG51bWJlcjsgLy8gc2Vjb25kc1xuICAgIGVuYWJsZU5vdGljZXM6IGJvb2xlYW47XG4gIH07XG5cbiAgLy8gRGVidWcgU2V0dGluZ3NcbiAgZGVidWc6IHtcbiAgICBlbmFibGVMb2dnaW5nOiBib29sZWFuO1xuICAgIHBlcmZvcm1hbmNlTG9nczogYm9vbGVhbjtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEZsYXNoY2FyZHNTZXR0aW5ncyA9IHtcbiAgcmV2aWV3OiB7XG4gICAgc2hvd1Byb2dyZXNzOiB0cnVlLFxuICAgIGVuYWJsZUtleWJvYXJkU2hvcnRjdXRzOiB0cnVlLFxuICB9LFxuXG4gIHBhcnNpbmc6IHtcbiAgICBoZWFkZXJMZXZlbDogMiwgLy8gRGVmYXVsdCB0byBIMiBoZWFkZXJzXG4gIH0sXG5cbiAgdWk6IHtcbiAgICBlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsOiA1LFxuICAgIGVuYWJsZU5vdGljZXM6IHRydWUsXG4gIH0sXG5cbiAgZGVidWc6IHtcbiAgICBlbmFibGVMb2dnaW5nOiBmYWxzZSxcbiAgICBwZXJmb3JtYW5jZUxvZ3M6IGZhbHNlLFxuICB9LFxufTtcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEZsYXNoY2FyZHNTZXR0aW5ncyB9IGZyb20gXCIuLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgRGVja3NTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHByaXZhdGUgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncztcbiAgcHJpdmF0ZSBzYXZlU2V0dGluZ3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcGVyZm9ybVN5bmM6IChmb3JjZT86IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcmVmcmVzaFZpZXdTdGF0czogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZXN0YXJ0QmFja2dyb3VuZFJlZnJlc2g6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBzdG9wQmFja2dyb3VuZFJlZnJlc2g6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcHVyZ2VEYXRhYmFzZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwbHVnaW46IGFueSxcbiAgICBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzLFxuICAgIHNhdmVTZXR0aW5nczogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICBwZXJmb3JtU3luYzogKGZvcmNlPzogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPixcbiAgICByZWZyZXNoVmlld1N0YXRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIHJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZCxcbiAgICBzdGFydEJhY2tncm91bmRSZWZyZXNoOiAoKSA9PiB2b2lkLFxuICAgIHN0b3BCYWNrZ3JvdW5kUmVmcmVzaDogKCkgPT4gdm9pZCxcbiAgICBwdXJnZURhdGFiYXNlOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICApIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gc2F2ZVNldHRpbmdzO1xuICAgIHRoaXMucGVyZm9ybVN5bmMgPSBwZXJmb3JtU3luYztcbiAgICB0aGlzLnJlZnJlc2hWaWV3U3RhdHMgPSByZWZyZXNoVmlld1N0YXRzO1xuICAgIHRoaXMucmVzdGFydEJhY2tncm91bmRSZWZyZXNoID0gcmVzdGFydEJhY2tncm91bmRSZWZyZXNoO1xuICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCA9IHN0YXJ0QmFja2dyb3VuZFJlZnJlc2g7XG4gICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2ggPSBzdG9wQmFja2dyb3VuZFJlZnJlc2g7XG4gICAgdGhpcy5wdXJnZURhdGFiYXNlID0gcHVyZ2VEYXRhYmFzZTtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiRGVja3MgUGx1Z2luIFNldHRpbmdzXCIgfSk7XG5cbiAgICAvLyBSZXZpZXcgU2Vzc2lvbiBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUmV2aWV3U2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXG4gICAgLy8gUGFyc2luZyBTZXR0aW5nc1xuICAgIHRoaXMuYWRkUGFyc2luZ1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIFVJIFNldHRpbmdzXG4gICAgdGhpcy5hZGRVSVNldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIERlYnVnIFNldHRpbmdzXG4gICAgdGhpcy5hZGREZWJ1Z1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIERhdGFiYXNlIE1hbmFnZW1lbnQgU2V0dGluZ3NcbiAgICB0aGlzLmFkZERhdGFiYXNlU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRSZXZpZXdTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJSZXZpZXcgU2Vzc2lvbnNcIiB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTaG93IFByb2dyZXNzXCIpXG4gICAgICAuc2V0RGVzYyhcIkRpc3BsYXkgcHJvZ3Jlc3MgYmFyIGR1cmluZyByZXZpZXcgc2Vzc2lvbnNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MucmV2aWV3LnNob3dQcm9ncmVzcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnJldmlldy5zaG93UHJvZ3Jlc3MgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIktleWJvYXJkIFNob3J0Y3V0c1wiKVxuICAgICAgLnNldERlc2MoXCJFbmFibGUga2V5Ym9hcmQgc2hvcnRjdXRzIGluIHJldmlldyBtb2RhbCAoMS00IGZvciBkaWZmaWN1bHR5KVwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5yZXZpZXcuZW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHMpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5yZXZpZXcuZW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQYXJzaW5nU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiUGFyc2luZyBTZXR0aW5nc1wiIH0pO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiBcIkNvbmZpZ3VyZSBob3cgZmxhc2hjYXJkcyBhcmUgcGFyc2VkIGZyb20geW91ciBub3Rlcy5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJIZWFkZXIgTGV2ZWwgZm9yIEZsYXNoY2FyZHNcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIldoaWNoIGhlYWRlciBsZXZlbCB0byB1c2UgZm9yIGhlYWRlci1wYXJhZ3JhcGggZmxhc2hjYXJkcyAoSDEgPSAxLCBIMiA9IDIsIGV0Yy4pXCIsXG4gICAgICApXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICBkcm9wZG93blxuICAgICAgICAgIC5hZGRPcHRpb24oXCIxXCIsIFwiSDEgKCMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjJcIiwgXCJIMiAoIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjNcIiwgXCJIMyAoIyMjKVwiKVxuICAgICAgICAgIC5hZGRPcHRpb24oXCI0XCIsIFwiSDQgKCMjIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjVcIiwgXCJINSAoIyMjIyMpXCIpXG4gICAgICAgICAgLmFkZE9wdGlvbihcIjZcIiwgXCJINiAoIyMjIyMjKVwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLnBhcnNpbmcuaGVhZGVyTGV2ZWwudG9TdHJpbmcoKSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnBhcnNpbmcuaGVhZGVyTGV2ZWwgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAvLyBGb3JjZSBzeW5jIGFsbCBkZWNrcyB0byBlbnN1cmUgYWxsIGhlYWRlciBsZXZlbHMgYXJlIHBhcnNlZCBhbmQgc3RvcmVkXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBlcmZvcm1TeW5jKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSB2aWV3IHRvIHNob3cgZmxhc2hjYXJkcyBmb3IgdGhlIG5ldyBoZWFkZXIgbGV2ZWxcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFZpZXdTdGF0cygpO1xuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkVUlTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJVc2VyIEludGVyZmFjZVwiIH0pO1xuXG4gICAgY29uc3QgaW50ZXJ2YWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkJhY2tncm91bmQgUmVmcmVzaCBJbnRlcnZhbFwiKVxuICAgICAgLnNldERlc2MoXCJIb3cgb2Z0ZW4gdG8gcmVmcmVzaCBkZWNrIHN0YXRzIGluIHRoZSBzaWRlIHBhbmVsIChpbiBzZWNvbmRzKVwiKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCI1XCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MudWkuYmFja2dyb3VuZFJlZnJlc2hJbnRlcnZhbC50b1N0cmluZygpKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4obnVtKSAmJiBudW0gPj0gMSAmJiBudW0gPD0gNjApIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy51aS5iYWNrZ3JvdW5kUmVmcmVzaEludGVydmFsID0gbnVtO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAvLyBSZXN0YXJ0IGJhY2tncm91bmQgcmVmcmVzaCB3aXRoIG5ldyBpbnRlcnZhbFxuICAgICAgICAgICAgICB0aGlzLnJlc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJFbmFibGUgQmFja2dyb3VuZCBSZWZyZXNoXCIpXG4gICAgICAuc2V0RGVzYyhcIkF1dG9tYXRpY2FsbHkgcmVmcmVzaCBkZWNrIHN0YXRzIGluIHRoZSBzaWRlIHBhbmVsXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLnVpLmVuYWJsZUJhY2tncm91bmRSZWZyZXNoKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlQmFja2dyb3VuZFJlZnJlc2ggPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cbiAgICAgICAgICAgIC8vIEVuYWJsZS9kaXNhYmxlIGludGVydmFsIHNldHRpbmcgYmFzZWQgb24gdG9nZ2xlXG4gICAgICAgICAgICBpbnRlcnZhbFNldHRpbmcuc2V0RGlzYWJsZWQoIXZhbHVlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgb3Igc3RvcCBiYWNrZ3JvdW5kIHJlZnJlc2ggYmFzZWQgb24gc2V0dGluZ1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zdG9wQmFja2dyb3VuZFJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRW5hYmxlIE5vdGljZXNcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIlNob3cgbm90aWZpY2F0aW9uIG1lc3NhZ2VzIGZvciBjb21wbGV0ZWQgcmV2aWV3IHNlc3Npb25zIGFuZCBzeW5jIG9wZXJhdGlvbnNcIixcbiAgICAgIClcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3MudWkuZW5hYmxlTm90aWNlcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnVpLmVuYWJsZU5vdGljZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGUgb2YgaW50ZXJ2YWwgc2V0dGluZ1xuICAgIGludGVydmFsU2V0dGluZy5zZXREaXNhYmxlZCghdGhpcy5zZXR0aW5ncy51aS5lbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCk7XG4gIH1cblxuICBwcml2YXRlIGFkZERlYnVnU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiRGVidWdcIiB9KTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xuICAgICAgdGV4dDogXCJEZWJ1ZyBzZXR0aW5ncyBmb3IgdHJvdWJsZXNob290aW5nIGFuZCBkZXZlbG9wbWVudC5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJFbmFibGUgRGVidWcgTG9nZ2luZ1wiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiU2hvdyBkZXRhaWxlZCBsb2dnaW5nIGluIHRoZSBjb25zb2xlIGZvciBzeW5jIG9wZXJhdGlvbnMgYW5kIGZsYXNoY2FyZCBwcm9jZXNzaW5nXCIsXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLmRlYnVnPy5lbmFibGVMb2dnaW5nIHx8IGZhbHNlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlYnVnID0ge1xuICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlTG9nczogZmFsc2UsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlYnVnLmVuYWJsZUxvZ2dpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkVuYWJsZSBQZXJmb3JtYW5jZSBMb2dzXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJTaG93IHBlcmZvcm1hbmNlIHRpbWluZyBtZXRyaWNzIGluIHRoZSBjb25zb2xlIChzeW5jIHRpbWVzLCBwYXJzaW5nIHBlcmZvcm1hbmNlLCBldGMuKVwiLFxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5kZWJ1Zz8ucGVyZm9ybWFuY2VMb2dzIHx8IGZhbHNlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlYnVnID0ge1xuICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlTG9nczogZmFsc2UsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlYnVnLnBlcmZvcm1hbmNlTG9ncyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIGFkZERhdGFiYXNlU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiRGF0YWJhc2UgTWFuYWdlbWVudFwiIH0pO1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiBcIk1hbmFnZSB5b3VyIGZsYXNoY2FyZCBkYXRhYmFzZS4gVXNlIHdpdGggY2F1dGlvbiAtIHRoZXNlIGFjdGlvbnMgY2Fubm90IGJlIHVuZG9uZS5cIixcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJQdXJnZSBEYXRhYmFzZVwiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiXHUyNkEwXHVGRTBGIFBlcm1hbmVudGx5IGRlbGV0ZSBhbGwgZmxhc2hjYXJkcywgcmV2aWV3IGhpc3RvcnksIGFuZCBkZWNrIGRhdGEuIFRoaXMgd2lsbCBmb3JjZSBhIGNsZWFuIHJlYnVpbGQgZnJvbSB5b3VyIHZhdWx0IGZpbGVzLiBBbGwgcHJvZ3Jlc3Mgd2lsbCBiZSBsb3N0IVwiLFxuICAgICAgKVxuICAgICAgLmFkZEJ1dHRvbigoYnV0dG9uKSA9PlxuICAgICAgICBidXR0b25cbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlB1cmdlIERhdGFiYXNlXCIpXG4gICAgICAgICAgLnNldFdhcm5pbmcoKVxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIG5ldyBEYXRhYmFzZVB1cmdlTW9kYWwoXG4gICAgICAgICAgICAgIHRoaXMuYXBwLFxuICAgICAgICAgICAgICB0aGlzLnB1cmdlRGF0YWJhc2UsXG4gICAgICAgICAgICAgIHRoaXMucGVyZm9ybVN5bmMsXG4gICAgICAgICAgICAgIHRoaXMucmVmcmVzaFZpZXdTdGF0cyxcbiAgICAgICAgICAgICkub3BlbigpO1xuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgfVxufVxuXG5jbGFzcyBEYXRhYmFzZVB1cmdlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcHVyZ2VEYXRhYmFzZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSBwZXJmb3JtU3luYzogKGZvcmNlPzogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSByZWZyZXNoVmlld1N0YXRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHB1cmdlRGF0YWJhc2U6ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgcGVyZm9ybVN5bmM6IChmb3JjZT86IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD4sXG4gICAgcmVmcmVzaFZpZXdTdGF0czogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnB1cmdlRGF0YWJhc2UgPSBwdXJnZURhdGFiYXNlO1xuICAgIHRoaXMucGVyZm9ybVN5bmMgPSBwZXJmb3JtU3luYztcbiAgICB0aGlzLnJlZnJlc2hWaWV3U3RhdHMgPSByZWZyZXNoVmlld1N0YXRzO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlx1MjZBMFx1RkUwRiBQdXJnZSBEYXRhYmFzZVwiIH0pO1xuXG4gICAgY29uc3Qgd2FybmluZyA9IGNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICBjbHM6IFwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXG4gICAgfSk7XG4gICAgd2FybmluZy5pbm5lckhUTUwgPSBgXG4gICAgICA8cD48c3Ryb25nPlRoaXMgd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgQUxMIGZsYXNoY2FyZCBkYXRhIGluY2x1ZGluZzo8L3N0cm9uZz48L3A+XG4gICAgICA8dWw+XG4gICAgICAgIDxsaT5BbGwgZmxhc2hjYXJkcyBhbmQgdGhlaXIgY29udGVudDwvbGk+XG4gICAgICAgIDxsaT5Db21wbGV0ZSByZXZpZXcgaGlzdG9yeSBhbmQgcHJvZ3Jlc3M8L2xpPlxuICAgICAgICA8bGk+QWxsIGRlY2sgaW5mb3JtYXRpb248L2xpPlxuICAgICAgICA8bGk+U3RhdGlzdGljYWwgZGF0YTwvbGk+XG4gICAgICA8L3VsPlxuICAgICAgPHA+PHN0cm9uZz5UaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lITwvc3Ryb25nPjwvcD5cbiAgICAgIDxwPlRoZSBkYXRhYmFzZSB3aWxsIGJlIHJlYnVpbHQgZnJvbSB5b3VyIGN1cnJlbnQgdmF1bHQgZmlsZXMsIGJ1dCBhbGwgcHJvZ3Jlc3Mgd2lsbCBiZSBsb3N0LjwvcD5cbiAgICBgO1xuXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiAnVHlwZSBcIkRFTEVURSBBTEwgREFUQVwiIHRvIGNvbmZpcm06JyxcbiAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICB9KTtcblxuICAgIGNvbnN0IGlucHV0ID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaW5wdXRcIiwge1xuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBwbGFjZWhvbGRlcjogXCJERUxFVEUgQUxMIERBVEFcIixcbiAgICB9KTtcbiAgICBpbnB1dC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIGlucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMXJlbVwiO1xuXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmdhcCA9IFwiMC41cmVtXCI7XG4gICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJmbGV4LWVuZFwiO1xuXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJDYW5jZWxcIiB9KTtcbiAgICBjYW5jZWxCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuY2xvc2UoKTtcblxuICAgIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwge1xuICAgICAgdGV4dDogXCJQdXJnZSBEYXRhYmFzZVwiLFxuICAgICAgY2xzOiBcIm1vZC13YXJuaW5nXCIsXG4gICAgfSk7XG5cbiAgICBjb25maXJtQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaW5wdXQudmFsdWUgPT09IFwiREVMRVRFIEFMTCBEQVRBXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgICAvLyBTaG93IHByb2dyZXNzIG5vdGljZVxuICAgICAgICAgIGNvbnN0IG5vdGljZSA9IG5ldyBOb3RpY2UoXCJQdXJnaW5nIGRhdGFiYXNlLi4uXCIsIDApO1xuXG4gICAgICAgICAgLy8gUHVyZ2UgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgYXdhaXQgdGhpcy5wdXJnZURhdGFiYXNlKCk7XG5cbiAgICAgICAgICAvLyBUcmlnZ2VyIGEgZnVsbCBzeW5jIHRvIHJlYnVpbGQgZnJvbSB2YXVsdFxuICAgICAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVN5bmModHJ1ZSk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIG5vdGljZVxuICAgICAgICAgIG5vdGljZS5zZXRNZXNzYWdlKFwiXHUyNzA1IERhdGFiYXNlIHB1cmdlZCBhbmQgcmVidWlsdCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBub3RpY2UuaGlkZSgpLCAzMDAwKTtcblxuICAgICAgICAgIC8vIFJlZnJlc2ggdGhlIHZpZXdcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hWaWV3U3RhdHMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHB1cmdlIGRhdGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICAgIFwiXHUyNzRDIEZhaWxlZCB0byBwdXJnZSBkYXRhYmFzZS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5cIixcbiAgICAgICAgICAgIDUwMDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICBcIkNvbmZpcm1hdGlvbiB0ZXh0IGRvZXNuJ3QgbWF0Y2guIERhdGFiYXNlIHB1cmdlIGNhbmNlbGxlZC5cIixcbiAgICAgICAgICAzMDAwLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBGb2N1cyB0aGUgaW5wdXRcbiAgICBpbnB1dC5mb2N1cygpO1xuXG4gICAgLy8gQWxsb3cgRW50ZXIga2V5IHRvIGNvbmZpcm1cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIGNvbmZpcm1CdXR0b24uY2xpY2soKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICJmdW5jdGlvbiBub29wKCkgeyB9XG5jb25zdCBpZGVudGl0eSA9IHggPT4geDtcbmZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBmb3IgKGNvbnN0IGsgaW4gc3JjKVxuICAgICAgICB0YXJba10gPSBzcmNba107XG4gICAgcmV0dXJuIHRhcjtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbmZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuICAgIGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcbiAgICAgICAgc3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgaWYgKHNsb3RfY2hhbmdlcykge1xuICAgICAgICBjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbiAgICAgICAgc2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5mdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuICAgIGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IFtdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cbmZ1bmN0aW9uIHNwbGl0X2Nzc191bml0KHZhbHVlKSB7XG4gICAgY29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcbiAgICByZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogW3ZhbHVlLCAncHgnXTtcbn1cbmNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5sZXQgcmFmID0gaXNfY2xpZW50ID8gY2IgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKSA6IG5vb3A7XG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIHNldF9ub3coZm4pIHtcbiAgICBub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICByYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKi9cbmZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuICAgIHRhc2tzLmNsZWFyKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbi8qKlxuICogUmVzaXplIG9ic2VydmVyIHNpbmdsZXRvbi5cbiAqIE9uZSBsaXN0ZW5lciBwZXIgZWxlbWVudCBvbmx5IVxuICogaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9hL2Nocm9taXVtLm9yZy9nL2JsaW5rLWRldi9jL3o2aWVuT05VYjVBL20vRjUtVmNVWnRCQUFKXG4gKi9cbmNsYXNzIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9ICdXZWFrTWFwJyBpbiBnbG9iYWxzID8gbmV3IFdlYWtNYXAoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb2JzZXJ2ZShlbGVtZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KGVsZW1lbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5fZ2V0T2JzZXJ2ZXIoKS5vYnNlcnZlKGVsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpOyAvLyB0aGlzIGxpbmUgY2FuIHByb2JhYmx5IGJlIHJlbW92ZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldE9ic2VydmVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9vYnNlcnZlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMuX29ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBSZXNpemVPYnNlcnZlclNpbmdsZXRvbi5lbnRyaWVzLnNldChlbnRyeS50YXJnZXQsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9saXN0ZW5lcnMuZ2V0KGVudHJ5LnRhcmdldCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYShlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4vLyBOZWVkcyB0byBiZSB3cml0dGVuIGxpa2UgdGhpcyB0byBwYXNzIHRoZSB0cmVlLXNoYWtlLXRlc3RcblJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmVudHJpZXMgPSAnV2Vha01hcCcgaW4gZ2xvYmFscyA/IG5ldyBXZWFrTWFwKCkgOiB1bmRlZmluZWQ7XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5mdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG4gICAgLy8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbn1cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuICAgIC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cbiAgICBsZXQgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGROb2RlcztcbiAgICAvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuICAgICAgICBjb25zdCBteUNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBteUNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSBteUNoaWxkcmVuO1xuICAgIH1cbiAgICAvKlxuICAgICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cbiAgICAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2ZcbiAgICAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG4gICAgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuICAgICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cbiAgICAqXG4gICAgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcbiAgICAqIHBvc3NpYmxlLlxuICAgICpcbiAgICAqIFByb29mOlxuICAgICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG4gICAgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcbiAgICAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG4gICAgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuICAgICovXG4gICAgLy8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICAvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG4gICAgY29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG4gICAgY29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbVswXSA9IC0xO1xuICAgIGxldCBsb25nZXN0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgLy8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcbiAgICAgICAgLy8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2VcbiAgICAgICAgY29uc3Qgc2VxTGVuID0gKChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50KSA/IGxvbmdlc3QgKyAxIDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgaWR4ID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG4gICAgICAgIHBbaV0gPSBtW3NlcUxlbl0gKyAxO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuICAgICAgICAvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG4gICAgICAgIG1bbmV3TGVuXSA9IGk7XG4gICAgICAgIGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuICAgIH1cbiAgICAvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG4gICAgY29uc3QgbGlzID0gW107XG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcbiAgICBjb25zdCB0b01vdmUgPSBbXTtcbiAgICBsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG4gICAgICAgIGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcbiAgICAgICAgZm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcbiAgICAgICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0LS07XG4gICAgfVxuICAgIGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgfVxuICAgIGxpcy5yZXZlcnNlKCk7XG4gICAgLy8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG4gICAgdG9Nb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcbiAgICAvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9Nb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0b01vdmVbaV0sIGFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG4gICAgY29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuICAgIGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgICAgICAgYXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJvb3QgJiYgcm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuICAgIGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgIGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG4gICAgcmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuICAgIGFwcGVuZChub2RlLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuICAgIHJldHVybiBzdHlsZS5zaGVldDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG4gICAgaWYgKGlzX2h5ZHJhdGluZykge1xuICAgICAgICBpbml0X2h5ZHJhdGUodGFyZ2V0KTtcbiAgICAgICAgaWYgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkKSB8fCAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcbiAgICAgICAgd2hpbGUgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCkgJiYgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuICAgICAgICAgICAgLy8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcbiAgICAgICAgYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNfcHJvcChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGNvbW1lbnQoY29udGVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LmlzVHJ1c3RlZClcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcbmZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcbiAgICAgICAgICAgIG5vZGUudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzY3JpcHRvcnNba2V5XSAmJiBkZXNjcmlwdG9yc1trZXldLnNldCAmJiBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZS5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wIGluIG5vZGUpIHtcbiAgICAgICAgbm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuICAgIHJldHVybiAoLy0vLnRlc3QodGFnKSkgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cbmZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG4gICAgY29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoZ3JvdXBbaV0uY2hlY2tlZClcbiAgICAgICAgICAgIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcbiAgICB9XG4gICAgaWYgKCFjaGVja2VkKSB7XG4gICAgICAgIHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG4gICAgbGV0IF9pbnB1dHM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuICAgICAgICAgICAgX2lucHV0cyA9IGlucHV0cztcbiAgICAgICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBncm91cC5wdXNoKGlucHV0KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qIHJlbW92ZSAqLyByKCkge1xuICAgICAgICAgICAgX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG4gICAgbGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcbiAgICBsZXQgX2lucHV0cztcbiAgICBmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBfZ3JvdXAucHVzaChpbnB1dCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIF9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuICAgICAgICAgICAgaW5kZXhlcyA9IG5ld19pbmRleGVzO1xuICAgICAgICAgICAgY29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuICAgICAgICAgICAgaWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgX2dyb3VwID0gbmV3X2dyb3VwO1xuICAgICAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuICAgICAgICAgICAgX2lucHV0cyA9IGlucHV0cztcbiAgICAgICAgICAgIHB1c2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogcmVtb3ZlICovIHI6IHJlbW92ZVxuICAgIH07XG59XG5mdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcbiAgICBpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3NOb2RlLCBjcmVhdGVOb2RlLCBkb250VXBkYXRlTGFzdEluZGV4ID0gZmFsc2UpIHtcbiAgICAvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgcmVzdWx0Tm9kZSA9ICgoKSA9PiB7XG4gICAgICAgIC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICBmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcbiAgICAgICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIHJldHVybiBjcmVhdGVOb2RlKCk7XG4gICAgfSkoKTtcbiAgICByZXN1bHROb2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgIG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuICAgIHJldHVybiByZXN1bHROb2RlO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSwgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbW92ZS5mb3JFYWNoKHYgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sICgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMywgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YVN0ciA9ICcnICsgZGF0YTtcbiAgICAgICAgaWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFTdHIpKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YVN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YVN0ci5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gZGF0YVN0cjtcbiAgICAgICAgfVxuICAgIH0sICgpID0+IHRleHQoZGF0YSksIHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG4gICAgKTtcbn1cbmZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21tZW50KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4LCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRhdGEgPSAnJyArIGRhdGE7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY29tbWVudChkYXRhKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBmaW5kX2NvbW1lbnQobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG4gICAgLy8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG4gICAgY29uc3Qgc3RhcnRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuICAgIGNvbnN0IGVuZF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4KTtcbiAgICBpZiAoc3RhcnRfaW5kZXggPT09IGVuZF9pbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24odW5kZWZpbmVkLCBpc19zdmcpO1xuICAgIH1cbiAgICBpbml0X2NsYWltX2luZm8obm9kZXMpO1xuICAgIGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG4gICAgZm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcbiAgICAgICAgbi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihjbGFpbWVkX25vZGVzLCBpc19zdmcpO1xufVxuZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQuZGF0YSA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG4gICAgaWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG4gICAgICAgIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldF9kYXRhKHRleHQsIGRhdGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSwgbW91bnRpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbW91bnRpbmcgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG4gICAgcmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcbiAgICByZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIG9wdGlvbiA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcbmxldCBjcm9zc29yaWdpbjtcbmZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNyb3Nzb3JpZ2luID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5mdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuICAgIGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIH1cbiAgICBjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuICAgICAgICAnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGlmcmFtZS50YWJJbmRleCA9IC0xO1xuICAgIGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcbiAgICBsZXQgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3Rlbih3aW5kb3csICdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdylcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYW4gaW5pdGlhbCByZXNpemUgZXZlbnQgaXMgZmlyZWQgX2FmdGVyXyB0aGUgaWZyYW1lIGlzIGxvYWRlZCAod2hpY2ggaXMgYXN5bmNocm9ub3VzKVxuICAgICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzQyMzNcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZChub2RlLCBpZnJhbWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBkZXRhY2goaWZyYW1lKTtcbiAgICB9O1xufVxuY29uc3QgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2NvbnRlbnQtYm94JyB9KTtcbmNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7IGJveDogJ2JvcmRlci1ib3gnIH0pO1xuY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oeyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH0pO1xuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBzdGFydGVkID0gMDtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLykge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9FTkRgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCAtPSAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNsYXNzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaXNfc3ZnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgIH1cbiAgICBjKGh0bWwpIHtcbiAgICAgICAgdGhpcy5oKGh0bWwpO1xuICAgIH1cbiAgICBtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNfc3ZnKVxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHN2Z19lbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICAvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqL1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IGVsZW1lbnQoKHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lKSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJyA/IHRhcmdldCA6IHRhcmdldC5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5jKGh0bWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaShhbmNob3IpO1xuICAgIH1cbiAgICBoKGh0bWwpIHtcbiAgICAgICAgdGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHRoaXMubiA9IEFycmF5LmZyb20odGhpcy5lLm5vZGVOYW1lID09PSAnVEVNUExBVEUnID8gdGhpcy5lLmNvbnRlbnQuY2hpbGROb2RlcyA6IHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgdGhpcy5pKHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGNsYWltZWRfbm9kZXMsIGlzX3N2ZyA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKGlzX3N2Zyk7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgICAgIHRoaXMubCA9IGNsYWltZWRfbm9kZXM7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICBpZiAodGhpcy5sKSB7XG4gICAgICAgICAgICB0aGlzLm4gPSB0aGlzLmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5jKGh0bWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnRfaHlkcmF0aW9uKHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgcmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuICAgIHJldHVybiBuZXcgY29tcG9uZW50KHByb3BzKTtcbn1cblxuLy8gd2UgbmVlZCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gZm9yIG11bHRpcGxlIGRvY3VtZW50cyBiZWNhdXNlIGEgU3ZlbHRlIGFwcGxpY2F0aW9uIGNvdWxkIGFsc28gY29udGFpbiBpZnJhbWVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8zNjI0XG5jb25zdCBtYW5hZ2VkX3N0eWxlcyA9IG5ldyBNYXAoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpIHtcbiAgICBjb25zdCBpbmZvID0geyBzdHlsZXNoZWV0OiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSwgcnVsZXM6IHt9IH07XG4gICAgbWFuYWdlZF9zdHlsZXMuc2V0KGRvYywgaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGNvbnN0IGRvYyA9IGdldF9yb290X2Zvcl9zdHlsZShub2RlKTtcbiAgICBjb25zdCB7IHN0eWxlc2hlZXQsIHJ1bGVzIH0gPSBtYW5hZ2VkX3N0eWxlcy5nZXQoZG9jKSB8fCBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKTtcbiAgICBpZiAoIXJ1bGVzW25hbWVdKSB7XG4gICAgICAgIHJ1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBtYW5hZ2VkX3N0eWxlcy5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvd25lck5vZGUgfSA9IGluZm8uc3R5bGVzaGVldDtcbiAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIG93bmVyTm9kZSBpZiBpdCBydW5zIG9uIGpzZG9tLlxuICAgICAgICAgICAgaWYgKG93bmVyTm9kZSlcbiAgICAgICAgICAgICAgICBkZXRhY2gob3duZXJOb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hbmFnZWRfc3R5bGVzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOlxuICAgIGVuZCA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbiwgdGljayA9IG5vb3AsIGNzcyB9ID0gZm4obm9kZSwgeyBmcm9tLCB0byB9LCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBuYW1lO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICBuYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpO1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgaWYgKCFzdGFydGVkICYmIG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCAmJiBub3cgPj0gZW5kKSB7XG4gICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbm93IC0gc3RhcnRfdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAwICsgMSAqIGVhc2luZyhwIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgc3RhcnQoKTtcbiAgICB0aWNrKDAsIDEpO1xuICAgIHJldHVybiBzdG9wO1xufVxuZnVuY3Rpb24gZml4X3Bvc2l0aW9uKG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc3R5bGU7XG4gICAgICAgIGNvbnN0IGEgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgYWRkX3RyYW5zZm9ybShub2RlLCBhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpIHtcbiAgICBjb25zdCBiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYS5sZWZ0ICE9PSBiLmxlZnQgfHwgYS50b3AgIT09IGIudG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke2EubGVmdCAtIGIubGVmdH1weCwgJHthLnRvcCAtIGIudG9wfXB4KWA7XG4gICAgfVxufVxuXG5sZXQgY3VycmVudF9jb21wb25lbnQ7XG5mdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgY3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG4gICAgaWYgKCFjdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWJlZm9yZXVwZGF0ZVxuICovXG5mdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuLyoqXG4gKiBUaGUgYG9uTW91bnRgIGZ1bmN0aW9uIHNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogSXQgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQncyBpbml0aWFsaXNhdGlvbiAoYnV0IGRvZXNuJ3QgbmVlZCB0byBsaXZlICppbnNpZGUqIHRoZSBjb21wb25lbnQ7XG4gKiBpdCBjYW4gYmUgY2FsbGVkIGZyb20gYW4gZXh0ZXJuYWwgbW9kdWxlKS5cbiAqXG4gKiBgb25Nb3VudGAgZG9lcyBub3QgcnVuIGluc2lkZSBhIFtzZXJ2ZXItc2lkZSBjb21wb25lbnRdKC9kb2NzI3J1bi10aW1lLXNlcnZlci1zaWRlLWNvbXBvbmVudC1hcGkpLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1vbm1vdW50XG4gKi9cbmZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICovXG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1vbmRlc3Ryb3lcbiAqL1xuZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWNyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICovXG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1zZXRjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcbiAgICByZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWdldGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtZ2V0YWxsY29udGV4dHNcbiAqL1xuZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQ7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWhhc2NvbnRleHRcbiAqL1xuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuICAgIH1cbn1cblxuY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuICAgIGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuICAgICAgICB1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrKCkge1xuICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgIHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuICAgIHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcbiAgICBmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgLy8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cbiAgICAvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG4gICAgLy8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG4gICAgaWYgKGZsdXNoaWR4ICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgZG8ge1xuICAgICAgICAvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG4gICAgICAgIC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcbiAgICAgICAgICAgICAgICBmbHVzaGlkeCsrO1xuICAgICAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG4gICAgICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmbHVzaGlkeCA9IDA7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICBmbHVzaGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgICAgICAgICAgICAgc2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICQkLnVwZGF0ZSgpO1xuICAgICAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICAgICBjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuICAgICAgICAkJC5kaXJ0eSA9IFstMV07XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG4gICAgICAgICQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuICAgIH1cbn1cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICovXG5mdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuICAgIGNvbnN0IGZpbHRlcmVkID0gW107XG4gICAgY29uc3QgdGFyZ2V0cyA9IFtdO1xuICAgIHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSk7XG4gICAgdGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuICAgIHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cblxubGV0IHByb21pc2U7XG5mdW5jdGlvbiB3YWl0KCkge1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5sZXQgb3V0cm9zO1xuZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuICAgIG91dHJvcyA9IHtcbiAgICAgICAgcjogMCxcbiAgICAgICAgYzogW10sXG4gICAgICAgIHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuICAgIGlmICghb3V0cm9zLnIpIHtcbiAgICAgICAgcnVuX2FsbChvdXRyb3MuYyk7XG4gICAgfVxuICAgIG91dHJvcyA9IG91dHJvcy5wO1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICBibG9jay5pKGxvY2FsKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2subykge1xuICAgICAgICBpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb3V0cm9pbmcuYWRkKGJsb2NrKTtcbiAgICAgICAgb3V0cm9zLmMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZCgxKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2subyhsb2NhbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxufVxuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIGxldCBydW5uaW5nID0gZmFsc2U7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGxldCB0YXNrO1xuICAgIGxldCB1aWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcbiAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHRhc2suYWJvcnQoKTtcbiAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuICAgICAgICB0YXNrID0gbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbihnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSAocHJvZ3JhbS5iIC0gdCk7XG4gICAgICAgIGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYTogdCxcbiAgICAgICAgICAgIGI6IHByb2dyYW0uYixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG4gICAgICAgICAgICBncm91cDogcHJvZ3JhbS5ncm91cFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbyhiKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB7XG4gICAgICAgICAgICBzdGFydDogbm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8gXHUyMDE0IHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8gXHUyMDE0IG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoKGluZm8sIGN0eCwgZGlydHkpIHtcbiAgICBjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcbiAgICBjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuICAgIGlmIChpbmZvLmN1cnJlbnQgPT09IGluZm8udGhlbikge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby5jYXRjaCkge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby5lcnJvcl0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgZGlydHksIGdldF9rZXksIGR5bmFtaWMsIGN0eCwgbGlzdCwgbG9va3VwLCBub2RlLCBkZXN0cm95LCBjcmVhdGVfZWFjaF9ibG9jaywgbmV4dCwgZ2V0X2NvbnRleHQpIHtcbiAgICBsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuICAgIGxldCBuID0gbGlzdC5sZW5ndGg7XG4gICAgbGV0IGkgPSBvO1xuICAgIGNvbnN0IG9sZF9pbmRleGVzID0ge307XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcbiAgICBjb25zdCBuZXdfYmxvY2tzID0gW107XG4gICAgY29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICAgIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuICAgICAgICBsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgICAgIGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5bmFtaWMpIHtcbiAgICAgICAgICAgIC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdfbG9va3VwLnNldChrZXksIG5ld19ibG9ja3NbaV0gPSBibG9jayk7XG4gICAgICAgIGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpXG4gICAgICAgICAgICBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcbiAgICB9XG4gICAgY29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgYmxvY2subShub2RlLCBuZXh0KTtcbiAgICAgICAgbG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcbiAgICAgICAgbmV4dCA9IGJsb2NrLmZpcnN0O1xuICAgICAgICBuLS07XG4gICAgfVxuICAgIHdoaWxlIChvICYmIG4pIHtcbiAgICAgICAgY29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuICAgICAgICBjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcbiAgICAgICAgY29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG4gICAgICAgIGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgbmV4dCA9IG5ld19ibG9jay5maXJzdDtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgICAgIG4tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYmxvY2tcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBkaWRfbW92ZS5hZGQobmV3X2tleSk7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG8tLSkge1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuICAgICAgICBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKVxuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgfVxuICAgIHdoaWxlIChuKVxuICAgICAgICBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuICAgIHJ1bl9hbGwodXBkYXRlcyk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG5jb25zdCBfYm9vbGVhbl9hdHRyaWJ1dGVzID0gW1xuICAgICdhbGxvd2Z1bGxzY3JlZW4nLFxuICAgICdhbGxvd3BheW1lbnRyZXF1ZXN0JyxcbiAgICAnYXN5bmMnLFxuICAgICdhdXRvZm9jdXMnLFxuICAgICdhdXRvcGxheScsXG4gICAgJ2NoZWNrZWQnLFxuICAgICdjb250cm9scycsXG4gICAgJ2RlZmF1bHQnLFxuICAgICdkZWZlcicsXG4gICAgJ2Rpc2FibGVkJyxcbiAgICAnZm9ybW5vdmFsaWRhdGUnLFxuICAgICdoaWRkZW4nLFxuICAgICdpbmVydCcsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl07XG4vKipcbiAqIExpc3Qgb2YgSFRNTCBib29sZWFuIGF0dHJpYnV0ZXMgKGUuZy4gYDxpbnB1dCBkaXNhYmxlZD5gKS5cbiAqIFNvdXJjZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sXG4gKi9cbmNvbnN0IGJvb2xlYW5fYXR0cmlidXRlcyA9IG5ldyBTZXQoWy4uLl9ib29sZWFuX2F0dHJpYnV0ZXNdKTtcblxuLyoqIHJlZ2V4IG9mIGFsbCBodG1sIHZvaWQgZWxlbWVudCBuYW1lcyAqL1xuY29uc3Qgdm9pZF9lbGVtZW50X25hbWVzID0gL14oPzphcmVhfGJhc2V8YnJ8Y29sfGNvbW1hbmR8ZW1iZWR8aHJ8aW1nfGlucHV0fGtleWdlbnxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkLztcbmZ1bmN0aW9uIGlzX3ZvaWQobmFtZSkge1xuICAgIHJldHVybiB2b2lkX2VsZW1lbnRfbmFtZXMudGVzdChuYW1lKSB8fCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICchZG9jdHlwZSc7XG59XG5cbmNvbnN0IGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gL1tcXHMnXCI+Lz1cXHV7RkREMH0tXFx1e0ZERUZ9XFx1e0ZGRkV9XFx1e0ZGRkZ9XFx1ezFGRkZFfVxcdXsxRkZGRn1cXHV7MkZGRkV9XFx1ezJGRkZGfVxcdXszRkZGRX1cXHV7M0ZGRkZ9XFx1ezRGRkZFfVxcdXs0RkZGRn1cXHV7NUZGRkV9XFx1ezVGRkZGfVxcdXs2RkZGRX1cXHV7NkZGRkZ9XFx1ezdGRkZFfVxcdXs3RkZGRn1cXHV7OEZGRkV9XFx1ezhGRkZGfVxcdXs5RkZGRX1cXHV7OUZGRkZ9XFx1e0FGRkZFfVxcdXtBRkZGRn1cXHV7QkZGRkV9XFx1e0JGRkZGfVxcdXtDRkZGRX1cXHV7Q0ZGRkZ9XFx1e0RGRkZFfVxcdXtERkZGRn1cXHV7RUZGRkV9XFx1e0VGRkZGfVxcdXtGRkZGRX1cXHV7RkZGRkZ9XFx1ezEwRkZGRX1cXHV7MTBGRkZGfV0vdTtcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI25vbmNoYXJhY3RlclxuZnVuY3Rpb24gc3ByZWFkKGFyZ3MsIGF0dHJzX3RvX2FkZCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5hcmdzKTtcbiAgICBpZiAoYXR0cnNfdG9fYWRkKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNfdG9fYWRkID0gYXR0cnNfdG9fYWRkLmNsYXNzZXM7XG4gICAgICAgIGNvbnN0IHN0eWxlc190b19hZGQgPSBhdHRyc190b19hZGQuc3R5bGVzO1xuICAgICAgICBpZiAoY2xhc3Nlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmNsYXNzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzICs9ICcgJyArIGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZXNfdG9fYWRkKSB7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5zdHlsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5zdHlsZSA9IHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVzX3RvX2FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhtZXJnZV9zc3Jfc3R5bGVzKGF0dHJpYnV0ZXMuc3R5bGUsIHN0eWxlc190b19hZGQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKVxuICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIGVsc2UgaWYgKGJvb2xlYW5fYXR0cmlidXRlcy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciArPSBgICR7bmFtZX09XCIke3ZhbHVlfVwiYDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBtZXJnZV9zc3Jfc3R5bGVzKHN0eWxlX2F0dHJpYnV0ZSwgc3R5bGVfZGlyZWN0aXZlKSB7XG4gICAgY29uc3Qgc3R5bGVfb2JqZWN0ID0ge307XG4gICAgZm9yIChjb25zdCBpbmRpdmlkdWFsX3N0eWxlIG9mIHN0eWxlX2F0dHJpYnV0ZS5zcGxpdCgnOycpKSB7XG4gICAgICAgIGNvbnN0IGNvbG9uX2luZGV4ID0gaW5kaXZpZHVhbF9zdHlsZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKDAsIGNvbG9uX2luZGV4KS50cmltKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5kaXZpZHVhbF9zdHlsZS5zbGljZShjb2xvbl9pbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHN0eWxlX29iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGVfZGlyZWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVfZGlyZWN0aXZlW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN0eWxlX29iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHN0eWxlX29iamVjdFtuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVfb2JqZWN0O1xufVxuY29uc3QgQVRUUl9SRUdFWCA9IC9bJlwiXS9nO1xuY29uc3QgQ09OVEVOVF9SRUdFWCA9IC9bJjxdL2c7XG4vKipcbiAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHBlcmZvcm1hbmNlIHNlbnNpdGl2ZSBhbmQgaGFzIGJlZW4gb3B0aW1pemVkXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL3B1bGwvNTcwMVxuICovXG5mdW5jdGlvbiBlc2NhcGUodmFsdWUsIGlzX2F0dHIgPSBmYWxzZSkge1xuICAgIGNvbnN0IHN0ciA9IFN0cmluZyh2YWx1ZSk7XG4gICAgY29uc3QgcGF0dGVybiA9IGlzX2F0dHIgPyBBVFRSX1JFR0VYIDogQ09OVEVOVF9SRUdFWDtcbiAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgbGV0IGVzY2FwZWQgPSAnJztcbiAgICBsZXQgbGFzdCA9IDA7XG4gICAgd2hpbGUgKHBhdHRlcm4udGVzdChzdHIpKSB7XG4gICAgICAgIGNvbnN0IGkgPSBwYXR0ZXJuLmxhc3RJbmRleCAtIDE7XG4gICAgICAgIGNvbnN0IGNoID0gc3RyW2ldO1xuICAgICAgICBlc2NhcGVkICs9IHN0ci5zdWJzdHJpbmcobGFzdCwgaSkgKyAoY2ggPT09ICcmJyA/ICcmYW1wOycgOiAoY2ggPT09ICdcIicgPyAnJnF1b3Q7JyA6ICcmbHQ7JykpO1xuICAgICAgICBsYXN0ID0gaSArIDE7XG4gICAgfVxuICAgIHJldHVybiBlc2NhcGVkICsgc3RyLnN1YnN0cmluZyhsYXN0KTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUodmFsdWUpIHtcbiAgICAvLyBrZWVwIGJvb2xlYW5zLCBudWxsLCBhbmQgdW5kZWZpbmVkIGZvciB0aGUgc2FrZSBvZiBgc3ByZWFkYFxuICAgIGNvbnN0IHNob3VsZF9lc2NhcGUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8ICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKTtcbiAgICByZXR1cm4gc2hvdWxkX2VzY2FwZSA/IGVzY2FwZSh2YWx1ZSwgdHJ1ZSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9vYmplY3Qob2JqKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBlYWNoKGl0ZW1zLCBmbikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHN0ciArPSBmbihpdGVtc1tpXSwgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5jb25zdCBtaXNzaW5nX2NvbXBvbmVudCA9IHtcbiAgICAkJHJlbmRlcjogKCkgPT4gJydcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZV9jb21wb25lbnQoY29tcG9uZW50LCBuYW1lKSB7XG4gICAgaWYgKCFjb21wb25lbnQgfHwgIWNvbXBvbmVudC4kJHJlbmRlcikge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3N2ZWx0ZTpjb21wb25lbnQnKVxuICAgICAgICAgICAgbmFtZSArPSAnIHRoaXM9ey4uLn0nO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYDwke25hbWV9PiBpcyBub3QgYSB2YWxpZCBTU1IgY29tcG9uZW50LiBZb3UgbWF5IG5lZWQgdG8gcmV2aWV3IHlvdXIgYnVpbGQgY29uZmlnIHRvIGVuc3VyZSB0aGF0IGRlcGVuZGVuY2llcyBhcmUgY29tcGlsZWQsIHJhdGhlciB0aGFuIGltcG9ydGVkIGFzIHByZS1jb21waWxlZCBtb2R1bGVzLiBPdGhlcndpc2UgeW91IG1heSBuZWVkIHRvIGZpeCBhIDwke25hbWV9Pi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGRlYnVnKGZpbGUsIGxpbmUsIGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coYHtAZGVidWd9ICR7ZmlsZSA/IGZpbGUgKyAnICcgOiAnJ30oJHtsaW5lfToke2NvbHVtbn0pYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybiAnJztcbn1cbmxldCBvbl9kZXN0cm95O1xuZnVuY3Rpb24gY3JlYXRlX3Nzcl9jb21wb25lbnQoZm4pIHtcbiAgICBmdW5jdGlvbiAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgICAgICBjb25zdCAkJCA9IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3ksXG4gICAgICAgICAgICBjb250ZXh0OiBuZXcgTWFwKGNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuICAgICAgICAgICAgLy8gdGhlc2Ugd2lsbCBiZSBpbW1lZGlhdGVseSBkaXNjYXJkZWRcbiAgICAgICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KClcbiAgICAgICAgfTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHsgJCQgfSk7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBmbihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpO1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXI6IChwcm9wcyA9IHt9LCB7ICQkc2xvdHMgPSB7fSwgY29udGV4dCA9IG5ldyBNYXAoKSB9ID0ge30pID0+IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3kgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgdGl0bGU6ICcnLCBoZWFkOiAnJywgY3NzOiBuZXcgU2V0KCkgfTtcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCB7fSwgJCRzbG90cywgY29udGV4dCk7XG4gICAgICAgICAgICBydW5fYWxsKG9uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sLFxuICAgICAgICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBcnJheS5mcm9tKHJlc3VsdC5jc3MpLm1hcChjc3MgPT4gY3NzLmNvZGUpLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG51bGwgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZDogcmVzdWx0LnRpdGxlICsgcmVzdWx0LmhlYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICQkcmVuZGVyXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFkZF9hdHRyaWJ1dGUobmFtZSwgdmFsdWUsIGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoYm9vbGVhbiAmJiAhdmFsdWUpKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgYXNzaWdubWVudCA9IChib29sZWFuICYmIHZhbHVlID09PSB0cnVlKSA/ICcnIDogYD1cIiR7ZXNjYXBlKHZhbHVlLCB0cnVlKX1cImA7XG4gICAgcmV0dXJuIGAgJHtuYW1lfSR7YXNzaWdubWVudH1gO1xufVxuZnVuY3Rpb24gYWRkX2NsYXNzZXMoY2xhc3Nlcykge1xuICAgIHJldHVybiBjbGFzc2VzID8gYCBjbGFzcz1cIiR7Y2xhc3Nlc31cImAgOiAnJztcbn1cbmZ1bmN0aW9uIHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVfb2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlX29iamVjdClcbiAgICAgICAgLmZpbHRlcihrZXkgPT4gc3R5bGVfb2JqZWN0W2tleV0pXG4gICAgICAgIC5tYXAoa2V5ID0+IGAke2tleX06ICR7ZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZShzdHlsZV9vYmplY3Rba2V5XSl9O2ApXG4gICAgICAgIC5qb2luKCcgJyk7XG59XG5mdW5jdGlvbiBhZGRfc3R5bGVzKHN0eWxlX29iamVjdCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlX29iamVjdF90b19zdHJpbmcoc3R5bGVfb2JqZWN0KTtcbiAgICByZXR1cm4gc3R5bGVzID8gYCBzdHlsZT1cIiR7c3R5bGVzfVwiYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG4gICAgYmxvY2sgJiYgYmxvY2suYygpO1xufVxuZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcbiAgICBibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5mdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvciwgY3VzdG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBjb21wb25lbnQuJCQub25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuICAgICAgICAgICAgLy8gdGhlIGRlc3RydWN0dXJlZCBvbl9kZXN0cm95IG1heSBzdGlsbCByZWZlcmVuY2UgdG8gdGhlIG9sZCBhcnJheVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG4gICAgICAgICAgICAgICAgcnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgZmx1c2hfcmVuZGVyX2NhbGxiYWNrcygkJC5hZnRlcl91cGRhdGUpO1xuICAgICAgICBydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICAkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAkJC5jdHggPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuICAgIGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICAgICAgY29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG4gICAgfVxuICAgIGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9ICgxIDw8IChpICUgMzEpKTtcbn1cbmZ1bmN0aW9uIGluaXQoY29tcG9uZW50LCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBub3RfZXF1YWwsIHByb3BzLCBhcHBlbmRfc3R5bGVzLCBkaXJ0eSA9IFstMV0pIHtcbiAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQgPSB7XG4gICAgICAgIGZyYWdtZW50OiBudWxsLFxuICAgICAgICBjdHg6IFtdLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChvcHRpb25zLmNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuICAgICAgICAvLyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgZGlydHksXG4gICAgICAgIHNraXBfYm91bmQ6IGZhbHNlLFxuICAgICAgICByb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3RcbiAgICB9O1xuICAgIGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcbiAgICBsZXQgcmVhZHkgPSBmYWxzZTtcbiAgICAkJC5jdHggPSBpbnN0YW5jZVxuICAgICAgICA/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG4gICAgICAgICAgICBpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICQkLmN0eFtpXSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSlcbiAgICAgICAgICAgICAgICAgICAgJCQuYm91bmRbaV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSlcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICAkJC51cGRhdGUoKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcbiAgICAkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIHN0YXJ0X2h5ZHJhdGluZygpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IsIG9wdGlvbnMuY3VzdG9tRWxlbWVudCk7XG4gICAgICAgIGVuZF9oeWRyYXRpbmcoKTtcbiAgICAgICAgZmx1c2goKTtcbiAgICB9XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxubGV0IFN2ZWx0ZUVsZW1lbnQ7XG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25fbW91bnQgfSA9IHRoaXMuJCQ7XG4gICAgICAgICAgICB0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCQuc2xvdHRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLiQkLnNsb3R0ZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbYXR0cl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJ1bl9hbGwodGhpcy4kJC5vbl9kaXNjb25uZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIGRlbGVnYXRlIHRvIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hfZGV2KHR5cGUsIGRldGFpbCkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oeyB2ZXJzaW9uOiAnMy41OS4yJyB9LCBkZXRhaWwpLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZCh0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbl9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnRfZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlJywgeyBub2RlIH0pO1xuICAgIGRldGFjaChub2RlKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9iZXR3ZWVuX2RldihiZWZvcmUsIGFmdGVyKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZyAmJiBiZWZvcmUubmV4dFNpYmxpbmcgIT09IGFmdGVyKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYmVmb3JlX2RldihhZnRlcikge1xuICAgIHdoaWxlIChhZnRlci5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihhZnRlci5wcmV2aW91c1NpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9hZnRlcl9kZXYoYmVmb3JlKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdGVuX2Rldihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucywgaGFzX3ByZXZlbnRfZGVmYXVsdCwgaGFzX3N0b3BfcHJvcGFnYXRpb24sIGhhc19zdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IG9wdGlvbnMgPT09IHRydWUgPyBbJ2NhcHR1cmUnXSA6IG9wdGlvbnMgPyBBcnJheS5mcm9tKE9iamVjdC5rZXlzKG9wdGlvbnMpKSA6IFtdO1xuICAgIGlmIChoYXNfcHJldmVudF9kZWZhdWx0KVxuICAgICAgICBtb2RpZmllcnMucHVzaCgncHJldmVudERlZmF1bHQnKTtcbiAgICBpZiAoaGFzX3N0b3BfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wUHJvcGFnYXRpb24nKTtcbiAgICBpZiAoaGFzX3N0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJyk7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01BZGRFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyX2Rldihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSB9KTtcbiAgICBlbHNlXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0QXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldFByb3BlcnR5JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBkYXRhc2V0X2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlLmRhdGFzZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhc2V0JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQuZGF0YSA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGEnLCB7IG5vZGU6IHRleHQsIGRhdGEgfSk7XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZV9kZXYodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuICAgIGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuICAgICAgICBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGVfZGV2KHRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnICYmICEoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIGFyZykpIHtcbiAgICAgICAgbGV0IG1zZyA9ICd7I2VhY2h9IG9ubHkgaXRlcmF0ZXMgb3ZlciBhcnJheS1saWtlIG9iamVjdHMuJztcbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgYXJnICYmIFN5bWJvbC5pdGVyYXRvciBpbiBhcmcpIHtcbiAgICAgICAgICAgIG1zZyArPSAnIFlvdSBjYW4gdXNlIGEgc3ByZWFkIHRvIGNvbnZlcnQgdGhpcyBpdGVyYWJsZSBpbnRvIGFuIGFycmF5Lic7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfc2xvdHMobmFtZSwgc2xvdCwga2V5cykge1xuICAgIGZvciAoY29uc3Qgc2xvdF9rZXkgb2YgT2JqZWN0LmtleXMoc2xvdCkpIHtcbiAgICAgICAgaWYgKCF+a2V5cy5pbmRleE9mKHNsb3Rfa2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGA8JHtuYW1lfT4gcmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBzbG90IFwiJHtzbG90X2tleX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2R5bmFtaWNfZWxlbWVudCh0YWcpIHtcbiAgICBjb25zdCBpc19zdHJpbmcgPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJztcbiAgICBpZiAodGFnICYmICFpc19zdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc8c3ZlbHRlOmVsZW1lbnQ+IGV4cGVjdHMgXCJ0aGlzXCIgYXR0cmlidXRlIHRvIGJlIGEgc3RyaW5nLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3ZvaWRfZHluYW1pY19lbGVtZW50KHRhZykge1xuICAgIGlmICh0YWcgJiYgaXNfdm9pZCh0YWcpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgPHN2ZWx0ZTplbGVtZW50IHRoaXM9XCIke3RhZ31cIj4gaXMgc2VsZi1jbG9zaW5nIGFuZCBjYW5ub3QgaGF2ZSBjb250ZW50LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50X2Rldihjb21wb25lbnQsIHByb3BzKSB7XG4gICAgY29uc3QgZXJyb3JfbWVzc2FnZSA9ICd0aGlzPXsuLi59IG9mIDxzdmVsdGU6Y29tcG9uZW50PiBzaG91bGQgc3BlY2lmeSBhIFN2ZWx0ZSBjb21wb25lbnQuJztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBjb21wb25lbnQocHJvcHMpO1xuICAgICAgICBpZiAoIWluc3RhbmNlLiQkIHx8ICFpbnN0YW5jZS4kc2V0IHx8ICFpbnN0YW5jZS4kb24gfHwgIWluc3RhbmNlLiRkZXN0cm95KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZXJyO1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIG1lc3NhZ2UuaW5kZXhPZignaXMgbm90IGEgY29uc3RydWN0b3InKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMgd2l0aCBzb21lIG1pbm9yIGRldi1lbmhhbmNlbWVudHMuIFVzZWQgd2hlbiBkZXY9dHJ1ZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3RhcmdldCcgaXMgYSByZXF1aXJlZCBvcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbXBvbmVudCB3YXMgYWxyZWFkeSBkZXN0cm95ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH07XG4gICAgfVxuICAgICRjYXB0dXJlX3N0YXRlKCkgeyB9XG4gICAgJGluamVjdF9zdGF0ZSgpIHsgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGNyZWF0ZSBzdHJvbmdseSB0eXBlZCBTdmVsdGUgY29tcG9uZW50cy5cbiAqIFRoaXMgb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlcyBhbmQgc2hvdWxkIGJlIHVzZWQgaW4gYC5kLnRzYCBmaWxlcy5cbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBZb3UgaGF2ZSBjb21wb25lbnQgbGlicmFyeSBvbiBucG0gY2FsbGVkIGBjb21wb25lbnQtbGlicmFyeWAsIGZyb20gd2hpY2hcbiAqIHlvdSBleHBvcnQgYSBjb21wb25lbnQgY2FsbGVkIGBNeUNvbXBvbmVudGAuIEZvciBTdmVsdGUrVHlwZVNjcmlwdCB1c2VycyxcbiAqIHlvdSB3YW50IHRvIHByb3ZpZGUgdHlwaW5ncy4gVGhlcmVmb3JlIHlvdSBjcmVhdGUgYSBgaW5kZXguZC50c2A6XG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU3ZlbHRlQ29tcG9uZW50VHlwZWQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnRUeXBlZDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogYGBgXG4gKiBUeXBpbmcgdGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgSURFcyBsaWtlIFZTIENvZGUgd2l0aCB0aGUgU3ZlbHRlIGV4dGVuc2lvblxuICogdG8gcHJvdmlkZSBpbnRlbGxpc2Vuc2UgYW5kIHRvIHVzZSB0aGUgY29tcG9uZW50IGxpa2UgdGhpcyBpbiBhIFN2ZWx0ZSBmaWxlXG4gKiB3aXRoIFR5cGVTY3JpcHQ6XG4gKiBgYGBzdmVsdGVcbiAqIDxzY3JpcHQgbGFuZz1cInRzXCI+XG4gKiBcdGltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSBcImNvbXBvbmVudC1saWJyYXJ5XCI7XG4gKiA8L3NjcmlwdD5cbiAqIDxNeUNvbXBvbmVudCBmb289eydiYXInfSAvPlxuICogYGBgXG4gKlxuICogIyMjIyBXaHkgbm90IG1ha2UgdGhpcyBwYXJ0IG9mIGBTdmVsdGVDb21wb25lbnQoRGV2KWA/XG4gKiBCZWNhdXNlXG4gKiBgYGB0c1xuICogY2xhc3MgQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGNvbnN0IGNvbXBvbmVudDogdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCA9IEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50O1xuICogYGBgXG4gKiB3aWxsIHRocm93IGEgdHlwZSBlcnJvciwgc28gd2UgbmVlZCB0byBzZXBhcmF0ZSB0aGUgbW9yZSBzdHJpY3RseSB0eXBlZCBjbGFzcy5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50VHlwZWQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9vcF9ndWFyZCh0aW1lb3V0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3AgZGV0ZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCB7IEh0bWxUYWcsIEh0bWxUYWdIeWRyYXRpb24sIFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uLCBTdmVsdGVDb21wb25lbnQsIFN2ZWx0ZUNvbXBvbmVudERldiwgU3ZlbHRlQ29tcG9uZW50VHlwZWQsIFN2ZWx0ZUVsZW1lbnQsIGFjdGlvbl9kZXN0cm95ZXIsIGFkZF9hdHRyaWJ1dGUsIGFkZF9jbGFzc2VzLCBhZGRfZmx1c2hfY2FsbGJhY2ssIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyLCBhZGRfbG9jYXRpb24sIGFkZF9yZW5kZXJfY2FsbGJhY2ssIGFkZF9zdHlsZXMsIGFkZF90cmFuc2Zvcm0sIGFmdGVyVXBkYXRlLCBhcHBlbmQsIGFwcGVuZF9kZXYsIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0LCBhcHBlbmRfaHlkcmF0aW9uLCBhcHBlbmRfaHlkcmF0aW9uX2RldiwgYXBwZW5kX3N0eWxlcywgYXNzaWduLCBhdHRyLCBhdHRyX2RldiwgYXR0cmlidXRlX3RvX29iamVjdCwgYmVmb3JlVXBkYXRlLCBiaW5kLCBiaW5kaW5nX2NhbGxiYWNrcywgYmxhbmtfb2JqZWN0LCBidWJibGUsIGNoZWNrX291dHJvcywgY2hpbGRyZW4sIGNsYWltX2NvbW1lbnQsIGNsYWltX2NvbXBvbmVudCwgY2xhaW1fZWxlbWVudCwgY2xhaW1faHRtbF90YWcsIGNsYWltX3NwYWNlLCBjbGFpbV9zdmdfZWxlbWVudCwgY2xhaW1fdGV4dCwgY2xlYXJfbG9vcHMsIGNvbW1lbnQsIGNvbXBvbmVudF9zdWJzY3JpYmUsIGNvbXB1dGVfcmVzdF9wcm9wcywgY29tcHV0ZV9zbG90cywgY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQsIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50X2RldiwgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgY3JlYXRlX2FuaW1hdGlvbiwgY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbiwgY3JlYXRlX2NvbXBvbmVudCwgY3JlYXRlX2luX3RyYW5zaXRpb24sIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbiwgY3JlYXRlX3Nsb3QsIGNyZWF0ZV9zc3JfY29tcG9uZW50LCBjdXJyZW50X2NvbXBvbmVudCwgY3VzdG9tX2V2ZW50LCBkYXRhc2V0X2RldiwgZGVidWcsIGRlc3Ryb3lfYmxvY2ssIGRlc3Ryb3lfY29tcG9uZW50LCBkZXN0cm95X2VhY2gsIGRldGFjaCwgZGV0YWNoX2FmdGVyX2RldiwgZGV0YWNoX2JlZm9yZV9kZXYsIGRldGFjaF9iZXR3ZWVuX2RldiwgZGV0YWNoX2RldiwgZGlydHlfY29tcG9uZW50cywgZGlzcGF0Y2hfZGV2LCBlYWNoLCBlbGVtZW50LCBlbGVtZW50X2lzLCBlbXB0eSwgZW5kX2h5ZHJhdGluZywgZXNjYXBlLCBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlLCBlc2NhcGVfb2JqZWN0LCBleGNsdWRlX2ludGVybmFsX3Byb3BzLCBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9wb3NpdGlvbiwgZmx1c2gsIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsIGdldEFsbENvbnRleHRzLCBnZXRDb250ZXh0LCBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUsIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlLCBnZXRfY3VycmVudF9jb21wb25lbnQsIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsIGdldF9yb290X2Zvcl9zdHlsZSwgZ2V0X3Nsb3RfY2hhbmdlcywgZ2V0X3NwcmVhZF9vYmplY3QsIGdldF9zcHJlYWRfdXBkYXRlLCBnZXRfc3RvcmVfdmFsdWUsIGdsb2JhbHMsIGdyb3VwX291dHJvcywgaGFuZGxlX3Byb21pc2UsIGhhc0NvbnRleHQsIGhhc19wcm9wLCBoZWFkX3NlbGVjdG9yLCBpZGVudGl0eSwgaW5pdCwgaW5pdF9iaW5kaW5nX2dyb3VwLCBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYywgaW5zZXJ0LCBpbnNlcnRfZGV2LCBpbnNlcnRfaHlkcmF0aW9uLCBpbnNlcnRfaHlkcmF0aW9uX2RldiwgaW50cm9zLCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciwgaXNfY2xpZW50LCBpc19jcm9zc29yaWdpbiwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBpc19wcm9taXNlLCBpc192b2lkLCBsaXN0ZW4sIGxpc3Rlbl9kZXYsIGxvb3AsIGxvb3BfZ3VhcmQsIG1lcmdlX3Nzcl9zdHlsZXMsIG1pc3NpbmdfY29tcG9uZW50LCBtb3VudF9jb21wb25lbnQsIG5vb3AsIG5vdF9lcXVhbCwgbm93LCBudWxsX3RvX2VtcHR5LCBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzLCBvbkRlc3Ryb3ksIG9uTW91bnQsIG9uY2UsIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBwcmV2ZW50X2RlZmF1bHQsIHByb3BfZGV2LCBxdWVyeV9zZWxlY3Rvcl9hbGwsIHJhZiwgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3gsIHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCwgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCwgcnVuLCBydW5fYWxsLCBzYWZlX25vdF9lcXVhbCwgc2NoZWR1bGVfdXBkYXRlLCBzZWxlY3RfbXVsdGlwbGVfdmFsdWUsIHNlbGVjdF9vcHRpb24sIHNlbGVjdF9vcHRpb25zLCBzZWxlY3RfdmFsdWUsIHNlbGYsIHNldENvbnRleHQsIHNldF9hdHRyaWJ1dGVzLCBzZXRfY3VycmVudF9jb21wb25lbnQsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhLCBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAsIHNldF9kYXRhLCBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUsIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZV9kZXYsIHNldF9kYXRhX2Rldiwgc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlLCBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGVfZGV2LCBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEsIHNldF9pbnB1dF90eXBlLCBzZXRfaW5wdXRfdmFsdWUsIHNldF9ub3csIHNldF9yYWYsIHNldF9zdG9yZV92YWx1ZSwgc2V0X3N0eWxlLCBzZXRfc3ZnX2F0dHJpYnV0ZXMsIHNwYWNlLCBzcGxpdF9jc3NfdW5pdCwgc3ByZWFkLCBzcmNfdXJsX2VxdWFsLCBzdGFydF9oeWRyYXRpbmcsIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uLCBzdG9wX3Byb3BhZ2F0aW9uLCBzdWJzY3JpYmUsIHN2Z19lbGVtZW50LCB0ZXh0LCB0aWNrLCB0aW1lX3Jhbmdlc190b19hcnJheSwgdG9fbnVtYmVyLCB0b2dnbGVfY2xhc3MsIHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0LCB0cnVzdGVkLCB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoLCB1cGRhdGVfa2V5ZWRfZWFjaCwgdXBkYXRlX3Nsb3QsIHVwZGF0ZV9zbG90X2Jhc2UsIHZhbGlkYXRlX2NvbXBvbmVudCwgdmFsaWRhdGVfZHluYW1pY19lbGVtZW50LCB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50LCB2YWxpZGF0ZV9lYWNoX2tleXMsIHZhbGlkYXRlX3Nsb3RzLCB2YWxpZGF0ZV9zdG9yZSwgdmFsaWRhdGVfdm9pZF9keW5hbWljX2VsZW1lbnQsIHhsaW5rX2F0dHIgfTtcbiIsICIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSBmcm9tIFwic3ZlbHRlXCI7XG5cbiAgICBleHBvcnQgbGV0IGdldFJldmlld0NvdW50czogKGRheXM6IG51bWJlcikgPT4gUHJvbWlzZTxNYXA8c3RyaW5nLCBudW1iZXI+PjtcblxuICAgIGxldCByZXZpZXdDb3VudHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIGxldCBkYXlzOiBBcnJheTx7IGRhdGU6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgZGF5T2ZXZWVrOiBudW1iZXIgfT4gPSBbXTtcbiAgICBsZXQgd2Vla3M6IEFycmF5PFxuICAgICAgICBBcnJheTx7IGRhdGU6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgZGF5T2ZXZWVrOiBudW1iZXIgfT5cbiAgICA+ID0gW107XG4gICAgbGV0IG1heENvdW50ID0gMDtcbiAgICBsZXQgaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBsZXQgY29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IG1heFdlZWtzID0gNTI7IC8vIERlZmF1bHQgdG8gZnVsbCB5ZWFyXG4gICAgbGV0IGNvbnRhaW5lcldpZHRoID0gMDtcbiAgICBsZXQgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAvLyBUcmFjayBsYXN0IGV2ZW50IHRvIHByZXZlbnQgZG91YmxlIGV4ZWN1dGlvblxuICAgIGxldCBsYXN0RXZlbnRUaW1lID0gMDtcbiAgICBsZXQgbGFzdEV2ZW50VHlwZSA9IFwiXCI7XG5cbiAgICBjb25zdCBtb250aHMgPSBbXG4gICAgICAgIFwiSmFuXCIsXG4gICAgICAgIFwiRmViXCIsXG4gICAgICAgIFwiTWFyXCIsXG4gICAgICAgIFwiQXByXCIsXG4gICAgICAgIFwiTWF5XCIsXG4gICAgICAgIFwiSnVuXCIsXG4gICAgICAgIFwiSnVsXCIsXG4gICAgICAgIFwiQXVnXCIsXG4gICAgICAgIFwiU2VwXCIsXG4gICAgICAgIFwiT2N0XCIsXG4gICAgICAgIFwiTm92XCIsXG4gICAgICAgIFwiRGVjXCIsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlRGF5cygpIHtcbiAgICAgICAgLy8gQWx3YXlzIHNob3cgZnVsbCB5ZWFyIGZyb20gSmFudWFyeSAxIHRvIERlY2VtYmVyIDMxXG4gICAgICAgIGNvbnN0IHllYXJTdGFydCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyLCAwLCAxKTsgLy8gSmFudWFyeSAxc3RcbiAgICAgICAgY29uc3QgeWVhckVuZCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyLCAxMSwgMzEpOyAvLyBEZWNlbWJlciAzMXN0XG5cbiAgICAgICAgLy8gU3RhcnQgZnJvbSBTdW5kYXkgb2YgdGhlIHdlZWsgY29udGFpbmluZyBKYW51YXJ5IDFzdFxuICAgICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSh5ZWFyU3RhcnQpO1xuICAgICAgICBjb25zdCBzdGFydERheU9mV2VlayA9IHN0YXJ0RGF0ZS5nZXREYXkoKTtcbiAgICAgICAgc3RhcnREYXRlLnNldERhdGUoc3RhcnREYXRlLmdldERhdGUoKSAtIHN0YXJ0RGF5T2ZXZWVrKTtcblxuICAgICAgICAvLyBFbmQgb24gU2F0dXJkYXkgb2YgdGhlIHdlZWsgY29udGFpbmluZyBEZWNlbWJlciAzMXN0XG4gICAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSh5ZWFyRW5kKTtcbiAgICAgICAgY29uc3QgZW5kRGF5T2ZXZWVrID0gZW5kRGF0ZS5nZXREYXkoKTtcbiAgICAgICAgZW5kRGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpICsgKDYgLSBlbmREYXlPZldlZWspKTtcblxuICAgICAgICBjb25zdCBkYXlzQXJyYXk6IEFycmF5PHtcbiAgICAgICAgICAgIGRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIGNvdW50OiBudW1iZXI7XG4gICAgICAgICAgICBkYXlPZldlZWs6IG51bWJlcjtcbiAgICAgICAgfT4gPSBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgY29tcGxldGUgd2Vla3MgYnV0IG9ubHkgaW5jbHVkZSBkYXlzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgeWVhclxuICAgICAgICB3aGlsZSAoY3VycmVudCA8PSBlbmREYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gY3VycmVudC50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlWWVhciA9IGN1cnJlbnQuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICAgICAgLy8gT25seSBpbmNsdWRlIGRheXMgdGhhdCBiZWxvbmcgdG8gdGhlIHNlbGVjdGVkIHllYXJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGF0ZVllYXIgPT09IGN1cnJlbnRZZWFyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSByZXZpZXdDb3VudHMuZ2V0KGRhdGVTdHIpIHx8IDA7XG5cbiAgICAgICAgICAgICAgICBkYXlzQXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50LFxuICAgICAgICAgICAgICAgICAgICBkYXlPZldlZWs6IGN1cnJlbnQuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiBtYXhDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhDb3VudCA9IGNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHBsYWNlaG9sZGVyIGZvciBkYXlzIG91dHNpZGUgdGhlIHllYXIgdG8gbWFpbnRhaW4gZ3JpZCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICBkYXlzQXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBkYXlPZldlZWs6IGN1cnJlbnQuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF5cyA9IGRheXNBcnJheTtcblxuICAgICAgICAvLyBHcm91cCBpbnRvIHdlZWtzXG4gICAgICAgIHdlZWtzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF5cy5sZW5ndGg7IGkgKz0gNykge1xuICAgICAgICAgICAgd2Vla3MucHVzaChkYXlzLnNsaWNlKGksIGkgKyA3KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJbnRlbnNpdHlDbGFzcyhjb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gXCJpbnRlbnNpdHktMFwiO1xuICAgICAgICBjb25zdCBpbnRlbnNpdHkgPSBNYXRoLm1pbihNYXRoLmNlaWwoKGNvdW50IC8gbWF4Q291bnQpICogNCksIDQpO1xuICAgICAgICByZXR1cm4gYGludGVuc2l0eS0ke2ludGVuc2l0eX1gO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiLCB7XG4gICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNUb2RheShkYXRlU3RyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICByZXR1cm4gZGF0ZVN0ciA9PT0gdG9kYXk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TW9udGhzRGF0YSgpOiBBcnJheTx7XG4gICAgICAgIG1vbnRoOiBzdHJpbmc7XG4gICAgICAgIHdlZWtzOiBBcnJheTxBcnJheTx7IGRhdGU6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgZGF5T2ZXZWVrOiBudW1iZXIgfT4+O1xuICAgIH0+IHtcbiAgICAgICAgaWYgKHdlZWtzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGNvbnN0IG1vbnRoc0RhdGE6IEFycmF5PHtcbiAgICAgICAgICAgIG1vbnRoOiBzdHJpbmc7XG4gICAgICAgICAgICB3ZWVrczogQXJyYXk8XG4gICAgICAgICAgICAgICAgQXJyYXk8eyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGRheU9mV2VlazogbnVtYmVyIH0+XG4gICAgICAgICAgICA+O1xuICAgICAgICB9PiA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudE1vbnRoID0gLTE7XG4gICAgICAgIGxldCBjdXJyZW50TW9udGhXZWVrczogQXJyYXk8XG4gICAgICAgICAgICBBcnJheTx7IGRhdGU6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgZGF5T2ZXZWVrOiBudW1iZXIgfT5cbiAgICAgICAgPiA9IFtdO1xuXG4gICAgICAgIHdlZWtzLmZvckVhY2goKHdlZWspID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0RGF5ID0gd2Vla1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdERheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShmaXJzdERheS5kYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gT25seSBwcm9jZXNzIHdlZWtzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgeWVhclxuICAgICAgICAgICAgICAgIGlmICh5ZWFyID09PSBjdXJyZW50WWVhcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9udGggIT09IGN1cnJlbnRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBwcmV2aW91cyBtb250aCBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGggIT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vbnRoV2Vla3MubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhzRGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6IG1vbnRoc1tjdXJyZW50TW9udGhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrczogY3VycmVudE1vbnRoV2Vla3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IG5ldyBtb250aFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vbnRoID0gbW9udGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGhXZWVrcyA9IFt3ZWVrXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB3ZWVrIHRvIGN1cnJlbnQgbW9udGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb250aFdlZWtzLnB1c2god2Vlayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERvbid0IGZvcmdldCB0aGUgbGFzdCBtb250aFxuICAgICAgICBpZiAoY3VycmVudE1vbnRoICE9PSAtMSAmJiBjdXJyZW50TW9udGhXZWVrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtb250aHNEYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aHNbY3VycmVudE1vbnRoXSxcbiAgICAgICAgICAgICAgICB3ZWVrczogY3VycmVudE1vbnRoV2Vla3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb250aHNEYXRhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU1heFdlZWtzKHdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSAwKSByZXR1cm4gMjA7IC8vIE5vdCB5ZXQgcmVuZGVyZWRcblxuICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IHdpZHRoIC0gNTA7IC8vIEFjY291bnQgZm9yIHBhZGRpbmcgYW5kIGRheSBsYWJlbHNcbiAgICAgICAgY29uc3Qgd2Vla1dpZHRoID0gMTI7IC8vIDEwcHggc3F1YXJlICsgMnB4IGdhcFxuICAgICAgICBjb25zdCBjYWxjdWxhdGVkV2Vla3MgPSBNYXRoLmZsb29yKGF2YWlsYWJsZVdpZHRoIC8gd2Vla1dpZHRoKTtcblxuICAgICAgICAvLyBFbnN1cmUgd2Ugc2hvdyBhdCBsZWFzdCA4IHdlZWtzICgyIG1vbnRocykgYW5kIGF0IG1vc3QgNTIgd2Vla3MgKDEgeWVhcilcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGNhbGN1bGF0ZWRXZWVrcywgOCksIDUyKTtcbiAgICB9XG5cbiAgICAvLyBSZWFjdGl2ZSBzdGF0ZW1lbnQgdG8gdXBkYXRlIG1heFdlZWtzIHdoZW4gY29udGFpbmVyIHdpZHRoIGNoYW5nZXNcbiAgICAkOiBpZiAoY29udGFpbmVyV2lkdGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5ld01heFdlZWtzID0gY2FsY3VsYXRlTWF4V2Vla3MoY29udGFpbmVyV2lkdGgpO1xuICAgICAgICBpZiAobmV3TWF4V2Vla3MgIT09IG1heFdlZWtzKSB7XG4gICAgICAgICAgICBtYXhXZWVrcyA9IG5ld01heFdlZWtzO1xuICAgICAgICAgICAgLy8gUmVmcmVzaCB3aXRoIG5ldyB3ZWVrIGNvdW50XG4gICAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJXaWR0aCgpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyRWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlWWVhcihkaXJlY3Rpb246IFwicHJldlwiIHwgXCJuZXh0XCIpIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJwcmV2XCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnRZZWFyLS07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50WWVhcisrO1xuICAgICAgICB9XG4gICAgICAgIGdlbmVyYXRlRGF5cygpO1xuICAgICAgICByZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgICAgaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEZldGNoIGZ1bGwgeWVhciBkYXRhICgzNjUtMzY2IGRheXMpXG4gICAgICAgICAgICByZXZpZXdDb3VudHMgPSBhd2FpdCBnZXRSZXZpZXdDb3VudHMoMzY2KTtcbiAgICAgICAgICAgIG1heENvdW50ID0gMDtcbiAgICAgICAgICAgIGdlbmVyYXRlRGF5cygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHJldmlldyBjb3VudHM6XCIsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIC8vIEluaXRpYWwgc2V0dXAgd2l0aCBwcm9wZXIgdGltaW5nXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlQ29udGFpbmVyV2lkdGgoKTtcbiAgICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiaGVhdG1hcC1jb250YWluZXJcIiBiaW5kOnRoaXM9e2NvbnRhaW5lckVsZW1lbnR9PlxuICAgIDxkaXYgY2xhc3M9XCJoZWF0bWFwLWhlYWRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLWxlZnRcIj5cbiAgICAgICAgICAgIDxoND5SZXZpZXcgQWN0aXZpdHk8L2g0PlxuICAgICAgICAgICAgeyNpZiAhaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG90YWwtcmV2aWV3c1wiPlxuICAgICAgICAgICAgICAgICAgICB7QXJyYXkuZnJvbShyZXZpZXdDb3VudHMudmFsdWVzKCkpLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICl9IHJldmlld3NcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInllYXItbmF2aWdhdGlvblwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwibmF2LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IG5hdmlnYXRlWWVhcihcInByZXZcIiksIGUpfVxuICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBuYXZpZ2F0ZVllYXIoXCJwcmV2XCIpLCBlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTJcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnpcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImN1cnJlbnQteWVhclwiPntjdXJyZW50WWVhcn08L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJuYXYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gbmF2aWdhdGVZZWFyKFwibmV4dFwiKSwgZSl9XG4gICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IG5hdmlnYXRlWWVhcihcIm5leHRcIiksIGUpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjEyXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnpcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiBpc0xvYWRpbmd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2PlxuICAgIHs6ZWxzZX1cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYXRtYXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb250aHMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgeyNlYWNoIGdldE1vbnRoc0RhdGEoKSBhcyB7IG1vbnRoLCB3ZWVrczogbW9udGhXZWVrcyB9fVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9udGgtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9udGgtbGFiZWxcIj57bW9udGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9udGgtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBtb250aFdlZWtzIGFzIHdlZWt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWVrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggd2VlayBhcyBkYXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBkYXlZZWFyID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheS5kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuZ2V0RnVsbFllYXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGF5IHtnZXRJbnRlbnNpdHlDbGFzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheS5jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczp0b2RheT17aXNUb2RheShkYXkuZGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOm91dHNpZGUteWVhcj17ZGF5WWVhciAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRZZWFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIntkYXkuY291bnR9IHJldmlld3Mgb24ge2Zvcm1hdERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXkuZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxlZ2VuZC1sYWJlbFwiPkxlc3M8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtc3F1YXJlIGludGVuc2l0eS0wXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1zcXVhcmUgaW50ZW5zaXR5LTFcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kLXNxdWFyZSBpbnRlbnNpdHktMlwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWdlbmQtc3F1YXJlIGludGVuc2l0eS0zXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1zcXVhcmUgaW50ZW5zaXR5LTRcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtbGFiZWxcIj5Nb3JlPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgICAuaGVhdG1hcC1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuaGVhdG1hcC1oZWFkZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgIC5oZWFkZXItbGVmdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIH1cblxuICAgIC55ZWFyLW5hdmlnYXRpb24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICB9XG5cbiAgICAubmF2LWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgbWluLXdpZHRoOiAzMnB4O1xuICAgICAgICBtaW4taGVpZ2h0OiAzMnB4O1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAubmF2LWJ1dHRvbjpob3ZlcixcbiAgICAubmF2LWJ1dHRvbjphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgfVxuXG4gICAgLmN1cnJlbnQteWVhciB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmhlYXRtYXAtaGVhZGVyIGg0IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLnRvdGFsLXJldmlld3Mge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAubG9hZGluZyB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuXG4gICAgLmhlYXRtYXAge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAvKmp1c3RpZnktY29udGVudDogY2VudGVyOyovXG4gICAgfVxuXG4gICAgLm1vbnRocy1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDJweDtcbiAgICAgICAgbWluLXdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgfVxuXG4gICAgLm1vbnRoLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogNHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5tb250aC1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAycHg7XG4gICAgfVxuXG4gICAgLm1vbnRoLWxhYmVscyB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgIH1cblxuICAgIC5tb250aC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogOXB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmRheS1sYWJlbHMge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IC0xOHB4O1xuICAgICAgICB0b3A6IDE2cHg7XG4gICAgfVxuXG4gICAgLmRheS1sYWJlbCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIH1cblxuICAgIC53ZWVrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAycHg7XG4gICAgfVxuXG4gICAgLmRheSB7XG4gICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG5cbiAgICAuZGF5OmhvdmVyIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMpO1xuICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuXG4gICAgLmRheS50b2RheSB7XG4gICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBvdXRsaW5lLW9mZnNldDogMXB4O1xuICAgIH1cblxuICAgIC5kYXkudG9kYXk6aG92ZXIge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDFweDtcbiAgICB9XG5cbiAgICAvKiBJbnRlbnNpdHkgY29sb3JzIC0gR2l0SHViIHN0eWxlICovXG4gICAgLmludGVuc2l0eS0wIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5pbnRlbnNpdHktMSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwZTQ0Mjk7XG4gICAgfVxuXG4gICAgLmludGVuc2l0eS0yIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNmQzMjtcbiAgICB9XG5cbiAgICAuaW50ZW5zaXR5LTMge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjZhNjQxO1xuICAgIH1cblxuICAgIC5pbnRlbnNpdHktNCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzOWQzNTM7XG4gICAgfVxuXG4gICAgLmxlZ2VuZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDNweDtcbiAgICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIH1cblxuICAgIC5sZWdlbmQtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDhweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5sZWdlbmQtY29sb3JzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAycHg7XG4gICAgfVxuXG4gICAgLmxlZ2VuZC1zcXVhcmUge1xuICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgfVxuXG4gICAgLmRheS5vdXRzaWRlLXllYXIge1xuICAgICAgICBvcGFjaXR5OiAwLjM7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC8qIEN1c3RvbSBzY3JvbGxiYXIgc3R5bGluZyAqL1xuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIGhlaWdodDogOHB4O1xuICAgIH1cblxuICAgIC5oZWF0bWFwOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAuaGVhdG1hcDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAvKiBNb2JpbGUgcmVzcG9uc2l2ZSBzdHlsZXMgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgLmhlYXRtYXAtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWF0bWFwLWhlYWRlciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWFkZXItbGVmdCB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC55ZWFyLW5hdmlnYXRpb24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICAubmF2LWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICAgICAgICB3aWR0aDogNDRweDtcbiAgICAgICAgICAgIGhlaWdodDogNDRweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogNDRweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVscyB7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRheS1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb250aHMtY29udGFpbmVyIHtcbiAgICAgICAgICAgIGdhcDogMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vbnRoLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAgIC5oZWF0bWFwLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhdG1hcC1oZWFkZXIgaDQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRvdGFsLXJldmlld3Mge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1cnJlbnQteWVhciB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm5hdi1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogNHB4O1xuICAgICAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm5hdi1idXR0b24gc3ZnIHtcbiAgICAgICAgICAgIHdpZHRoOiAxNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vbnRoLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRheS1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDdweDtcbiAgICAgICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRheS1sYWJlbHMge1xuICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb250aHMtY29udGFpbmVyIHtcbiAgICAgICAgICAgIGdhcDogMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vbnRoLWdyaWQge1xuICAgICAgICAgICAgZ2FwOiAxcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubGVnZW5kIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5sZWdlbmQtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubGVnZW5kLXNxdWFyZSB7XG4gICAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5IHtcbiAgICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDFweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC53ZWVrIHtcbiAgICAgICAgICAgIGdhcDogMXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM5MHB4KSB7XG4gICAgICAgIC8qIGlQaG9uZSAxMiBQcm8gYW5kIHNpbWlsYXIgMzkwcHggd2lkdGggcGhvbmVzICovXG4gICAgICAgIC5oZWF0bWFwLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM5MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXAtaGVhZGVyIHtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWF0bWFwLWhlYWRlciBoNCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAudG90YWwtcmV2aWV3cyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY3VycmVudC15ZWFyIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uYXYtYnV0dG9uIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogMjRweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uYXYtYnV0dG9uIHN2ZyB7XG4gICAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9udGgtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiA3cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogN3B4O1xuICAgICAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGF5LWxhYmVscyB7XG4gICAgICAgICAgICBsZWZ0OiAtMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kYXkge1xuICAgICAgICAgICAgd2lkdGg6IDdweDtcbiAgICAgICAgICAgIGhlaWdodDogN3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmxlZ2VuZC1zcXVhcmUge1xuICAgICAgICAgICAgd2lkdGg6IDdweDtcbiAgICAgICAgICAgIGhlaWdodDogN3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmxlZ2VuZC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC53ZWVrIHtcbiAgICAgICAgICAgIGdhcDogMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYXRtYXAtZ3JpZCB7XG4gICAgICAgICAgICBnYXA6IDFweDtcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWF0bWFwIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgfVxuICAgIH1cbjwvc3R5bGU+XG4iLCAiaW1wb3J0IHsgTW9kYWwsIFBsYXRmb3JtIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IERlY2ssIERlY2tDb25maWcgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB0eXBlIERlY2tzUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5pbXBvcnQgRGVja0NvbmZpZ1VJIGZyb20gXCIuL0RlY2tDb25maWdVSS5zdmVsdGVcIjtcblxuZXhwb3J0IGNsYXNzIERlY2tDb25maWdNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBkZWNrOiBEZWNrO1xuICBwcml2YXRlIHBsdWdpbjogRGVja3NQbHVnaW47XG4gIHByaXZhdGUgb25TYXZlOiAoY29uZmlnOiBEZWNrQ29uZmlnKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGNvbmZpZzogRGVja0NvbmZpZztcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IERlY2tDb25maWdVSSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBsdWdpbjogRGVja3NQbHVnaW4sXG4gICAgZGVjazogRGVjayxcbiAgICBvblNhdmU6IChjb25maWc6IERlY2tDb25maWcpID0+IFByb21pc2U8dm9pZD4sXG4gICkge1xuICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMuZGVjayA9IGRlY2s7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG4gICAgdGhpcy5jb25maWcgPSB7IC4uLmRlY2suY29uZmlnIH07XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBBZGQgbW9iaWxlLXNwZWNpZmljIGNsYXNzZXNcbiAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgIGlmIChtb2RhbEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgd2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICBtb2RhbEVsLmFkZENsYXNzKFwiZGVjay1jb25maWctbW9kYWwtbW9iaWxlXCIpO1xuICAgIH1cblxuICAgIC8vIE1vZGFsIHRpdGxlXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBgQ29uZmlndXJlIERlY2s6ICR7dGhpcy5kZWNrLm5hbWV9YCB9KTtcblxuICAgIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIFN2ZWx0ZSBjb21wb25lbnRcbiAgICBjb25zdCBjb21wb25lbnRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KFwiZGVjay1jb25maWctY29udGFpbmVyXCIpO1xuXG4gICAgLy8gQWRkIENTUyBjbGFzcyBmb3Igc3R5bGluZ1xuICAgIGNvbXBvbmVudENvbnRhaW5lci5hZGRDbGFzcyhcImRlY2stY29uZmlnLWNvbnRhaW5lclwiKTtcblxuICAgIC8vIE1vdW50IFN2ZWx0ZSBjb21wb25lbnRcbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBEZWNrQ29uZmlnVUkoe1xuICAgICAgdGFyZ2V0OiBjb21wb25lbnRDb250YWluZXIsXG4gICAgICBwcm9wczoge1xuICAgICAgICBkZWNrOiB0aGlzLmRlY2ssXG4gICAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gTGlzdGVuIHRvIGNvbXBvbmVudCBldmVudHNcbiAgICB0aGlzLmNvbXBvbmVudC4kb24oXCJzYXZlXCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVTYXZlKGV2ZW50LmRldGFpbCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC4kb24oXCJjYW5jZWxcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwiY29uZmlnQ2hhbmdlXCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5jb25maWcgPSBldmVudC5kZXRhaWw7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZSBmb3IgbW9iaWxlIGFkYXB0YXRpb25cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAoUGxhdGZvcm0uaXNJb3NBcHAgfHwgUGxhdGZvcm0uaXNBbmRyb2lkQXBwKSB7XG4gICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImRlY2stY29uZmlnLW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKFwiZGVjay1jb25maWctbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAvLyBTdG9yZSByZXNpemUgaGFuZGxlciBmb3IgY2xlYW51cFxuICAgICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIgPSBoYW5kbGVSZXNpemU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZVNhdmUoY29uZmlnOiBEZWNrQ29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMub25TYXZlKGNvbmZpZyk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGVjayBjb25maWd1cmF0aW9uOlwiLCBlcnJvcik7XG4gICAgICAvLyBDb3VsZCBhZGQgYSBub3RpY2UgaGVyZSBpZiBuZWVkZWRcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVzaXplIGhhbmRsZXJcbiAgICBpZiAoKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcik7XG4gICAgICBkZWxldGUgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcjtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95IFN2ZWx0ZSBjb21wb25lbnRcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBEZWNrLCBEZWNrQ29uZmlnLCBSZXZpZXdPcmRlciB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuICAgIGltcG9ydCB0eXBlIHsgRlNSU1Byb2ZpbGUgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnMtd2VpZ2h0c1wiO1xuXG4gICAgZXhwb3J0IGxldCBkZWNrOiBEZWNrO1xuICAgIGV4cG9ydCBsZXQgY29uZmlnOiBEZWNrQ29uZmlnO1xuXG4gICAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICAgICAgICBzYXZlOiBEZWNrQ29uZmlnO1xuICAgICAgICBjYW5jZWw6IHZvaWQ7XG4gICAgICAgIGNvbmZpZ0NoYW5nZTogRGVja0NvbmZpZztcbiAgICB9PigpO1xuXG4gICAgbGV0IG5ld0NhcmRzTGltaXQgPSBjb25maWcubmV3Q2FyZHNMaW1pdDtcbiAgICBsZXQgcmV2aWV3Q2FyZHNMaW1pdCA9IGNvbmZpZy5yZXZpZXdDYXJkc0xpbWl0O1xuICAgIGxldCBlbmFibGVOZXdDYXJkc0xpbWl0ID0gY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXQ7XG4gICAgbGV0IGVuYWJsZVJldmlld0NhcmRzTGltaXQgPSBjb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdDtcbiAgICBsZXQgcmV2aWV3T3JkZXI6IFJldmlld09yZGVyID0gY29uZmlnLnJldmlld09yZGVyO1xuICAgIGxldCByZXF1ZXN0UmV0ZW50aW9uID0gY29uZmlnLmZzcnMucmVxdWVzdFJldGVudGlvbjtcbiAgICBsZXQgcHJvZmlsZTogRlNSU1Byb2ZpbGUgPSBjb25maWcuZnNycy5wcm9maWxlO1xuICAgIGxldCBzYXZpbmcgPSBmYWxzZTtcbiAgICBsZXQgbmV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGVuYWJsZU5ld0NhcmRzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgcmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGVuYWJsZVJldmlld0NhcmRzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHJldmlld09yZGVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgcmVxdWVzdFJldGVudGlvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHByb2ZpbGVDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIGxldCBmc3JzUmVzZXRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gICAgLy8gVHJhY2sgbGFzdCBldmVudCB0byBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb25cbiAgICBsZXQgbGFzdEV2ZW50VGltZSA9IDA7XG4gICAgbGV0IGxhc3RFdmVudFR5cGUgPSBcIlwiO1xuXG4gICAgLy8gUmVhY3RpdmUgc3RhdGVtZW50IHRvIHVwZGF0ZSBjb25maWcgd2hlbiB2YWx1ZXMgY2hhbmdlXG4gICAgJDoge1xuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgICAgICAgICBuZXdDYXJkc0xpbWl0OiBOdW1iZXIobmV3Q2FyZHNMaW1pdCkgfHwgMCxcbiAgICAgICAgICAgIHJldmlld0NhcmRzTGltaXQ6IE51bWJlcihyZXZpZXdDYXJkc0xpbWl0KSB8fCAwLFxuICAgICAgICAgICAgZW5hYmxlTmV3Q2FyZHNMaW1pdCxcbiAgICAgICAgICAgIGVuYWJsZVJldmlld0NhcmRzTGltaXQsXG4gICAgICAgICAgICByZXZpZXdPcmRlcixcbiAgICAgICAgICAgIGZzcnM6IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0UmV0ZW50aW9uOiBOdW1iZXIocmVxdWVzdFJldGVudGlvbikgfHwgMC45LFxuICAgICAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcImNvbmZpZ0NoYW5nZVwiLCBuZXdDb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7XG4gICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29uZmlnOiBEZWNrQ29uZmlnID0ge1xuICAgICAgICAgICAgbmV3Q2FyZHNMaW1pdDogTnVtYmVyKG5ld0NhcmRzTGltaXQpIHx8IDAsXG4gICAgICAgICAgICByZXZpZXdDYXJkc0xpbWl0OiBOdW1iZXIocmV2aWV3Q2FyZHNMaW1pdCkgfHwgMCxcbiAgICAgICAgICAgIGVuYWJsZU5ld0NhcmRzTGltaXQsXG4gICAgICAgICAgICBlbmFibGVSZXZpZXdDYXJkc0xpbWl0LFxuICAgICAgICAgICAgcmV2aWV3T3JkZXIsXG4gICAgICAgICAgICBmc3JzOiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFJldGVudGlvbjogTnVtYmVyKHJlcXVlc3RSZXRlbnRpb24pIHx8IDAuOSxcbiAgICAgICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgZGlzcGF0Y2goXCJzYXZlXCIsIGZpbmFsQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaENsaWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkLCBldmVudDogRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gd2l0aGluIDEwMG1zXG4gICAgICAgIGlmIChub3cgLSBsYXN0RXZlbnRUaW1lIDwgMTAwICYmIGxhc3RFdmVudFR5cGUgIT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdEV2ZW50VGltZSA9IG5vdztcbiAgICAgICAgbGFzdEV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNhbmNlbCgpIHtcbiAgICAgICAgZGlzcGF0Y2goXCJjYW5jZWxcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5ZG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVNhdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91bnQoKCkgPT4ge1xuICAgICAgICAvLyBFbmFibGUgTmV3IENhcmRzIExpbWl0IFRvZ2dsZVxuICAgICAgICBpZiAoZW5hYmxlTmV3Q2FyZHNDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGVuYWJsZU5ld0NhcmRzQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRW5hYmxlIE5ldyBDYXJkcyBMaW1pdFwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFxuICAgICAgICAgICAgICAgICAgICBcIkxpbWl0IGhvdyBtYW55IG5ldyBjYXJkcyAobmV2ZXIgc2VlbiBiZWZvcmUpIGNhbiBiZSBzaG93biBwZXIgZGF5XCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKGVuYWJsZU5ld0NhcmRzTGltaXQpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTmV3Q2FyZHNMaW1pdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmV3IENhcmRzIExpbWl0IElucHV0XG4gICAgICAgIGlmIChuZXdDYXJkc0xpbWl0Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhuZXdDYXJkc0xpbWl0Q29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiTmV3IENhcmRzIHBlciBEYXlcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIk1heGltdW0gbnVtYmVyIG9mIG5ldyBjYXJkcyB0byBpbnRyb2R1Y2UgcGVyIGRheVwiKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCIyMFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKG5ld0NhcmRzTGltaXQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW0pICYmIG51bSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhcmRzTGltaXQgPSBudW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuYWJsZSBSZXZpZXcgQ2FyZHMgTGltaXQgVG9nZ2xlXG4gICAgICAgIGlmIChlbmFibGVSZXZpZXdDYXJkc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoZW5hYmxlUmV2aWV3Q2FyZHNDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJFbmFibGUgUmV2aWV3IENhcmRzIExpbWl0XCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXG4gICAgICAgICAgICAgICAgICAgIFwiTGltaXQgaG93IG1hbnkgcmV2aWV3IGNhcmRzIChkdWUgZm9yIHJlcGV0aXRpb24pIGNhbiBiZSBzaG93biBwZXIgZGF5XCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVSZXZpZXdDYXJkc0xpbWl0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV2aWV3IENhcmRzIExpbWl0IElucHV0XG4gICAgICAgIGlmIChyZXZpZXdDYXJkc0xpbWl0Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhyZXZpZXdDYXJkc0xpbWl0Q29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmV2aWV3IENhcmRzIHBlciBEYXlcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIk1heGltdW0gbnVtYmVyIG9mIHJldmlldyBjYXJkcyB0byBzaG93IHBlciBkYXlcIilcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiMTAwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUocmV2aWV3Q2FyZHNMaW1pdC50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkgJiYgbnVtID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q2FyZHNMaW1pdCA9IG51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV2aWV3IE9yZGVyIERyb3Bkb3duXG4gICAgICAgIGlmIChyZXZpZXdPcmRlckNvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcocmV2aWV3T3JkZXJDb250YWluZXIpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJSZXZpZXcgT3JkZXJcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICAgICAgXCJPcmRlciBpbiB3aGljaCByZXZpZXcgY2FyZHMgYXJlIHByZXNlbnRlZCBkdXJpbmcgc3R1ZHlcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJkdWUtZGF0ZVwiLCBcIk9sZGVzdCBkdWUgZmlyc3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJyYW5kb21cIiwgXCJSYW5kb20gb3JkZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShyZXZpZXdPcmRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IFJldmlld09yZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3T3JkZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGU1JTIFNldHRpbmdzXG4gICAgICAgIGlmIChyZXF1ZXN0UmV0ZW50aW9uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhyZXF1ZXN0UmV0ZW50aW9uQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmVxdWVzdCBSZXRlbnRpb25cIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIlRhcmdldCByZWNhbGwgcmF0ZSBmb3IgcmV2aWV3cyAoMC41LTAuOTk1KVwiKVxuICAgICAgICAgICAgICAgIC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cbiAgICAgICAgICAgICAgICAgICAgc2xpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0TGltaXRzKDAuNSwgMC45OTUsIDAuMDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUocmVxdWVzdFJldGVudGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREeW5hbWljVG9vbHRpcCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFJldGVudGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9maWxlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhwcm9maWxlQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRlNSUyBQcm9maWxlXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXG4gICAgICAgICAgICAgICAgICAgIFwiSU5URU5TSVZFOiBTdWItZGF5IGludGVydmFscyAoMW0vNW0vMTBtLzQwbSkuIFNUQU5EQVJEOiBEYXktYmFzZWQgaW50ZXJ2YWxzICjiiaUxIGRheSBtaW5pbXVtKVwiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIklOVEVOU0lWRVwiLCBcIkludGVuc2l2ZSAoU3ViLWRheSlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJTVEFOREFSRFwiLCBcIlN0YW5kYXJkIChEYXktYmFzZWQpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUocHJvZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJJTlRFTlNJVkVcIiB8fCB2YWx1ZSA9PT0gXCJTVEFOREFSRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZzcnNSZXNldENvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoZnNyc1Jlc2V0Q29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmVzZXQgRlNSUyBTZXR0aW5nc1wiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiUmVzZXQgYWxsIEZTUlMgcGFyYW1ldGVycyB0byBkZWZhdWx0IHZhbHVlc1wiKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmVzZXQgdG8gRGVmYXVsdHNcIilcbiAgICAgICAgICAgICAgICAuYWRkQnV0dG9uKChidXR0b24pID0+XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiUmVzZXQgdG8gRGVmYXVsdHNcIikub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UmV0ZW50aW9uID0gMC45O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZSA9IFwiU1RBTkRBUkRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuPC9zY3JpcHQ+XG5cbjxzdmVsdGU6d2luZG93IG9uOmtleWRvd249e2hhbmRsZUtleWRvd259IC8+XG5cbjxkaXYgY2xhc3M9XCJkZWNrLWNvbmZpZy11aVwiPlxuICAgIDwhLS0gRGVjayBJbmZvcm1hdGlvbiBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLWluZm8tc2VjdGlvblwiPlxuICAgICAgICA8aDM+RGVjayBJbmZvcm1hdGlvbjwvaDM+XG4gICAgICAgIDx1bCBjbGFzcz1cImRlY2staW5mby1saXN0XCI+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5OYW1lOjwvc3Ryb25nPiB7ZGVjay5uYW1lfTwvbGk+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5UYWc6PC9zdHJvbmc+IHtkZWNrLnRhZ308L2xpPlxuICAgICAgICAgICAgPGxpPjxzdHJvbmc+RmlsZTo8L3N0cm9uZz4ge2RlY2suZmlsZXBhdGh9PC9saT5cbiAgICAgICAgPC91bD5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gU2V0dGluZ3MgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiZGVjay1zZXR0aW5ncy1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5EYWlseSBDYXJkIExpbWl0czwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsXCI+XG4gICAgICAgICAgICBOZXcgY2FyZHMgYXJlIHN1YmplY3QgdG8gZGFpbHkgbGltaXRzIHdoZW4gZW5hYmxlZC5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBPYnNpZGlhbiBOYXRpdmUgQ29tcG9uZW50cyAtLT5cbiAgICAgICAgPGRpdiBiaW5kOnRoaXM9e2VuYWJsZU5ld0NhcmRzQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgYmluZDp0aGlzPXtuZXdDYXJkc0xpbWl0Q29udGFpbmVyfVxuICAgICAgICAgICAgY2xhc3M6ZGlzYWJsZWQ9eyFlbmFibGVOZXdDYXJkc0xpbWl0fVxuICAgICAgICA+PC9kaXY+XG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtlbmFibGVSZXZpZXdDYXJkc0NvbnRhaW5lcn0+PC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIGJpbmQ6dGhpcz17cmV2aWV3Q2FyZHNMaW1pdENvbnRhaW5lcn1cbiAgICAgICAgICAgIGNsYXNzOmRpc2FibGVkPXshZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdH1cbiAgICAgICAgPjwvZGl2PlxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17cmV2aWV3T3JkZXJDb250YWluZXJ9PjwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBGU1JTIEFsZ29yaXRobSBTZXR0aW5ncyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiZGVjay1zZXR0aW5ncy1zZWN0aW9uXCI+XG4gICAgICAgIDxoMz5GU1JTIEFsZ29yaXRobSBTZXR0aW5nczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsXCI+XG4gICAgICAgICAgICBUaGVzZSBzZXR0aW5ncyBjb250cm9sIHRoZSBzcGFjZWQgcmVwZXRpdGlvbiBhbGdvcml0aG0gZm9yIHRoaXNcbiAgICAgICAgICAgIGRlY2suXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgYmluZDp0aGlzPXtyZXF1ZXN0UmV0ZW50aW9uQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPGRpdiBiaW5kOnRoaXM9e3Byb2ZpbGVDb250YWluZXJ9PjwvZGl2PlxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17ZnNyc1Jlc2V0Q29udGFpbmVyfT48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cIm1vZC1jdGFcIlxuICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZVNhdmUsIGUpfVxuICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZVNhdmUsIGUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cbiAgICAgICAgPlxuICAgICAgICAgICAge3NhdmluZyA/IFwiU2F2aW5nLi4uXCIgOiBcIlNhdmVcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVDYW5jZWwsIGUpfVxuICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZUNhbmNlbCwgZSl9XG4gICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfT5DYW5jZWw8L2J1dHRvblxuICAgICAgICA+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5kZWNrLWNvbmZpZy11aSB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLXNlY3Rpb24gaDMge1xuICAgICAgICBtYXJnaW46IDAgMCAxMnB4IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1saXN0IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgIG1hcmdpbjogMCAwIDhweCAwO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1saXN0IGxpOmxhc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tbGlzdCBzdHJvbmcge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIH1cblxuICAgIC5kZWNrLXNldHRpbmdzLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgIH1cblxuICAgIC5kZWNrLXNldHRpbmdzLXNlY3Rpb24gaDMge1xuICAgICAgICBtYXJnaW46IDAgMCAxNnB4IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbi1nbG9iYWwge1xuICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgfVxuXG4gICAgLnNldHRpbmctaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIHBhZGRpbmc6IDEycHggMDtcbiAgICB9XG5cbiAgICAuc2V0dGluZy1pdGVtOmxhc3QtY2hpbGQge1xuICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0uZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgfVxuXG4gICAgLnNldHRpbmctaXRlbS1pbmZvIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0tbmFtZSB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICB9XG5cbiAgICAuc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgIH1cblxuICAgIC5zZXR0aW5nLWl0ZW0tY29udHJvbCB7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIH1cblxuICAgIC8qIERpc2FibGVkIHN0YXRlIGZvciBPYnNpZGlhbiBTZXR0aW5nIGNvbnRhaW5lcnMgKi9cbiAgICAuZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDI0cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxNnB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICBtaW4td2lkdGg6IDgwcHg7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246aG92ZXI6bm90KDpkaXNhYmxlZCksXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b24ubW9kLWN0YSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbi5tb2QtY3RhOmhvdmVyOm5vdCg6ZGlzYWJsZWQpLFxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uLm1vZC1jdGE6YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgfVxuXG4gICAgLyogTW9iaWxlIHJlc3BvbnNpdmUgc3R5bGVzICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5kZWNrLWNvbmZpZy11aSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIHtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIGgzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDRweDsgLyogVG91Y2gtZnJpZW5kbHkgKi9cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24ge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24tZ2xvYmFsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggMjBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDUycHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzkwcHgpIHtcbiAgICAgICAgLyogaVBob25lIDEyIFBybyBhbmQgc2ltaWxhciAzOTBweCB3aWR0aCBwaG9uZXMgKi9cbiAgICAgICAgLmRlY2stY29uZmlnLXVpIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM5MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24gaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbi1nbG9iYWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjdlbTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgRGVjaywgQW5raUV4cG9ydENvbmZpZyB9IGZyb20gXCIuLi9kYXRhYmFzZS90eXBlc1wiO1xuaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCBBbmtpRXhwb3J0VUkgZnJvbSBcIi4vQW5raUV4cG9ydFVJLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgQW5raUV4cG9ydE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIGRlY2s6IERlY2s7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IEFua2lFeHBvcnRVSSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogRGVja3NQbHVnaW4sIGRlY2s6IERlY2spIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmRlY2sgPSBkZWNrO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgLy8gQWRkIG1vYmlsZS1zcGVjaWZpYyBjbGFzc2VzXG4gICAgY29uc3QgbW9kYWxFbCA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcbiAgICBpZiAobW9kYWxFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImFua2ktZXhwb3J0LW1vZGFsLW1vYmlsZVwiKTtcbiAgICB9XG5cbiAgICAvLyBNb2RhbCB0aXRsZVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogYEV4cG9ydCB0byBBbmtpOiAke3RoaXMuZGVjay5uYW1lfWAgfSk7XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBTdmVsdGUgY29tcG9uZW50XG4gICAgY29uc3QgY29tcG9uZW50Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcImFua2ktZXhwb3J0LWNvbnRhaW5lclwiKTtcblxuICAgIC8vIEFkZCBDU1MgY2xhc3MgZm9yIHN0eWxpbmdcbiAgICBjb21wb25lbnRDb250YWluZXIuYWRkQ2xhc3MoXCJhbmtpLWV4cG9ydC1jb250YWluZXJcIik7XG5cbiAgICAvLyBNb3VudCBTdmVsdGUgY29tcG9uZW50XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgQW5raUV4cG9ydFVJKHtcbiAgICAgIHRhcmdldDogY29tcG9uZW50Q29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZGVjazogdGhpcy5kZWNrLFxuICAgICAgICBwbHVnaW46IHRoaXMucGx1Z2luLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byBjb21wb25lbnQgZXZlbnRzXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwiZXhwb3J0XCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVFeHBvcnQoZXZlbnQuZGV0YWlsKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LiRvbihcImNhbmNlbFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZSBmb3IgbW9iaWxlIGFkYXB0YXRpb25cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbEVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICAgICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcImFua2ktZXhwb3J0LW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKFwiYW5raS1leHBvcnQtbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAvLyBTdG9yZSByZXNpemUgaGFuZGxlciBmb3IgY2xlYW51cFxuICAgICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIgPSBoYW5kbGVSZXNpemU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUV4cG9ydChjb25maWc6IEFua2lFeHBvcnRDb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGZsYXNoY2FyZHMgZm9yIHRoaXMgZGVja1xuICAgICAgY29uc3QgZmxhc2hjYXJkcyA9IGF3YWl0IHRoaXMucGx1Z2luLmdldEZsYXNoY2FyZHNCeURlY2sodGhpcy5kZWNrLmlkKTtcblxuICAgICAgaWYgKGZsYXNoY2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJObyBmbGFzaGNhcmRzIGZvdW5kIGluIHRoaXMgZGVjayB0byBleHBvcnRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgQW5raSBwYWNrYWdlIGZvcm1hdFxuICAgICAgY29uc3QgYW5raURhdGEgPSB0aGlzLmdlbmVyYXRlQW5raURhdGEoZmxhc2hjYXJkcywgY29uZmlnKTtcblxuICAgICAgLy8gQ3JlYXRlIGFuZCBkb3dubG9hZCBmaWxlXG4gICAgICBhd2FpdCB0aGlzLmRvd25sb2FkQW5raUZpbGUoYW5raURhdGEsIGNvbmZpZy5hbmtpRGVja05hbWUpO1xuXG4gICAgICBuZXcgTm90aWNlKFxuICAgICAgICBgU3VjY2Vzc2Z1bGx5IGV4cG9ydGVkICR7Zmxhc2hjYXJkcy5sZW5ndGh9IGZsYXNoY2FyZHMgdG8gQW5raSBmb3JtYXRgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGV4cG9ydGluZyB0byBBbmtpOlwiLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGV4cG9ydCBkZWNrIHRvIEFua2kgZm9ybWF0XCIpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVBbmtpRGF0YShcbiAgICBmbGFzaGNhcmRzOiBhbnlbXSxcbiAgICBjb25maWc6IEFua2lFeHBvcnRDb25maWcsXG4gICk6IHN0cmluZyB7XG4gICAgLy8gQ3JlYXRlIEFua2ktY29tcGF0aWJsZSBmb3JtYXQgd2l0aCBjb25maWd1cmFibGUgc2VwYXJhdG9yc1xuICAgIGNvbnN0IGhlYWRlcnMgPSBbXCJGcm9udFwiLCBcIkJhY2tcIl07XG4gICAgY29uc3Qgcm93cyA9IFtoZWFkZXJzLmpvaW4oY29uZmlnLnNlcGFyYXRvcildO1xuXG4gICAgZmxhc2hjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjb25zdCBmcm9udCA9IHRoaXMuc2FuaXRpemVGb3JBbmtpKGNhcmQuZnJvbnQsIGNvbmZpZy5zZXBhcmF0b3IpO1xuICAgICAgY29uc3QgYmFjayA9IHRoaXMuc2FuaXRpemVGb3JBbmtpKGNhcmQuYmFjaywgY29uZmlnLnNlcGFyYXRvcik7XG5cbiAgICAgIHJvd3MucHVzaChbZnJvbnQsIGJhY2tdLmpvaW4oY29uZmlnLnNlcGFyYXRvcikpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJvd3Muam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVGb3JBbmtpKHRleHQ6IHN0cmluZywgc2VwYXJhdG9yOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgbGV0IHNhbml0aXplZCA9IHRleHRcbiAgICAgIC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCBcIjxiPiQxPC9iPlwiKSAvLyBCb2xkXG4gICAgICAucmVwbGFjZSgvXFwqKC4qPylcXCovZywgXCI8aT4kMTwvaT5cIikgLy8gSXRhbGljXG4gICAgICAucmVwbGFjZSgvYCguKj8pYC9nLCBcIjxjb2RlPiQxPC9jb2RlPlwiKSAvLyBDb2RlXG4gICAgICAucmVwbGFjZSgvXFxuL2csIFwiPGJyPlwiKSAvLyBSZXBsYWNlIG5ld2xpbmVzIHdpdGggSFRNTCBicmVha3NcbiAgICAgIC50cmltKCk7XG5cbiAgICAvLyBFc2NhcGUgdGhlIGZpZWxkIHNlcGFyYXRvclxuICAgIGlmIChzZXBhcmF0b3IgPT09IFwiXFx0XCIpIHtcbiAgICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9cXHQvZywgXCIgXCIpOyAvLyBSZXBsYWNlIHRhYnMgd2l0aCBzcGFjZXNcbiAgICB9IGVsc2Uge1xuICAgICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoXG4gICAgICAgIG5ldyBSZWdFeHAoYFxcXFwke3NlcGFyYXRvcn1gLCBcImdcIiksXG4gICAgICAgIGBcXFxcJHtzZXBhcmF0b3J9YCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZG93bmxvYWRBbmtpRmlsZShkYXRhOiBzdHJpbmcsIGRlY2tOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke2RlY2tOYW1lLnJlcGxhY2UoL1teYS16QS1aMC05LV9dL2csIFwiX1wiKX1fZXhwb3J0LnR4dGA7XG5cbiAgICAvLyBDcmVhdGUgYmxvYiBhbmQgZG93bmxvYWRcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCIgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG5cbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVzaXplIGhhbmRsZXJcbiAgICBpZiAoKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcik7XG4gICAgICBkZWxldGUgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcjtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95IFN2ZWx0ZSBjb21wb25lbnRcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBEZWNrLCBBbmtpRXhwb3J0Q29uZmlnIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IHR5cGUgRGVja3NQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuICAgIGV4cG9ydCBsZXQgZGVjazogRGVjaztcbiAgICBleHBvcnQgbGV0IHBsdWdpbjogRGVja3NQbHVnaW47XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gICAgICAgIGV4cG9ydDogQW5raUV4cG9ydENvbmZpZztcbiAgICAgICAgY2FuY2VsOiB2b2lkO1xuICAgIH0+KCk7XG5cbiAgICBsZXQgYW5raURlY2tOYW1lID0gZGVjay5uYW1lO1xuICAgIGxldCBzZXBhcmF0b3IgPSBcInRhYlwiO1xuICAgIGxldCBleHBvcnRpbmcgPSBmYWxzZTtcblxuICAgIC8vIENvbnRhaW5lciByZWZlcmVuY2VzIGZvciBPYnNpZGlhbiBTZXR0aW5nc1xuICAgIGxldCBkZWNrTmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHNlcGFyYXRvckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyBUcmFjayBsYXN0IGV2ZW50IHRvIHByZXZlbnQgZG91YmxlIGV4ZWN1dGlvblxuICAgIGxldCBsYXN0RXZlbnRUaW1lID0gMDtcbiAgICBsZXQgbGFzdEV2ZW50VHlwZSA9IFwiXCI7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVFeHBvcnQoKSB7XG4gICAgICAgIGV4cG9ydGluZyA9IHRydWU7XG5cbiAgICAgICAgLy8gTWFwIHNlcGFyYXRvciBzZWxlY3Rpb24gdG8gYWN0dWFsIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBzZXBhcmF0b3JNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICB0YWI6IFwiXFx0XCIsXG4gICAgICAgICAgICBzZW1pY29sb246IFwiO1wiLFxuICAgICAgICAgICAgY29sb246IFwiOlwiLFxuICAgICAgICAgICAgcGlwZTogXCJ8XCIsXG4gICAgICAgICAgICBjb21tYTogXCIsXCIsXG4gICAgICAgICAgICBzcGFjZTogXCIgXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29uZmlnOiBBbmtpRXhwb3J0Q29uZmlnID0ge1xuICAgICAgICAgICAgYW5raURlY2tOYW1lOiBhbmtpRGVja05hbWUudHJpbSgpIHx8IGRlY2submFtZSxcbiAgICAgICAgICAgIHNlcGFyYXRvcjogc2VwYXJhdG9yTWFwW3NlcGFyYXRvcl0gfHwgXCJcXHRcIixcbiAgICAgICAgfTtcblxuICAgICAgICBkaXNwYXRjaChcImV4cG9ydFwiLCBjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoQ2xpY2soY2FsbGJhY2s6ICgpID0+IHZvaWQsIGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGV4ZWN1dGlvbiB3aXRoaW4gMTAwbXNcbiAgICAgICAgaWYgKG5vdyAtIGxhc3RFdmVudFRpbWUgPCAxMDAgJiYgbGFzdEV2ZW50VHlwZSAhPT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RXZlbnRUaW1lID0gbm93O1xuICAgICAgICBsYXN0RXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkge1xuICAgICAgICBkaXNwYXRjaChcImNhbmNlbFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSkge1xuICAgICAgICAgICAgaGFuZGxlRXhwb3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gQW5raSBEZWNrIE5hbWVcbiAgICAgICAgaWYgKGRlY2tOYW1lQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhkZWNrTmFtZUNvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkFua2kgRGVjayBOYW1lXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXG4gICAgICAgICAgICAgICAgICAgIFwiTmFtZSBvZiB0aGUgZGVjayBpbiBBbmtpIHdoZXJlIGNhcmRzIHdpbGwgYmUgaW1wb3J0ZWRcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGRlY2sgbmFtZS4uLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKGFua2lEZWNrTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmtpRGVja05hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXBhcmF0b3IgRHJvcGRvd25cbiAgICAgICAgaWYgKHNlcGFyYXRvckNvbnRhaW5lcikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoc2VwYXJhdG9yQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRmllbGQgU2VwYXJhdG9yXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXG4gICAgICAgICAgICAgICAgICAgIFwiQ2hhcmFjdGVyIHVzZWQgdG8gc2VwYXJhdGUgZmllbGRzIGluIHRoZSBleHBvcnRlZCBmaWxlXCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFiXCIsIFwiVGFiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwic2VtaWNvbG9uXCIsIFwiU2VtaWNvbG9uICg7KVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNvbG9uXCIsIFwiQ29sb24gKDopXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwicGlwZVwiLCBcIlBpcGUgKHwpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY29tbWFcIiwgXCJDb21tYSAoLClcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJzcGFjZVwiLCBcIlNwYWNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoc2VwYXJhdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuPC9zY3JpcHQ+XG5cbjxzdmVsdGU6d2luZG93IG9uOmtleWRvd249e2hhbmRsZUtleWRvd259IC8+XG5cbjxkaXYgY2xhc3M9XCJhbmtpLWV4cG9ydC11aVwiPlxuICAgIDwhLS0gRGVjayBJbmZvcm1hdGlvbiBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLWluZm8tc2VjdGlvblwiPlxuICAgICAgICA8aDM+RXhwb3J0IEluZm9ybWF0aW9uPC9oMz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZGVjay1pbmZvLWxpc3RcIj5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPlNvdXJjZSBEZWNrOjwvc3Ryb25nPiB7ZGVjay5uYW1lfTwvbGk+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5Tb3VyY2UgVGFnOjwvc3Ryb25nPiB7ZGVjay50YWd9PC9saT5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPlNvdXJjZSBGaWxlOjwvc3Ryb25nPiB7ZGVjay5maWxlcGF0aH08L2xpPlxuICAgICAgICA8L3VsPlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBFeHBvcnQgSW5zdHJ1Y3Rpb25zIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJpbnN0cnVjdGlvbnMtc2VjdGlvblwiPlxuICAgICAgICA8aDM+SG93IHRvIEltcG9ydDwvaDM+XG4gICAgICAgIDxvbCBjbGFzcz1cImluc3RydWN0aW9ucy1saXN0XCI+XG4gICAgICAgICAgICA8bGk+VGhpcyB3aWxsIGRvd25sb2FkIGEgdGV4dCBmaWxlIGNvbXBhdGlibGUgd2l0aCBBbmtpPC9saT5cbiAgICAgICAgICAgIDxsaT5PcGVuIEFua2kgYW5kIGdvIHRvIDxzdHJvbmc+RmlsZSDihpIgSW1wb3J0PC9zdHJvbmc+PC9saT5cbiAgICAgICAgICAgIDxsaT5TZWxlY3QgdGhlIGRvd25sb2FkZWQgZmlsZTwvbGk+XG4gICAgICAgICAgICA8bGk+Q2hvb3NlIHlvdXIgdGFyZ2V0IGRlY2sgYW5kIGltcG9ydCBzZXR0aW5nczwvbGk+XG4gICAgICAgICAgICA8bGk+Q2xpY2sgPHN0cm9uZz5JbXBvcnQ8L3N0cm9uZz4gdG8gYWRkIHRoZSBjYXJkczwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIEV4cG9ydCBTZXR0aW5ncyBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJleHBvcnQtc2V0dGluZ3Mtc2VjdGlvblwiPlxuICAgICAgICA8aDM+RXhwb3J0IFNldHRpbmdzPC9oMz5cblxuICAgICAgICA8IS0tIE9ic2lkaWFuIE5hdGl2ZSBDb21wb25lbnRzIC0tPlxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17ZGVja05hbWVDb250YWluZXJ9PjwvZGl2PlxuICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17c2VwYXJhdG9yQ29udGFpbmVyfT48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cIm1vZC1jdGFcIlxuICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZUV4cG9ydCwgZSl9XG4gICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlRXhwb3J0LCBlKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtleHBvcnRpbmcgfHwgIWFua2lEZWNrTmFtZS50cmltKCl9XG4gICAgICAgID5cbiAgICAgICAgICAgIHtleHBvcnRpbmcgPyBcIkV4cG9ydGluZy4uLlwiIDogXCJFeHBvcnQgdG8gQW5raVwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKGhhbmRsZUNhbmNlbCwgZSl9XG4gICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlQ2FuY2VsLCBlKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtleHBvcnRpbmd9PkNhbmNlbDwvYnV0dG9uXG4gICAgICAgID5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmFua2ktZXhwb3J0LXVpIHtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLXNlY3Rpb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5kZWNrLWluZm8tc2VjdGlvbiBoMyB7XG4gICAgICAgIG1hcmdpbjogMCAwIDEycHggMDtcbiAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3Qge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1saXN0IGxpIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuZGVjay1pbmZvLWxpc3QgbGk6bGFzdC1jaGlsZCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgfVxuXG4gICAgLmRlY2staW5mby1saXN0IHN0cm9uZyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLmluc3RydWN0aW9ucy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiBoMyB7XG4gICAgICAgIG1hcmdpbjogMCAwIDEycHggMDtcbiAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAuaW5zdHJ1Y3Rpb25zLWxpc3Qge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgIH1cblxuICAgIC5pbnN0cnVjdGlvbnMtbGlzdCBsaSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICB9XG5cbiAgICAuaW5zdHJ1Y3Rpb25zLWxpc3QgbGk6bGFzdC1jaGlsZCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgfVxuXG4gICAgLmluc3RydWN0aW9ucy1saXN0IHN0cm9uZyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLmV4cG9ydC1zZXR0aW5ncy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICB9XG5cbiAgICAuZXhwb3J0LXNldHRpbmdzLXNlY3Rpb24gaDMge1xuICAgICAgICBtYXJnaW46IDAgMCAxNnB4IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjRweDtcbiAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b24ge1xuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogMTAwcHg7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246aG92ZXI6bm90KDpkaXNhYmxlZCksXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLm1vZGFsLWZvb3RlciBidXR0b24ubW9kLWN0YSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB9XG5cbiAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbi5tb2QtY3RhOmhvdmVyOm5vdCg6ZGlzYWJsZWQpLFxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uLm1vZC1jdGE6YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgfVxuXG4gICAgLyogTW9iaWxlIHJlc3BvbnNpdmUgc3R5bGVzICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5hbmtpLWV4cG9ydC11aSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uLFxuICAgICAgICAuaW5zdHJ1Y3Rpb25zLXNlY3Rpb24ge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24gaDMsXG4gICAgICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5leHBvcnQtc2V0dGluZ3Mtc2VjdGlvbiBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIgYnV0dG9uIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24sXG4gICAgICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1saXN0IGxpIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmluc3RydWN0aW9ucy1saXN0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWZvb3RlciBidXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogMTRweCAyMHB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNTJweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzOTBweCkge1xuICAgICAgICAuYW5raS1leHBvcnQtdWkge1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzkwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1pbmZvLXNlY3Rpb24sXG4gICAgICAgIC5pbnN0cnVjdGlvbnMtc2VjdGlvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2staW5mby1zZWN0aW9uIGgzLFxuICAgICAgICAuaW5zdHJ1Y3Rpb25zLXNlY3Rpb24gaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLWluZm8tbGlzdCBsaSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmluc3RydWN0aW9ucy1saXN0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgICAgIH1cblxuICAgICAgICAuZXhwb3J0LXNldHRpbmdzLXNlY3Rpb24gaDMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xuICAgIGltcG9ydCB0eXBlIHsgRGVjaywgRGVja1N0YXRzLCBEZWNrQ29uZmlnIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IFJldmlld0hlYXRtYXAgZnJvbSBcIi4vUmV2aWV3SGVhdG1hcC5zdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBEZWNrQ29uZmlnTW9kYWwgfSBmcm9tIFwiLi9EZWNrQ29uZmlnTW9kYWxcIjtcbiAgICBpbXBvcnQgeyBBbmtpRXhwb3J0TW9kYWwgfSBmcm9tIFwiLi9BbmtpRXhwb3J0TW9kYWxcIjtcblxuICAgIGxldCBkZWNrczogRGVja1tdID0gW107XG4gICAgbGV0IGFsbERlY2tzOiBEZWNrW10gPSBbXTtcbiAgICBsZXQgc3RhdHMgPSBuZXcgTWFwPHN0cmluZywgRGVja1N0YXRzPigpO1xuICAgIGxldCBmaWx0ZXJUZXh0ID0gXCJcIjtcbiAgICBsZXQgaGVhdG1hcENvbXBvbmVudDogYW55O1xuICAgIGxldCBzaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICBsZXQgYXZhaWxhYmxlVGFnczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRTdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgaW5wdXRGb2N1c2VkID0gZmFsc2U7XG4gICAgbGV0IGFjdGl2ZURyb3Bkb3duOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGxldCBhY3RpdmVEcm9wZG93bkRlY2tJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgY2xpY2s/OiAoZTogRXZlbnQpID0+IHZvaWQ7XG4gICAgICAgIHNjcm9sbD86ICgpID0+IHZvaWQ7XG4gICAgICAgIHJlc2l6ZT86ICgpID0+IHZvaWQ7XG4gICAgfSA9IHt9O1xuXG4gICAgZXhwb3J0IGxldCBvbkRlY2tDbGljazogKGRlY2s6IERlY2spID0+IHZvaWQ7XG4gICAgZXhwb3J0IGxldCBvblJlZnJlc2g6ICgpID0+IHZvaWQ7XG4gICAgZXhwb3J0IGxldCBnZXRSZXZpZXdDb3VudHM6IChkYXlzOiBudW1iZXIpID0+IFByb21pc2U8TWFwPHN0cmluZywgbnVtYmVyPj47XG4gICAgZXhwb3J0IGxldCBvblVwZGF0ZURlY2tDb25maWc6IChcbiAgICAgICAgZGVja0lkOiBzdHJpbmcsXG4gICAgICAgIGNvbmZpZzogRGVja0NvbmZpZyxcbiAgICApID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbk9wZW5TdGF0aXN0aWNzOiAoKSA9PiB2b2lkO1xuICAgIGV4cG9ydCBsZXQgcGx1Z2luOiBhbnkgPSBudWxsOyAvLyBUT0RPOiBSZWZhY3RvciB0byBwYXNzIHNwZWNpZmljIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIHdob2xlIHBsdWdpblxuXG4gICAgbGV0IGlzUmVmcmVzaGluZyA9IGZhbHNlO1xuICAgIGxldCBpc1VwZGF0aW5nU3RhdHMgPSBmYWxzZTtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgIGZ1bmN0aW9uIGdldERlY2tTdGF0cyhkZWNrSWQ6IHN0cmluZyk6IERlY2tTdGF0cyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzdGF0cy5nZXQoZGVja0lkKSA/PyB7XG4gICAgICAgICAgICAgICAgZGVja0lkLFxuICAgICAgICAgICAgICAgIG5ld0NvdW50OiAwLFxuICAgICAgICAgICAgICAgIGR1ZUNvdW50OiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsQ291bnQ6IDAsXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0RGVja05hbWUoZGVjazogRGVjayk6IHN0cmluZyB7XG4gICAgICAgIC8vIGRlY2submFtZSBub3cgY29udGFpbnMgdGhlIGNsZWFuIGZpbGVuYW1lIHdpdGhvdXQgZXh0ZW5zaW9uXG4gICAgICAgIHJldHVybiBkZWNrLm5hbWU7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVmcmVzaCgpIHtcbiAgICAgICAgaXNSZWZyZXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG9uUmVmcmVzaCgpO1xuICAgICAgICAgICAgcmVmcmVzaEhlYXRtYXAoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgcmVmcmVzaDpcIiwgZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlU3RhdHNCeUlkKGRlY2tJZDogc3RyaW5nLCBuZXdTdGF0czogRGVja1N0YXRzKSB7XG4gICAgICAgIGlzVXBkYXRpbmdTdGF0cyA9IHRydWU7XG4gICAgICAgIHN0YXRzLnNldChkZWNrSWQsIG5ld1N0YXRzKTtcbiAgICAgICAgZGVja3MgPSBkZWNrcztcbiAgICAgICAgaXNVcGRhdGluZ1N0YXRzID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIEZ1bmN0aW9uIHRvIGZvcmNlIFVJIHVwZGF0ZSB3aGVuIHN0YXRzIGNoYW5nZVxuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTdGF0cyhuZXdTdGF0czogTWFwPHN0cmluZywgRGVja1N0YXRzPikge1xuICAgICAgICBpc1VwZGF0aW5nU3RhdHMgPSB0cnVlO1xuICAgICAgICBzdGF0cyA9IG5ld1N0YXRzO1xuICAgICAgICBkZWNrcyA9IGRlY2tzO1xuICAgICAgICBpc1VwZGF0aW5nU3RhdHMgPSBmYWxzZTtcbiAgICB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURlY2tzKG5ld0RlY2tzOiBEZWNrW10pIHtcbiAgICAgICAgYWxsRGVja3MgPSBuZXdEZWNrcztcbiAgICAgICAgLy8gRXh0cmFjdCB1bmlxdWUgdGFnc1xuICAgICAgICBhdmFpbGFibGVUYWdzID0gWy4uLm5ldyBTZXQobmV3RGVja3MubWFwKChkZWNrKSA9PiBkZWNrLnRhZykpXS5maWx0ZXIoXG4gICAgICAgICAgICAodGFnKSA9PiB0YWcsXG4gICAgICAgICk7XG4gICAgICAgIGFwcGx5RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoKSB7XG4gICAgICAgIGlmICghZmlsdGVyVGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgIGRlY2tzID0gYWxsRGVja3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBkZWNrcyA9IGFsbERlY2tzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoZGVjaykgPT5cbiAgICAgICAgICAgICAgICAgICAgZGVjay5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyKSB8fFxuICAgICAgICAgICAgICAgICAgICBkZWNrLnRhZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlciksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRmlsdGVySW5wdXQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBmaWx0ZXJUZXh0ID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICB1cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgICBhcHBseUZpbHRlcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN1Z2dlc3Rpb25zKCkge1xuICAgICAgICBpZiAoIWZpbHRlclRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICBzaG93U3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlclRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZmlsdGVyZWRTdWdnZXN0aW9ucyA9IGF2YWlsYWJsZVRhZ3MuZmlsdGVyKFxuICAgICAgICAgICAgKHRhZykgPT5cbiAgICAgICAgICAgICAgICB0YWcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpICYmXG4gICAgICAgICAgICAgICAgdGFnLnRvTG93ZXJDYXNlKCkgIT09IGZpbHRlcixcbiAgICAgICAgKTtcbiAgICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gZmlsdGVyZWRTdWdnZXN0aW9ucy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdFN1Z2dlc3Rpb24odGFnOiBzdHJpbmcpIHtcbiAgICAgICAgZmlsdGVyVGV4dCA9IHRhZztcbiAgICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2U7XG4gICAgICAgIGFwcGx5RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRmlsdGVyRm9jdXMoKSB7XG4gICAgICAgIGlucHV0Rm9jdXNlZCA9IHRydWU7XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0LnRyaW0oKSkge1xuICAgICAgICAgICAgdXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdmFpbGFibGVUYWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNob3dTdWdnZXN0aW9ucyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJCbHVyKCkge1xuICAgICAgICBpbnB1dEZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gRGVsYXkgaGlkaW5nIHN1Z2dlc3Rpb25zIHRvIGFsbG93IGNsaWNrc1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNob3dTdWdnZXN0aW9ucyA9IGZhbHNlO1xuICAgICAgICB9LCAyMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZURlY2tDbGljayhkZWNrOiBEZWNrKSB7XG4gICAgICAgIG9uRGVja0NsaWNrKGRlY2spO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZWZyZXNoSGVhdG1hcCgpIHtcbiAgICAgICAgaWYgKGhlYXRtYXBDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGhlYXRtYXBDb21wb25lbnQucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ29uZmlnQ2xpY2soZGVjazogRGVjaywgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIC8vIElmIGNsaWNraW5nIHRoZSBzYW1lIGNvZywgY2xvc2UgdGhlIGRyb3Bkb3duXG4gICAgICAgIGlmIChhY3RpdmVEcm9wZG93biAmJiBhY3RpdmVEcm9wZG93bkRlY2tJZCA9PT0gZGVjay5pZCkge1xuICAgICAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xvc2UgYW55IGV4aXN0aW5nIGRyb3Bkb3duXG4gICAgICAgIGNsb3NlQWN0aXZlRHJvcGRvd24oKTtcblxuICAgICAgICAvLyBDcmVhdGUgZHJvcGRvd24gbWVudVxuICAgICAgICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRyb3Bkb3duLmNsYXNzTmFtZSA9IFwiZGVjay1jb25maWctZHJvcGRvd25cIjtcblxuICAgICAgICBjb25zdCBjb25maWdPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25maWdPcHRpb24uY2xhc3NOYW1lID0gXCJkcm9wZG93bi1vcHRpb25cIjtcbiAgICAgICAgY29uZmlnT3B0aW9uLnRleHRDb250ZW50ID0gXCJDb25maWd1cmUgZGVja1wiO1xuICAgICAgICBjb25maWdPcHRpb24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNsb3NlQWN0aXZlRHJvcGRvd24oKTtcbiAgICAgICAgICAgIG9wZW5EZWNrQ29uZmlnKGRlY2spO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGV4cG9ydE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGV4cG9ydE9wdGlvbi5jbGFzc05hbWUgPSBcImRyb3Bkb3duLW9wdGlvblwiO1xuICAgICAgICBleHBvcnRPcHRpb24udGV4dENvbnRlbnQgPSBcIkV4cG9ydCB0byBBbmtpXCI7XG4gICAgICAgIGV4cG9ydE9wdGlvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuICAgICAgICAgICAgb3BlbkFua2lFeHBvcnQoZGVjayk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoY29uZmlnT3B0aW9uKTtcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoZXhwb3J0T3B0aW9uKTtcblxuICAgICAgICAvLyBQb3NpdGlvbiBkcm9wZG93biB3aXRoIHZpZXdwb3J0IGJvdW5kcyBjaGVja2luZ1xuICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBidXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgZHJvcGRvd24uc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICAgIGRyb3Bkb3duLnN0eWxlLnpJbmRleCA9IFwiMTAwMFwiO1xuXG4gICAgICAgIC8vIFRlbXBvcmFyaWx5IGFwcGVuZCB0byBtZWFzdXJlIGRpbWVuc2lvbnNcbiAgICAgICAgZHJvcGRvd24uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJvcGRvd24pO1xuICAgICAgICBjb25zdCBkcm9wZG93blJlY3QgPSBkcm9wZG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgb3B0aW1hbCBwb3NpdGlvblxuICAgICAgICBsZXQgdG9wID0gcmVjdC5ib3R0b20gKyA1O1xuICAgICAgICBsZXQgbGVmdCA9IHJlY3QubGVmdDtcblxuICAgICAgICAvLyBBZGp1c3QgaWYgZHJvcGRvd24gd291bGQgZ28gYmVsb3cgdmlld3BvcnRcbiAgICAgICAgaWYgKHRvcCArIGRyb3Bkb3duUmVjdC5oZWlnaHQgPiB2aWV3cG9ydEhlaWdodCAtIDEwKSB7XG4gICAgICAgICAgICB0b3AgPSByZWN0LnRvcCAtIGRyb3Bkb3duUmVjdC5oZWlnaHQgLSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRqdXN0IGlmIGRyb3Bkb3duIHdvdWxkIGdvIHJpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICAgIGlmIChsZWZ0ICsgZHJvcGRvd25SZWN0LndpZHRoID4gdmlld3BvcnRXaWR0aCAtIDEwKSB7XG4gICAgICAgICAgICBsZWZ0ID0gdmlld3BvcnRXaWR0aCAtIGRyb3Bkb3duUmVjdC53aWR0aCAtIDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5zdXJlIGl0IGRvZXNuJ3QgZ28gYWJvdmUgb3IgbGVmdCBvZiB2aWV3cG9ydFxuICAgICAgICB0b3AgPSBNYXRoLm1heCgxMCwgdG9wKTtcbiAgICAgICAgbGVmdCA9IE1hdGgubWF4KDEwLCBsZWZ0KTtcblxuICAgICAgICBkcm9wZG93bi5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICAgICAgICBkcm9wZG93bi5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgICAgIGRyb3Bkb3duLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcblxuICAgICAgICAvLyBTdG9yZSBhY3RpdmUgZHJvcGRvd24gcmVmZXJlbmNlXG4gICAgICAgIGFjdGl2ZURyb3Bkb3duID0gZHJvcGRvd247XG4gICAgICAgIGFjdGl2ZURyb3Bkb3duRGVja0lkID0gZGVjay5pZDtcblxuICAgICAgICAvLyBTdG9yZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGNsZWFudXBcbiAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycy5jbGljayA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkcm9wZG93bi5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgICAgIGNsb3NlQWN0aXZlRHJvcGRvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycy5zY3JvbGwgPSBjbG9zZUFjdGl2ZURyb3Bkb3duO1xuICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnJlc2l6ZSA9IGNsb3NlQWN0aXZlRHJvcGRvd247XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyB3aXRoIHNsaWdodCBkZWxheSB0byBwcmV2ZW50IGltbWVkaWF0ZSBjbG9zdXJlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuY2xpY2spIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMuY2xpY2ssXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcInNjcm9sbFwiLFxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMucmVzaXplKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFwicmVzaXplXCIsXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duRXZlbnRMaXN0ZW5lcnMucmVzaXplLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlQWN0aXZlRHJvcGRvd24oKSB7XG4gICAgICAgIGlmIChhY3RpdmVEcm9wZG93bikge1xuICAgICAgICAgICAgYWN0aXZlRHJvcGRvd24ucmVtb3ZlKCk7XG4gICAgICAgICAgICBhY3RpdmVEcm9wZG93biA9IG51bGw7XG4gICAgICAgICAgICBhY3RpdmVEcm9wZG93bkRlY2tJZCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGFsbCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGlmIChkcm9wZG93bkV2ZW50TGlzdGVuZXJzLmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLmNsaWNrLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJvcGRvd25FdmVudExpc3RlbmVycy5zY3JvbGwpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgXCJzY3JvbGxcIixcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycy5zY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnJlc2l6ZSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBcInJlc2l6ZVwiLFxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkV2ZW50TGlzdGVuZXJzLnJlc2l6ZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDbGVhciBzdG9yZWQgcmVmZXJlbmNlc1xuICAgICAgICAgICAgZHJvcGRvd25FdmVudExpc3RlbmVycyA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgY2xvc2VBY3RpdmVEcm9wZG93bigpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb3BlbkRlY2tDb25maWcoZGVjazogRGVjaykge1xuICAgICAgICBpZiAoIXBsdWdpbikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGx1Z2luIG5vdCBhdmFpbGFibGUgZm9yIGRlY2sgY29uZmlnXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IERlY2tDb25maWdNb2RhbChcbiAgICAgICAgICAgIHBsdWdpbixcbiAgICAgICAgICAgIGRlY2ssXG4gICAgICAgICAgICBhc3luYyAoY29uZmlnOiBEZWNrQ29uZmlnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9uVXBkYXRlRGVja0NvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvblVwZGF0ZURlY2tDb25maWcoZGVjay5pZCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsb2NhbCBkZWNrIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNrSW5kZXggPSBhbGxEZWNrcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAoZCkgPT4gZC5pZCA9PT0gZGVjay5pZCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2tJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlY2tzW2RlY2tJbmRleF0uY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgcmVhY3Rpdml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVja3MgPSBbLi4uYWxsRGVja3NdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW5BbmtpRXhwb3J0KGRlY2s6IERlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsdWdpbiBub3QgYXZhaWxhYmxlIGZvciBBbmtpIGV4cG9ydFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBBbmtpRXhwb3J0TW9kYWwocGx1Z2luLCBkZWNrKTtcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoQ2xpY2soY2FsbGJhY2s6ICgpID0+IHZvaWQsIGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGV4ZWN1dGlvbiB3aXRoaW4gMTAwbXNcbiAgICAgICAgaWYgKG5vdyAtIGxhc3RFdmVudFRpbWUgPCAxMDAgJiYgbGFzdEV2ZW50VHlwZSAhPT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RXZlbnRUaW1lID0gbm93O1xuICAgICAgICBsYXN0RXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIC8vIEluaXRpYWwgbG9hZFxuICAgICAgICBoYW5kbGVSZWZyZXNoKCk7XG4gICAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImRlY2stbGlzdC1wYW5lbFwiPlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkZXJcIj5cbiAgICAgICAgPGgzIGNsYXNzPVwicGFuZWwtdGl0bGVcIj5GbGFzaGNhcmQgRGVja3M8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzcz1cInN0YXRzLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKG9uT3BlblN0YXRpc3RpY3MsIGUpfVxuICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhvbk9wZW5TdGF0aXN0aWNzLCBlKX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlZpZXcgT3ZlcmFsbCBTdGF0aXN0aWNzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE0XCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTRcIlxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyAzdjE4aDE4XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE4IDE3VjlcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMgMTdWNVwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk04IDE3di0zXCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJyZWZyZXNoLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3M6cmVmcmVzaGluZz17aXNSZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhoYW5kbGVSZWZyZXNoLCBlKX1cbiAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soaGFuZGxlUmVmcmVzaCwgZSl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVmcmVzaGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE0XCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTRcIlxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjMgNHY2aC02XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEgMjB2LTZoNlwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMy41MSA5YTkgOSAwIDAgMSAxNC44NS0zLjM2TDIzIDEwTTEgMTRsNC42NCA0LjM2QTkgOSAwIDAgMCAyMC40OSAxNVwiXG4gICAgICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLXNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImZpbHRlci1pbnB1dFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaWx0ZXIgYnkgbmFtZSBvciB0YWcuLi4gKGUuZy4sICdzcGFuaXNoJywgJyNmbGFzaGNhcmRzJylcIlxuICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2ZpbHRlclRleHR9XG4gICAgICAgICAgICAgICAgb246aW5wdXQ9e2hhbmRsZUZpbHRlcklucHV0fVxuICAgICAgICAgICAgICAgIG9uOmZvY3VzPXtoYW5kbGVGaWx0ZXJGb2N1c31cbiAgICAgICAgICAgICAgICBvbjpibHVyPXtoYW5kbGVGaWx0ZXJCbHVyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsjaWYgc2hvd1N1Z2dlc3Rpb25zICYmIGZpbHRlcmVkU3VnZ2VzdGlvbnMubGVuZ3RoID4gMH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Z2dlc3Rpb25zLWhlYWRlclwiPkF2YWlsYWJsZSB0YWdzOjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggZmlsdGVyZWRTdWdnZXN0aW9ucyBhcyB0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdWdnZXN0aW9uLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOm1vdXNlZG93bnxwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3VnZ2VzdGlvbih0YWcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHNlbGVjdFN1Z2dlc3Rpb24odGFnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gc2VsZWN0U3VnZ2VzdGlvbih0YWcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZSBpZiAhZmlsdGVyVGV4dC50cmltKCkgJiYgYXZhaWxhYmxlVGFncy5sZW5ndGggPiAwICYmIGlucHV0Rm9jdXNlZH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Z2dlc3Rpb25zLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQXZhaWxhYmxlIHRhZ3MgKGNsaWNrIHRvIGZpbHRlcik6XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYXZhaWxhYmxlVGFncy5zbGljZSgwLCA1KSBhcyB0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdWdnZXN0aW9uLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOm1vdXNlZG93bnxwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3VnZ2VzdGlvbih0YWcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHNlbGVjdFN1Z2dlc3Rpb24odGFnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gc2VsZWN0U3VnZ2VzdGlvbih0YWcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiBhbGxEZWNrcy5sZW5ndGggPT09IDB9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgPHA+Tm8gZmxhc2hjYXJkIGRlY2tzIGZvdW5kLjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwiaGVscC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgVGFnIHlvdXIgbm90ZXMgd2l0aCAjZmxhc2hjYXJkcyB0byBjcmVhdGUgZGVja3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgIHs6ZWxzZSBpZiBkZWNrcy5sZW5ndGggPT09IDB9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgPHA+Tm8gZGVja3MgbWF0Y2ggeW91ciBmaWx0ZXIuPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJoZWxwLXRleHRcIj5UcnkgYWRqdXN0aW5nIHlvdXIgc2VhcmNoIHRlcm1zLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGVjay10YWJsZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtZGVja1wiPkRlY2s8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXN0YXRcIj5OZXc8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXN0YXRcIj5EdWU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWNvbmZpZ1wiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgeyNlYWNoIGRlY2tzIGFzIGRlY2t9XG4gICAgICAgICAgICAgICAgICAgIHtAY29uc3Qgc3RhdHMgPSBnZXREZWNrU3RhdHMoZGVjay5pZCl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWNrLXJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1kZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZWNrLW5hbWUtbGlua1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlRGVja0NsaWNrKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IGhhbmRsZURlY2tDbGljayhkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmtleSA9PT0gXCJFbnRlclwiICYmIGhhbmRsZURlY2tDbGljayhkZWNrKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2xpY2sgdG8gcmV2aWV3IHtkZWNrLm5hbWV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREZWNrTmFtZShkZWNrKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC1zdGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczpoYXMtY2FyZHM9e3N0YXRzLm5ld0NvdW50ID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczp1cGRhdGluZz17aXNVcGRhdGluZ1N0YXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1saW1pdD17ZGVjay5jb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17ZGVjay5jb25maWcuZW5hYmxlTmV3Q2FyZHNMaW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke3N0YXRzLm5ld0NvdW50fSBuZXcgY2FyZHMgYXZhaWxhYmxlIHRvZGF5IChsaW1pdDogJHtkZWNrLmNvbmZpZy5uZXdDYXJkc0xpbWl0fSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7c3RhdHMubmV3Q291bnR9IG5ldyBjYXJkcyBkdWVgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0cy5uZXdDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGRlY2suY29uZmlnLmVuYWJsZU5ld0NhcmRzTGltaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGltaXQtaW5kaWNhdG9yXCI+8J+ThTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtc3RhdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWNhcmRzPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczp1cGRhdGluZz17aXNVcGRhdGluZ1N0YXRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLXN0YXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmhhcy1jYXJkcz17c3RhdHMuZHVlQ291bnQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOnVwZGF0aW5nPXtpc1VwZGF0aW5nU3RhdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6aGFzLWxpbWl0PXtkZWNrLmNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtkZWNrLmNvbmZpZy5lbmFibGVSZXZpZXdDYXJkc0xpbWl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7c3RhdHMuZHVlQ291bnR9IHJldmlldyBjYXJkcyBhdmFpbGFibGUgdG9kYXkgKGxpbWl0OiAke2RlY2suY29uZmlnLnJldmlld0NhcmRzTGltaXR9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtzdGF0cy5kdWVDb3VudH0gcmV2aWV3IGNhcmRzIGR1ZWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRzLmR1ZUNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZGVjay5jb25maWcuZW5hYmxlUmV2aWV3Q2FyZHNMaW1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaW1pdC1pbmRpY2F0b3JcIj7wn5OFPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtY29uZmlnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRlY2stY29uZmlnLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlQ29uZmlnQ2xpY2soZGVjaywgZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlQ29uZmlnQ2xpY2soZGVjaywgZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ29uZmlndXJlIGRlY2sgc2V0dGluZ3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ29uZmlndXJlIHtkZWNrLm5hbWV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjNcIj48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0xOS40IDE1YTEuNjUgMS42NSAwIDAgMCAuMzMgMS44MmwuMDYuMDZhMiAyIDAgMCAxIDAgMi44MyAyIDIgMCAwIDEtMi44MyAwbC0uMDYtLjA2YTEuNjUgMS42NSAwIDAgMC0xLjgyLS4zMyAxLjY1IDEuNjUgMCAwIDAtMSAxLjUxVjIxYTIgMiAwIDAgMS0yIDIgMiAyIDAgMCAxLTItMnYtLjA5QTEuNjUgMS42NSAwIDAgMCA5IDE5LjRhMS42NSAxLjY1IDAgMCAwLTEuODIuMzNsLS4wNi4wNmEyIDIgMCAwIDEtMi44MyAwIDIgMiAwIDAgMSAwLTIuODNsLjA2LS4wNmExLjY1IDEuNjUgMCAwIDAgLjMzLTEuODIgMS42NSAxLjY1IDAgMCAwLTEuNTEtMUgzYTIgMiAwIDAgMS0yLTIgMiAyIDAgMCAxIDItMmguMDlBMS42NSAxLjY1IDAgMCAwIDQuNiA5YTEuNjUgMS42NSAwIDAgMC0uMzMtMS44MmwtLjA2LS4wNmEyIDIgMCAwIDEgMC0yLjgzIDIgMiAwIDAgMSAyLjgzIDBsLjA2LjA2YTEuNjUgMS42NSAwIDAgMCAxLjgyLjMzSDlhMS42NSAxLjY1IDAgMCAwIDEgMS41MVYzYTIgMiAwIDAgMSAyLTIgMiAyIDAgMCAxIDIgMnYuMDlhMS42NSAxLjY1IDAgMCAwIDEgMS41MSAxLjY1IDEuNjUgMCAwIDAgMS44Mi0uMzNsLjA2LS4wNmEyIDIgMCAwIDEgMi44MyAwIDIgMiAwIDAgMSAwIDIuODNsLS4wNi4wNmExLjY1IDEuNjUgMCAwIDAtLjMzIDEuODJWOWExLjY1IDEuNjUgMCAwIDAgMS41MSAxSDIxYTIgMiAwIDAgMSAyIDIgMiAyIDAgMCAxLTIgMmgtLjA5YTEuNjUgMS42NSAwIDAgMC0xLjUxIDF6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgPFJldmlld0hlYXRtYXAgYmluZDp0aGlzPXtoZWF0bWFwQ29tcG9uZW50fSB7Z2V0UmV2aWV3Q291bnRzfSAvPlxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgICAuZGVjay1saXN0LXBhbmVsIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAucGFuZWwtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5oZWFkZXItYnV0dG9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5maWx0ZXItc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbjogMCAxMnB4IDE2cHggMTJweDtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLmZpbHRlci1pbnB1dCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9ucy1kcm9wZG93biB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxMDAlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItdG9wOiBub25lO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgNHB4IDRweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgfVxuXG4gICAgLnN1Z2dlc3Rpb25zLWhlYWRlciB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9uLWl0ZW0ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5zdWdnZXN0aW9uLWl0ZW06aG92ZXIsXG4gICAgLnN1Z2dlc3Rpb24taXRlbTphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB9XG5cbiAgICAuZmlsdGVyLWlucHV0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIH1cblxuICAgIC5maWx0ZXItaW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5wYW5lbC10aXRsZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zdGF0cy1idXR0b24ge1xuICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5zdGF0cy1idXR0b246aG92ZXIsXG4gICAgLnN0YXRzLWJ1dHRvbjphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ob3Zlcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uOmhvdmVyLFxuICAgIC5yZWZyZXNoLWJ1dHRvbjphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAucmVmcmVzaC1idXR0b246ZGlzYWJsZWQge1xuICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgfVxuXG4gICAgLnJlZnJlc2gtYnV0dG9uLnJlZnJlc2hpbmcgc3ZnIHtcbiAgICAgICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgICBmcm9tIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICB9XG4gICAgICAgIHRvIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZW1wdHktc3RhdGUge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMzJweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIC5lbXB0eS1zdGF0ZSBwIHtcbiAgICAgICAgbWFyZ2luOiA4cHggMDtcbiAgICB9XG5cbiAgICAuaGVscC10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmRlY2stdGFibGUge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAudGFibGUtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNjBweCA2MHB4IDYwcHg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHkge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIH1cblxuICAgIC5kZWNrLXJvdyB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDYwcHggNjBweCA2MHB4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuZGVjay1uYW1lLWxpbmsge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb24tY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICB0cmFuc2l0aW9uOiB0ZXh0LWRlY29yYXRpb24tY29sb3IgMC4ycyBlYXNlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgd2hpdGUtc3BhY2U6IGJyZWFrLXNwYWNlcztcbiAgICAgICAgbWF4LXdpZHRoOiAyNTBweDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLmRlY2stbmFtZS1saW5rOmhvdmVyLFxuICAgIC5kZWNrLW5hbWUtbGluazphY3RpdmUge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb24tY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICB9XG5cbiAgICAuZGVjay1uYW1lLWxpbms6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgb3V0bGluZS1vZmZzZXQ6IDJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIH1cblxuICAgIC5jb2wtY29uZmlnIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmRlY2stY29uZmlnLWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIHBhZGRpbmc6IDRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5kZWNrLWNvbmZpZy1idXR0b246aG92ZXIsXG4gICAgLmRlY2stY29uZmlnLWJ1dHRvbjphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB9XG5cbiAgICAuZGVjay1jb25maWctYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7XG4gICAgfVxuXG4gICAgLmNvbC1kZWNrIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0O1xuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0IHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnRhYmxlLWhlYWRlciAuY29sLWRlY2sge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGp1c3RpZnktc2VsZjogc3RhcnQ7XG4gICAgfVxuXG4gICAgLnRhYmxlLWhlYWRlciAuY29sLXN0YXQge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0Lmhhcy1jYXJkcyB7XG4gICAgICAgIGNvbG9yOiAjNGFhM2RmO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5jb2wtc3RhdC51cGRhdGluZyB7XG4gICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2U7XG4gICAgfVxuXG4gICAgLmNvbC1zdGF0Lmhhcy1saW1pdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICB9XG5cbiAgICAubGltaXQtaW5kaWNhdG9yIHtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgfVxuXG4gICAgLnRhYmxlLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgd2lkdGg6IDhweDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG5cbiAgICAudGFibGUtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgfVxuICAgIC8qIE1vYmlsZSByZXNwb25zaXZlIHN0eWxlcyAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAuZGVjay1saXN0LXBhbmVsIHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogdW5zZXQ7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYW5lbC1oZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNnB4O1xuICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAucGFuZWwtdGl0bGUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYWRlci1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRzLWJ1dHRvbixcbiAgICAgICAgLnJlZnJlc2gtYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7IC8qIFRvdWNoLWZyaWVuZGx5IHNpemUgKi9cbiAgICAgICAgICAgIG1pbi13aWR0aDogNDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXItaW5wdXQge1xuICAgICAgICAgICAgcGFkZGluZzogMCAwIDAgMnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OyAvKiBQcmV2ZW50IHpvb20gb24gaU9TICovXG4gICAgICAgIH1cblxuICAgICAgICAudGFibGUtaGVhZGVyIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDU1cHggNTVweCA1NXB4IDQ0cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLXJvdyB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA1NXB4IDU1cHggNTVweCA0NHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stbmFtZS1saW5rIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb2wtc3RhdCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1jb25maWctYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDQ0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZW1wdHktc3RhdGUge1xuICAgICAgICAgICAgcGFkZGluZzogMjRweCAxNnB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAgIC5wYW5lbC1oZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAucGFuZWwtdGl0bGUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhYmxlLWhlYWRlciB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA0NXB4IDQ1cHggNDVweCA0MHB4O1xuICAgICAgICAgICAgcGFkZGluZzogNnB4IDEycHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1yb3cge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgNDVweCA0NXB4IDQ1cHggNDBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWNrLW5hbWUtbGluayB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IG5vbmU7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY29sLXN0YXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stY29uZmlnLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZpbHRlci1pbnB1dCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwIDAgMCAycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3VnZ2VzdGlvbnMtZHJvcGRvd24ge1xuICAgICAgICAgICAgbWF4LWhlaWdodDogMTUwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3VnZ2VzdGlvbi1pdGVtIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7IC8qIFRvdWNoLWZyaWVuZGx5ICovXG4gICAgICAgIH1cblxuICAgICAgICAuZW1wdHktc3RhdGUge1xuICAgICAgICAgICAgcGFkZGluZzogMjBweCAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlbHAtdGV4dCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzkwcHgpIHtcbiAgICAgICAgLmRlY2stbGlzdC1wYW5lbCB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IHVuc2V0O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDM4cHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLnBhbmVsLWhlYWRlciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYW5lbC10aXRsZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhZGVyLWJ1dHRvbnMge1xuICAgICAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdHMtYnV0dG9uLFxuICAgICAgICAucmVmcmVzaC1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogMzZweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMzZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXItaW5wdXQge1xuICAgICAgICAgICAgcGFkZGluZzogMCAwIDAgMnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRhYmxlLWhlYWRlciB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAzOHB4IDM4cHggMzhweCAzNnB4O1xuICAgICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stcm93IHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDM4cHggMzhweCAzOHB4IDM2cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4O1xuICAgICAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1uYW1lLWxpbmsge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IGJyZWFrLXNwYWNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb2wtc3RhdCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAudGFibGUtaGVhZGVyIC5jb2wtc3RhdCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGVjay1jb25maWctYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDM2cHg7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDM2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3VnZ2VzdGlvbnMtZHJvcGRvd24ge1xuICAgICAgICAgICAgbWF4LWhlaWdodDogMTIwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3VnZ2VzdGlvbi1pdGVtIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggOHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHggOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlbHAtdGV4dCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBEcm9wZG93biBzdHlsZXMgKi9cbiAgICA6Z2xvYmFsKC5kZWNrLWNvbmZpZy1kcm9wZG93bikge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgICBwYWRkaW5nOiA0cHggMDtcbiAgICAgICAgbWluLXdpZHRoOiAxNDBweDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5kcm9wZG93bi1vcHRpb24pIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmRyb3Bkb3duLW9wdGlvbjpob3Zlcikge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5kcm9wZG93bi1vcHRpb246YWN0aXZlKSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYWN0aXZlKTtcbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSBEZWNrc1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IFN0YXRpc3RpY3NVSSBmcm9tIFwiLi9TdGF0aXN0aWNzVUkuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0aXN0aWNzTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcGx1Z2luOiBEZWNrc1BsdWdpbjtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IFN0YXRpc3RpY3NVSSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogRGVja3NQbHVnaW4pIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgIC8vIEFkZCBDU1MgY2xhc3NlcyBmb3Igc3R5bGluZ1xuICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcInN0YXRpc3RpY3MtbW9kYWxcIik7XG5cbiAgICAgIC8vIEFkZCBtb2JpbGUtc3BlY2lmaWMgY2xhc3Nlc1xuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgICBtb2RhbEVsLmFkZENsYXNzKFwic3RhdGlzdGljcy1tb2RhbC1tb2JpbGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLWNvbnRhaW5lclwiKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLWNvbnRlbnRcIik7XG5cbiAgICAvLyBNb2RhbCB0aXRsZVxuICAgIGNvbnN0IHRpdGxlRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiT3ZlcmFsbCBTdGF0aXN0aWNzXCIgfSk7XG4gICAgdGl0bGVFbC5hZGRDbGFzcyhcInN0YXRpc3RpY3MtbW9kYWwtdGl0bGVcIik7XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBTdmVsdGUgY29tcG9uZW50XG4gICAgY29uc3QgY29tcG9uZW50Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcInN0YXRpc3RpY3MtY29udGFpbmVyXCIpO1xuICAgIGNvbXBvbmVudENvbnRhaW5lci5hZGRDbGFzcyhcInN0YXRpc3RpY3MtbW9kYWwtY29tcG9uZW50LWNvbnRhaW5lclwiKTtcblxuICAgIC8vIE1vdW50IFN2ZWx0ZSBjb21wb25lbnRcbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBTdGF0aXN0aWNzVUkoe1xuICAgICAgdGFyZ2V0OiBjb21wb25lbnRDb250YWluZXIsXG4gICAgICBwcm9wczoge1xuICAgICAgICBwbHVnaW46IHRoaXMucGx1Z2luLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiB0byBjb21wb25lbnQgZXZlbnRzXG4gICAgdGhpcy5jb21wb25lbnQuJG9uKFwiY2xvc2VcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemUgZm9yIG1vYmlsZSBhZGFwdGF0aW9uXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcyhcInN0YXRpc3RpY3MtbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsRWwucmVtb3ZlQ2xhc3MoXCJzdGF0aXN0aWNzLW1vZGFsLW1vYmlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuXG4gICAgLy8gU3RvcmUgcmVzaXplIGhhbmRsZXIgZm9yIGNsZWFudXBcbiAgICAodGhpcyBhcyBhbnkpLl9yZXNpemVIYW5kbGVyID0gaGFuZGxlUmVzaXplO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuICAgIC8vIENsZWFuIHVwIHJlc2l6ZSBoYW5kbGVyXG4gICAgaWYgKCh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgZGVsZXRlICh0aGlzIGFzIGFueSkuX3Jlc2l6ZUhhbmRsZXI7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJveSBTdmVsdGUgY29tcG9uZW50XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgdHlwZSBEZWNrc1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuICAgIGltcG9ydCB7IG9uTW91bnQsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgdGljayB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG4gICAgaW1wb3J0IFJldmlld0hlYXRtYXAgZnJvbSBcIi4vUmV2aWV3SGVhdG1hcC5zdmVsdGVcIjtcbiAgICBpbXBvcnQgdHlwZSB7IFN0YXRpc3RpY3MgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcblxuICAgIGV4cG9ydCBsZXQgcGx1Z2luOiBEZWNrc1BsdWdpbjtcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgICBsZXQgbG9hZGluZyA9IHRydWU7XG4gICAgbGV0IHN0YXRpc3RpY3M6IFN0YXRpc3RpY3MgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgc2VsZWN0ZWREZWNrRmlsdGVyID0gXCJhbGxcIjsgLy8gXCJhbGxcIiwgXCJ0YWc6dGFnbmFtZVwiLCBvciBcImRlY2s6ZGVja2lkXCJcbiAgICBsZXQgc2VsZWN0ZWRUaW1lZnJhbWUgPSBcIjEybW9udGhzXCI7IC8vIFwiMTJtb250aHNcIiBvciBcImFsbFwiXG4gICAgbGV0IGF2YWlsYWJsZURlY2tzOiBhbnlbXSA9IFtdO1xuICAgIGxldCBhdmFpbGFibGVUYWdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBoZWF0bWFwQ29tcG9uZW50OiBSZXZpZXdIZWF0bWFwO1xuICAgIGxldCBkZWNrRmlsdGVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgdGltZWZyYW1lRmlsdGVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgIC8vIERlcml2ZWQgc3RhdGlzdGljcyAtIGNvbXB1dGVkIGFmdGVyIGxvYWRpbmdcbiAgICBsZXQgdG9kYXlTdGF0czogYW55ID0gbnVsbDtcbiAgICBsZXQgd2Vla1N0YXRzOiBhbnkgPSBudWxsO1xuICAgIGxldCBtb250aFN0YXRzOiBhbnkgPSBudWxsO1xuICAgIGxldCB5ZWFyU3RhdHM6IGFueSA9IG51bGw7XG5cbiAgICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgICAgIGF3YWl0IGxvYWREZWNrc0FuZFRhZ3MoKTtcbiAgICAgICAgYXdhaXQgbG9hZFN0YXRpc3RpY3MoKTtcblxuICAgICAgICAvLyBNb3VudCBmaWx0ZXIgY29tcG9uZW50cyBhZnRlciBkYXRhIGlzIGxvYWRlZFxuICAgICAgICB0aWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBtb3VudEZpbHRlckNvbXBvbmVudHMoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtb3VudEZpbHRlckNvbXBvbmVudHMoKSB7XG4gICAgICAgIC8vIERlY2sgZmlsdGVyIGRyb3Bkb3duXG4gICAgICAgIGlmIChkZWNrRmlsdGVyQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhkZWNrRmlsdGVyQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiU2VsZWN0IERlY2socyk6XCIpXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwiZGVjay1maWx0ZXItY29udGFpbmVyXCIpXG4gICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oXCJhbGxcIiwgXCJBbGwgRGVja3NcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbihgdGFnOiR7dGFnfWAsIGBUYWc6ICR7dGFnfWApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVEZWNrcy5mb3JFYWNoKChkZWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oYGRlY2s6JHtkZWNrLmlkfWAsIGRlY2submFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZShzZWxlY3RlZERlY2tGaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZWNrRmlsdGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaW1lZnJhbWUgZmlsdGVyIGRyb3Bkb3duXG4gICAgICAgIGlmICh0aW1lZnJhbWVGaWx0ZXJDb250YWluZXIpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKHRpbWVmcmFtZUZpbHRlckNvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlRpbWVmcmFtZTpcIilcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJ0aW1lZnJhbWUtZmlsdGVyLWNvbnRhaW5lclwiKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiMTJtb250aHNcIiwgXCJMYXN0IDEyIE1vbnRoc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImFsbFwiLCBcIkFsbCBIaXN0b3J5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoc2VsZWN0ZWRUaW1lZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRpbWVmcmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbHRlckNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWREZWNrc0FuZFRhZ3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhdmFpbGFibGVEZWNrcyA9IGF3YWl0IHBsdWdpbi5nZXREZWNrcygpO1xuICAgICAgICAgICAgYXZhaWxhYmxlVGFncyA9IFtcbiAgICAgICAgICAgICAgICAuLi5uZXcgU2V0KGF2YWlsYWJsZURlY2tzLm1hcCgoZGVjaykgPT4gZGVjay50YWcpKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBkZWNrcyBhbmQgdGFnczpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkU3RhdGlzdGljcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRpc3RpY3MgPSBhd2FpdCBwbHVnaW4uZ2V0T3ZlcmFsbFN0YXRpc3RpY3MoXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREZWNrRmlsdGVyLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGltZWZyYW1lLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBsdWdpbi5kZWJ1Z0xvZyhcIkxvYWRlZCBzdGF0aXN0aWNzOlwiLCBzdGF0aXN0aWNzKTtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBkZXJpdmVkIHN0YXRpc3RpY3Mgb25jZSBkYXRhIGlzIGxvYWRlZFxuICAgICAgICAgICAgdG9kYXlTdGF0cyA9IGdldFRvZGF5U3RhdHMoKTtcbiAgICAgICAgICAgIHdlZWtTdGF0cyA9IGdldFRpbWVmcmFtZVN0YXRzKDcpO1xuICAgICAgICAgICAgbW9udGhTdGF0cyA9IGdldFRpbWVmcmFtZVN0YXRzKDMwKTtcbiAgICAgICAgICAgIHllYXJTdGF0cyA9IGdldFRpbWVmcmFtZVN0YXRzKDM2NSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBzdGF0aXN0aWNzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBzdGF0aXN0aWNzID0ge1xuICAgICAgICAgICAgICAgIGRhaWx5U3RhdHM6IFtdLFxuICAgICAgICAgICAgICAgIGNhcmRTdGF0czogeyBuZXc6IDAsIG1hdHVyZTogMCB9LFxuICAgICAgICAgICAgICAgIGFuc3dlckJ1dHRvbnM6IHsgYWdhaW46IDAsIGhhcmQ6IDAsIGdvb2Q6IDAsIGVhc3k6IDAgfSxcbiAgICAgICAgICAgICAgICByZXRlbnRpb25SYXRlOiAwLFxuICAgICAgICAgICAgICAgIGludGVydmFsczogW10sXG4gICAgICAgICAgICAgICAgZm9yZWNhc3Q6IFtdLFxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VQYWNlOiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsUmV2aWV3VGltZTogMCxcbiAgICAgICAgICAgIH0gYXMgU3RhdGlzdGljcztcblxuICAgICAgICAgICAgLy8gU2V0IGVtcHR5IGRlcml2ZWQgc3RhdHMgb24gZXJyb3JcbiAgICAgICAgICAgIHRvZGF5U3RhdHMgPSBudWxsO1xuICAgICAgICAgICAgd2Vla1N0YXRzID0gbnVsbDtcbiAgICAgICAgICAgIG1vbnRoU3RhdHMgPSBudWxsO1xuICAgICAgICAgICAgeWVhclN0YXRzID0gbnVsbDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZpbHRlckNoYW5nZSgpIHtcbiAgICAgICAgYXdhaXQgbG9hZFN0YXRpc3RpY3MoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmc6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGlmIChob3VycyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWludXRlcyAlIDYwfW1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfW1gO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdFBhY2Uoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgICAgIGlmIChzZWNvbmRzIDwgNjApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtzZWNvbmRzLnRvRml4ZWQoMSl9c2A7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IE1hdGgucm91bmQoc2Vjb25kcyAlIDYwKTtcbiAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3JlbWFpbmluZ1NlY29uZHN9c2A7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VG9kYXlTdGF0cygpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5kYWlseVN0YXRzIHx8IHN0YXRpc3RpY3MuZGFpbHlTdGF0cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgICAgICAvLyBGaXJzdCB0cnkgdG8gZmluZCB0b2RheSdzIHN0YXRzLCBpZiBub3QgYXZhaWxhYmxlIHVzZSB0aGUgbW9zdCByZWNlbnRcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdGF0cy5maW5kKChkYXkpID0+IGRheS5kYXRlID09PSB0b2RheSkgfHxcbiAgICAgICAgICAgIHN0YXRpc3RpY3MuZGFpbHlTdGF0c1swXSB8fFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbWVmcmFtZVN0YXRzKGRheXM6IG51bWJlcikge1xuICAgICAgICBpZiAoIXN0YXRpc3RpY3M/LmRhaWx5U3RhdHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV2aWV3czogMCxcbiAgICAgICAgICAgICAgICB0aW1lU3BlbnQ6IDAsXG4gICAgICAgICAgICAgICAgbmV3Q2FyZHM6IDAsXG4gICAgICAgICAgICAgICAgbGVhcm5pbmdDYXJkczogMCxcbiAgICAgICAgICAgICAgICByZXZpZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXMpO1xuICAgICAgICBjb25zdCBjdXRvZmZTdHIgPSBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkU3RhdHMgPSBzdGF0aXN0aWNzLmRhaWx5U3RhdHMuZmlsdGVyKFxuICAgICAgICAgICAgKGRheSkgPT4gZGF5LmRhdGUgPj0gY3V0b2ZmU3RyLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChmaWx0ZXJlZFN0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIHJldmlld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFN0YXRzLnJlZHVjZShcbiAgICAgICAgICAgIChhY2MsIGRheSkgPT4gKHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiBhY2MucmV2aWV3cyArIGRheS5yZXZpZXdzLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogYWNjLnRpbWVTcGVudCArIGRheS50aW1lU3BlbnQsXG4gICAgICAgICAgICAgICAgbmV3Q2FyZHM6IGFjYy5uZXdDYXJkcyArIGRheS5uZXdDYXJkcyxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLCAvLyBObyBsZWFybmluZyBjYXJkcyBpbiBwdXJlIEZTUlNcbiAgICAgICAgICAgICAgICByZXZpZXdDYXJkczogYWNjLnJldmlld0NhcmRzICsgZGF5LnJldmlld0NhcmRzLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOlxuICAgICAgICAgICAgICAgICAgICBhY2MucmV2aWV3cyArIGRheS5yZXZpZXdzID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWNjLmNvcnJlY3RSYXRlICogYWNjLnJldmlld3MgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmNvcnJlY3RSYXRlICogZGF5LnJldmlld3MpIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFjYy5yZXZpZXdzICsgZGF5LnJldmlld3MpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDAsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXZpZXdzOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgICAgICAgICAgICBuZXdDYXJkczogMCxcbiAgICAgICAgICAgICAgICBsZWFybmluZ0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIHJldmlld0NhcmRzOiAwLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlRWFzZSgpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5hbnN3ZXJCdXR0b25zKSByZXR1cm4gXCIwLjAwXCI7XG4gICAgICAgIGNvbnN0IHsgYWdhaW4sIGhhcmQsIGdvb2QsIGVhc3kgfSA9IHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucztcbiAgICAgICAgY29uc3QgdG90YWwgPSBhZ2FpbiArIGhhcmQgKyBnb29kICsgZWFzeTtcbiAgICAgICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm4gXCIwLjAwXCI7XG4gICAgICAgIC8vIE1hcCBidXR0b25zIHRvIHZhbHVlczogQWdhaW49MSwgSGFyZD0yLCBHb29kPTMsIEVhc3k9NFxuICAgICAgICBjb25zdCB3ZWlnaHRlZFN1bSA9IGFnYWluICogMSArIGhhcmQgKiAyICsgZ29vZCAqIDMgKyBlYXN5ICogNDtcbiAgICAgICAgcmV0dXJuICh3ZWlnaHRlZFN1bSAvIHRvdGFsKS50b0ZpeGVkKDIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUF2ZXJhZ2VJbnRlcnZhbCgpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5pbnRlcnZhbHMgfHwgc3RhdGlzdGljcy5pbnRlcnZhbHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCB0b3RhbEludGVydmFsID0gMDtcbiAgICAgICAgbGV0IHRvdGFsQ2FyZHMgPSAwO1xuXG4gICAgICAgIHN0YXRpc3RpY3MuaW50ZXJ2YWxzLmZvckVhY2goKGludGVydmFsKSA9PiB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGludGVydmFsIHN0cmluZyB0byBtaW51dGVzXG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbFN0ciA9IGludGVydmFsLmludGVydmFsO1xuICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSAwO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxTdHIuZW5kc1dpdGgoXCJoXCIpKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KGludGVydmFsU3RyKSAqIDYwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnRlcnZhbFN0ci5lbmRzV2l0aChcImRcIikpIHtcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQoaW50ZXJ2YWxTdHIpICogMTQ0MDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWxTdHIuZW5kc1dpdGgoXCJtXCIpKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KGludGVydmFsU3RyKSAqIDQzMjAwOyAvLyBtb250aHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG90YWxJbnRlcnZhbCArPSBtaW51dGVzICogaW50ZXJ2YWwuY291bnQ7XG4gICAgICAgICAgICB0b3RhbENhcmRzICs9IGludGVydmFsLmNvdW50O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG90YWxDYXJkcyA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGF2Z01pbnV0ZXMgPSB0b3RhbEludGVydmFsIC8gdG90YWxDYXJkcztcblxuICAgICAgICAvLyBDb252ZXJ0IGJhY2sgdG8gZGF5cyBmb3IgZGlzcGxheVxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChhdmdNaW51dGVzIC8gMTQ0MCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVlVG9kYXkoKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uZm9yZWNhc3QgfHwgc3RhdGlzdGljcy5mb3JlY2FzdC5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIGNvbnN0IHRvZGF5Rm9yZWNhc3QgPSBzdGF0aXN0aWNzLmZvcmVjYXN0LmZpbmQoXG4gICAgICAgICAgICAoZGF5KSA9PiBkYXkuZGF0ZSA9PT0gdG9kYXksXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0b2RheUZvcmVjYXN0ID8gdG9kYXlGb3JlY2FzdC5kdWVDb3VudCA6IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVlVG9tb3Jyb3coKSB7XG4gICAgICAgIGlmICghc3RhdGlzdGljcz8uZm9yZWNhc3QgfHwgc3RhdGlzdGljcy5mb3JlY2FzdC5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGNvbnN0IHRvbW9ycm93U3RyID0gdG9tb3Jyb3cudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgICAgIGNvbnN0IHRvbW9ycm93Rm9yZWNhc3QgPSBzdGF0aXN0aWNzLmZvcmVjYXN0LmZpbmQoXG4gICAgICAgICAgICAoZGF5KSA9PiBkYXkuZGF0ZSA9PT0gdG9tb3Jyb3dTdHIsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0b21vcnJvd0ZvcmVjYXN0ID8gdG9tb3Jyb3dGb3JlY2FzdC5kdWVDb3VudCA6IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlQmFySGVpZ2h0KGR1ZUNvdW50OiBudW1iZXIsIG1heER1ZUNvdW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSA0MDA7IC8vIE1heGltdW0gaGVpZ2h0IGluIHBpeGVscyAobGVhdmluZyByb29tIGluIDE1MHB4IGNvbnRhaW5lcilcblxuICAgICAgICBpZiAobWF4RHVlQ291bnQgPT09IDApIHJldHVybiAwO1xuXG4gICAgICAgIGNvbnN0IHByb3BvcnRpb24gPSBkdWVDb3VudCAvIG1heER1ZUNvdW50O1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocHJvcG9ydGlvbiAqIGJhckhlaWdodCAtIDgwLCAxMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TWF0dXJpdHlSYXRpbygpIHtcbiAgICAgICAgaWYgKCFzdGF0aXN0aWNzPy5jYXJkU3RhdHMpIHJldHVybiBcIjAuMFwiO1xuICAgICAgICBjb25zdCB7IG5ldzogbmV3Q2FyZHMsIG1hdHVyZSB9ID0gc3RhdGlzdGljcy5jYXJkU3RhdHM7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gbmV3Q2FyZHMgKyBtYXR1cmU7XG4gICAgICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuIFwiMC4wXCI7XG4gICAgICAgIHJldHVybiAoKG1hdHVyZSAvIHRvdGFsKSAqIDEwMCkudG9GaXhlZCgxKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInN0YXRpc3RpY3MtY29udGFpbmVyXCI+XG4gICAgeyNpZiBsb2FkaW5nfVxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPkxvYWRpbmcgc3RhdGlzdGljcy4uLjwvZGl2PlxuICAgIHs6ZWxzZSBpZiAhc3RhdGlzdGljc31cbiAgICAgICAgPGRpdiBjbGFzcz1cImVycm9yXCI+XG4gICAgICAgICAgICA8cD5GYWlsZWQgdG8gbG9hZCBzdGF0aXN0aWNzPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmV0cnktYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2sobG9hZFN0YXRpc3RpY3MsIGUpfVxuICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT4gaGFuZGxlVG91Y2hDbGljayhsb2FkU3RhdGlzdGljcywgZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmV0cnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJzXCI+XG4gICAgICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17ZGVja0ZpbHRlckNvbnRhaW5lcn0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGJpbmQ6dGhpcz17dGltZWZyYW1lRmlsdGVyQ29udGFpbmVyfT48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBDdXJyZW50IFN0YXR1cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5DdXJyZW50IFN0YXR1czwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFybmluZ1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TWF0dXJlPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPntnZXREdWVUb2RheSgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkR1ZSBUb2RheTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gUGFjZSBTdGF0aXN0aWNzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlJldmlldyBQYWNlPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1ncmlkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3M/LmF2ZXJhZ2VQYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXRQYWNlKHN0YXRpc3RpY3MuYXZlcmFnZVBhY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIk4vQVwifVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5BdmVyYWdlIHBlciBDYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3M/LnRvdGFsUmV2aWV3VGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0VGltZShzdGF0aXN0aWNzLnRvdGFsUmV2aWV3VGltZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiTi9BXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlRvdGFsIFJldmlldyBUaW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBUb2RheSdzIFN0YXRpc3RpY3MgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDM+VG9kYXkncyBTdGF0aXN0aWNzPC9oMz5cbiAgICAgICAgICAgIHsjaWYgdG9kYXlTdGF0c31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnt0b2RheVN0YXRzLnJldmlld3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkNhcmRzIFN0dWRpZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUodG9kYXlTdGF0cy50aW1lU3BlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlRpbWUgU3BlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8aDQ+QnJlYWtkb3duIGJ5IENhcmQgVHlwZTwvaDQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57dG9kYXlTdGF0cy5uZXdDYXJkc308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TmV3IENhcmRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkxlYXJuaW5nPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnt0b2RheVN0YXRzLnJldmlld0NhcmRzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5SZXZpZXc8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyByZXZpZXdzIHRvZGF5IHlldC48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiaGVscC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFydCByZXZpZXdpbmcgZmxhc2hjYXJkcyB0byBzZWUgeW91ciBkYWlseSBzdGF0aXN0aWNzXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJlIVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFdlZWsvTW9udGgvWWVhciBTdGF0aXN0aWNzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlRoaXMgV2VlazwvaDM+XG4gICAgICAgICAgICB7I2lmIHdlZWtTdGF0cyAmJiB3ZWVrU3RhdHMucmV2aWV3cyA+IDB9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj57d2Vla1N0YXRzLnJldmlld3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkNhcmRzIFN0dWRpZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUod2Vla1N0YXRzLnRpbWVTcGVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+VGltZSBTcGVudDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7d2Vla1N0YXRzLmNvcnJlY3RSYXRlLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlN1Y2Nlc3MgUmF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm8tZGF0YS1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIHJldmlld3MgdGhpcyB3ZWVrIHlldC48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuXG4gICAgICAgICAgICA8aDM+VGhpcyBNb250aDwvaDM+XG4gICAgICAgICAgICB7I2lmIG1vbnRoU3RhdHMgJiYgbW9udGhTdGF0cy5yZXZpZXdzID4gMH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnttb250aFN0YXRzLnJldmlld3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPkNhcmRzIFN0dWRpZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUobW9udGhTdGF0cy50aW1lU3BlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1sYWJlbFwiPlRpbWUgU3BlbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21vbnRoU3RhdHMuY29ycmVjdFJhdGUudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+U3VjY2VzcyBSYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gcmV2aWV3cyB0aGlzIG1vbnRoIHlldC48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuXG4gICAgICAgICAgICA8aDM+VGhpcyBZZWFyPC9oMz5cbiAgICAgICAgICAgIHsjaWYgeWVhclN0YXRzICYmIHllYXJTdGF0cy5yZXZpZXdzID4gMH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPnt5ZWFyU3RhdHMucmV2aWV3c308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+Q2FyZHMgU3R1ZGllZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZSh5ZWFyU3RhdHMudGltZVNwZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5UaW1lIFNwZW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt5ZWFyU3RhdHMuY29ycmVjdFJhdGUudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+U3VjY2VzcyBSYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gcmV2aWV3cyB0aGlzIHllYXIgeWV0LjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gRGVjayBTdGF0aXN0aWNzICYgTWV0cmljcyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5EZWNrIFN0YXRpc3RpY3MgJiBNZXRyaWNzPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWNzLWdyaWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyhzdGF0aXN0aWNzPy5yZXRlbnRpb25SYXRlIHx8IDApLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPlJldGVudGlvbiBSYXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICUgb2YgcmV2aWV3cyBhbnN3ZXJlZCBjb3JyZWN0bHkgKGV4Y2x1ZGluZyBcIkFnYWluXCIpXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+e2NhbGN1bGF0ZUF2ZXJhZ2VFYXNlKCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5BdmVyYWdlIEVhc2U8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTWVhbiBvZiBlYXNlIGJ1dHRvbiB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYWxjdWxhdGVBdmVyYWdlSW50ZXJ2YWwoKX1kXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+QXZnIEludGVydmFsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1lYW4gaW50ZXJ2YWwgb2YgYWxsIHJldmlldyBjYXJkc1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPntnZXREdWVUb2RheSgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+RHVlIFRvZGF5PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBjYXJkcyBkdWUgdG9kYXlcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj57Z2V0RHVlVG9tb3Jyb3coKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkR1ZSBUb21vcnJvdzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgY2FyZHMgZHVlIHRvbW9ycm93XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIExlYXJuaW5nIENhcmRzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWRlc2NyaXB0aW9uXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGNhcmRzIGluIHRoZSBsZWFybmluZyBxdWV1ZVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPntnZXRNYXR1cml0eVJhdGlvKCl9JTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+TWF0dXJpdHkgUmF0aW88L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0dXJlIGNhcmRzIMO3IHRvdGFsIGNhcmRzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KHN0YXRpc3RpY3M/LmNhcmRTdGF0cz8ubmV3IHx8IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+VG90YWwgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWxsIGNhcmRzIGluIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGg0PkNhcmQgU3RhdHVzIEJyZWFrZG93bjwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzPy5jYXJkU3RhdHM/Lm5ldyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIj5OZXcgQ2FyZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWFybmluZ1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcz8uY2FyZFN0YXRzPy5tYXR1cmUgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWxhYmVsXCI+TWF0dXJlPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBBbnN3ZXIgQnV0dG9uIFVzYWdlIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPkFuc3dlciBCdXR0b24gVXNhZ2U8L2gzPlxuICAgICAgICAgICAgeyNpZiBzdGF0aXN0aWNzPy5hbnN3ZXJCdXR0b25zICYmIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gPiAwIHx8IHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkID4gMCB8fCBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCA+IDAgfHwgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kgPiAwKX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGFnYWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+QWdhaW48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWlufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tYmFyIGhhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5IYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXBlcmNlbnRhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5hZ2FpbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmhhcmQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5nb29kICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeSkpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1iYXIgZ29vZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2R9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tcGVyY2VudGFnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCAvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmFnYWluICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuaGFyZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmdvb2QgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5KSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWJhciBlYXN5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+RWFzeTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1jb3VudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZWFzeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1wZXJjZW50YWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5lYXN5IC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuYWdhaW4gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuYW5zd2VyQnV0dG9ucy5oYXJkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzLmFuc3dlckJ1dHRvbnMuZ29vZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljcy5hbnN3ZXJCdXR0b25zLmVhc3kpKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vLWRhdGEtbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5ObyBhbnN3ZXIgYnV0dG9uIGRhdGEgYXZhaWxhYmxlIHlldC48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiaGVscC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZSBzb21lIHJldmlld3MgdG8gc2VlIGFuc3dlciBidXR0b24gc3RhdGlzdGljcy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBGb3JlY2FzdCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoMz5SZXZpZXcgTG9hZCBGb3JlY2FzdDwvaDM+XG4gICAgICAgICAgICB7I2lmIHN0YXRpc3RpY3M/LmZvcmVjYXN0ICYmIHN0YXRpc3RpY3MuZm9yZWNhc3QubGVuZ3RoID4gMCAmJiBzdGF0aXN0aWNzLmZvcmVjYXN0LnNvbWUoKGRheSkgPT4gZGF5LmR1ZUNvdW50ID4gMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBmaWx0ZXJlZEZvcmVjYXN0ID0gc3RhdGlzdGljcy5mb3JlY2FzdFxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChkYXkpID0+IGRheS5kdWVDb3VudCA+IDApXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAyMCl9XG4gICAgICAgICAgICAgICAge0Bjb25zdCBtYXhEdWVDb3VudCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAuLi5maWx0ZXJlZEZvcmVjYXN0Lm1hcCgoZGF5KSA9PiBkYXkuZHVlQ291bnQpLFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LWNoYXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBmaWx0ZXJlZEZvcmVjYXN0IGFzIGRheSwgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IG9yaWdpbmFsSW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3MuZm9yZWNhc3QuaW5kZXhPZihkYXkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9yZWNhc3QtYmFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIntvcmlnaW5hbEluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1RvZGF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9yaWdpbmFsSW5kZXggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdUb21vcnJvdydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBEYXkgJHtvcmlnaW5hbEluZGV4fSAoaW4gJHtvcmlnaW5hbEluZGV4fSBkYXlzKWB9OiB7ZGF5LmR1ZUNvdW50fSBjYXJke2RheS5kdWVDb3VudCAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9IGR1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OiB7Y2FsY3VsYXRlQmFySGVpZ2h0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmR1ZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RHVlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW5hbEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYXItdmFsdWVcIj57ZGF5LmR1ZUNvdW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvcmVjYXN0LW5vdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgU2hvd2luZyBkYXlzIHdpdGggc2NoZWR1bGVkIHJldmlld3MgYmFzZWQgb24gRlNSUyBpbnRlcnZhbHMuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gdXBjb21pbmcgcmV2aWV3cyBzY2hlZHVsZWQuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImhlbHAtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIGZsYXNoY2FyZHMgdG8geW91ciBkZWNrcyB0byBzZWUgZnV0dXJlIHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWNhc3RzLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFJldmlldyBIZWF0bWFwIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGgzPlJldmlldyBIZWF0bWFwPC9oMz5cbiAgICAgICAgICAgIDxwPkRhaWx5IHJldmlldyBhY3Rpdml0eSBvdmVyIHRpbWU8L3A+XG4gICAgICAgICAgICA8UmV2aWV3SGVhdG1hcFxuICAgICAgICAgICAgICAgIGJpbmQ6dGhpcz17aGVhdG1hcENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICBnZXRSZXZpZXdDb3VudHM9e2FzeW5jIChkYXlzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwbHVnaW4uZ2V0UmV2aWV3Q291bnRzKGRheXMpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gZGlzcGF0Y2goXCJjbG9zZVwiKSwgZSl9XG4gICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGRpc3BhdGNoKFwiY2xvc2VcIiksIGUpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbiAgICA8ZGl2IGNsYXNzPVwic3RhdHMtc2VjdGlvbiBidXltZWFjb2ZmZWUtYmFkZ2VcIj5cbiAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vd3d3LmJ1eW1lYWNvZmZlZS5jb20vZHNjaGVyZGlsMFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz1cImh0dHBzOi8vY2RuLmJ1eW1lYWNvZmZlZS5jb20vYnV0dG9ucy92Mi9kZWZhdWx0LXllbGxvdy5wbmdcIlxuICAgICAgICAgICAgICAgIGFsdD1cIkJ1eSBNZSBBIENvZmZlZVwiXG4gICAgICAgICAgICAgICAgaGVpZ2h0PVwiNDBcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9hPlxuICAgIDwvZGl2PlxuPC9kaXY+XG57I2lmIGZhbHNlfVxuICAgIDxkaXYgY2xhc3M9XCJkZWNrLWZpbHRlci1jb250YWluZXIgdGltZWZyYW1lLWZpbHRlci1jb250YWluZXJcIj48L2Rpdj5cbnsvaWZ9XG5cbjxzdHlsZT5cbiAgICAuc3RhdGlzdGljcy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1pbnRlcmZhY2UpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIH1cblxuICAgIC5sb2FkaW5nLFxuICAgIC5lcnJvciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5maWx0ZXJzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAyNHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmZpbHRlcnMgPiBkaXYge1xuICAgICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgIH1cblxuICAgIC5zdGF0cy1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzJweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDI0cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLnN0YXRzLXNlY3Rpb246bGFzdC1vZi10eXBlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG5cbiAgICAuc3RhdHMtc2VjdGlvbiBoMyB7XG4gICAgICAgIG1hcmdpbjogMCAwIDIwcHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zdGF0cy1zZWN0aW9uIGg0IHtcbiAgICAgICAgbWFyZ2luOiAyNHB4IDAgMTJweCAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLnN0YXRzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cblxuICAgIC5zdGF0LWNhcmQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDgwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgfVxuXG4gICAgLnN0YXQtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIH1cblxuICAgIC5tZXRyaWNzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMtY2FyZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDI4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICB9XG5cbiAgICAubWV0cmljLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgfVxuXG4gICAgLm1ldHJpYy1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4zO1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1jaGFydCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogNHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBoZWlnaHQ6IDQwMHB4O1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAuZm9yZWNhc3QtYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIG1pbi13aWR0aDogNDBweDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgfVxuXG4gICAgLmJhciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7XG4gICAgfVxuXG4gICAgLmJhci1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5iYXItdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLmZvcmVjYXN0LW5vdGUge1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1zdGF0cyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogMTJweDtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWJhciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyLmFnYWluIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZWY0NDQ0O1xuICAgIH1cblxuICAgIC5idXR0b24tYmFyLmhhcmQge1xuICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmOTczMTY7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1iYXIuZ29vZCB7XG4gICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzIyYzU1ZTtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWJhci5lYXN5IHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjM2I4MmY2O1xuICAgIH1cblxuICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIH1cblxuICAgIC5idXR0b24tY291bnQge1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuXG4gICAgLmJ1dHRvbi1wZXJjZW50YWdlIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLmludGVydmFscy1jaGFydCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgfVxuXG4gICAgLmludGVydmFsLWJhciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDEycHggOHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIG1pbi13aWR0aDogNjBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5pbnRlcnZhbC1sYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgfVxuXG4gICAgLmludGVydmFsLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIH1cblxuICAgIC5tb2RhbC1hY3Rpb25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE2cHggMjBweDtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBtYXJnaW4tbGVmdDogLTIwcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogLTIwcHg7XG4gICAgfVxuXG4gICAgLmNsb3NlLWJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgICAgICBtaW4td2lkdGg6IDgwcHg7XG4gICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5jbG9zZS1idXR0b246aG92ZXIsXG4gICAgLmNsb3NlLWJ1dHRvbjphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgIH1cblxuICAgIC5mb3JlY2FzdC1iYXIge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAuZm9yZWNhc3QtYmFyOmhvdmVyIC5iYXIge1xuICAgICAgICBvcGFjaXR5OiAwLjg7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlO1xuICAgIH1cblxuICAgIC5uby1kYXRhLW1lc3NhZ2Uge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDI0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLm5vLWRhdGEtbWVzc2FnZSBwIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAuaGVscC10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAucmV0cnktYnV0dG9uIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICAgIG1pbi13aWR0aDogODBweDtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLnJldHJ5LWJ1dHRvbjpob3ZlcixcbiAgICAucmV0cnktYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgfVxuICAgIC5idXltZWFjb2ZmZWUtYmFkZ2Uge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAvKiBNb2JpbGUgcmVzcG9uc2l2ZSBzdHlsZXMgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgLnN0YXRpc3RpY3MtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVycyB7XG4gICAgICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXJzID4gZGl2IHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogdW5zZXQ7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0cy1ncmlkIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTIwcHgsIDFmcikpO1xuICAgICAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXQtY2FyZCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgICAgbWluLWhlaWdodDogNzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWNzLWdyaWQge1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDgwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLXZhbHVlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JlY2FzdC1jaGFydCB7XG4gICAgICAgICAgICBoZWlnaHQ6IDMwMHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JlY2FzdC1iYXIge1xuICAgICAgICAgICAgbWluLXdpZHRoOiAzMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhciB7XG4gICAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5iYXItbGFiZWwsXG4gICAgICAgIC5iYXItdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1iYXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1jb3VudCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtYWN0aW9ucyB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTEycHg7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IC0xMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNsb3NlLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0NHB4OyAvKiBUb3VjaC1mcmllbmRseSBzaXplICovXG4gICAgICAgIH1cblxuICAgICAgICAuaW50ZXJ2YWxzLWNoYXJ0IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbnRlcnZhbC1iYXIge1xuICAgICAgICAgICAgbWluLXdpZHRoOiA1MHB4O1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDZweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAuc3RhdGlzdGljcy1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZpbHRlcnMge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0cy1ncmlkIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zdGF0LWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmZvcmVjYXN0LWNoYXJ0IHtcbiAgICAgICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZm9yZWNhc3QtYmFyIHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjhweDtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhciB7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5iYXItbGFiZWwsXG4gICAgICAgIC5iYXItdmFsdWUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLThweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLThweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXltZWFjb2ZmZWUtYmFkZ2Uge1xuICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM5MHB4KSB7XG4gICAgICAgIC50aW1lZnJhbWUtZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRlY2stZmlsdGVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRpc3RpY3MtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzkwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsdGVycyB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXJzID4gZGl2IHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogdW5zZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdHMtZ3JpZCB7XG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgICAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1jYXJkIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDU1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3RhdC1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljcy1ncmlkIHtcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDcwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAubWV0cmljLXZhbHVlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXRyaWMtbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1ldHJpYy1kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZm9yZWNhc3QtY2hhcnQge1xuICAgICAgICAgICAgaGVpZ2h0OiAyMjBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JlY2FzdC1iYXIge1xuICAgICAgICAgICAgbWluLXdpZHRoOiAyNHB4O1xuICAgICAgICAgICAgZ2FwOiAycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYmFyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJhci1sYWJlbCxcbiAgICAgICAgLmJhci12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tc3RhdHMge1xuICAgICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWJhciB7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1jb3VudCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLXBlcmNlbnRhZ2Uge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWFjdGlvbnMge1xuICAgICAgICAgICAgcGFkZGluZzogNnB4IDhweDtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtNnB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAtNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNsb3NlLWJ1dHRvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaW50ZXJ2YWxzLWNoYXJ0IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIGdhcDogNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmludGVydmFsLWJhciB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDQ1cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA2cHggNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmludGVydmFsLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbnRlcnZhbC12YWx1ZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IE1vZGFsLCBDb21wb25lbnQsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBEZWNrLCBGbGFzaGNhcmQgfSBmcm9tIFwiLi4vZGF0YWJhc2UvdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgRGlmZmljdWx0eSB9IGZyb20gXCIuLi9hbGdvcml0aG0vZnNyc1wiO1xuaW1wb3J0IHsgRlNSUyB9IGZyb20gXCIuLi9hbGdvcml0aG0vZnNyc1wiO1xuaW1wb3J0IHR5cGUgeyBGbGFzaGNhcmRzU2V0dGluZ3MgfSBmcm9tIFwiLi4vc2V0dGluZ3NcIjtcbmltcG9ydCBGbGFzaGNhcmRSZXZpZXdNb2RhbCBmcm9tIFwiLi9GbGFzaGNhcmRSZXZpZXdNb2RhbC5zdmVsdGVcIjtcblxuZXhwb3J0IGNsYXNzIEZsYXNoY2FyZFJldmlld01vZGFsV3JhcHBlciBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBkZWNrOiBEZWNrO1xuICBwcml2YXRlIGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdO1xuICBwcml2YXRlIGZzcnM6IEZTUlM7XG4gIHByaXZhdGUgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncztcbiAgcHJpdmF0ZSByZXZpZXdGbGFzaGNhcmQ6IChcbiAgICBkZWNrOiBEZWNrLFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5LFxuICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICApID0+IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgcmVuZGVyTWFya2Rvd246IChcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgZWw6IEhUTUxFbGVtZW50LFxuICApID0+IENvbXBvbmVudCB8IG51bGw7XG4gIHByaXZhdGUgcmVmcmVzaFN0YXRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHJlZnJlc2hTdGF0c0J5SWQ6IChkZWNrSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IEZsYXNoY2FyZFJldmlld01vZGFsIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbWFya2Rvd25Db21wb25lbnRzOiBDb21wb25lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogYW55LFxuICAgIGRlY2s6IERlY2ssXG4gICAgZmxhc2hjYXJkczogRmxhc2hjYXJkW10sXG4gICAgZnNyczogRlNSUyxcbiAgICBzZXR0aW5nczogRmxhc2hjYXJkc1NldHRpbmdzLFxuICAgIHJldmlld0ZsYXNoY2FyZDogKFxuICAgICAgZGVjazogRGVjayxcbiAgICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICAgIGRpZmZpY3VsdHk6IERpZmZpY3VsdHksXG4gICAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgICApID0+IFByb21pc2U8dm9pZD4sXG4gICAgcmVuZGVyTWFya2Rvd246IChjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkgPT4gQ29tcG9uZW50IHwgbnVsbCxcbiAgICByZWZyZXNoU3RhdHM6ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgcmVmcmVzaFN0YXRzQnlJZDogKGRlY2tJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+LFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMuZGVjayA9IGRlY2s7XG4gICAgdGhpcy5mbGFzaGNhcmRzID0gZmxhc2hjYXJkcztcbiAgICB0aGlzLmZzcnMgPSBmc3JzO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLnJldmlld0ZsYXNoY2FyZCA9IHJldmlld0ZsYXNoY2FyZDtcbiAgICB0aGlzLnJlbmRlck1hcmtkb3duID0gcmVuZGVyTWFya2Rvd247XG4gICAgdGhpcy5yZWZyZXNoU3RhdHMgPSByZWZyZXNoU3RhdHM7XG4gICAgdGhpcy5yZWZyZXNoU3RhdHNCeUlkID0gcmVmcmVzaFN0YXRzQnlJZDtcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbFwiKTtcblxuICAgIC8vIEFkZCBtb2JpbGUtc3BlY2lmaWMgY2xhc3Nlc1xuICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgaWYgKG1vZGFsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbC1tb2JpbGVcIik7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgU3ZlbHRlIGNvbXBvbmVudFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblxuICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IEZsYXNoY2FyZFJldmlld01vZGFsKHtcbiAgICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgZmxhc2hjYXJkczogdGhpcy5mbGFzaGNhcmRzLFxuICAgICAgICBkZWNrOiB0aGlzLmRlY2ssXG4gICAgICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICAgICAgb25DbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgICBvblJldmlldzogYXN5bmMgKFxuICAgICAgICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICAgICAgICBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5LFxuICAgICAgICAgIHRpbWVFbGFwc2VkPzogbnVtYmVyLFxuICAgICAgICApID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJldmlld0ZsYXNoY2FyZCh0aGlzLmRlY2ssIGNhcmQsIGRpZmZpY3VsdHksIHRpbWVFbGFwc2VkKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyTWFya2Rvd246IChjb250ZW50OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMucmVuZGVyTWFya2Rvd24oY29udGVudCwgZWwpO1xuICAgICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2Rvd25Db21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgICBmc3JzOiB0aGlzLmZzcnMsXG4gICAgICAgIG9uQ2FyZFJldmlld2VkOiBhc3luYyAocmV2aWV3ZWRDYXJkOiBGbGFzaGNhcmQpID0+IHtcbiAgICAgICAgICAvLyBSZWZyZXNoIHN0YXRzIGZvciB0aGUgc3BlY2lmaWMgZGVjayBiZWluZyByZXZpZXdlZCAobW9yZSBlZmZpY2llbnQpXG4gICAgICAgICAgaWYgKHJldmlld2VkQ2FyZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoU3RhdHNCeUlkKHJldmlld2VkQ2FyZC5kZWNrSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC4kb24oXCJjb21wbGV0ZVwiLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVhc29uLCByZXZpZXdlZCB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgUmV2aWV3IHNlc3Npb24gY29tcGxldGUgZm9yICR7dGhpcy5kZWNrLm5hbWV9IWA7XG5cbiAgICAgIGlmIChyZWFzb24gPT09IFwibm8tbW9yZS1jYXJkc1wiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgQWxsIGF2YWlsYWJsZSBjYXJkcyByZXZpZXdlZCEgQ29tcGxldGVkICR7cmV2aWV3ZWR9IGNhcmRzIGZyb20gJHt0aGlzLmRlY2submFtZX0uYDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3M/LnVpPy5lbmFibGVOb3RpY2VzICE9PSBmYWxzZSkge1xuICAgICAgICBuZXcgTm90aWNlKG1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWZyZXNoIHRoZSB2aWV3IHRvIHVwZGF0ZSBzdGF0c1xuICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoU3RhdHMoKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB3aW5kb3cgcmVzaXplIGZvciBtb2JpbGUgYWRhcHRhdGlvblxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGFsRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG4gICAgICBpZiAobW9kYWxFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgICAgICBtb2RhbEVsLmFkZENsYXNzKFwiZGVjay1yZXZpZXctbW9kYWwtbW9iaWxlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsRWwucmVtb3ZlQ2xhc3MoXCJkZWNrLXJldmlldy1tb2RhbC1tb2JpbGVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcblxuICAgIC8vIFN0b3JlIHJlc2l6ZSBoYW5kbGVyIGZvciBjbGVhbnVwXG4gICAgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlciA9IGhhbmRsZVJlc2l6ZTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgLy8gQ2xlYW4gdXAgcmVzaXplIGhhbmRsZXJcbiAgICBpZiAoKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcik7XG4gICAgICBkZWxldGUgKHRoaXMgYXMgYW55KS5fcmVzaXplSGFuZGxlcjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgbWFya2Rvd24gY29tcG9uZW50c1xuICAgIHRoaXMubWFya2Rvd25Db21wb25lbnRzLmZvckVhY2goKGNvbXApID0+IGNvbXAudW5sb2FkKCkpO1xuICAgIHRoaXMubWFya2Rvd25Db21wb25lbnRzID0gW107XG5cbiAgICAvLyBSZWZyZXNoIHZpZXcgd2hlbiBjbG9zaW5nXG4gICAgdGhpcy5yZWZyZXNoU3RhdHMoKTtcbiAgfVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBvbk1vdW50LCB0aWNrIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB0eXBlIHsgRGVjaywgRmxhc2hjYXJkIH0gZnJvbSBcIi4uL2RhdGFiYXNlL3R5cGVzXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBGbGFzaGNhcmRzU2V0dGluZ3MgfSBmcm9tIFwiLi4vc2V0dGluZ3NcIjtcbiAgICBpbXBvcnQge1xuICAgICAgICBGU1JTLFxuICAgICAgICB0eXBlIFNjaGVkdWxpbmdJbmZvLFxuICAgICAgICB0eXBlIERpZmZpY3VsdHksXG4gICAgfSBmcm9tIFwiLi4vYWxnb3JpdGhtL2ZzcnNcIjtcblxuICAgIGV4cG9ydCBsZXQgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBbXTtcbiAgICBleHBvcnQgbGV0IGRlY2s6IERlY2s7XG4gICAgZXhwb3J0IGxldCBjdXJyZW50SW5kZXg6IG51bWJlciA9IDA7XG4gICAgZXhwb3J0IGxldCBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIGV4cG9ydCBsZXQgb25SZXZpZXc6IChcbiAgICAgICAgY2FyZDogRmxhc2hjYXJkLFxuICAgICAgICBkaWZmaWN1bHR5OiBEaWZmaWN1bHR5LFxuICAgICAgICB0aW1lRWxhcHNlZD86IG51bWJlcixcbiAgICApID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCByZW5kZXJNYXJrZG93bjogKGNvbnRlbnQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAgIGV4cG9ydCBsZXQgc2V0dGluZ3M6IEZsYXNoY2FyZHNTZXR0aW5ncztcbiAgICBleHBvcnQgbGV0IGZzcnM6IEZTUlM7XG4gICAgZXhwb3J0IGxldCBvbkNhcmRSZXZpZXdlZDpcbiAgICAgICAgfCAoKHJldmlld2VkQ2FyZDogRmxhc2hjYXJkKSA9PiBQcm9taXNlPHZvaWQ+KVxuICAgICAgICB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgICBsZXQgc2hvd0Fuc3dlciA9IGZhbHNlO1xuICAgIGxldCBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBsZXQgZnJvbnRFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGJhY2tFbDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IHNjaGVkdWxpbmdJbmZvOiBTY2hlZHVsaW5nSW5mbyB8IG51bGwgPSBudWxsO1xuICAgIGxldCByZXZpZXdlZENvdW50ID0gMDtcbiAgICBsZXQgY2FyZFN0YXJ0VGltZTogbnVtYmVyID0gMDtcblxuICAgIC8vIFRyYWNrIGxhc3QgZXZlbnQgdG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uXG4gICAgbGV0IGxhc3RFdmVudFRpbWUgPSAwO1xuICAgIGxldCBsYXN0RXZlbnRUeXBlID0gXCJcIjtcblxuICAgICQ6IGN1cnJlbnRDYXJkID0gZmxhc2hjYXJkc1tjdXJyZW50SW5kZXhdIHx8IG51bGw7XG4gICAgJDogcHJvZ3Jlc3MgPVxuICAgICAgICBmbGFzaGNhcmRzLmxlbmd0aCA+IDAgPyAoY3VycmVudEluZGV4IC8gZmxhc2hjYXJkcy5sZW5ndGgpICogMTAwIDogMDtcbiAgICAkOiByZW1haW5pbmdDYXJkcyA9IGZsYXNoY2FyZHMubGVuZ3RoIC0gY3VycmVudEluZGV4O1xuXG4gICAgZnVuY3Rpb24gbG9hZENhcmQoKSB7XG4gICAgICAgIGlmICghY3VycmVudENhcmQpIHJldHVybjtcblxuICAgICAgICBzaG93QW5zd2VyID0gZmFsc2U7XG4gICAgICAgIHNjaGVkdWxpbmdJbmZvID0gZnNycy5nZXRTY2hlZHVsaW5nSW5mbyhjdXJyZW50Q2FyZCk7XG4gICAgICAgIGNhcmRTdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBUcmFjayB3aGVuIGNhcmQgaXMgZGlzcGxheWVkXG5cbiAgICAgICAgLy8gUmVuZGVyIGZyb250IHNpZGVcbiAgICAgICAgaWYgKGZyb250RWwpIHtcbiAgICAgICAgICAgIGZyb250RWwuZW1wdHkoKTtcbiAgICAgICAgICAgIHJlbmRlck1hcmtkb3duKGN1cnJlbnRDYXJkLmZyb250LCBmcm9udEVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZS1yZW5kZXIgYmFjayBzaWRlIGJ1dCBrZWVwIGl0IGhpZGRlblxuICAgICAgICAvLyBVc2UgdGljaygpIHRvIGVuc3VyZSBET00gaXMgdXBkYXRlZCBiZWZvcmUgcmVuZGVyaW5nXG4gICAgICAgIHRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChiYWNrRWwpIHtcbiAgICAgICAgICAgICAgICBiYWNrRWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICByZW5kZXJNYXJrZG93bihjdXJyZW50Q2FyZC5iYWNrLCBiYWNrRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZlYWxBbnN3ZXIoKSB7XG4gICAgICAgIHNob3dBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAvLyBFbnN1cmUgYmFjayBlbGVtZW50IGlzIHJlbmRlcmVkIGFmdGVyIHNob3dBbnN3ZXIgYmVjb21lcyB0cnVlXG4gICAgICAgIHRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChiYWNrRWwgJiYgY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgICAgICBiYWNrRWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICByZW5kZXJNYXJrZG93bihjdXJyZW50Q2FyZC5iYWNrLCBiYWNrRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEaWZmaWN1bHR5KGRpZmZpY3VsdHk6IERpZmZpY3VsdHkpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50Q2FyZCB8fCBpc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gY2FyZFN0YXJ0VGltZTtcbiAgICAgICAgICAgIGF3YWl0IG9uUmV2aWV3KGN1cnJlbnRDYXJkLCBkaWZmaWN1bHR5LCB0aW1lRWxhcHNlZCk7XG4gICAgICAgICAgICByZXZpZXdlZENvdW50Kys7XG5cbiAgICAgICAgICAgIC8vIFRyaWdnZXIgc3RhdHMgcmVmcmVzaCBhZnRlciBlYWNoIGNhcmQgcmV2aWV3XG4gICAgICAgICAgICBpZiAob25DYXJkUmV2aWV3ZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBvbkNhcmRSZXZpZXdlZChjdXJyZW50Q2FyZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjYXJkIG9yIGNvbXBsZXRlIHNlc3Npb25cbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBmbGFzaGNhcmRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICBsb2FkQ2FyZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFwiY29tcGxldGVcIiwge1xuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibm8tbW9yZS1jYXJkc1wiLFxuICAgICAgICAgICAgICAgICAgICByZXZpZXdlZDogcmV2aWV3ZWRDb3VudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV2aWV3aW5nIGNhcmQ6XCIsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SW50ZXJ2YWxEaXNwbGF5KG1pbnV0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBGU1JTLmdldEludGVydmFsRGlzcGxheShtaW51dGVzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICBpZiAoIXNob3dBbnN3ZXIgJiYgZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldmVhbEFuc3dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3dBbnN3ZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGlmZmljdWx0eShcImFnYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEaWZmaWN1bHR5KFwiaGFyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEaWZmaWN1bHR5KFwiZ29vZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGlmZmljdWx0eShcImVhc3lcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hDbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgLy8gUHJldmVudCBkb3VibGUgZXhlY3V0aW9uIHdpdGhpbiAxMDBtc1xuICAgICAgICBpZiAobm93IC0gbGFzdEV2ZW50VGltZSA8IDEwMCAmJiBsYXN0RXZlbnRUeXBlICE9PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RFdmVudFRpbWUgPSBub3c7XG4gICAgICAgIGxhc3RFdmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgbG9hZENhcmQoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleWRvd24pO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAkOiBpZiAoY3VycmVudENhcmQpIHtcbiAgICAgICAgbG9hZENhcmQoKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInJldmlldy1tb2RhbFwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgPGgzPlJldmlldyBTZXNzaW9uIC0ge2RlY2submFtZX08L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtaW5mb1wiPlxuICAgICAgICAgICAgPHNwYW4+e2N1cnJlbnRJbmRleCArIDF9IC8ge2ZsYXNoY2FyZHMubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVtYWluaW5nXCI+KHtyZW1haW5pbmdDYXJkc30gcmVtYWluaW5nKTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIHNldHRpbmdzPy5yZXZpZXc/LnNob3dQcm9ncmVzcyAhPT0gZmFsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6IHtwcm9ncmVzc30lXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG5cbiAgICB7I2lmIGN1cnJlbnRDYXJkfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXNpZGUgZnJvbnRcIiBiaW5kOnRoaXM9e2Zyb250RWx9PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbnN3ZXItc2VjdGlvblwiIGNsYXNzOmhpZGRlbj17IXNob3dBbnN3ZXJ9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXBhcmF0b3JcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1zaWRlIGJhY2tcIiBiaW5kOnRoaXM9e2JhY2tFbH0+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1idXR0b25zXCI+XG4gICAgICAgICAgICB7I2lmICFzaG93QW5zd2VyfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzaG93LWFuc3dlci1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGhhbmRsZVRvdWNoQ2xpY2socmV2ZWFsQW5zd2VyLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PiBoYW5kbGVUb3VjaENsaWNrKHJldmVhbEFuc3dlciwgZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TaG93IEFuc3dlcjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzaG9ydGN1dFwiPlNwYWNlPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgey9pZn1cblxuICAgICAgICAgICAgeyNpZiBzaG93QW5zd2VyICYmIHNjaGVkdWxpbmdJbmZvfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWZmaWN1bHR5LWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkaWZmaWN1bHR5LWJ1dHRvbiBhZ2FpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlRGlmZmljdWx0eShcImFnYWluXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gaGFuZGxlRGlmZmljdWx0eShcImFnYWluXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+QWdhaW48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcnZhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnRlcnZhbERpc3BsYXkoc2NoZWR1bGluZ0luZm8uYWdhaW4uaW50ZXJ2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXRcIj4xPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGlmZmljdWx0eS1idXR0b24gaGFyZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBoYW5kbGVEaWZmaWN1bHR5KFwiaGFyZFwiKSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjp0b3VjaGVuZD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hDbGljaygoKSA9PiBoYW5kbGVEaWZmaWN1bHR5KFwiaGFyZFwiKSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLWxhYmVsXCI+SGFyZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludGVydmFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEludGVydmFsRGlzcGxheShzY2hlZHVsaW5nSW5mby5oYXJkLmludGVydmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3J0Y3V0XCI+MjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRpZmZpY3VsdHktYnV0dG9uIGdvb2RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlRGlmZmljdWx0eShcImdvb2RcIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb246dG91Y2hlbmQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoQ2xpY2soKCkgPT4gaGFuZGxlRGlmZmljdWx0eShcImdvb2RcIiksIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1sYWJlbFwiPkdvb2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcnZhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnRlcnZhbERpc3BsYXkoc2NoZWR1bGluZ0luZm8uZ29vZC5pbnRlcnZhbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9ydGN1dFwiPjM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkaWZmaWN1bHR5LWJ1dHRvbiBlYXN5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGhhbmRsZURpZmZpY3VsdHkoXCJlYXN5XCIpLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOnRvdWNoZW5kPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaENsaWNrKCgpID0+IGhhbmRsZURpZmZpY3VsdHkoXCJlYXN5XCIpLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24tbGFiZWxcIj5FYXN5PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJ2YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW50ZXJ2YWxEaXNwbGF5KHNjaGVkdWxpbmdJbmZvLmVhc3kuaW50ZXJ2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXRcIj40PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgIDxwPk5vIGNhcmRzIHRvIHJldmlldzwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLnJldmlldy1tb2RhbCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLm1vZGFsLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgcGFkZGluZzogMTZweCAyMHB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5tb2RhbC1oZWFkZXIgaDMge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAucHJvZ3Jlc3MtaW5mbyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuXG4gICAgLnJlbWFpbmluZyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAucmV2aWV3LXByb2dyZXNzLWJhciB7XG4gICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAucHJvZ3Jlc3MtZmlsbCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xuICAgIH1cblxuICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgIHBhZGRpbmc6IDMycHggMTZweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICBnYXA6IDI0cHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBtaW4taGVpZ2h0OiAwO1xuICAgIH1cblxuICAgIC5xdWVzdGlvbi1zZWN0aW9uLFxuICAgIC5hbnN3ZXItc2VjdGlvbiB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuY2FyZC1zaWRlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgbWluLWhlaWdodDogMTAwcHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgfVxuXG4gICAgLmNhcmQtc2lkZS5mcm9udCB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5jYXJkLXNpZGUuYmFjayB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICB9XG5cbiAgICAuYW5zd2VyLXNlY3Rpb24ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmFuc3dlci1zZWN0aW9uLmhpZGRlbiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgLnNlcGFyYXRvciB7XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIG1hcmdpbjogMTZweCBhdXRvO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICB9XG5cbiAgICAuYWN0aW9uLWJ1dHRvbnMge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuXG4gICAgLnNob3ctYW5zd2VyLWJ1dHRvbiB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgcGFkZGluZzogMTJweCAyNHB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBtaW4taGVpZ2h0OiA0OHB4O1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuc2hvdy1hbnN3ZXItYnV0dG9uOmhvdmVyLFxuICAgIC5zaG93LWFuc3dlci1idXR0b246YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICB9XG5cbiAgICAuc2hvcnRjdXQge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgcGFkZGluZzogMnB4IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDhweDtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgbWluLWhlaWdodDogNjBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogMnB4O1xuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcbiAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b246aG92ZXIsXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uOmRpc2FibGVkIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgfVxuXG4gICAgLmRpZmZpY3VsdHktYnV0dG9uLmFnYWluIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjZTc0YzNjO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbi5hZ2Fpbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNlNzRjM2M7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uaGFyZCB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogI2YzOWMxMjtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uaGFyZDpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmMzljMTI7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZ29vZCB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogIzI3YWU2MDtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZ29vZDpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMyN2FlNjA7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZWFzeSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogIzM0OThkYjtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24uZWFzeTpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMzNDk4ZGI7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuYnV0dG9uLWxhYmVsIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgIH1cblxuICAgIC5pbnRlcnZhbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIH1cblxuICAgIC5kaWZmaWN1bHR5LWJ1dHRvbjpob3ZlciAuaW50ZXJ2YWwge1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAuZGlmZmljdWx0eS1idXR0b24gLnNob3J0Y3V0IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDJweDtcbiAgICAgICAgcmlnaHQ6IDJweDtcbiAgICAgICAgZm9udC1zaXplOiA5cHg7XG4gICAgICAgIHBhZGRpbmc6IDFweCAzcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgfVxuXG4gICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDMycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICB9XG5cbiAgICAvKiBNYXJrZG93biBjb250ZW50IHN0eWxpbmcgKi9cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDEpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoMiksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGgzKSxcbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgaDQpLFxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSBoNSksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIGg2KSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIHApIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgcDpsYXN0LWNoaWxkKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlID4gKjpmaXJzdC1jaGlsZCkge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmNhcmQtc2lkZSB1bCksXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIG9sKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgY29kZSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2RlLWJhY2tncm91bmQpO1xuICAgICAgICBwYWRkaW5nOiAycHggNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgfVxuXG4gICAgOmdsb2JhbCguY2FyZC1zaWRlIHByZSkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2RlLWJhY2tncm91bmQpO1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5jYXJkLXNpZGUgYmxvY2txdW90ZSkge1xuICAgICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWJsb2NrcXVvdGUtYm9yZGVyKTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgfVxuXG4gICAgLyogTW9iaWxlIHJlc3BvbnNpdmUgc3R5bGVzICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5tb2RhbC1oZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1jb250ZW50IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMTJweDtcbiAgICAgICAgICAgIGdhcDogMjBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUge1xuICAgICAgICAgICAgcGFkZGluZzogMjBweCAxNnB4O1xuICAgICAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZS5mcm9udCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlLmJhY2sge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmFjdGlvbi1idXR0b25zIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc2hvdy1hbnN3ZXItYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggMjRweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7IC8qIFRvdWNoLWZyaWVuZGx5ICovXG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogNnB4O1xuICAgICAgICAgICAgcGFkZGluZzogMCA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCA2cHg7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiA0OHB4OyAvKiBUb3VjaC1mcmllbmRseSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ1dHRvbi1sYWJlbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuaW50ZXJ2YWwge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDUwMHB4KSB7XG4gICAgICAgIC5tb2RhbC1oZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwtaGVhZGVyIGgzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wcm9ncmVzcy1pbmZvIHtcbiAgICAgICAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4IDhweDtcbiAgICAgICAgICAgIGdhcDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUge1xuICAgICAgICAgICAgcGFkZGluZzogMTZweCAxMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZS5mcm9udCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlLmJhY2sge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmFjdGlvbi1idXR0b25zIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc2hvdy1hbnN3ZXItYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjBweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDUycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDRweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbnRlcnZhbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24gLnNob3J0Y3V0IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMXB4IDJweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzOTBweCkge1xuICAgICAgICAubW9kYWwtaGVhZGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAucHJvZ3Jlc3MtaW5mbyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1jb250ZW50IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggOHB4O1xuICAgICAgICAgICAgZ2FwOiAxNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtc2lkZSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1zaWRlLmZyb250IHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLXNpZGUuYmFjayB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYWN0aW9uLWJ1dHRvbnMge1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc2hvdy1hbnN3ZXItYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTZweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kaWZmaWN1bHR5LWJ1dHRvbnMge1xuICAgICAgICAgICAgZ2FwOiAzcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAwIDRweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzc0cHg7IC8qIEZpdCB3aXRoaW4gMzkwcHggd2l0aCBwYWRkaW5nICovXG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDNweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnV0dG9uLWxhYmVsIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbnRlcnZhbCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDlweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kaWZmaWN1bHR5LWJ1dHRvbiAuc2hvcnRjdXQge1xuICAgICAgICAgICAgZm9udC1zaXplOiA3cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxcHggMnB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM4MHB4KSB7XG4gICAgICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweCA2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b25zIHtcbiAgICAgICAgICAgIGdhcDogMnB4O1xuICAgICAgICAgICAgcGFkZGluZzogMCAzcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGlmZmljdWx0eS1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogNnB4IDJweDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxrREFBQUEsU0FBQTtBQWFBLFFBQUksbUJBQW1CO0FBRXZCLFFBQUlDLGFBQVksU0FBVSxjQUFjO0FBRXBDLFVBQUksa0JBQWlCO0FBQ25CLGVBQU87QUFBQSxNQUNUO0FBRUEseUJBQW1CLElBQUksUUFBUSxTQUFVLGVBQWUsUUFBUTtBQVk1RCxZQUFJLFNBQVMsT0FBTyxpQkFBaUIsY0FB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QUFFO0FBQUEsUUFBQyxFQUFDLEdBQUUsS0FBRyxFQUFDLEdBQUcsR0FBRSxHQUFFO0FBQUMsbUJBQU8sS0FBRyxPQUFLLEtBQUcsR0FBRyxFQUFFLEVBQUUsTUFBTSxDQUFDLEdBQUUsRUFBRSxTQUFPLENBQUMsS0FBRyxLQUFHLEtBQUcsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUFBLFFBQUMsR0FBRSxNQUFNLEdBQUU7QUE1Ry9VO0FBNEdnVixnQkFBRSxPQUFFLFdBQUYsbUJBQVUsWUFBUyxHQUFHLEVBQUUsRUFBRSxNQUFNLENBQUMsR0FBRSxFQUFFLFNBQU8sQ0FBQztBQUFBLFFBQUUsRUFBQyxHQUFFLElBQUUsRUFBQyxJQUFHLE1BQUssS0FBSTtBQUFDLGlCQUFPLEVBQUUsV0FBVyxNQUFLLEtBQUksT0FBTSxDQUFDO0FBQUEsUUFBQyxHQUFFLFdBQVcsR0FBRSxHQUFFLEdBQUUsR0FBRTtBQUFDLGNBQUcsV0FBUyxJQUFFLFVBQVEsVUFBUSxJQUFFO0FBQU8sa0JBQU0sSUFBSSxFQUFFLEVBQUU7QUFDcGdCLFlBQUUsT0FBSyxFQUFFLEtBQUcsRUFBQyxLQUFJLEVBQUMsTUFBSyxFQUFDLElBQUcsRUFBRSxHQUFHLElBQUcsSUFBRyxFQUFFLEdBQUcsSUFBRyxRQUFPLEVBQUUsR0FBRyxRQUFPLElBQUcsRUFBRSxHQUFHLElBQUcsUUFBTyxFQUFFLEdBQUcsUUFBTyxRQUFPLEVBQUUsR0FBRyxRQUFPLE9BQU0sRUFBRSxHQUFHLE9BQU0sU0FBUSxFQUFFLEdBQUcsU0FBUSxTQUFRLEVBQUUsR0FBRyxRQUFPLEdBQUUsUUFBTyxFQUFDLElBQUcsRUFBRSxHQUFHLEdBQUUsRUFBQyxHQUFFLE1BQUssRUFBQyxNQUFLLEVBQUMsSUFBRyxFQUFFLEdBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRyxHQUFFLEdBQUUsUUFBTyxFQUFDLElBQUcsRUFBRSxHQUFHLElBQUcsTUFBSyxFQUFFLEdBQUcsTUFBSyxPQUFNLEVBQUUsR0FBRyxPQUFNLElBQUcsRUFBRSxHQUFHLElBQUcsSUFBRyxFQUFFLEdBQUcsR0FBRSxFQUFDLEdBQUUsTUFBSyxFQUFDLE1BQUssRUFBQyxJQUFHLEVBQUUsR0FBRyxJQUFHLElBQUcsRUFBRSxHQUFHLElBQUcsVUFBUyxFQUFFLEdBQUcsU0FBUSxHQUFFLFFBQU8sQ0FBQyxFQUFDLEdBQUUsSUFBRyxFQUFDLE1BQUssRUFBQyxJQUFHLEVBQUUsR0FBRyxJQUFHLElBQUcsRUFBRSxHQUFHLEdBQUUsR0FBRSxRQUFPLEdBQUUsRUFBQztBQUFHLGNBQUUsR0FBRyxHQUFFLEdBQUUsR0FBRSxDQUFDO0FBQUUsWUFBRSxFQUFFLElBQUksS0FBRyxFQUFFLEtBQUcsRUFBRSxHQUFHLElBQUksTUFBSyxFQUFFLEtBQUcsRUFBRSxHQUFHLElBQUksUUFBTyxFQUFFLEtBQUcsQ0FBQyxLQUFHLFdBQzdlLEVBQUUsT0FBSyxVQUFRLEVBQUUsS0FBRyxFQUFFLEdBQUcsS0FBSyxNQUFLLEVBQUUsS0FBRyxFQUFFLEdBQUcsS0FBSyxRQUFPLEVBQUUsS0FBRyxHQUFFLEVBQUUsS0FBRyxRQUFNLFdBQVMsRUFBRSxPQUFLLFVBQVEsRUFBRSxLQUFHLEVBQUUsR0FBRyxLQUFLLE1BQUssRUFBRSxLQUFHLEVBQUUsR0FBRyxLQUFLLFVBQVEsVUFBUSxFQUFFLE9BQUssV0FBUyxFQUFFLEtBQUcsRUFBRSxHQUFHLEdBQUcsTUFBSyxFQUFFLEtBQUcsRUFBRSxHQUFHLEdBQUc7QUFBUSxZQUFFLFFBQU0sRUFBRSxRQUFNLEVBQUUsUUFBTSxLQUFLLElBQUk7QUFBRSxnQkFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFFLEdBQUUsRUFBRSxRQUFNLEVBQUUsUUFBTSxFQUFFLFFBQU0sRUFBRTtBQUFPLGlCQUFPO0FBQUEsUUFBQyxHQUFFLEdBQUcsR0FBRTtBQUFDLGlCQUFPLEVBQUUsS0FBRyxFQUFFLEdBQUcsV0FBUyxFQUFFLEdBQUcsU0FBUyxHQUFFLEVBQUUsRUFBRSxJQUFFLElBQUksV0FBVyxFQUFFLEVBQUUsSUFBRSxJQUFJLFdBQVcsQ0FBQztBQUFBLFFBQUMsR0FBRSxJQUFHLEVBQUMsR0FBRyxH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QUUsRUFBQyxRQUFPLEtBQUUsQ0FBQyxFQUFFO0FBQUssY0FBRSxHQUFHLENBQUM7QUFBRSxjQUFJLElBQUUsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFFLEdBQUcsR0FBRSxHQUFFLElBQUU7QUFBRSxjQUFHO0FBQUUsa0JBQU0sSUFBSSxFQUFFLENBQUM7QUFBRSxjQUFHLENBQUMsRUFBRSxHQUFHO0FBQU0sa0JBQU0sSUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFHLEVBQUU7QUFBRyxrQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUFFLFlBQUUsR0FBRyxNQUFNLEdBQUUsQ0FBQztBQUFFLGFBQUcsQ0FBQztBQUFBLFFBQUM7QUFBQyxpQkFBUyxHQUFHLEdBQUU7QUFBQyxjQUFJLElBQUUsRUFBRSxHQUFFLEVBQUMsUUFBTyxLQUFFLENBQUMsRUFBRTtBQUFLLGNBQUcsQ0FBQztBQUFFLGtCQUFNLElBQUksRUFBRSxFQUFFO0FBQUUsY0FBRSxHQUFHLENBQUM7QUFBRSxjQUFJLElBQUUsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFFLEdBQUcsR0FBRSxHQUFFLEtBQUU7QUFBRSxjQUFHO0FBQUUsa0JBQU0sSUFBSSxFQUFFLENBQUM7QUFBRSxjQUFHLENBQUMsRUFBRSxHQUFHO0FBQU8sa0JBQU0sSUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFHLEVBQUU7QUFBRyxrQkFBTSxJQUFJLEVBQUUsRUFBRTtBQUFFLFlBQUUsR0FBRyxPQUFPLEdBQUUsQ0FBQztBQUFFLGFBQUcsQ0FBQztBQUFBLFFBQUM7QUFBQyxpQkFBUyxHQUFHLEdBQUUsR0FBRTtBQUFDLGNBQUUsRUFBRSxHQUFFLEVBQUMsSUFBRyxDQUFDLEVBQUMsQ0FBQyxFQUFFO0FBQUssaUJBQU8sR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7QUFBQSxRQUFDO0FBQzlhLGlCQUFTLEdBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRTtBQUFDLGFBQUcsR0FBRSxHQUFFLEVBQUMsTUFBSyxJQUFFLE9BQUssRUFBRSxPQUFLLE9BQU0sT0FBTSxLQUFLLElBQUks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VUFDbEYsT0FBTztBQUNMLHlCQUFhLGlCQUFpQixZQUFZLFdBQVcsSUFBSSxPQUFPLGdCQUFnQixLQUFLLGVBQWU7QUFBQSxVQUN0RztBQUFBLFFBQ0Y7QUFHQSxjQUFNLG1CQUNKLE9BQU8sdUJBQ1AsWUFBWSxZQUFZLE9BQU87QUFDakMsY0FBTSxzQkFDSixPQUFPLDBCQUNQLFlBQVksZUFBZSxPQUFPO0FBRXBDLFlBQUksb0JBQW9CLHFCQUFxQjtBQUMzQyx1QkFBYTtBQUFBO0FBQUE7QUFBQSxRQUNmO0FBRUEsY0FBSSxnQkFBSyxhQUFMLG1CQUFlLE9BQWYsbUJBQW1CLG1CQUFrQixPQUFPO0FBQzlDLGNBQUkseUJBQU8sV0FBVyxHQUFJO0FBQUEsUUFDNUI7QUFBQSxNQUNGO0FBR0EsVUFBSTtBQUFBLFFBQ0YsS0FBSztBQUFBLFFBQ0w7QUFBQSxRQUNBO0FBQUEsUUFDQSxLQUFLLGtCQUFrQixJQUFJO0FBQUEsUUFDM0IsS0FBSztBQUFBLFFBQ0wsS0FBSyxnQkFBZ0IsS0FBSyxJQUFJO0FBQUEsUUFDOUIsS0FBSztBQUFBLFFBQ0wsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUFBLFFBQ3RCLEtBQUssaUJBQWlCLEtBQUssSUFBSTtBQUFBLE1BQ2pDLEVBQUUsS0FBSztBQUFBLElBQ1QsU0FBUyxPQUFPO0FBQ2QsY0FBUSxNQUFNLDBCQUEwQixLQUFLO0FBQzdDLFlBQUksZ0JBQUssYUFBTCxtQkFBZSxPQUFmLG1CQUFtQixtQkFBa0IsT0FBTztBQUM5QyxZQUFJLHlCQUFPLG1EQUFtRDtBQUFBLE1BQ2hFO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgImluaXRTcWxKcyIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW5pdFNxbEpzIiwgImZpbGUiLCAiZmlsZSIsICJpbml0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0ZXh0IiwgImVsZW1lbnQiLCAiZmlsZSIsICJlbGVtZW50IiwgIl9hIiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJkZXRhY2giLCAiaW5zdGFuY2UiLCAiY3JlYXRlX2ZyYWdtZW50IiwgImF0dHIiLCAidGV4dCIsICJjdHgiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJtb2RhbEVsIiwgImltcG9ydF9vYnNpZGlhbiIsICJjdHgiLCAibW9kYWxFbCIsICJ0ZXh0IiwgImN0eCIsICJjcmVhdGVfaWZfYmxvY2siLCAiY3JlYXRlX2lmX2Jsb2NrXzEiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJjcmVhdGVfaWZfYmxvY2tfNSIsICJfYSIsICJjcmVhdGVfaWZfYmxvY2tfNCIsICJmdW5jIiwgIl9iIiwgIl9kIiwgIl9jIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9pIiwgIl9oIiwgIl9rIiwgIl9qIiwgIl9tIiwgIl9sIiwgIl9vIiwgIl9uIiwgImN0eCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3R4IiwgImNyZWF0ZV9pZl9ibG9ja18yIiwgImNyZWF0ZV9pZl9ibG9ja18xIiwgImNyZWF0ZV9pZl9ibG9ja18zIiwgImNyZWF0ZV9pZl9ibG9jayIsICJfYiIsICJfYSIsICJtb2RhbEVsIiwgImVtcHR5IiwgImZpbGUiXQp9Cg==
